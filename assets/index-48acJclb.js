const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CnC7VKWG.js","assets/index-JHAnXxkx.js"])))=>i.map(i=>d[i]);
function _mergeNamespaces(tr,er){for(var rr=0;rr<er.length;rr++){const nr=er[rr];if(typeof nr!="string"&&!Array.isArray(nr)){for(const ir in nr)if(ir!=="default"&&!(ir in tr)){const or=Object.getOwnPropertyDescriptor(nr,ir);or&&Object.defineProperty(tr,ir,or.get?or:{enumerable:!0,get:()=>nr[ir]})}}}return Object.freeze(Object.defineProperty(tr,Symbol.toStringTag,{value:"Module"}))}(function(){const er=document.createElement("link").relList;if(er&&er.supports&&er.supports("modulepreload"))return;for(const ir of document.querySelectorAll('link[rel="modulepreload"]'))nr(ir);new MutationObserver(ir=>{for(const or of ir)if(or.type==="childList")for(const sr of or.addedNodes)sr.tagName==="LINK"&&sr.rel==="modulepreload"&&nr(sr)}).observe(document,{childList:!0,subtree:!0});function rr(ir){const or={};return ir.integrity&&(or.integrity=ir.integrity),ir.referrerPolicy&&(or.referrerPolicy=ir.referrerPolicy),ir.crossOrigin==="use-credentials"?or.credentials="include":ir.crossOrigin==="anonymous"?or.credentials="omit":or.credentials="same-origin",or}function nr(ir){if(ir.ep)return;ir.ep=!0;const or=rr(ir);fetch(ir.href,or)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function getDefaultExportFromCjs(tr){return tr&&tr.__esModule&&Object.prototype.hasOwnProperty.call(tr,"default")?tr.default:tr}function getAugmentedNamespace(tr){if(tr.__esModule)return tr;var er=tr.default;if(typeof er=="function"){var rr=function nr(){return this instanceof nr?Reflect.construct(er,arguments,this.constructor):er.apply(this,arguments)};rr.prototype=er.prototype}else rr={};return Object.defineProperty(rr,"__esModule",{value:!0}),Object.keys(tr).forEach(function(nr){var ir=Object.getOwnPropertyDescriptor(tr,nr);Object.defineProperty(rr,nr,ir.get?ir:{enumerable:!0,get:function(){return tr[nr]}})}),rr}var buffer$1={},base64Js={};base64Js.byteLength=byteLength$1;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$2=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$4=0,len=code.length;i$4<len;++i$4)lookup$2[i$4]=code[i$4],revLookup[code.charCodeAt(i$4)]=i$4;revLookup[45]=62;revLookup[95]=63;function getLens(tr){var er=tr.length;if(er%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var rr=tr.indexOf("=");rr===-1&&(rr=er);var nr=rr===er?0:4-rr%4;return[rr,nr]}function byteLength$1(tr){var er=getLens(tr),rr=er[0],nr=er[1];return(rr+nr)*3/4-nr}function _byteLength(tr,er,rr){return(er+rr)*3/4-rr}function toByteArray(tr){var er,rr=getLens(tr),nr=rr[0],ir=rr[1],or=new Arr(_byteLength(tr,nr,ir)),sr=0,ar=ir>0?nr-4:nr,cr;for(cr=0;cr<ar;cr+=4)er=revLookup[tr.charCodeAt(cr)]<<18|revLookup[tr.charCodeAt(cr+1)]<<12|revLookup[tr.charCodeAt(cr+2)]<<6|revLookup[tr.charCodeAt(cr+3)],or[sr++]=er>>16&255,or[sr++]=er>>8&255,or[sr++]=er&255;return ir===2&&(er=revLookup[tr.charCodeAt(cr)]<<2|revLookup[tr.charCodeAt(cr+1)]>>4,or[sr++]=er&255),ir===1&&(er=revLookup[tr.charCodeAt(cr)]<<10|revLookup[tr.charCodeAt(cr+1)]<<4|revLookup[tr.charCodeAt(cr+2)]>>2,or[sr++]=er>>8&255,or[sr++]=er&255),or}function tripletToBase64(tr){return lookup$2[tr>>18&63]+lookup$2[tr>>12&63]+lookup$2[tr>>6&63]+lookup$2[tr&63]}function encodeChunk(tr,er,rr){for(var nr,ir=[],or=er;or<rr;or+=3)nr=(tr[or]<<16&16711680)+(tr[or+1]<<8&65280)+(tr[or+2]&255),ir.push(tripletToBase64(nr));return ir.join("")}function fromByteArray(tr){for(var er,rr=tr.length,nr=rr%3,ir=[],or=16383,sr=0,ar=rr-nr;sr<ar;sr+=or)ir.push(encodeChunk(tr,sr,sr+or>ar?ar:sr+or));return nr===1?(er=tr[rr-1],ir.push(lookup$2[er>>2]+lookup$2[er<<4&63]+"==")):nr===2&&(er=(tr[rr-2]<<8)+tr[rr-1],ir.push(lookup$2[er>>10]+lookup$2[er>>4&63]+lookup$2[er<<2&63]+"=")),ir.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(tr,er,rr,nr,ir){var or,sr,ar=ir*8-nr-1,cr=(1<<ar)-1,lr=cr>>1,ur=-7,fr=rr?ir-1:0,dr=rr?-1:1,gr=tr[er+fr];for(fr+=dr,or=gr&(1<<-ur)-1,gr>>=-ur,ur+=ar;ur>0;or=or*256+tr[er+fr],fr+=dr,ur-=8);for(sr=or&(1<<-ur)-1,or>>=-ur,ur+=nr;ur>0;sr=sr*256+tr[er+fr],fr+=dr,ur-=8);if(or===0)or=1-lr;else{if(or===cr)return sr?NaN:(gr?-1:1)*(1/0);sr=sr+Math.pow(2,nr),or=or-lr}return(gr?-1:1)*sr*Math.pow(2,or-nr)};ieee754.write=function(tr,er,rr,nr,ir,or){var sr,ar,cr,lr=or*8-ir-1,ur=(1<<lr)-1,fr=ur>>1,dr=ir===23?Math.pow(2,-24)-Math.pow(2,-77):0,gr=nr?0:or-1,br=nr?1:-1,vr=er<0||er===0&&1/er<0?1:0;for(er=Math.abs(er),isNaN(er)||er===1/0?(ar=isNaN(er)?1:0,sr=ur):(sr=Math.floor(Math.log(er)/Math.LN2),er*(cr=Math.pow(2,-sr))<1&&(sr--,cr*=2),sr+fr>=1?er+=dr/cr:er+=dr*Math.pow(2,1-fr),er*cr>=2&&(sr++,cr/=2),sr+fr>=ur?(ar=0,sr=ur):sr+fr>=1?(ar=(er*cr-1)*Math.pow(2,ir),sr=sr+fr):(ar=er*Math.pow(2,fr-1)*Math.pow(2,ir),sr=0));ir>=8;tr[rr+gr]=ar&255,gr+=br,ar/=256,ir-=8);for(sr=sr<<ir|ar,lr+=ir;lr>0;tr[rr+gr]=sr&255,gr+=br,sr/=256,lr-=8);tr[rr+gr-br]|=vr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(tr){const er=base64Js,rr=ieee754,nr=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;tr.Buffer=ar,tr.SlowBuffer=_r,tr.INSPECT_MAX_BYTES=50;const ir=2147483647;tr.kMaxLength=ir,ar.TYPED_ARRAY_SUPPORT=or(),!ar.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function or(){try{const Xr=new Uint8Array(1),Hr={foo:function(){return 42}};return Object.setPrototypeOf(Hr,Uint8Array.prototype),Object.setPrototypeOf(Xr,Hr),Xr.foo()===42}catch{return!1}}Object.defineProperty(ar.prototype,"parent",{enumerable:!0,get:function(){if(ar.isBuffer(this))return this.buffer}}),Object.defineProperty(ar.prototype,"offset",{enumerable:!0,get:function(){if(ar.isBuffer(this))return this.byteOffset}});function sr(Xr){if(Xr>ir)throw new RangeError('The value "'+Xr+'" is invalid for option "size"');const Hr=new Uint8Array(Xr);return Object.setPrototypeOf(Hr,ar.prototype),Hr}function ar(Xr,Hr,Kr){if(typeof Xr=="number"){if(typeof Hr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return fr(Xr)}return cr(Xr,Hr,Kr)}ar.poolSize=8192;function cr(Xr,Hr,Kr){if(typeof Xr=="string")return dr(Xr,Hr);if(ArrayBuffer.isView(Xr))return br(Xr);if(Xr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Xr);if(Fn(Xr,ArrayBuffer)||Xr&&Fn(Xr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fn(Xr,SharedArrayBuffer)||Xr&&Fn(Xr.buffer,SharedArrayBuffer)))return vr(Xr,Hr,Kr);if(typeof Xr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const fn=Xr.valueOf&&Xr.valueOf();if(fn!=null&&fn!==Xr)return ar.from(fn,Hr,Kr);const vn=$r(Xr);if(vn)return vn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Xr[Symbol.toPrimitive]=="function")return ar.from(Xr[Symbol.toPrimitive]("string"),Hr,Kr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Xr)}ar.from=function(Xr,Hr,Kr){return cr(Xr,Hr,Kr)},Object.setPrototypeOf(ar.prototype,Uint8Array.prototype),Object.setPrototypeOf(ar,Uint8Array);function lr(Xr){if(typeof Xr!="number")throw new TypeError('"size" argument must be of type number');if(Xr<0)throw new RangeError('The value "'+Xr+'" is invalid for option "size"')}function ur(Xr,Hr,Kr){return lr(Xr),Xr<=0?sr(Xr):Hr!==void 0?typeof Kr=="string"?sr(Xr).fill(Hr,Kr):sr(Xr).fill(Hr):sr(Xr)}ar.alloc=function(Xr,Hr,Kr){return ur(Xr,Hr,Kr)};function fr(Xr){return lr(Xr),sr(Xr<0?0:Er(Xr)|0)}ar.allocUnsafe=function(Xr){return fr(Xr)},ar.allocUnsafeSlow=function(Xr){return fr(Xr)};function dr(Xr,Hr){if((typeof Hr!="string"||Hr==="")&&(Hr="utf8"),!ar.isEncoding(Hr))throw new TypeError("Unknown encoding: "+Hr);const Kr=xr(Xr,Hr)|0;let fn=sr(Kr);const vn=fn.write(Xr,Hr);return vn!==Kr&&(fn=fn.slice(0,vn)),fn}function gr(Xr){const Hr=Xr.length<0?0:Er(Xr.length)|0,Kr=sr(Hr);for(let fn=0;fn<Hr;fn+=1)Kr[fn]=Xr[fn]&255;return Kr}function br(Xr){if(Fn(Xr,Uint8Array)){const Hr=new Uint8Array(Xr);return vr(Hr.buffer,Hr.byteOffset,Hr.byteLength)}return gr(Xr)}function vr(Xr,Hr,Kr){if(Hr<0||Xr.byteLength<Hr)throw new RangeError('"offset" is outside of buffer bounds');if(Xr.byteLength<Hr+(Kr||0))throw new RangeError('"length" is outside of buffer bounds');let fn;return Hr===void 0&&Kr===void 0?fn=new Uint8Array(Xr):Kr===void 0?fn=new Uint8Array(Xr,Hr):fn=new Uint8Array(Xr,Hr,Kr),Object.setPrototypeOf(fn,ar.prototype),fn}function $r(Xr){if(ar.isBuffer(Xr)){const Hr=Er(Xr.length)|0,Kr=sr(Hr);return Kr.length===0||Xr.copy(Kr,0,0,Hr),Kr}if(Xr.length!==void 0)return typeof Xr.length!="number"||so(Xr.length)?sr(0):gr(Xr);if(Xr.type==="Buffer"&&Array.isArray(Xr.data))return gr(Xr.data)}function Er(Xr){if(Xr>=ir)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ir.toString(16)+" bytes");return Xr|0}function _r(Xr){return+Xr!=Xr&&(Xr=0),ar.alloc(+Xr)}ar.isBuffer=function(Hr){return Hr!=null&&Hr._isBuffer===!0&&Hr!==ar.prototype},ar.compare=function(Hr,Kr){if(Fn(Hr,Uint8Array)&&(Hr=ar.from(Hr,Hr.offset,Hr.byteLength)),Fn(Kr,Uint8Array)&&(Kr=ar.from(Kr,Kr.offset,Kr.byteLength)),!ar.isBuffer(Hr)||!ar.isBuffer(Kr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Hr===Kr)return 0;let fn=Hr.length,vn=Kr.length;for(let $n=0,Tn=Math.min(fn,vn);$n<Tn;++$n)if(Hr[$n]!==Kr[$n]){fn=Hr[$n],vn=Kr[$n];break}return fn<vn?-1:vn<fn?1:0},ar.isEncoding=function(Hr){switch(String(Hr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ar.concat=function(Hr,Kr){if(!Array.isArray(Hr))throw new TypeError('"list" argument must be an Array of Buffers');if(Hr.length===0)return ar.alloc(0);let fn;if(Kr===void 0)for(Kr=0,fn=0;fn<Hr.length;++fn)Kr+=Hr[fn].length;const vn=ar.allocUnsafe(Kr);let $n=0;for(fn=0;fn<Hr.length;++fn){let Tn=Hr[fn];if(Fn(Tn,Uint8Array))$n+Tn.length>vn.length?(ar.isBuffer(Tn)||(Tn=ar.from(Tn)),Tn.copy(vn,$n)):Uint8Array.prototype.set.call(vn,Tn,$n);else if(ar.isBuffer(Tn))Tn.copy(vn,$n);else throw new TypeError('"list" argument must be an Array of Buffers');$n+=Tn.length}return vn};function xr(Xr,Hr){if(ar.isBuffer(Xr))return Xr.length;if(ArrayBuffer.isView(Xr)||Fn(Xr,ArrayBuffer))return Xr.byteLength;if(typeof Xr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Xr);const Kr=Xr.length,fn=arguments.length>2&&arguments[2]===!0;if(!fn&&Kr===0)return 0;let vn=!1;for(;;)switch(Hr){case"ascii":case"latin1":case"binary":return Kr;case"utf8":case"utf-8":return Rn(Xr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kr*2;case"hex":return Kr>>>1;case"base64":return Wn(Xr).length;default:if(vn)return fn?-1:Rn(Xr).length;Hr=(""+Hr).toLowerCase(),vn=!0}}ar.byteLength=xr;function Ir(Xr,Hr,Kr){let fn=!1;if((Hr===void 0||Hr<0)&&(Hr=0),Hr>this.length||((Kr===void 0||Kr>this.length)&&(Kr=this.length),Kr<=0)||(Kr>>>=0,Hr>>>=0,Kr<=Hr))return"";for(Xr||(Xr="utf8");;)switch(Xr){case"hex":return Pr(this,Hr,Kr);case"utf8":case"utf-8":return hr(this,Hr,Kr);case"ascii":return Ar(this,Hr,Kr);case"latin1":case"binary":return Rr(this,Hr,Kr);case"base64":return mr(this,Hr,Kr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sr(this,Hr,Kr);default:if(fn)throw new TypeError("Unknown encoding: "+Xr);Xr=(Xr+"").toLowerCase(),fn=!0}}ar.prototype._isBuffer=!0;function Nr(Xr,Hr,Kr){const fn=Xr[Hr];Xr[Hr]=Xr[Kr],Xr[Kr]=fn}ar.prototype.swap16=function(){const Hr=this.length;if(Hr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Kr=0;Kr<Hr;Kr+=2)Nr(this,Kr,Kr+1);return this},ar.prototype.swap32=function(){const Hr=this.length;if(Hr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Kr=0;Kr<Hr;Kr+=4)Nr(this,Kr,Kr+3),Nr(this,Kr+1,Kr+2);return this},ar.prototype.swap64=function(){const Hr=this.length;if(Hr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Kr=0;Kr<Hr;Kr+=8)Nr(this,Kr,Kr+7),Nr(this,Kr+1,Kr+6),Nr(this,Kr+2,Kr+5),Nr(this,Kr+3,Kr+4);return this},ar.prototype.toString=function(){const Hr=this.length;return Hr===0?"":arguments.length===0?hr(this,0,Hr):Ir.apply(this,arguments)},ar.prototype.toLocaleString=ar.prototype.toString,ar.prototype.equals=function(Hr){if(!ar.isBuffer(Hr))throw new TypeError("Argument must be a Buffer");return this===Hr?!0:ar.compare(this,Hr)===0},ar.prototype.inspect=function(){let Hr="";const Kr=tr.INSPECT_MAX_BYTES;return Hr=this.toString("hex",0,Kr).replace(/(.{2})/g,"$1 ").trim(),this.length>Kr&&(Hr+=" ... "),"<Buffer "+Hr+">"},nr&&(ar.prototype[nr]=ar.prototype.inspect),ar.prototype.compare=function(Hr,Kr,fn,vn,$n){if(Fn(Hr,Uint8Array)&&(Hr=ar.from(Hr,Hr.offset,Hr.byteLength)),!ar.isBuffer(Hr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Hr);if(Kr===void 0&&(Kr=0),fn===void 0&&(fn=Hr?Hr.length:0),vn===void 0&&(vn=0),$n===void 0&&($n=this.length),Kr<0||fn>Hr.length||vn<0||$n>this.length)throw new RangeError("out of range index");if(vn>=$n&&Kr>=fn)return 0;if(vn>=$n)return-1;if(Kr>=fn)return 1;if(Kr>>>=0,fn>>>=0,vn>>>=0,$n>>>=0,this===Hr)return 0;let Tn=$n-vn,Jn=fn-Kr;const io=Math.min(Tn,Jn),Yn=this.slice(vn,$n),lo=Hr.slice(Kr,fn);for(let ro=0;ro<io;++ro)if(Yn[ro]!==lo[ro]){Tn=Yn[ro],Jn=lo[ro];break}return Tn<Jn?-1:Jn<Tn?1:0};function Lr(Xr,Hr,Kr,fn,vn){if(Xr.length===0)return-1;if(typeof Kr=="string"?(fn=Kr,Kr=0):Kr>2147483647?Kr=2147483647:Kr<-2147483648&&(Kr=-2147483648),Kr=+Kr,so(Kr)&&(Kr=vn?0:Xr.length-1),Kr<0&&(Kr=Xr.length+Kr),Kr>=Xr.length){if(vn)return-1;Kr=Xr.length-1}else if(Kr<0)if(vn)Kr=0;else return-1;if(typeof Hr=="string"&&(Hr=ar.from(Hr,fn)),ar.isBuffer(Hr))return Hr.length===0?-1:jr(Xr,Hr,Kr,fn,vn);if(typeof Hr=="number")return Hr=Hr&255,typeof Uint8Array.prototype.indexOf=="function"?vn?Uint8Array.prototype.indexOf.call(Xr,Hr,Kr):Uint8Array.prototype.lastIndexOf.call(Xr,Hr,Kr):jr(Xr,[Hr],Kr,fn,vn);throw new TypeError("val must be string, number or Buffer")}function jr(Xr,Hr,Kr,fn,vn){let $n=1,Tn=Xr.length,Jn=Hr.length;if(fn!==void 0&&(fn=String(fn).toLowerCase(),fn==="ucs2"||fn==="ucs-2"||fn==="utf16le"||fn==="utf-16le")){if(Xr.length<2||Hr.length<2)return-1;$n=2,Tn/=2,Jn/=2,Kr/=2}function io(lo,ro){return $n===1?lo[ro]:lo.readUInt16BE(ro*$n)}let Yn;if(vn){let lo=-1;for(Yn=Kr;Yn<Tn;Yn++)if(io(Xr,Yn)===io(Hr,lo===-1?0:Yn-lo)){if(lo===-1&&(lo=Yn),Yn-lo+1===Jn)return lo*$n}else lo!==-1&&(Yn-=Yn-lo),lo=-1}else for(Kr+Jn>Tn&&(Kr=Tn-Jn),Yn=Kr;Yn>=0;Yn--){let lo=!0;for(let ro=0;ro<Jn;ro++)if(io(Xr,Yn+ro)!==io(Hr,ro)){lo=!1;break}if(lo)return Yn}return-1}ar.prototype.includes=function(Hr,Kr,fn){return this.indexOf(Hr,Kr,fn)!==-1},ar.prototype.indexOf=function(Hr,Kr,fn){return Lr(this,Hr,Kr,fn,!0)},ar.prototype.lastIndexOf=function(Hr,Kr,fn){return Lr(this,Hr,Kr,fn,!1)};function Or(Xr,Hr,Kr,fn){Kr=Number(Kr)||0;const vn=Xr.length-Kr;fn?(fn=Number(fn),fn>vn&&(fn=vn)):fn=vn;const $n=Hr.length;fn>$n/2&&(fn=$n/2);let Tn;for(Tn=0;Tn<fn;++Tn){const Jn=parseInt(Hr.substr(Tn*2,2),16);if(so(Jn))return Tn;Xr[Kr+Tn]=Jn}return Tn}function Dr(Xr,Hr,Kr,fn){return zn(Rn(Hr,Xr.length-Kr),Xr,Kr,fn)}function Cr(Xr,Hr,Kr,fn){return zn(On(Hr),Xr,Kr,fn)}function Tr(Xr,Hr,Kr,fn){return zn(Wn(Hr),Xr,Kr,fn)}function yr(Xr,Hr,Kr,fn){return zn(xn(Hr,Xr.length-Kr),Xr,Kr,fn)}ar.prototype.write=function(Hr,Kr,fn,vn){if(Kr===void 0)vn="utf8",fn=this.length,Kr=0;else if(fn===void 0&&typeof Kr=="string")vn=Kr,fn=this.length,Kr=0;else if(isFinite(Kr))Kr=Kr>>>0,isFinite(fn)?(fn=fn>>>0,vn===void 0&&(vn="utf8")):(vn=fn,fn=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $n=this.length-Kr;if((fn===void 0||fn>$n)&&(fn=$n),Hr.length>0&&(fn<0||Kr<0)||Kr>this.length)throw new RangeError("Attempt to write outside buffer bounds");vn||(vn="utf8");let Tn=!1;for(;;)switch(vn){case"hex":return Or(this,Hr,Kr,fn);case"utf8":case"utf-8":return Dr(this,Hr,Kr,fn);case"ascii":case"latin1":case"binary":return Cr(this,Hr,Kr,fn);case"base64":return Tr(this,Hr,Kr,fn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yr(this,Hr,Kr,fn);default:if(Tn)throw new TypeError("Unknown encoding: "+vn);vn=(""+vn).toLowerCase(),Tn=!0}},ar.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mr(Xr,Hr,Kr){return Hr===0&&Kr===Xr.length?er.fromByteArray(Xr):er.fromByteArray(Xr.slice(Hr,Kr))}function hr(Xr,Hr,Kr){Kr=Math.min(Xr.length,Kr);const fn=[];let vn=Hr;for(;vn<Kr;){const $n=Xr[vn];let Tn=null,Jn=$n>239?4:$n>223?3:$n>191?2:1;if(vn+Jn<=Kr){let io,Yn,lo,ro;switch(Jn){case 1:$n<128&&(Tn=$n);break;case 2:io=Xr[vn+1],(io&192)===128&&(ro=($n&31)<<6|io&63,ro>127&&(Tn=ro));break;case 3:io=Xr[vn+1],Yn=Xr[vn+2],(io&192)===128&&(Yn&192)===128&&(ro=($n&15)<<12|(io&63)<<6|Yn&63,ro>2047&&(ro<55296||ro>57343)&&(Tn=ro));break;case 4:io=Xr[vn+1],Yn=Xr[vn+2],lo=Xr[vn+3],(io&192)===128&&(Yn&192)===128&&(lo&192)===128&&(ro=($n&15)<<18|(io&63)<<12|(Yn&63)<<6|lo&63,ro>65535&&ro<1114112&&(Tn=ro))}}Tn===null?(Tn=65533,Jn=1):Tn>65535&&(Tn-=65536,fn.push(Tn>>>10&1023|55296),Tn=56320|Tn&1023),fn.push(Tn),vn+=Jn}return wr(fn)}const pr=4096;function wr(Xr){const Hr=Xr.length;if(Hr<=pr)return String.fromCharCode.apply(String,Xr);let Kr="",fn=0;for(;fn<Hr;)Kr+=String.fromCharCode.apply(String,Xr.slice(fn,fn+=pr));return Kr}function Ar(Xr,Hr,Kr){let fn="";Kr=Math.min(Xr.length,Kr);for(let vn=Hr;vn<Kr;++vn)fn+=String.fromCharCode(Xr[vn]&127);return fn}function Rr(Xr,Hr,Kr){let fn="";Kr=Math.min(Xr.length,Kr);for(let vn=Hr;vn<Kr;++vn)fn+=String.fromCharCode(Xr[vn]);return fn}function Pr(Xr,Hr,Kr){const fn=Xr.length;(!Hr||Hr<0)&&(Hr=0),(!Kr||Kr<0||Kr>fn)&&(Kr=fn);let vn="";for(let $n=Hr;$n<Kr;++$n)vn+=wn[Xr[$n]];return vn}function Sr(Xr,Hr,Kr){const fn=Xr.slice(Hr,Kr);let vn="";for(let $n=0;$n<fn.length-1;$n+=2)vn+=String.fromCharCode(fn[$n]+fn[$n+1]*256);return vn}ar.prototype.slice=function(Hr,Kr){const fn=this.length;Hr=~~Hr,Kr=Kr===void 0?fn:~~Kr,Hr<0?(Hr+=fn,Hr<0&&(Hr=0)):Hr>fn&&(Hr=fn),Kr<0?(Kr+=fn,Kr<0&&(Kr=0)):Kr>fn&&(Kr=fn),Kr<Hr&&(Kr=Hr);const vn=this.subarray(Hr,Kr);return Object.setPrototypeOf(vn,ar.prototype),vn};function Mr(Xr,Hr,Kr){if(Xr%1!==0||Xr<0)throw new RangeError("offset is not uint");if(Xr+Hr>Kr)throw new RangeError("Trying to access beyond buffer length")}ar.prototype.readUintLE=ar.prototype.readUIntLE=function(Hr,Kr,fn){Hr=Hr>>>0,Kr=Kr>>>0,fn||Mr(Hr,Kr,this.length);let vn=this[Hr],$n=1,Tn=0;for(;++Tn<Kr&&($n*=256);)vn+=this[Hr+Tn]*$n;return vn},ar.prototype.readUintBE=ar.prototype.readUIntBE=function(Hr,Kr,fn){Hr=Hr>>>0,Kr=Kr>>>0,fn||Mr(Hr,Kr,this.length);let vn=this[Hr+--Kr],$n=1;for(;Kr>0&&($n*=256);)vn+=this[Hr+--Kr]*$n;return vn},ar.prototype.readUint8=ar.prototype.readUInt8=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,1,this.length),this[Hr]},ar.prototype.readUint16LE=ar.prototype.readUInt16LE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,2,this.length),this[Hr]|this[Hr+1]<<8},ar.prototype.readUint16BE=ar.prototype.readUInt16BE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,2,this.length),this[Hr]<<8|this[Hr+1]},ar.prototype.readUint32LE=ar.prototype.readUInt32LE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,4,this.length),(this[Hr]|this[Hr+1]<<8|this[Hr+2]<<16)+this[Hr+3]*16777216},ar.prototype.readUint32BE=ar.prototype.readUInt32BE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,4,this.length),this[Hr]*16777216+(this[Hr+1]<<16|this[Hr+2]<<8|this[Hr+3])},ar.prototype.readBigUInt64LE=Sn(function(Hr){Hr=Hr>>>0,Qr(Hr,"offset");const Kr=this[Hr],fn=this[Hr+7];(Kr===void 0||fn===void 0)&&un(Hr,this.length-8);const vn=Kr+this[++Hr]*2**8+this[++Hr]*2**16+this[++Hr]*2**24,$n=this[++Hr]+this[++Hr]*2**8+this[++Hr]*2**16+fn*2**24;return BigInt(vn)+(BigInt($n)<<BigInt(32))}),ar.prototype.readBigUInt64BE=Sn(function(Hr){Hr=Hr>>>0,Qr(Hr,"offset");const Kr=this[Hr],fn=this[Hr+7];(Kr===void 0||fn===void 0)&&un(Hr,this.length-8);const vn=Kr*2**24+this[++Hr]*2**16+this[++Hr]*2**8+this[++Hr],$n=this[++Hr]*2**24+this[++Hr]*2**16+this[++Hr]*2**8+fn;return(BigInt(vn)<<BigInt(32))+BigInt($n)}),ar.prototype.readIntLE=function(Hr,Kr,fn){Hr=Hr>>>0,Kr=Kr>>>0,fn||Mr(Hr,Kr,this.length);let vn=this[Hr],$n=1,Tn=0;for(;++Tn<Kr&&($n*=256);)vn+=this[Hr+Tn]*$n;return $n*=128,vn>=$n&&(vn-=Math.pow(2,8*Kr)),vn},ar.prototype.readIntBE=function(Hr,Kr,fn){Hr=Hr>>>0,Kr=Kr>>>0,fn||Mr(Hr,Kr,this.length);let vn=Kr,$n=1,Tn=this[Hr+--vn];for(;vn>0&&($n*=256);)Tn+=this[Hr+--vn]*$n;return $n*=128,Tn>=$n&&(Tn-=Math.pow(2,8*Kr)),Tn},ar.prototype.readInt8=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,1,this.length),this[Hr]&128?(255-this[Hr]+1)*-1:this[Hr]},ar.prototype.readInt16LE=function(Hr,Kr){Hr=Hr>>>0,Kr||Mr(Hr,2,this.length);const fn=this[Hr]|this[Hr+1]<<8;return fn&32768?fn|4294901760:fn},ar.prototype.readInt16BE=function(Hr,Kr){Hr=Hr>>>0,Kr||Mr(Hr,2,this.length);const fn=this[Hr+1]|this[Hr]<<8;return fn&32768?fn|4294901760:fn},ar.prototype.readInt32LE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,4,this.length),this[Hr]|this[Hr+1]<<8|this[Hr+2]<<16|this[Hr+3]<<24},ar.prototype.readInt32BE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,4,this.length),this[Hr]<<24|this[Hr+1]<<16|this[Hr+2]<<8|this[Hr+3]},ar.prototype.readBigInt64LE=Sn(function(Hr){Hr=Hr>>>0,Qr(Hr,"offset");const Kr=this[Hr],fn=this[Hr+7];(Kr===void 0||fn===void 0)&&un(Hr,this.length-8);const vn=this[Hr+4]+this[Hr+5]*2**8+this[Hr+6]*2**16+(fn<<24);return(BigInt(vn)<<BigInt(32))+BigInt(Kr+this[++Hr]*2**8+this[++Hr]*2**16+this[++Hr]*2**24)}),ar.prototype.readBigInt64BE=Sn(function(Hr){Hr=Hr>>>0,Qr(Hr,"offset");const Kr=this[Hr],fn=this[Hr+7];(Kr===void 0||fn===void 0)&&un(Hr,this.length-8);const vn=(Kr<<24)+this[++Hr]*2**16+this[++Hr]*2**8+this[++Hr];return(BigInt(vn)<<BigInt(32))+BigInt(this[++Hr]*2**24+this[++Hr]*2**16+this[++Hr]*2**8+fn)}),ar.prototype.readFloatLE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,4,this.length),rr.read(this,Hr,!0,23,4)},ar.prototype.readFloatBE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,4,this.length),rr.read(this,Hr,!1,23,4)},ar.prototype.readDoubleLE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,8,this.length),rr.read(this,Hr,!0,52,8)},ar.prototype.readDoubleBE=function(Hr,Kr){return Hr=Hr>>>0,Kr||Mr(Hr,8,this.length),rr.read(this,Hr,!1,52,8)};function Br(Xr,Hr,Kr,fn,vn,$n){if(!ar.isBuffer(Xr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Hr>vn||Hr<$n)throw new RangeError('"value" argument is out of bounds');if(Kr+fn>Xr.length)throw new RangeError("Index out of range")}ar.prototype.writeUintLE=ar.prototype.writeUIntLE=function(Hr,Kr,fn,vn){if(Hr=+Hr,Kr=Kr>>>0,fn=fn>>>0,!vn){const Jn=Math.pow(2,8*fn)-1;Br(this,Hr,Kr,fn,Jn,0)}let $n=1,Tn=0;for(this[Kr]=Hr&255;++Tn<fn&&($n*=256);)this[Kr+Tn]=Hr/$n&255;return Kr+fn},ar.prototype.writeUintBE=ar.prototype.writeUIntBE=function(Hr,Kr,fn,vn){if(Hr=+Hr,Kr=Kr>>>0,fn=fn>>>0,!vn){const Jn=Math.pow(2,8*fn)-1;Br(this,Hr,Kr,fn,Jn,0)}let $n=fn-1,Tn=1;for(this[Kr+$n]=Hr&255;--$n>=0&&(Tn*=256);)this[Kr+$n]=Hr/Tn&255;return Kr+fn},ar.prototype.writeUint8=ar.prototype.writeUInt8=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,1,255,0),this[Kr]=Hr&255,Kr+1},ar.prototype.writeUint16LE=ar.prototype.writeUInt16LE=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,2,65535,0),this[Kr]=Hr&255,this[Kr+1]=Hr>>>8,Kr+2},ar.prototype.writeUint16BE=ar.prototype.writeUInt16BE=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,2,65535,0),this[Kr]=Hr>>>8,this[Kr+1]=Hr&255,Kr+2},ar.prototype.writeUint32LE=ar.prototype.writeUInt32LE=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,4,4294967295,0),this[Kr+3]=Hr>>>24,this[Kr+2]=Hr>>>16,this[Kr+1]=Hr>>>8,this[Kr]=Hr&255,Kr+4},ar.prototype.writeUint32BE=ar.prototype.writeUInt32BE=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,4,4294967295,0),this[Kr]=Hr>>>24,this[Kr+1]=Hr>>>16,this[Kr+2]=Hr>>>8,this[Kr+3]=Hr&255,Kr+4};function Ur(Xr,Hr,Kr,fn,vn){Vr(Hr,fn,vn,Xr,Kr,7);let $n=Number(Hr&BigInt(4294967295));Xr[Kr++]=$n,$n=$n>>8,Xr[Kr++]=$n,$n=$n>>8,Xr[Kr++]=$n,$n=$n>>8,Xr[Kr++]=$n;let Tn=Number(Hr>>BigInt(32)&BigInt(4294967295));return Xr[Kr++]=Tn,Tn=Tn>>8,Xr[Kr++]=Tn,Tn=Tn>>8,Xr[Kr++]=Tn,Tn=Tn>>8,Xr[Kr++]=Tn,Kr}function Jr(Xr,Hr,Kr,fn,vn){Vr(Hr,fn,vn,Xr,Kr,7);let $n=Number(Hr&BigInt(4294967295));Xr[Kr+7]=$n,$n=$n>>8,Xr[Kr+6]=$n,$n=$n>>8,Xr[Kr+5]=$n,$n=$n>>8,Xr[Kr+4]=$n;let Tn=Number(Hr>>BigInt(32)&BigInt(4294967295));return Xr[Kr+3]=Tn,Tn=Tn>>8,Xr[Kr+2]=Tn,Tn=Tn>>8,Xr[Kr+1]=Tn,Tn=Tn>>8,Xr[Kr]=Tn,Kr+8}ar.prototype.writeBigUInt64LE=Sn(function(Hr,Kr=0){return Ur(this,Hr,Kr,BigInt(0),BigInt("0xffffffffffffffff"))}),ar.prototype.writeBigUInt64BE=Sn(function(Hr,Kr=0){return Jr(this,Hr,Kr,BigInt(0),BigInt("0xffffffffffffffff"))}),ar.prototype.writeIntLE=function(Hr,Kr,fn,vn){if(Hr=+Hr,Kr=Kr>>>0,!vn){const io=Math.pow(2,8*fn-1);Br(this,Hr,Kr,fn,io-1,-io)}let $n=0,Tn=1,Jn=0;for(this[Kr]=Hr&255;++$n<fn&&(Tn*=256);)Hr<0&&Jn===0&&this[Kr+$n-1]!==0&&(Jn=1),this[Kr+$n]=(Hr/Tn>>0)-Jn&255;return Kr+fn},ar.prototype.writeIntBE=function(Hr,Kr,fn,vn){if(Hr=+Hr,Kr=Kr>>>0,!vn){const io=Math.pow(2,8*fn-1);Br(this,Hr,Kr,fn,io-1,-io)}let $n=fn-1,Tn=1,Jn=0;for(this[Kr+$n]=Hr&255;--$n>=0&&(Tn*=256);)Hr<0&&Jn===0&&this[Kr+$n+1]!==0&&(Jn=1),this[Kr+$n]=(Hr/Tn>>0)-Jn&255;return Kr+fn},ar.prototype.writeInt8=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,1,127,-128),Hr<0&&(Hr=255+Hr+1),this[Kr]=Hr&255,Kr+1},ar.prototype.writeInt16LE=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,2,32767,-32768),this[Kr]=Hr&255,this[Kr+1]=Hr>>>8,Kr+2},ar.prototype.writeInt16BE=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,2,32767,-32768),this[Kr]=Hr>>>8,this[Kr+1]=Hr&255,Kr+2},ar.prototype.writeInt32LE=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,4,2147483647,-2147483648),this[Kr]=Hr&255,this[Kr+1]=Hr>>>8,this[Kr+2]=Hr>>>16,this[Kr+3]=Hr>>>24,Kr+4},ar.prototype.writeInt32BE=function(Hr,Kr,fn){return Hr=+Hr,Kr=Kr>>>0,fn||Br(this,Hr,Kr,4,2147483647,-2147483648),Hr<0&&(Hr=4294967295+Hr+1),this[Kr]=Hr>>>24,this[Kr+1]=Hr>>>16,this[Kr+2]=Hr>>>8,this[Kr+3]=Hr&255,Kr+4},ar.prototype.writeBigInt64LE=Sn(function(Hr,Kr=0){return Ur(this,Hr,Kr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),ar.prototype.writeBigInt64BE=Sn(function(Hr,Kr=0){return Jr(this,Hr,Kr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qr(Xr,Hr,Kr,fn,vn,$n){if(Kr+fn>Xr.length)throw new RangeError("Index out of range");if(Kr<0)throw new RangeError("Index out of range")}function zr(Xr,Hr,Kr,fn,vn){return Hr=+Hr,Kr=Kr>>>0,vn||qr(Xr,Hr,Kr,4),rr.write(Xr,Hr,Kr,fn,23,4),Kr+4}ar.prototype.writeFloatLE=function(Hr,Kr,fn){return zr(this,Hr,Kr,!0,fn)},ar.prototype.writeFloatBE=function(Hr,Kr,fn){return zr(this,Hr,Kr,!1,fn)};function sn(Xr,Hr,Kr,fn,vn){return Hr=+Hr,Kr=Kr>>>0,vn||qr(Xr,Hr,Kr,8),rr.write(Xr,Hr,Kr,fn,52,8),Kr+8}ar.prototype.writeDoubleLE=function(Hr,Kr,fn){return sn(this,Hr,Kr,!0,fn)},ar.prototype.writeDoubleBE=function(Hr,Kr,fn){return sn(this,Hr,Kr,!1,fn)},ar.prototype.copy=function(Hr,Kr,fn,vn){if(!ar.isBuffer(Hr))throw new TypeError("argument should be a Buffer");if(fn||(fn=0),!vn&&vn!==0&&(vn=this.length),Kr>=Hr.length&&(Kr=Hr.length),Kr||(Kr=0),vn>0&&vn<fn&&(vn=fn),vn===fn||Hr.length===0||this.length===0)return 0;if(Kr<0)throw new RangeError("targetStart out of bounds");if(fn<0||fn>=this.length)throw new RangeError("Index out of range");if(vn<0)throw new RangeError("sourceEnd out of bounds");vn>this.length&&(vn=this.length),Hr.length-Kr<vn-fn&&(vn=Hr.length-Kr+fn);const $n=vn-fn;return this===Hr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Kr,fn,vn):Uint8Array.prototype.set.call(Hr,this.subarray(fn,vn),Kr),$n},ar.prototype.fill=function(Hr,Kr,fn,vn){if(typeof Hr=="string"){if(typeof Kr=="string"?(vn=Kr,Kr=0,fn=this.length):typeof fn=="string"&&(vn=fn,fn=this.length),vn!==void 0&&typeof vn!="string")throw new TypeError("encoding must be a string");if(typeof vn=="string"&&!ar.isEncoding(vn))throw new TypeError("Unknown encoding: "+vn);if(Hr.length===1){const Tn=Hr.charCodeAt(0);(vn==="utf8"&&Tn<128||vn==="latin1")&&(Hr=Tn)}}else typeof Hr=="number"?Hr=Hr&255:typeof Hr=="boolean"&&(Hr=Number(Hr));if(Kr<0||this.length<Kr||this.length<fn)throw new RangeError("Out of range index");if(fn<=Kr)return this;Kr=Kr>>>0,fn=fn===void 0?this.length:fn>>>0,Hr||(Hr=0);let $n;if(typeof Hr=="number")for($n=Kr;$n<fn;++$n)this[$n]=Hr;else{const Tn=ar.isBuffer(Hr)?Hr:ar.from(Hr,vn),Jn=Tn.length;if(Jn===0)throw new TypeError('The value "'+Hr+'" is invalid for argument "value"');for($n=0;$n<fn-Kr;++$n)this[$n+Kr]=Tn[$n%Jn]}return this};const rn={};function tn(Xr,Hr,Kr){rn[Xr]=class extends Kr{constructor(){super(),Object.defineProperty(this,"message",{value:Hr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Xr}]`,this.stack,delete this.name}get code(){return Xr}set code(vn){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:vn,writable:!0})}toString(){return`${this.name} [${Xr}]: ${this.message}`}}}tn("ERR_BUFFER_OUT_OF_BOUNDS",function(Xr){return Xr?`${Xr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tn("ERR_INVALID_ARG_TYPE",function(Xr,Hr){return`The "${Xr}" argument must be of type number. Received type ${typeof Hr}`},TypeError),tn("ERR_OUT_OF_RANGE",function(Xr,Hr,Kr){let fn=`The value of "${Xr}" is out of range.`,vn=Kr;return Number.isInteger(Kr)&&Math.abs(Kr)>2**32?vn=dn(String(Kr)):typeof Kr=="bigint"&&(vn=String(Kr),(Kr>BigInt(2)**BigInt(32)||Kr<-(BigInt(2)**BigInt(32)))&&(vn=dn(vn)),vn+="n"),fn+=` It must be ${Hr}. Received ${vn}`,fn},RangeError);function dn(Xr){let Hr="",Kr=Xr.length;const fn=Xr[0]==="-"?1:0;for(;Kr>=fn+4;Kr-=3)Hr=`_${Xr.slice(Kr-3,Kr)}${Hr}`;return`${Xr.slice(0,Kr)}${Hr}`}function Yr(Xr,Hr,Kr){Qr(Hr,"offset"),(Xr[Hr]===void 0||Xr[Hr+Kr]===void 0)&&un(Hr,Xr.length-(Kr+1))}function Vr(Xr,Hr,Kr,fn,vn,$n){if(Xr>Kr||Xr<Hr){const Tn=typeof Hr=="bigint"?"n":"";let Jn;throw Hr===0||Hr===BigInt(0)?Jn=`>= 0${Tn} and < 2${Tn} ** ${($n+1)*8}${Tn}`:Jn=`>= -(2${Tn} ** ${($n+1)*8-1}${Tn}) and < 2 ** ${($n+1)*8-1}${Tn}`,new rn.ERR_OUT_OF_RANGE("value",Jn,Xr)}Yr(fn,vn,$n)}function Qr(Xr,Hr){if(typeof Xr!="number")throw new rn.ERR_INVALID_ARG_TYPE(Hr,"number",Xr)}function un(Xr,Hr,Kr){throw Math.floor(Xr)!==Xr?(Qr(Xr,Kr),new rn.ERR_OUT_OF_RANGE("offset","an integer",Xr)):Hr<0?new rn.ERR_BUFFER_OUT_OF_BOUNDS:new rn.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Hr}`,Xr)}const yn=/[^+/0-9A-Za-z-_]/g;function An(Xr){if(Xr=Xr.split("=")[0],Xr=Xr.trim().replace(yn,""),Xr.length<2)return"";for(;Xr.length%4!==0;)Xr=Xr+"=";return Xr}function Rn(Xr,Hr){Hr=Hr||1/0;let Kr;const fn=Xr.length;let vn=null;const $n=[];for(let Tn=0;Tn<fn;++Tn){if(Kr=Xr.charCodeAt(Tn),Kr>55295&&Kr<57344){if(!vn){if(Kr>56319){(Hr-=3)>-1&&$n.push(239,191,189);continue}else if(Tn+1===fn){(Hr-=3)>-1&&$n.push(239,191,189);continue}vn=Kr;continue}if(Kr<56320){(Hr-=3)>-1&&$n.push(239,191,189),vn=Kr;continue}Kr=(vn-55296<<10|Kr-56320)+65536}else vn&&(Hr-=3)>-1&&$n.push(239,191,189);if(vn=null,Kr<128){if((Hr-=1)<0)break;$n.push(Kr)}else if(Kr<2048){if((Hr-=2)<0)break;$n.push(Kr>>6|192,Kr&63|128)}else if(Kr<65536){if((Hr-=3)<0)break;$n.push(Kr>>12|224,Kr>>6&63|128,Kr&63|128)}else if(Kr<1114112){if((Hr-=4)<0)break;$n.push(Kr>>18|240,Kr>>12&63|128,Kr>>6&63|128,Kr&63|128)}else throw new Error("Invalid code point")}return $n}function On(Xr){const Hr=[];for(let Kr=0;Kr<Xr.length;++Kr)Hr.push(Xr.charCodeAt(Kr)&255);return Hr}function xn(Xr,Hr){let Kr,fn,vn;const $n=[];for(let Tn=0;Tn<Xr.length&&!((Hr-=2)<0);++Tn)Kr=Xr.charCodeAt(Tn),fn=Kr>>8,vn=Kr%256,$n.push(vn),$n.push(fn);return $n}function Wn(Xr){return er.toByteArray(An(Xr))}function zn(Xr,Hr,Kr,fn){let vn;for(vn=0;vn<fn&&!(vn+Kr>=Hr.length||vn>=Xr.length);++vn)Hr[vn+Kr]=Xr[vn];return vn}function Fn(Xr,Hr){return Xr instanceof Hr||Xr!=null&&Xr.constructor!=null&&Xr.constructor.name!=null&&Xr.constructor.name===Hr.name}function so(Xr){return Xr!==Xr}const wn=function(){const Xr="0123456789abcdef",Hr=new Array(256);for(let Kr=0;Kr<16;++Kr){const fn=Kr*16;for(let vn=0;vn<16;++vn)Hr[fn+vn]=Xr[Kr]+Xr[vn]}return Hr}();function Sn(Xr){return typeof BigInt>"u"?Dn:Xr}function Dn(){throw new Error("BigInt not supported")}})(buffer$1);var browser$4={exports:{}},process$5=browser$4.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(tr){if(cachedSetTimeout===setTimeout)return setTimeout(tr,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(tr,0);try{return cachedSetTimeout(tr,0)}catch{try{return cachedSetTimeout.call(null,tr,0)}catch{return cachedSetTimeout.call(this,tr,0)}}}function runClearTimeout(tr){if(cachedClearTimeout===clearTimeout)return clearTimeout(tr);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(tr);try{return cachedClearTimeout(tr)}catch{try{return cachedClearTimeout.call(null,tr)}catch{return cachedClearTimeout.call(this,tr)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var tr=runTimeout(cleanUpNextTick);draining=!0;for(var er=queue.length;er;){for(currentQueue=queue,queue=[];++queueIndex<er;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,er=queue.length}currentQueue=null,draining=!1,runClearTimeout(tr)}}process$5.nextTick=function(tr){var er=new Array(arguments.length-1);if(arguments.length>1)for(var rr=1;rr<arguments.length;rr++)er[rr-1]=arguments[rr];queue.push(new Item(tr,er)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(tr,er){this.fun=tr,this.array=er}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$5.title="browser";process$5.browser=!0;process$5.env={};process$5.argv=[];process$5.version="";process$5.versions={};function noop$a(){}process$5.on=noop$a;process$5.addListener=noop$a;process$5.once=noop$a;process$5.off=noop$a;process$5.removeListener=noop$a;process$5.removeAllListeners=noop$a;process$5.emit=noop$a;process$5.prependListener=noop$a;process$5.prependOnceListener=noop$a;process$5.listeners=function(tr){return[]};process$5.binding=function(tr){throw new Error("process.binding is not supported")};process$5.cwd=function(){return"/"};process$5.chdir=function(tr){throw new Error("process.chdir is not supported")};process$5.umask=function(){return 0};var browserExports$2=browser$4.exports;const process$6=getDefaultExportFromCjs(browserExports$2);window.Buffer=buffer$1.Buffer;window.process=process$6;var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$9=Symbol.for("react.profiler"),t$9=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$5=Symbol.for("react.memo"),y$4=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$4(tr){return tr===null||typeof tr!="object"?null:(tr=z$5&&tr[z$5]||tr["@@iterator"],typeof tr=="function"?tr:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$4={};function E$3(tr,er,rr){this.props=tr,this.context=er,this.refs=D$4,this.updater=rr||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(tr,er){if(typeof tr!="object"&&typeof tr!="function"&&tr!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,tr,er,"setState")};E$3.prototype.forceUpdate=function(tr){this.updater.enqueueForceUpdate(this,tr,"forceUpdate")};function F$3(){}F$3.prototype=E$3.prototype;function G$3(tr,er,rr){this.props=tr,this.context=er,this.refs=D$4,this.updater=rr||B$3}var H$2=G$3.prototype=new F$3;H$2.constructor=G$3;C$3(H$2,E$3.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$6={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(tr,er,rr){var nr,ir={},or=null,sr=null;if(er!=null)for(nr in er.ref!==void 0&&(sr=er.ref),er.key!==void 0&&(or=""+er.key),er)J$1.call(er,nr)&&!L$3.hasOwnProperty(nr)&&(ir[nr]=er[nr]);var ar=arguments.length-2;if(ar===1)ir.children=rr;else if(1<ar){for(var cr=Array(ar),lr=0;lr<ar;lr++)cr[lr]=arguments[lr+2];ir.children=cr}if(tr&&tr.defaultProps)for(nr in ar=tr.defaultProps,ar)ir[nr]===void 0&&(ir[nr]=ar[nr]);return{$$typeof:l$4,type:tr,key:or,ref:sr,props:ir,_owner:K$6.current}}function N$3(tr,er){return{$$typeof:l$4,type:tr.type,key:er,ref:tr.ref,props:tr.props,_owner:tr._owner}}function O$3(tr){return typeof tr=="object"&&tr!==null&&tr.$$typeof===l$4}function escape$1(tr){var er={"=":"=0",":":"=2"};return"$"+tr.replace(/[=:]/g,function(rr){return er[rr]})}var P$4=/\/+/g;function Q$2(tr,er){return typeof tr=="object"&&tr!==null&&tr.key!=null?escape$1(""+tr.key):er.toString(36)}function R$2(tr,er,rr,nr,ir){var or=typeof tr;(or==="undefined"||or==="boolean")&&(tr=null);var sr=!1;if(tr===null)sr=!0;else switch(or){case"string":case"number":sr=!0;break;case"object":switch(tr.$$typeof){case l$4:case n$5:sr=!0}}if(sr)return sr=tr,ir=ir(sr),tr=nr===""?"."+Q$2(sr,0):nr,I$2(ir)?(rr="",tr!=null&&(rr=tr.replace(P$4,"$&/")+"/"),R$2(ir,er,rr,"",function(lr){return lr})):ir!=null&&(O$3(ir)&&(ir=N$3(ir,rr+(!ir.key||sr&&sr.key===ir.key?"":(""+ir.key).replace(P$4,"$&/")+"/")+tr)),er.push(ir)),1;if(sr=0,nr=nr===""?".":nr+":",I$2(tr))for(var ar=0;ar<tr.length;ar++){or=tr[ar];var cr=nr+Q$2(or,ar);sr+=R$2(or,er,rr,cr,ir)}else if(cr=A$4(tr),typeof cr=="function")for(tr=cr.call(tr),ar=0;!(or=tr.next()).done;)or=or.value,cr=nr+Q$2(or,ar++),sr+=R$2(or,er,rr,cr,ir);else if(or==="object")throw er=String(tr),Error("Objects are not valid as a React child (found: "+(er==="[object Object]"?"object with keys {"+Object.keys(tr).join(", ")+"}":er)+"). If you meant to render a collection of children, use an array instead.");return sr}function S$2(tr,er,rr){if(tr==null)return tr;var nr=[],ir=0;return R$2(tr,nr,"","",function(or){return er.call(rr,or,ir++)}),nr}function T$4(tr){if(tr._status===-1){var er=tr._result;er=er(),er.then(function(rr){(tr._status===0||tr._status===-1)&&(tr._status=1,tr._result=rr)},function(rr){(tr._status===0||tr._status===-1)&&(tr._status=2,tr._result=rr)}),tr._status===-1&&(tr._status=0,tr._result=er)}if(tr._status===1)return tr._result.default;throw tr._result}var U$2={current:null},V$3={transition:null},W$8={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$6};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(tr,er,rr){S$2(tr,function(){er.apply(this,arguments)},rr)},count:function(tr){var er=0;return S$2(tr,function(){er++}),er},toArray:function(tr){return S$2(tr,function(er){return er})||[]},only:function(tr){if(!O$3(tr))throw Error("React.Children.only expected to receive a single React element child.");return tr}};react_production_min.Component=E$3;react_production_min.Fragment=p$5;react_production_min.Profiler=r$9;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$8;react_production_min.act=X$2;react_production_min.cloneElement=function(tr,er,rr){if(tr==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+tr+".");var nr=C$3({},tr.props),ir=tr.key,or=tr.ref,sr=tr._owner;if(er!=null){if(er.ref!==void 0&&(or=er.ref,sr=K$6.current),er.key!==void 0&&(ir=""+er.key),tr.type&&tr.type.defaultProps)var ar=tr.type.defaultProps;for(cr in er)J$1.call(er,cr)&&!L$3.hasOwnProperty(cr)&&(nr[cr]=er[cr]===void 0&&ar!==void 0?ar[cr]:er[cr])}var cr=arguments.length-2;if(cr===1)nr.children=rr;else if(1<cr){ar=Array(cr);for(var lr=0;lr<cr;lr++)ar[lr]=arguments[lr+2];nr.children=ar}return{$$typeof:l$4,type:tr.type,key:ir,ref:or,props:nr,_owner:sr}};react_production_min.createContext=function(tr){return tr={$$typeof:u$2,_currentValue:tr,_currentValue2:tr,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},tr.Provider={$$typeof:t$9,_context:tr},tr.Consumer=tr};react_production_min.createElement=M$3;react_production_min.createFactory=function(tr){var er=M$3.bind(null,tr);return er.type=tr,er};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(tr){return{$$typeof:v$4,render:tr}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(tr){return{$$typeof:y$4,_payload:{_status:-1,_result:tr},_init:T$4}};react_production_min.memo=function(tr,er){return{$$typeof:x$5,type:tr,compare:er===void 0?null:er}};react_production_min.startTransition=function(tr){var er=V$3.transition;V$3.transition={};try{tr()}finally{V$3.transition=er}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(tr,er){return U$2.current.useCallback(tr,er)};react_production_min.useContext=function(tr){return U$2.current.useContext(tr)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(tr){return U$2.current.useDeferredValue(tr)};react_production_min.useEffect=function(tr,er){return U$2.current.useEffect(tr,er)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(tr,er,rr){return U$2.current.useImperativeHandle(tr,er,rr)};react_production_min.useInsertionEffect=function(tr,er){return U$2.current.useInsertionEffect(tr,er)};react_production_min.useLayoutEffect=function(tr,er){return U$2.current.useLayoutEffect(tr,er)};react_production_min.useMemo=function(tr,er){return U$2.current.useMemo(tr,er)};react_production_min.useReducer=function(tr,er,rr){return U$2.current.useReducer(tr,er,rr)};react_production_min.useRef=function(tr){return U$2.current.useRef(tr)};react_production_min.useState=function(tr){return U$2.current.useState(tr)};react_production_min.useSyncExternalStore=function(tr,er,rr){return U$2.current.useSyncExternalStore(tr,er,rr)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$4=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$4=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$4(tr,er,rr){var nr,ir={},or=null,sr=null;rr!==void 0&&(or=""+rr),er.key!==void 0&&(or=""+er.key),er.ref!==void 0&&(sr=er.ref);for(nr in er)m$4.call(er,nr)&&!p$4.hasOwnProperty(nr)&&(ir[nr]=er[nr]);if(tr&&tr.defaultProps)for(nr in er=tr.defaultProps,er)ir[nr]===void 0&&(ir[nr]=er[nr]);return{$$typeof:k$4,type:tr,key:or,ref:sr,props:ir,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tr){function er(Rr,Pr){var Sr=Rr.length;Rr.push(Pr);e:for(;0<Sr;){var Mr=Sr-1>>>1,Br=Rr[Mr];if(0<ir(Br,Pr))Rr[Mr]=Pr,Rr[Sr]=Br,Sr=Mr;else break e}}function rr(Rr){return Rr.length===0?null:Rr[0]}function nr(Rr){if(Rr.length===0)return null;var Pr=Rr[0],Sr=Rr.pop();if(Sr!==Pr){Rr[0]=Sr;e:for(var Mr=0,Br=Rr.length,Ur=Br>>>1;Mr<Ur;){var Jr=2*(Mr+1)-1,qr=Rr[Jr],zr=Jr+1,sn=Rr[zr];if(0>ir(qr,Sr))zr<Br&&0>ir(sn,qr)?(Rr[Mr]=sn,Rr[zr]=Sr,Mr=zr):(Rr[Mr]=qr,Rr[Jr]=Sr,Mr=Jr);else if(zr<Br&&0>ir(sn,Sr))Rr[Mr]=sn,Rr[zr]=Sr,Mr=zr;else break e}}return Pr}function ir(Rr,Pr){var Sr=Rr.sortIndex-Pr.sortIndex;return Sr!==0?Sr:Rr.id-Pr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var or=performance;tr.unstable_now=function(){return or.now()}}else{var sr=Date,ar=sr.now();tr.unstable_now=function(){return sr.now()-ar}}var cr=[],lr=[],ur=1,fr=null,dr=3,gr=!1,br=!1,vr=!1,$r=typeof setTimeout=="function"?setTimeout:null,Er=typeof clearTimeout=="function"?clearTimeout:null,_r=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xr(Rr){for(var Pr=rr(lr);Pr!==null;){if(Pr.callback===null)nr(lr);else if(Pr.startTime<=Rr)nr(lr),Pr.sortIndex=Pr.expirationTime,er(cr,Pr);else break;Pr=rr(lr)}}function Ir(Rr){if(vr=!1,xr(Rr),!br)if(rr(cr)!==null)br=!0,wr(Nr);else{var Pr=rr(lr);Pr!==null&&Ar(Ir,Pr.startTime-Rr)}}function Nr(Rr,Pr){br=!1,vr&&(vr=!1,Er(Or),Or=-1),gr=!0;var Sr=dr;try{for(xr(Pr),fr=rr(cr);fr!==null&&(!(fr.expirationTime>Pr)||Rr&&!Tr());){var Mr=fr.callback;if(typeof Mr=="function"){fr.callback=null,dr=fr.priorityLevel;var Br=Mr(fr.expirationTime<=Pr);Pr=tr.unstable_now(),typeof Br=="function"?fr.callback=Br:fr===rr(cr)&&nr(cr),xr(Pr)}else nr(cr);fr=rr(cr)}if(fr!==null)var Ur=!0;else{var Jr=rr(lr);Jr!==null&&Ar(Ir,Jr.startTime-Pr),Ur=!1}return Ur}finally{fr=null,dr=Sr,gr=!1}}var Lr=!1,jr=null,Or=-1,Dr=5,Cr=-1;function Tr(){return!(tr.unstable_now()-Cr<Dr)}function yr(){if(jr!==null){var Rr=tr.unstable_now();Cr=Rr;var Pr=!0;try{Pr=jr(!0,Rr)}finally{Pr?mr():(Lr=!1,jr=null)}}else Lr=!1}var mr;if(typeof _r=="function")mr=function(){_r(yr)};else if(typeof MessageChannel<"u"){var hr=new MessageChannel,pr=hr.port2;hr.port1.onmessage=yr,mr=function(){pr.postMessage(null)}}else mr=function(){$r(yr,0)};function wr(Rr){jr=Rr,Lr||(Lr=!0,mr())}function Ar(Rr,Pr){Or=$r(function(){Rr(tr.unstable_now())},Pr)}tr.unstable_IdlePriority=5,tr.unstable_ImmediatePriority=1,tr.unstable_LowPriority=4,tr.unstable_NormalPriority=3,tr.unstable_Profiling=null,tr.unstable_UserBlockingPriority=2,tr.unstable_cancelCallback=function(Rr){Rr.callback=null},tr.unstable_continueExecution=function(){br||gr||(br=!0,wr(Nr))},tr.unstable_forceFrameRate=function(Rr){0>Rr||125<Rr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dr=0<Rr?Math.floor(1e3/Rr):5},tr.unstable_getCurrentPriorityLevel=function(){return dr},tr.unstable_getFirstCallbackNode=function(){return rr(cr)},tr.unstable_next=function(Rr){switch(dr){case 1:case 2:case 3:var Pr=3;break;default:Pr=dr}var Sr=dr;dr=Pr;try{return Rr()}finally{dr=Sr}},tr.unstable_pauseExecution=function(){},tr.unstable_requestPaint=function(){},tr.unstable_runWithPriority=function(Rr,Pr){switch(Rr){case 1:case 2:case 3:case 4:case 5:break;default:Rr=3}var Sr=dr;dr=Rr;try{return Pr()}finally{dr=Sr}},tr.unstable_scheduleCallback=function(Rr,Pr,Sr){var Mr=tr.unstable_now();switch(typeof Sr=="object"&&Sr!==null?(Sr=Sr.delay,Sr=typeof Sr=="number"&&0<Sr?Mr+Sr:Mr):Sr=Mr,Rr){case 1:var Br=-1;break;case 2:Br=250;break;case 5:Br=1073741823;break;case 4:Br=1e4;break;default:Br=5e3}return Br=Sr+Br,Rr={id:ur++,callback:Pr,priorityLevel:Rr,startTime:Sr,expirationTime:Br,sortIndex:-1},Sr>Mr?(Rr.sortIndex=Sr,er(lr,Rr),rr(cr)===null&&Rr===rr(lr)&&(vr?(Er(Or),Or=-1):vr=!0,Ar(Ir,Sr-Mr))):(Rr.sortIndex=Br,er(cr,Rr),br||gr||(br=!0,wr(Nr))),Rr},tr.unstable_shouldYield=Tr,tr.unstable_wrapCallback=function(Rr){var Pr=dr;return function(){var Sr=dr;dr=Pr;try{return Rr.apply(this,arguments)}finally{dr=Sr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(tr){for(var er="https://reactjs.org/docs/error-decoder.html?invariant="+tr,rr=1;rr<arguments.length;rr++)er+="&args[]="+encodeURIComponent(arguments[rr]);return"Minified React error #"+tr+"; visit "+er+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(tr,er){ha(tr,er),ha(tr+"Capture",er)}function ha(tr,er){for(ea[tr]=er,tr=0;tr<er.length;tr++)da.add(er[tr])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(tr){return ja.call(ma,tr)?!0:ja.call(la,tr)?!1:ka$1.test(tr)?ma[tr]=!0:(la[tr]=!0,!1)}function pa(tr,er,rr,nr){if(rr!==null&&rr.type===0)return!1;switch(typeof er){case"function":case"symbol":return!0;case"boolean":return nr?!1:rr!==null?!rr.acceptsBooleans:(tr=tr.toLowerCase().slice(0,5),tr!=="data-"&&tr!=="aria-");default:return!1}}function qa(tr,er,rr,nr){if(er===null||typeof er>"u"||pa(tr,er,rr,nr))return!0;if(nr)return!1;if(rr!==null)switch(rr.type){case 3:return!er;case 4:return er===!1;case 5:return isNaN(er);case 6:return isNaN(er)||1>er}return!1}function v$3(tr,er,rr,nr,ir,or,sr){this.acceptsBooleans=er===2||er===3||er===4,this.attributeName=nr,this.attributeNamespace=ir,this.mustUseProperty=rr,this.propertyName=tr,this.type=er,this.sanitizeURL=or,this.removeEmptyString=sr}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(tr){z$4[tr]=new v$3(tr,0,!1,tr,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(tr){var er=tr[0];z$4[er]=new v$3(er,1,!1,tr[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(tr){z$4[tr]=new v$3(tr,2,!1,tr.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(tr){z$4[tr]=new v$3(tr,2,!1,tr,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(tr){z$4[tr]=new v$3(tr,3,!1,tr.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(tr){z$4[tr]=new v$3(tr,3,!0,tr,null,!1,!1)});["capture","download"].forEach(function(tr){z$4[tr]=new v$3(tr,4,!1,tr,null,!1,!1)});["cols","rows","size","span"].forEach(function(tr){z$4[tr]=new v$3(tr,6,!1,tr,null,!1,!1)});["rowSpan","start"].forEach(function(tr){z$4[tr]=new v$3(tr,5,!1,tr.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(tr){return tr[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(tr){var er=tr.replace(ra,sa);z$4[er]=new v$3(er,1,!1,tr,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(tr){var er=tr.replace(ra,sa);z$4[er]=new v$3(er,1,!1,tr,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(tr){var er=tr.replace(ra,sa);z$4[er]=new v$3(er,1,!1,tr,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(tr){z$4[tr]=new v$3(tr,1,!1,tr.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(tr){z$4[tr]=new v$3(tr,1,!1,tr.toLowerCase(),null,!0,!0)});function ta(tr,er,rr,nr){var ir=z$4.hasOwnProperty(er)?z$4[er]:null;(ir!==null?ir.type!==0:nr||!(2<er.length)||er[0]!=="o"&&er[0]!=="O"||er[1]!=="n"&&er[1]!=="N")&&(qa(er,rr,ir,nr)&&(rr=null),nr||ir===null?oa(er)&&(rr===null?tr.removeAttribute(er):tr.setAttribute(er,""+rr)):ir.mustUseProperty?tr[ir.propertyName]=rr===null?ir.type===3?!1:"":rr:(er=ir.attributeName,nr=ir.attributeNamespace,rr===null?tr.removeAttribute(er):(ir=ir.type,rr=ir===3||ir===4&&rr===!0?"":""+rr,nr?tr.setAttributeNS(nr,er,rr):tr.setAttribute(er,rr))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(tr){return tr===null||typeof tr!="object"?null:(tr=Ja&&tr[Ja]||tr["@@iterator"],typeof tr=="function"?tr:null)}var A$3=Object.assign,La;function Ma(tr){if(La===void 0)try{throw Error()}catch(rr){var er=rr.stack.trim().match(/\n( *(at )?)/);La=er&&er[1]||""}return`
`+La+tr}var Na=!1;function Oa(tr,er){if(!tr||Na)return"";Na=!0;var rr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(er)if(er=function(){throw Error()},Object.defineProperty(er.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(er,[])}catch(lr){var nr=lr}Reflect.construct(tr,[],er)}else{try{er.call()}catch(lr){nr=lr}tr.call(er.prototype)}else{try{throw Error()}catch(lr){nr=lr}tr()}}catch(lr){if(lr&&nr&&typeof lr.stack=="string"){for(var ir=lr.stack.split(`
`),or=nr.stack.split(`
`),sr=ir.length-1,ar=or.length-1;1<=sr&&0<=ar&&ir[sr]!==or[ar];)ar--;for(;1<=sr&&0<=ar;sr--,ar--)if(ir[sr]!==or[ar]){if(sr!==1||ar!==1)do if(sr--,ar--,0>ar||ir[sr]!==or[ar]){var cr=`
`+ir[sr].replace(" at new "," at ");return tr.displayName&&cr.includes("<anonymous>")&&(cr=cr.replace("<anonymous>",tr.displayName)),cr}while(1<=sr&&0<=ar);break}}}finally{Na=!1,Error.prepareStackTrace=rr}return(tr=tr?tr.displayName||tr.name:"")?Ma(tr):""}function Pa(tr){switch(tr.tag){case 5:return Ma(tr.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return tr=Oa(tr.type,!1),tr;case 11:return tr=Oa(tr.type.render,!1),tr;case 1:return tr=Oa(tr.type,!0),tr;default:return""}}function Qa(tr){if(tr==null)return null;if(typeof tr=="function")return tr.displayName||tr.name||null;if(typeof tr=="string")return tr;switch(tr){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof tr=="object")switch(tr.$$typeof){case Ca:return(tr.displayName||"Context")+".Consumer";case Ba:return(tr._context.displayName||"Context")+".Provider";case Da:var er=tr.render;return tr=tr.displayName,tr||(tr=er.displayName||er.name||"",tr=tr!==""?"ForwardRef("+tr+")":"ForwardRef"),tr;case Ga:return er=tr.displayName||null,er!==null?er:Qa(tr.type)||"Memo";case Ha:er=tr._payload,tr=tr._init;try{return Qa(tr(er))}catch{}}return null}function Ra(tr){var er=tr.type;switch(tr.tag){case 24:return"Cache";case 9:return(er.displayName||"Context")+".Consumer";case 10:return(er._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return tr=er.render,tr=tr.displayName||tr.name||"",er.displayName||(tr!==""?"ForwardRef("+tr+")":"ForwardRef");case 7:return"Fragment";case 5:return er;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(er);case 8:return er===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof er=="function")return er.displayName||er.name||null;if(typeof er=="string")return er}return null}function Sa(tr){switch(typeof tr){case"boolean":case"number":case"string":case"undefined":return tr;case"object":return tr;default:return""}}function Ta(tr){var er=tr.type;return(tr=tr.nodeName)&&tr.toLowerCase()==="input"&&(er==="checkbox"||er==="radio")}function Ua(tr){var er=Ta(tr)?"checked":"value",rr=Object.getOwnPropertyDescriptor(tr.constructor.prototype,er),nr=""+tr[er];if(!tr.hasOwnProperty(er)&&typeof rr<"u"&&typeof rr.get=="function"&&typeof rr.set=="function"){var ir=rr.get,or=rr.set;return Object.defineProperty(tr,er,{configurable:!0,get:function(){return ir.call(this)},set:function(sr){nr=""+sr,or.call(this,sr)}}),Object.defineProperty(tr,er,{enumerable:rr.enumerable}),{getValue:function(){return nr},setValue:function(sr){nr=""+sr},stopTracking:function(){tr._valueTracker=null,delete tr[er]}}}}function Va(tr){tr._valueTracker||(tr._valueTracker=Ua(tr))}function Wa(tr){if(!tr)return!1;var er=tr._valueTracker;if(!er)return!0;var rr=er.getValue(),nr="";return tr&&(nr=Ta(tr)?tr.checked?"true":"false":tr.value),tr=nr,tr!==rr?(er.setValue(tr),!0):!1}function Xa(tr){if(tr=tr||(typeof document<"u"?document:void 0),typeof tr>"u")return null;try{return tr.activeElement||tr.body}catch{return tr.body}}function Ya(tr,er){var rr=er.checked;return A$3({},er,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rr??tr._wrapperState.initialChecked})}function Za(tr,er){var rr=er.defaultValue==null?"":er.defaultValue,nr=er.checked!=null?er.checked:er.defaultChecked;rr=Sa(er.value!=null?er.value:rr),tr._wrapperState={initialChecked:nr,initialValue:rr,controlled:er.type==="checkbox"||er.type==="radio"?er.checked!=null:er.value!=null}}function ab(tr,er){er=er.checked,er!=null&&ta(tr,"checked",er,!1)}function bb(tr,er){ab(tr,er);var rr=Sa(er.value),nr=er.type;if(rr!=null)nr==="number"?(rr===0&&tr.value===""||tr.value!=rr)&&(tr.value=""+rr):tr.value!==""+rr&&(tr.value=""+rr);else if(nr==="submit"||nr==="reset"){tr.removeAttribute("value");return}er.hasOwnProperty("value")?cb(tr,er.type,rr):er.hasOwnProperty("defaultValue")&&cb(tr,er.type,Sa(er.defaultValue)),er.checked==null&&er.defaultChecked!=null&&(tr.defaultChecked=!!er.defaultChecked)}function db(tr,er,rr){if(er.hasOwnProperty("value")||er.hasOwnProperty("defaultValue")){var nr=er.type;if(!(nr!=="submit"&&nr!=="reset"||er.value!==void 0&&er.value!==null))return;er=""+tr._wrapperState.initialValue,rr||er===tr.value||(tr.value=er),tr.defaultValue=er}rr=tr.name,rr!==""&&(tr.name=""),tr.defaultChecked=!!tr._wrapperState.initialChecked,rr!==""&&(tr.name=rr)}function cb(tr,er,rr){(er!=="number"||Xa(tr.ownerDocument)!==tr)&&(rr==null?tr.defaultValue=""+tr._wrapperState.initialValue:tr.defaultValue!==""+rr&&(tr.defaultValue=""+rr))}var eb=Array.isArray;function fb(tr,er,rr,nr){if(tr=tr.options,er){er={};for(var ir=0;ir<rr.length;ir++)er["$"+rr[ir]]=!0;for(rr=0;rr<tr.length;rr++)ir=er.hasOwnProperty("$"+tr[rr].value),tr[rr].selected!==ir&&(tr[rr].selected=ir),ir&&nr&&(tr[rr].defaultSelected=!0)}else{for(rr=""+Sa(rr),er=null,ir=0;ir<tr.length;ir++){if(tr[ir].value===rr){tr[ir].selected=!0,nr&&(tr[ir].defaultSelected=!0);return}er!==null||tr[ir].disabled||(er=tr[ir])}er!==null&&(er.selected=!0)}}function gb(tr,er){if(er.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$3({},er,{value:void 0,defaultValue:void 0,children:""+tr._wrapperState.initialValue})}function hb(tr,er){var rr=er.value;if(rr==null){if(rr=er.children,er=er.defaultValue,rr!=null){if(er!=null)throw Error(p$3(92));if(eb(rr)){if(1<rr.length)throw Error(p$3(93));rr=rr[0]}er=rr}er==null&&(er=""),rr=er}tr._wrapperState={initialValue:Sa(rr)}}function ib(tr,er){var rr=Sa(er.value),nr=Sa(er.defaultValue);rr!=null&&(rr=""+rr,rr!==tr.value&&(tr.value=rr),er.defaultValue==null&&tr.defaultValue!==rr&&(tr.defaultValue=rr)),nr!=null&&(tr.defaultValue=""+nr)}function jb(tr){var er=tr.textContent;er===tr._wrapperState.initialValue&&er!==""&&er!==null&&(tr.value=er)}function kb(tr){switch(tr){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(tr,er){return tr==null||tr==="http://www.w3.org/1999/xhtml"?kb(er):tr==="http://www.w3.org/2000/svg"&&er==="foreignObject"?"http://www.w3.org/1999/xhtml":tr}var mb,nb=function(tr){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(er,rr,nr,ir){MSApp.execUnsafeLocalFunction(function(){return tr(er,rr,nr,ir)})}:tr}(function(tr,er){if(tr.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in tr)tr.innerHTML=er;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+er.valueOf().toString()+"</svg>",er=mb.firstChild;tr.firstChild;)tr.removeChild(tr.firstChild);for(;er.firstChild;)tr.appendChild(er.firstChild)}});function ob(tr,er){if(er){var rr=tr.firstChild;if(rr&&rr===tr.lastChild&&rr.nodeType===3){rr.nodeValue=er;return}}tr.textContent=er}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(tr){qb.forEach(function(er){er=er+tr.charAt(0).toUpperCase()+tr.substring(1),pb[er]=pb[tr]})});function rb(tr,er,rr){return er==null||typeof er=="boolean"||er===""?"":rr||typeof er!="number"||er===0||pb.hasOwnProperty(tr)&&pb[tr]?(""+er).trim():er+"px"}function sb(tr,er){tr=tr.style;for(var rr in er)if(er.hasOwnProperty(rr)){var nr=rr.indexOf("--")===0,ir=rb(rr,er[rr],nr);rr==="float"&&(rr="cssFloat"),nr?tr.setProperty(rr,ir):tr[rr]=ir}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(tr,er){if(er){if(tb[tr]&&(er.children!=null||er.dangerouslySetInnerHTML!=null))throw Error(p$3(137,tr));if(er.dangerouslySetInnerHTML!=null){if(er.children!=null)throw Error(p$3(60));if(typeof er.dangerouslySetInnerHTML!="object"||!("__html"in er.dangerouslySetInnerHTML))throw Error(p$3(61))}if(er.style!=null&&typeof er.style!="object")throw Error(p$3(62))}}function vb(tr,er){if(tr.indexOf("-")===-1)return typeof er.is=="string";switch(tr){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(tr){return tr=tr.target||tr.srcElement||window,tr.correspondingUseElement&&(tr=tr.correspondingUseElement),tr.nodeType===3?tr.parentNode:tr}var yb=null,zb=null,Ab=null;function Bb(tr){if(tr=Cb(tr)){if(typeof yb!="function")throw Error(p$3(280));var er=tr.stateNode;er&&(er=Db(er),yb(tr.stateNode,tr.type,er))}}function Eb(tr){zb?Ab?Ab.push(tr):Ab=[tr]:zb=tr}function Fb(){if(zb){var tr=zb,er=Ab;if(Ab=zb=null,Bb(tr),er)for(tr=0;tr<er.length;tr++)Bb(er[tr])}}function Gb(tr,er){return tr(er)}function Hb(){}var Ib=!1;function Jb(tr,er,rr){if(Ib)return tr(er,rr);Ib=!0;try{return Gb(tr,er,rr)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(tr,er){var rr=tr.stateNode;if(rr===null)return null;var nr=Db(rr);if(nr===null)return null;rr=nr[er];e:switch(er){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nr=!nr.disabled)||(tr=tr.type,nr=!(tr==="button"||tr==="input"||tr==="select"||tr==="textarea")),tr=!nr;break e;default:tr=!1}if(tr)return null;if(rr&&typeof rr!="function")throw Error(p$3(231,er,typeof rr));return rr}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(tr,er,rr,nr,ir,or,sr,ar,cr){var lr=Array.prototype.slice.call(arguments,3);try{er.apply(rr,lr)}catch(ur){this.onError(ur)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(tr){Ob=!0,Pb=tr}};function Tb(tr,er,rr,nr,ir,or,sr,ar,cr){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(tr,er,rr,nr,ir,or,sr,ar,cr){if(Tb.apply(this,arguments),Ob){if(Ob){var lr=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=lr)}}function Vb(tr){var er=tr,rr=tr;if(tr.alternate)for(;er.return;)er=er.return;else{tr=er;do er=tr,er.flags&4098&&(rr=er.return),tr=er.return;while(tr)}return er.tag===3?rr:null}function Wb(tr){if(tr.tag===13){var er=tr.memoizedState;if(er===null&&(tr=tr.alternate,tr!==null&&(er=tr.memoizedState)),er!==null)return er.dehydrated}return null}function Xb(tr){if(Vb(tr)!==tr)throw Error(p$3(188))}function Yb(tr){var er=tr.alternate;if(!er){if(er=Vb(tr),er===null)throw Error(p$3(188));return er!==tr?null:tr}for(var rr=tr,nr=er;;){var ir=rr.return;if(ir===null)break;var or=ir.alternate;if(or===null){if(nr=ir.return,nr!==null){rr=nr;continue}break}if(ir.child===or.child){for(or=ir.child;or;){if(or===rr)return Xb(ir),tr;if(or===nr)return Xb(ir),er;or=or.sibling}throw Error(p$3(188))}if(rr.return!==nr.return)rr=ir,nr=or;else{for(var sr=!1,ar=ir.child;ar;){if(ar===rr){sr=!0,rr=ir,nr=or;break}if(ar===nr){sr=!0,nr=ir,rr=or;break}ar=ar.sibling}if(!sr){for(ar=or.child;ar;){if(ar===rr){sr=!0,rr=or,nr=ir;break}if(ar===nr){sr=!0,nr=or,rr=ir;break}ar=ar.sibling}if(!sr)throw Error(p$3(189))}}if(rr.alternate!==nr)throw Error(p$3(190))}if(rr.tag!==3)throw Error(p$3(188));return rr.stateNode.current===rr?tr:er}function Zb(tr){return tr=Yb(tr),tr!==null?$b(tr):null}function $b(tr){if(tr.tag===5||tr.tag===6)return tr;for(tr=tr.child;tr!==null;){var er=$b(tr);if(er!==null)return er;tr=tr.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec$3=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(tr){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,tr,void 0,(tr.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(tr){return tr>>>=0,tr===0?32:31-(pc(tr)/qc|0)|0}var rc=64,sc=4194304;function tc(tr){switch(tr&-tr){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tr&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return tr&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return tr}}function uc(tr,er){var rr=tr.pendingLanes;if(rr===0)return 0;var nr=0,ir=tr.suspendedLanes,or=tr.pingedLanes,sr=rr&268435455;if(sr!==0){var ar=sr&~ir;ar!==0?nr=tc(ar):(or&=sr,or!==0&&(nr=tc(or)))}else sr=rr&~ir,sr!==0?nr=tc(sr):or!==0&&(nr=tc(or));if(nr===0)return 0;if(er!==0&&er!==nr&&!(er&ir)&&(ir=nr&-nr,or=er&-er,ir>=or||ir===16&&(or&4194240)!==0))return er;if(nr&4&&(nr|=rr&16),er=tr.entangledLanes,er!==0)for(tr=tr.entanglements,er&=nr;0<er;)rr=31-oc(er),ir=1<<rr,nr|=tr[rr],er&=~ir;return nr}function vc(tr,er){switch(tr){case 1:case 2:case 4:return er+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return er+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(tr,er){for(var rr=tr.suspendedLanes,nr=tr.pingedLanes,ir=tr.expirationTimes,or=tr.pendingLanes;0<or;){var sr=31-oc(or),ar=1<<sr,cr=ir[sr];cr===-1?(!(ar&rr)||ar&nr)&&(ir[sr]=vc(ar,er)):cr<=er&&(tr.expiredLanes|=ar),or&=~ar}}function xc(tr){return tr=tr.pendingLanes&-1073741825,tr!==0?tr:tr&1073741824?1073741824:0}function yc(){var tr=rc;return rc<<=1,!(rc&4194240)&&(rc=64),tr}function zc(tr){for(var er=[],rr=0;31>rr;rr++)er.push(tr);return er}function Ac(tr,er,rr){tr.pendingLanes|=er,er!==536870912&&(tr.suspendedLanes=0,tr.pingedLanes=0),tr=tr.eventTimes,er=31-oc(er),tr[er]=rr}function Bc(tr,er){var rr=tr.pendingLanes&~er;tr.pendingLanes=er,tr.suspendedLanes=0,tr.pingedLanes=0,tr.expiredLanes&=er,tr.mutableReadLanes&=er,tr.entangledLanes&=er,er=tr.entanglements;var nr=tr.eventTimes;for(tr=tr.expirationTimes;0<rr;){var ir=31-oc(rr),or=1<<ir;er[ir]=0,nr[ir]=-1,tr[ir]=-1,rr&=~or}}function Cc(tr,er){var rr=tr.entangledLanes|=er;for(tr=tr.entanglements;rr;){var nr=31-oc(rr),ir=1<<nr;ir&er|tr[nr]&er&&(tr[nr]|=er),rr&=~ir}}var C$2=0;function Dc(tr){return tr&=-tr,1<tr?4<tr?tr&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(tr,er){switch(tr){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(er.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(er.pointerId)}}function Tc(tr,er,rr,nr,ir,or){return tr===null||tr.nativeEvent!==or?(tr={blockedOn:er,domEventName:rr,eventSystemFlags:nr,nativeEvent:or,targetContainers:[ir]},er!==null&&(er=Cb(er),er!==null&&Fc(er)),tr):(tr.eventSystemFlags|=nr,er=tr.targetContainers,ir!==null&&er.indexOf(ir)===-1&&er.push(ir),tr)}function Uc(tr,er,rr,nr,ir){switch(er){case"focusin":return Lc=Tc(Lc,tr,er,rr,nr,ir),!0;case"dragenter":return Mc=Tc(Mc,tr,er,rr,nr,ir),!0;case"mouseover":return Nc=Tc(Nc,tr,er,rr,nr,ir),!0;case"pointerover":var or=ir.pointerId;return Oc.set(or,Tc(Oc.get(or)||null,tr,er,rr,nr,ir)),!0;case"gotpointercapture":return or=ir.pointerId,Pc.set(or,Tc(Pc.get(or)||null,tr,er,rr,nr,ir)),!0}return!1}function Vc(tr){var er=Wc(tr.target);if(er!==null){var rr=Vb(er);if(rr!==null){if(er=rr.tag,er===13){if(er=Wb(rr),er!==null){tr.blockedOn=er,Ic(tr.priority,function(){Gc(rr)});return}}else if(er===3&&rr.stateNode.current.memoizedState.isDehydrated){tr.blockedOn=rr.tag===3?rr.stateNode.containerInfo:null;return}}}tr.blockedOn=null}function Xc(tr){if(tr.blockedOn!==null)return!1;for(var er=tr.targetContainers;0<er.length;){var rr=Yc(tr.domEventName,tr.eventSystemFlags,er[0],tr.nativeEvent);if(rr===null){rr=tr.nativeEvent;var nr=new rr.constructor(rr.type,rr);wb=nr,rr.target.dispatchEvent(nr),wb=null}else return er=Cb(rr),er!==null&&Fc(er),tr.blockedOn=rr,!1;er.shift()}return!0}function Zc(tr,er,rr){Xc(tr)&&rr.delete(er)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(tr,er){tr.blockedOn===er&&(tr.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(tr){function er(ir){return ad(ir,tr)}if(0<Kc.length){ad(Kc[0],tr);for(var rr=1;rr<Kc.length;rr++){var nr=Kc[rr];nr.blockedOn===tr&&(nr.blockedOn=null)}}for(Lc!==null&&ad(Lc,tr),Mc!==null&&ad(Mc,tr),Nc!==null&&ad(Nc,tr),Oc.forEach(er),Pc.forEach(er),rr=0;rr<Qc.length;rr++)nr=Qc[rr],nr.blockedOn===tr&&(nr.blockedOn=null);for(;0<Qc.length&&(rr=Qc[0],rr.blockedOn===null);)Vc(rr),rr.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(tr,er,rr,nr){var ir=C$2,or=cd.transition;cd.transition=null;try{C$2=1,fd(tr,er,rr,nr)}finally{C$2=ir,cd.transition=or}}function gd(tr,er,rr,nr){var ir=C$2,or=cd.transition;cd.transition=null;try{C$2=4,fd(tr,er,rr,nr)}finally{C$2=ir,cd.transition=or}}function fd(tr,er,rr,nr){if(dd){var ir=Yc(tr,er,rr,nr);if(ir===null)hd(tr,er,nr,id$1,rr),Sc(tr,nr);else if(Uc(ir,tr,er,rr,nr))nr.stopPropagation();else if(Sc(tr,nr),er&4&&-1<Rc.indexOf(tr)){for(;ir!==null;){var or=Cb(ir);if(or!==null&&Ec(or),or=Yc(tr,er,rr,nr),or===null&&hd(tr,er,nr,id$1,rr),or===ir)break;ir=or}ir!==null&&nr.stopPropagation()}else hd(tr,er,nr,null,rr)}}var id$1=null;function Yc(tr,er,rr,nr){if(id$1=null,tr=xb(nr),tr=Wc(tr),tr!==null)if(er=Vb(tr),er===null)tr=null;else if(rr=er.tag,rr===13){if(tr=Wb(er),tr!==null)return tr;tr=null}else if(rr===3){if(er.stateNode.current.memoizedState.isDehydrated)return er.tag===3?er.stateNode.containerInfo:null;tr=null}else er!==tr&&(tr=null);return id$1=tr,null}function jd(tr){switch(tr){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$3()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var tr,er=ld,rr=er.length,nr,ir="value"in kd?kd.value:kd.textContent,or=ir.length;for(tr=0;tr<rr&&er[tr]===ir[tr];tr++);var sr=rr-tr;for(nr=1;nr<=sr&&er[rr-nr]===ir[or-nr];nr++);return md=ir.slice(tr,1<nr?1-nr:void 0)}function od(tr){var er=tr.keyCode;return"charCode"in tr?(tr=tr.charCode,tr===0&&er===13&&(tr=13)):tr=er,tr===10&&(tr=13),32<=tr||tr===13?tr:0}function pd(){return!0}function qd(){return!1}function rd(tr){function er(rr,nr,ir,or,sr){this._reactName=rr,this._targetInst=ir,this.type=nr,this.nativeEvent=or,this.target=sr,this.currentTarget=null;for(var ar in tr)tr.hasOwnProperty(ar)&&(rr=tr[ar],this[ar]=rr?rr(or):or[ar]);return this.isDefaultPrevented=(or.defaultPrevented!=null?or.defaultPrevented:or.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(er.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rr=this.nativeEvent;rr&&(rr.preventDefault?rr.preventDefault():typeof rr.returnValue!="unknown"&&(rr.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rr=this.nativeEvent;rr&&(rr.stopPropagation?rr.stopPropagation():typeof rr.cancelBubble!="unknown"&&(rr.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),er}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(tr){return tr.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(tr){return tr.relatedTarget===void 0?tr.fromElement===tr.srcElement?tr.toElement:tr.fromElement:tr.relatedTarget},movementX:function(tr){return"movementX"in tr?tr.movementX:(tr!==yd&&(yd&&tr.type==="mousemove"?(wd=tr.screenX-yd.screenX,xd=tr.screenY-yd.screenY):xd=wd=0,yd=tr),wd)},movementY:function(tr){return"movementY"in tr?tr.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(tr){return"clipboardData"in tr?tr.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(tr){var er=this.nativeEvent;return er.getModifierState?er.getModifierState(tr):(tr=Od[tr])?!!er[tr]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(tr){if(tr.key){var er=Md[tr.key]||tr.key;if(er!=="Unidentified")return er}return tr.type==="keypress"?(tr=od(tr),tr===13?"Enter":String.fromCharCode(tr)):tr.type==="keydown"||tr.type==="keyup"?Nd[tr.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(tr){return tr.type==="keypress"?od(tr):0},keyCode:function(tr){return tr.type==="keydown"||tr.type==="keyup"?tr.keyCode:0},which:function(tr){return tr.type==="keypress"?od(tr):tr.type==="keydown"||tr.type==="keyup"?tr.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(tr){return"deltaX"in tr?tr.deltaX:"wheelDeltaX"in tr?-tr.wheelDeltaX:0},deltaY:function(tr){return"deltaY"in tr?tr.deltaY:"wheelDeltaY"in tr?-tr.wheelDeltaY:"wheelDelta"in tr?-tr.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$2=!1;function ge$2(tr,er){switch(tr){case"keyup":return $d.indexOf(er.keyCode)!==-1;case"keydown":return er.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(tr){return tr=tr.detail,typeof tr=="object"&&"data"in tr?tr.data:null}var ie$1=!1;function je$1(tr,er){switch(tr){case"compositionend":return he$1(er);case"keypress":return er.which!==32?null:(fe$2=!0,ee$1);case"textInput":return tr=er.data,tr===ee$1&&fe$2?null:tr;default:return null}}function ke$1(tr,er){if(ie$1)return tr==="compositionend"||!ae$1&&ge$2(tr,er)?(tr=nd(),md=ld=kd=null,ie$1=!1,tr):null;switch(tr){case"paste":return null;case"keypress":if(!(er.ctrlKey||er.altKey||er.metaKey)||er.ctrlKey&&er.altKey){if(er.char&&1<er.char.length)return er.char;if(er.which)return String.fromCharCode(er.which)}return null;case"compositionend":return de$1&&er.locale!=="ko"?null:er.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(tr){var er=tr&&tr.nodeName&&tr.nodeName.toLowerCase();return er==="input"?!!le$1[tr.type]:er==="textarea"}function ne$1(tr,er,rr,nr){Eb(nr),er=oe$1(er,"onChange"),0<er.length&&(rr=new td("onChange","change",null,rr,nr),tr.push({event:rr,listeners:er}))}var pe$1=null,qe$1=null;function re$9(tr){se$1(tr,0)}function te$1(tr){var er=ue$1(tr);if(Wa(er))return tr}function ve$1(tr,er){if(tr==="change")return er}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(tr){if(tr.propertyName==="value"&&te$1(qe$1)){var er=[];ne$1(er,qe$1,tr,xb(tr)),Jb(re$9,er)}}function Ce$1(tr,er,rr){tr==="focusin"?(Ae$1(),pe$1=er,qe$1=rr,pe$1.attachEvent("onpropertychange",Be$1)):tr==="focusout"&&Ae$1()}function De$1(tr){if(tr==="selectionchange"||tr==="keyup"||tr==="keydown")return te$1(qe$1)}function Ee$1(tr,er){if(tr==="click")return te$1(er)}function Fe$1(tr,er){if(tr==="input"||tr==="change")return te$1(er)}function Ge$1(tr,er){return tr===er&&(tr!==0||1/tr===1/er)||tr!==tr&&er!==er}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(tr,er){if(He$1(tr,er))return!0;if(typeof tr!="object"||tr===null||typeof er!="object"||er===null)return!1;var rr=Object.keys(tr),nr=Object.keys(er);if(rr.length!==nr.length)return!1;for(nr=0;nr<rr.length;nr++){var ir=rr[nr];if(!ja.call(er,ir)||!He$1(tr[ir],er[ir]))return!1}return!0}function Je$1(tr){for(;tr&&tr.firstChild;)tr=tr.firstChild;return tr}function Ke$1(tr,er){var rr=Je$1(tr);tr=0;for(var nr;rr;){if(rr.nodeType===3){if(nr=tr+rr.textContent.length,tr<=er&&nr>=er)return{node:rr,offset:er-tr};tr=nr}e:{for(;rr;){if(rr.nextSibling){rr=rr.nextSibling;break e}rr=rr.parentNode}rr=void 0}rr=Je$1(rr)}}function Le(tr,er){return tr&&er?tr===er?!0:tr&&tr.nodeType===3?!1:er&&er.nodeType===3?Le(tr,er.parentNode):"contains"in tr?tr.contains(er):tr.compareDocumentPosition?!!(tr.compareDocumentPosition(er)&16):!1:!1}function Me$1(){for(var tr=window,er=Xa();er instanceof tr.HTMLIFrameElement;){try{var rr=typeof er.contentWindow.location.href=="string"}catch{rr=!1}if(rr)tr=er.contentWindow;else break;er=Xa(tr.document)}return er}function Ne$1(tr){var er=tr&&tr.nodeName&&tr.nodeName.toLowerCase();return er&&(er==="input"&&(tr.type==="text"||tr.type==="search"||tr.type==="tel"||tr.type==="url"||tr.type==="password")||er==="textarea"||tr.contentEditable==="true")}function Oe$1(tr){var er=Me$1(),rr=tr.focusedElem,nr=tr.selectionRange;if(er!==rr&&rr&&rr.ownerDocument&&Le(rr.ownerDocument.documentElement,rr)){if(nr!==null&&Ne$1(rr)){if(er=nr.start,tr=nr.end,tr===void 0&&(tr=er),"selectionStart"in rr)rr.selectionStart=er,rr.selectionEnd=Math.min(tr,rr.value.length);else if(tr=(er=rr.ownerDocument||document)&&er.defaultView||window,tr.getSelection){tr=tr.getSelection();var ir=rr.textContent.length,or=Math.min(nr.start,ir);nr=nr.end===void 0?or:Math.min(nr.end,ir),!tr.extend&&or>nr&&(ir=nr,nr=or,or=ir),ir=Ke$1(rr,or);var sr=Ke$1(rr,nr);ir&&sr&&(tr.rangeCount!==1||tr.anchorNode!==ir.node||tr.anchorOffset!==ir.offset||tr.focusNode!==sr.node||tr.focusOffset!==sr.offset)&&(er=er.createRange(),er.setStart(ir.node,ir.offset),tr.removeAllRanges(),or>nr?(tr.addRange(er),tr.extend(sr.node,sr.offset)):(er.setEnd(sr.node,sr.offset),tr.addRange(er)))}}for(er=[],tr=rr;tr=tr.parentNode;)tr.nodeType===1&&er.push({element:tr,left:tr.scrollLeft,top:tr.scrollTop});for(typeof rr.focus=="function"&&rr.focus(),rr=0;rr<er.length;rr++)tr=er[rr],tr.element.scrollLeft=tr.left,tr.element.scrollTop=tr.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(tr,er,rr){var nr=rr.window===rr?rr.document:rr.nodeType===9?rr:rr.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(nr)||(nr=Qe$1,"selectionStart"in nr&&Ne$1(nr)?nr={start:nr.selectionStart,end:nr.selectionEnd}:(nr=(nr.ownerDocument&&nr.ownerDocument.defaultView||window).getSelection(),nr={anchorNode:nr.anchorNode,anchorOffset:nr.anchorOffset,focusNode:nr.focusNode,focusOffset:nr.focusOffset}),Se$1&&Ie$1(Se$1,nr)||(Se$1=nr,nr=oe$1(Re$1,"onSelect"),0<nr.length&&(er=new td("onSelect","select",null,er,rr),tr.push({event:er,listeners:nr}),er.target=Qe$1)))}function Ve$1(tr,er){var rr={};return rr[tr.toLowerCase()]=er.toLowerCase(),rr["Webkit"+tr]="webkit"+er,rr["Moz"+tr]="moz"+er,rr}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(tr){if(Xe$1[tr])return Xe$1[tr];if(!We$1[tr])return tr;var er=We$1[tr],rr;for(rr in er)if(er.hasOwnProperty(rr)&&rr in Ye$1)return Xe$1[tr]=er[rr];return tr}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(tr,er){df.set(tr,er),fa(er,[tr])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(tr,er,rr){var nr=tr.type||"unknown-event";tr.currentTarget=rr,Ub(nr,er,void 0,tr),tr.currentTarget=null}function se$1(tr,er){er=(er&4)!==0;for(var rr=0;rr<tr.length;rr++){var nr=tr[rr],ir=nr.event;nr=nr.listeners;e:{var or=void 0;if(er)for(var sr=nr.length-1;0<=sr;sr--){var ar=nr[sr],cr=ar.instance,lr=ar.currentTarget;if(ar=ar.listener,cr!==or&&ir.isPropagationStopped())break e;nf(ir,ar,lr),or=cr}else for(sr=0;sr<nr.length;sr++){if(ar=nr[sr],cr=ar.instance,lr=ar.currentTarget,ar=ar.listener,cr!==or&&ir.isPropagationStopped())break e;nf(ir,ar,lr),or=cr}}}if(Qb)throw tr=Rb,Qb=!1,Rb=null,tr}function D$3(tr,er){var rr=er[of];rr===void 0&&(rr=er[of]=new Set);var nr=tr+"__bubble";rr.has(nr)||(pf(er,tr,2,!1),rr.add(nr))}function qf(tr,er,rr){var nr=0;er&&(nr|=4),pf(rr,tr,nr,er)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(tr){if(!tr[rf]){tr[rf]=!0,da.forEach(function(rr){rr!=="selectionchange"&&(mf.has(rr)||qf(rr,!1,tr),qf(rr,!0,tr))});var er=tr.nodeType===9?tr:tr.ownerDocument;er===null||er[rf]||(er[rf]=!0,qf("selectionchange",!1,er))}}function pf(tr,er,rr,nr){switch(jd(er)){case 1:var ir=ed;break;case 4:ir=gd;break;default:ir=fd}rr=ir.bind(null,er,rr,tr),ir=void 0,!Lb||er!=="touchstart"&&er!=="touchmove"&&er!=="wheel"||(ir=!0),nr?ir!==void 0?tr.addEventListener(er,rr,{capture:!0,passive:ir}):tr.addEventListener(er,rr,!0):ir!==void 0?tr.addEventListener(er,rr,{passive:ir}):tr.addEventListener(er,rr,!1)}function hd(tr,er,rr,nr,ir){var or=nr;if(!(er&1)&&!(er&2)&&nr!==null)e:for(;;){if(nr===null)return;var sr=nr.tag;if(sr===3||sr===4){var ar=nr.stateNode.containerInfo;if(ar===ir||ar.nodeType===8&&ar.parentNode===ir)break;if(sr===4)for(sr=nr.return;sr!==null;){var cr=sr.tag;if((cr===3||cr===4)&&(cr=sr.stateNode.containerInfo,cr===ir||cr.nodeType===8&&cr.parentNode===ir))return;sr=sr.return}for(;ar!==null;){if(sr=Wc(ar),sr===null)return;if(cr=sr.tag,cr===5||cr===6){nr=or=sr;continue e}ar=ar.parentNode}}nr=nr.return}Jb(function(){var lr=or,ur=xb(rr),fr=[];e:{var dr=df.get(tr);if(dr!==void 0){var gr=td,br=tr;switch(tr){case"keypress":if(od(rr)===0)break e;case"keydown":case"keyup":gr=Rd;break;case"focusin":br="focus",gr=Fd;break;case"focusout":br="blur",gr=Fd;break;case"beforeblur":case"afterblur":gr=Fd;break;case"click":if(rr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gr=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gr=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gr=Vd;break;case $e$1:case af:case bf:gr=Hd;break;case cf:gr=Xd;break;case"scroll":gr=vd;break;case"wheel":gr=Zd;break;case"copy":case"cut":case"paste":gr=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gr=Td}var vr=(er&4)!==0,$r=!vr&&tr==="scroll",Er=vr?dr!==null?dr+"Capture":null:dr;vr=[];for(var _r=lr,xr;_r!==null;){xr=_r;var Ir=xr.stateNode;if(xr.tag===5&&Ir!==null&&(xr=Ir,Er!==null&&(Ir=Kb(_r,Er),Ir!=null&&vr.push(tf(_r,Ir,xr)))),$r)break;_r=_r.return}0<vr.length&&(dr=new gr(dr,br,null,rr,ur),fr.push({event:dr,listeners:vr}))}}if(!(er&7)){e:{if(dr=tr==="mouseover"||tr==="pointerover",gr=tr==="mouseout"||tr==="pointerout",dr&&rr!==wb&&(br=rr.relatedTarget||rr.fromElement)&&(Wc(br)||br[uf]))break e;if((gr||dr)&&(dr=ur.window===ur?ur:(dr=ur.ownerDocument)?dr.defaultView||dr.parentWindow:window,gr?(br=rr.relatedTarget||rr.toElement,gr=lr,br=br?Wc(br):null,br!==null&&($r=Vb(br),br!==$r||br.tag!==5&&br.tag!==6)&&(br=null)):(gr=null,br=lr),gr!==br)){if(vr=Bd,Ir="onMouseLeave",Er="onMouseEnter",_r="mouse",(tr==="pointerout"||tr==="pointerover")&&(vr=Td,Ir="onPointerLeave",Er="onPointerEnter",_r="pointer"),$r=gr==null?dr:ue$1(gr),xr=br==null?dr:ue$1(br),dr=new vr(Ir,_r+"leave",gr,rr,ur),dr.target=$r,dr.relatedTarget=xr,Ir=null,Wc(ur)===lr&&(vr=new vr(Er,_r+"enter",br,rr,ur),vr.target=xr,vr.relatedTarget=$r,Ir=vr),$r=Ir,gr&&br)t:{for(vr=gr,Er=br,_r=0,xr=vr;xr;xr=vf(xr))_r++;for(xr=0,Ir=Er;Ir;Ir=vf(Ir))xr++;for(;0<_r-xr;)vr=vf(vr),_r--;for(;0<xr-_r;)Er=vf(Er),xr--;for(;_r--;){if(vr===Er||Er!==null&&vr===Er.alternate)break t;vr=vf(vr),Er=vf(Er)}vr=null}else vr=null;gr!==null&&wf(fr,dr,gr,vr,!1),br!==null&&$r!==null&&wf(fr,$r,br,vr,!0)}}e:{if(dr=lr?ue$1(lr):window,gr=dr.nodeName&&dr.nodeName.toLowerCase(),gr==="select"||gr==="input"&&dr.type==="file")var Nr=ve$1;else if(me$1(dr))if(we$1)Nr=Fe$1;else{Nr=De$1;var Lr=Ce$1}else(gr=dr.nodeName)&&gr.toLowerCase()==="input"&&(dr.type==="checkbox"||dr.type==="radio")&&(Nr=Ee$1);if(Nr&&(Nr=Nr(tr,lr))){ne$1(fr,Nr,rr,ur);break e}Lr&&Lr(tr,dr,lr),tr==="focusout"&&(Lr=dr._wrapperState)&&Lr.controlled&&dr.type==="number"&&cb(dr,"number",dr.value)}switch(Lr=lr?ue$1(lr):window,tr){case"focusin":(me$1(Lr)||Lr.contentEditable==="true")&&(Qe$1=Lr,Re$1=lr,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(fr,rr,ur);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(fr,rr,ur)}var jr;if(ae$1)e:{switch(tr){case"compositionstart":var Or="onCompositionStart";break e;case"compositionend":Or="onCompositionEnd";break e;case"compositionupdate":Or="onCompositionUpdate";break e}Or=void 0}else ie$1?ge$2(tr,rr)&&(Or="onCompositionEnd"):tr==="keydown"&&rr.keyCode===229&&(Or="onCompositionStart");Or&&(de$1&&rr.locale!=="ko"&&(ie$1||Or!=="onCompositionStart"?Or==="onCompositionEnd"&&ie$1&&(jr=nd()):(kd=ur,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Lr=oe$1(lr,Or),0<Lr.length&&(Or=new Ld(Or,tr,null,rr,ur),fr.push({event:Or,listeners:Lr}),jr?Or.data=jr:(jr=he$1(rr),jr!==null&&(Or.data=jr)))),(jr=ce$1?je$1(tr,rr):ke$1(tr,rr))&&(lr=oe$1(lr,"onBeforeInput"),0<lr.length&&(ur=new Ld("onBeforeInput","beforeinput",null,rr,ur),fr.push({event:ur,listeners:lr}),ur.data=jr))}se$1(fr,er)})}function tf(tr,er,rr){return{instance:tr,listener:er,currentTarget:rr}}function oe$1(tr,er){for(var rr=er+"Capture",nr=[];tr!==null;){var ir=tr,or=ir.stateNode;ir.tag===5&&or!==null&&(ir=or,or=Kb(tr,rr),or!=null&&nr.unshift(tf(tr,or,ir)),or=Kb(tr,er),or!=null&&nr.push(tf(tr,or,ir))),tr=tr.return}return nr}function vf(tr){if(tr===null)return null;do tr=tr.return;while(tr&&tr.tag!==5);return tr||null}function wf(tr,er,rr,nr,ir){for(var or=er._reactName,sr=[];rr!==null&&rr!==nr;){var ar=rr,cr=ar.alternate,lr=ar.stateNode;if(cr!==null&&cr===nr)break;ar.tag===5&&lr!==null&&(ar=lr,ir?(cr=Kb(rr,or),cr!=null&&sr.unshift(tf(rr,cr,ar))):ir||(cr=Kb(rr,or),cr!=null&&sr.push(tf(rr,cr,ar)))),rr=rr.return}sr.length!==0&&tr.push({event:er,listeners:sr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(tr){return(typeof tr=="string"?tr:""+tr).replace(xf,`
`).replace(yf,"")}function Af(tr,er,rr){if(er=zf(er),zf(tr)!==er&&rr)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(tr,er){return tr==="textarea"||tr==="noscript"||typeof er.children=="string"||typeof er.children=="number"||typeof er.dangerouslySetInnerHTML=="object"&&er.dangerouslySetInnerHTML!==null&&er.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(tr){return Hf.resolve(null).then(tr).catch(If)}:Ff;function If(tr){setTimeout(function(){throw tr})}function Kf(tr,er){var rr=er,nr=0;do{var ir=rr.nextSibling;if(tr.removeChild(rr),ir&&ir.nodeType===8)if(rr=ir.data,rr==="/$"){if(nr===0){tr.removeChild(ir),bd(er);return}nr--}else rr!=="$"&&rr!=="$?"&&rr!=="$!"||nr++;rr=ir}while(rr);bd(er)}function Lf(tr){for(;tr!=null;tr=tr.nextSibling){var er=tr.nodeType;if(er===1||er===3)break;if(er===8){if(er=tr.data,er==="$"||er==="$!"||er==="$?")break;if(er==="/$")return null}}return tr}function Mf(tr){tr=tr.previousSibling;for(var er=0;tr;){if(tr.nodeType===8){var rr=tr.data;if(rr==="$"||rr==="$!"||rr==="$?"){if(er===0)return tr;er--}else rr==="/$"&&er++}tr=tr.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(tr){var er=tr[Of];if(er)return er;for(var rr=tr.parentNode;rr;){if(er=rr[uf]||rr[Of]){if(rr=er.alternate,er.child!==null||rr!==null&&rr.child!==null)for(tr=Mf(tr);tr!==null;){if(rr=tr[Of])return rr;tr=Mf(tr)}return er}tr=rr,rr=tr.parentNode}return null}function Cb(tr){return tr=tr[Of]||tr[uf],!tr||tr.tag!==5&&tr.tag!==6&&tr.tag!==13&&tr.tag!==3?null:tr}function ue$1(tr){if(tr.tag===5||tr.tag===6)return tr.stateNode;throw Error(p$3(33))}function Db(tr){return tr[Pf]||null}var Sf=[],Tf=-1;function Uf(tr){return{current:tr}}function E$2(tr){0>Tf||(tr.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(tr,er){Tf++,Sf[Tf]=tr.current,tr.current=er}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(tr,er){var rr=tr.type.contextTypes;if(!rr)return Vf;var nr=tr.stateNode;if(nr&&nr.__reactInternalMemoizedUnmaskedChildContext===er)return nr.__reactInternalMemoizedMaskedChildContext;var ir={},or;for(or in rr)ir[or]=er[or];return nr&&(tr=tr.stateNode,tr.__reactInternalMemoizedUnmaskedChildContext=er,tr.__reactInternalMemoizedMaskedChildContext=ir),ir}function Zf(tr){return tr=tr.childContextTypes,tr!=null}function $f(){E$2(Wf),E$2(H$1)}function ag(tr,er,rr){if(H$1.current!==Vf)throw Error(p$3(168));G$2(H$1,er),G$2(Wf,rr)}function bg(tr,er,rr){var nr=tr.stateNode;if(er=er.childContextTypes,typeof nr.getChildContext!="function")return rr;nr=nr.getChildContext();for(var ir in nr)if(!(ir in er))throw Error(p$3(108,Ra(tr)||"Unknown",ir));return A$3({},rr,nr)}function cg(tr){return tr=(tr=tr.stateNode)&&tr.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$2(H$1,tr),G$2(Wf,Wf.current),!0}function dg(tr,er,rr){var nr=tr.stateNode;if(!nr)throw Error(p$3(169));rr?(tr=bg(tr,er,Xf),nr.__reactInternalMemoizedMergedChildContext=tr,E$2(Wf),E$2(H$1),G$2(H$1,tr)):E$2(Wf),G$2(Wf,rr)}var eg=null,fg=!1,gg=!1;function hg(tr){eg===null?eg=[tr]:eg.push(tr)}function ig(tr){fg=!0,hg(tr)}function jg(){if(!gg&&eg!==null){gg=!0;var tr=0,er=C$2;try{var rr=eg;for(C$2=1;tr<rr.length;tr++){var nr=rr[tr];do nr=nr(!0);while(nr!==null)}eg=null,fg=!1}catch(ir){throw eg!==null&&(eg=eg.slice(tr+1)),ac(fc,jg),ir}finally{C$2=er,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(tr,er){kg[lg++]=ng,kg[lg++]=mg,mg=tr,ng=er}function ug(tr,er,rr){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=tr;var nr=rg;tr=sg;var ir=32-oc(nr)-1;nr&=~(1<<ir),rr+=1;var or=32-oc(er)+ir;if(30<or){var sr=ir-ir%5;or=(nr&(1<<sr)-1).toString(32),nr>>=sr,ir-=sr,rg=1<<32-oc(er)+ir|rr<<ir|nr,sg=or+tr}else rg=1<<or|rr<<ir|nr,sg=tr}function vg(tr){tr.return!==null&&(tg(tr,1),ug(tr,1,0))}function wg(tr){for(;tr===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;tr===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(tr,er){var rr=Bg(5,null,null,0);rr.elementType="DELETED",rr.stateNode=er,rr.return=tr,er=tr.deletions,er===null?(tr.deletions=[rr],tr.flags|=16):er.push(rr)}function Cg(tr,er){switch(tr.tag){case 5:var rr=tr.type;return er=er.nodeType!==1||rr.toLowerCase()!==er.nodeName.toLowerCase()?null:er,er!==null?(tr.stateNode=er,xg=tr,yg=Lf(er.firstChild),!0):!1;case 6:return er=tr.pendingProps===""||er.nodeType!==3?null:er,er!==null?(tr.stateNode=er,xg=tr,yg=null,!0):!1;case 13:return er=er.nodeType!==8?null:er,er!==null?(rr=qg!==null?{id:rg,overflow:sg}:null,tr.memoizedState={dehydrated:er,treeContext:rr,retryLane:1073741824},rr=Bg(18,null,null,0),rr.stateNode=er,rr.return=tr,tr.child=rr,xg=tr,yg=null,!0):!1;default:return!1}}function Dg(tr){return(tr.mode&1)!==0&&(tr.flags&128)===0}function Eg(tr){if(I$1){var er=yg;if(er){var rr=er;if(!Cg(tr,er)){if(Dg(tr))throw Error(p$3(418));er=Lf(rr.nextSibling);var nr=xg;er&&Cg(tr,er)?Ag(nr,rr):(tr.flags=tr.flags&-4097|2,I$1=!1,xg=tr)}}else{if(Dg(tr))throw Error(p$3(418));tr.flags=tr.flags&-4097|2,I$1=!1,xg=tr}}}function Fg(tr){for(tr=tr.return;tr!==null&&tr.tag!==5&&tr.tag!==3&&tr.tag!==13;)tr=tr.return;xg=tr}function Gg(tr){if(tr!==xg)return!1;if(!I$1)return Fg(tr),I$1=!0,!1;var er;if((er=tr.tag!==3)&&!(er=tr.tag!==5)&&(er=tr.type,er=er!=="head"&&er!=="body"&&!Ef(tr.type,tr.memoizedProps)),er&&(er=yg)){if(Dg(tr))throw Hg(),Error(p$3(418));for(;er;)Ag(tr,er),er=Lf(er.nextSibling)}if(Fg(tr),tr.tag===13){if(tr=tr.memoizedState,tr=tr!==null?tr.dehydrated:null,!tr)throw Error(p$3(317));e:{for(tr=tr.nextSibling,er=0;tr;){if(tr.nodeType===8){var rr=tr.data;if(rr==="/$"){if(er===0){yg=Lf(tr.nextSibling);break e}er--}else rr!=="$"&&rr!=="$!"&&rr!=="$?"||er++}tr=tr.nextSibling}yg=null}}else yg=xg?Lf(tr.stateNode.nextSibling):null;return!0}function Hg(){for(var tr=yg;tr;)tr=Lf(tr.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(tr){zg===null?zg=[tr]:zg.push(tr)}var Kg=ua.ReactCurrentBatchConfig;function Lg(tr,er,rr){if(tr=rr.ref,tr!==null&&typeof tr!="function"&&typeof tr!="object"){if(rr._owner){if(rr=rr._owner,rr){if(rr.tag!==1)throw Error(p$3(309));var nr=rr.stateNode}if(!nr)throw Error(p$3(147,tr));var ir=nr,or=""+tr;return er!==null&&er.ref!==null&&typeof er.ref=="function"&&er.ref._stringRef===or?er.ref:(er=function(sr){var ar=ir.refs;sr===null?delete ar[or]:ar[or]=sr},er._stringRef=or,er)}if(typeof tr!="string")throw Error(p$3(284));if(!rr._owner)throw Error(p$3(290,tr))}return tr}function Mg(tr,er){throw tr=Object.prototype.toString.call(er),Error(p$3(31,tr==="[object Object]"?"object with keys {"+Object.keys(er).join(", ")+"}":tr))}function Ng(tr){var er=tr._init;return er(tr._payload)}function Og(tr){function er(Er,_r){if(tr){var xr=Er.deletions;xr===null?(Er.deletions=[_r],Er.flags|=16):xr.push(_r)}}function rr(Er,_r){if(!tr)return null;for(;_r!==null;)er(Er,_r),_r=_r.sibling;return null}function nr(Er,_r){for(Er=new Map;_r!==null;)_r.key!==null?Er.set(_r.key,_r):Er.set(_r.index,_r),_r=_r.sibling;return Er}function ir(Er,_r){return Er=Pg(Er,_r),Er.index=0,Er.sibling=null,Er}function or(Er,_r,xr){return Er.index=xr,tr?(xr=Er.alternate,xr!==null?(xr=xr.index,xr<_r?(Er.flags|=2,_r):xr):(Er.flags|=2,_r)):(Er.flags|=1048576,_r)}function sr(Er){return tr&&Er.alternate===null&&(Er.flags|=2),Er}function ar(Er,_r,xr,Ir){return _r===null||_r.tag!==6?(_r=Qg(xr,Er.mode,Ir),_r.return=Er,_r):(_r=ir(_r,xr),_r.return=Er,_r)}function cr(Er,_r,xr,Ir){var Nr=xr.type;return Nr===ya?ur(Er,_r,xr.props.children,Ir,xr.key):_r!==null&&(_r.elementType===Nr||typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===Ha&&Ng(Nr)===_r.type)?(Ir=ir(_r,xr.props),Ir.ref=Lg(Er,_r,xr),Ir.return=Er,Ir):(Ir=Rg(xr.type,xr.key,xr.props,null,Er.mode,Ir),Ir.ref=Lg(Er,_r,xr),Ir.return=Er,Ir)}function lr(Er,_r,xr,Ir){return _r===null||_r.tag!==4||_r.stateNode.containerInfo!==xr.containerInfo||_r.stateNode.implementation!==xr.implementation?(_r=Sg(xr,Er.mode,Ir),_r.return=Er,_r):(_r=ir(_r,xr.children||[]),_r.return=Er,_r)}function ur(Er,_r,xr,Ir,Nr){return _r===null||_r.tag!==7?(_r=Tg(xr,Er.mode,Ir,Nr),_r.return=Er,_r):(_r=ir(_r,xr),_r.return=Er,_r)}function fr(Er,_r,xr){if(typeof _r=="string"&&_r!==""||typeof _r=="number")return _r=Qg(""+_r,Er.mode,xr),_r.return=Er,_r;if(typeof _r=="object"&&_r!==null){switch(_r.$$typeof){case va:return xr=Rg(_r.type,_r.key,_r.props,null,Er.mode,xr),xr.ref=Lg(Er,null,_r),xr.return=Er,xr;case wa:return _r=Sg(_r,Er.mode,xr),_r.return=Er,_r;case Ha:var Ir=_r._init;return fr(Er,Ir(_r._payload),xr)}if(eb(_r)||Ka(_r))return _r=Tg(_r,Er.mode,xr,null),_r.return=Er,_r;Mg(Er,_r)}return null}function dr(Er,_r,xr,Ir){var Nr=_r!==null?_r.key:null;if(typeof xr=="string"&&xr!==""||typeof xr=="number")return Nr!==null?null:ar(Er,_r,""+xr,Ir);if(typeof xr=="object"&&xr!==null){switch(xr.$$typeof){case va:return xr.key===Nr?cr(Er,_r,xr,Ir):null;case wa:return xr.key===Nr?lr(Er,_r,xr,Ir):null;case Ha:return Nr=xr._init,dr(Er,_r,Nr(xr._payload),Ir)}if(eb(xr)||Ka(xr))return Nr!==null?null:ur(Er,_r,xr,Ir,null);Mg(Er,xr)}return null}function gr(Er,_r,xr,Ir,Nr){if(typeof Ir=="string"&&Ir!==""||typeof Ir=="number")return Er=Er.get(xr)||null,ar(_r,Er,""+Ir,Nr);if(typeof Ir=="object"&&Ir!==null){switch(Ir.$$typeof){case va:return Er=Er.get(Ir.key===null?xr:Ir.key)||null,cr(_r,Er,Ir,Nr);case wa:return Er=Er.get(Ir.key===null?xr:Ir.key)||null,lr(_r,Er,Ir,Nr);case Ha:var Lr=Ir._init;return gr(Er,_r,xr,Lr(Ir._payload),Nr)}if(eb(Ir)||Ka(Ir))return Er=Er.get(xr)||null,ur(_r,Er,Ir,Nr,null);Mg(_r,Ir)}return null}function br(Er,_r,xr,Ir){for(var Nr=null,Lr=null,jr=_r,Or=_r=0,Dr=null;jr!==null&&Or<xr.length;Or++){jr.index>Or?(Dr=jr,jr=null):Dr=jr.sibling;var Cr=dr(Er,jr,xr[Or],Ir);if(Cr===null){jr===null&&(jr=Dr);break}tr&&jr&&Cr.alternate===null&&er(Er,jr),_r=or(Cr,_r,Or),Lr===null?Nr=Cr:Lr.sibling=Cr,Lr=Cr,jr=Dr}if(Or===xr.length)return rr(Er,jr),I$1&&tg(Er,Or),Nr;if(jr===null){for(;Or<xr.length;Or++)jr=fr(Er,xr[Or],Ir),jr!==null&&(_r=or(jr,_r,Or),Lr===null?Nr=jr:Lr.sibling=jr,Lr=jr);return I$1&&tg(Er,Or),Nr}for(jr=nr(Er,jr);Or<xr.length;Or++)Dr=gr(jr,Er,Or,xr[Or],Ir),Dr!==null&&(tr&&Dr.alternate!==null&&jr.delete(Dr.key===null?Or:Dr.key),_r=or(Dr,_r,Or),Lr===null?Nr=Dr:Lr.sibling=Dr,Lr=Dr);return tr&&jr.forEach(function(Tr){return er(Er,Tr)}),I$1&&tg(Er,Or),Nr}function vr(Er,_r,xr,Ir){var Nr=Ka(xr);if(typeof Nr!="function")throw Error(p$3(150));if(xr=Nr.call(xr),xr==null)throw Error(p$3(151));for(var Lr=Nr=null,jr=_r,Or=_r=0,Dr=null,Cr=xr.next();jr!==null&&!Cr.done;Or++,Cr=xr.next()){jr.index>Or?(Dr=jr,jr=null):Dr=jr.sibling;var Tr=dr(Er,jr,Cr.value,Ir);if(Tr===null){jr===null&&(jr=Dr);break}tr&&jr&&Tr.alternate===null&&er(Er,jr),_r=or(Tr,_r,Or),Lr===null?Nr=Tr:Lr.sibling=Tr,Lr=Tr,jr=Dr}if(Cr.done)return rr(Er,jr),I$1&&tg(Er,Or),Nr;if(jr===null){for(;!Cr.done;Or++,Cr=xr.next())Cr=fr(Er,Cr.value,Ir),Cr!==null&&(_r=or(Cr,_r,Or),Lr===null?Nr=Cr:Lr.sibling=Cr,Lr=Cr);return I$1&&tg(Er,Or),Nr}for(jr=nr(Er,jr);!Cr.done;Or++,Cr=xr.next())Cr=gr(jr,Er,Or,Cr.value,Ir),Cr!==null&&(tr&&Cr.alternate!==null&&jr.delete(Cr.key===null?Or:Cr.key),_r=or(Cr,_r,Or),Lr===null?Nr=Cr:Lr.sibling=Cr,Lr=Cr);return tr&&jr.forEach(function(yr){return er(Er,yr)}),I$1&&tg(Er,Or),Nr}function $r(Er,_r,xr,Ir){if(typeof xr=="object"&&xr!==null&&xr.type===ya&&xr.key===null&&(xr=xr.props.children),typeof xr=="object"&&xr!==null){switch(xr.$$typeof){case va:e:{for(var Nr=xr.key,Lr=_r;Lr!==null;){if(Lr.key===Nr){if(Nr=xr.type,Nr===ya){if(Lr.tag===7){rr(Er,Lr.sibling),_r=ir(Lr,xr.props.children),_r.return=Er,Er=_r;break e}}else if(Lr.elementType===Nr||typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===Ha&&Ng(Nr)===Lr.type){rr(Er,Lr.sibling),_r=ir(Lr,xr.props),_r.ref=Lg(Er,Lr,xr),_r.return=Er,Er=_r;break e}rr(Er,Lr);break}else er(Er,Lr);Lr=Lr.sibling}xr.type===ya?(_r=Tg(xr.props.children,Er.mode,Ir,xr.key),_r.return=Er,Er=_r):(Ir=Rg(xr.type,xr.key,xr.props,null,Er.mode,Ir),Ir.ref=Lg(Er,_r,xr),Ir.return=Er,Er=Ir)}return sr(Er);case wa:e:{for(Lr=xr.key;_r!==null;){if(_r.key===Lr)if(_r.tag===4&&_r.stateNode.containerInfo===xr.containerInfo&&_r.stateNode.implementation===xr.implementation){rr(Er,_r.sibling),_r=ir(_r,xr.children||[]),_r.return=Er,Er=_r;break e}else{rr(Er,_r);break}else er(Er,_r);_r=_r.sibling}_r=Sg(xr,Er.mode,Ir),_r.return=Er,Er=_r}return sr(Er);case Ha:return Lr=xr._init,$r(Er,_r,Lr(xr._payload),Ir)}if(eb(xr))return br(Er,_r,xr,Ir);if(Ka(xr))return vr(Er,_r,xr,Ir);Mg(Er,xr)}return typeof xr=="string"&&xr!==""||typeof xr=="number"?(xr=""+xr,_r!==null&&_r.tag===6?(rr(Er,_r.sibling),_r=ir(_r,xr),_r.return=Er,Er=_r):(rr(Er,_r),_r=Qg(xr,Er.mode,Ir),_r.return=Er,Er=_r),sr(Er)):rr(Er,_r)}return $r}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(tr){var er=Wg.current;E$2(Wg),tr._currentValue=er}function bh(tr,er,rr){for(;tr!==null;){var nr=tr.alternate;if((tr.childLanes&er)!==er?(tr.childLanes|=er,nr!==null&&(nr.childLanes|=er)):nr!==null&&(nr.childLanes&er)!==er&&(nr.childLanes|=er),tr===rr)break;tr=tr.return}}function ch$1(tr,er){Xg=tr,Zg=Yg=null,tr=tr.dependencies,tr!==null&&tr.firstContext!==null&&(tr.lanes&er&&(dh=!0),tr.firstContext=null)}function eh(tr){var er=tr._currentValue;if(Zg!==tr)if(tr={context:tr,memoizedValue:er,next:null},Yg===null){if(Xg===null)throw Error(p$3(308));Yg=tr,Xg.dependencies={lanes:0,firstContext:tr}}else Yg=Yg.next=tr;return er}var fh=null;function gh(tr){fh===null?fh=[tr]:fh.push(tr)}function hh(tr,er,rr,nr){var ir=er.interleaved;return ir===null?(rr.next=rr,gh(er)):(rr.next=ir.next,ir.next=rr),er.interleaved=rr,ih(tr,nr)}function ih(tr,er){tr.lanes|=er;var rr=tr.alternate;for(rr!==null&&(rr.lanes|=er),rr=tr,tr=tr.return;tr!==null;)tr.childLanes|=er,rr=tr.alternate,rr!==null&&(rr.childLanes|=er),rr=tr,tr=tr.return;return rr.tag===3?rr.stateNode:null}var jh=!1;function kh(tr){tr.updateQueue={baseState:tr.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(tr,er){tr=tr.updateQueue,er.updateQueue===tr&&(er.updateQueue={baseState:tr.baseState,firstBaseUpdate:tr.firstBaseUpdate,lastBaseUpdate:tr.lastBaseUpdate,shared:tr.shared,effects:tr.effects})}function mh(tr,er){return{eventTime:tr,lane:er,tag:0,payload:null,callback:null,next:null}}function nh(tr,er,rr){var nr=tr.updateQueue;if(nr===null)return null;if(nr=nr.shared,K$5&2){var ir=nr.pending;return ir===null?er.next=er:(er.next=ir.next,ir.next=er),nr.pending=er,ih(tr,rr)}return ir=nr.interleaved,ir===null?(er.next=er,gh(nr)):(er.next=ir.next,ir.next=er),nr.interleaved=er,ih(tr,rr)}function oh(tr,er,rr){if(er=er.updateQueue,er!==null&&(er=er.shared,(rr&4194240)!==0)){var nr=er.lanes;nr&=tr.pendingLanes,rr|=nr,er.lanes=rr,Cc(tr,rr)}}function ph(tr,er){var rr=tr.updateQueue,nr=tr.alternate;if(nr!==null&&(nr=nr.updateQueue,rr===nr)){var ir=null,or=null;if(rr=rr.firstBaseUpdate,rr!==null){do{var sr={eventTime:rr.eventTime,lane:rr.lane,tag:rr.tag,payload:rr.payload,callback:rr.callback,next:null};or===null?ir=or=sr:or=or.next=sr,rr=rr.next}while(rr!==null);or===null?ir=or=er:or=or.next=er}else ir=or=er;rr={baseState:nr.baseState,firstBaseUpdate:ir,lastBaseUpdate:or,shared:nr.shared,effects:nr.effects},tr.updateQueue=rr;return}tr=rr.lastBaseUpdate,tr===null?rr.firstBaseUpdate=er:tr.next=er,rr.lastBaseUpdate=er}function qh(tr,er,rr,nr){var ir=tr.updateQueue;jh=!1;var or=ir.firstBaseUpdate,sr=ir.lastBaseUpdate,ar=ir.shared.pending;if(ar!==null){ir.shared.pending=null;var cr=ar,lr=cr.next;cr.next=null,sr===null?or=lr:sr.next=lr,sr=cr;var ur=tr.alternate;ur!==null&&(ur=ur.updateQueue,ar=ur.lastBaseUpdate,ar!==sr&&(ar===null?ur.firstBaseUpdate=lr:ar.next=lr,ur.lastBaseUpdate=cr))}if(or!==null){var fr=ir.baseState;sr=0,ur=lr=cr=null,ar=or;do{var dr=ar.lane,gr=ar.eventTime;if((nr&dr)===dr){ur!==null&&(ur=ur.next={eventTime:gr,lane:0,tag:ar.tag,payload:ar.payload,callback:ar.callback,next:null});e:{var br=tr,vr=ar;switch(dr=er,gr=rr,vr.tag){case 1:if(br=vr.payload,typeof br=="function"){fr=br.call(gr,fr,dr);break e}fr=br;break e;case 3:br.flags=br.flags&-65537|128;case 0:if(br=vr.payload,dr=typeof br=="function"?br.call(gr,fr,dr):br,dr==null)break e;fr=A$3({},fr,dr);break e;case 2:jh=!0}}ar.callback!==null&&ar.lane!==0&&(tr.flags|=64,dr=ir.effects,dr===null?ir.effects=[ar]:dr.push(ar))}else gr={eventTime:gr,lane:dr,tag:ar.tag,payload:ar.payload,callback:ar.callback,next:null},ur===null?(lr=ur=gr,cr=fr):ur=ur.next=gr,sr|=dr;if(ar=ar.next,ar===null){if(ar=ir.shared.pending,ar===null)break;dr=ar,ar=dr.next,dr.next=null,ir.lastBaseUpdate=dr,ir.shared.pending=null}}while(!0);if(ur===null&&(cr=fr),ir.baseState=cr,ir.firstBaseUpdate=lr,ir.lastBaseUpdate=ur,er=ir.shared.interleaved,er!==null){ir=er;do sr|=ir.lane,ir=ir.next;while(ir!==er)}else or===null&&(ir.shared.lanes=0);rh$1|=sr,tr.lanes=sr,tr.memoizedState=fr}}function sh$1(tr,er,rr){if(tr=er.effects,er.effects=null,tr!==null)for(er=0;er<tr.length;er++){var nr=tr[er],ir=nr.callback;if(ir!==null){if(nr.callback=null,nr=rr,typeof ir!="function")throw Error(p$3(191,ir));ir.call(nr)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(tr){if(tr===th)throw Error(p$3(174));return tr}function yh(tr,er){switch(G$2(wh,er),G$2(vh,tr),G$2(uh,th),tr=er.nodeType,tr){case 9:case 11:er=(er=er.documentElement)?er.namespaceURI:lb(null,"");break;default:tr=tr===8?er.parentNode:er,er=tr.namespaceURI||null,tr=tr.tagName,er=lb(er,tr)}E$2(uh),G$2(uh,er)}function zh(){E$2(uh),E$2(vh),E$2(wh)}function Ah(tr){xh(wh.current);var er=xh(uh.current),rr=lb(er,tr.type);er!==rr&&(G$2(vh,tr),G$2(uh,rr))}function Bh(tr){vh.current===tr&&(E$2(uh),E$2(vh))}var L$2=Uf(0);function Ch$1(tr){for(var er=tr;er!==null;){if(er.tag===13){var rr=er.memoizedState;if(rr!==null&&(rr=rr.dehydrated,rr===null||rr.data==="$?"||rr.data==="$!"))return er}else if(er.tag===19&&er.memoizedProps.revealOrder!==void 0){if(er.flags&128)return er}else if(er.child!==null){er.child.return=er,er=er.child;continue}if(er===tr)break;for(;er.sibling===null;){if(er.return===null||er.return===tr)return null;er=er.return}er.sibling.return=er.return,er=er.sibling}return null}var Dh=[];function Eh(){for(var tr=0;tr<Dh.length;tr++)Dh[tr]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N$2=null,O$2=null,Ih=!1,Jh=!1,Kh$1=0,Lh=0;function P$3(){throw Error(p$3(321))}function Mh(tr,er){if(er===null)return!1;for(var rr=0;rr<er.length&&rr<tr.length;rr++)if(!He$1(tr[rr],er[rr]))return!1;return!0}function Nh(tr,er,rr,nr,ir,or){if(Hh=or,M$2=er,er.memoizedState=null,er.updateQueue=null,er.lanes=0,Fh.current=tr===null||tr.memoizedState===null?Oh:Ph,tr=rr(nr,ir),Jh){or=0;do{if(Jh=!1,Kh$1=0,25<=or)throw Error(p$3(301));or+=1,O$2=N$2=null,er.updateQueue=null,Fh.current=Qh,tr=rr(nr,ir)}while(Jh)}if(Fh.current=Rh,er=N$2!==null&&N$2.next!==null,Hh=0,O$2=N$2=M$2=null,Ih=!1,er)throw Error(p$3(300));return tr}function Sh(){var tr=Kh$1!==0;return Kh$1=0,tr}function Th(){var tr={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$2.memoizedState=O$2=tr:O$2=O$2.next=tr,O$2}function Uh(){if(N$2===null){var tr=M$2.alternate;tr=tr!==null?tr.memoizedState:null}else tr=N$2.next;var er=O$2===null?M$2.memoizedState:O$2.next;if(er!==null)O$2=er,N$2=tr;else{if(tr===null)throw Error(p$3(310));N$2=tr,tr={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$2===null?M$2.memoizedState=O$2=tr:O$2=O$2.next=tr}return O$2}function Vh(tr,er){return typeof er=="function"?er(tr):er}function Wh(tr){var er=Uh(),rr=er.queue;if(rr===null)throw Error(p$3(311));rr.lastRenderedReducer=tr;var nr=N$2,ir=nr.baseQueue,or=rr.pending;if(or!==null){if(ir!==null){var sr=ir.next;ir.next=or.next,or.next=sr}nr.baseQueue=ir=or,rr.pending=null}if(ir!==null){or=ir.next,nr=nr.baseState;var ar=sr=null,cr=null,lr=or;do{var ur=lr.lane;if((Hh&ur)===ur)cr!==null&&(cr=cr.next={lane:0,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null}),nr=lr.hasEagerState?lr.eagerState:tr(nr,lr.action);else{var fr={lane:ur,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null};cr===null?(ar=cr=fr,sr=nr):cr=cr.next=fr,M$2.lanes|=ur,rh$1|=ur}lr=lr.next}while(lr!==null&&lr!==or);cr===null?sr=nr:cr.next=ar,He$1(nr,er.memoizedState)||(dh=!0),er.memoizedState=nr,er.baseState=sr,er.baseQueue=cr,rr.lastRenderedState=nr}if(tr=rr.interleaved,tr!==null){ir=tr;do or=ir.lane,M$2.lanes|=or,rh$1|=or,ir=ir.next;while(ir!==tr)}else ir===null&&(rr.lanes=0);return[er.memoizedState,rr.dispatch]}function Xh(tr){var er=Uh(),rr=er.queue;if(rr===null)throw Error(p$3(311));rr.lastRenderedReducer=tr;var nr=rr.dispatch,ir=rr.pending,or=er.memoizedState;if(ir!==null){rr.pending=null;var sr=ir=ir.next;do or=tr(or,sr.action),sr=sr.next;while(sr!==ir);He$1(or,er.memoizedState)||(dh=!0),er.memoizedState=or,er.baseQueue===null&&(er.baseState=or),rr.lastRenderedState=or}return[or,nr]}function Yh(){}function Zh(tr,er){var rr=M$2,nr=Uh(),ir=er(),or=!He$1(nr.memoizedState,ir);if(or&&(nr.memoizedState=ir,dh=!0),nr=nr.queue,$h(ai.bind(null,rr,nr,tr),[tr]),nr.getSnapshot!==er||or||O$2!==null&&O$2.memoizedState.tag&1){if(rr.flags|=2048,bi(9,ci.bind(null,rr,nr,ir,er),void 0,null),Q$1===null)throw Error(p$3(349));Hh&30||di(rr,er,ir)}return ir}function di(tr,er,rr){tr.flags|=16384,tr={getSnapshot:er,value:rr},er=M$2.updateQueue,er===null?(er={lastEffect:null,stores:null},M$2.updateQueue=er,er.stores=[tr]):(rr=er.stores,rr===null?er.stores=[tr]:rr.push(tr))}function ci(tr,er,rr,nr){er.value=rr,er.getSnapshot=nr,ei(er)&&fi(tr)}function ai(tr,er,rr){return rr(function(){ei(er)&&fi(tr)})}function ei(tr){var er=tr.getSnapshot;tr=tr.value;try{var rr=er();return!He$1(tr,rr)}catch{return!0}}function fi(tr){var er=ih(tr,1);er!==null&&gi(er,tr,1,-1)}function hi(tr){var er=Th();return typeof tr=="function"&&(tr=tr()),er.memoizedState=er.baseState=tr,tr={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:tr},er.queue=tr,tr=tr.dispatch=ii.bind(null,M$2,tr),[er.memoizedState,tr]}function bi(tr,er,rr,nr){return tr={tag:tr,create:er,destroy:rr,deps:nr,next:null},er=M$2.updateQueue,er===null?(er={lastEffect:null,stores:null},M$2.updateQueue=er,er.lastEffect=tr.next=tr):(rr=er.lastEffect,rr===null?er.lastEffect=tr.next=tr:(nr=rr.next,rr.next=tr,tr.next=nr,er.lastEffect=tr)),tr}function ji(){return Uh().memoizedState}function ki(tr,er,rr,nr){var ir=Th();M$2.flags|=tr,ir.memoizedState=bi(1|er,rr,void 0,nr===void 0?null:nr)}function li(tr,er,rr,nr){var ir=Uh();nr=nr===void 0?null:nr;var or=void 0;if(N$2!==null){var sr=N$2.memoizedState;if(or=sr.destroy,nr!==null&&Mh(nr,sr.deps)){ir.memoizedState=bi(er,rr,or,nr);return}}M$2.flags|=tr,ir.memoizedState=bi(1|er,rr,or,nr)}function mi(tr,er){return ki(8390656,8,tr,er)}function $h(tr,er){return li(2048,8,tr,er)}function ni(tr,er){return li(4,2,tr,er)}function oi(tr,er){return li(4,4,tr,er)}function pi$2(tr,er){if(typeof er=="function")return tr=tr(),er(tr),function(){er(null)};if(er!=null)return tr=tr(),er.current=tr,function(){er.current=null}}function qi(tr,er,rr){return rr=rr!=null?rr.concat([tr]):null,li(4,4,pi$2.bind(null,er,tr),rr)}function ri(){}function si(tr,er){var rr=Uh();er=er===void 0?null:er;var nr=rr.memoizedState;return nr!==null&&er!==null&&Mh(er,nr[1])?nr[0]:(rr.memoizedState=[tr,er],tr)}function ti(tr,er){var rr=Uh();er=er===void 0?null:er;var nr=rr.memoizedState;return nr!==null&&er!==null&&Mh(er,nr[1])?nr[0]:(tr=tr(),rr.memoizedState=[tr,er],tr)}function ui(tr,er,rr){return Hh&21?(He$1(rr,er)||(rr=yc(),M$2.lanes|=rr,rh$1|=rr,tr.baseState=!0),er):(tr.baseState&&(tr.baseState=!1,dh=!0),tr.memoizedState=rr)}function vi(tr,er){var rr=C$2;C$2=rr!==0&&4>rr?rr:4,tr(!0);var nr=Gh.transition;Gh.transition={};try{tr(!1),er()}finally{C$2=rr,Gh.transition=nr}}function wi(){return Uh().memoizedState}function xi(tr,er,rr){var nr=yi(tr);if(rr={lane:nr,action:rr,hasEagerState:!1,eagerState:null,next:null},zi(tr))Ai(er,rr);else if(rr=hh(tr,er,rr,nr),rr!==null){var ir=R$1();gi(rr,tr,nr,ir),Bi(rr,er,nr)}}function ii(tr,er,rr){var nr=yi(tr),ir={lane:nr,action:rr,hasEagerState:!1,eagerState:null,next:null};if(zi(tr))Ai(er,ir);else{var or=tr.alternate;if(tr.lanes===0&&(or===null||or.lanes===0)&&(or=er.lastRenderedReducer,or!==null))try{var sr=er.lastRenderedState,ar=or(sr,rr);if(ir.hasEagerState=!0,ir.eagerState=ar,He$1(ar,sr)){var cr=er.interleaved;cr===null?(ir.next=ir,gh(er)):(ir.next=cr.next,cr.next=ir),er.interleaved=ir;return}}catch{}finally{}rr=hh(tr,er,ir,nr),rr!==null&&(ir=R$1(),gi(rr,tr,nr,ir),Bi(rr,er,nr))}}function zi(tr){var er=tr.alternate;return tr===M$2||er!==null&&er===M$2}function Ai(tr,er){Jh=Ih=!0;var rr=tr.pending;rr===null?er.next=er:(er.next=rr.next,rr.next=er),tr.pending=er}function Bi(tr,er,rr){if(rr&4194240){var nr=er.lanes;nr&=tr.pendingLanes,rr|=nr,er.lanes=rr,Cc(tr,rr)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(tr,er){return Th().memoizedState=[tr,er===void 0?null:er],tr},useContext:eh,useEffect:mi,useImperativeHandle:function(tr,er,rr){return rr=rr!=null?rr.concat([tr]):null,ki(4194308,4,pi$2.bind(null,er,tr),rr)},useLayoutEffect:function(tr,er){return ki(4194308,4,tr,er)},useInsertionEffect:function(tr,er){return ki(4,2,tr,er)},useMemo:function(tr,er){var rr=Th();return er=er===void 0?null:er,tr=tr(),rr.memoizedState=[tr,er],tr},useReducer:function(tr,er,rr){var nr=Th();return er=rr!==void 0?rr(er):er,nr.memoizedState=nr.baseState=er,tr={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:er},nr.queue=tr,tr=tr.dispatch=xi.bind(null,M$2,tr),[nr.memoizedState,tr]},useRef:function(tr){var er=Th();return tr={current:tr},er.memoizedState=tr},useState:hi,useDebugValue:ri,useDeferredValue:function(tr){return Th().memoizedState=tr},useTransition:function(){var tr=hi(!1),er=tr[0];return tr=vi.bind(null,tr[1]),Th().memoizedState=tr,[er,tr]},useMutableSource:function(){},useSyncExternalStore:function(tr,er,rr){var nr=M$2,ir=Th();if(I$1){if(rr===void 0)throw Error(p$3(407));rr=rr()}else{if(rr=er(),Q$1===null)throw Error(p$3(349));Hh&30||di(nr,er,rr)}ir.memoizedState=rr;var or={value:rr,getSnapshot:er};return ir.queue=or,mi(ai.bind(null,nr,or,tr),[tr]),nr.flags|=2048,bi(9,ci.bind(null,nr,or,rr,er),void 0,null),rr},useId:function(){var tr=Th(),er=Q$1.identifierPrefix;if(I$1){var rr=sg,nr=rg;rr=(nr&~(1<<32-oc(nr)-1)).toString(32)+rr,er=":"+er+"R"+rr,rr=Kh$1++,0<rr&&(er+="H"+rr.toString(32)),er+=":"}else rr=Lh++,er=":"+er+"r"+rr.toString(32)+":";return tr.memoizedState=er},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(tr){var er=Uh();return ui(er,N$2.memoizedState,tr)},useTransition:function(){var tr=Wh(Vh)[0],er=Uh().memoizedState;return[tr,er]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(tr){var er=Uh();return N$2===null?er.memoizedState=tr:ui(er,N$2.memoizedState,tr)},useTransition:function(){var tr=Xh(Vh)[0],er=Uh().memoizedState;return[tr,er]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(tr,er){if(tr&&tr.defaultProps){er=A$3({},er),tr=tr.defaultProps;for(var rr in tr)er[rr]===void 0&&(er[rr]=tr[rr]);return er}return er}function Di(tr,er,rr,nr){er=tr.memoizedState,rr=rr(nr,er),rr=rr==null?er:A$3({},er,rr),tr.memoizedState=rr,tr.lanes===0&&(tr.updateQueue.baseState=rr)}var Ei={isMounted:function(tr){return(tr=tr._reactInternals)?Vb(tr)===tr:!1},enqueueSetState:function(tr,er,rr){tr=tr._reactInternals;var nr=R$1(),ir=yi(tr),or=mh(nr,ir);or.payload=er,rr!=null&&(or.callback=rr),er=nh(tr,or,ir),er!==null&&(gi(er,tr,ir,nr),oh(er,tr,ir))},enqueueReplaceState:function(tr,er,rr){tr=tr._reactInternals;var nr=R$1(),ir=yi(tr),or=mh(nr,ir);or.tag=1,or.payload=er,rr!=null&&(or.callback=rr),er=nh(tr,or,ir),er!==null&&(gi(er,tr,ir,nr),oh(er,tr,ir))},enqueueForceUpdate:function(tr,er){tr=tr._reactInternals;var rr=R$1(),nr=yi(tr),ir=mh(rr,nr);ir.tag=2,er!=null&&(ir.callback=er),er=nh(tr,ir,nr),er!==null&&(gi(er,tr,nr,rr),oh(er,tr,nr))}};function Fi(tr,er,rr,nr,ir,or,sr){return tr=tr.stateNode,typeof tr.shouldComponentUpdate=="function"?tr.shouldComponentUpdate(nr,or,sr):er.prototype&&er.prototype.isPureReactComponent?!Ie$1(rr,nr)||!Ie$1(ir,or):!0}function Gi(tr,er,rr){var nr=!1,ir=Vf,or=er.contextType;return typeof or=="object"&&or!==null?or=eh(or):(ir=Zf(er)?Xf:H$1.current,nr=er.contextTypes,or=(nr=nr!=null)?Yf(tr,ir):Vf),er=new er(rr,or),tr.memoizedState=er.state!==null&&er.state!==void 0?er.state:null,er.updater=Ei,tr.stateNode=er,er._reactInternals=tr,nr&&(tr=tr.stateNode,tr.__reactInternalMemoizedUnmaskedChildContext=ir,tr.__reactInternalMemoizedMaskedChildContext=or),er}function Hi(tr,er,rr,nr){tr=er.state,typeof er.componentWillReceiveProps=="function"&&er.componentWillReceiveProps(rr,nr),typeof er.UNSAFE_componentWillReceiveProps=="function"&&er.UNSAFE_componentWillReceiveProps(rr,nr),er.state!==tr&&Ei.enqueueReplaceState(er,er.state,null)}function Ii(tr,er,rr,nr){var ir=tr.stateNode;ir.props=rr,ir.state=tr.memoizedState,ir.refs={},kh(tr);var or=er.contextType;typeof or=="object"&&or!==null?ir.context=eh(or):(or=Zf(er)?Xf:H$1.current,ir.context=Yf(tr,or)),ir.state=tr.memoizedState,or=er.getDerivedStateFromProps,typeof or=="function"&&(Di(tr,er,or,rr),ir.state=tr.memoizedState),typeof er.getDerivedStateFromProps=="function"||typeof ir.getSnapshotBeforeUpdate=="function"||typeof ir.UNSAFE_componentWillMount!="function"&&typeof ir.componentWillMount!="function"||(er=ir.state,typeof ir.componentWillMount=="function"&&ir.componentWillMount(),typeof ir.UNSAFE_componentWillMount=="function"&&ir.UNSAFE_componentWillMount(),er!==ir.state&&Ei.enqueueReplaceState(ir,ir.state,null),qh(tr,rr,ir,nr),ir.state=tr.memoizedState),typeof ir.componentDidMount=="function"&&(tr.flags|=4194308)}function Ji(tr,er){try{var rr="",nr=er;do rr+=Pa(nr),nr=nr.return;while(nr);var ir=rr}catch(or){ir=`
Error generating stack: `+or.message+`
`+or.stack}return{value:tr,source:er,stack:ir,digest:null}}function Ki(tr,er,rr){return{value:tr,source:null,stack:rr??null,digest:er??null}}function Li(tr,er){try{console.error(er.value)}catch(rr){setTimeout(function(){throw rr})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(tr,er,rr){rr=mh(-1,rr),rr.tag=3,rr.payload={element:null};var nr=er.value;return rr.callback=function(){Oi||(Oi=!0,Pi=nr),Li(tr,er)},rr}function Qi(tr,er,rr){rr=mh(-1,rr),rr.tag=3;var nr=tr.type.getDerivedStateFromError;if(typeof nr=="function"){var ir=er.value;rr.payload=function(){return nr(ir)},rr.callback=function(){Li(tr,er)}}var or=tr.stateNode;return or!==null&&typeof or.componentDidCatch=="function"&&(rr.callback=function(){Li(tr,er),typeof nr!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var sr=er.stack;this.componentDidCatch(er.value,{componentStack:sr!==null?sr:""})}),rr}function Si(tr,er,rr){var nr=tr.pingCache;if(nr===null){nr=tr.pingCache=new Mi;var ir=new Set;nr.set(er,ir)}else ir=nr.get(er),ir===void 0&&(ir=new Set,nr.set(er,ir));ir.has(rr)||(ir.add(rr),tr=Ti.bind(null,tr,er,rr),er.then(tr,tr))}function Ui(tr){do{var er;if((er=tr.tag===13)&&(er=tr.memoizedState,er=er!==null?er.dehydrated!==null:!0),er)return tr;tr=tr.return}while(tr!==null);return null}function Vi(tr,er,rr,nr,ir){return tr.mode&1?(tr.flags|=65536,tr.lanes=ir,tr):(tr===er?tr.flags|=65536:(tr.flags|=128,rr.flags|=131072,rr.flags&=-52805,rr.tag===1&&(rr.alternate===null?rr.tag=17:(er=mh(-1,1),er.tag=2,nh(rr,er,1))),rr.lanes|=1),tr)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(tr,er,rr,nr){er.child=tr===null?Vg(er,null,rr,nr):Ug(er,tr.child,rr,nr)}function Yi(tr,er,rr,nr,ir){rr=rr.render;var or=er.ref;return ch$1(er,ir),nr=Nh(tr,er,rr,nr,or,ir),rr=Sh(),tr!==null&&!dh?(er.updateQueue=tr.updateQueue,er.flags&=-2053,tr.lanes&=~ir,Zi(tr,er,ir)):(I$1&&rr&&vg(er),er.flags|=1,Xi(tr,er,nr,ir),er.child)}function $i(tr,er,rr,nr,ir){if(tr===null){var or=rr.type;return typeof or=="function"&&!aj(or)&&or.defaultProps===void 0&&rr.compare===null&&rr.defaultProps===void 0?(er.tag=15,er.type=or,bj(tr,er,or,nr,ir)):(tr=Rg(rr.type,null,nr,er,er.mode,ir),tr.ref=er.ref,tr.return=er,er.child=tr)}if(or=tr.child,!(tr.lanes&ir)){var sr=or.memoizedProps;if(rr=rr.compare,rr=rr!==null?rr:Ie$1,rr(sr,nr)&&tr.ref===er.ref)return Zi(tr,er,ir)}return er.flags|=1,tr=Pg(or,nr),tr.ref=er.ref,tr.return=er,er.child=tr}function bj(tr,er,rr,nr,ir){if(tr!==null){var or=tr.memoizedProps;if(Ie$1(or,nr)&&tr.ref===er.ref)if(dh=!1,er.pendingProps=nr=or,(tr.lanes&ir)!==0)tr.flags&131072&&(dh=!0);else return er.lanes=tr.lanes,Zi(tr,er,ir)}return cj(tr,er,rr,nr,ir)}function dj(tr,er,rr){var nr=er.pendingProps,ir=nr.children,or=tr!==null?tr.memoizedState:null;if(nr.mode==="hidden")if(!(er.mode&1))er.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=rr;else{if(!(rr&1073741824))return tr=or!==null?or.baseLanes|rr:rr,er.lanes=er.childLanes=1073741824,er.memoizedState={baseLanes:tr,cachePool:null,transitions:null},er.updateQueue=null,G$2(ej,fj),fj|=tr,null;er.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr=or!==null?or.baseLanes:rr,G$2(ej,fj),fj|=nr}else or!==null?(nr=or.baseLanes|rr,er.memoizedState=null):nr=rr,G$2(ej,fj),fj|=nr;return Xi(tr,er,ir,rr),er.child}function gj(tr,er){var rr=er.ref;(tr===null&&rr!==null||tr!==null&&tr.ref!==rr)&&(er.flags|=512,er.flags|=2097152)}function cj(tr,er,rr,nr,ir){var or=Zf(rr)?Xf:H$1.current;return or=Yf(er,or),ch$1(er,ir),rr=Nh(tr,er,rr,nr,or,ir),nr=Sh(),tr!==null&&!dh?(er.updateQueue=tr.updateQueue,er.flags&=-2053,tr.lanes&=~ir,Zi(tr,er,ir)):(I$1&&nr&&vg(er),er.flags|=1,Xi(tr,er,rr,ir),er.child)}function hj(tr,er,rr,nr,ir){if(Zf(rr)){var or=!0;cg(er)}else or=!1;if(ch$1(er,ir),er.stateNode===null)ij(tr,er),Gi(er,rr,nr),Ii(er,rr,nr,ir),nr=!0;else if(tr===null){var sr=er.stateNode,ar=er.memoizedProps;sr.props=ar;var cr=sr.context,lr=rr.contextType;typeof lr=="object"&&lr!==null?lr=eh(lr):(lr=Zf(rr)?Xf:H$1.current,lr=Yf(er,lr));var ur=rr.getDerivedStateFromProps,fr=typeof ur=="function"||typeof sr.getSnapshotBeforeUpdate=="function";fr||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(ar!==nr||cr!==lr)&&Hi(er,sr,nr,lr),jh=!1;var dr=er.memoizedState;sr.state=dr,qh(er,nr,sr,ir),cr=er.memoizedState,ar!==nr||dr!==cr||Wf.current||jh?(typeof ur=="function"&&(Di(er,rr,ur,nr),cr=er.memoizedState),(ar=jh||Fi(er,rr,ar,nr,dr,cr,lr))?(fr||typeof sr.UNSAFE_componentWillMount!="function"&&typeof sr.componentWillMount!="function"||(typeof sr.componentWillMount=="function"&&sr.componentWillMount(),typeof sr.UNSAFE_componentWillMount=="function"&&sr.UNSAFE_componentWillMount()),typeof sr.componentDidMount=="function"&&(er.flags|=4194308)):(typeof sr.componentDidMount=="function"&&(er.flags|=4194308),er.memoizedProps=nr,er.memoizedState=cr),sr.props=nr,sr.state=cr,sr.context=lr,nr=ar):(typeof sr.componentDidMount=="function"&&(er.flags|=4194308),nr=!1)}else{sr=er.stateNode,lh(tr,er),ar=er.memoizedProps,lr=er.type===er.elementType?ar:Ci(er.type,ar),sr.props=lr,fr=er.pendingProps,dr=sr.context,cr=rr.contextType,typeof cr=="object"&&cr!==null?cr=eh(cr):(cr=Zf(rr)?Xf:H$1.current,cr=Yf(er,cr));var gr=rr.getDerivedStateFromProps;(ur=typeof gr=="function"||typeof sr.getSnapshotBeforeUpdate=="function")||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(ar!==fr||dr!==cr)&&Hi(er,sr,nr,cr),jh=!1,dr=er.memoizedState,sr.state=dr,qh(er,nr,sr,ir);var br=er.memoizedState;ar!==fr||dr!==br||Wf.current||jh?(typeof gr=="function"&&(Di(er,rr,gr,nr),br=er.memoizedState),(lr=jh||Fi(er,rr,lr,nr,dr,br,cr)||!1)?(ur||typeof sr.UNSAFE_componentWillUpdate!="function"&&typeof sr.componentWillUpdate!="function"||(typeof sr.componentWillUpdate=="function"&&sr.componentWillUpdate(nr,br,cr),typeof sr.UNSAFE_componentWillUpdate=="function"&&sr.UNSAFE_componentWillUpdate(nr,br,cr)),typeof sr.componentDidUpdate=="function"&&(er.flags|=4),typeof sr.getSnapshotBeforeUpdate=="function"&&(er.flags|=1024)):(typeof sr.componentDidUpdate!="function"||ar===tr.memoizedProps&&dr===tr.memoizedState||(er.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||ar===tr.memoizedProps&&dr===tr.memoizedState||(er.flags|=1024),er.memoizedProps=nr,er.memoizedState=br),sr.props=nr,sr.state=br,sr.context=cr,nr=lr):(typeof sr.componentDidUpdate!="function"||ar===tr.memoizedProps&&dr===tr.memoizedState||(er.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||ar===tr.memoizedProps&&dr===tr.memoizedState||(er.flags|=1024),nr=!1)}return jj(tr,er,rr,nr,or,ir)}function jj(tr,er,rr,nr,ir,or){gj(tr,er);var sr=(er.flags&128)!==0;if(!nr&&!sr)return ir&&dg(er,rr,!1),Zi(tr,er,or);nr=er.stateNode,Wi.current=er;var ar=sr&&typeof rr.getDerivedStateFromError!="function"?null:nr.render();return er.flags|=1,tr!==null&&sr?(er.child=Ug(er,tr.child,null,or),er.child=Ug(er,null,ar,or)):Xi(tr,er,ar,or),er.memoizedState=nr.state,ir&&dg(er,rr,!0),er.child}function kj(tr){var er=tr.stateNode;er.pendingContext?ag(tr,er.pendingContext,er.pendingContext!==er.context):er.context&&ag(tr,er.context,!1),yh(tr,er.containerInfo)}function lj(tr,er,rr,nr,ir){return Ig(),Jg(ir),er.flags|=256,Xi(tr,er,rr,nr),er.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(tr){return{baseLanes:tr,cachePool:null,transitions:null}}function oj(tr,er,rr){var nr=er.pendingProps,ir=L$2.current,or=!1,sr=(er.flags&128)!==0,ar;if((ar=sr)||(ar=tr!==null&&tr.memoizedState===null?!1:(ir&2)!==0),ar?(or=!0,er.flags&=-129):(tr===null||tr.memoizedState!==null)&&(ir|=1),G$2(L$2,ir&1),tr===null)return Eg(er),tr=er.memoizedState,tr!==null&&(tr=tr.dehydrated,tr!==null)?(er.mode&1?tr.data==="$!"?er.lanes=8:er.lanes=1073741824:er.lanes=1,null):(sr=nr.children,tr=nr.fallback,or?(nr=er.mode,or=er.child,sr={mode:"hidden",children:sr},!(nr&1)&&or!==null?(or.childLanes=0,or.pendingProps=sr):or=pj(sr,nr,0,null),tr=Tg(tr,nr,rr,null),or.return=er,tr.return=er,or.sibling=tr,er.child=or,er.child.memoizedState=nj(rr),er.memoizedState=mj,tr):qj(er,sr));if(ir=tr.memoizedState,ir!==null&&(ar=ir.dehydrated,ar!==null))return rj(tr,er,sr,nr,ar,ir,rr);if(or){or=nr.fallback,sr=er.mode,ir=tr.child,ar=ir.sibling;var cr={mode:"hidden",children:nr.children};return!(sr&1)&&er.child!==ir?(nr=er.child,nr.childLanes=0,nr.pendingProps=cr,er.deletions=null):(nr=Pg(ir,cr),nr.subtreeFlags=ir.subtreeFlags&14680064),ar!==null?or=Pg(ar,or):(or=Tg(or,sr,rr,null),or.flags|=2),or.return=er,nr.return=er,nr.sibling=or,er.child=nr,nr=or,or=er.child,sr=tr.child.memoizedState,sr=sr===null?nj(rr):{baseLanes:sr.baseLanes|rr,cachePool:null,transitions:sr.transitions},or.memoizedState=sr,or.childLanes=tr.childLanes&~rr,er.memoizedState=mj,nr}return or=tr.child,tr=or.sibling,nr=Pg(or,{mode:"visible",children:nr.children}),!(er.mode&1)&&(nr.lanes=rr),nr.return=er,nr.sibling=null,tr!==null&&(rr=er.deletions,rr===null?(er.deletions=[tr],er.flags|=16):rr.push(tr)),er.child=nr,er.memoizedState=null,nr}function qj(tr,er){return er=pj({mode:"visible",children:er},tr.mode,0,null),er.return=tr,tr.child=er}function sj(tr,er,rr,nr){return nr!==null&&Jg(nr),Ug(er,tr.child,null,rr),tr=qj(er,er.pendingProps.children),tr.flags|=2,er.memoizedState=null,tr}function rj(tr,er,rr,nr,ir,or,sr){if(rr)return er.flags&256?(er.flags&=-257,nr=Ki(Error(p$3(422))),sj(tr,er,sr,nr)):er.memoizedState!==null?(er.child=tr.child,er.flags|=128,null):(or=nr.fallback,ir=er.mode,nr=pj({mode:"visible",children:nr.children},ir,0,null),or=Tg(or,ir,sr,null),or.flags|=2,nr.return=er,or.return=er,nr.sibling=or,er.child=nr,er.mode&1&&Ug(er,tr.child,null,sr),er.child.memoizedState=nj(sr),er.memoizedState=mj,or);if(!(er.mode&1))return sj(tr,er,sr,null);if(ir.data==="$!"){if(nr=ir.nextSibling&&ir.nextSibling.dataset,nr)var ar=nr.dgst;return nr=ar,or=Error(p$3(419)),nr=Ki(or,nr,void 0),sj(tr,er,sr,nr)}if(ar=(sr&tr.childLanes)!==0,dh||ar){if(nr=Q$1,nr!==null){switch(sr&-sr){case 4:ir=2;break;case 16:ir=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ir=32;break;case 536870912:ir=268435456;break;default:ir=0}ir=ir&(nr.suspendedLanes|sr)?0:ir,ir!==0&&ir!==or.retryLane&&(or.retryLane=ir,ih(tr,ir),gi(nr,tr,ir,-1))}return tj(),nr=Ki(Error(p$3(421))),sj(tr,er,sr,nr)}return ir.data==="$?"?(er.flags|=128,er.child=tr.child,er=uj.bind(null,tr),ir._reactRetry=er,null):(tr=or.treeContext,yg=Lf(ir.nextSibling),xg=er,I$1=!0,zg=null,tr!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=tr.id,sg=tr.overflow,qg=er),er=qj(er,nr.children),er.flags|=4096,er)}function vj(tr,er,rr){tr.lanes|=er;var nr=tr.alternate;nr!==null&&(nr.lanes|=er),bh(tr.return,er,rr)}function wj(tr,er,rr,nr,ir){var or=tr.memoizedState;or===null?tr.memoizedState={isBackwards:er,rendering:null,renderingStartTime:0,last:nr,tail:rr,tailMode:ir}:(or.isBackwards=er,or.rendering=null,or.renderingStartTime=0,or.last=nr,or.tail=rr,or.tailMode=ir)}function xj(tr,er,rr){var nr=er.pendingProps,ir=nr.revealOrder,or=nr.tail;if(Xi(tr,er,nr.children,rr),nr=L$2.current,nr&2)nr=nr&1|2,er.flags|=128;else{if(tr!==null&&tr.flags&128)e:for(tr=er.child;tr!==null;){if(tr.tag===13)tr.memoizedState!==null&&vj(tr,rr,er);else if(tr.tag===19)vj(tr,rr,er);else if(tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===er)break e;for(;tr.sibling===null;){if(tr.return===null||tr.return===er)break e;tr=tr.return}tr.sibling.return=tr.return,tr=tr.sibling}nr&=1}if(G$2(L$2,nr),!(er.mode&1))er.memoizedState=null;else switch(ir){case"forwards":for(rr=er.child,ir=null;rr!==null;)tr=rr.alternate,tr!==null&&Ch$1(tr)===null&&(ir=rr),rr=rr.sibling;rr=ir,rr===null?(ir=er.child,er.child=null):(ir=rr.sibling,rr.sibling=null),wj(er,!1,ir,rr,or);break;case"backwards":for(rr=null,ir=er.child,er.child=null;ir!==null;){if(tr=ir.alternate,tr!==null&&Ch$1(tr)===null){er.child=ir;break}tr=ir.sibling,ir.sibling=rr,rr=ir,ir=tr}wj(er,!0,rr,null,or);break;case"together":wj(er,!1,null,null,void 0);break;default:er.memoizedState=null}return er.child}function ij(tr,er){!(er.mode&1)&&tr!==null&&(tr.alternate=null,er.alternate=null,er.flags|=2)}function Zi(tr,er,rr){if(tr!==null&&(er.dependencies=tr.dependencies),rh$1|=er.lanes,!(rr&er.childLanes))return null;if(tr!==null&&er.child!==tr.child)throw Error(p$3(153));if(er.child!==null){for(tr=er.child,rr=Pg(tr,tr.pendingProps),er.child=rr,rr.return=er;tr.sibling!==null;)tr=tr.sibling,rr=rr.sibling=Pg(tr,tr.pendingProps),rr.return=er;rr.sibling=null}return er.child}function yj(tr,er,rr){switch(er.tag){case 3:kj(er),Ig();break;case 5:Ah(er);break;case 1:Zf(er.type)&&cg(er);break;case 4:yh(er,er.stateNode.containerInfo);break;case 10:var nr=er.type._context,ir=er.memoizedProps.value;G$2(Wg,nr._currentValue),nr._currentValue=ir;break;case 13:if(nr=er.memoizedState,nr!==null)return nr.dehydrated!==null?(G$2(L$2,L$2.current&1),er.flags|=128,null):rr&er.child.childLanes?oj(tr,er,rr):(G$2(L$2,L$2.current&1),tr=Zi(tr,er,rr),tr!==null?tr.sibling:null);G$2(L$2,L$2.current&1);break;case 19:if(nr=(rr&er.childLanes)!==0,tr.flags&128){if(nr)return xj(tr,er,rr);er.flags|=128}if(ir=er.memoizedState,ir!==null&&(ir.rendering=null,ir.tail=null,ir.lastEffect=null),G$2(L$2,L$2.current),nr)break;return null;case 22:case 23:return er.lanes=0,dj(tr,er,rr)}return Zi(tr,er,rr)}var zj,Aj,Bj,Cj;zj=function(tr,er){for(var rr=er.child;rr!==null;){if(rr.tag===5||rr.tag===6)tr.appendChild(rr.stateNode);else if(rr.tag!==4&&rr.child!==null){rr.child.return=rr,rr=rr.child;continue}if(rr===er)break;for(;rr.sibling===null;){if(rr.return===null||rr.return===er)return;rr=rr.return}rr.sibling.return=rr.return,rr=rr.sibling}};Aj=function(){};Bj=function(tr,er,rr,nr){var ir=tr.memoizedProps;if(ir!==nr){tr=er.stateNode,xh(uh.current);var or=null;switch(rr){case"input":ir=Ya(tr,ir),nr=Ya(tr,nr),or=[];break;case"select":ir=A$3({},ir,{value:void 0}),nr=A$3({},nr,{value:void 0}),or=[];break;case"textarea":ir=gb(tr,ir),nr=gb(tr,nr),or=[];break;default:typeof ir.onClick!="function"&&typeof nr.onClick=="function"&&(tr.onclick=Bf)}ub(rr,nr);var sr;rr=null;for(lr in ir)if(!nr.hasOwnProperty(lr)&&ir.hasOwnProperty(lr)&&ir[lr]!=null)if(lr==="style"){var ar=ir[lr];for(sr in ar)ar.hasOwnProperty(sr)&&(rr||(rr={}),rr[sr]="")}else lr!=="dangerouslySetInnerHTML"&&lr!=="children"&&lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&lr!=="autoFocus"&&(ea.hasOwnProperty(lr)?or||(or=[]):(or=or||[]).push(lr,null));for(lr in nr){var cr=nr[lr];if(ar=ir?.[lr],nr.hasOwnProperty(lr)&&cr!==ar&&(cr!=null||ar!=null))if(lr==="style")if(ar){for(sr in ar)!ar.hasOwnProperty(sr)||cr&&cr.hasOwnProperty(sr)||(rr||(rr={}),rr[sr]="");for(sr in cr)cr.hasOwnProperty(sr)&&ar[sr]!==cr[sr]&&(rr||(rr={}),rr[sr]=cr[sr])}else rr||(or||(or=[]),or.push(lr,rr)),rr=cr;else lr==="dangerouslySetInnerHTML"?(cr=cr?cr.__html:void 0,ar=ar?ar.__html:void 0,cr!=null&&ar!==cr&&(or=or||[]).push(lr,cr)):lr==="children"?typeof cr!="string"&&typeof cr!="number"||(or=or||[]).push(lr,""+cr):lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lr)?(cr!=null&&lr==="onScroll"&&D$3("scroll",tr),or||ar===cr||(or=[])):(or=or||[]).push(lr,cr))}rr&&(or=or||[]).push("style",rr);var lr=or;(er.updateQueue=lr)&&(er.flags|=4)}};Cj=function(tr,er,rr,nr){rr!==nr&&(er.flags|=4)};function Dj(tr,er){if(!I$1)switch(tr.tailMode){case"hidden":er=tr.tail;for(var rr=null;er!==null;)er.alternate!==null&&(rr=er),er=er.sibling;rr===null?tr.tail=null:rr.sibling=null;break;case"collapsed":rr=tr.tail;for(var nr=null;rr!==null;)rr.alternate!==null&&(nr=rr),rr=rr.sibling;nr===null?er||tr.tail===null?tr.tail=null:tr.tail.sibling=null:nr.sibling=null}}function S$1(tr){var er=tr.alternate!==null&&tr.alternate.child===tr.child,rr=0,nr=0;if(er)for(var ir=tr.child;ir!==null;)rr|=ir.lanes|ir.childLanes,nr|=ir.subtreeFlags&14680064,nr|=ir.flags&14680064,ir.return=tr,ir=ir.sibling;else for(ir=tr.child;ir!==null;)rr|=ir.lanes|ir.childLanes,nr|=ir.subtreeFlags,nr|=ir.flags,ir.return=tr,ir=ir.sibling;return tr.subtreeFlags|=nr,tr.childLanes=rr,er}function Ej(tr,er,rr){var nr=er.pendingProps;switch(wg(er),er.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(er),null;case 1:return Zf(er.type)&&$f(),S$1(er),null;case 3:return nr=er.stateNode,zh(),E$2(Wf),E$2(H$1),Eh(),nr.pendingContext&&(nr.context=nr.pendingContext,nr.pendingContext=null),(tr===null||tr.child===null)&&(Gg(er)?er.flags|=4:tr===null||tr.memoizedState.isDehydrated&&!(er.flags&256)||(er.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(tr,er),S$1(er),null;case 5:Bh(er);var ir=xh(wh.current);if(rr=er.type,tr!==null&&er.stateNode!=null)Bj(tr,er,rr,nr,ir),tr.ref!==er.ref&&(er.flags|=512,er.flags|=2097152);else{if(!nr){if(er.stateNode===null)throw Error(p$3(166));return S$1(er),null}if(tr=xh(uh.current),Gg(er)){nr=er.stateNode,rr=er.type;var or=er.memoizedProps;switch(nr[Of]=er,nr[Pf]=or,tr=(er.mode&1)!==0,rr){case"dialog":D$3("cancel",nr),D$3("close",nr);break;case"iframe":case"object":case"embed":D$3("load",nr);break;case"video":case"audio":for(ir=0;ir<lf.length;ir++)D$3(lf[ir],nr);break;case"source":D$3("error",nr);break;case"img":case"image":case"link":D$3("error",nr),D$3("load",nr);break;case"details":D$3("toggle",nr);break;case"input":Za(nr,or),D$3("invalid",nr);break;case"select":nr._wrapperState={wasMultiple:!!or.multiple},D$3("invalid",nr);break;case"textarea":hb(nr,or),D$3("invalid",nr)}ub(rr,or),ir=null;for(var sr in or)if(or.hasOwnProperty(sr)){var ar=or[sr];sr==="children"?typeof ar=="string"?nr.textContent!==ar&&(or.suppressHydrationWarning!==!0&&Af(nr.textContent,ar,tr),ir=["children",ar]):typeof ar=="number"&&nr.textContent!==""+ar&&(or.suppressHydrationWarning!==!0&&Af(nr.textContent,ar,tr),ir=["children",""+ar]):ea.hasOwnProperty(sr)&&ar!=null&&sr==="onScroll"&&D$3("scroll",nr)}switch(rr){case"input":Va(nr),db(nr,or,!0);break;case"textarea":Va(nr),jb(nr);break;case"select":case"option":break;default:typeof or.onClick=="function"&&(nr.onclick=Bf)}nr=ir,er.updateQueue=nr,nr!==null&&(er.flags|=4)}else{sr=ir.nodeType===9?ir:ir.ownerDocument,tr==="http://www.w3.org/1999/xhtml"&&(tr=kb(rr)),tr==="http://www.w3.org/1999/xhtml"?rr==="script"?(tr=sr.createElement("div"),tr.innerHTML="<script><\/script>",tr=tr.removeChild(tr.firstChild)):typeof nr.is=="string"?tr=sr.createElement(rr,{is:nr.is}):(tr=sr.createElement(rr),rr==="select"&&(sr=tr,nr.multiple?sr.multiple=!0:nr.size&&(sr.size=nr.size))):tr=sr.createElementNS(tr,rr),tr[Of]=er,tr[Pf]=nr,zj(tr,er,!1,!1),er.stateNode=tr;e:{switch(sr=vb(rr,nr),rr){case"dialog":D$3("cancel",tr),D$3("close",tr),ir=nr;break;case"iframe":case"object":case"embed":D$3("load",tr),ir=nr;break;case"video":case"audio":for(ir=0;ir<lf.length;ir++)D$3(lf[ir],tr);ir=nr;break;case"source":D$3("error",tr),ir=nr;break;case"img":case"image":case"link":D$3("error",tr),D$3("load",tr),ir=nr;break;case"details":D$3("toggle",tr),ir=nr;break;case"input":Za(tr,nr),ir=Ya(tr,nr),D$3("invalid",tr);break;case"option":ir=nr;break;case"select":tr._wrapperState={wasMultiple:!!nr.multiple},ir=A$3({},nr,{value:void 0}),D$3("invalid",tr);break;case"textarea":hb(tr,nr),ir=gb(tr,nr),D$3("invalid",tr);break;default:ir=nr}ub(rr,ir),ar=ir;for(or in ar)if(ar.hasOwnProperty(or)){var cr=ar[or];or==="style"?sb(tr,cr):or==="dangerouslySetInnerHTML"?(cr=cr?cr.__html:void 0,cr!=null&&nb(tr,cr)):or==="children"?typeof cr=="string"?(rr!=="textarea"||cr!=="")&&ob(tr,cr):typeof cr=="number"&&ob(tr,""+cr):or!=="suppressContentEditableWarning"&&or!=="suppressHydrationWarning"&&or!=="autoFocus"&&(ea.hasOwnProperty(or)?cr!=null&&or==="onScroll"&&D$3("scroll",tr):cr!=null&&ta(tr,or,cr,sr))}switch(rr){case"input":Va(tr),db(tr,nr,!1);break;case"textarea":Va(tr),jb(tr);break;case"option":nr.value!=null&&tr.setAttribute("value",""+Sa(nr.value));break;case"select":tr.multiple=!!nr.multiple,or=nr.value,or!=null?fb(tr,!!nr.multiple,or,!1):nr.defaultValue!=null&&fb(tr,!!nr.multiple,nr.defaultValue,!0);break;default:typeof ir.onClick=="function"&&(tr.onclick=Bf)}switch(rr){case"button":case"input":case"select":case"textarea":nr=!!nr.autoFocus;break e;case"img":nr=!0;break e;default:nr=!1}}nr&&(er.flags|=4)}er.ref!==null&&(er.flags|=512,er.flags|=2097152)}return S$1(er),null;case 6:if(tr&&er.stateNode!=null)Cj(tr,er,tr.memoizedProps,nr);else{if(typeof nr!="string"&&er.stateNode===null)throw Error(p$3(166));if(rr=xh(wh.current),xh(uh.current),Gg(er)){if(nr=er.stateNode,rr=er.memoizedProps,nr[Of]=er,(or=nr.nodeValue!==rr)&&(tr=xg,tr!==null))switch(tr.tag){case 3:Af(nr.nodeValue,rr,(tr.mode&1)!==0);break;case 5:tr.memoizedProps.suppressHydrationWarning!==!0&&Af(nr.nodeValue,rr,(tr.mode&1)!==0)}or&&(er.flags|=4)}else nr=(rr.nodeType===9?rr:rr.ownerDocument).createTextNode(nr),nr[Of]=er,er.stateNode=nr}return S$1(er),null;case 13:if(E$2(L$2),nr=er.memoizedState,tr===null||tr.memoizedState!==null&&tr.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&er.mode&1&&!(er.flags&128))Hg(),Ig(),er.flags|=98560,or=!1;else if(or=Gg(er),nr!==null&&nr.dehydrated!==null){if(tr===null){if(!or)throw Error(p$3(318));if(or=er.memoizedState,or=or!==null?or.dehydrated:null,!or)throw Error(p$3(317));or[Of]=er}else Ig(),!(er.flags&128)&&(er.memoizedState=null),er.flags|=4;S$1(er),or=!1}else zg!==null&&(Fj(zg),zg=null),or=!0;if(!or)return er.flags&65536?er:null}return er.flags&128?(er.lanes=rr,er):(nr=nr!==null,nr!==(tr!==null&&tr.memoizedState!==null)&&nr&&(er.child.flags|=8192,er.mode&1&&(tr===null||L$2.current&1?T$3===0&&(T$3=3):tj())),er.updateQueue!==null&&(er.flags|=4),S$1(er),null);case 4:return zh(),Aj(tr,er),tr===null&&sf(er.stateNode.containerInfo),S$1(er),null;case 10:return ah(er.type._context),S$1(er),null;case 17:return Zf(er.type)&&$f(),S$1(er),null;case 19:if(E$2(L$2),or=er.memoizedState,or===null)return S$1(er),null;if(nr=(er.flags&128)!==0,sr=or.rendering,sr===null)if(nr)Dj(or,!1);else{if(T$3!==0||tr!==null&&tr.flags&128)for(tr=er.child;tr!==null;){if(sr=Ch$1(tr),sr!==null){for(er.flags|=128,Dj(or,!1),nr=sr.updateQueue,nr!==null&&(er.updateQueue=nr,er.flags|=4),er.subtreeFlags=0,nr=rr,rr=er.child;rr!==null;)or=rr,tr=nr,or.flags&=14680066,sr=or.alternate,sr===null?(or.childLanes=0,or.lanes=tr,or.child=null,or.subtreeFlags=0,or.memoizedProps=null,or.memoizedState=null,or.updateQueue=null,or.dependencies=null,or.stateNode=null):(or.childLanes=sr.childLanes,or.lanes=sr.lanes,or.child=sr.child,or.subtreeFlags=0,or.deletions=null,or.memoizedProps=sr.memoizedProps,or.memoizedState=sr.memoizedState,or.updateQueue=sr.updateQueue,or.type=sr.type,tr=sr.dependencies,or.dependencies=tr===null?null:{lanes:tr.lanes,firstContext:tr.firstContext}),rr=rr.sibling;return G$2(L$2,L$2.current&1|2),er.child}tr=tr.sibling}or.tail!==null&&B$2()>Gj&&(er.flags|=128,nr=!0,Dj(or,!1),er.lanes=4194304)}else{if(!nr)if(tr=Ch$1(sr),tr!==null){if(er.flags|=128,nr=!0,rr=tr.updateQueue,rr!==null&&(er.updateQueue=rr,er.flags|=4),Dj(or,!0),or.tail===null&&or.tailMode==="hidden"&&!sr.alternate&&!I$1)return S$1(er),null}else 2*B$2()-or.renderingStartTime>Gj&&rr!==1073741824&&(er.flags|=128,nr=!0,Dj(or,!1),er.lanes=4194304);or.isBackwards?(sr.sibling=er.child,er.child=sr):(rr=or.last,rr!==null?rr.sibling=sr:er.child=sr,or.last=sr)}return or.tail!==null?(er=or.tail,or.rendering=er,or.tail=er.sibling,or.renderingStartTime=B$2(),er.sibling=null,rr=L$2.current,G$2(L$2,nr?rr&1|2:rr&1),er):(S$1(er),null);case 22:case 23:return Hj(),nr=er.memoizedState!==null,tr!==null&&tr.memoizedState!==null!==nr&&(er.flags|=8192),nr&&er.mode&1?fj&1073741824&&(S$1(er),er.subtreeFlags&6&&(er.flags|=8192)):S$1(er),null;case 24:return null;case 25:return null}throw Error(p$3(156,er.tag))}function Ij(tr,er){switch(wg(er),er.tag){case 1:return Zf(er.type)&&$f(),tr=er.flags,tr&65536?(er.flags=tr&-65537|128,er):null;case 3:return zh(),E$2(Wf),E$2(H$1),Eh(),tr=er.flags,tr&65536&&!(tr&128)?(er.flags=tr&-65537|128,er):null;case 5:return Bh(er),null;case 13:if(E$2(L$2),tr=er.memoizedState,tr!==null&&tr.dehydrated!==null){if(er.alternate===null)throw Error(p$3(340));Ig()}return tr=er.flags,tr&65536?(er.flags=tr&-65537|128,er):null;case 19:return E$2(L$2),null;case 4:return zh(),null;case 10:return ah(er.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(tr,er){var rr=tr.ref;if(rr!==null)if(typeof rr=="function")try{rr(null)}catch(nr){W$7(tr,er,nr)}else rr.current=null}function Mj(tr,er,rr){try{rr()}catch(nr){W$7(tr,er,nr)}}var Nj=!1;function Oj(tr,er){if(Cf=dd,tr=Me$1(),Ne$1(tr)){if("selectionStart"in tr)var rr={start:tr.selectionStart,end:tr.selectionEnd};else e:{rr=(rr=tr.ownerDocument)&&rr.defaultView||window;var nr=rr.getSelection&&rr.getSelection();if(nr&&nr.rangeCount!==0){rr=nr.anchorNode;var ir=nr.anchorOffset,or=nr.focusNode;nr=nr.focusOffset;try{rr.nodeType,or.nodeType}catch{rr=null;break e}var sr=0,ar=-1,cr=-1,lr=0,ur=0,fr=tr,dr=null;t:for(;;){for(var gr;fr!==rr||ir!==0&&fr.nodeType!==3||(ar=sr+ir),fr!==or||nr!==0&&fr.nodeType!==3||(cr=sr+nr),fr.nodeType===3&&(sr+=fr.nodeValue.length),(gr=fr.firstChild)!==null;)dr=fr,fr=gr;for(;;){if(fr===tr)break t;if(dr===rr&&++lr===ir&&(ar=sr),dr===or&&++ur===nr&&(cr=sr),(gr=fr.nextSibling)!==null)break;fr=dr,dr=fr.parentNode}fr=gr}rr=ar===-1||cr===-1?null:{start:ar,end:cr}}else rr=null}rr=rr||{start:0,end:0}}else rr=null;for(Df={focusedElem:tr,selectionRange:rr},dd=!1,V$2=er;V$2!==null;)if(er=V$2,tr=er.child,(er.subtreeFlags&1028)!==0&&tr!==null)tr.return=er,V$2=tr;else for(;V$2!==null;){er=V$2;try{var br=er.alternate;if(er.flags&1024)switch(er.tag){case 0:case 11:case 15:break;case 1:if(br!==null){var vr=br.memoizedProps,$r=br.memoizedState,Er=er.stateNode,_r=Er.getSnapshotBeforeUpdate(er.elementType===er.type?vr:Ci(er.type,vr),$r);Er.__reactInternalSnapshotBeforeUpdate=_r}break;case 3:var xr=er.stateNode.containerInfo;xr.nodeType===1?xr.textContent="":xr.nodeType===9&&xr.documentElement&&xr.removeChild(xr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(Ir){W$7(er,er.return,Ir)}if(tr=er.sibling,tr!==null){tr.return=er.return,V$2=tr;break}V$2=er.return}return br=Nj,Nj=!1,br}function Pj(tr,er,rr){var nr=er.updateQueue;if(nr=nr!==null?nr.lastEffect:null,nr!==null){var ir=nr=nr.next;do{if((ir.tag&tr)===tr){var or=ir.destroy;ir.destroy=void 0,or!==void 0&&Mj(er,rr,or)}ir=ir.next}while(ir!==nr)}}function Qj(tr,er){if(er=er.updateQueue,er=er!==null?er.lastEffect:null,er!==null){var rr=er=er.next;do{if((rr.tag&tr)===tr){var nr=rr.create;rr.destroy=nr()}rr=rr.next}while(rr!==er)}}function Rj(tr){var er=tr.ref;if(er!==null){var rr=tr.stateNode;switch(tr.tag){case 5:tr=rr;break;default:tr=rr}typeof er=="function"?er(tr):er.current=tr}}function Sj(tr){var er=tr.alternate;er!==null&&(tr.alternate=null,Sj(er)),tr.child=null,tr.deletions=null,tr.sibling=null,tr.tag===5&&(er=tr.stateNode,er!==null&&(delete er[Of],delete er[Pf],delete er[of],delete er[Qf],delete er[Rf])),tr.stateNode=null,tr.return=null,tr.dependencies=null,tr.memoizedProps=null,tr.memoizedState=null,tr.pendingProps=null,tr.stateNode=null,tr.updateQueue=null}function Tj(tr){return tr.tag===5||tr.tag===3||tr.tag===4}function Uj(tr){e:for(;;){for(;tr.sibling===null;){if(tr.return===null||Tj(tr.return))return null;tr=tr.return}for(tr.sibling.return=tr.return,tr=tr.sibling;tr.tag!==5&&tr.tag!==6&&tr.tag!==18;){if(tr.flags&2||tr.child===null||tr.tag===4)continue e;tr.child.return=tr,tr=tr.child}if(!(tr.flags&2))return tr.stateNode}}function Vj(tr,er,rr){var nr=tr.tag;if(nr===5||nr===6)tr=tr.stateNode,er?rr.nodeType===8?rr.parentNode.insertBefore(tr,er):rr.insertBefore(tr,er):(rr.nodeType===8?(er=rr.parentNode,er.insertBefore(tr,rr)):(er=rr,er.appendChild(tr)),rr=rr._reactRootContainer,rr!=null||er.onclick!==null||(er.onclick=Bf));else if(nr!==4&&(tr=tr.child,tr!==null))for(Vj(tr,er,rr),tr=tr.sibling;tr!==null;)Vj(tr,er,rr),tr=tr.sibling}function Wj(tr,er,rr){var nr=tr.tag;if(nr===5||nr===6)tr=tr.stateNode,er?rr.insertBefore(tr,er):rr.appendChild(tr);else if(nr!==4&&(tr=tr.child,tr!==null))for(Wj(tr,er,rr),tr=tr.sibling;tr!==null;)Wj(tr,er,rr),tr=tr.sibling}var X$1=null,Xj=!1;function Yj(tr,er,rr){for(rr=rr.child;rr!==null;)Zj(tr,er,rr),rr=rr.sibling}function Zj(tr,er,rr){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rr)}catch{}switch(rr.tag){case 5:U$1||Lj(rr,er);case 6:var nr=X$1,ir=Xj;X$1=null,Yj(tr,er,rr),X$1=nr,Xj=ir,X$1!==null&&(Xj?(tr=X$1,rr=rr.stateNode,tr.nodeType===8?tr.parentNode.removeChild(rr):tr.removeChild(rr)):X$1.removeChild(rr.stateNode));break;case 18:X$1!==null&&(Xj?(tr=X$1,rr=rr.stateNode,tr.nodeType===8?Kf(tr.parentNode,rr):tr.nodeType===1&&Kf(tr,rr),bd(tr)):Kf(X$1,rr.stateNode));break;case 4:nr=X$1,ir=Xj,X$1=rr.stateNode.containerInfo,Xj=!0,Yj(tr,er,rr),X$1=nr,Xj=ir;break;case 0:case 11:case 14:case 15:if(!U$1&&(nr=rr.updateQueue,nr!==null&&(nr=nr.lastEffect,nr!==null))){ir=nr=nr.next;do{var or=ir,sr=or.destroy;or=or.tag,sr!==void 0&&(or&2||or&4)&&Mj(rr,er,sr),ir=ir.next}while(ir!==nr)}Yj(tr,er,rr);break;case 1:if(!U$1&&(Lj(rr,er),nr=rr.stateNode,typeof nr.componentWillUnmount=="function"))try{nr.props=rr.memoizedProps,nr.state=rr.memoizedState,nr.componentWillUnmount()}catch(ar){W$7(rr,er,ar)}Yj(tr,er,rr);break;case 21:Yj(tr,er,rr);break;case 22:rr.mode&1?(U$1=(nr=U$1)||rr.memoizedState!==null,Yj(tr,er,rr),U$1=nr):Yj(tr,er,rr);break;default:Yj(tr,er,rr)}}function ak(tr){var er=tr.updateQueue;if(er!==null){tr.updateQueue=null;var rr=tr.stateNode;rr===null&&(rr=tr.stateNode=new Kj),er.forEach(function(nr){var ir=bk.bind(null,tr,nr);rr.has(nr)||(rr.add(nr),nr.then(ir,ir))})}}function ck(tr,er){var rr=er.deletions;if(rr!==null)for(var nr=0;nr<rr.length;nr++){var ir=rr[nr];try{var or=tr,sr=er,ar=sr;e:for(;ar!==null;){switch(ar.tag){case 5:X$1=ar.stateNode,Xj=!1;break e;case 3:X$1=ar.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=ar.stateNode.containerInfo,Xj=!0;break e}ar=ar.return}if(X$1===null)throw Error(p$3(160));Zj(or,sr,ir),X$1=null,Xj=!1;var cr=ir.alternate;cr!==null&&(cr.return=null),ir.return=null}catch(lr){W$7(ir,er,lr)}}if(er.subtreeFlags&12854)for(er=er.child;er!==null;)dk(er,tr),er=er.sibling}function dk(tr,er){var rr=tr.alternate,nr=tr.flags;switch(tr.tag){case 0:case 11:case 14:case 15:if(ck(er,tr),ek(tr),nr&4){try{Pj(3,tr,tr.return),Qj(3,tr)}catch(vr){W$7(tr,tr.return,vr)}try{Pj(5,tr,tr.return)}catch(vr){W$7(tr,tr.return,vr)}}break;case 1:ck(er,tr),ek(tr),nr&512&&rr!==null&&Lj(rr,rr.return);break;case 5:if(ck(er,tr),ek(tr),nr&512&&rr!==null&&Lj(rr,rr.return),tr.flags&32){var ir=tr.stateNode;try{ob(ir,"")}catch(vr){W$7(tr,tr.return,vr)}}if(nr&4&&(ir=tr.stateNode,ir!=null)){var or=tr.memoizedProps,sr=rr!==null?rr.memoizedProps:or,ar=tr.type,cr=tr.updateQueue;if(tr.updateQueue=null,cr!==null)try{ar==="input"&&or.type==="radio"&&or.name!=null&&ab(ir,or),vb(ar,sr);var lr=vb(ar,or);for(sr=0;sr<cr.length;sr+=2){var ur=cr[sr],fr=cr[sr+1];ur==="style"?sb(ir,fr):ur==="dangerouslySetInnerHTML"?nb(ir,fr):ur==="children"?ob(ir,fr):ta(ir,ur,fr,lr)}switch(ar){case"input":bb(ir,or);break;case"textarea":ib(ir,or);break;case"select":var dr=ir._wrapperState.wasMultiple;ir._wrapperState.wasMultiple=!!or.multiple;var gr=or.value;gr!=null?fb(ir,!!or.multiple,gr,!1):dr!==!!or.multiple&&(or.defaultValue!=null?fb(ir,!!or.multiple,or.defaultValue,!0):fb(ir,!!or.multiple,or.multiple?[]:"",!1))}ir[Pf]=or}catch(vr){W$7(tr,tr.return,vr)}}break;case 6:if(ck(er,tr),ek(tr),nr&4){if(tr.stateNode===null)throw Error(p$3(162));ir=tr.stateNode,or=tr.memoizedProps;try{ir.nodeValue=or}catch(vr){W$7(tr,tr.return,vr)}}break;case 3:if(ck(er,tr),ek(tr),nr&4&&rr!==null&&rr.memoizedState.isDehydrated)try{bd(er.containerInfo)}catch(vr){W$7(tr,tr.return,vr)}break;case 4:ck(er,tr),ek(tr);break;case 13:ck(er,tr),ek(tr),ir=tr.child,ir.flags&8192&&(or=ir.memoizedState!==null,ir.stateNode.isHidden=or,!or||ir.alternate!==null&&ir.alternate.memoizedState!==null||(fk=B$2())),nr&4&&ak(tr);break;case 22:if(ur=rr!==null&&rr.memoizedState!==null,tr.mode&1?(U$1=(lr=U$1)||ur,ck(er,tr),U$1=lr):ck(er,tr),ek(tr),nr&8192){if(lr=tr.memoizedState!==null,(tr.stateNode.isHidden=lr)&&!ur&&tr.mode&1)for(V$2=tr,ur=tr.child;ur!==null;){for(fr=V$2=ur;V$2!==null;){switch(dr=V$2,gr=dr.child,dr.tag){case 0:case 11:case 14:case 15:Pj(4,dr,dr.return);break;case 1:Lj(dr,dr.return);var br=dr.stateNode;if(typeof br.componentWillUnmount=="function"){nr=dr,rr=dr.return;try{er=nr,br.props=er.memoizedProps,br.state=er.memoizedState,br.componentWillUnmount()}catch(vr){W$7(nr,rr,vr)}}break;case 5:Lj(dr,dr.return);break;case 22:if(dr.memoizedState!==null){gk(fr);continue}}gr!==null?(gr.return=dr,V$2=gr):gk(fr)}ur=ur.sibling}e:for(ur=null,fr=tr;;){if(fr.tag===5){if(ur===null){ur=fr;try{ir=fr.stateNode,lr?(or=ir.style,typeof or.setProperty=="function"?or.setProperty("display","none","important"):or.display="none"):(ar=fr.stateNode,cr=fr.memoizedProps.style,sr=cr!=null&&cr.hasOwnProperty("display")?cr.display:null,ar.style.display=rb("display",sr))}catch(vr){W$7(tr,tr.return,vr)}}}else if(fr.tag===6){if(ur===null)try{fr.stateNode.nodeValue=lr?"":fr.memoizedProps}catch(vr){W$7(tr,tr.return,vr)}}else if((fr.tag!==22&&fr.tag!==23||fr.memoizedState===null||fr===tr)&&fr.child!==null){fr.child.return=fr,fr=fr.child;continue}if(fr===tr)break e;for(;fr.sibling===null;){if(fr.return===null||fr.return===tr)break e;ur===fr&&(ur=null),fr=fr.return}ur===fr&&(ur=null),fr.sibling.return=fr.return,fr=fr.sibling}}break;case 19:ck(er,tr),ek(tr),nr&4&&ak(tr);break;case 21:break;default:ck(er,tr),ek(tr)}}function ek(tr){var er=tr.flags;if(er&2){try{e:{for(var rr=tr.return;rr!==null;){if(Tj(rr)){var nr=rr;break e}rr=rr.return}throw Error(p$3(160))}switch(nr.tag){case 5:var ir=nr.stateNode;nr.flags&32&&(ob(ir,""),nr.flags&=-33);var or=Uj(tr);Wj(tr,or,ir);break;case 3:case 4:var sr=nr.stateNode.containerInfo,ar=Uj(tr);Vj(tr,ar,sr);break;default:throw Error(p$3(161))}}catch(cr){W$7(tr,tr.return,cr)}tr.flags&=-3}er&4096&&(tr.flags&=-4097)}function hk(tr,er,rr){V$2=tr,ik(tr)}function ik(tr,er,rr){for(var nr=(tr.mode&1)!==0;V$2!==null;){var ir=V$2,or=ir.child;if(ir.tag===22&&nr){var sr=ir.memoizedState!==null||Jj;if(!sr){var ar=ir.alternate,cr=ar!==null&&ar.memoizedState!==null||U$1;ar=Jj;var lr=U$1;if(Jj=sr,(U$1=cr)&&!lr)for(V$2=ir;V$2!==null;)sr=V$2,cr=sr.child,sr.tag===22&&sr.memoizedState!==null?jk(ir):cr!==null?(cr.return=sr,V$2=cr):jk(ir);for(;or!==null;)V$2=or,ik(or),or=or.sibling;V$2=ir,Jj=ar,U$1=lr}kk(tr)}else ir.subtreeFlags&8772&&or!==null?(or.return=ir,V$2=or):kk(tr)}}function kk(tr){for(;V$2!==null;){var er=V$2;if(er.flags&8772){var rr=er.alternate;try{if(er.flags&8772)switch(er.tag){case 0:case 11:case 15:U$1||Qj(5,er);break;case 1:var nr=er.stateNode;if(er.flags&4&&!U$1)if(rr===null)nr.componentDidMount();else{var ir=er.elementType===er.type?rr.memoizedProps:Ci(er.type,rr.memoizedProps);nr.componentDidUpdate(ir,rr.memoizedState,nr.__reactInternalSnapshotBeforeUpdate)}var or=er.updateQueue;or!==null&&sh$1(er,or,nr);break;case 3:var sr=er.updateQueue;if(sr!==null){if(rr=null,er.child!==null)switch(er.child.tag){case 5:rr=er.child.stateNode;break;case 1:rr=er.child.stateNode}sh$1(er,sr,rr)}break;case 5:var ar=er.stateNode;if(rr===null&&er.flags&4){rr=ar;var cr=er.memoizedProps;switch(er.type){case"button":case"input":case"select":case"textarea":cr.autoFocus&&rr.focus();break;case"img":cr.src&&(rr.src=cr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(er.memoizedState===null){var lr=er.alternate;if(lr!==null){var ur=lr.memoizedState;if(ur!==null){var fr=ur.dehydrated;fr!==null&&bd(fr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$1||er.flags&512&&Rj(er)}catch(dr){W$7(er,er.return,dr)}}if(er===tr){V$2=null;break}if(rr=er.sibling,rr!==null){rr.return=er.return,V$2=rr;break}V$2=er.return}}function gk(tr){for(;V$2!==null;){var er=V$2;if(er===tr){V$2=null;break}var rr=er.sibling;if(rr!==null){rr.return=er.return,V$2=rr;break}V$2=er.return}}function jk(tr){for(;V$2!==null;){var er=V$2;try{switch(er.tag){case 0:case 11:case 15:var rr=er.return;try{Qj(4,er)}catch(cr){W$7(er,rr,cr)}break;case 1:var nr=er.stateNode;if(typeof nr.componentDidMount=="function"){var ir=er.return;try{nr.componentDidMount()}catch(cr){W$7(er,ir,cr)}}var or=er.return;try{Rj(er)}catch(cr){W$7(er,or,cr)}break;case 5:var sr=er.return;try{Rj(er)}catch(cr){W$7(er,sr,cr)}}}catch(cr){W$7(er,er.return,cr)}if(er===tr){V$2=null;break}var ar=er.sibling;if(ar!==null){ar.return=er.return,V$2=ar;break}V$2=er.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$5=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$5&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi(tr){return tr.mode&1?K$5&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(tr=C$2,tr!==0||(tr=window.event,tr=tr===void 0?16:jd(tr.type)),tr):1}function gi(tr,er,rr,nr){if(50<yk)throw yk=0,zk=null,Error(p$3(185));Ac(tr,rr,nr),(!(K$5&2)||tr!==Q$1)&&(tr===Q$1&&(!(K$5&2)&&(qk|=rr),T$3===4&&Ck(tr,Z$1)),Dk(tr,nr),rr===1&&K$5===0&&!(er.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(tr,er){var rr=tr.callbackNode;wc(tr,er);var nr=uc(tr,tr===Q$1?Z$1:0);if(nr===0)rr!==null&&bc(rr),tr.callbackNode=null,tr.callbackPriority=0;else if(er=nr&-nr,tr.callbackPriority!==er){if(rr!=null&&bc(rr),er===1)tr.tag===0?ig(Ek.bind(null,tr)):hg(Ek.bind(null,tr)),Jf(function(){!(K$5&6)&&jg()}),rr=null;else{switch(Dc(nr)){case 1:rr=fc;break;case 4:rr=gc;break;case 16:rr=hc;break;case 536870912:rr=jc;break;default:rr=hc}rr=Fk(rr,Gk.bind(null,tr))}tr.callbackPriority=er,tr.callbackNode=rr}}function Gk(tr,er){if(Ak=-1,Bk=0,K$5&6)throw Error(p$3(327));var rr=tr.callbackNode;if(Hk()&&tr.callbackNode!==rr)return null;var nr=uc(tr,tr===Q$1?Z$1:0);if(nr===0)return null;if(nr&30||nr&tr.expiredLanes||er)er=Ik(tr,nr);else{er=nr;var ir=K$5;K$5|=2;var or=Jk();(Q$1!==tr||Z$1!==er)&&(uk=null,Gj=B$2()+500,Kk(tr,er));do try{Lk();break}catch(ar){Mk(tr,ar)}while(!0);$g(),mk.current=or,K$5=ir,Y$1!==null?er=0:(Q$1=null,Z$1=0,er=T$3)}if(er!==0){if(er===2&&(ir=xc(tr),ir!==0&&(nr=ir,er=Nk(tr,ir))),er===1)throw rr=pk,Kk(tr,0),Ck(tr,nr),Dk(tr,B$2()),rr;if(er===6)Ck(tr,nr);else{if(ir=tr.current.alternate,!(nr&30)&&!Ok(ir)&&(er=Ik(tr,nr),er===2&&(or=xc(tr),or!==0&&(nr=or,er=Nk(tr,or))),er===1))throw rr=pk,Kk(tr,0),Ck(tr,nr),Dk(tr,B$2()),rr;switch(tr.finishedWork=ir,tr.finishedLanes=nr,er){case 0:case 1:throw Error(p$3(345));case 2:Pk(tr,tk,uk);break;case 3:if(Ck(tr,nr),(nr&130023424)===nr&&(er=fk+500-B$2(),10<er)){if(uc(tr,0)!==0)break;if(ir=tr.suspendedLanes,(ir&nr)!==nr){R$1(),tr.pingedLanes|=tr.suspendedLanes&ir;break}tr.timeoutHandle=Ff(Pk.bind(null,tr,tk,uk),er);break}Pk(tr,tk,uk);break;case 4:if(Ck(tr,nr),(nr&4194240)===nr)break;for(er=tr.eventTimes,ir=-1;0<nr;){var sr=31-oc(nr);or=1<<sr,sr=er[sr],sr>ir&&(ir=sr),nr&=~or}if(nr=ir,nr=B$2()-nr,nr=(120>nr?120:480>nr?480:1080>nr?1080:1920>nr?1920:3e3>nr?3e3:4320>nr?4320:1960*lk(nr/1960))-nr,10<nr){tr.timeoutHandle=Ff(Pk.bind(null,tr,tk,uk),nr);break}Pk(tr,tk,uk);break;case 5:Pk(tr,tk,uk);break;default:throw Error(p$3(329))}}}return Dk(tr,B$2()),tr.callbackNode===rr?Gk.bind(null,tr):null}function Nk(tr,er){var rr=sk;return tr.current.memoizedState.isDehydrated&&(Kk(tr,er).flags|=256),tr=Ik(tr,er),tr!==2&&(er=tk,tk=rr,er!==null&&Fj(er)),tr}function Fj(tr){tk===null?tk=tr:tk.push.apply(tk,tr)}function Ok(tr){for(var er=tr;;){if(er.flags&16384){var rr=er.updateQueue;if(rr!==null&&(rr=rr.stores,rr!==null))for(var nr=0;nr<rr.length;nr++){var ir=rr[nr],or=ir.getSnapshot;ir=ir.value;try{if(!He$1(or(),ir))return!1}catch{return!1}}}if(rr=er.child,er.subtreeFlags&16384&&rr!==null)rr.return=er,er=rr;else{if(er===tr)break;for(;er.sibling===null;){if(er.return===null||er.return===tr)return!0;er=er.return}er.sibling.return=er.return,er=er.sibling}}return!0}function Ck(tr,er){for(er&=~rk,er&=~qk,tr.suspendedLanes|=er,tr.pingedLanes&=~er,tr=tr.expirationTimes;0<er;){var rr=31-oc(er),nr=1<<rr;tr[rr]=-1,er&=~nr}}function Ek(tr){if(K$5&6)throw Error(p$3(327));Hk();var er=uc(tr,0);if(!(er&1))return Dk(tr,B$2()),null;var rr=Ik(tr,er);if(tr.tag!==0&&rr===2){var nr=xc(tr);nr!==0&&(er=nr,rr=Nk(tr,nr))}if(rr===1)throw rr=pk,Kk(tr,0),Ck(tr,er),Dk(tr,B$2()),rr;if(rr===6)throw Error(p$3(345));return tr.finishedWork=tr.current.alternate,tr.finishedLanes=er,Pk(tr,tk,uk),Dk(tr,B$2()),null}function Qk(tr,er){var rr=K$5;K$5|=1;try{return tr(er)}finally{K$5=rr,K$5===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(tr){wk!==null&&wk.tag===0&&!(K$5&6)&&Hk();var er=K$5;K$5|=1;var rr=ok.transition,nr=C$2;try{if(ok.transition=null,C$2=1,tr)return tr()}finally{C$2=nr,ok.transition=rr,K$5=er,!(K$5&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(tr,er){tr.finishedWork=null,tr.finishedLanes=0;var rr=tr.timeoutHandle;if(rr!==-1&&(tr.timeoutHandle=-1,Gf(rr)),Y$1!==null)for(rr=Y$1.return;rr!==null;){var nr=rr;switch(wg(nr),nr.tag){case 1:nr=nr.type.childContextTypes,nr!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$1),Eh();break;case 5:Bh(nr);break;case 4:zh();break;case 13:E$2(L$2);break;case 19:E$2(L$2);break;case 10:ah(nr.type._context);break;case 22:case 23:Hj()}rr=rr.return}if(Q$1=tr,Y$1=tr=Pg(tr.current,null),Z$1=fj=er,T$3=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh!==null){for(er=0;er<fh.length;er++)if(rr=fh[er],nr=rr.interleaved,nr!==null){rr.interleaved=null;var ir=nr.next,or=rr.pending;if(or!==null){var sr=or.next;or.next=ir,nr.next=sr}rr.pending=nr}fh=null}return tr}function Mk(tr,er){do{var rr=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nr=M$2.memoizedState;nr!==null;){var ir=nr.queue;ir!==null&&(ir.pending=null),nr=nr.next}Ih=!1}if(Hh=0,O$2=N$2=M$2=null,Jh=!1,Kh$1=0,nk.current=null,rr===null||rr.return===null){T$3=1,pk=er,Y$1=null;break}e:{var or=tr,sr=rr.return,ar=rr,cr=er;if(er=Z$1,ar.flags|=32768,cr!==null&&typeof cr=="object"&&typeof cr.then=="function"){var lr=cr,ur=ar,fr=ur.tag;if(!(ur.mode&1)&&(fr===0||fr===11||fr===15)){var dr=ur.alternate;dr?(ur.updateQueue=dr.updateQueue,ur.memoizedState=dr.memoizedState,ur.lanes=dr.lanes):(ur.updateQueue=null,ur.memoizedState=null)}var gr=Ui(sr);if(gr!==null){gr.flags&=-257,Vi(gr,sr,ar,or,er),gr.mode&1&&Si(or,lr,er),er=gr,cr=lr;var br=er.updateQueue;if(br===null){var vr=new Set;vr.add(cr),er.updateQueue=vr}else br.add(cr);break e}else{if(!(er&1)){Si(or,lr,er),tj();break e}cr=Error(p$3(426))}}else if(I$1&&ar.mode&1){var $r=Ui(sr);if($r!==null){!($r.flags&65536)&&($r.flags|=256),Vi($r,sr,ar,or,er),Jg(Ji(cr,ar));break e}}or=cr=Ji(cr,ar),T$3!==4&&(T$3=2),sk===null?sk=[or]:sk.push(or),or=sr;do{switch(or.tag){case 3:or.flags|=65536,er&=-er,or.lanes|=er;var Er=Ni(or,cr,er);ph(or,Er);break e;case 1:ar=cr;var _r=or.type,xr=or.stateNode;if(!(or.flags&128)&&(typeof _r.getDerivedStateFromError=="function"||xr!==null&&typeof xr.componentDidCatch=="function"&&(Ri===null||!Ri.has(xr)))){or.flags|=65536,er&=-er,or.lanes|=er;var Ir=Qi(or,ar,er);ph(or,Ir);break e}}or=or.return}while(or!==null)}Sk(rr)}catch(Nr){er=Nr,Y$1===rr&&rr!==null&&(Y$1=rr=rr.return);continue}break}while(!0)}function Jk(){var tr=mk.current;return mk.current=Rh,tr===null?Rh:tr}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q$1===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(tr,er){var rr=K$5;K$5|=2;var nr=Jk();(Q$1!==tr||Z$1!==er)&&(uk=null,Kk(tr,er));do try{Tk();break}catch(ir){Mk(tr,ir)}while(!0);if($g(),K$5=rr,mk.current=nr,Y$1!==null)throw Error(p$3(261));return Q$1=null,Z$1=0,T$3}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(tr){var er=Vk(tr.alternate,tr,fj);tr.memoizedProps=tr.pendingProps,er===null?Sk(tr):Y$1=er,nk.current=null}function Sk(tr){var er=tr;do{var rr=er.alternate;if(tr=er.return,er.flags&32768){if(rr=Ij(rr,er),rr!==null){rr.flags&=32767,Y$1=rr;return}if(tr!==null)tr.flags|=32768,tr.subtreeFlags=0,tr.deletions=null;else{T$3=6,Y$1=null;return}}else if(rr=Ej(rr,er,fj),rr!==null){Y$1=rr;return}if(er=er.sibling,er!==null){Y$1=er;return}Y$1=er=tr}while(er!==null);T$3===0&&(T$3=5)}function Pk(tr,er,rr){var nr=C$2,ir=ok.transition;try{ok.transition=null,C$2=1,Wk(tr,er,rr,nr)}finally{ok.transition=ir,C$2=nr}return null}function Wk(tr,er,rr,nr){do Hk();while(wk!==null);if(K$5&6)throw Error(p$3(327));rr=tr.finishedWork;var ir=tr.finishedLanes;if(rr===null)return null;if(tr.finishedWork=null,tr.finishedLanes=0,rr===tr.current)throw Error(p$3(177));tr.callbackNode=null,tr.callbackPriority=0;var or=rr.lanes|rr.childLanes;if(Bc(tr,or),tr===Q$1&&(Y$1=Q$1=null,Z$1=0),!(rr.subtreeFlags&2064)&&!(rr.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),or=(rr.flags&15990)!==0,rr.subtreeFlags&15990||or){or=ok.transition,ok.transition=null;var sr=C$2;C$2=1;var ar=K$5;K$5|=4,nk.current=null,Oj(tr,rr),dk(rr,tr),Oe$1(Df),dd=!!Cf,Df=Cf=null,tr.current=rr,hk(rr),dc(),K$5=ar,C$2=sr,ok.transition=or}else tr.current=rr;if(vk&&(vk=!1,wk=tr,xk=ir),or=tr.pendingLanes,or===0&&(Ri=null),mc(rr.stateNode),Dk(tr,B$2()),er!==null)for(nr=tr.onRecoverableError,rr=0;rr<er.length;rr++)ir=er[rr],nr(ir.value,{componentStack:ir.stack,digest:ir.digest});if(Oi)throw Oi=!1,tr=Pi,Pi=null,tr;return xk&1&&tr.tag!==0&&Hk(),or=tr.pendingLanes,or&1?tr===zk?yk++:(yk=0,zk=tr):yk=0,jg(),null}function Hk(){if(wk!==null){var tr=Dc(xk),er=ok.transition,rr=C$2;try{if(ok.transition=null,C$2=16>tr?16:tr,wk===null)var nr=!1;else{if(tr=wk,wk=null,xk=0,K$5&6)throw Error(p$3(331));var ir=K$5;for(K$5|=4,V$2=tr.current;V$2!==null;){var or=V$2,sr=or.child;if(V$2.flags&16){var ar=or.deletions;if(ar!==null){for(var cr=0;cr<ar.length;cr++){var lr=ar[cr];for(V$2=lr;V$2!==null;){var ur=V$2;switch(ur.tag){case 0:case 11:case 15:Pj(8,ur,or)}var fr=ur.child;if(fr!==null)fr.return=ur,V$2=fr;else for(;V$2!==null;){ur=V$2;var dr=ur.sibling,gr=ur.return;if(Sj(ur),ur===lr){V$2=null;break}if(dr!==null){dr.return=gr,V$2=dr;break}V$2=gr}}}var br=or.alternate;if(br!==null){var vr=br.child;if(vr!==null){br.child=null;do{var $r=vr.sibling;vr.sibling=null,vr=$r}while(vr!==null)}}V$2=or}}if(or.subtreeFlags&2064&&sr!==null)sr.return=or,V$2=sr;else e:for(;V$2!==null;){if(or=V$2,or.flags&2048)switch(or.tag){case 0:case 11:case 15:Pj(9,or,or.return)}var Er=or.sibling;if(Er!==null){Er.return=or.return,V$2=Er;break e}V$2=or.return}}var _r=tr.current;for(V$2=_r;V$2!==null;){sr=V$2;var xr=sr.child;if(sr.subtreeFlags&2064&&xr!==null)xr.return=sr,V$2=xr;else e:for(sr=_r;V$2!==null;){if(ar=V$2,ar.flags&2048)try{switch(ar.tag){case 0:case 11:case 15:Qj(9,ar)}}catch(Nr){W$7(ar,ar.return,Nr)}if(ar===sr){V$2=null;break e}var Ir=ar.sibling;if(Ir!==null){Ir.return=ar.return,V$2=Ir;break e}V$2=ar.return}}if(K$5=ir,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,tr)}catch{}nr=!0}return nr}finally{C$2=rr,ok.transition=er}}return!1}function Xk(tr,er,rr){er=Ji(rr,er),er=Ni(tr,er,1),tr=nh(tr,er,1),er=R$1(),tr!==null&&(Ac(tr,1,er),Dk(tr,er))}function W$7(tr,er,rr){if(tr.tag===3)Xk(tr,tr,rr);else for(;er!==null;){if(er.tag===3){Xk(er,tr,rr);break}else if(er.tag===1){var nr=er.stateNode;if(typeof er.type.getDerivedStateFromError=="function"||typeof nr.componentDidCatch=="function"&&(Ri===null||!Ri.has(nr))){tr=Ji(rr,tr),tr=Qi(er,tr,1),er=nh(er,tr,1),tr=R$1(),er!==null&&(Ac(er,1,tr),Dk(er,tr));break}}er=er.return}}function Ti(tr,er,rr){var nr=tr.pingCache;nr!==null&&nr.delete(er),er=R$1(),tr.pingedLanes|=tr.suspendedLanes&rr,Q$1===tr&&(Z$1&rr)===rr&&(T$3===4||T$3===3&&(Z$1&130023424)===Z$1&&500>B$2()-fk?Kk(tr,0):rk|=rr),Dk(tr,er)}function Yk(tr,er){er===0&&(tr.mode&1?(er=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):er=1);var rr=R$1();tr=ih(tr,er),tr!==null&&(Ac(tr,er,rr),Dk(tr,rr))}function uj(tr){var er=tr.memoizedState,rr=0;er!==null&&(rr=er.retryLane),Yk(tr,rr)}function bk(tr,er){var rr=0;switch(tr.tag){case 13:var nr=tr.stateNode,ir=tr.memoizedState;ir!==null&&(rr=ir.retryLane);break;case 19:nr=tr.stateNode;break;default:throw Error(p$3(314))}nr!==null&&nr.delete(er),Yk(tr,rr)}var Vk;Vk=function(tr,er,rr){if(tr!==null)if(tr.memoizedProps!==er.pendingProps||Wf.current)dh=!0;else{if(!(tr.lanes&rr)&&!(er.flags&128))return dh=!1,yj(tr,er,rr);dh=!!(tr.flags&131072)}else dh=!1,I$1&&er.flags&1048576&&ug(er,ng,er.index);switch(er.lanes=0,er.tag){case 2:var nr=er.type;ij(tr,er),tr=er.pendingProps;var ir=Yf(er,H$1.current);ch$1(er,rr),ir=Nh(null,er,nr,tr,ir,rr);var or=Sh();return er.flags|=1,typeof ir=="object"&&ir!==null&&typeof ir.render=="function"&&ir.$$typeof===void 0?(er.tag=1,er.memoizedState=null,er.updateQueue=null,Zf(nr)?(or=!0,cg(er)):or=!1,er.memoizedState=ir.state!==null&&ir.state!==void 0?ir.state:null,kh(er),ir.updater=Ei,er.stateNode=ir,ir._reactInternals=er,Ii(er,nr,tr,rr),er=jj(null,er,nr,!0,or,rr)):(er.tag=0,I$1&&or&&vg(er),Xi(null,er,ir,rr),er=er.child),er;case 16:nr=er.elementType;e:{switch(ij(tr,er),tr=er.pendingProps,ir=nr._init,nr=ir(nr._payload),er.type=nr,ir=er.tag=Zk(nr),tr=Ci(nr,tr),ir){case 0:er=cj(null,er,nr,tr,rr);break e;case 1:er=hj(null,er,nr,tr,rr);break e;case 11:er=Yi(null,er,nr,tr,rr);break e;case 14:er=$i(null,er,nr,Ci(nr.type,tr),rr);break e}throw Error(p$3(306,nr,""))}return er;case 0:return nr=er.type,ir=er.pendingProps,ir=er.elementType===nr?ir:Ci(nr,ir),cj(tr,er,nr,ir,rr);case 1:return nr=er.type,ir=er.pendingProps,ir=er.elementType===nr?ir:Ci(nr,ir),hj(tr,er,nr,ir,rr);case 3:e:{if(kj(er),tr===null)throw Error(p$3(387));nr=er.pendingProps,or=er.memoizedState,ir=or.element,lh(tr,er),qh(er,nr,null,rr);var sr=er.memoizedState;if(nr=sr.element,or.isDehydrated)if(or={element:nr,isDehydrated:!1,cache:sr.cache,pendingSuspenseBoundaries:sr.pendingSuspenseBoundaries,transitions:sr.transitions},er.updateQueue.baseState=or,er.memoizedState=or,er.flags&256){ir=Ji(Error(p$3(423)),er),er=lj(tr,er,nr,rr,ir);break e}else if(nr!==ir){ir=Ji(Error(p$3(424)),er),er=lj(tr,er,nr,rr,ir);break e}else for(yg=Lf(er.stateNode.containerInfo.firstChild),xg=er,I$1=!0,zg=null,rr=Vg(er,null,nr,rr),er.child=rr;rr;)rr.flags=rr.flags&-3|4096,rr=rr.sibling;else{if(Ig(),nr===ir){er=Zi(tr,er,rr);break e}Xi(tr,er,nr,rr)}er=er.child}return er;case 5:return Ah(er),tr===null&&Eg(er),nr=er.type,ir=er.pendingProps,or=tr!==null?tr.memoizedProps:null,sr=ir.children,Ef(nr,ir)?sr=null:or!==null&&Ef(nr,or)&&(er.flags|=32),gj(tr,er),Xi(tr,er,sr,rr),er.child;case 6:return tr===null&&Eg(er),null;case 13:return oj(tr,er,rr);case 4:return yh(er,er.stateNode.containerInfo),nr=er.pendingProps,tr===null?er.child=Ug(er,null,nr,rr):Xi(tr,er,nr,rr),er.child;case 11:return nr=er.type,ir=er.pendingProps,ir=er.elementType===nr?ir:Ci(nr,ir),Yi(tr,er,nr,ir,rr);case 7:return Xi(tr,er,er.pendingProps,rr),er.child;case 8:return Xi(tr,er,er.pendingProps.children,rr),er.child;case 12:return Xi(tr,er,er.pendingProps.children,rr),er.child;case 10:e:{if(nr=er.type._context,ir=er.pendingProps,or=er.memoizedProps,sr=ir.value,G$2(Wg,nr._currentValue),nr._currentValue=sr,or!==null)if(He$1(or.value,sr)){if(or.children===ir.children&&!Wf.current){er=Zi(tr,er,rr);break e}}else for(or=er.child,or!==null&&(or.return=er);or!==null;){var ar=or.dependencies;if(ar!==null){sr=or.child;for(var cr=ar.firstContext;cr!==null;){if(cr.context===nr){if(or.tag===1){cr=mh(-1,rr&-rr),cr.tag=2;var lr=or.updateQueue;if(lr!==null){lr=lr.shared;var ur=lr.pending;ur===null?cr.next=cr:(cr.next=ur.next,ur.next=cr),lr.pending=cr}}or.lanes|=rr,cr=or.alternate,cr!==null&&(cr.lanes|=rr),bh(or.return,rr,er),ar.lanes|=rr;break}cr=cr.next}}else if(or.tag===10)sr=or.type===er.type?null:or.child;else if(or.tag===18){if(sr=or.return,sr===null)throw Error(p$3(341));sr.lanes|=rr,ar=sr.alternate,ar!==null&&(ar.lanes|=rr),bh(sr,rr,er),sr=or.sibling}else sr=or.child;if(sr!==null)sr.return=or;else for(sr=or;sr!==null;){if(sr===er){sr=null;break}if(or=sr.sibling,or!==null){or.return=sr.return,sr=or;break}sr=sr.return}or=sr}Xi(tr,er,ir.children,rr),er=er.child}return er;case 9:return ir=er.type,nr=er.pendingProps.children,ch$1(er,rr),ir=eh(ir),nr=nr(ir),er.flags|=1,Xi(tr,er,nr,rr),er.child;case 14:return nr=er.type,ir=Ci(nr,er.pendingProps),ir=Ci(nr.type,ir),$i(tr,er,nr,ir,rr);case 15:return bj(tr,er,er.type,er.pendingProps,rr);case 17:return nr=er.type,ir=er.pendingProps,ir=er.elementType===nr?ir:Ci(nr,ir),ij(tr,er),er.tag=1,Zf(nr)?(tr=!0,cg(er)):tr=!1,ch$1(er,rr),Gi(er,nr,ir),Ii(er,nr,ir,rr),jj(null,er,nr,!0,tr,rr);case 19:return xj(tr,er,rr);case 22:return dj(tr,er,rr)}throw Error(p$3(156,er.tag))};function Fk(tr,er){return ac(tr,er)}function $k(tr,er,rr,nr){this.tag=tr,this.key=rr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=er,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(tr,er,rr,nr){return new $k(tr,er,rr,nr)}function aj(tr){return tr=tr.prototype,!(!tr||!tr.isReactComponent)}function Zk(tr){if(typeof tr=="function")return aj(tr)?1:0;if(tr!=null){if(tr=tr.$$typeof,tr===Da)return 11;if(tr===Ga)return 14}return 2}function Pg(tr,er){var rr=tr.alternate;return rr===null?(rr=Bg(tr.tag,er,tr.key,tr.mode),rr.elementType=tr.elementType,rr.type=tr.type,rr.stateNode=tr.stateNode,rr.alternate=tr,tr.alternate=rr):(rr.pendingProps=er,rr.type=tr.type,rr.flags=0,rr.subtreeFlags=0,rr.deletions=null),rr.flags=tr.flags&14680064,rr.childLanes=tr.childLanes,rr.lanes=tr.lanes,rr.child=tr.child,rr.memoizedProps=tr.memoizedProps,rr.memoizedState=tr.memoizedState,rr.updateQueue=tr.updateQueue,er=tr.dependencies,rr.dependencies=er===null?null:{lanes:er.lanes,firstContext:er.firstContext},rr.sibling=tr.sibling,rr.index=tr.index,rr.ref=tr.ref,rr}function Rg(tr,er,rr,nr,ir,or){var sr=2;if(nr=tr,typeof tr=="function")aj(tr)&&(sr=1);else if(typeof tr=="string")sr=5;else e:switch(tr){case ya:return Tg(rr.children,ir,or,er);case za:sr=8,ir|=8;break;case Aa:return tr=Bg(12,rr,er,ir|2),tr.elementType=Aa,tr.lanes=or,tr;case Ea:return tr=Bg(13,rr,er,ir),tr.elementType=Ea,tr.lanes=or,tr;case Fa:return tr=Bg(19,rr,er,ir),tr.elementType=Fa,tr.lanes=or,tr;case Ia:return pj(rr,ir,or,er);default:if(typeof tr=="object"&&tr!==null)switch(tr.$$typeof){case Ba:sr=10;break e;case Ca:sr=9;break e;case Da:sr=11;break e;case Ga:sr=14;break e;case Ha:sr=16,nr=null;break e}throw Error(p$3(130,tr==null?tr:typeof tr,""))}return er=Bg(sr,rr,er,ir),er.elementType=tr,er.type=nr,er.lanes=or,er}function Tg(tr,er,rr,nr){return tr=Bg(7,tr,nr,er),tr.lanes=rr,tr}function pj(tr,er,rr,nr){return tr=Bg(22,tr,nr,er),tr.elementType=Ia,tr.lanes=rr,tr.stateNode={isHidden:!1},tr}function Qg(tr,er,rr){return tr=Bg(6,tr,null,er),tr.lanes=rr,tr}function Sg(tr,er,rr){return er=Bg(4,tr.children!==null?tr.children:[],tr.key,er),er.lanes=rr,er.stateNode={containerInfo:tr.containerInfo,pendingChildren:null,implementation:tr.implementation},er}function al(tr,er,rr,nr,ir){this.tag=er,this.containerInfo=tr,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nr,this.onRecoverableError=ir,this.mutableSourceEagerHydrationData=null}function bl(tr,er,rr,nr,ir,or,sr,ar,cr){return tr=new al(tr,er,rr,ar,cr),er===1?(er=1,or===!0&&(er|=8)):er=0,or=Bg(3,null,null,er),tr.current=or,or.stateNode=tr,or.memoizedState={element:nr,isDehydrated:rr,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(or),tr}function cl(tr,er,rr){var nr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nr==null?null:""+nr,children:tr,containerInfo:er,implementation:rr}}function dl(tr){if(!tr)return Vf;tr=tr._reactInternals;e:{if(Vb(tr)!==tr||tr.tag!==1)throw Error(p$3(170));var er=tr;do{switch(er.tag){case 3:er=er.stateNode.context;break e;case 1:if(Zf(er.type)){er=er.stateNode.__reactInternalMemoizedMergedChildContext;break e}}er=er.return}while(er!==null);throw Error(p$3(171))}if(tr.tag===1){var rr=tr.type;if(Zf(rr))return bg(tr,rr,er)}return er}function el(tr,er,rr,nr,ir,or,sr,ar,cr){return tr=bl(rr,nr,!0,tr,ir,or,sr,ar,cr),tr.context=dl(null),rr=tr.current,nr=R$1(),ir=yi(rr),or=mh(nr,ir),or.callback=er??null,nh(rr,or,ir),tr.current.lanes=ir,Ac(tr,ir,nr),Dk(tr,nr),tr}function fl(tr,er,rr,nr){var ir=er.current,or=R$1(),sr=yi(ir);return rr=dl(rr),er.context===null?er.context=rr:er.pendingContext=rr,er=mh(or,sr),er.payload={element:tr},nr=nr===void 0?null:nr,nr!==null&&(er.callback=nr),tr=nh(ir,er,sr),tr!==null&&(gi(tr,ir,sr,or),oh(tr,ir,sr)),sr}function gl(tr){if(tr=tr.current,!tr.child)return null;switch(tr.child.tag){case 5:return tr.child.stateNode;default:return tr.child.stateNode}}function hl(tr,er){if(tr=tr.memoizedState,tr!==null&&tr.dehydrated!==null){var rr=tr.retryLane;tr.retryLane=rr!==0&&rr<er?rr:er}}function il(tr,er){hl(tr,er),(tr=tr.alternate)&&hl(tr,er)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(tr){console.error(tr)};function ll(tr){this._internalRoot=tr}ml.prototype.render=ll.prototype.render=function(tr){var er=this._internalRoot;if(er===null)throw Error(p$3(409));fl(tr,er,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var tr=this._internalRoot;if(tr!==null){this._internalRoot=null;var er=tr.containerInfo;Rk(function(){fl(null,tr,null,null)}),er[uf]=null}};function ml(tr){this._internalRoot=tr}ml.prototype.unstable_scheduleHydration=function(tr){if(tr){var er=Hc();tr={blockedOn:null,target:tr,priority:er};for(var rr=0;rr<Qc.length&&er!==0&&er<Qc[rr].priority;rr++);Qc.splice(rr,0,tr),rr===0&&Vc(tr)}};function nl(tr){return!(!tr||tr.nodeType!==1&&tr.nodeType!==9&&tr.nodeType!==11)}function ol(tr){return!(!tr||tr.nodeType!==1&&tr.nodeType!==9&&tr.nodeType!==11&&(tr.nodeType!==8||tr.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(tr,er,rr,nr,ir){if(ir){if(typeof nr=="function"){var or=nr;nr=function(){var lr=gl(sr);or.call(lr)}}var sr=el(er,nr,tr,0,null,!1,!1,"",pl);return tr._reactRootContainer=sr,tr[uf]=sr.current,sf(tr.nodeType===8?tr.parentNode:tr),Rk(),sr}for(;ir=tr.lastChild;)tr.removeChild(ir);if(typeof nr=="function"){var ar=nr;nr=function(){var lr=gl(cr);ar.call(lr)}}var cr=bl(tr,0,!1,null,null,!1,!1,"",pl);return tr._reactRootContainer=cr,tr[uf]=cr.current,sf(tr.nodeType===8?tr.parentNode:tr),Rk(function(){fl(er,cr,rr,nr)}),cr}function rl(tr,er,rr,nr,ir){var or=rr._reactRootContainer;if(or){var sr=or;if(typeof ir=="function"){var ar=ir;ir=function(){var cr=gl(sr);ar.call(cr)}}fl(er,sr,tr,ir)}else sr=ql(rr,er,tr,ir,nr);return gl(sr)}Ec=function(tr){switch(tr.tag){case 3:var er=tr.stateNode;if(er.current.memoizedState.isDehydrated){var rr=tc(er.pendingLanes);rr!==0&&(Cc(er,rr|1),Dk(er,B$2()),!(K$5&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var nr=ih(tr,1);if(nr!==null){var ir=R$1();gi(nr,tr,1,ir)}}),il(tr,1)}};Fc=function(tr){if(tr.tag===13){var er=ih(tr,134217728);if(er!==null){var rr=R$1();gi(er,tr,134217728,rr)}il(tr,134217728)}};Gc=function(tr){if(tr.tag===13){var er=yi(tr),rr=ih(tr,er);if(rr!==null){var nr=R$1();gi(rr,tr,er,nr)}il(tr,er)}};Hc=function(){return C$2};Ic=function(tr,er){var rr=C$2;try{return C$2=tr,er()}finally{C$2=rr}};yb=function(tr,er,rr){switch(er){case"input":if(bb(tr,rr),er=rr.name,rr.type==="radio"&&er!=null){for(rr=tr;rr.parentNode;)rr=rr.parentNode;for(rr=rr.querySelectorAll("input[name="+JSON.stringify(""+er)+'][type="radio"]'),er=0;er<rr.length;er++){var nr=rr[er];if(nr!==tr&&nr.form===tr.form){var ir=Db(nr);if(!ir)throw Error(p$3(90));Wa(nr),bb(nr,ir)}}}break;case"textarea":ib(tr,rr);break;case"select":er=rr.value,er!=null&&fb(tr,!!rr.multiple,er,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(tr){return tr=Zb(tr),tr===null?null:tr.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(tr,er){var rr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(er))throw Error(p$3(200));return cl(tr,er,null,rr)};reactDom_production_min.createRoot=function(tr,er){if(!nl(tr))throw Error(p$3(299));var rr=!1,nr="",ir=kl;return er!=null&&(er.unstable_strictMode===!0&&(rr=!0),er.identifierPrefix!==void 0&&(nr=er.identifierPrefix),er.onRecoverableError!==void 0&&(ir=er.onRecoverableError)),er=bl(tr,1,!1,null,null,rr,!1,nr,ir),tr[uf]=er.current,sf(tr.nodeType===8?tr.parentNode:tr),new ll(er)};reactDom_production_min.findDOMNode=function(tr){if(tr==null)return null;if(tr.nodeType===1)return tr;var er=tr._reactInternals;if(er===void 0)throw typeof tr.render=="function"?Error(p$3(188)):(tr=Object.keys(tr).join(","),Error(p$3(268,tr)));return tr=Zb(er),tr=tr===null?null:tr.stateNode,tr};reactDom_production_min.flushSync=function(tr){return Rk(tr)};reactDom_production_min.hydrate=function(tr,er,rr){if(!ol(er))throw Error(p$3(200));return rl(null,tr,er,!0,rr)};reactDom_production_min.hydrateRoot=function(tr,er,rr){if(!nl(tr))throw Error(p$3(405));var nr=rr!=null&&rr.hydratedSources||null,ir=!1,or="",sr=kl;if(rr!=null&&(rr.unstable_strictMode===!0&&(ir=!0),rr.identifierPrefix!==void 0&&(or=rr.identifierPrefix),rr.onRecoverableError!==void 0&&(sr=rr.onRecoverableError)),er=el(er,null,tr,1,rr??null,ir,!1,or,sr),tr[uf]=er.current,sf(tr),nr)for(tr=0;tr<nr.length;tr++)rr=nr[tr],ir=rr._getVersion,ir=ir(rr._source),er.mutableSourceEagerHydrationData==null?er.mutableSourceEagerHydrationData=[rr,ir]:er.mutableSourceEagerHydrationData.push(rr,ir);return new ml(er)};reactDom_production_min.render=function(tr,er,rr){if(!ol(er))throw Error(p$3(200));return rl(null,tr,er,!1,rr)};reactDom_production_min.unmountComponentAtNode=function(tr){if(!ol(tr))throw Error(p$3(40));return tr._reactRootContainer?(Rk(function(){rl(null,null,tr,!1,function(){tr._reactRootContainer=null,tr[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(tr,er,rr,nr){if(!ol(rr))throw Error(p$3(200));if(tr==null||tr._reactInternals===void 0)throw Error(p$3(38));return rl(tr,er,rr,!1,nr)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(tr){console.error(tr)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$3=reactDomExports;createRoot=client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;const SidebarLink=({icon:tr,label:er,isActive:rr,onClick:nr})=>jsxRuntimeExports.jsxs("a",{className:`sidebar-link ${rr?"is-active":""}`,onClick:nr,children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:tr}),er]}),Sidebar=({activeSection:tr,setActiveSection:er})=>{const[rr,nr]=reactExports.useState([]);reactExports.useEffect(()=>{const or=()=>{const ar=[];for(let cr=0;cr<localStorage.length;cr++){const lr=localStorage.key(cr);if(lr&&lr.startsWith("minted_")){const ur=localStorage.getItem(lr);if(ur)try{const{minted:fr,name:dr}=JSON.parse(ur);if(fr){const gr=lr.replace("minted_","");ar.push({address:gr,name:dr})}}catch(fr){console.error("Error parsing localStorage value:",fr)}}}nr(ar)};or();const sr=setInterval(or,6e4);return()=>clearInterval(sr)},[]);const ir=[{icon:jsxRuntimeExports.jsx("path",{d:"M9.135 20.773v-3.057c0-.78.637-1.414 1.423-1.414h2.875c.377 0 .74.15 1.006.414.267.265.417.625.417 1v3.057c-.002.325.126.637.356.867.23.23.544.36.87.36h1.962a3.46 3.46 0 002.443-1 3.41 3.41 0 001.013-2.422V9.867c0-.735-.328-1.431-.895-1.902l-6.671-5.29a3.097 3.097 0 00-3.949.072L3.467 7.965A2.474 2.474 0 002.5 9.867v8.702C2.5 20.464 4.047 22 5.956 22h1.916c.68 0 1.231-.544 1.236-1.218l.027-.009z"}),label:"Discover",key:"discover"},{icon:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.835 12.007l.002.354c.012 1.404.096 2.657.242 3.451 0 .015.16.802.261 1.064.16.38.447.701.809.905a2 2 0 00.91.219c.249-.012.66-.137.954-.242l.244-.094c1.617-.642 4.707-2.74 5.891-4.024l.087-.09.39-.42c.245-.322.375-.715.375-1.138 0-.379-.116-.758-.347-1.064-.07-.099-.18-.226-.28-.334l-.379-.397c-1.305-1.321-4.129-3.175-5.593-3.79 0-.013-.91-.393-1.343-.407h-.057c-.665 0-1.286.379-1.603.991-.087.168-.17.496-.233.784l-.114.544c-.13.874-.216 2.216-.216 3.688zm-6.332-1.525C3.673 10.482 3 11.162 3 12a1.51 1.51 0 001.503 1.518l3.7-.328c.65 0 1.179-.532 1.179-1.19 0-.658-.528-1.191-1.18-1.191l-3.699-.327z"}),label:"Trending",key:"trending"},{icon:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1535 16.64L14.995 13.77C15.2822 13.47 15.2822 13 14.9851 12.71C14.698 12.42 14.2327 12.42 13.9455 12.71L12.3713 14.31V9.49C12.3713 9.07 12.0446 8.74 11.6386 8.74C11.2327 8.74 10.896 9.07 10.896 9.49V14.31L9.32178 12.71C9.03465 12.42 8.56931 12.42 8.28218 12.71C7.99505 13 7.99505 13.47 8.28218 13.77L11.1139 16.64C11.1832 16.71 11.2624 16.76 11.3515 16.8C11.4406 16.84 11.5396 16.86 11.6386 16.86C11.7376 16.86 11.8267 16.84 11.9158 16.8C12.005 16.76 12.0842 16.71 12.1535 16.64ZM19.3282 9.02561C19.5609 9.02292 19.8143 9.02 20.0446 9.02C20.302 9.02 20.5 9.22 20.5 9.47V17.51C20.5 19.99 18.5 22 16.0446 22H8.17327C5.58911 22 3.5 19.89 3.5 17.29V6.51C3.5 4.03 5.4901 2 7.96535 2H13.2525C13.5 2 13.7079 2.21 13.7079 2.46V5.68C13.7079 7.51 15.1931 9.01 17.0149 9.02C17.4333 9.02 17.8077 9.02318 18.1346 9.02595C18.3878 9.02809 18.6125 9.03 18.8069 9.03C18.9479 9.03 19.1306 9.02789 19.3282 9.02561ZM19.6045 7.5661C18.7916 7.5691 17.8322 7.5661 17.1421 7.5591C16.047 7.5591 15.145 6.6481 15.145 5.5421V2.9061C15.145 2.4751 15.6629 2.2611 15.9579 2.5721C16.7203 3.37199 17.8873 4.5978 18.8738 5.63395C19.2735 6.05379 19.6436 6.44249 19.945 6.7591C20.2342 7.0621 20.0223 7.5651 19.6045 7.5661Z"}),label:"Marketplace",key:"playlist"}];return jsxRuntimeExports.jsxs("div",{className:"sidebar",children:[jsxRuntimeExports.jsx("span",{className:"logo",children:"S"}),jsxRuntimeExports.jsx("a",{className:"logo-expand",href:"#",children:"💫 fanstar"}),jsxRuntimeExports.jsx("div",{className:"divider"}),jsxRuntimeExports.jsxs("div",{className:"side-wrapper",children:[jsxRuntimeExports.jsx("div",{className:"side-menu",children:ir.map(or=>jsxRuntimeExports.jsx(SidebarLink,{icon:or.icon,label:or.label,isActive:tr===or.key,onClick:()=>er(or.key)},or.key))}),jsxRuntimeExports.jsx("div",{className:"divider"}),jsxRuntimeExports.jsx("div",{id:"map-container",children:jsxRuntimeExports.jsx("div",{id:"controls",style:{display:"flex",alignItems:"center"},children:jsxRuntimeExports.jsxs("div",{className:"sport-icons",id:"sport-icons-menu",style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("div",{className:"sport-icon",title:"Baseball","data-objectid":"7",style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("i",{className:"fas fa-baseball",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{children:"Baseball"})]}),jsxRuntimeExports.jsxs("div",{className:"sport-icon",title:"Basketball","data-objectid":"1",style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("i",{className:"fas fa-basketball",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{children:"Basketball"})]}),jsxRuntimeExports.jsxs("div",{className:"sport-icon",title:"Soccer","data-objectid":"6",style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("i",{className:"fa-solid fa-futbol",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{children:"Soccer"})]}),jsxRuntimeExports.jsxs("div",{className:"sport-icon",title:"Softball","data-objectid":"26",style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("i",{className:"fa-solid fa-baseball-bat-ball",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{children:"Softball"})]}),jsxRuntimeExports.jsxs("div",{className:"sport-icon",title:"Tennis","data-objectid":"11",style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("i",{className:"fa-solid fa-table-tennis-paddle-ball",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{children:"Tennis"})]}),jsxRuntimeExports.jsxs("div",{className:"sport-icon",title:"Volleyball","data-objectid":"28",style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("i",{className:"fas fa-volleyball",style:{marginRight:"8px"}}),jsxRuntimeExports.jsx("span",{children:"Volleyball"})]})]})})}),jsxRuntimeExports.jsx("div",{className:"divider"}),jsxRuntimeExports.jsxs("div",{className:"joined-clubs",children:[jsxRuntimeExports.jsx("h3",{className:"joined-clubs-title",children:"Joined FanClubs"}),rr.length>0?jsxRuntimeExports.jsx("div",{className:"joined-clubs-list",children:rr.map(or=>jsxRuntimeExports.jsxs("div",{className:"joined-club-item",children:[jsxRuntimeExports.jsx("div",{className:"joined-club-image",children:jsxRuntimeExports.jsx("img",{src:`https://picsum.photos/50?random=${or.address}`,alt:or.name})}),jsxRuntimeExports.jsx("div",{className:"joined-club-name",children:or.name})]},or.address))}):jsxRuntimeExports.jsx("p",{className:"no-clubs-message",children:"No clubs joined yet"})]})]})]})},Video=({video:tr,onClick:er})=>{const rr="clubAddress"in tr;return jsxRuntimeExports.jsx("div",{className:"video anim",onClick:er,children:rr?jsxRuntimeExports.jsxs("div",{className:"fan-club-card",children:[jsxRuntimeExports.jsx("div",{className:"fan-club-image-container",style:{width:"auto",height:"300px",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:jsxRuntimeExports.jsx("img",{src:"https://hips.hearstapps.com/hmg-prod/images/travis-kelce-of-the-kansas-city-chiefs-looks-on-prior-to-news-photo-1722867303.jpg?crop=0.660xw:0.986xh;0.325xw,0.0144xh&resize=1200:*",alt:"Fan Club",className:"fan-club-image",style:{maxWidth:"100%",maxHeight:"100%",width:"100%",height:"300px",objectFit:"cover"}})}),jsxRuntimeExports.jsxs("div",{className:"fan-club-info",children:[jsxRuntimeExports.jsx("div",{className:"video-name",children:tr.by})," ",jsxRuntimeExports.jsxs("div",{className:"video-view",children:[jsxRuntimeExports.jsx("div",{className:"fan-club-team",children:tr.name})," ",jsxRuntimeExports.jsx("div",{children:tr.views})," ",jsxRuntimeExports.jsx("div",{className:"fan-club-mcap",children:tr.date})," "]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"video-wrapper",children:jsxRuntimeExports.jsx("div",{className:"video-by",children:tr.by})}),jsxRuntimeExports.jsxs("div",{className:"video-thumb-container",style:{margin:"10px",width:"100%",height:"40px",display:"flex",justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx("img",{src:tr.authorImg,alt:"Author thumbnail",className:"video-thumb",style:{objectFit:"cover",objectPosition:"center",width:"30px",height:"30px",borderRadius:"50%"}}),jsxRuntimeExports.jsxs("div",{className:"video-name",children:[tr.name," "]})]}),jsxRuntimeExports.jsxs("div",{className:"video-view",style:{margin:"5px",gap:"20px",width:"100%",height:"30px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{children:[tr.views," members"]}),tr.date&&jsxRuntimeExports.jsx("div",{children:tr.date})]})]})})},videoData=[{time:"new",src:"https://player.vimeo.com/external/436573422.sd.mp4?s=b39a124b4e0ed90b0e6fcf8d4b1677fb91a678d5&profile_id=165&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/3748221/pexels-photo-3748221.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Liverbool Red",name:"Michael Robert",views:"68K",date:"3.1M MCAP"},{time:"recent",src:"https://player.vimeo.com/external/436573810.sd.mp4?s=f45d5c4e7d07a01eae37ff39b5e4323e792e1e5b&profile_id=164&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/2381069/pexels-photo-2381069.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Chelzea Blues",name:"Dylan Martinez",views:"95K",date:"4.5M MCAP"},{time:"new",src:"https://player.vimeo.com/external/436574388.sd.mp4?s=2b212e5bd5f946e71d724e9e7089b2d6e9f0e4d5&profile_id=164&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/1501934/pexels-photo-1501934.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Leed Gunners",name:"Ethan Wright",views:"82K",date:"3.9M MCAP"},{time:"popular",src:"https://player.vimeo.com/external/436574986.sd.mp4?s=bc12c8d4e1f70f1e1ab3dc39d2f5d4a6a0de6235&profile_id=139&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Tottenhamer",name:"Harry Lawson",views:"105K",date:"5.2M MCAP"},{src:"https://player.vimeo.com/external/436575911.sd.mp4?s=14853d2f0e9252274d925fa4a7f631ee68b56a98&profile_id=165&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/414612/pexels-photo-414612.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Toffees",name:"Samuel Evans",views:"79K",date:"3.7M MCAP"},{src:"https://player.vimeo.com/external/436576432.sd.mp4?s=3c948b879d8cb89b3ef6633c7f29a6c40d8c26a1&profile_id=164&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Borrusia Wortmund",name:"Oliver Taylor",views:"88K",date:"4.2M MCAP"},{src:"https://player.vimeo.com/external/436576987.sd.mp4?s=d746cfc4c3e2c37ed4c9b1d4a16c5a0c78c19c07&profile_id=165&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/1043474/pexels-photo-1043474.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Borrusia Wortmund",name:"Luke Harris",views:"73K",date:"3.5M MCAP"},{time:"recent",src:"https://player.vimeo.com/external/436577498.sd.mp4?s=5072c5345b6c9f66e5d1b627adf8e5fa12a5de58&profile_id=165&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/3153201/pexels-photo-3153201.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Ham United",name:"James Mason",views:"66K",date:"3.2M MCAP"},{time:"popular",src:"https://player.vimeo.com/external/436579074.sd.mp4?s=d5ae9f0f34d8dd43c5fd8a4b7bba6e961f1f680e&profile_id=164&oauth2_token_id=57447761",authorImg:"https://images.pexels.com/photos/834863/pexels-photo-834863.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",by:"Newcastle Stars",name:"Henry Walker",views:"115K",date:"5.9M MCAP"}],version$5="6.13.2";function checkType(tr,er,rr){const nr=er.split("|").map(or=>or.trim());for(let or=0;or<nr.length;or++)switch(er){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof tr===er)return}const ir=new Error(`invalid value for type ${er}`);throw ir.code="INVALID_ARGUMENT",ir.argument=`value.${rr}`,ir.value=tr,ir}async function resolveProperties(tr){const er=Object.keys(tr);return(await Promise.all(er.map(nr=>Promise.resolve(tr[nr])))).reduce((nr,ir,or)=>(nr[er[or]]=ir,nr),{})}function defineProperties(tr,er,rr){for(let nr in er){let ir=er[nr];const or=rr?rr[nr]:null;or&&checkType(ir,or,nr),Object.defineProperty(tr,nr,{enumerable:!0,value:ir,writable:!1})}}function stringify$3(tr){if(tr==null)return"null";if(Array.isArray(tr))return"[ "+tr.map(stringify$3).join(", ")+" ]";if(tr instanceof Uint8Array){const er="0123456789abcdef";let rr="0x";for(let nr=0;nr<tr.length;nr++)rr+=er[tr[nr]>>4],rr+=er[tr[nr]&15];return rr}if(typeof tr=="object"&&typeof tr.toJSON=="function")return stringify$3(tr.toJSON());switch(typeof tr){case"boolean":case"symbol":return tr.toString();case"bigint":return BigInt(tr).toString();case"number":return tr.toString();case"string":return JSON.stringify(tr);case"object":{const er=Object.keys(tr);return er.sort(),"{ "+er.map(rr=>`${stringify$3(rr)}: ${stringify$3(tr[rr])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function isError$2(tr,er){return tr&&tr.code===er}function isCallException(tr){return isError$2(tr,"CALL_EXCEPTION")}function makeError(tr,er,rr){let nr=tr;{const or=[];if(rr){if("message"in rr||"code"in rr||"name"in rr)throw new Error(`value will overwrite populated values: ${stringify$3(rr)}`);for(const sr in rr){if(sr==="shortMessage")continue;const ar=rr[sr];or.push(sr+"="+stringify$3(ar))}}or.push(`code=${er}`),or.push(`version=${version$5}`),or.length&&(tr+=" ("+or.join(", ")+")")}let ir;switch(er){case"INVALID_ARGUMENT":ir=new TypeError(tr);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":ir=new RangeError(tr);break;default:ir=new Error(tr)}return defineProperties(ir,{code:er}),rr&&Object.assign(ir,rr),ir.shortMessage==null&&defineProperties(ir,{shortMessage:nr}),ir}function assert$r(tr,er,rr,nr){if(!tr)throw makeError(er,rr,nr)}function assertArgument(tr,er,rr,nr){assert$r(tr,er,"INVALID_ARGUMENT",{argument:rr,value:nr})}function assertArgumentCount(tr,er,rr){rr==null&&(rr=""),rr&&(rr=": "+rr),assert$r(tr>=er,"missing arguemnt"+rr,"MISSING_ARGUMENT",{count:tr,expectedCount:er}),assert$r(tr<=er,"too many arguments"+rr,"UNEXPECTED_ARGUMENT",{count:tr,expectedCount:er})}["NFD","NFC","NFKD","NFKC"].reduce((tr,er)=>{try{if("test".normalize(er)!=="test")throw new Error("bad");if(er==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");tr.push(er)}catch{}return tr},[]);function assertPrivate(tr,er,rr){if(rr==null&&(rr=""),tr!==er){let nr=rr,ir="new";rr&&(nr+=".",ir+=" "+rr),assert$r(!1,`private constructor; use ${nr}from* methods`,"UNSUPPORTED_OPERATION",{operation:ir})}}function _getBytes(tr,er,rr){if(tr instanceof Uint8Array)return rr?new Uint8Array(tr):tr;if(typeof tr=="string"&&tr.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const nr=new Uint8Array((tr.length-2)/2);let ir=2;for(let or=0;or<nr.length;or++)nr[or]=parseInt(tr.substring(ir,ir+2),16),ir+=2;return nr}assertArgument(!1,"invalid BytesLike value",er||"value",tr)}function getBytes(tr,er){return _getBytes(tr,er,!1)}function getBytesCopy(tr,er){return _getBytes(tr,er,!0)}function isHexString$6(tr,er){return!(typeof tr!="string"||!tr.match(/^0x[0-9A-Fa-f]*$/)||typeof er=="number"&&tr.length!==2+2*er||er===!0&&tr.length%2!==0)}function isBytesLike(tr){return isHexString$6(tr,!0)||tr instanceof Uint8Array}const HexCharacters="0123456789abcdef";function hexlify(tr){const er=getBytes(tr);let rr="0x";for(let nr=0;nr<er.length;nr++){const ir=er[nr];rr+=HexCharacters[(ir&240)>>4]+HexCharacters[ir&15]}return rr}function concat$2(tr){return"0x"+tr.map(er=>hexlify(er).substring(2)).join("")}function dataLength(tr){return isHexString$6(tr,!0)?(tr.length-2)/2:getBytes(tr).length}function dataSlice(tr,er,rr){const nr=getBytes(tr);return rr!=null&&rr>nr.length&&assert$r(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:nr,length:nr.length,offset:rr}),hexlify(nr.slice(er??0,rr??nr.length))}function zeroPad(tr,er,rr){const nr=getBytes(tr);assert$r(er>=nr.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(nr),length:er,offset:er+1});const ir=new Uint8Array(er);return ir.fill(0),rr?ir.set(nr,er-nr.length):ir.set(nr,0),hexlify(ir)}function zeroPadValue(tr,er){return zeroPad(tr,er,!0)}function zeroPadBytes(tr,er){return zeroPad(tr,er,!1)}const BN_0$9=BigInt(0),BN_1$4=BigInt(1),maxValue=9007199254740991;function fromTwos(tr,er){const rr=getUint(tr,"value"),nr=BigInt(getNumber(er,"width"));if(assert$r(rr>>nr===BN_0$9,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:tr}),rr>>nr-BN_1$4){const ir=(BN_1$4<<nr)-BN_1$4;return-((~rr&ir)+BN_1$4)}return rr}function toTwos(tr,er){let rr=getBigInt(tr,"value");const nr=BigInt(getNumber(er,"width")),ir=BN_1$4<<nr-BN_1$4;if(rr<BN_0$9){rr=-rr,assert$r(rr<=ir,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:tr});const or=(BN_1$4<<nr)-BN_1$4;return(~rr&or)+BN_1$4}else assert$r(rr<ir,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:tr});return rr}function mask$1(tr,er){const rr=getUint(tr,"value"),nr=BigInt(getNumber(er,"bits"));return rr&(BN_1$4<<nr)-BN_1$4}function getBigInt(tr,er){switch(typeof tr){case"bigint":return tr;case"number":return assertArgument(Number.isInteger(tr),"underflow",er||"value",tr),assertArgument(tr>=-maxValue&&tr<=maxValue,"overflow",er||"value",tr),BigInt(tr);case"string":try{if(tr==="")throw new Error("empty string");return tr[0]==="-"&&tr[1]!=="-"?-BigInt(tr.substring(1)):BigInt(tr)}catch(rr){assertArgument(!1,`invalid BigNumberish string: ${rr.message}`,er||"value",tr)}}assertArgument(!1,"invalid BigNumberish value",er||"value",tr)}function getUint(tr,er){const rr=getBigInt(tr,er);return assert$r(rr>=BN_0$9,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:tr}),rr}const Nibbles="0123456789abcdef";function toBigInt(tr){if(tr instanceof Uint8Array){let er="0x0";for(const rr of tr)er+=Nibbles[rr>>4],er+=Nibbles[rr&15];return BigInt(er)}return getBigInt(tr)}function getNumber(tr,er){switch(typeof tr){case"bigint":return assertArgument(tr>=-maxValue&&tr<=maxValue,"overflow",er||"value",tr),Number(tr);case"number":return assertArgument(Number.isInteger(tr),"underflow",er||"value",tr),assertArgument(tr>=-maxValue&&tr<=maxValue,"overflow",er||"value",tr),tr;case"string":try{if(tr==="")throw new Error("empty string");return getNumber(BigInt(tr),er)}catch(rr){assertArgument(!1,`invalid numeric string: ${rr.message}`,er||"value",tr)}}assertArgument(!1,"invalid numeric value",er||"value",tr)}function toNumber$3(tr){return getNumber(toBigInt(tr))}function toBeHex(tr,er){let nr=getUint(tr,"value").toString(16);if(er==null)nr.length%2&&(nr="0"+nr);else{const ir=getNumber(er,"width");for(assert$r(ir*2>=nr.length,`value exceeds width (${ir} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:tr});nr.length<ir*2;)nr="0"+nr}return"0x"+nr}function toBeArray(tr){const er=getUint(tr,"value");if(er===BN_0$9)return new Uint8Array([]);let rr=er.toString(16);rr.length%2&&(rr="0"+rr);const nr=new Uint8Array(rr.length/2);for(let ir=0;ir<nr.length;ir++){const or=ir*2;nr[ir]=parseInt(rr.substring(or,or+2),16)}return nr}function toQuantity(tr){let er=hexlify(isBytesLike(tr)?tr:toBeArray(tr)).substring(2);for(;er.startsWith("0");)er=er.substring(1);return er===""&&(er="0"),"0x"+er}const Alphabet="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const BN_58=BigInt(58);function encodeBase58(tr){const er=getBytes(tr);let rr=toBigInt(er),nr="";for(;rr;)nr=Alphabet[Number(rr%BN_58)]+nr,rr/=BN_58;for(let ir=0;ir<er.length&&!er[ir];ir++)nr=Alphabet[0]+nr;return nr}function decodeBase64(tr){tr=atob(tr);const er=new Uint8Array(tr.length);for(let rr=0;rr<tr.length;rr++)er[rr]=tr.charCodeAt(rr);return getBytes(er)}function encodeBase64(tr){const er=getBytes(tr);let rr="";for(let nr=0;nr<er.length;nr++)rr+=String.fromCharCode(er[nr]);return btoa(rr)}class EventPayload{filter;emitter;#e;constructor(er,rr,nr){this.#e=rr,defineProperties(this,{emitter:er,filter:nr})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function errorFunc(tr,er,rr,nr,ir){assertArgument(!1,`invalid codepoint at offset ${er}; ${tr}`,"bytes",rr)}function ignoreFunc(tr,er,rr,nr,ir){if(tr==="BAD_PREFIX"||tr==="UNEXPECTED_CONTINUE"){let or=0;for(let sr=er+1;sr<rr.length&&rr[sr]>>6===2;sr++)or++;return or}return tr==="OVERRUN"?rr.length-er-1:0}function replaceFunc(tr,er,rr,nr,ir){return tr==="OVERLONG"?(assertArgument(typeof ir=="number","invalid bad code point for replacement","badCodepoint",ir),nr.push(ir),0):(nr.push(65533),ignoreFunc(tr,er,rr))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(tr,er){er==null&&(er=Utf8ErrorFuncs.error);const rr=getBytes(tr,"bytes"),nr=[];let ir=0;for(;ir<rr.length;){const or=rr[ir++];if(!(or>>7)){nr.push(or);continue}let sr=null,ar=null;if((or&224)===192)sr=1,ar=127;else if((or&240)===224)sr=2,ar=2047;else if((or&248)===240)sr=3,ar=65535;else{(or&192)===128?ir+=er("UNEXPECTED_CONTINUE",ir-1,rr,nr):ir+=er("BAD_PREFIX",ir-1,rr,nr);continue}if(ir-1+sr>=rr.length){ir+=er("OVERRUN",ir-1,rr,nr);continue}let cr=or&(1<<8-sr-1)-1;for(let lr=0;lr<sr;lr++){let ur=rr[ir];if((ur&192)!=128){ir+=er("MISSING_CONTINUE",ir,rr,nr),cr=null;break}cr=cr<<6|ur&63,ir++}if(cr!==null){if(cr>1114111){ir+=er("OUT_OF_RANGE",ir-1-sr,rr,nr,cr);continue}if(cr>=55296&&cr<=57343){ir+=er("UTF16_SURROGATE",ir-1-sr,rr,nr,cr);continue}if(cr<=ar){ir+=er("OVERLONG",ir-1-sr,rr,nr,cr);continue}nr.push(cr)}}return nr}function toUtf8Bytes(tr,er){assertArgument(typeof tr=="string","invalid string value","str",tr);let rr=[];for(let nr=0;nr<tr.length;nr++){const ir=tr.charCodeAt(nr);if(ir<128)rr.push(ir);else if(ir<2048)rr.push(ir>>6|192),rr.push(ir&63|128);else if((ir&64512)==55296){nr++;const or=tr.charCodeAt(nr);assertArgument(nr<tr.length&&(or&64512)===56320,"invalid surrogate pair","str",tr);const sr=65536+((ir&1023)<<10)+(or&1023);rr.push(sr>>18|240),rr.push(sr>>12&63|128),rr.push(sr>>6&63|128),rr.push(sr&63|128)}else rr.push(ir>>12|224),rr.push(ir>>6&63|128),rr.push(ir&63|128)}return new Uint8Array(rr)}function _toUtf8String(tr){return tr.map(er=>er<=65535?String.fromCharCode(er):(er-=65536,String.fromCharCode((er>>10&1023)+55296,(er&1023)+56320))).join("")}function toUtf8String(tr,er){return _toUtf8String(getUtf8CodePoints(tr,er))}function createGetUrl(tr){async function er(rr,nr){assert$r(nr==null||!nr.cancelled,"request cancelled before sending","CANCELLED");const ir=rr.url.split(":")[0].toLowerCase();assert$r(ir==="http"||ir==="https",`unsupported protocol ${ir}`,"UNSUPPORTED_OPERATION",{info:{protocol:ir},operation:"request"}),assert$r(ir==="https"||!rr.credentials||rr.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let or=null;const sr=new AbortController,ar=setTimeout(()=>{or=makeError("request timeout","TIMEOUT"),sr.abort()},rr.timeout);nr&&nr.addListener(()=>{or=makeError("request cancelled","CANCELLED"),sr.abort()});const cr={method:rr.method,headers:new Headers(Array.from(rr)),body:rr.body||void 0,signal:sr.signal};let lr;try{lr=await fetch(rr.url,cr)}catch(gr){throw clearTimeout(ar),or||gr}clearTimeout(ar);const ur={};lr.headers.forEach((gr,br)=>{ur[br.toLowerCase()]=gr});const fr=await lr.arrayBuffer(),dr=fr==null?null:new Uint8Array(fr);return{statusCode:lr.status,statusMessage:lr.statusText,headers:ur,body:dr}}return er}const MAX_ATTEMPTS=12,SLOT_INTERVAL=250;let defaultGetUrlFunc=createGetUrl();const reData=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),reIpfs=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let locked$1=!1;async function dataGatewayFunc(tr,er){try{const rr=tr.match(reData);if(!rr)throw new Error("invalid data");return new FetchResponse(200,"OK",{"content-type":rr[1]||"text/plain"},rr[2]?decodeBase64(rr[3]):unpercent(rr[3]))}catch{return new FetchResponse(599,"BAD REQUEST (invalid data: URI)",{},null,new FetchRequest(tr))}}function getIpfsGatewayFunc(tr){async function er(rr,nr){try{const ir=rr.match(reIpfs);if(!ir)throw new Error("invalid link");return new FetchRequest(`${tr}${ir[2]}`)}catch{return new FetchResponse(599,"BAD REQUEST (invalid IPFS URI)",{},null,new FetchRequest(rr))}}return er}const Gateways={data:dataGatewayFunc,ipfs:getIpfsGatewayFunc("https://gateway.ipfs.io/ipfs/")},fetchSignals=new WeakMap;class FetchCancelSignal{#e;#t;constructor(er){this.#e=[],this.#t=!1,fetchSignals.set(er,()=>{if(!this.#t){this.#t=!0;for(const rr of this.#e)setTimeout(()=>{rr()},0);this.#e=[]}})}addListener(er){assert$r(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(er)}get cancelled(){return this.#t}checkSignal(){assert$r(!this.cancelled,"cancelled","CANCELLED",{})}}function checkSignal(tr){if(tr==null)throw new Error("missing signal; should not happen");return tr.checkSignal(),tr}class FetchRequest{#e;#t;#r;#n;#i;#s;#o;#a;#f;#l;#p;#g;#c;#u;#d;get url(){return this.#s}set url(er){this.#s=String(er)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(er){if(er==null)this.#o=void 0,this.#a=void 0;else if(typeof er=="string")this.#o=toUtf8Bytes(er),this.#a="text/plain";else if(er instanceof Uint8Array)this.#o=er,this.#a="application/octet-stream";else if(typeof er=="object")this.#o=toUtf8Bytes(JSON.stringify(er)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(er){er==null&&(er=""),this.#n=String(er).toUpperCase()}get headers(){const er=Object.assign({},this.#r);return this.#f&&(er.authorization=`Basic ${encodeBase64(toUtf8Bytes(this.#f))}`),this.allowGzip&&(er["accept-encoding"]="gzip"),er["content-type"]==null&&this.#a&&(er["content-type"]=this.#a),this.body&&(er["content-length"]=String(this.body.length)),er}getHeader(er){return this.headers[er.toLowerCase()]}setHeader(er,rr){this.#r[String(er).toLowerCase()]=String(rr)}clearHeaders(){this.#r={}}[Symbol.iterator](){const er=this.headers,rr=Object.keys(er);let nr=0;return{next:()=>{if(nr<rr.length){const ir=rr[nr++];return{value:[ir,er[ir]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#f||null}setCredentials(er,rr){assertArgument(!er.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#f=`${er}:${rr}`}get allowGzip(){return this.#t}set allowGzip(er){this.#t=!!er}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(er){this.#e=!!er}get timeout(){return this.#i}set timeout(er){assertArgument(er>=0,"timeout must be non-zero","timeout",er),this.#i=er}get preflightFunc(){return this.#l||null}set preflightFunc(er){this.#l=er}get processFunc(){return this.#p||null}set processFunc(er){this.#p=er}get retryFunc(){return this.#g||null}set retryFunc(er){this.#g=er}get getUrlFunc(){return this.#d||defaultGetUrlFunc}set getUrlFunc(er){this.#d=er}constructor(er){this.#s=String(er),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#i=3e5,this.#u={slotInterval:SLOT_INTERVAL,maxAttempts:MAX_ATTEMPTS},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?hexlify(this.#o):"null"}>`}setThrottleParams(er){er.slotInterval!=null&&(this.#u.slotInterval=er.slotInterval),er.maxAttempts!=null&&(this.#u.maxAttempts=er.maxAttempts)}async#h(er,rr,nr,ir,or){if(er>=this.#u.maxAttempts)return or.makeServerError("exceeded maximum retry limit");assert$r(getTime$1()<=rr,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:ir}),nr>0&&await wait(nr);let sr=this.clone();const ar=(sr.url.split(":")[0]||"").toLowerCase();if(ar in Gateways){const ur=await Gateways[ar](sr.url,checkSignal(ir.#c));if(ur instanceof FetchResponse){let fr=ur;if(this.processFunc){checkSignal(ir.#c);try{fr=await this.processFunc(sr,fr)}catch(dr){(dr.throttle==null||typeof dr.stall!="number")&&fr.makeServerError("error in post-processing function",dr).assertOk()}}return fr}sr=ur}this.preflightFunc&&(sr=await this.preflightFunc(sr));const cr=await this.getUrlFunc(sr,checkSignal(ir.#c));let lr=new FetchResponse(cr.statusCode,cr.statusMessage,cr.headers,cr.body,ir);if(lr.statusCode===301||lr.statusCode===302){try{const ur=lr.headers.location||"";return sr.redirect(ur).#h(er+1,rr,0,ir,lr)}catch{}return lr}else if(lr.statusCode===429&&(this.retryFunc==null||await this.retryFunc(sr,lr,er))){const ur=lr.headers["retry-after"];let fr=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,er));return typeof ur=="string"&&ur.match(/^[1-9][0-9]*$/)&&(fr=parseInt(ur)),sr.clone().#h(er+1,rr,fr,ir,lr)}if(this.processFunc){checkSignal(ir.#c);try{lr=await this.processFunc(sr,lr)}catch(ur){(ur.throttle==null||typeof ur.stall!="number")&&lr.makeServerError("error in post-processing function",ur).assertOk();let fr=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,er));return ur.stall>=0&&(fr=ur.stall),sr.clone().#h(er+1,rr,fr,ir,lr)}}return lr}send(){return assert$r(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new FetchCancelSignal(this),this.#h(0,getTime$1()+this.timeout,0,this,new FetchResponse(0,"",{},null,this))}cancel(){assert$r(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const er=fetchSignals.get(this);if(!er)throw new Error("missing signal; should not happen");er()}redirect(er){const rr=this.url.split(":")[0].toLowerCase(),nr=er.split(":")[0].toLowerCase();assert$r(this.method==="GET"&&(rr!=="https"||nr!=="http")&&er.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(er)})`});const ir=new FetchRequest(er);return ir.method="GET",ir.allowGzip=this.allowGzip,ir.timeout=this.timeout,ir.#r=Object.assign({},this.#r),this.#o&&(ir.#o=new Uint8Array(this.#o)),ir.#a=this.#a,ir}clone(){const er=new FetchRequest(this.url);return er.#n=this.#n,this.#o&&(er.#o=this.#o),er.#a=this.#a,er.#r=Object.assign({},this.#r),er.#f=this.#f,this.allowGzip&&(er.allowGzip=!0),er.timeout=this.timeout,this.allowInsecureAuthentication&&(er.allowInsecureAuthentication=!0),er.#l=this.#l,er.#p=this.#p,er.#g=this.#g,er.#u=Object.assign({},this.#u),er.#d=this.#d,er}static lockConfig(){locked$1=!0}static getGateway(er){return Gateways[er.toLowerCase()]||null}static registerGateway(er,rr){if(er=er.toLowerCase(),er==="http"||er==="https")throw new Error(`cannot intercept ${er}; use registerGetUrl`);if(locked$1)throw new Error("gateways locked");Gateways[er]=rr}static registerGetUrl(er){if(locked$1)throw new Error("gateways locked");defaultGetUrlFunc=er}static createGetUrlFunc(er){return createGetUrl()}static createDataGateway(){return dataGatewayFunc}static createIpfsGatewayFunc(er){return getIpfsGatewayFunc(er)}}class FetchResponse{#e;#t;#r;#n;#i;#s;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?hexlify(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":toUtf8String(this.#n)}catch{assert$r(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{assert$r(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const er=this.headers,rr=Object.keys(er);let nr=0;return{next:()=>{if(nr<rr.length){const ir=rr[nr++];return{value:[ir,er[ir]],done:!1}}return{value:void 0,done:!0}}}}constructor(er,rr,nr,ir,or){this.#e=er,this.#t=rr,this.#r=Object.keys(nr).reduce((sr,ar)=>(sr[ar.toLowerCase()]=String(nr[ar]),sr),{}),this.#n=ir==null?null:new Uint8Array(ir),this.#i=or||null,this.#s={message:""}}makeServerError(er,rr){let nr;er?nr=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${er})`:(er=`${this.statusCode} ${this.statusMessage}`,nr=`CLIENT ESCALATED SERVER ERROR (${er})`);const ir=new FetchResponse(599,nr,this.headers,this.body,this.#i||void 0);return ir.#s={message:er,error:rr},ir}throwThrottleError(er,rr){rr==null?rr=-1:assertArgument(Number.isInteger(rr)&&rr>=0,"invalid stall timeout","stall",rr);const nr=new Error(er||"throttling requests");throw defineProperties(nr,{stall:rr,throttle:!0}),nr}getHeader(er){return this.headers[er.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#i}ok(){return this.#s.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:er,error:rr}=this.#s;er===""&&(er=`server response ${this.statusCode} ${this.statusMessage}`);let nr=null;this.request&&(nr=this.request.url);let ir=null;try{this.#n&&(ir=toUtf8String(this.#n))}catch{}assert$r(!1,er,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:rr,info:{requestUrl:nr,responseBody:ir,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function getTime$1(){return new Date().getTime()}function unpercent(tr){return toUtf8Bytes(tr.replace(/%([0-9a-f][0-9a-f])/gi,(er,rr)=>String.fromCharCode(parseInt(rr,16))))}function wait(tr){return new Promise(er=>setTimeout(er,tr))}const BN_N1=BigInt(-1),BN_0$8=BigInt(0),BN_1$3=BigInt(1),BN_5=BigInt(5),_guard$3={};let Zeros$1="0000";for(;Zeros$1.length<80;)Zeros$1+=Zeros$1;function getTens(tr){let er=Zeros$1;for(;er.length<tr;)er+=er;return BigInt("1"+er.substring(0,tr))}function checkValue(tr,er,rr){const nr=BigInt(er.width);if(er.signed){const ir=BN_1$3<<nr-BN_1$3;assert$r(rr==null||tr>=-ir&&tr<ir,"overflow","NUMERIC_FAULT",{operation:rr,fault:"overflow",value:tr}),tr>BN_0$8?tr=fromTwos(mask$1(tr,nr),nr):tr=-fromTwos(mask$1(-tr,nr),nr)}else{const ir=BN_1$3<<nr;assert$r(rr==null||tr>=0&&tr<ir,"overflow","NUMERIC_FAULT",{operation:rr,fault:"overflow",value:tr}),tr=(tr%ir+ir)%ir&ir-BN_1$3}return tr}function getFormat$1(tr){typeof tr=="number"&&(tr=`fixed128x${tr}`);let er=!0,rr=128,nr=18;if(typeof tr=="string"){if(tr!=="fixed")if(tr==="ufixed")er=!1;else{const or=tr.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);assertArgument(or,"invalid fixed format","format",tr),er=or[1]!=="u",rr=parseInt(or[2]),nr=parseInt(or[3])}}else if(tr){const or=tr,sr=(ar,cr,lr)=>or[ar]==null?lr:(assertArgument(typeof or[ar]===cr,"invalid fixed format ("+ar+" not "+cr+")","format."+ar,or[ar]),or[ar]);er=sr("signed","boolean",er),rr=sr("width","number",rr),nr=sr("decimals","number",nr)}assertArgument(rr%8===0,"invalid FixedNumber width (not byte aligned)","format.width",rr),assertArgument(nr<=80,"invalid FixedNumber decimals (too large)","format.decimals",nr);const ir=(er?"":"u")+"fixed"+String(rr)+"x"+String(nr);return{signed:er,width:rr,decimals:nr,name:ir}}function toString$5(tr,er){let rr="";tr<BN_0$8&&(rr="-",tr*=BN_N1);let nr=tr.toString();if(er===0)return rr+nr;for(;nr.length<=er;)nr=Zeros$1+nr;const ir=nr.length-er;for(nr=nr.substring(0,ir)+"."+nr.substring(ir);nr[0]==="0"&&nr[1]!==".";)nr=nr.substring(1);for(;nr[nr.length-1]==="0"&&nr[nr.length-2]!==".";)nr=nr.substring(0,nr.length-1);return rr+nr}class FixedNumber{format;#e;#t;#r;_value;constructor(er,rr,nr){assertPrivate(er,_guard$3,"FixedNumber"),this.#t=rr,this.#e=nr;const ir=toString$5(rr,nr.decimals);defineProperties(this,{format:nr.name,_value:ir}),this.#r=getTens(nr.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(er){assertArgument(this.format===er.format,"incompatible format; use fixedNumber.toFormat","other",er)}#i(er,rr){return er=checkValue(er,this.#e,rr),new FixedNumber(_guard$3,er,this.#e)}#s(er,rr){return this.#n(er),this.#i(this.#t+er.#t,rr)}addUnsafe(er){return this.#s(er)}add(er){return this.#s(er,"add")}#o(er,rr){return this.#n(er),this.#i(this.#t-er.#t,rr)}subUnsafe(er){return this.#o(er)}sub(er){return this.#o(er,"sub")}#a(er,rr){return this.#n(er),this.#i(this.#t*er.#t/this.#r,rr)}mulUnsafe(er){return this.#a(er)}mul(er){return this.#a(er,"mul")}mulSignal(er){this.#n(er);const rr=this.#t*er.#t;return assert$r(rr%this.#r===BN_0$8,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#i(rr/this.#r,"mulSignal")}#f(er,rr){return assert$r(er.#t!==BN_0$8,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(er),this.#i(this.#t*this.#r/er.#t,rr)}divUnsafe(er){return this.#f(er)}div(er){return this.#f(er,"div")}divSignal(er){assert$r(er.#t!==BN_0$8,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(er);const rr=this.#t*this.#r;return assert$r(rr%er.#t===BN_0$8,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#i(rr/er.#t,"divSignal")}cmp(er){let rr=this.value,nr=er.value;const ir=this.decimals-er.decimals;return ir>0?nr*=getTens(ir):ir<0&&(rr*=getTens(-ir)),rr<nr?-1:rr>nr?1:0}eq(er){return this.cmp(er)===0}lt(er){return this.cmp(er)<0}lte(er){return this.cmp(er)<=0}gt(er){return this.cmp(er)>0}gte(er){return this.cmp(er)>=0}floor(){let er=this.#t;return this.#t<BN_0$8&&(er-=this.#r-BN_1$3),er=this.#t/this.#r*this.#r,this.#i(er,"floor")}ceiling(){let er=this.#t;return this.#t>BN_0$8&&(er+=this.#r-BN_1$3),er=this.#t/this.#r*this.#r,this.#i(er,"ceiling")}round(er){if(er==null&&(er=0),er>=this.decimals)return this;const rr=this.decimals-er,nr=BN_5*getTens(rr-1);let ir=this.value+nr;const or=getTens(rr);return ir=ir/or*or,checkValue(ir,this.#e,"round"),new FixedNumber(_guard$3,ir,this.#e)}isZero(){return this.#t===BN_0$8}isNegative(){return this.#t<BN_0$8}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(er){return FixedNumber.fromString(this.toString(),er)}static fromValue(er,rr,nr){const ir=rr==null?0:getNumber(rr),or=getFormat$1(nr);let sr=getBigInt(er,"value");const ar=ir-or.decimals;if(ar>0){const cr=getTens(ar);assert$r(sr%cr===BN_0$8,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:er}),sr/=cr}else ar<0&&(sr*=getTens(-ar));return checkValue(sr,or,"fromValue"),new FixedNumber(_guard$3,sr,or)}static fromString(er,rr){const nr=er.match(/^(-?)([0-9]*)\.?([0-9]*)$/);assertArgument(nr&&nr[2].length+nr[3].length>0,"invalid FixedNumber string value","value",er);const ir=getFormat$1(rr);let or=nr[2]||"0",sr=nr[3]||"";for(;sr.length<ir.decimals;)sr+=Zeros$1;assert$r(sr.substring(ir.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:er}),sr=sr.substring(0,ir.decimals);const ar=BigInt(nr[1]+or+sr);return checkValue(ar,ir,"fromString"),new FixedNumber(_guard$3,ar,ir)}static fromBytes(er,rr){let nr=toBigInt(getBytes(er,"value"));const ir=getFormat$1(rr);return ir.signed&&(nr=fromTwos(nr,ir.width)),checkValue(nr,ir,"fromBytes"),new FixedNumber(_guard$3,nr,ir)}}function hexlifyByte(tr){let er=tr.toString(16);for(;er.length<2;)er="0"+er;return"0x"+er}function unarrayifyInteger(tr,er,rr){let nr=0;for(let ir=0;ir<rr;ir++)nr=nr*256+tr[er+ir];return nr}function _decodeChildren(tr,er,rr,nr){const ir=[];for(;rr<er+1+nr;){const or=_decode$2(tr,rr);ir.push(or.result),rr+=or.consumed,assert$r(rr<=er+1+nr,"child data too short","BUFFER_OVERRUN",{buffer:tr,length:nr,offset:er})}return{consumed:1+nr,result:ir}}function _decode$2(tr,er){assert$r(tr.length!==0,"data too short","BUFFER_OVERRUN",{buffer:tr,length:0,offset:1});const rr=nr=>{assert$r(nr<=tr.length,"data short segment too short","BUFFER_OVERRUN",{buffer:tr,length:tr.length,offset:nr})};if(tr[er]>=248){const nr=tr[er]-247;rr(er+1+nr);const ir=unarrayifyInteger(tr,er+1,nr);return rr(er+1+nr+ir),_decodeChildren(tr,er,er+1+nr,nr+ir)}else if(tr[er]>=192){const nr=tr[er]-192;return rr(er+1+nr),_decodeChildren(tr,er,er+1,nr)}else if(tr[er]>=184){const nr=tr[er]-183;rr(er+1+nr);const ir=unarrayifyInteger(tr,er+1,nr);rr(er+1+nr+ir);const or=hexlify(tr.slice(er+1+nr,er+1+nr+ir));return{consumed:1+nr+ir,result:or}}else if(tr[er]>=128){const nr=tr[er]-128;rr(er+1+nr);const ir=hexlify(tr.slice(er+1,er+1+nr));return{consumed:1+nr,result:ir}}return{consumed:1,result:hexlifyByte(tr[er])}}function decodeRlp(tr){const er=getBytes(tr,"data"),rr=_decode$2(er,0);return assertArgument(rr.consumed===er.length,"unexpected junk after rlp payload","data",tr),rr.result}function arrayifyInteger(tr){const er=[];for(;tr;)er.unshift(tr&255),tr>>=8;return er}function _encode(tr){if(Array.isArray(tr)){let nr=[];if(tr.forEach(function(or){nr=nr.concat(_encode(or))}),nr.length<=55)return nr.unshift(192+nr.length),nr;const ir=arrayifyInteger(nr.length);return ir.unshift(247+ir.length),ir.concat(nr)}const er=Array.prototype.slice.call(getBytes(tr,"object"));if(er.length===1&&er[0]<=127)return er;if(er.length<=55)return er.unshift(128+er.length),er;const rr=arrayifyInteger(er.length);return rr.unshift(183+rr.length),rr.concat(er)}const nibbles="0123456789abcdef";function encodeRlp(tr){let er="0x";for(const rr of _encode(tr))er+=nibbles[rr>>4],er+=nibbles[rr&15];return er}function formatUnits(tr,er){let rr=18;return rr=getNumber(er,"unit"),FixedNumber.fromValue(tr,rr,{decimals:rr,width:512}).toString()}function parseUnits$1(tr,er){assertArgument(typeof tr=="string","value must be a string","value",tr);let rr=18;return rr=getNumber(er,"unit"),FixedNumber.fromString(tr,{decimals:rr,width:512}).value}function formatEther(tr){return formatUnits(tr,18)}function parseEther(tr){return parseUnits$1(tr,18)}const WordSize=32,Padding=new Uint8Array(WordSize),passProperties$1=["then"],_guard$2={},resultNames=new WeakMap;function getNames(tr){return resultNames.get(tr)}function setNames(tr,er){resultNames.set(tr,er)}function throwError(tr,er){const rr=new Error(`deferred error during ABI decoding triggered accessing ${tr}`);throw rr.error=er,rr}function toObject$1(tr,er,rr){return tr.indexOf(null)>=0?er.map((nr,ir)=>nr instanceof Result?toObject$1(getNames(nr),nr,rr):nr):tr.reduce((nr,ir,or)=>{let sr=er.getValue(ir);return ir in nr||(rr&&sr instanceof Result&&(sr=toObject$1(getNames(sr),sr,rr)),nr[ir]=sr),nr},{})}class Result extends Array{#e;constructor(...er){const rr=er[0];let nr=er[1],ir=(er[2]||[]).slice(),or=!0;rr!==_guard$2&&(nr=er,ir=[],or=!1),super(nr.length),nr.forEach((cr,lr)=>{this[lr]=cr});const sr=ir.reduce((cr,lr)=>(typeof lr=="string"&&cr.set(lr,(cr.get(lr)||0)+1),cr),new Map);if(setNames(this,Object.freeze(nr.map((cr,lr)=>{const ur=ir[lr];return ur!=null&&sr.get(ur)===1?ur:null}))),this.#e=[],this.#e==null&&this.#e,!or)return;Object.freeze(this);const ar=new Proxy(this,{get:(cr,lr,ur)=>{if(typeof lr=="string"){if(lr.match(/^[0-9]+$/)){const dr=getNumber(lr,"%index");if(dr<0||dr>=this.length)throw new RangeError("out of result range");const gr=cr[dr];return gr instanceof Error&&throwError(`index ${dr}`,gr),gr}if(passProperties$1.indexOf(lr)>=0)return Reflect.get(cr,lr,ur);const fr=cr[lr];if(fr instanceof Function)return function(...dr){return fr.apply(this===ur?cr:this,dr)};if(!(lr in cr))return cr.getValue.apply(this===ur?cr:this,[lr])}return Reflect.get(cr,lr,ur)}});return setNames(ar,getNames(this)),ar}toArray(er){const rr=[];return this.forEach((nr,ir)=>{nr instanceof Error&&throwError(`index ${ir}`,nr),er&&nr instanceof Result&&(nr=nr.toArray(er)),rr.push(nr)}),rr}toObject(er){const rr=getNames(this);return rr.reduce((nr,ir,or)=>(assert$r(ir!=null,`value at index ${or} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),toObject$1(rr,this,er)),{})}slice(er,rr){er==null&&(er=0),er<0&&(er+=this.length,er<0&&(er=0)),rr==null&&(rr=this.length),rr<0&&(rr+=this.length,rr<0&&(rr=0)),rr>this.length&&(rr=this.length);const nr=getNames(this),ir=[],or=[];for(let sr=er;sr<rr;sr++)ir.push(this[sr]),or.push(nr[sr]);return new Result(_guard$2,ir,or)}filter(er,rr){const nr=getNames(this),ir=[],or=[];for(let sr=0;sr<this.length;sr++){const ar=this[sr];ar instanceof Error&&throwError(`index ${sr}`,ar),er.call(rr,ar,sr,this)&&(ir.push(ar),or.push(nr[sr]))}return new Result(_guard$2,ir,or)}map(er,rr){const nr=[];for(let ir=0;ir<this.length;ir++){const or=this[ir];or instanceof Error&&throwError(`index ${ir}`,or),nr.push(er.call(rr,or,ir,this))}return nr}getValue(er){const rr=getNames(this).indexOf(er);if(rr===-1)return;const nr=this[rr];return nr instanceof Error&&throwError(`property ${JSON.stringify(er)}`,nr.error),nr}static fromItems(er,rr){return new Result(_guard$2,er,rr)}}function getValue$3(tr){let er=toBeArray(tr);return assert$r(er.length<=WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:er,length:WordSize,offset:er.length}),er.length!==WordSize&&(er=getBytesCopy(concat$2([Padding.slice(er.length%WordSize),er]))),er}class Coder{name;type;localName;dynamic;constructor(er,rr,nr,ir){defineProperties(this,{name:er,type:rr,localName:nr,dynamic:ir},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(er,rr){assertArgument(!1,er,this.localName,rr)}}let Writer$2=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return concat$2(this.#e)}get length(){return this.#t}#r(er){return this.#e.push(er),this.#t+=er.length,er.length}appendWriter(er){return this.#r(getBytesCopy(er.data))}writeBytes(er){let rr=getBytesCopy(er);const nr=rr.length%WordSize;return nr&&(rr=getBytesCopy(concat$2([rr,Padding.slice(nr)]))),this.#r(rr)}writeValue(er){return this.#r(getValue$3(er))}writeUpdatableValue(){const er=this.#e.length;return this.#e.push(Padding),this.#t+=WordSize,rr=>{this.#e[er]=getValue$3(rr)}}},Reader$2=class Ml{allowLoose;#e;#t;#r;#n;#i;constructor(er,rr,nr){defineProperties(this,{allowLoose:!!rr}),this.#e=getBytesCopy(er),this.#r=0,this.#n=null,this.#i=nr??1024,this.#t=0}get data(){return hexlify(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#s(er){if(this.#n)return this.#n.#s(er);this.#r+=er,assert$r(this.#i<1||this.#r<=this.#i*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#i} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:getBytesCopy(this.#e),offset:this.#t,length:er,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#o(er,rr,nr){let ir=Math.ceil(rr/WordSize)*WordSize;return this.#t+ir>this.#e.length&&(this.allowLoose&&nr&&this.#t+rr<=this.#e.length?ir=rr:assert$r(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:getBytesCopy(this.#e),length:this.#e.length,offset:this.#t+ir})),this.#e.slice(this.#t,this.#t+ir)}subReader(er){const rr=new Ml(this.#e.slice(this.#t+er),this.allowLoose,this.#i);return rr.#n=this,rr}readBytes(er,rr){let nr=this.#o(0,er,!!rr);return this.#s(er),this.#t+=nr.length,nr.slice(0,er)}readValue(){return toBigInt(this.readBytes(WordSize))}readIndex(){return toNumber$3(this.readBytes(WordSize))}};function number$9(tr){if(!Number.isSafeInteger(tr)||tr<0)throw new Error(`Wrong positive integer: ${tr}`)}function bytes$7(tr,...er){if(!(tr instanceof Uint8Array))throw new Error("Expected Uint8Array");if(er.length>0&&!er.includes(tr.length))throw new Error(`Expected Uint8Array of length ${er}, not of length=${tr.length}`)}function hash$7(tr){if(typeof tr!="function"||typeof tr.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$9(tr.outputLen),number$9(tr.blockLen)}function exists$3(tr,er=!0){if(tr.destroyed)throw new Error("Hash instance has been destroyed");if(er&&tr.finished)throw new Error("Hash#digest() has already been called")}function output$3(tr,er){bytes$7(tr);const rr=er.outputLen;if(tr.length<rr)throw new Error(`digestInto() expects output buffer of length at least ${rr}`)}const crypto$6=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$3=tr=>tr instanceof Uint8Array,u32$2=tr=>new Uint32Array(tr.buffer,tr.byteOffset,Math.floor(tr.byteLength/4)),createView$2=tr=>new DataView(tr.buffer,tr.byteOffset,tr.byteLength),rotr$2=(tr,er)=>tr<<32-er|tr>>>er,isLE$2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$2)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$7(tr){if(typeof tr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof tr}`);return new Uint8Array(new TextEncoder().encode(tr))}function toBytes$7(tr){if(typeof tr=="string"&&(tr=utf8ToBytes$7(tr)),!u8a$3(tr))throw new Error(`expected Uint8Array, got ${typeof tr}`);return tr}function concatBytes$a(...tr){const er=new Uint8Array(tr.reduce((nr,ir)=>nr+ir.length,0));let rr=0;return tr.forEach(nr=>{if(!u8a$3(nr))throw new Error("Uint8Array expected");er.set(nr,rr),rr+=nr.length}),er}let Hash$b=class{clone(){return this._cloneInto()}};function wrapConstructor$2(tr){const er=nr=>tr().update(toBytes$7(nr)).digest(),rr=tr();return er.outputLen=rr.outputLen,er.blockLen=rr.blockLen,er.create=()=>tr(),er}function randomBytes$3(tr=32){if(crypto$6&&typeof crypto$6.getRandomValues=="function")return crypto$6.getRandomValues(new Uint8Array(tr));throw new Error("crypto.getRandomValues must be defined")}let HMAC$2=class extends Hash$b{constructor(er,rr){super(),this.finished=!1,this.destroyed=!1,hash$7(er);const nr=toBytes$7(rr);if(this.iHash=er.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ir=this.blockLen,or=new Uint8Array(ir);or.set(nr.length>ir?er.create().update(nr).digest():nr);for(let sr=0;sr<or.length;sr++)or[sr]^=54;this.iHash.update(or),this.oHash=er.create();for(let sr=0;sr<or.length;sr++)or[sr]^=106;this.oHash.update(or),or.fill(0)}update(er){return exists$3(this),this.iHash.update(er),this}digestInto(er){exists$3(this),bytes$7(er,this.outputLen),this.finished=!0,this.iHash.digestInto(er),this.oHash.update(er),this.oHash.digestInto(er),this.destroy()}digest(){const er=new Uint8Array(this.oHash.outputLen);return this.digestInto(er),er}_cloneInto(er){er||(er=Object.create(Object.getPrototypeOf(this),{}));const{oHash:rr,iHash:nr,finished:ir,destroyed:or,blockLen:sr,outputLen:ar}=this;return er=er,er.finished=ir,er.destroyed=or,er.blockLen=sr,er.outputLen=ar,er.oHash=rr._cloneInto(er.oHash),er.iHash=nr._cloneInto(er.iHash),er}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$3=(tr,er,rr)=>new HMAC$2(tr,er).update(rr).digest();hmac$3.create=(tr,er)=>new HMAC$2(tr,er);function setBigUint64$2(tr,er,rr,nr){if(typeof tr.setBigUint64=="function")return tr.setBigUint64(er,rr,nr);const ir=BigInt(32),or=BigInt(4294967295),sr=Number(rr>>ir&or),ar=Number(rr&or),cr=nr?4:0,lr=nr?0:4;tr.setUint32(er+cr,sr,nr),tr.setUint32(er+lr,ar,nr)}let SHA2$1=class extends Hash$b{constructor(er,rr,nr,ir){super(),this.blockLen=er,this.outputLen=rr,this.padOffset=nr,this.isLE=ir,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(er),this.view=createView$2(this.buffer)}update(er){exists$3(this);const{view:rr,buffer:nr,blockLen:ir}=this;er=toBytes$7(er);const or=er.length;for(let sr=0;sr<or;){const ar=Math.min(ir-this.pos,or-sr);if(ar===ir){const cr=createView$2(er);for(;ir<=or-sr;sr+=ir)this.process(cr,sr);continue}nr.set(er.subarray(sr,sr+ar),this.pos),this.pos+=ar,sr+=ar,this.pos===ir&&(this.process(rr,0),this.pos=0)}return this.length+=er.length,this.roundClean(),this}digestInto(er){exists$3(this),output$3(er,this),this.finished=!0;const{buffer:rr,view:nr,blockLen:ir,isLE:or}=this;let{pos:sr}=this;rr[sr++]=128,this.buffer.subarray(sr).fill(0),this.padOffset>ir-sr&&(this.process(nr,0),sr=0);for(let fr=sr;fr<ir;fr++)rr[fr]=0;setBigUint64$2(nr,ir-8,BigInt(this.length*8),or),this.process(nr,0);const ar=createView$2(er),cr=this.outputLen;if(cr%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const lr=cr/4,ur=this.get();if(lr>ur.length)throw new Error("_sha2: outputLen bigger than state");for(let fr=0;fr<lr;fr++)ar.setUint32(4*fr,ur[fr],or)}digest(){const{buffer:er,outputLen:rr}=this;this.digestInto(er);const nr=er.slice(0,rr);return this.destroy(),nr}_cloneInto(er){er||(er=new this.constructor),er.set(...this.get());const{blockLen:rr,buffer:nr,length:ir,finished:or,destroyed:sr,pos:ar}=this;return er.length=ir,er.pos=ar,er.finished=or,er.destroyed=sr,ir%rr&&er.buffer.set(nr),er}};const Chi$2=(tr,er,rr)=>tr&er^~tr&rr,Maj$2=(tr,er,rr)=>tr&er^tr&rr^er&rr,SHA256_K$2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$2=new Uint32Array(64);let SHA256$4=class extends SHA2$1{constructor(){super(64,32,8,!1),this.A=IV$1[0]|0,this.B=IV$1[1]|0,this.C=IV$1[2]|0,this.D=IV$1[3]|0,this.E=IV$1[4]|0,this.F=IV$1[5]|0,this.G=IV$1[6]|0,this.H=IV$1[7]|0}get(){const{A:er,B:rr,C:nr,D:ir,E:or,F:sr,G:ar,H:cr}=this;return[er,rr,nr,ir,or,sr,ar,cr]}set(er,rr,nr,ir,or,sr,ar,cr){this.A=er|0,this.B=rr|0,this.C=nr|0,this.D=ir|0,this.E=or|0,this.F=sr|0,this.G=ar|0,this.H=cr|0}process(er,rr){for(let fr=0;fr<16;fr++,rr+=4)SHA256_W$2[fr]=er.getUint32(rr,!1);for(let fr=16;fr<64;fr++){const dr=SHA256_W$2[fr-15],gr=SHA256_W$2[fr-2],br=rotr$2(dr,7)^rotr$2(dr,18)^dr>>>3,vr=rotr$2(gr,17)^rotr$2(gr,19)^gr>>>10;SHA256_W$2[fr]=vr+SHA256_W$2[fr-7]+br+SHA256_W$2[fr-16]|0}let{A:nr,B:ir,C:or,D:sr,E:ar,F:cr,G:lr,H:ur}=this;for(let fr=0;fr<64;fr++){const dr=rotr$2(ar,6)^rotr$2(ar,11)^rotr$2(ar,25),gr=ur+dr+Chi$2(ar,cr,lr)+SHA256_K$2[fr]+SHA256_W$2[fr]|0,vr=(rotr$2(nr,2)^rotr$2(nr,13)^rotr$2(nr,22))+Maj$2(nr,ir,or)|0;ur=lr,lr=cr,cr=ar,ar=sr+gr|0,sr=or,or=ir,ir=nr,nr=gr+vr|0}nr=nr+this.A|0,ir=ir+this.B|0,or=or+this.C|0,sr=sr+this.D|0,ar=ar+this.E|0,cr=cr+this.F|0,lr=lr+this.G|0,ur=ur+this.H|0,this.set(nr,ir,or,sr,ar,cr,lr,ur)}roundClean(){SHA256_W$2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$4=wrapConstructor$2(()=>new SHA256$4),U32_MASK64$2=BigInt(2**32-1),_32n$2=BigInt(32);function fromBig$2(tr,er=!1){return er?{h:Number(tr&U32_MASK64$2),l:Number(tr>>_32n$2&U32_MASK64$2)}:{h:Number(tr>>_32n$2&U32_MASK64$2)|0,l:Number(tr&U32_MASK64$2)|0}}function split$3(tr,er=!1){let rr=new Uint32Array(tr.length),nr=new Uint32Array(tr.length);for(let ir=0;ir<tr.length;ir++){const{h:or,l:sr}=fromBig$2(tr[ir],er);[rr[ir],nr[ir]]=[or,sr]}return[rr,nr]}const toBig$1=(tr,er)=>BigInt(tr>>>0)<<_32n$2|BigInt(er>>>0),shrSH$1=(tr,er,rr)=>tr>>>rr,shrSL$1=(tr,er,rr)=>tr<<32-rr|er>>>rr,rotrSH$1=(tr,er,rr)=>tr>>>rr|er<<32-rr,rotrSL$1=(tr,er,rr)=>tr<<32-rr|er>>>rr,rotrBH$1=(tr,er,rr)=>tr<<64-rr|er>>>rr-32,rotrBL$1=(tr,er,rr)=>tr>>>rr-32|er<<64-rr,rotr32H$1=(tr,er)=>er,rotr32L$1=(tr,er)=>tr,rotlSH$2=(tr,er,rr)=>tr<<rr|er>>>32-rr,rotlSL$2=(tr,er,rr)=>er<<rr|tr>>>32-rr,rotlBH$2=(tr,er,rr)=>er<<rr-32|tr>>>64-rr,rotlBL$2=(tr,er,rr)=>tr<<rr-32|er>>>64-rr;function add$2(tr,er,rr,nr){const ir=(er>>>0)+(nr>>>0);return{h:tr+rr+(ir/2**32|0)|0,l:ir|0}}const add3L$1=(tr,er,rr)=>(tr>>>0)+(er>>>0)+(rr>>>0),add3H$1=(tr,er,rr,nr)=>er+rr+nr+(tr/2**32|0)|0,add4L$1=(tr,er,rr,nr)=>(tr>>>0)+(er>>>0)+(rr>>>0)+(nr>>>0),add4H$1=(tr,er,rr,nr,ir)=>er+rr+nr+ir+(tr/2**32|0)|0,add5L$1=(tr,er,rr,nr,ir)=>(tr>>>0)+(er>>>0)+(rr>>>0)+(nr>>>0)+(ir>>>0),add5H$1=(tr,er,rr,nr,ir,or)=>er+rr+nr+ir+or+(tr/2**32|0)|0,u64$1={fromBig:fromBig$2,split:split$3,toBig:toBig$1,shrSH:shrSH$1,shrSL:shrSL$1,rotrSH:rotrSH$1,rotrSL:rotrSL$1,rotrBH:rotrBH$1,rotrBL:rotrBL$1,rotr32H:rotr32H$1,rotr32L:rotr32L$1,rotlSH:rotlSH$2,rotlSL:rotlSL$2,rotlBH:rotlBH$2,rotlBL:rotlBL$2,add:add$2,add3L:add3L$1,add3H:add3H$1,add4L:add4L$1,add4H:add4H$1,add5H:add5H$1,add5L:add5L$1},[SHA512_Kh,SHA512_Kl]=u64$1.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(tr=>BigInt(tr))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);let SHA512$3=class extends SHA2$1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:er,Al:rr,Bh:nr,Bl:ir,Ch:or,Cl:sr,Dh:ar,Dl:cr,Eh:lr,El:ur,Fh:fr,Fl:dr,Gh:gr,Gl:br,Hh:vr,Hl:$r}=this;return[er,rr,nr,ir,or,sr,ar,cr,lr,ur,fr,dr,gr,br,vr,$r]}set(er,rr,nr,ir,or,sr,ar,cr,lr,ur,fr,dr,gr,br,vr,$r){this.Ah=er|0,this.Al=rr|0,this.Bh=nr|0,this.Bl=ir|0,this.Ch=or|0,this.Cl=sr|0,this.Dh=ar|0,this.Dl=cr|0,this.Eh=lr|0,this.El=ur|0,this.Fh=fr|0,this.Fl=dr|0,this.Gh=gr|0,this.Gl=br|0,this.Hh=vr|0,this.Hl=$r|0}process(er,rr){for(let xr=0;xr<16;xr++,rr+=4)SHA512_W_H[xr]=er.getUint32(rr),SHA512_W_L[xr]=er.getUint32(rr+=4);for(let xr=16;xr<80;xr++){const Ir=SHA512_W_H[xr-15]|0,Nr=SHA512_W_L[xr-15]|0,Lr=u64$1.rotrSH(Ir,Nr,1)^u64$1.rotrSH(Ir,Nr,8)^u64$1.shrSH(Ir,Nr,7),jr=u64$1.rotrSL(Ir,Nr,1)^u64$1.rotrSL(Ir,Nr,8)^u64$1.shrSL(Ir,Nr,7),Or=SHA512_W_H[xr-2]|0,Dr=SHA512_W_L[xr-2]|0,Cr=u64$1.rotrSH(Or,Dr,19)^u64$1.rotrBH(Or,Dr,61)^u64$1.shrSH(Or,Dr,6),Tr=u64$1.rotrSL(Or,Dr,19)^u64$1.rotrBL(Or,Dr,61)^u64$1.shrSL(Or,Dr,6),yr=u64$1.add4L(jr,Tr,SHA512_W_L[xr-7],SHA512_W_L[xr-16]),mr=u64$1.add4H(yr,Lr,Cr,SHA512_W_H[xr-7],SHA512_W_H[xr-16]);SHA512_W_H[xr]=mr|0,SHA512_W_L[xr]=yr|0}let{Ah:nr,Al:ir,Bh:or,Bl:sr,Ch:ar,Cl:cr,Dh:lr,Dl:ur,Eh:fr,El:dr,Fh:gr,Fl:br,Gh:vr,Gl:$r,Hh:Er,Hl:_r}=this;for(let xr=0;xr<80;xr++){const Ir=u64$1.rotrSH(fr,dr,14)^u64$1.rotrSH(fr,dr,18)^u64$1.rotrBH(fr,dr,41),Nr=u64$1.rotrSL(fr,dr,14)^u64$1.rotrSL(fr,dr,18)^u64$1.rotrBL(fr,dr,41),Lr=fr&gr^~fr&vr,jr=dr&br^~dr&$r,Or=u64$1.add5L(_r,Nr,jr,SHA512_Kl[xr],SHA512_W_L[xr]),Dr=u64$1.add5H(Or,Er,Ir,Lr,SHA512_Kh[xr],SHA512_W_H[xr]),Cr=Or|0,Tr=u64$1.rotrSH(nr,ir,28)^u64$1.rotrBH(nr,ir,34)^u64$1.rotrBH(nr,ir,39),yr=u64$1.rotrSL(nr,ir,28)^u64$1.rotrBL(nr,ir,34)^u64$1.rotrBL(nr,ir,39),mr=nr&or^nr&ar^or&ar,hr=ir&sr^ir&cr^sr&cr;Er=vr|0,_r=$r|0,vr=gr|0,$r=br|0,gr=fr|0,br=dr|0,{h:fr,l:dr}=u64$1.add(lr|0,ur|0,Dr|0,Cr|0),lr=ar|0,ur=cr|0,ar=or|0,cr=sr|0,or=nr|0,sr=ir|0;const pr=u64$1.add3L(Cr,yr,hr);nr=u64$1.add3H(pr,Dr,Tr,mr),ir=pr|0}({h:nr,l:ir}=u64$1.add(this.Ah|0,this.Al|0,nr|0,ir|0)),{h:or,l:sr}=u64$1.add(this.Bh|0,this.Bl|0,or|0,sr|0),{h:ar,l:cr}=u64$1.add(this.Ch|0,this.Cl|0,ar|0,cr|0),{h:lr,l:ur}=u64$1.add(this.Dh|0,this.Dl|0,lr|0,ur|0),{h:fr,l:dr}=u64$1.add(this.Eh|0,this.El|0,fr|0,dr|0),{h:gr,l:br}=u64$1.add(this.Fh|0,this.Fl|0,gr|0,br|0),{h:vr,l:$r}=u64$1.add(this.Gh|0,this.Gl|0,vr|0,$r|0),{h:Er,l:_r}=u64$1.add(this.Hh|0,this.Hl|0,Er|0,_r|0),this.set(nr,ir,or,sr,ar,cr,lr,ur,fr,dr,gr,br,vr,$r,Er,_r)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const sha512$2=wrapConstructor$2(()=>new SHA512$3);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();anyGlobal.crypto||anyGlobal.msCrypto;function createHash(tr){switch(tr){case"sha256":return sha256$4.create();case"sha512":return sha512$2.create()}assertArgument(!1,"invalid hashing algorithm name","algorithm",tr)}const[SHA3_PI$2,SHA3_ROTL$2,_SHA3_IOTA$2]=[[],[],[]],_0n$g=BigInt(0),_1n$i=BigInt(1),_2n$d=BigInt(2),_7n$2=BigInt(7),_256n$2=BigInt(256),_0x71n$2=BigInt(113);for(let tr=0,er=_1n$i,rr=1,nr=0;tr<24;tr++){[rr,nr]=[nr,(2*rr+3*nr)%5],SHA3_PI$2.push(2*(5*nr+rr)),SHA3_ROTL$2.push((tr+1)*(tr+2)/2%64);let ir=_0n$g;for(let or=0;or<7;or++)er=(er<<_1n$i^(er>>_7n$2)*_0x71n$2)%_256n$2,er&_2n$d&&(ir^=_1n$i<<(_1n$i<<BigInt(or))-_1n$i);_SHA3_IOTA$2.push(ir)}const[SHA3_IOTA_H$2,SHA3_IOTA_L$2]=split$3(_SHA3_IOTA$2,!0),rotlH$2=(tr,er,rr)=>rr>32?rotlBH$2(tr,er,rr):rotlSH$2(tr,er,rr),rotlL$2=(tr,er,rr)=>rr>32?rotlBL$2(tr,er,rr):rotlSL$2(tr,er,rr);function keccakP$2(tr,er=24){const rr=new Uint32Array(10);for(let nr=24-er;nr<24;nr++){for(let sr=0;sr<10;sr++)rr[sr]=tr[sr]^tr[sr+10]^tr[sr+20]^tr[sr+30]^tr[sr+40];for(let sr=0;sr<10;sr+=2){const ar=(sr+8)%10,cr=(sr+2)%10,lr=rr[cr],ur=rr[cr+1],fr=rotlH$2(lr,ur,1)^rr[ar],dr=rotlL$2(lr,ur,1)^rr[ar+1];for(let gr=0;gr<50;gr+=10)tr[sr+gr]^=fr,tr[sr+gr+1]^=dr}let ir=tr[2],or=tr[3];for(let sr=0;sr<24;sr++){const ar=SHA3_ROTL$2[sr],cr=rotlH$2(ir,or,ar),lr=rotlL$2(ir,or,ar),ur=SHA3_PI$2[sr];ir=tr[ur],or=tr[ur+1],tr[ur]=cr,tr[ur+1]=lr}for(let sr=0;sr<50;sr+=10){for(let ar=0;ar<10;ar++)rr[ar]=tr[sr+ar];for(let ar=0;ar<10;ar++)tr[sr+ar]^=~rr[(ar+2)%10]&rr[(ar+4)%10]}tr[0]^=SHA3_IOTA_H$2[nr],tr[1]^=SHA3_IOTA_L$2[nr]}rr.fill(0)}let Keccak$3=class Ll extends Hash$b{constructor(er,rr,nr,ir=!1,or=24){if(super(),this.blockLen=er,this.suffix=rr,this.outputLen=nr,this.enableXOF=ir,this.rounds=or,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$9(nr),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){keccakP$2(this.state32,this.rounds),this.posOut=0,this.pos=0}update(er){exists$3(this);const{blockLen:rr,state:nr}=this;er=toBytes$7(er);const ir=er.length;for(let or=0;or<ir;){const sr=Math.min(rr-this.pos,ir-or);for(let ar=0;ar<sr;ar++)nr[this.pos++]^=er[or++];this.pos===rr&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:er,suffix:rr,pos:nr,blockLen:ir}=this;er[nr]^=rr,rr&128&&nr===ir-1&&this.keccak(),er[ir-1]^=128,this.keccak()}writeInto(er){exists$3(this,!1),bytes$7(er),this.finish();const rr=this.state,{blockLen:nr}=this;for(let ir=0,or=er.length;ir<or;){this.posOut>=nr&&this.keccak();const sr=Math.min(nr-this.posOut,or-ir);er.set(rr.subarray(this.posOut,this.posOut+sr),ir),this.posOut+=sr,ir+=sr}return er}xofInto(er){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(er)}xof(er){return number$9(er),this.xofInto(new Uint8Array(er))}digestInto(er){if(output$3(er,this),this.finished)throw new Error("digest() was already called");return this.writeInto(er),this.destroy(),er}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(er){const{blockLen:rr,suffix:nr,outputLen:ir,rounds:or,enableXOF:sr}=this;return er||(er=new Ll(rr,nr,ir,sr,or)),er.state32.set(this.state32),er.pos=this.pos,er.posOut=this.posOut,er.finished=this.finished,er.rounds=or,er.suffix=nr,er.outputLen=ir,er.enableXOF=sr,er.destroyed=this.destroyed,er}};const gen$2=(tr,er,rr)=>wrapConstructor$2(()=>new Keccak$3(er,tr,rr)),keccak_256$2=gen$2(1,136,256/8);let locked=!1;const _keccak256=function(tr){return keccak_256$2(tr)};let __keccak256=_keccak256;function keccak256$4(tr){const er=getBytes(tr,"data");return hexlify(__keccak256(er))}keccak256$4._=_keccak256;keccak256$4.lock=function(){locked=!0};keccak256$4.register=function(tr){if(locked)throw new TypeError("keccak256 is locked");__keccak256=tr};Object.freeze(keccak256$4);const _sha256=function(tr){return createHash("sha256").update(tr).digest()};let __sha256=_sha256,locked256=!1;function sha256$3(tr){const er=getBytes(tr,"data");return hexlify(__sha256(er))}sha256$3._=_sha256;sha256$3.lock=function(){locked256=!0};sha256$3.register=function(tr){if(locked256)throw new Error("sha256 is locked");__sha256=tr};Object.freeze(sha256$3);Object.freeze(sha256$3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$f=BigInt(0),_1n$h=BigInt(1),_2n$c=BigInt(2),u8a$2=tr=>tr instanceof Uint8Array,hexes$5=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));function bytesToHex$9(tr){if(!u8a$2(tr))throw new Error("Uint8Array expected");let er="";for(let rr=0;rr<tr.length;rr++)er+=hexes$5[tr[rr]];return er}function numberToHexUnpadded$3(tr){const er=tr.toString(16);return er.length&1?`0${er}`:er}function hexToNumber$6(tr){if(typeof tr!="string")throw new Error("hex string expected, got "+typeof tr);return BigInt(tr===""?"0":`0x${tr}`)}function hexToBytes$a(tr){if(typeof tr!="string")throw new Error("hex string expected, got "+typeof tr);const er=tr.length;if(er%2)throw new Error("padded hex string expected, got unpadded hex of length "+er);const rr=new Uint8Array(er/2);for(let nr=0;nr<rr.length;nr++){const ir=nr*2,or=tr.slice(ir,ir+2),sr=Number.parseInt(or,16);if(Number.isNaN(sr)||sr<0)throw new Error("Invalid byte sequence");rr[nr]=sr}return rr}function bytesToNumberBE$2(tr){return hexToNumber$6(bytesToHex$9(tr))}function bytesToNumberLE$2(tr){if(!u8a$2(tr))throw new Error("Uint8Array expected");return hexToNumber$6(bytesToHex$9(Uint8Array.from(tr).reverse()))}function numberToBytesBE$2(tr,er){return hexToBytes$a(tr.toString(16).padStart(er*2,"0"))}function numberToBytesLE$2(tr,er){return numberToBytesBE$2(tr,er).reverse()}function numberToVarBytesBE$2(tr){return hexToBytes$a(numberToHexUnpadded$3(tr))}function ensureBytes$3(tr,er,rr){let nr;if(typeof er=="string")try{nr=hexToBytes$a(er)}catch(or){throw new Error(`${tr} must be valid hex string, got "${er}". Cause: ${or}`)}else if(u8a$2(er))nr=Uint8Array.from(er);else throw new Error(`${tr} must be hex string or Uint8Array`);const ir=nr.length;if(typeof rr=="number"&&ir!==rr)throw new Error(`${tr} expected ${rr} bytes, got ${ir}`);return nr}function concatBytes$9(...tr){const er=new Uint8Array(tr.reduce((nr,ir)=>nr+ir.length,0));let rr=0;return tr.forEach(nr=>{if(!u8a$2(nr))throw new Error("Uint8Array expected");er.set(nr,rr),rr+=nr.length}),er}function equalBytes$2(tr,er){if(tr.length!==er.length)return!1;for(let rr=0;rr<tr.length;rr++)if(tr[rr]!==er[rr])return!1;return!0}function utf8ToBytes$6(tr){if(typeof tr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof tr}`);return new Uint8Array(new TextEncoder().encode(tr))}function bitLen$2(tr){let er;for(er=0;tr>_0n$f;tr>>=_1n$h,er+=1);return er}function bitGet$2(tr,er){return tr>>BigInt(er)&_1n$h}const bitSet$2=(tr,er,rr)=>tr|(rr?_1n$h:_0n$f)<<BigInt(er),bitMask$2=tr=>(_2n$c<<BigInt(tr-1))-_1n$h,u8n$2=tr=>new Uint8Array(tr),u8fr$2=tr=>Uint8Array.from(tr);function createHmacDrbg$2(tr,er,rr){if(typeof tr!="number"||tr<2)throw new Error("hashLen must be a number");if(typeof er!="number"||er<2)throw new Error("qByteLen must be a number");if(typeof rr!="function")throw new Error("hmacFn must be a function");let nr=u8n$2(tr),ir=u8n$2(tr),or=0;const sr=()=>{nr.fill(1),ir.fill(0),or=0},ar=(...fr)=>rr(ir,nr,...fr),cr=(fr=u8n$2())=>{ir=ar(u8fr$2([0]),fr),nr=ar(),fr.length!==0&&(ir=ar(u8fr$2([1]),fr),nr=ar())},lr=()=>{if(or++>=1e3)throw new Error("drbg: tried 1000 values");let fr=0;const dr=[];for(;fr<er;){nr=ar();const gr=nr.slice();dr.push(gr),fr+=nr.length}return concatBytes$9(...dr)};return(fr,dr)=>{sr(),cr(fr);let gr;for(;!(gr=dr(lr()));)cr();return sr(),gr}}const validatorFns$2={bigint:tr=>typeof tr=="bigint",function:tr=>typeof tr=="function",boolean:tr=>typeof tr=="boolean",string:tr=>typeof tr=="string",stringOrUint8Array:tr=>typeof tr=="string"||tr instanceof Uint8Array,isSafeInteger:tr=>Number.isSafeInteger(tr),array:tr=>Array.isArray(tr),field:(tr,er)=>er.Fp.isValid(tr),hash:tr=>typeof tr=="function"&&Number.isSafeInteger(tr.outputLen)};function validateObject$5(tr,er,rr={}){const nr=(ir,or,sr)=>{const ar=validatorFns$2[or];if(typeof ar!="function")throw new Error(`Invalid validator "${or}", expected function`);const cr=tr[ir];if(!(sr&&cr===void 0)&&!ar(cr,tr))throw new Error(`Invalid param ${String(ir)}=${cr} (${typeof cr}), expected ${or}`)};for(const[ir,or]of Object.entries(er))nr(ir,or,!1);for(const[ir,or]of Object.entries(rr))nr(ir,or,!0);return tr}const ut$3=Object.freeze(Object.defineProperty({__proto__:null,bitGet:bitGet$2,bitLen:bitLen$2,bitMask:bitMask$2,bitSet:bitSet$2,bytesToHex:bytesToHex$9,bytesToNumberBE:bytesToNumberBE$2,bytesToNumberLE:bytesToNumberLE$2,concatBytes:concatBytes$9,createHmacDrbg:createHmacDrbg$2,ensureBytes:ensureBytes$3,equalBytes:equalBytes$2,hexToBytes:hexToBytes$a,hexToNumber:hexToNumber$6,numberToBytesBE:numberToBytesBE$2,numberToBytesLE:numberToBytesLE$2,numberToHexUnpadded:numberToHexUnpadded$3,numberToVarBytesBE:numberToVarBytesBE$2,utf8ToBytes:utf8ToBytes$6,validateObject:validateObject$5},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$e=BigInt(0),_1n$g=BigInt(1),_2n$b=BigInt(2),_3n$6=BigInt(3),_4n$3=BigInt(4),_5n$2=BigInt(5),_8n$3=BigInt(8);BigInt(9);BigInt(16);function mod$3(tr,er){const rr=tr%er;return rr>=_0n$e?rr:er+rr}function pow$3(tr,er,rr){if(rr<=_0n$e||er<_0n$e)throw new Error("Expected power/modulo > 0");if(rr===_1n$g)return _0n$e;let nr=_1n$g;for(;er>_0n$e;)er&_1n$g&&(nr=nr*tr%rr),tr=tr*tr%rr,er>>=_1n$g;return nr}function pow2$3(tr,er,rr){let nr=tr;for(;er-- >_0n$e;)nr*=nr,nr%=rr;return nr}function invert$3(tr,er){if(tr===_0n$e||er<=_0n$e)throw new Error(`invert: expected positive integers, got n=${tr} mod=${er}`);let rr=mod$3(tr,er),nr=er,ir=_0n$e,or=_1n$g;for(;rr!==_0n$e;){const ar=nr/rr,cr=nr%rr,lr=ir-or*ar;nr=rr,rr=cr,ir=or,or=lr}if(nr!==_1n$g)throw new Error("invert: does not exist");return mod$3(ir,er)}function tonelliShanks$2(tr){const er=(tr-_1n$g)/_2n$b;let rr,nr,ir;for(rr=tr-_1n$g,nr=0;rr%_2n$b===_0n$e;rr/=_2n$b,nr++);for(ir=_2n$b;ir<tr&&pow$3(ir,er,tr)!==tr-_1n$g;ir++);if(nr===1){const sr=(tr+_1n$g)/_4n$3;return function(cr,lr){const ur=cr.pow(lr,sr);if(!cr.eql(cr.sqr(ur),lr))throw new Error("Cannot find square root");return ur}}const or=(rr+_1n$g)/_2n$b;return function(ar,cr){if(ar.pow(cr,er)===ar.neg(ar.ONE))throw new Error("Cannot find square root");let lr=nr,ur=ar.pow(ar.mul(ar.ONE,ir),rr),fr=ar.pow(cr,or),dr=ar.pow(cr,rr);for(;!ar.eql(dr,ar.ONE);){if(ar.eql(dr,ar.ZERO))return ar.ZERO;let gr=1;for(let vr=ar.sqr(dr);gr<lr&&!ar.eql(vr,ar.ONE);gr++)vr=ar.sqr(vr);const br=ar.pow(ur,_1n$g<<BigInt(lr-gr-1));ur=ar.sqr(br),fr=ar.mul(fr,br),dr=ar.mul(dr,ur),lr=gr}return fr}}function FpSqrt$2(tr){if(tr%_4n$3===_3n$6){const er=(tr+_1n$g)/_4n$3;return function(nr,ir){const or=nr.pow(ir,er);if(!nr.eql(nr.sqr(or),ir))throw new Error("Cannot find square root");return or}}if(tr%_8n$3===_5n$2){const er=(tr-_5n$2)/_8n$3;return function(nr,ir){const or=nr.mul(ir,_2n$b),sr=nr.pow(or,er),ar=nr.mul(ir,sr),cr=nr.mul(nr.mul(ar,_2n$b),sr),lr=nr.mul(ar,nr.sub(cr,nr.ONE));if(!nr.eql(nr.sqr(lr),ir))throw new Error("Cannot find square root");return lr}}return tonelliShanks$2(tr)}const FIELD_FIELDS$2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$2(tr){const er={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},rr=FIELD_FIELDS$2.reduce((nr,ir)=>(nr[ir]="function",nr),er);return validateObject$5(tr,rr)}function FpPow$2(tr,er,rr){if(rr<_0n$e)throw new Error("Expected power > 0");if(rr===_0n$e)return tr.ONE;if(rr===_1n$g)return er;let nr=tr.ONE,ir=er;for(;rr>_0n$e;)rr&_1n$g&&(nr=tr.mul(nr,ir)),ir=tr.sqr(ir),rr>>=_1n$g;return nr}function FpInvertBatch$2(tr,er){const rr=new Array(er.length),nr=er.reduce((or,sr,ar)=>tr.is0(sr)?or:(rr[ar]=or,tr.mul(or,sr)),tr.ONE),ir=tr.inv(nr);return er.reduceRight((or,sr,ar)=>tr.is0(sr)?or:(rr[ar]=tr.mul(or,rr[ar]),tr.mul(or,sr)),ir),rr}function nLength$2(tr,er){const rr=er!==void 0?er:tr.toString(2).length,nr=Math.ceil(rr/8);return{nBitLength:rr,nByteLength:nr}}function Field$2(tr,er,rr=!1,nr={}){if(tr<=_0n$e)throw new Error(`Expected Field ORDER > 0, got ${tr}`);const{nBitLength:ir,nByteLength:or}=nLength$2(tr,er);if(or>2048)throw new Error("Field lengths over 2048 bytes are not supported");const sr=FpSqrt$2(tr),ar=Object.freeze({ORDER:tr,BITS:ir,BYTES:or,MASK:bitMask$2(ir),ZERO:_0n$e,ONE:_1n$g,create:cr=>mod$3(cr,tr),isValid:cr=>{if(typeof cr!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof cr}`);return _0n$e<=cr&&cr<tr},is0:cr=>cr===_0n$e,isOdd:cr=>(cr&_1n$g)===_1n$g,neg:cr=>mod$3(-cr,tr),eql:(cr,lr)=>cr===lr,sqr:cr=>mod$3(cr*cr,tr),add:(cr,lr)=>mod$3(cr+lr,tr),sub:(cr,lr)=>mod$3(cr-lr,tr),mul:(cr,lr)=>mod$3(cr*lr,tr),pow:(cr,lr)=>FpPow$2(ar,cr,lr),div:(cr,lr)=>mod$3(cr*invert$3(lr,tr),tr),sqrN:cr=>cr*cr,addN:(cr,lr)=>cr+lr,subN:(cr,lr)=>cr-lr,mulN:(cr,lr)=>cr*lr,inv:cr=>invert$3(cr,tr),sqrt:nr.sqrt||(cr=>sr(ar,cr)),invertBatch:cr=>FpInvertBatch$2(ar,cr),cmov:(cr,lr,ur)=>ur?lr:cr,toBytes:cr=>rr?numberToBytesLE$2(cr,or):numberToBytesBE$2(cr,or),fromBytes:cr=>{if(cr.length!==or)throw new Error(`Fp.fromBytes: expected ${or}, got ${cr.length}`);return rr?bytesToNumberLE$2(cr):bytesToNumberBE$2(cr)}});return Object.freeze(ar)}function getFieldBytesLength$2(tr){if(typeof tr!="bigint")throw new Error("field order must be bigint");const er=tr.toString(2).length;return Math.ceil(er/8)}function getMinHashLength$2(tr){const er=getFieldBytesLength$2(tr);return er+Math.ceil(er/2)}function mapHashToField$2(tr,er,rr=!1){const nr=tr.length,ir=getFieldBytesLength$2(er),or=getMinHashLength$2(er);if(nr<16||nr<or||nr>1024)throw new Error(`expected ${or}-1024 bytes of input, got ${nr}`);const sr=rr?bytesToNumberBE$2(tr):bytesToNumberLE$2(tr),ar=mod$3(sr,er-_1n$g)+_1n$g;return rr?numberToBytesLE$2(ar,ir):numberToBytesBE$2(ar,ir)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$d=BigInt(0),_1n$f=BigInt(1);function wNAF$2(tr,er){const rr=(ir,or)=>{const sr=or.negate();return ir?sr:or},nr=ir=>{const or=Math.ceil(er/ir)+1,sr=2**(ir-1);return{windows:or,windowSize:sr}};return{constTimeNegate:rr,unsafeLadder(ir,or){let sr=tr.ZERO,ar=ir;for(;or>_0n$d;)or&_1n$f&&(sr=sr.add(ar)),ar=ar.double(),or>>=_1n$f;return sr},precomputeWindow(ir,or){const{windows:sr,windowSize:ar}=nr(or),cr=[];let lr=ir,ur=lr;for(let fr=0;fr<sr;fr++){ur=lr,cr.push(ur);for(let dr=1;dr<ar;dr++)ur=ur.add(lr),cr.push(ur);lr=ur.double()}return cr},wNAF(ir,or,sr){const{windows:ar,windowSize:cr}=nr(ir);let lr=tr.ZERO,ur=tr.BASE;const fr=BigInt(2**ir-1),dr=2**ir,gr=BigInt(ir);for(let br=0;br<ar;br++){const vr=br*cr;let $r=Number(sr&fr);sr>>=gr,$r>cr&&($r-=dr,sr+=_1n$f);const Er=vr,_r=vr+Math.abs($r)-1,xr=br%2!==0,Ir=$r<0;$r===0?ur=ur.add(rr(xr,or[Er])):lr=lr.add(rr(Ir,or[_r]))}return{p:lr,f:ur}},wNAFCached(ir,or,sr,ar){const cr=ir._WINDOW_SIZE||1;let lr=or.get(ir);return lr||(lr=this.precomputeWindow(ir,cr),cr!==1&&or.set(ir,ar(lr))),this.wNAF(cr,lr,sr)}}}function validateBasic$2(tr){return validateField$2(tr.Fp),validateObject$5(tr,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$2(tr.n,tr.nBitLength),...tr,p:tr.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts$2(tr){const er=validateBasic$2(tr);validateObject$5(er,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:rr,Fp:nr,a:ir}=er;if(rr){if(!nr.eql(ir,nr.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof rr!="object"||typeof rr.beta!="bigint"||typeof rr.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...er})}const{bytesToNumberBE:b2n$2,hexToBytes:h2b$2}=ut$3,DER$2={Err:class extends Error{constructor(er=""){super(er)}},_parseInt(tr){const{Err:er}=DER$2;if(tr.length<2||tr[0]!==2)throw new er("Invalid signature integer tag");const rr=tr[1],nr=tr.subarray(2,rr+2);if(!rr||nr.length!==rr)throw new er("Invalid signature integer: wrong length");if(nr[0]&128)throw new er("Invalid signature integer: negative");if(nr[0]===0&&!(nr[1]&128))throw new er("Invalid signature integer: unnecessary leading zero");return{d:b2n$2(nr),l:tr.subarray(rr+2)}},toSig(tr){const{Err:er}=DER$2,rr=typeof tr=="string"?h2b$2(tr):tr;if(!(rr instanceof Uint8Array))throw new Error("ui8a expected");let nr=rr.length;if(nr<2||rr[0]!=48)throw new er("Invalid signature tag");if(rr[1]!==nr-2)throw new er("Invalid signature: incorrect length");const{d:ir,l:or}=DER$2._parseInt(rr.subarray(2)),{d:sr,l:ar}=DER$2._parseInt(or);if(ar.length)throw new er("Invalid signature: left bytes after parsing");return{r:ir,s:sr}},hexFromSig(tr){const er=lr=>Number.parseInt(lr[0],16)&8?"00"+lr:lr,rr=lr=>{const ur=lr.toString(16);return ur.length&1?`0${ur}`:ur},nr=er(rr(tr.s)),ir=er(rr(tr.r)),or=nr.length/2,sr=ir.length/2,ar=rr(or),cr=rr(sr);return`30${rr(sr+or+4)}02${cr}${ir}02${ar}${nr}`}},_0n$c=BigInt(0),_1n$e=BigInt(1);BigInt(2);const _3n$5=BigInt(3);BigInt(4);function weierstrassPoints$2(tr){const er=validatePointOpts$2(tr),{Fp:rr}=er,nr=er.toBytes||((br,vr,$r)=>{const Er=vr.toAffine();return concatBytes$9(Uint8Array.from([4]),rr.toBytes(Er.x),rr.toBytes(Er.y))}),ir=er.fromBytes||(br=>{const vr=br.subarray(1),$r=rr.fromBytes(vr.subarray(0,rr.BYTES)),Er=rr.fromBytes(vr.subarray(rr.BYTES,2*rr.BYTES));return{x:$r,y:Er}});function or(br){const{a:vr,b:$r}=er,Er=rr.sqr(br),_r=rr.mul(Er,br);return rr.add(rr.add(_r,rr.mul(br,vr)),$r)}if(!rr.eql(rr.sqr(er.Gy),or(er.Gx)))throw new Error("bad generator point: equation left != right");function sr(br){return typeof br=="bigint"&&_0n$c<br&&br<er.n}function ar(br){if(!sr(br))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function cr(br){const{allowedPrivateKeyLengths:vr,nByteLength:$r,wrapPrivateKey:Er,n:_r}=er;if(vr&&typeof br!="bigint"){if(br instanceof Uint8Array&&(br=bytesToHex$9(br)),typeof br!="string"||!vr.includes(br.length))throw new Error("Invalid key");br=br.padStart($r*2,"0")}let xr;try{xr=typeof br=="bigint"?br:bytesToNumberBE$2(ensureBytes$3("private key",br,$r))}catch{throw new Error(`private key must be ${$r} bytes, hex or bigint, not ${typeof br}`)}return Er&&(xr=mod$3(xr,_r)),ar(xr),xr}const lr=new Map;function ur(br){if(!(br instanceof fr))throw new Error("ProjectivePoint expected")}class fr{constructor(vr,$r,Er){if(this.px=vr,this.py=$r,this.pz=Er,vr==null||!rr.isValid(vr))throw new Error("x required");if($r==null||!rr.isValid($r))throw new Error("y required");if(Er==null||!rr.isValid(Er))throw new Error("z required")}static fromAffine(vr){const{x:$r,y:Er}=vr||{};if(!vr||!rr.isValid($r)||!rr.isValid(Er))throw new Error("invalid affine point");if(vr instanceof fr)throw new Error("projective point not allowed");const _r=xr=>rr.eql(xr,rr.ZERO);return _r($r)&&_r(Er)?fr.ZERO:new fr($r,Er,rr.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(vr){const $r=rr.invertBatch(vr.map(Er=>Er.pz));return vr.map((Er,_r)=>Er.toAffine($r[_r])).map(fr.fromAffine)}static fromHex(vr){const $r=fr.fromAffine(ir(ensureBytes$3("pointHex",vr)));return $r.assertValidity(),$r}static fromPrivateKey(vr){return fr.BASE.multiply(cr(vr))}_setWindowSize(vr){this._WINDOW_SIZE=vr,lr.delete(this)}assertValidity(){if(this.is0()){if(er.allowInfinityPoint&&!rr.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:vr,y:$r}=this.toAffine();if(!rr.isValid(vr)||!rr.isValid($r))throw new Error("bad point: x or y not FE");const Er=rr.sqr($r),_r=or(vr);if(!rr.eql(Er,_r))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:vr}=this.toAffine();if(rr.isOdd)return!rr.isOdd(vr);throw new Error("Field doesn't support isOdd")}equals(vr){ur(vr);const{px:$r,py:Er,pz:_r}=this,{px:xr,py:Ir,pz:Nr}=vr,Lr=rr.eql(rr.mul($r,Nr),rr.mul(xr,_r)),jr=rr.eql(rr.mul(Er,Nr),rr.mul(Ir,_r));return Lr&&jr}negate(){return new fr(this.px,rr.neg(this.py),this.pz)}double(){const{a:vr,b:$r}=er,Er=rr.mul($r,_3n$5),{px:_r,py:xr,pz:Ir}=this;let Nr=rr.ZERO,Lr=rr.ZERO,jr=rr.ZERO,Or=rr.mul(_r,_r),Dr=rr.mul(xr,xr),Cr=rr.mul(Ir,Ir),Tr=rr.mul(_r,xr);return Tr=rr.add(Tr,Tr),jr=rr.mul(_r,Ir),jr=rr.add(jr,jr),Nr=rr.mul(vr,jr),Lr=rr.mul(Er,Cr),Lr=rr.add(Nr,Lr),Nr=rr.sub(Dr,Lr),Lr=rr.add(Dr,Lr),Lr=rr.mul(Nr,Lr),Nr=rr.mul(Tr,Nr),jr=rr.mul(Er,jr),Cr=rr.mul(vr,Cr),Tr=rr.sub(Or,Cr),Tr=rr.mul(vr,Tr),Tr=rr.add(Tr,jr),jr=rr.add(Or,Or),Or=rr.add(jr,Or),Or=rr.add(Or,Cr),Or=rr.mul(Or,Tr),Lr=rr.add(Lr,Or),Cr=rr.mul(xr,Ir),Cr=rr.add(Cr,Cr),Or=rr.mul(Cr,Tr),Nr=rr.sub(Nr,Or),jr=rr.mul(Cr,Dr),jr=rr.add(jr,jr),jr=rr.add(jr,jr),new fr(Nr,Lr,jr)}add(vr){ur(vr);const{px:$r,py:Er,pz:_r}=this,{px:xr,py:Ir,pz:Nr}=vr;let Lr=rr.ZERO,jr=rr.ZERO,Or=rr.ZERO;const Dr=er.a,Cr=rr.mul(er.b,_3n$5);let Tr=rr.mul($r,xr),yr=rr.mul(Er,Ir),mr=rr.mul(_r,Nr),hr=rr.add($r,Er),pr=rr.add(xr,Ir);hr=rr.mul(hr,pr),pr=rr.add(Tr,yr),hr=rr.sub(hr,pr),pr=rr.add($r,_r);let wr=rr.add(xr,Nr);return pr=rr.mul(pr,wr),wr=rr.add(Tr,mr),pr=rr.sub(pr,wr),wr=rr.add(Er,_r),Lr=rr.add(Ir,Nr),wr=rr.mul(wr,Lr),Lr=rr.add(yr,mr),wr=rr.sub(wr,Lr),Or=rr.mul(Dr,pr),Lr=rr.mul(Cr,mr),Or=rr.add(Lr,Or),Lr=rr.sub(yr,Or),Or=rr.add(yr,Or),jr=rr.mul(Lr,Or),yr=rr.add(Tr,Tr),yr=rr.add(yr,Tr),mr=rr.mul(Dr,mr),pr=rr.mul(Cr,pr),yr=rr.add(yr,mr),mr=rr.sub(Tr,mr),mr=rr.mul(Dr,mr),pr=rr.add(pr,mr),Tr=rr.mul(yr,pr),jr=rr.add(jr,Tr),Tr=rr.mul(wr,pr),Lr=rr.mul(hr,Lr),Lr=rr.sub(Lr,Tr),Tr=rr.mul(hr,yr),Or=rr.mul(wr,Or),Or=rr.add(Or,Tr),new fr(Lr,jr,Or)}subtract(vr){return this.add(vr.negate())}is0(){return this.equals(fr.ZERO)}wNAF(vr){return gr.wNAFCached(this,lr,vr,$r=>{const Er=rr.invertBatch($r.map(_r=>_r.pz));return $r.map((_r,xr)=>_r.toAffine(Er[xr])).map(fr.fromAffine)})}multiplyUnsafe(vr){const $r=fr.ZERO;if(vr===_0n$c)return $r;if(ar(vr),vr===_1n$e)return this;const{endo:Er}=er;if(!Er)return gr.unsafeLadder(this,vr);let{k1neg:_r,k1:xr,k2neg:Ir,k2:Nr}=Er.splitScalar(vr),Lr=$r,jr=$r,Or=this;for(;xr>_0n$c||Nr>_0n$c;)xr&_1n$e&&(Lr=Lr.add(Or)),Nr&_1n$e&&(jr=jr.add(Or)),Or=Or.double(),xr>>=_1n$e,Nr>>=_1n$e;return _r&&(Lr=Lr.negate()),Ir&&(jr=jr.negate()),jr=new fr(rr.mul(jr.px,Er.beta),jr.py,jr.pz),Lr.add(jr)}multiply(vr){ar(vr);let $r=vr,Er,_r;const{endo:xr}=er;if(xr){const{k1neg:Ir,k1:Nr,k2neg:Lr,k2:jr}=xr.splitScalar($r);let{p:Or,f:Dr}=this.wNAF(Nr),{p:Cr,f:Tr}=this.wNAF(jr);Or=gr.constTimeNegate(Ir,Or),Cr=gr.constTimeNegate(Lr,Cr),Cr=new fr(rr.mul(Cr.px,xr.beta),Cr.py,Cr.pz),Er=Or.add(Cr),_r=Dr.add(Tr)}else{const{p:Ir,f:Nr}=this.wNAF($r);Er=Ir,_r=Nr}return fr.normalizeZ([Er,_r])[0]}multiplyAndAddUnsafe(vr,$r,Er){const _r=fr.BASE,xr=(Nr,Lr)=>Lr===_0n$c||Lr===_1n$e||!Nr.equals(_r)?Nr.multiplyUnsafe(Lr):Nr.multiply(Lr),Ir=xr(this,$r).add(xr(vr,Er));return Ir.is0()?void 0:Ir}toAffine(vr){const{px:$r,py:Er,pz:_r}=this,xr=this.is0();vr==null&&(vr=xr?rr.ONE:rr.inv(_r));const Ir=rr.mul($r,vr),Nr=rr.mul(Er,vr),Lr=rr.mul(_r,vr);if(xr)return{x:rr.ZERO,y:rr.ZERO};if(!rr.eql(Lr,rr.ONE))throw new Error("invZ was invalid");return{x:Ir,y:Nr}}isTorsionFree(){const{h:vr,isTorsionFree:$r}=er;if(vr===_1n$e)return!0;if($r)return $r(fr,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:vr,clearCofactor:$r}=er;return vr===_1n$e?this:$r?$r(fr,this):this.multiplyUnsafe(er.h)}toRawBytes(vr=!0){return this.assertValidity(),nr(fr,this,vr)}toHex(vr=!0){return bytesToHex$9(this.toRawBytes(vr))}}fr.BASE=new fr(er.Gx,er.Gy,rr.ONE),fr.ZERO=new fr(rr.ZERO,rr.ONE,rr.ZERO);const dr=er.nBitLength,gr=wNAF$2(fr,er.endo?Math.ceil(dr/2):dr);return{CURVE:er,ProjectivePoint:fr,normPrivateKeyToScalar:cr,weierstrassEquation:or,isWithinCurveOrder:sr}}function validateOpts$2(tr){const er=validateBasic$2(tr);return validateObject$5(er,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...er})}function weierstrass$3(tr){const er=validateOpts$2(tr),{Fp:rr,n:nr}=er,ir=rr.BYTES+1,or=2*rr.BYTES+1;function sr(pr){return _0n$c<pr&&pr<rr.ORDER}function ar(pr){return mod$3(pr,nr)}function cr(pr){return invert$3(pr,nr)}const{ProjectivePoint:lr,normPrivateKeyToScalar:ur,weierstrassEquation:fr,isWithinCurveOrder:dr}=weierstrassPoints$2({...er,toBytes(pr,wr,Ar){const Rr=wr.toAffine(),Pr=rr.toBytes(Rr.x),Sr=concatBytes$9;return Ar?Sr(Uint8Array.from([wr.hasEvenY()?2:3]),Pr):Sr(Uint8Array.from([4]),Pr,rr.toBytes(Rr.y))},fromBytes(pr){const wr=pr.length,Ar=pr[0],Rr=pr.subarray(1);if(wr===ir&&(Ar===2||Ar===3)){const Pr=bytesToNumberBE$2(Rr);if(!sr(Pr))throw new Error("Point is not on curve");const Sr=fr(Pr);let Mr=rr.sqrt(Sr);const Br=(Mr&_1n$e)===_1n$e;return(Ar&1)===1!==Br&&(Mr=rr.neg(Mr)),{x:Pr,y:Mr}}else if(wr===or&&Ar===4){const Pr=rr.fromBytes(Rr.subarray(0,rr.BYTES)),Sr=rr.fromBytes(Rr.subarray(rr.BYTES,2*rr.BYTES));return{x:Pr,y:Sr}}else throw new Error(`Point of length ${wr} was invalid. Expected ${ir} compressed bytes or ${or} uncompressed bytes`)}}),gr=pr=>bytesToHex$9(numberToBytesBE$2(pr,er.nByteLength));function br(pr){const wr=nr>>_1n$e;return pr>wr}function vr(pr){return br(pr)?ar(-pr):pr}const $r=(pr,wr,Ar)=>bytesToNumberBE$2(pr.slice(wr,Ar));class Er{constructor(wr,Ar,Rr){this.r=wr,this.s=Ar,this.recovery=Rr,this.assertValidity()}static fromCompact(wr){const Ar=er.nByteLength;return wr=ensureBytes$3("compactSignature",wr,Ar*2),new Er($r(wr,0,Ar),$r(wr,Ar,2*Ar))}static fromDER(wr){const{r:Ar,s:Rr}=DER$2.toSig(ensureBytes$3("DER",wr));return new Er(Ar,Rr)}assertValidity(){if(!dr(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!dr(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(wr){return new Er(this.r,this.s,wr)}recoverPublicKey(wr){const{r:Ar,s:Rr,recovery:Pr}=this,Sr=jr(ensureBytes$3("msgHash",wr));if(Pr==null||![0,1,2,3].includes(Pr))throw new Error("recovery id invalid");const Mr=Pr===2||Pr===3?Ar+er.n:Ar;if(Mr>=rr.ORDER)throw new Error("recovery id 2 or 3 invalid");const Br=Pr&1?"03":"02",Ur=lr.fromHex(Br+gr(Mr)),Jr=cr(Mr),qr=ar(-Sr*Jr),zr=ar(Rr*Jr),sn=lr.BASE.multiplyAndAddUnsafe(Ur,qr,zr);if(!sn)throw new Error("point at infinify");return sn.assertValidity(),sn}hasHighS(){return br(this.s)}normalizeS(){return this.hasHighS()?new Er(this.r,ar(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$a(this.toDERHex())}toDERHex(){return DER$2.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$a(this.toCompactHex())}toCompactHex(){return gr(this.r)+gr(this.s)}}const _r={isValidPrivateKey(pr){try{return ur(pr),!0}catch{return!1}},normPrivateKeyToScalar:ur,randomPrivateKey:()=>{const pr=getMinHashLength$2(er.n);return mapHashToField$2(er.randomBytes(pr),er.n)},precompute(pr=8,wr=lr.BASE){return wr._setWindowSize(pr),wr.multiply(BigInt(3)),wr}};function xr(pr,wr=!0){return lr.fromPrivateKey(pr).toRawBytes(wr)}function Ir(pr){const wr=pr instanceof Uint8Array,Ar=typeof pr=="string",Rr=(wr||Ar)&&pr.length;return wr?Rr===ir||Rr===or:Ar?Rr===2*ir||Rr===2*or:pr instanceof lr}function Nr(pr,wr,Ar=!0){if(Ir(pr))throw new Error("first arg must be private key");if(!Ir(wr))throw new Error("second arg must be public key");return lr.fromHex(wr).multiply(ur(pr)).toRawBytes(Ar)}const Lr=er.bits2int||function(pr){const wr=bytesToNumberBE$2(pr),Ar=pr.length*8-er.nBitLength;return Ar>0?wr>>BigInt(Ar):wr},jr=er.bits2int_modN||function(pr){return ar(Lr(pr))},Or=bitMask$2(er.nBitLength);function Dr(pr){if(typeof pr!="bigint")throw new Error("bigint expected");if(!(_0n$c<=pr&&pr<Or))throw new Error(`bigint expected < 2^${er.nBitLength}`);return numberToBytesBE$2(pr,er.nByteLength)}function Cr(pr,wr,Ar=Tr){if(["recovered","canonical"].some(tn=>tn in Ar))throw new Error("sign() legacy options not supported");const{hash:Rr,randomBytes:Pr}=er;let{lowS:Sr,prehash:Mr,extraEntropy:Br}=Ar;Sr==null&&(Sr=!0),pr=ensureBytes$3("msgHash",pr),Mr&&(pr=ensureBytes$3("prehashed msgHash",Rr(pr)));const Ur=jr(pr),Jr=ur(wr),qr=[Dr(Jr),Dr(Ur)];if(Br!=null){const tn=Br===!0?Pr(rr.BYTES):Br;qr.push(ensureBytes$3("extraEntropy",tn))}const zr=concatBytes$9(...qr),sn=Ur;function rn(tn){const dn=Lr(tn);if(!dr(dn))return;const Yr=cr(dn),Vr=lr.BASE.multiply(dn).toAffine(),Qr=ar(Vr.x);if(Qr===_0n$c)return;const un=ar(Yr*ar(sn+Qr*Jr));if(un===_0n$c)return;let yn=(Vr.x===Qr?0:2)|Number(Vr.y&_1n$e),An=un;return Sr&&br(un)&&(An=vr(un),yn^=1),new Er(Qr,An,yn)}return{seed:zr,k2sig:rn}}const Tr={lowS:er.lowS,prehash:!1},yr={lowS:er.lowS,prehash:!1};function mr(pr,wr,Ar=Tr){const{seed:Rr,k2sig:Pr}=Cr(pr,wr,Ar),Sr=er;return createHmacDrbg$2(Sr.hash.outputLen,Sr.nByteLength,Sr.hmac)(Rr,Pr)}lr.BASE._setWindowSize(8);function hr(pr,wr,Ar,Rr=yr){const Pr=pr;if(wr=ensureBytes$3("msgHash",wr),Ar=ensureBytes$3("publicKey",Ar),"strict"in Rr)throw new Error("options.strict was renamed to lowS");const{lowS:Sr,prehash:Mr}=Rr;let Br,Ur;try{if(typeof Pr=="string"||Pr instanceof Uint8Array)try{Br=Er.fromDER(Pr)}catch(Vr){if(!(Vr instanceof DER$2.Err))throw Vr;Br=Er.fromCompact(Pr)}else if(typeof Pr=="object"&&typeof Pr.r=="bigint"&&typeof Pr.s=="bigint"){const{r:Vr,s:Qr}=Pr;Br=new Er(Vr,Qr)}else throw new Error("PARSE");Ur=lr.fromHex(Ar)}catch(Vr){if(Vr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Sr&&Br.hasHighS())return!1;Mr&&(wr=er.hash(wr));const{r:Jr,s:qr}=Br,zr=jr(wr),sn=cr(qr),rn=ar(zr*sn),tn=ar(Jr*sn),dn=lr.BASE.multiplyAndAddUnsafe(Ur,rn,tn)?.toAffine();return dn?ar(dn.x)===Jr:!1}return{CURVE:er,getPublicKey:xr,getSharedSecret:Nr,sign:mr,verify:hr,ProjectivePoint:lr,Signature:Er,utils:_r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$2(tr){return{hash:tr,hmac:(er,...rr)=>hmac$3(tr,er,concatBytes$a(...rr)),randomBytes:randomBytes$3}}function createCurve$2(tr,er){const rr=nr=>weierstrass$3({...tr,...getHash$2(nr)});return Object.freeze({...rr(er),create:rr})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$2=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$d=BigInt(1),_2n$a=BigInt(2),divNearest$3=(tr,er)=>(tr+er/_2n$a)/er;function sqrtMod$3(tr){const er=secp256k1P$2,rr=BigInt(3),nr=BigInt(6),ir=BigInt(11),or=BigInt(22),sr=BigInt(23),ar=BigInt(44),cr=BigInt(88),lr=tr*tr*tr%er,ur=lr*lr*tr%er,fr=pow2$3(ur,rr,er)*ur%er,dr=pow2$3(fr,rr,er)*ur%er,gr=pow2$3(dr,_2n$a,er)*lr%er,br=pow2$3(gr,ir,er)*gr%er,vr=pow2$3(br,or,er)*br%er,$r=pow2$3(vr,ar,er)*vr%er,Er=pow2$3($r,cr,er)*$r%er,_r=pow2$3(Er,ar,er)*vr%er,xr=pow2$3(_r,rr,er)*ur%er,Ir=pow2$3(xr,sr,er)*br%er,Nr=pow2$3(Ir,nr,er)*lr%er,Lr=pow2$3(Nr,_2n$a,er);if(!Fp$2.eql(Fp$2.sqr(Lr),tr))throw new Error("Cannot find square root");return Lr}const Fp$2=Field$2(secp256k1P$2,void 0,void 0,{sqrt:sqrtMod$3}),secp256k1$6=createCurve$2({a:BigInt(0),b:BigInt(7),Fp:Fp$2,n:secp256k1N$2,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:tr=>{const er=secp256k1N$2,rr=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),nr=-_1n$d*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ir=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),or=rr,sr=BigInt("0x100000000000000000000000000000000"),ar=divNearest$3(or*tr,er),cr=divNearest$3(-nr*tr,er);let lr=mod$3(tr-ar*rr-cr*ir,er),ur=mod$3(-ar*nr-cr*or,er);const fr=lr>sr,dr=ur>sr;if(fr&&(lr=er-lr),dr&&(ur=er-ur),lr>sr||ur>sr)throw new Error("splitScalar: Endomorphism failed, k="+tr);return{k1neg:fr,k1:lr,k2neg:dr,k2:ur}}}},sha256$4);BigInt(0);secp256k1$6.ProjectivePoint;const ZeroAddress="0x0000000000000000000000000000000000000000",ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000",BN_0$7=BigInt(0),BN_1$2=BigInt(1),BN_2$2=BigInt(2),BN_27$1=BigInt(27),BN_28$1=BigInt(28),BN_35$1=BigInt(35),_guard$1={};function toUint256(tr){return zeroPadValue(toBeArray(tr),32)}let Signature$6=class Zs{#e;#t;#r;#n;get r(){return this.#e}set r(er){assertArgument(dataLength(er)===32,"invalid r","value",er),this.#e=hexlify(er)}get s(){return this.#t}set s(er){assertArgument(dataLength(er)===32,"invalid s","value",er);const rr=hexlify(er);assertArgument(parseInt(rr.substring(0,3))<8,"non-canonical s","value",rr),this.#t=rr}get v(){return this.#r}set v(er){const rr=getNumber(er,"value");assertArgument(rr===27||rr===28,"invalid v","v",er),this.#r=rr}get networkV(){return this.#n}get legacyChainId(){const er=this.networkV;return er==null?null:Zs.getChainId(er)}get yParity(){return this.v===27?0:1}get yParityAndS(){const er=getBytes(this.s);return this.yParity&&(er[0]|=128),hexlify(er)}get compactSerialized(){return concat$2([this.r,this.yParityAndS])}get serialized(){return concat$2([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(er,rr,nr,ir){assertPrivate(er,_guard$1,"Signature"),this.#e=rr,this.#t=nr,this.#r=ir,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const er=new Zs(_guard$1,this.r,this.s,this.v);return this.networkV&&(er.#n=this.networkV),er}toJSON(){const er=this.networkV;return{_type:"signature",networkV:er!=null?er.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(er){const rr=getBigInt(er,"v");return rr==BN_27$1||rr==BN_28$1?BN_0$7:(assertArgument(rr>=BN_35$1,"invalid EIP-155 v","v",er),(rr-BN_35$1)/BN_2$2)}static getChainIdV(er,rr){return getBigInt(er)*BN_2$2+BigInt(35+rr-27)}static getNormalizedV(er){const rr=getBigInt(er);return rr===BN_0$7||rr===BN_27$1?27:rr===BN_1$2||rr===BN_28$1?28:(assertArgument(rr>=BN_35$1,"invalid v","v",er),rr&BN_1$2?27:28)}static from(er){function rr(lr,ur){assertArgument(lr,ur,"signature",er)}if(er==null)return new Zs(_guard$1,ZeroHash,ZeroHash,27);if(typeof er=="string"){const lr=getBytes(er,"signature");if(lr.length===64){const ur=hexlify(lr.slice(0,32)),fr=lr.slice(32,64),dr=fr[0]&128?28:27;return fr[0]&=127,new Zs(_guard$1,ur,hexlify(fr),dr)}if(lr.length===65){const ur=hexlify(lr.slice(0,32)),fr=lr.slice(32,64);rr((fr[0]&128)===0,"non-canonical s");const dr=Zs.getNormalizedV(lr[64]);return new Zs(_guard$1,ur,hexlify(fr),dr)}rr(!1,"invalid raw signature length")}if(er instanceof Zs)return er.clone();const nr=er.r;rr(nr!=null,"missing r");const ir=toUint256(nr),or=function(lr,ur){if(lr!=null)return toUint256(lr);if(ur!=null){rr(isHexString$6(ur,32),"invalid yParityAndS");const fr=getBytes(ur);return fr[0]&=127,hexlify(fr)}rr(!1,"missing s")}(er.s,er.yParityAndS);rr((getBytes(or)[0]&128)==0,"non-canonical s");const{networkV:sr,v:ar}=function(lr,ur,fr){if(lr!=null){const dr=getBigInt(lr);return{networkV:dr>=BN_35$1?dr:void 0,v:Zs.getNormalizedV(dr)}}if(ur!=null)return rr(isHexString$6(ur,32),"invalid yParityAndS"),{v:getBytes(ur)[0]&128?28:27};if(fr!=null){switch(getNumber(fr,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}rr(!1,"invalid yParity")}rr(!1,"missing v")}(er.v,er.yParityAndS,er.yParity),cr=new Zs(_guard$1,ir,or,ar);return sr&&(cr.#n=sr),rr(er.yParity==null||getNumber(er.yParity,"sig.yParity")===cr.yParity,"yParity mismatch"),rr(er.yParityAndS==null||er.yParityAndS===cr.yParityAndS,"yParityAndS mismatch"),cr}};class SigningKey{#e;constructor(er){assertArgument(dataLength(er)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=hexlify(er)}get privateKey(){return this.#e}get publicKey(){return SigningKey.computePublicKey(this.#e)}get compressedPublicKey(){return SigningKey.computePublicKey(this.#e,!0)}sign(er){assertArgument(dataLength(er)===32,"invalid digest length","digest",er);const rr=secp256k1$6.sign(getBytesCopy(er),getBytesCopy(this.#e),{lowS:!0});return Signature$6.from({r:toBeHex(rr.r,32),s:toBeHex(rr.s,32),v:rr.recovery?28:27})}computeSharedSecret(er){const rr=SigningKey.computePublicKey(er);return hexlify(secp256k1$6.getSharedSecret(getBytesCopy(this.#e),getBytes(rr),!1))}static computePublicKey(er,rr){let nr=getBytes(er,"key");if(nr.length===32){const or=secp256k1$6.getPublicKey(nr,!!rr);return hexlify(or)}if(nr.length===64){const or=new Uint8Array(65);or[0]=4,or.set(nr,1),nr=or}const ir=secp256k1$6.ProjectivePoint.fromHex(nr);return hexlify(ir.toRawBytes(rr))}static recoverPublicKey(er,rr){assertArgument(dataLength(er)===32,"invalid digest length","digest",er);const nr=Signature$6.from(rr);let ir=secp256k1$6.Signature.fromCompact(getBytesCopy(concat$2([nr.r,nr.s])));ir=ir.addRecoveryBit(nr.yParity);const or=ir.recoverPublicKey(getBytesCopy(er));return assertArgument(or!=null,"invalid signautre for digest","signature",rr),"0x"+or.toHex(!1)}static addPoints(er,rr,nr){const ir=secp256k1$6.ProjectivePoint.fromHex(SigningKey.computePublicKey(er).substring(2)),or=secp256k1$6.ProjectivePoint.fromHex(SigningKey.computePublicKey(rr).substring(2));return"0x"+ir.add(or).toHex(!!nr)}}const BN_0$6=BigInt(0),BN_36=BigInt(36);function getChecksumAddress(tr){tr=tr.toLowerCase();const er=tr.substring(2).split(""),rr=new Uint8Array(40);for(let ir=0;ir<40;ir++)rr[ir]=er[ir].charCodeAt(0);const nr=getBytes(keccak256$4(rr));for(let ir=0;ir<40;ir+=2)nr[ir>>1]>>4>=8&&(er[ir]=er[ir].toUpperCase()),(nr[ir>>1]&15)>=8&&(er[ir+1]=er[ir+1].toUpperCase());return"0x"+er.join("")}const ibanLookup={};for(let tr=0;tr<10;tr++)ibanLookup[String(tr)]=String(tr);for(let tr=0;tr<26;tr++)ibanLookup[String.fromCharCode(65+tr)]=String(10+tr);const safeDigits=15;function ibanChecksum(tr){tr=tr.toUpperCase(),tr=tr.substring(4)+tr.substring(0,2)+"00";let er=tr.split("").map(nr=>ibanLookup[nr]).join("");for(;er.length>=safeDigits;){let nr=er.substring(0,safeDigits);er=parseInt(nr,10)%97+er.substring(nr.length)}let rr=String(98-parseInt(er,10)%97);for(;rr.length<2;)rr="0"+rr;return rr}const Base36=function(){const tr={};for(let er=0;er<36;er++){const rr="0123456789abcdefghijklmnopqrstuvwxyz"[er];tr[rr]=BigInt(er)}return tr}();function fromBase36(tr){tr=tr.toLowerCase();let er=BN_0$6;for(let rr=0;rr<tr.length;rr++)er=er*BN_36+Base36[tr[rr]];return er}function getAddress$1(tr){if(assertArgument(typeof tr=="string","invalid address","address",tr),tr.match(/^(0x)?[0-9a-fA-F]{40}$/)){tr.startsWith("0x")||(tr="0x"+tr);const er=getChecksumAddress(tr);return assertArgument(!tr.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||er===tr,"bad address checksum","address",tr),er}if(tr.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){assertArgument(tr.substring(2,4)===ibanChecksum(tr),"bad icap checksum","address",tr);let er=fromBase36(tr.substring(4)).toString(16);for(;er.length<40;)er="0"+er;return getChecksumAddress("0x"+er)}assertArgument(!1,"invalid address","address",tr)}function getCreateAddress(tr){const er=getAddress$1(tr.from);let nr=getBigInt(tr.nonce,"tx.nonce").toString(16);return nr==="0"?nr="0x":nr.length%2?nr="0x0"+nr:nr="0x"+nr,getAddress$1(dataSlice(keccak256$4(encodeRlp([er,nr])),12))}function isAddressable(tr){return tr&&typeof tr.getAddress=="function"}async function checkAddress(tr,er){const rr=await er;return(rr==null||rr==="0x0000000000000000000000000000000000000000")&&(assert$r(typeof tr!="string","unconfigured name","UNCONFIGURED_NAME",{value:tr}),assertArgument(!1,"invalid AddressLike value; did not resolve to a value address","target",tr)),getAddress$1(rr)}function resolveAddress(tr,er){if(typeof tr=="string")return tr.match(/^0x[0-9a-f]{40}$/i)?getAddress$1(tr):(assert$r(er!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),checkAddress(tr,er.resolveName(tr)));if(isAddressable(tr))return checkAddress(tr,tr.getAddress());if(tr&&typeof tr.then=="function")return checkAddress(tr,tr);assertArgument(!1,"unsupported addressable value","target",tr)}const _gaurd={};function n$3(tr,er){let rr=!1;return er<0&&(rr=!0,er*=-1),new Typed(_gaurd,`${rr?"":"u"}int${er}`,tr,{signed:rr,width:er})}function b$3(tr,er){return new Typed(_gaurd,`bytes${er||""}`,tr,{size:er})}const _typedSymbol=Symbol.for("_ethers_typed");class Typed{type;value;#e;_typedSymbol;constructor(er,rr,nr,ir){ir==null&&(ir=null),assertPrivate(_gaurd,er,"Typed"),defineProperties(this,{_typedSymbol,type:rr,value:nr}),this.#e=ir,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(er=>er.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(er,rr){return new Typed(_gaurd,er,rr)}static uint8(er){return n$3(er,8)}static uint16(er){return n$3(er,16)}static uint24(er){return n$3(er,24)}static uint32(er){return n$3(er,32)}static uint40(er){return n$3(er,40)}static uint48(er){return n$3(er,48)}static uint56(er){return n$3(er,56)}static uint64(er){return n$3(er,64)}static uint72(er){return n$3(er,72)}static uint80(er){return n$3(er,80)}static uint88(er){return n$3(er,88)}static uint96(er){return n$3(er,96)}static uint104(er){return n$3(er,104)}static uint112(er){return n$3(er,112)}static uint120(er){return n$3(er,120)}static uint128(er){return n$3(er,128)}static uint136(er){return n$3(er,136)}static uint144(er){return n$3(er,144)}static uint152(er){return n$3(er,152)}static uint160(er){return n$3(er,160)}static uint168(er){return n$3(er,168)}static uint176(er){return n$3(er,176)}static uint184(er){return n$3(er,184)}static uint192(er){return n$3(er,192)}static uint200(er){return n$3(er,200)}static uint208(er){return n$3(er,208)}static uint216(er){return n$3(er,216)}static uint224(er){return n$3(er,224)}static uint232(er){return n$3(er,232)}static uint240(er){return n$3(er,240)}static uint248(er){return n$3(er,248)}static uint256(er){return n$3(er,256)}static uint(er){return n$3(er,256)}static int8(er){return n$3(er,-8)}static int16(er){return n$3(er,-16)}static int24(er){return n$3(er,-24)}static int32(er){return n$3(er,-32)}static int40(er){return n$3(er,-40)}static int48(er){return n$3(er,-48)}static int56(er){return n$3(er,-56)}static int64(er){return n$3(er,-64)}static int72(er){return n$3(er,-72)}static int80(er){return n$3(er,-80)}static int88(er){return n$3(er,-88)}static int96(er){return n$3(er,-96)}static int104(er){return n$3(er,-104)}static int112(er){return n$3(er,-112)}static int120(er){return n$3(er,-120)}static int128(er){return n$3(er,-128)}static int136(er){return n$3(er,-136)}static int144(er){return n$3(er,-144)}static int152(er){return n$3(er,-152)}static int160(er){return n$3(er,-160)}static int168(er){return n$3(er,-168)}static int176(er){return n$3(er,-176)}static int184(er){return n$3(er,-184)}static int192(er){return n$3(er,-192)}static int200(er){return n$3(er,-200)}static int208(er){return n$3(er,-208)}static int216(er){return n$3(er,-216)}static int224(er){return n$3(er,-224)}static int232(er){return n$3(er,-232)}static int240(er){return n$3(er,-240)}static int248(er){return n$3(er,-248)}static int256(er){return n$3(er,-256)}static int(er){return n$3(er,-256)}static bytes1(er){return b$3(er,1)}static bytes2(er){return b$3(er,2)}static bytes3(er){return b$3(er,3)}static bytes4(er){return b$3(er,4)}static bytes5(er){return b$3(er,5)}static bytes6(er){return b$3(er,6)}static bytes7(er){return b$3(er,7)}static bytes8(er){return b$3(er,8)}static bytes9(er){return b$3(er,9)}static bytes10(er){return b$3(er,10)}static bytes11(er){return b$3(er,11)}static bytes12(er){return b$3(er,12)}static bytes13(er){return b$3(er,13)}static bytes14(er){return b$3(er,14)}static bytes15(er){return b$3(er,15)}static bytes16(er){return b$3(er,16)}static bytes17(er){return b$3(er,17)}static bytes18(er){return b$3(er,18)}static bytes19(er){return b$3(er,19)}static bytes20(er){return b$3(er,20)}static bytes21(er){return b$3(er,21)}static bytes22(er){return b$3(er,22)}static bytes23(er){return b$3(er,23)}static bytes24(er){return b$3(er,24)}static bytes25(er){return b$3(er,25)}static bytes26(er){return b$3(er,26)}static bytes27(er){return b$3(er,27)}static bytes28(er){return b$3(er,28)}static bytes29(er){return b$3(er,29)}static bytes30(er){return b$3(er,30)}static bytes31(er){return b$3(er,31)}static bytes32(er){return b$3(er,32)}static address(er){return new Typed(_gaurd,"address",er)}static bool(er){return new Typed(_gaurd,"bool",!!er)}static bytes(er){return new Typed(_gaurd,"bytes",er)}static string(er){return new Typed(_gaurd,"string",er)}static array(er,rr){throw new Error("not implemented yet")}static tuple(er,rr){throw new Error("not implemented yet")}static overrides(er){return new Typed(_gaurd,"overrides",Object.assign({},er))}static isTyped(er){return er&&typeof er=="object"&&"_typedSymbol"in er&&er._typedSymbol===_typedSymbol}static dereference(er,rr){if(Typed.isTyped(er)){if(er.type!==rr)throw new Error(`invalid type: expecetd ${rr}, got ${er.type}`);return er.value}return er}}class AddressCoder extends Coder{constructor(er){super("address","address",er,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(er,rr){let nr=Typed.dereference(rr,"string");try{nr=getAddress$1(nr)}catch(ir){return this._throwError(ir.message,rr)}return er.writeValue(nr)}decode(er){return getAddress$1(toBeHex(er.readValue(),20))}}class AnonymousCoder extends Coder{coder;constructor(er){super(er.name,er.type,"_",er.dynamic),this.coder=er}defaultValue(){return this.coder.defaultValue()}encode(er,rr){return this.coder.encode(er,rr)}decode(er){return this.coder.decode(er)}}function pack(tr,er,rr){let nr=[];if(Array.isArray(rr))nr=rr;else if(rr&&typeof rr=="object"){let cr={};nr=er.map(lr=>{const ur=lr.localName;return assert$r(ur,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:lr},value:rr}),assert$r(!cr[ur],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:lr},value:rr}),cr[ur]=!0,rr[ur]})}else assertArgument(!1,"invalid tuple value","tuple",rr);assertArgument(er.length===nr.length,"types/value length mismatch","tuple",rr);let ir=new Writer$2,or=new Writer$2,sr=[];er.forEach((cr,lr)=>{let ur=nr[lr];if(cr.dynamic){let fr=or.length;cr.encode(or,ur);let dr=ir.writeUpdatableValue();sr.push(gr=>{dr(gr+fr)})}else cr.encode(ir,ur)}),sr.forEach(cr=>{cr(ir.length)});let ar=tr.appendWriter(ir);return ar+=tr.appendWriter(or),ar}function unpack(tr,er){let rr=[],nr=[],ir=tr.subReader(0);return er.forEach(or=>{let sr=null;if(or.dynamic){let ar=tr.readIndex(),cr=ir.subReader(ar);try{sr=or.decode(cr)}catch(lr){if(isError$2(lr,"BUFFER_OVERRUN"))throw lr;sr=lr,sr.baseType=or.name,sr.name=or.localName,sr.type=or.type}}else try{sr=or.decode(tr)}catch(ar){if(isError$2(ar,"BUFFER_OVERRUN"))throw ar;sr=ar,sr.baseType=or.name,sr.name=or.localName,sr.type=or.type}if(sr==null)throw new Error("investigate");rr.push(sr),nr.push(or.localName||null)}),Result.fromItems(rr,nr)}class ArrayCoder extends Coder{coder;length;constructor(er,rr,nr){const ir=er.type+"["+(rr>=0?rr:"")+"]",or=rr===-1||er.dynamic;super("array",ir,nr,or),defineProperties(this,{coder:er,length:rr})}defaultValue(){const er=this.coder.defaultValue(),rr=[];for(let nr=0;nr<this.length;nr++)rr.push(er);return rr}encode(er,rr){const nr=Typed.dereference(rr,"array");Array.isArray(nr)||this._throwError("expected array value",nr);let ir=this.length;ir===-1&&(ir=nr.length,er.writeValue(nr.length)),assertArgumentCount(nr.length,ir,"coder array"+(this.localName?" "+this.localName:""));let or=[];for(let sr=0;sr<nr.length;sr++)or.push(this.coder);return pack(er,or,nr)}decode(er){let rr=this.length;rr===-1&&(rr=er.readIndex(),assert$r(rr*WordSize<=er.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:er.bytes,offset:rr*WordSize,length:er.dataLength}));let nr=[];for(let ir=0;ir<rr;ir++)nr.push(new AnonymousCoder(this.coder));return unpack(er,nr)}}class BooleanCoder extends Coder{constructor(er){super("bool","bool",er,!1)}defaultValue(){return!1}encode(er,rr){const nr=Typed.dereference(rr,"bool");return er.writeValue(nr?1:0)}decode(er){return!!er.readValue()}}class DynamicBytesCoder extends Coder{constructor(er,rr){super(er,er,rr,!0)}defaultValue(){return"0x"}encode(er,rr){rr=getBytesCopy(rr);let nr=er.writeValue(rr.length);return nr+=er.writeBytes(rr),nr}decode(er){return er.readBytes(er.readIndex(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(er){super("bytes",er)}decode(er){return hexlify(super.decode(er))}}class FixedBytesCoder extends Coder{size;constructor(er,rr){let nr="bytes"+String(er);super(nr,nr,rr,!1),defineProperties(this,{size:er},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(er,rr){let nr=getBytesCopy(Typed.dereference(rr,this.type));return nr.length!==this.size&&this._throwError("incorrect data length",rr),er.writeBytes(nr)}decode(er){return hexlify(er.readBytes(this.size))}}const Empty=new Uint8Array([]);class NullCoder extends Coder{constructor(er){super("null","",er,!1)}defaultValue(){return null}encode(er,rr){return rr!=null&&this._throwError("not null",rr),er.writeBytes(Empty)}decode(er){return er.readBytes(0),null}}const BN_0$5=BigInt(0),BN_1$1=BigInt(1),BN_MAX_UINT256$1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{size;signed;constructor(er,rr,nr){const ir=(rr?"int":"uint")+er*8;super(ir,ir,nr,!1),defineProperties(this,{size:er,signed:rr},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(er,rr){let nr=getBigInt(Typed.dereference(rr,this.type)),ir=mask$1(BN_MAX_UINT256$1,WordSize*8);if(this.signed){let or=mask$1(ir,this.size*8-1);(nr>or||nr<-(or+BN_1$1))&&this._throwError("value out-of-bounds",rr),nr=toTwos(nr,8*WordSize)}else(nr<BN_0$5||nr>mask$1(ir,this.size*8))&&this._throwError("value out-of-bounds",rr);return er.writeValue(nr)}decode(er){let rr=mask$1(er.readValue(),this.size*8);return this.signed&&(rr=fromTwos(rr,this.size*8)),rr}}class StringCoder extends DynamicBytesCoder{constructor(er){super("string",er)}defaultValue(){return""}encode(er,rr){return super.encode(er,toUtf8Bytes(Typed.dereference(rr,"string")))}decode(er){return toUtf8String(super.decode(er))}}class TupleCoder extends Coder{coders;constructor(er,rr){let nr=!1;const ir=[];er.forEach(sr=>{sr.dynamic&&(nr=!0),ir.push(sr.type)});const or="tuple("+ir.join(",")+")";super("tuple",or,rr,nr),defineProperties(this,{coders:Object.freeze(er.slice())})}defaultValue(){const er=[];this.coders.forEach(nr=>{er.push(nr.defaultValue())});const rr=this.coders.reduce((nr,ir)=>{const or=ir.localName;return or&&(nr[or]||(nr[or]=0),nr[or]++),nr},{});return this.coders.forEach((nr,ir)=>{let or=nr.localName;!or||rr[or]!==1||(or==="length"&&(or="_length"),er[or]==null&&(er[or]=er[ir]))}),Object.freeze(er)}encode(er,rr){const nr=Typed.dereference(rr,"tuple");return pack(er,this.coders,nr)}decode(er){return unpack(er,this.coders)}}function id(tr){return keccak256$4(toUtf8Bytes(tr))}var COMPRESSED$1="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const FENCED=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),NSM_MAX=4;function decode_arithmetic(tr){let er=0;function rr(){return tr[er++]<<8|tr[er++]}let nr=rr(),ir=1,or=[0,1];for(let Nr=1;Nr<nr;Nr++)or.push(ir+=rr());let sr=rr(),ar=er;er+=sr;let cr=0,lr=0;function ur(){return cr==0&&(lr=lr<<8|tr[er++],cr=8),lr>>--cr&1}const fr=31,dr=2**fr,gr=dr>>>1,br=gr>>1,vr=dr-1;let $r=0;for(let Nr=0;Nr<fr;Nr++)$r=$r<<1|ur();let Er=[],_r=0,xr=dr;for(;;){let Nr=Math.floor((($r-_r+1)*ir-1)/xr),Lr=0,jr=nr;for(;jr-Lr>1;){let Cr=Lr+jr>>>1;Nr<or[Cr]?jr=Cr:Lr=Cr}if(Lr==0)break;Er.push(Lr);let Or=_r+Math.floor(xr*or[Lr]/ir),Dr=_r+Math.floor(xr*or[Lr+1]/ir)-1;for(;!((Or^Dr)&gr);)$r=$r<<1&vr|ur(),Or=Or<<1&vr,Dr=Dr<<1&vr|1;for(;Or&~Dr&br;)$r=$r&gr|$r<<1&vr>>>1|ur(),Or=Or<<1^gr,Dr=(Dr^gr)<<1|gr|1;_r=Or,xr=1+Dr-Or}let Ir=nr-4;return Er.map(Nr=>{switch(Nr-Ir){case 3:return Ir+65792+(tr[ar++]<<16|tr[ar++]<<8|tr[ar++]);case 2:return Ir+256+(tr[ar++]<<8|tr[ar++]);case 1:return Ir+tr[ar++];default:return Nr-1}})}function read_payload(tr){let er=0;return()=>tr[er++]}function read_compressed_payload(tr){return read_payload(decode_arithmetic(unsafe_atob(tr)))}function unsafe_atob(tr){let er=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((ir,or)=>er[ir.charCodeAt(0)]=or);let rr=tr.length,nr=new Uint8Array(6*rr>>3);for(let ir=0,or=0,sr=0,ar=0;ir<rr;ir++)ar=ar<<6|er[tr.charCodeAt(ir)],sr+=6,sr>=8&&(nr[or++]=ar>>(sr-=8));return nr}function signed(tr){return tr&1?~tr>>1:tr>>1}function read_deltas(tr,er){let rr=Array(tr);for(let nr=0,ir=0;nr<tr;nr++)rr[nr]=ir+=signed(er());return rr}function read_sorted(tr,er=0){let rr=[];for(;;){let nr=tr(),ir=tr();if(!ir)break;er+=nr;for(let or=0;or<ir;or++)rr.push(er+or);er+=ir+1}return rr}function read_sorted_arrays(tr){return read_array_while(()=>{let er=read_sorted(tr);if(er.length)return er})}function read_mapped(tr){let er=[];for(;;){let rr=tr();if(rr==0)break;er.push(read_linear_table(rr,tr))}for(;;){let rr=tr()-1;if(rr<0)break;er.push(read_replacement_table(rr,tr))}return er.flat()}function read_array_while(tr){let er=[];for(;;){let rr=tr(er.length);if(!rr)break;er.push(rr)}return er}function read_transposed(tr,er,rr){let nr=Array(tr).fill().map(()=>[]);for(let ir=0;ir<er;ir++)read_deltas(tr,rr).forEach((or,sr)=>nr[sr].push(or));return nr}function read_linear_table(tr,er){let rr=1+er(),nr=er(),ir=read_array_while(er);return read_transposed(ir.length,1+tr,er).flatMap((sr,ar)=>{let[cr,...lr]=sr;return Array(ir[ar]).fill().map((ur,fr)=>{let dr=fr*nr;return[cr+fr*rr,lr.map(gr=>gr+dr)]})})}function read_replacement_table(tr,er){let rr=1+er();return read_transposed(rr,1+tr,er).map(ir=>[ir[0],ir.slice(1)])}function read_trie(tr){let er=[],rr=read_sorted(tr);return ir(nr([]),[]),er;function nr(or){let sr=tr(),ar=read_array_while(()=>{let cr=read_sorted(tr).map(lr=>rr[lr]);if(cr.length)return nr(cr)});return{S:sr,B:ar,Q:or}}function ir({S:or,B:sr},ar,cr){if(!(or&4&&cr===ar[ar.length-1])){or&2&&(cr=ar[ar.length-1]),or&1&&er.push(ar);for(let lr of sr)for(let ur of lr.Q)ir(lr,[...ar,ur],cr)}}}function hex_cp(tr){return tr.toString(16).toUpperCase().padStart(2,"0")}function quote_cp(tr){return`{${hex_cp(tr)}}`}function explode_cp(tr){let er=[];for(let rr=0,nr=tr.length;rr<nr;){let ir=tr.codePointAt(rr);rr+=ir<65536?1:2,er.push(ir)}return er}function str_from_cps(tr){let rr=tr.length;if(rr<4096)return String.fromCodePoint(...tr);let nr=[];for(let ir=0;ir<rr;)nr.push(String.fromCodePoint(...tr.slice(ir,ir+=4096)));return nr.join("")}function compare_arrays(tr,er){let rr=tr.length,nr=rr-er.length;for(let ir=0;nr==0&&ir<rr;ir++)nr=tr[ir]-er[ir];return nr}var COMPRESSED="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const S0=44032,L0=4352,V0=4449,T0=4519,L_COUNT=19,V_COUNT=21,T_COUNT=28,N_COUNT=V_COUNT*T_COUNT,S_COUNT=L_COUNT*N_COUNT,S1=S0+S_COUNT,L1=L0+L_COUNT,V1=V0+V_COUNT,T1=T0+T_COUNT;function unpack_cc(tr){return tr>>24&255}function unpack_cp(tr){return tr&16777215}let SHIFTED_RANK,EXCLUSIONS,DECOMP,RECOMP;function init$1(){let tr=read_compressed_payload(COMPRESSED);SHIFTED_RANK=new Map(read_sorted_arrays(tr).flatMap((er,rr)=>er.map(nr=>[nr,rr+1<<24]))),EXCLUSIONS=new Set(read_sorted(tr)),DECOMP=new Map,RECOMP=new Map;for(let[er,rr]of read_mapped(tr)){if(!EXCLUSIONS.has(er)&&rr.length==2){let[nr,ir]=rr,or=RECOMP.get(nr);or||(or=new Map,RECOMP.set(nr,or)),or.set(ir,er)}DECOMP.set(er,rr.reverse())}}function is_hangul(tr){return tr>=S0&&tr<S1}function compose_pair(tr,er){if(tr>=L0&&tr<L1&&er>=V0&&er<V1)return S0+(tr-L0)*N_COUNT+(er-V0)*T_COUNT;if(is_hangul(tr)&&er>T0&&er<T1&&(tr-S0)%T_COUNT==0)return tr+(er-T0);{let rr=RECOMP.get(tr);return rr&&(rr=rr.get(er),rr)?rr:-1}}function decomposed(tr){SHIFTED_RANK||init$1();let er=[],rr=[],nr=!1;function ir(or){let sr=SHIFTED_RANK.get(or);sr&&(nr=!0,or|=sr),er.push(or)}for(let or of tr)for(;;){if(or<128)er.push(or);else if(is_hangul(or)){let sr=or-S0,ar=sr/N_COUNT|0,cr=sr%N_COUNT/T_COUNT|0,lr=sr%T_COUNT;ir(L0+ar),ir(V0+cr),lr>0&&ir(T0+lr)}else{let sr=DECOMP.get(or);sr?rr.push(...sr):ir(or)}if(!rr.length)break;or=rr.pop()}if(nr&&er.length>1){let or=unpack_cc(er[0]);for(let sr=1;sr<er.length;sr++){let ar=unpack_cc(er[sr]);if(ar==0||or<=ar){or=ar;continue}let cr=sr-1;for(;;){let lr=er[cr+1];if(er[cr+1]=er[cr],er[cr]=lr,!cr||(or=unpack_cc(er[--cr]),or<=ar))break}or=unpack_cc(er[sr])}}return er}function composed_from_decomposed(tr){let er=[],rr=[],nr=-1,ir=0;for(let or of tr){let sr=unpack_cc(or),ar=unpack_cp(or);if(nr==-1)sr==0?nr=ar:er.push(ar);else if(ir>0&&ir>=sr)sr==0?(er.push(nr,...rr),rr.length=0,nr=ar):rr.push(ar),ir=sr;else{let cr=compose_pair(nr,ar);cr>=0?nr=cr:ir==0&&sr==0?(er.push(nr),nr=ar):(rr.push(ar),ir=sr)}}return nr>=0&&er.push(nr,...rr),er}function nfd(tr){return decomposed(tr).map(unpack_cp)}function nfc(tr){return composed_from_decomposed(decomposed(tr))}const HYPHEN=45,STOP_CH=".",FE0F=65039,UNIQUE_PH=1,Array_from=tr=>Array.from(tr);function group_has_cp(tr,er){return tr.P.has(er)||tr.Q.has(er)}class Emoji extends Array{get is_emoji(){return!0}}let MAPPED,IGNORED,CM,NSM,ESCAPE,GROUPS,WHOLE_VALID,WHOLE_MAP,VALID,EMOJI_LIST,EMOJI_ROOT;function init(){if(MAPPED)return;let tr=read_compressed_payload(COMPRESSED$1);const er=()=>read_sorted(tr),rr=()=>new Set(er()),nr=(ur,fr)=>fr.forEach(dr=>ur.add(dr));MAPPED=new Map(read_mapped(tr)),IGNORED=rr(),CM=er(),NSM=new Set(er().map(ur=>CM[ur])),CM=new Set(CM),ESCAPE=rr(),rr();let ir=read_sorted_arrays(tr),or=tr();const sr=()=>{let ur=new Set;return er().forEach(fr=>nr(ur,ir[fr])),nr(ur,er()),ur};GROUPS=read_array_while(ur=>{let fr=read_array_while(tr).map(dr=>dr+96);if(fr.length){let dr=ur>=or;fr[0]-=32,fr=str_from_cps(fr),dr&&(fr=`Restricted[${fr}]`);let gr=sr(),br=sr(),vr=!tr();return{N:fr,P:gr,Q:br,M:vr,R:dr}}}),WHOLE_VALID=rr(),WHOLE_MAP=new Map;let ar=er().concat(Array_from(WHOLE_VALID)).sort((ur,fr)=>ur-fr);ar.forEach((ur,fr)=>{let dr=tr(),gr=ar[fr]=dr?ar[fr-dr]:{V:[],M:new Map};gr.V.push(ur),WHOLE_VALID.has(ur)||WHOLE_MAP.set(ur,gr)});for(let{V:ur,M:fr}of new Set(WHOLE_MAP.values())){let dr=[];for(let br of ur){let vr=GROUPS.filter(Er=>group_has_cp(Er,br)),$r=dr.find(({G:Er})=>vr.some(_r=>Er.has(_r)));$r||($r={G:new Set,V:[]},dr.push($r)),$r.V.push(br),nr($r.G,vr)}let gr=dr.flatMap(br=>Array_from(br.G));for(let{G:br,V:vr}of dr){let $r=new Set(gr.filter(Er=>!br.has(Er)));for(let Er of vr)fr.set(Er,$r)}}VALID=new Set;let cr=new Set;const lr=ur=>VALID.has(ur)?cr.add(ur):VALID.add(ur);for(let ur of GROUPS){for(let fr of ur.P)lr(fr);for(let fr of ur.Q)lr(fr)}for(let ur of VALID)!WHOLE_MAP.has(ur)&&!cr.has(ur)&&WHOLE_MAP.set(ur,UNIQUE_PH);nr(VALID,nfd(VALID)),EMOJI_LIST=read_trie(tr).map(ur=>Emoji.from(ur)).sort(compare_arrays),EMOJI_ROOT=new Map;for(let ur of EMOJI_LIST){let fr=[EMOJI_ROOT];for(let dr of ur){let gr=fr.map(br=>{let vr=br.get(dr);return vr||(vr=new Map,br.set(dr,vr)),vr});dr===FE0F?fr.push(...gr):fr=gr}for(let dr of fr)dr.V=ur}}function quoted_cp(tr){return(should_escape(tr)?"":`${bidi_qq(safe_str_from_cps([tr]))} `)+quote_cp(tr)}function bidi_qq(tr){return`"${tr}"‎`}function check_label_extension(tr){if(tr.length>=4&&tr[2]==HYPHEN&&tr[3]==HYPHEN)throw new Error(`invalid label extension: "${str_from_cps(tr.slice(0,4))}"`)}function check_leading_underscore(tr){for(let rr=tr.lastIndexOf(95);rr>0;)if(tr[--rr]!==95)throw new Error("underscore allowed only at start")}function check_fenced(tr){let er=tr[0],rr=FENCED.get(er);if(rr)throw error_placement(`leading ${rr}`);let nr=tr.length,ir=-1;for(let or=1;or<nr;or++){er=tr[or];let sr=FENCED.get(er);if(sr){if(ir==or)throw error_placement(`${rr} + ${sr}`);ir=or+1,rr=sr}}if(ir==nr)throw error_placement(`trailing ${rr}`)}function safe_str_from_cps(tr,er=1/0,rr=quote_cp){let nr=[];is_combining_mark(tr[0])&&nr.push("◌"),tr.length>er&&(er>>=1,tr=[...tr.slice(0,er),8230,...tr.slice(-er)]);let ir=0,or=tr.length;for(let sr=0;sr<or;sr++){let ar=tr[sr];should_escape(ar)&&(nr.push(str_from_cps(tr.slice(ir,sr))),nr.push(rr(ar)),ir=sr+1)}return nr.push(str_from_cps(tr.slice(ir,or))),nr.join("")}function is_combining_mark(tr){return init(),CM.has(tr)}function should_escape(tr){return init(),ESCAPE.has(tr)}function ens_normalize(tr){return flatten(split$2(tr,nfc,filter_fe0f))}function split$2(tr,er,rr){if(!tr)return[];init();let nr=0;return tr.split(STOP_CH).map(ir=>{let or=explode_cp(ir),sr={input:or,offset:nr};nr+=or.length+1;try{let ar=sr.tokens=tokens_from_str(or,er,rr),cr=ar.length,lr;if(!cr)throw new Error("empty label");let ur=sr.output=ar.flat();if(check_leading_underscore(ur),!(sr.emoji=cr>1||ar[0].is_emoji)&&ur.every(dr=>dr<128))check_label_extension(ur),lr="ASCII";else{let dr=ar.flatMap(gr=>gr.is_emoji?[]:gr);if(!dr.length)lr="Emoji";else{if(CM.has(ur[0]))throw error_placement("leading combining mark");for(let vr=1;vr<cr;vr++){let $r=ar[vr];if(!$r.is_emoji&&CM.has($r[0]))throw error_placement(`emoji + combining mark: "${str_from_cps(ar[vr-1])} + ${safe_str_from_cps([$r[0]])}"`)}check_fenced(ur);let gr=Array_from(new Set(dr)),[br]=determine_group(gr);check_group(br,dr),check_whole(br,gr),lr=br.N}}sr.type=lr}catch(ar){sr.error=ar}return sr})}function check_whole(tr,er){let rr,nr=[];for(let ir of er){let or=WHOLE_MAP.get(ir);if(or===UNIQUE_PH)return;if(or){let sr=or.M.get(ir);if(rr=rr?rr.filter(ar=>sr.has(ar)):Array_from(sr),!rr.length)return}else nr.push(ir)}if(rr){for(let ir of rr)if(nr.every(or=>group_has_cp(ir,or)))throw new Error(`whole-script confusable: ${tr.N}/${ir.N}`)}}function determine_group(tr){let er=GROUPS;for(let rr of tr){let nr=er.filter(ir=>group_has_cp(ir,rr));if(!nr.length)throw GROUPS.some(ir=>group_has_cp(ir,rr))?error_group_member(er[0],rr):error_disallowed(rr);if(er=nr,nr.length==1)break}return er}function flatten(tr){return tr.map(({input:er,error:rr,output:nr})=>{if(rr){let ir=rr.message;throw new Error(tr.length==1?ir:`Invalid label ${bidi_qq(safe_str_from_cps(er,63))}: ${ir}`)}return str_from_cps(nr)}).join(STOP_CH)}function error_disallowed(tr){return new Error(`disallowed character: ${quoted_cp(tr)}`)}function error_group_member(tr,er){let rr=quoted_cp(er),nr=GROUPS.find(ir=>ir.P.has(er));return nr&&(rr=`${nr.N} ${rr}`),new Error(`illegal mixture: ${tr.N} + ${rr}`)}function error_placement(tr){return new Error(`illegal placement: ${tr}`)}function check_group(tr,er){for(let rr of er)if(!group_has_cp(tr,rr))throw error_group_member(tr,rr);if(tr.M){let rr=nfd(er);for(let nr=1,ir=rr.length;nr<ir;nr++)if(NSM.has(rr[nr])){let or=nr+1;for(let sr;or<ir&&NSM.has(sr=rr[or]);or++)for(let ar=nr;ar<or;ar++)if(rr[ar]==sr)throw new Error(`duplicate non-spacing marks: ${quoted_cp(sr)}`);if(or-nr>NSM_MAX)throw new Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(rr.slice(nr-1,or)))} (${or-nr}/${NSM_MAX})`);nr=or}}}function tokens_from_str(tr,er,rr){let nr=[],ir=[];for(tr=tr.slice().reverse();tr.length;){let or=consume_emoji_reversed(tr);if(or)ir.length&&(nr.push(er(ir)),ir=[]),nr.push(rr(or));else{let sr=tr.pop();if(VALID.has(sr))ir.push(sr);else{let ar=MAPPED.get(sr);if(ar)ir.push(...ar);else if(!IGNORED.has(sr))throw error_disallowed(sr)}}}return ir.length&&nr.push(er(ir)),nr}function filter_fe0f(tr){return tr.filter(er=>er!=FE0F)}function consume_emoji_reversed(tr,er){let rr=EMOJI_ROOT,nr,ir=tr.length;for(;ir&&(rr=rr.get(tr[--ir]),!!rr);){let{V:or}=rr;or&&(nr=or,tr.length=ir)}return nr}const Zeros=new Uint8Array(32);Zeros.fill(0);function checkComponent(tr){return assertArgument(tr.length!==0,"invalid ENS name; empty component","comp",tr),tr}function ensNameSplit(tr){const er=toUtf8Bytes(ensNormalize(tr)),rr=[];if(tr.length===0)return rr;let nr=0;for(let ir=0;ir<er.length;ir++)er[ir]===46&&(rr.push(checkComponent(er.slice(nr,ir))),nr=ir+1);return assertArgument(nr<er.length,"invalid ENS name; empty component","name",tr),rr.push(checkComponent(er.slice(nr))),rr}function ensNormalize(tr){try{if(tr.length===0)throw new Error("empty label");return ens_normalize(tr)}catch(er){assertArgument(!1,`invalid ENS name (${er.message})`,"name",tr)}}function namehash(tr){assertArgument(typeof tr=="string","invalid ENS name; not a string","name",tr),assertArgument(tr.length,"invalid ENS name (empty label)","name",tr);let er=Zeros;const rr=ensNameSplit(tr);for(;rr.length;)er=keccak256$4(concat$2([er,keccak256$4(rr.pop())]));return hexlify(er)}function dnsEncode(tr,er){const rr=er;return assertArgument(rr<=255,"DNS encoded label cannot exceed 255","length",rr),hexlify(concat$2(ensNameSplit(tr).map(nr=>{assertArgument(nr.length<=rr,`label ${JSON.stringify(tr)} exceeds ${rr} bytes`,"name",tr);const ir=new Uint8Array(nr.length+1);return ir.set(nr,1),ir[0]=ir.length-1,ir})))+"00"}function accessSetify(tr,er){return{address:getAddress$1(tr),storageKeys:er.map((rr,nr)=>(assertArgument(isHexString$6(rr,32),"invalid slot",`storageKeys[${nr}]`,rr),rr.toLowerCase()))}}function accessListify(tr){if(Array.isArray(tr))return tr.map((rr,nr)=>Array.isArray(rr)?(assertArgument(rr.length===2,"invalid slot set",`value[${nr}]`,rr),accessSetify(rr[0],rr[1])):(assertArgument(rr!=null&&typeof rr=="object","invalid address-slot set","value",tr),accessSetify(rr.address,rr.storageKeys)));assertArgument(tr!=null&&typeof tr=="object","invalid access list","value",tr);const er=Object.keys(tr).map(rr=>{const nr=tr[rr].reduce((ir,or)=>(ir[or]=!0,ir),{});return accessSetify(rr,Object.keys(nr).sort())});return er.sort((rr,nr)=>rr.address.localeCompare(nr.address)),er}function computeAddress(tr){let er;return typeof tr=="string"?er=SigningKey.computePublicKey(tr,!1):er=tr.publicKey,getAddress$1(keccak256$4("0x"+er.substring(4)).substring(26))}function recoverAddress$1(tr,er){return computeAddress(SigningKey.recoverPublicKey(tr,er))}const BN_0$4=BigInt(0),BN_2$1=BigInt(2),BN_27=BigInt(27),BN_28=BigInt(28),BN_35=BigInt(35),BN_MAX_UINT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BLOB_SIZE=4096*32;function getVersionedHash(tr,er){let rr=tr.toString(16);for(;rr.length<2;)rr="0"+rr;return rr+=sha256$3(er).substring(4),"0x"+rr}function handleAddress(tr){return tr==="0x"?null:getAddress$1(tr)}function handleAccessList(tr,er){try{return accessListify(tr)}catch(rr){assertArgument(!1,rr.message,er,tr)}}function handleNumber(tr,er){return tr==="0x"?0:getNumber(tr,er)}function handleUint(tr,er){if(tr==="0x")return BN_0$4;const rr=getBigInt(tr,er);return assertArgument(rr<=BN_MAX_UINT,"value exceeds uint size",er,rr),rr}function formatNumber(tr,er){const rr=getBigInt(tr,"value"),nr=toBeArray(rr);return assertArgument(nr.length<=32,"value too large",`tx.${er}`,rr),nr}function formatAccessList(tr){return accessListify(tr).map(er=>[er.address,er.storageKeys])}function formatHashes(tr,er){assertArgument(Array.isArray(tr),`invalid ${er}`,"value",tr);for(let rr=0;rr<tr.length;rr++)assertArgument(isHexString$6(tr[rr],32),"invalid ${ param } hash",`value[${rr}]`,tr[rr]);return tr}function _parseLegacy(tr){const er=decodeRlp(tr);assertArgument(Array.isArray(er)&&(er.length===9||er.length===6),"invalid field count for legacy transaction","data",tr);const rr={type:0,nonce:handleNumber(er[0],"nonce"),gasPrice:handleUint(er[1],"gasPrice"),gasLimit:handleUint(er[2],"gasLimit"),to:handleAddress(er[3]),value:handleUint(er[4],"value"),data:hexlify(er[5]),chainId:BN_0$4};if(er.length===6)return rr;const nr=handleUint(er[6],"v"),ir=handleUint(er[7],"r"),or=handleUint(er[8],"s");if(ir===BN_0$4&&or===BN_0$4)rr.chainId=nr;else{let sr=(nr-BN_35)/BN_2$1;sr<BN_0$4&&(sr=BN_0$4),rr.chainId=sr,assertArgument(sr!==BN_0$4||nr===BN_27||nr===BN_28,"non-canonical legacy v","v",er[6]),rr.signature=Signature$6.from({r:zeroPadValue(er[7],32),s:zeroPadValue(er[8],32),v:nr})}return rr}function _serializeLegacy(tr,er){const rr=[formatNumber(tr.nonce,"nonce"),formatNumber(tr.gasPrice||0,"gasPrice"),formatNumber(tr.gasLimit,"gasLimit"),tr.to||"0x",formatNumber(tr.value,"value"),tr.data];let nr=BN_0$4;if(tr.chainId!=BN_0$4)nr=getBigInt(tr.chainId,"tx.chainId"),assertArgument(!er||er.networkV==null||er.legacyChainId===nr,"tx.chainId/sig.v mismatch","sig",er);else if(tr.signature){const or=tr.signature.legacyChainId;or!=null&&(nr=or)}if(!er)return nr!==BN_0$4&&(rr.push(toBeArray(nr)),rr.push("0x"),rr.push("0x")),encodeRlp(rr);let ir=BigInt(27+er.yParity);return nr!==BN_0$4?ir=Signature$6.getChainIdV(nr,er.v):BigInt(er.v)!==ir&&assertArgument(!1,"tx.chainId/sig.v mismatch","sig",er),rr.push(toBeArray(ir)),rr.push(toBeArray(er.r)),rr.push(toBeArray(er.s)),encodeRlp(rr)}function _parseEipSignature(tr,er){let rr;try{if(rr=handleNumber(er[0],"yParity"),rr!==0&&rr!==1)throw new Error("bad yParity")}catch{assertArgument(!1,"invalid yParity","yParity",er[0])}const nr=zeroPadValue(er[1],32),ir=zeroPadValue(er[2],32),or=Signature$6.from({r:nr,s:ir,yParity:rr});tr.signature=or}function _parseEip1559(tr){const er=decodeRlp(getBytes(tr).slice(1));assertArgument(Array.isArray(er)&&(er.length===9||er.length===12),"invalid field count for transaction type: 2","data",hexlify(tr));const rr={type:2,chainId:handleUint(er[0],"chainId"),nonce:handleNumber(er[1],"nonce"),maxPriorityFeePerGas:handleUint(er[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(er[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(er[4],"gasLimit"),to:handleAddress(er[5]),value:handleUint(er[6],"value"),data:hexlify(er[7]),accessList:handleAccessList(er[8],"accessList")};return er.length===9||_parseEipSignature(rr,er.slice(9)),rr}function _serializeEip1559(tr,er){const rr=[formatNumber(tr.chainId,"chainId"),formatNumber(tr.nonce,"nonce"),formatNumber(tr.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(tr.maxFeePerGas||0,"maxFeePerGas"),formatNumber(tr.gasLimit,"gasLimit"),tr.to||"0x",formatNumber(tr.value,"value"),tr.data,formatAccessList(tr.accessList||[])];return er&&(rr.push(formatNumber(er.yParity,"yParity")),rr.push(toBeArray(er.r)),rr.push(toBeArray(er.s))),concat$2(["0x02",encodeRlp(rr)])}function _parseEip2930(tr){const er=decodeRlp(getBytes(tr).slice(1));assertArgument(Array.isArray(er)&&(er.length===8||er.length===11),"invalid field count for transaction type: 1","data",hexlify(tr));const rr={type:1,chainId:handleUint(er[0],"chainId"),nonce:handleNumber(er[1],"nonce"),gasPrice:handleUint(er[2],"gasPrice"),gasLimit:handleUint(er[3],"gasLimit"),to:handleAddress(er[4]),value:handleUint(er[5],"value"),data:hexlify(er[6]),accessList:handleAccessList(er[7],"accessList")};return er.length===8||_parseEipSignature(rr,er.slice(8)),rr}function _serializeEip2930(tr,er){const rr=[formatNumber(tr.chainId,"chainId"),formatNumber(tr.nonce,"nonce"),formatNumber(tr.gasPrice||0,"gasPrice"),formatNumber(tr.gasLimit,"gasLimit"),tr.to||"0x",formatNumber(tr.value,"value"),tr.data,formatAccessList(tr.accessList||[])];return er&&(rr.push(formatNumber(er.yParity,"recoveryParam")),rr.push(toBeArray(er.r)),rr.push(toBeArray(er.s))),concat$2(["0x01",encodeRlp(rr)])}function _parseEip4844(tr){let er=decodeRlp(getBytes(tr).slice(1)),rr="3",nr=null;if(er.length===4&&Array.isArray(er[0])){rr="3 (network format)";const or=er[1],sr=er[2],ar=er[3];assertArgument(Array.isArray(or),"invalid network format: blobs not an array","fields[1]",or),assertArgument(Array.isArray(sr),"invalid network format: commitments not an array","fields[2]",sr),assertArgument(Array.isArray(ar),"invalid network format: proofs not an array","fields[3]",ar),assertArgument(or.length===sr.length,"invalid network format: blobs/commitments length mismatch","fields",er),assertArgument(or.length===ar.length,"invalid network format: blobs/proofs length mismatch","fields",er),nr=[];for(let cr=0;cr<er[1].length;cr++)nr.push({data:or[cr],commitment:sr[cr],proof:ar[cr]});er=er[0]}assertArgument(Array.isArray(er)&&(er.length===11||er.length===14),`invalid field count for transaction type: ${rr}`,"data",hexlify(tr));const ir={type:3,chainId:handleUint(er[0],"chainId"),nonce:handleNumber(er[1],"nonce"),maxPriorityFeePerGas:handleUint(er[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(er[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(er[4],"gasLimit"),to:handleAddress(er[5]),value:handleUint(er[6],"value"),data:hexlify(er[7]),accessList:handleAccessList(er[8],"accessList"),maxFeePerBlobGas:handleUint(er[9],"maxFeePerBlobGas"),blobVersionedHashes:er[10]};nr&&(ir.blobs=nr),assertArgument(ir.to!=null,`invalid address for transaction type: ${rr}`,"data",tr),assertArgument(Array.isArray(ir.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",tr);for(let or=0;or<ir.blobVersionedHashes.length;or++)assertArgument(isHexString$6(ir.blobVersionedHashes[or],32),`invalid blobVersionedHash at index ${or}: must be length 32`,"data",tr);return er.length===11||_parseEipSignature(ir,er.slice(11)),ir}function _serializeEip4844(tr,er,rr){const nr=[formatNumber(tr.chainId,"chainId"),formatNumber(tr.nonce,"nonce"),formatNumber(tr.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(tr.maxFeePerGas||0,"maxFeePerGas"),formatNumber(tr.gasLimit,"gasLimit"),tr.to||ZeroAddress,formatNumber(tr.value,"value"),tr.data,formatAccessList(tr.accessList||[]),formatNumber(tr.maxFeePerBlobGas||0,"maxFeePerBlobGas"),formatHashes(tr.blobVersionedHashes||[],"blobVersionedHashes")];return er&&(nr.push(formatNumber(er.yParity,"yParity")),nr.push(toBeArray(er.r)),nr.push(toBeArray(er.s)),rr)?concat$2(["0x03",encodeRlp([nr,rr.map(ir=>ir.data),rr.map(ir=>ir.commitment),rr.map(ir=>ir.proof)])]):concat$2(["0x03",encodeRlp(nr)])}class Transaction{#e;#t;#r;#n;#i;#s;#o;#a;#f;#l;#p;#g;#c;#u;#d;#h;get type(){return this.#e}set type(er){switch(er){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;default:assertArgument(!1,"unsupported transaction type","type",er)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const er=this.#t;return er==null&&this.type===3?ZeroAddress:er}set to(er){this.#t=er==null?null:getAddress$1(er)}get nonce(){return this.#n}set nonce(er){this.#n=getNumber(er,"value")}get gasLimit(){return this.#i}set gasLimit(er){this.#i=getBigInt(er)}get gasPrice(){const er=this.#s;return er==null&&(this.type===0||this.type===1)?BN_0$4:er}set gasPrice(er){this.#s=er==null?null:getBigInt(er,"gasPrice")}get maxPriorityFeePerGas(){const er=this.#o;return er??(this.type===2||this.type===3?BN_0$4:null)}set maxPriorityFeePerGas(er){this.#o=er==null?null:getBigInt(er,"maxPriorityFeePerGas")}get maxFeePerGas(){const er=this.#a;return er??(this.type===2||this.type===3?BN_0$4:null)}set maxFeePerGas(er){this.#a=er==null?null:getBigInt(er,"maxFeePerGas")}get data(){return this.#r}set data(er){this.#r=hexlify(er)}get value(){return this.#f}set value(er){this.#f=getBigInt(er,"value")}get chainId(){return this.#l}set chainId(er){this.#l=getBigInt(er)}get signature(){return this.#p||null}set signature(er){this.#p=er==null?null:Signature$6.from(er)}get accessList(){const er=this.#g||null;return er??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(er){this.#g=er==null?null:accessListify(er)}get maxFeePerBlobGas(){const er=this.#c;return er==null&&this.type===3?BN_0$4:er}set maxFeePerBlobGas(er){this.#c=er==null?null:getBigInt(er,"maxFeePerBlobGas")}get blobVersionedHashes(){let er=this.#u;return er==null&&this.type===3?[]:er}set blobVersionedHashes(er){if(er!=null){assertArgument(Array.isArray(er),"blobVersionedHashes must be an Array","value",er),er=er.slice();for(let rr=0;rr<er.length;rr++)assertArgument(isHexString$6(er[rr],32),"invalid blobVersionedHash",`value[${rr}]`,er[rr])}this.#u=er}get blobs(){return this.#h==null?null:this.#h.map(er=>Object.assign({},er))}set blobs(er){if(er==null){this.#h=null;return}const rr=[],nr=[];for(let ir=0;ir<er.length;ir++){const or=er[ir];if(isBytesLike(or)){assert$r(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let sr=getBytes(or);if(assertArgument(sr.length<=BLOB_SIZE,"blob is too large",`blobs[${ir}]`,or),sr.length!==BLOB_SIZE){const lr=new Uint8Array(BLOB_SIZE);lr.set(sr),sr=lr}const ar=this.#d.blobToKzgCommitment(sr),cr=hexlify(this.#d.computeBlobKzgProof(sr,ar));rr.push({data:hexlify(sr),commitment:hexlify(ar),proof:cr}),nr.push(getVersionedHash(1,ar))}else{const sr=hexlify(or.commitment);rr.push({data:hexlify(or.data),commitment:sr,proof:hexlify(or.proof)}),nr.push(getVersionedHash(1,sr))}}this.#h=rr,this.#u=nr}get kzg(){return this.#d}set kzg(er){this.#d=er}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#i=BN_0$4,this.#s=null,this.#o=null,this.#a=null,this.#r="0x",this.#f=BN_0$4,this.#l=BN_0$4,this.#p=null,this.#g=null,this.#c=null,this.#u=null,this.#h=null,this.#d=null}get hash(){return this.signature==null?null:keccak256$4(this.#y(!0,!1))}get unsignedHash(){return keccak256$4(this.unsignedSerialized)}get from(){return this.signature==null?null:recoverAddress$1(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#y(er,rr){assert$r(!er||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const nr=er?this.signature:null;switch(this.inferType()){case 0:return _serializeLegacy(this,nr);case 1:return _serializeEip2930(this,nr);case 2:return _serializeEip1559(this,nr);case 3:return _serializeEip4844(this,nr,rr?this.blobs:null)}assert$r(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#y(!0,!0)}get unsignedSerialized(){return this.#y(!1,!1)}inferType(){const er=this.inferTypes();return er.indexOf(2)>=0?2:er.pop()}inferTypes(){const er=this.gasPrice!=null,rr=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,nr=this.accessList!=null,ir=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&assert$r(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),assert$r(!rr||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),assert$r(this.type!==0||!nr,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const or=[];return this.type!=null?or.push(this.type):rr?or.push(2):er?(or.push(1),nr||or.push(0)):nr?(or.push(1),or.push(2)):(ir&&this.to||(or.push(0),or.push(1),or.push(2)),or.push(3)),or.sort(),or}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Transaction.from(this)}toJSON(){const er=rr=>rr==null?null:rr.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:er(this.gasLimit),gasPrice:er(this.gasPrice),maxPriorityFeePerGas:er(this.maxPriorityFeePerGas),maxFeePerGas:er(this.maxFeePerGas),value:er(this.value),chainId:er(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(er){if(er==null)return new Transaction;if(typeof er=="string"){const nr=getBytes(er);if(nr[0]>=127)return Transaction.from(_parseLegacy(nr));switch(nr[0]){case 1:return Transaction.from(_parseEip2930(nr));case 2:return Transaction.from(_parseEip1559(nr));case 3:return Transaction.from(_parseEip4844(nr))}assert$r(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const rr=new Transaction;return er.type!=null&&(rr.type=er.type),er.to!=null&&(rr.to=er.to),er.nonce!=null&&(rr.nonce=er.nonce),er.gasLimit!=null&&(rr.gasLimit=er.gasLimit),er.gasPrice!=null&&(rr.gasPrice=er.gasPrice),er.maxPriorityFeePerGas!=null&&(rr.maxPriorityFeePerGas=er.maxPriorityFeePerGas),er.maxFeePerGas!=null&&(rr.maxFeePerGas=er.maxFeePerGas),er.maxFeePerBlobGas!=null&&(rr.maxFeePerBlobGas=er.maxFeePerBlobGas),er.data!=null&&(rr.data=er.data),er.value!=null&&(rr.value=er.value),er.chainId!=null&&(rr.chainId=er.chainId),er.signature!=null&&(rr.signature=Signature$6.from(er.signature)),er.accessList!=null&&(rr.accessList=er.accessList),er.blobVersionedHashes!=null&&(rr.blobVersionedHashes=er.blobVersionedHashes),er.kzg!=null&&(rr.kzg=er.kzg),er.blobs!=null&&(rr.blobs=er.blobs),er.hash!=null&&(assertArgument(rr.isSigned(),"unsigned transaction cannot define '.hash'","tx",er),assertArgument(rr.hash===er.hash,"hash mismatch","tx",er)),er.from!=null&&(assertArgument(rr.isSigned(),"unsigned transaction cannot define '.from'","tx",er),assertArgument(rr.from.toLowerCase()===(er.from||"").toLowerCase(),"from mismatch","tx",er)),rr}}const padding=new Uint8Array(32);padding.fill(0);const BN__1=BigInt(-1),BN_0$3=BigInt(0),BN_1=BigInt(1),BN_MAX_UINT256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(tr){const er=getBytes(tr),rr=er.length%32;return rr?concat$2([er,padding.slice(rr)]):hexlify(er)}const hexTrue=toBeHex(BN_1,32),hexFalse=toBeHex(BN_0$3,32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(tr){return function(er){return assertArgument(typeof er=="string",`invalid domain value for ${JSON.stringify(tr)}`,`domain.${tr}`,er),er}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(tr){const er=getBigInt(tr,"domain.chainId");return assertArgument(er>=0,"invalid chain ID","domain.chainId",tr),Number.isSafeInteger(er)?Number(er):toQuantity(er)},verifyingContract:function(tr){try{return getAddress$1(tr).toLowerCase()}catch{}assertArgument(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",tr)},salt:function(tr){const er=getBytes(tr,"domain.salt");return assertArgument(er.length===32,'invalid domain value "salt"',"domain.salt",tr),hexlify(er)}};function getBaseEncoder(tr){{const er=tr.match(/^(u?)int(\d+)$/);if(er){const rr=er[1]==="",nr=parseInt(er[2]);assertArgument(nr%8===0&&nr!==0&&nr<=256&&er[2]===String(nr),"invalid numeric width","type",tr);const ir=mask$1(BN_MAX_UINT256,rr?nr-1:nr),or=rr?(ir+BN_1)*BN__1:BN_0$3;return function(sr){const ar=getBigInt(sr,"value");return assertArgument(ar>=or&&ar<=ir,`value out-of-bounds for ${tr}`,"value",ar),toBeHex(rr?toTwos(ar,256):ar,32)}}}{const er=tr.match(/^bytes(\d+)$/);if(er){const rr=parseInt(er[1]);return assertArgument(rr!==0&&rr<=32&&er[1]===String(rr),"invalid bytes width","type",tr),function(nr){const ir=getBytes(nr);return assertArgument(ir.length===rr,`invalid length for ${tr}`,"value",nr),hexPadRight(nr)}}}switch(tr){case"address":return function(er){return zeroPadValue(getAddress$1(er),32)};case"bool":return function(er){return er?hexTrue:hexFalse};case"bytes":return function(er){return keccak256$4(er)};case"string":return function(er){return id(er)}}return null}function encodeType(tr,er){return`${tr}(${er.map(({name:rr,type:nr})=>nr+" "+rr).join(",")})`}function splitArray(tr){const er=tr.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return er?{base:er[1],index:er[2]+er[4],array:{base:er[1],prefix:er[1]+er[2],count:er[5]?parseInt(er[5]):-1}}:{base:tr}}class TypedDataEncoder{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(er){this.#t=new Map,this.#r=new Map;const rr=new Map,nr=new Map,ir=new Map,or={};Object.keys(er).forEach(cr=>{or[cr]=er[cr].map(({name:lr,type:ur})=>{let{base:fr,index:dr}=splitArray(ur);return fr==="int"&&!er.int&&(fr="int256"),fr==="uint"&&!er.uint&&(fr="uint256"),{name:lr,type:fr+(dr||"")}}),rr.set(cr,new Set),nr.set(cr,[]),ir.set(cr,new Set)}),this.#e=JSON.stringify(or);for(const cr in or){const lr=new Set;for(const ur of or[cr]){assertArgument(!lr.has(ur.name),`duplicate variable name ${JSON.stringify(ur.name)} in ${JSON.stringify(cr)}`,"types",er),lr.add(ur.name);const fr=splitArray(ur.type).base;assertArgument(fr!==cr,`circular type reference to ${JSON.stringify(fr)}`,"types",er),!getBaseEncoder(fr)&&(assertArgument(nr.has(fr),`unknown type ${JSON.stringify(fr)}`,"types",er),nr.get(fr).push(cr),rr.get(cr).add(fr))}}const sr=Array.from(nr.keys()).filter(cr=>nr.get(cr).length===0);assertArgument(sr.length!==0,"missing primary type","types",er),assertArgument(sr.length===1,`ambiguous primary types or unused types: ${sr.map(cr=>JSON.stringify(cr)).join(", ")}`,"types",er),defineProperties(this,{primaryType:sr[0]});function ar(cr,lr){assertArgument(!lr.has(cr),`circular type reference to ${JSON.stringify(cr)}`,"types",er),lr.add(cr);for(const ur of rr.get(cr))if(nr.has(ur)){ar(ur,lr);for(const fr of lr)ir.get(fr).add(ur)}lr.delete(cr)}ar(this.primaryType,new Set);for(const[cr,lr]of ir){const ur=Array.from(lr);ur.sort(),this.#t.set(cr,encodeType(cr,or[cr])+ur.map(fr=>encodeType(fr,or[fr])).join(""))}}getEncoder(er){let rr=this.#r.get(er);return rr||(rr=this.#n(er),this.#r.set(er,rr)),rr}#n(er){{const ir=getBaseEncoder(er);if(ir)return ir}const rr=splitArray(er).array;if(rr){const ir=rr.prefix,or=this.getEncoder(ir);return sr=>{assertArgument(rr.count===-1||rr.count===sr.length,`array length mismatch; expected length ${rr.count}`,"value",sr);let ar=sr.map(or);return this.#t.has(ir)&&(ar=ar.map(keccak256$4)),keccak256$4(concat$2(ar))}}const nr=this.types[er];if(nr){const ir=id(this.#t.get(er));return or=>{const sr=nr.map(({name:ar,type:cr})=>{const lr=this.getEncoder(cr)(or[ar]);return this.#t.has(cr)?keccak256$4(lr):lr});return sr.unshift(ir),concat$2(sr)}}assertArgument(!1,`unknown type: ${er}`,"type",er)}encodeType(er){const rr=this.#t.get(er);return assertArgument(rr,`unknown type: ${JSON.stringify(er)}`,"name",er),rr}encodeData(er,rr){return this.getEncoder(er)(rr)}hashStruct(er,rr){return keccak256$4(this.encodeData(er,rr))}encode(er){return this.encodeData(this.primaryType,er)}hash(er){return this.hashStruct(this.primaryType,er)}_visit(er,rr,nr){if(getBaseEncoder(er))return nr(er,rr);const ir=splitArray(er).array;if(ir)return assertArgument(ir.count===-1||ir.count===rr.length,`array length mismatch; expected length ${ir.count}`,"value",rr),rr.map(sr=>this._visit(ir.prefix,sr,nr));const or=this.types[er];if(or)return or.reduce((sr,{name:ar,type:cr})=>(sr[ar]=this._visit(cr,rr[ar],nr),sr),{});assertArgument(!1,`unknown type: ${er}`,"type",er)}visit(er,rr){return this._visit(this.primaryType,er,rr)}static from(er){return new TypedDataEncoder(er)}static getPrimaryType(er){return TypedDataEncoder.from(er).primaryType}static hashStruct(er,rr,nr){return TypedDataEncoder.from(rr).hashStruct(er,nr)}static hashDomain(er){const rr=[];for(const nr in er){if(er[nr]==null)continue;const ir=domainFieldTypes[nr];assertArgument(ir,`invalid typed-data domain key: ${JSON.stringify(nr)}`,"domain",er),rr.push({name:nr,type:ir})}return rr.sort((nr,ir)=>domainFieldNames.indexOf(nr.name)-domainFieldNames.indexOf(ir.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:rr},er)}static encode(er,rr,nr){return concat$2(["0x1901",TypedDataEncoder.hashDomain(er),TypedDataEncoder.from(rr).hash(nr)])}static hash(er,rr,nr){return keccak256$4(TypedDataEncoder.encode(er,rr,nr))}static async resolveNames(er,rr,nr,ir){er=Object.assign({},er);for(const ar in er)er[ar]==null&&delete er[ar];const or={};er.verifyingContract&&!isHexString$6(er.verifyingContract,20)&&(or[er.verifyingContract]="0x");const sr=TypedDataEncoder.from(rr);sr.visit(nr,(ar,cr)=>(ar==="address"&&!isHexString$6(cr,20)&&(or[cr]="0x"),cr));for(const ar in or)or[ar]=await ir(ar);return er.verifyingContract&&or[er.verifyingContract]&&(er.verifyingContract=or[er.verifyingContract]),nr=sr.visit(nr,(ar,cr)=>ar==="address"&&or[cr]?or[cr]:cr),{domain:er,value:nr}}static getPayload(er,rr,nr){TypedDataEncoder.hashDomain(er);const ir={},or=[];domainFieldNames.forEach(cr=>{const lr=er[cr];lr!=null&&(ir[cr]=domainChecks[cr](lr),or.push({name:cr,type:domainFieldTypes[cr]}))});const sr=TypedDataEncoder.from(rr);rr=sr.types;const ar=Object.assign({},rr);return assertArgument(ar.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",rr),ar.EIP712Domain=or,sr.encode(nr),{types:ar,domain:ir,primaryType:sr.primaryType,message:sr.visit(nr,(cr,lr)=>{if(cr.match(/^bytes(\d*)/))return hexlify(getBytes(lr));if(cr.match(/^u?int/))return getBigInt(lr).toString();switch(cr){case"address":return lr.toLowerCase();case"bool":return!!lr;case"string":return assertArgument(typeof lr=="string","invalid string","value",lr),lr}assertArgument(!1,"unsupported type","type",cr)})}}}function setify(tr){const er=new Set;return tr.forEach(rr=>er.add(rr)),Object.freeze(er)}const _kwVisibDeploy="external public payable override",KwVisibDeploy=setify(_kwVisibDeploy.split(" ")),_kwVisib="constant external internal payable private public pure view override",KwVisib=setify(_kwVisib.split(" ")),_kwTypes="constructor error event fallback function receive struct",KwTypes=setify(_kwTypes.split(" ")),_kwModifiers="calldata memory storage payable indexed",KwModifiers=setify(_kwModifiers.split(" ")),_kwOther="tuple returns",_keywords=[_kwTypes,_kwModifiers,_kwOther,_kwVisib].join(" "),Keywords=setify(_keywords.split(" ")),SimpleTokens={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},regexWhitespacePrefix=new RegExp("^(\\s*)"),regexNumberPrefix=new RegExp("^([0-9]+)"),regexIdPrefix=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),regexId=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),regexType=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class TokenString{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(er){this.#e=0,this.#t=er.slice()}clone(){return new TokenString(this.#t)}reset(){this.#e=0}#r(er=0,rr=0){return new TokenString(this.#t.slice(er,rr).map(nr=>Object.freeze(Object.assign({},nr,{match:nr.match-er,linkBack:nr.linkBack-er,linkNext:nr.linkNext-er}))))}popKeyword(er){const rr=this.peek();if(rr.type!=="KEYWORD"||!er.has(rr.text))throw new Error(`expected keyword ${rr.text}`);return this.pop().text}popType(er){if(this.peek().type!==er){const rr=this.peek();throw new Error(`expected ${er}; got ${rr.type} ${JSON.stringify(rr.text)}`)}return this.pop().text}popParen(){const er=this.peek();if(er.type!=="OPEN_PAREN")throw new Error("bad start");const rr=this.#r(this.#e+1,er.match+1);return this.#e=er.match+1,rr}popParams(){const er=this.peek();if(er.type!=="OPEN_PAREN")throw new Error("bad start");const rr=[];for(;this.#e<er.match-1;){const nr=this.peek().linkNext;rr.push(this.#r(this.#e+1,nr)),this.#e=nr}return this.#e=er.match+1,rr}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(er){const rr=this.peekType("KEYWORD");return rr!=null&&er.has(rr)?rr:null}peekType(er){if(this.length===0)return null;const rr=this.peek();return rr.type===er?rr.text:null}pop(){const er=this.peek();return this.#e++,er}toString(){const er=[];for(let rr=this.#e;rr<this.#t.length;rr++){const nr=this.#t[rr];er.push(`${nr.type}:${nr.text}`)}return`<TokenString ${er.join(" ")}>`}}function lex(tr){const er=[],rr=sr=>{const ar=or<tr.length?JSON.stringify(tr[or]):"$EOI";throw new Error(`invalid token ${ar} at ${or}: ${sr}`)};let nr=[],ir=[],or=0;for(;or<tr.length;){let sr=tr.substring(or),ar=sr.match(regexWhitespacePrefix);ar&&(or+=ar[1].length,sr=tr.substring(or));const cr={depth:nr.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:or,value:-1};er.push(cr);let lr=SimpleTokens[sr[0]]||"";if(lr){if(cr.type=lr,cr.text=sr[0],or++,lr==="OPEN_PAREN")nr.push(er.length-1),ir.push(er.length-1);else if(lr=="CLOSE_PAREN")nr.length===0&&rr("no matching open bracket"),cr.match=nr.pop(),er[cr.match].match=er.length-1,cr.depth--,cr.linkBack=ir.pop(),er[cr.linkBack].linkNext=er.length-1;else if(lr==="COMMA")cr.linkBack=ir.pop(),er[cr.linkBack].linkNext=er.length-1,ir.push(er.length-1);else if(lr==="OPEN_BRACKET")cr.type="BRACKET";else if(lr==="CLOSE_BRACKET"){let ur=er.pop().text;if(er.length>0&&er[er.length-1].type==="NUMBER"){const fr=er.pop().text;ur=fr+ur,er[er.length-1].value=getNumber(fr)}if(er.length===0||er[er.length-1].type!=="BRACKET")throw new Error("missing opening bracket");er[er.length-1].text+=ur}continue}if(ar=sr.match(regexIdPrefix),ar){if(cr.text=ar[1],or+=cr.text.length,Keywords.has(cr.text)){cr.type="KEYWORD";continue}if(cr.text.match(regexType)){cr.type="TYPE";continue}cr.type="ID";continue}if(ar=sr.match(regexNumberPrefix),ar){cr.text=ar[1],cr.type="NUMBER",or+=cr.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(sr[0])} at position ${or}`)}return new TokenString(er.map(sr=>Object.freeze(sr)))}function allowSingle(tr,er){let rr=[];for(const nr in er.keys())tr.has(nr)&&rr.push(nr);if(rr.length>1)throw new Error(`conflicting types: ${rr.join(", ")}`)}function consumeName(tr,er){if(er.peekKeyword(KwTypes)){const rr=er.pop().text;if(rr!==tr)throw new Error(`expected ${tr}, got ${rr}`)}return er.popType("ID")}function consumeKeywords(tr,er){const rr=new Set;for(;;){const nr=tr.peekType("KEYWORD");if(nr==null||er&&!er.has(nr))break;if(tr.pop(),rr.has(nr))throw new Error(`duplicate keywords: ${JSON.stringify(nr)}`);rr.add(nr)}return Object.freeze(rr)}function consumeMutability(tr){let er=consumeKeywords(tr,KwVisib);return allowSingle(er,setify("constant payable nonpayable".split(" "))),allowSingle(er,setify("pure view payable nonpayable".split(" "))),er.has("view")?"view":er.has("pure")?"pure":er.has("payable")?"payable":er.has("nonpayable")?"nonpayable":er.has("constant")?"view":"nonpayable"}function consumeParams(tr,er){return tr.popParams().map(rr=>ParamType.from(rr,er))}function consumeGas(tr){if(tr.peekType("AT")){if(tr.pop(),tr.peekType("NUMBER"))return getBigInt(tr.pop().text);throw new Error("invalid gas")}return null}function consumeEoi(tr){if(tr.length)throw new Error(`unexpected tokens at offset ${tr.offset}: ${tr.toString()}`)}const regexArrayType=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType(tr){const er=tr.match(regexType);if(assertArgument(er,"invalid type","type",tr),tr==="uint")return"uint256";if(tr==="int")return"int256";if(er[2]){const rr=parseInt(er[2]);assertArgument(rr!==0&&rr<=32,"invalid bytes length","type",tr)}else if(er[3]){const rr=parseInt(er[3]);assertArgument(rr!==0&&rr<=256&&rr%8===0,"invalid numeric width","type",tr)}return tr}const _guard={},internal$2=Symbol.for("_ethers_internal"),ParamTypeInternal="_ParamTypeInternal",ErrorFragmentInternal="_ErrorInternal",EventFragmentInternal="_EventInternal",ConstructorFragmentInternal="_ConstructorInternal",FallbackFragmentInternal="_FallbackInternal",FunctionFragmentInternal="_FunctionInternal",StructFragmentInternal="_StructInternal";class ParamType{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(er,rr,nr,ir,or,sr,ar,cr){if(assertPrivate(er,_guard,"ParamType"),Object.defineProperty(this,internal$2,{value:ParamTypeInternal}),sr&&(sr=Object.freeze(sr.slice())),ir==="array"){if(ar==null||cr==null)throw new Error("")}else if(ar!=null||cr!=null)throw new Error("");if(ir==="tuple"){if(sr==null)throw new Error("")}else if(sr!=null)throw new Error("");defineProperties(this,{name:rr,type:nr,baseType:ir,indexed:or,components:sr,arrayLength:ar,arrayChildren:cr})}format(er){if(er==null&&(er="sighash"),er==="json"){const nr=this.name||"";if(this.isArray()){const or=JSON.parse(this.arrayChildren.format("json"));return or.name=nr,or.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(or)}const ir={type:this.baseType==="tuple"?"tuple":this.type,name:nr};return typeof this.indexed=="boolean"&&(ir.indexed=this.indexed),this.isTuple()&&(ir.components=this.components.map(or=>JSON.parse(or.format(er)))),JSON.stringify(ir)}let rr="";return this.isArray()?(rr+=this.arrayChildren.format(er),rr+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?rr+="("+this.components.map(nr=>nr.format(er)).join(er==="full"?", ":",")+")":rr+=this.type,er!=="sighash"&&(this.indexed===!0&&(rr+=" indexed"),er==="full"&&this.name&&(rr+=" "+this.name)),rr}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(er,rr){if(this.isArray()){if(!Array.isArray(er))throw new Error("invalid array value");if(this.arrayLength!==-1&&er.length!==this.arrayLength)throw new Error("array is wrong length");const nr=this;return er.map(ir=>nr.arrayChildren.walk(ir,rr))}if(this.isTuple()){if(!Array.isArray(er))throw new Error("invalid tuple value");if(er.length!==this.components.length)throw new Error("array is wrong length");const nr=this;return er.map((ir,or)=>nr.components[or].walk(ir,rr))}return rr(this.type,er)}#e(er,rr,nr,ir){if(this.isArray()){if(!Array.isArray(rr))throw new Error("invalid array value");if(this.arrayLength!==-1&&rr.length!==this.arrayLength)throw new Error("array is wrong length");const sr=this.arrayChildren,ar=rr.slice();ar.forEach((cr,lr)=>{sr.#e(er,cr,nr,ur=>{ar[lr]=ur})}),ir(ar);return}if(this.isTuple()){const sr=this.components;let ar;if(Array.isArray(rr))ar=rr.slice();else{if(rr==null||typeof rr!="object")throw new Error("invalid tuple value");ar=sr.map(cr=>{if(!cr.name)throw new Error("cannot use object value with unnamed components");if(!(cr.name in rr))throw new Error(`missing value for component ${cr.name}`);return rr[cr.name]})}if(ar.length!==this.components.length)throw new Error("array is wrong length");ar.forEach((cr,lr)=>{sr[lr].#e(er,cr,nr,ur=>{ar[lr]=ur})}),ir(ar);return}const or=nr(this.type,rr);or.then?er.push(async function(){ir(await or)}()):ir(or)}async walkAsync(er,rr){const nr=[],ir=[er];return this.#e(nr,er,rr,or=>{ir[0]=or}),nr.length&&await Promise.all(nr),ir[0]}static from(er,rr){if(ParamType.isParamType(er))return er;if(typeof er=="string")try{return ParamType.from(lex(er),rr)}catch{assertArgument(!1,"invalid param type","obj",er)}else if(er instanceof TokenString){let ar="",cr="",lr=null;consumeKeywords(er,setify(["tuple"])).has("tuple")||er.peekType("OPEN_PAREN")?(cr="tuple",lr=er.popParams().map(vr=>ParamType.from(vr)),ar=`tuple(${lr.map(vr=>vr.format()).join(",")})`):(ar=verifyBasicType(er.popType("TYPE")),cr=ar);let ur=null,fr=null;for(;er.length&&er.peekType("BRACKET");){const vr=er.pop();ur=new ParamType(_guard,"",ar,cr,null,lr,fr,ur),fr=vr.value,ar+=vr.text,cr="array",lr=null}let dr=null;if(consumeKeywords(er,KwModifiers).has("indexed")){if(!rr)throw new Error("");dr=!0}const br=er.peekType("ID")?er.pop().text:"";if(er.length)throw new Error("leftover tokens");return new ParamType(_guard,br,ar,cr,dr,lr,fr,ur)}const nr=er.name;assertArgument(!nr||typeof nr=="string"&&nr.match(regexId),"invalid name","obj.name",nr);let ir=er.indexed;ir!=null&&(assertArgument(rr,"parameter cannot be indexed","obj.indexed",er.indexed),ir=!!ir);let or=er.type,sr=or.match(regexArrayType);if(sr){const ar=parseInt(sr[2]||"-1"),cr=ParamType.from({type:sr[1],components:er.components});return new ParamType(_guard,nr||"",or,"array",ir,null,ar,cr)}if(or==="tuple"||or.startsWith("tuple(")||or.startsWith("(")){const ar=er.components!=null?er.components.map(lr=>ParamType.from(lr)):null;return new ParamType(_guard,nr||"",or,"tuple",ir,ar,null,null)}return or=verifyBasicType(er.type),new ParamType(_guard,nr||"",or,or,ir,null,null,null)}static isParamType(er){return er&&er[internal$2]===ParamTypeInternal}}class Fragment{type;inputs;constructor(er,rr,nr){assertPrivate(er,_guard,"Fragment"),nr=Object.freeze(nr.slice()),defineProperties(this,{type:rr,inputs:nr})}static from(er){if(typeof er=="string"){try{Fragment.from(JSON.parse(er))}catch{}return Fragment.from(lex(er))}if(er instanceof TokenString)switch(er.peekKeyword(KwTypes)){case"constructor":return ConstructorFragment.from(er);case"error":return ErrorFragment.from(er);case"event":return EventFragment.from(er);case"fallback":case"receive":return FallbackFragment.from(er);case"function":return FunctionFragment.from(er);case"struct":return StructFragment.from(er)}else if(typeof er=="object"){switch(er.type){case"constructor":return ConstructorFragment.from(er);case"error":return ErrorFragment.from(er);case"event":return EventFragment.from(er);case"fallback":case"receive":return FallbackFragment.from(er);case"function":return FunctionFragment.from(er);case"struct":return StructFragment.from(er)}assert$r(!1,`unsupported type: ${er.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}assertArgument(!1,"unsupported frgament object","obj",er)}static isConstructor(er){return ConstructorFragment.isFragment(er)}static isError(er){return ErrorFragment.isFragment(er)}static isEvent(er){return EventFragment.isFragment(er)}static isFunction(er){return FunctionFragment.isFragment(er)}static isStruct(er){return StructFragment.isFragment(er)}}class NamedFragment extends Fragment{name;constructor(er,rr,nr,ir){super(er,rr,ir),assertArgument(typeof nr=="string"&&nr.match(regexId),"invalid identifier","name",nr),ir=Object.freeze(ir.slice()),defineProperties(this,{name:nr})}}function joinParams(tr,er){return"("+er.map(rr=>rr.format(tr)).join(tr==="full"?", ":",")+")"}class ErrorFragment extends NamedFragment{constructor(er,rr,nr){super(er,"error",rr,nr),Object.defineProperty(this,internal$2,{value:ErrorFragmentInternal})}get selector(){return id(this.format("sighash")).substring(0,10)}format(er){if(er==null&&(er="sighash"),er==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(nr=>JSON.parse(nr.format(er)))});const rr=[];return er!=="sighash"&&rr.push("error"),rr.push(this.name+joinParams(er,this.inputs)),rr.join(" ")}static from(er){if(ErrorFragment.isFragment(er))return er;if(typeof er=="string")return ErrorFragment.from(lex(er));if(er instanceof TokenString){const rr=consumeName("error",er),nr=consumeParams(er);return consumeEoi(er),new ErrorFragment(_guard,rr,nr)}return new ErrorFragment(_guard,er.name,er.inputs?er.inputs.map(ParamType.from):[])}static isFragment(er){return er&&er[internal$2]===ErrorFragmentInternal}}class EventFragment extends NamedFragment{anonymous;constructor(er,rr,nr,ir){super(er,"event",rr,nr),Object.defineProperty(this,internal$2,{value:EventFragmentInternal}),defineProperties(this,{anonymous:ir})}get topicHash(){return id(this.format("sighash"))}format(er){if(er==null&&(er="sighash"),er==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(nr=>JSON.parse(nr.format(er)))});const rr=[];return er!=="sighash"&&rr.push("event"),rr.push(this.name+joinParams(er,this.inputs)),er!=="sighash"&&this.anonymous&&rr.push("anonymous"),rr.join(" ")}static getTopicHash(er,rr){return rr=(rr||[]).map(ir=>ParamType.from(ir)),new EventFragment(_guard,er,rr,!1).topicHash}static from(er){if(EventFragment.isFragment(er))return er;if(typeof er=="string")try{return EventFragment.from(lex(er))}catch{assertArgument(!1,"invalid event fragment","obj",er)}else if(er instanceof TokenString){const rr=consumeName("event",er),nr=consumeParams(er,!0),ir=!!consumeKeywords(er,setify(["anonymous"])).has("anonymous");return consumeEoi(er),new EventFragment(_guard,rr,nr,ir)}return new EventFragment(_guard,er.name,er.inputs?er.inputs.map(rr=>ParamType.from(rr,!0)):[],!!er.anonymous)}static isFragment(er){return er&&er[internal$2]===EventFragmentInternal}}class ConstructorFragment extends Fragment{payable;gas;constructor(er,rr,nr,ir,or){super(er,rr,nr),Object.defineProperty(this,internal$2,{value:ConstructorFragmentInternal}),defineProperties(this,{payable:ir,gas:or})}format(er){if(assert$r(er!=null&&er!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),er==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(nr=>JSON.parse(nr.format(er)))});const rr=[`constructor${joinParams(er,this.inputs)}`];return this.payable&&rr.push("payable"),this.gas!=null&&rr.push(`@${this.gas.toString()}`),rr.join(" ")}static from(er){if(ConstructorFragment.isFragment(er))return er;if(typeof er=="string")try{return ConstructorFragment.from(lex(er))}catch{assertArgument(!1,"invalid constuctor fragment","obj",er)}else if(er instanceof TokenString){consumeKeywords(er,setify(["constructor"]));const rr=consumeParams(er),nr=!!consumeKeywords(er,KwVisibDeploy).has("payable"),ir=consumeGas(er);return consumeEoi(er),new ConstructorFragment(_guard,"constructor",rr,nr,ir)}return new ConstructorFragment(_guard,"constructor",er.inputs?er.inputs.map(ParamType.from):[],!!er.payable,er.gas!=null?er.gas:null)}static isFragment(er){return er&&er[internal$2]===ConstructorFragmentInternal}}class FallbackFragment extends Fragment{payable;constructor(er,rr,nr){super(er,"fallback",rr),Object.defineProperty(this,internal$2,{value:FallbackFragmentInternal}),defineProperties(this,{payable:nr})}format(er){const rr=this.inputs.length===0?"receive":"fallback";if(er==="json"){const nr=this.payable?"payable":"nonpayable";return JSON.stringify({type:rr,stateMutability:nr})}return`${rr}()${this.payable?" payable":""}`}static from(er){if(FallbackFragment.isFragment(er))return er;if(typeof er=="string")try{return FallbackFragment.from(lex(er))}catch{assertArgument(!1,"invalid fallback fragment","obj",er)}else if(er instanceof TokenString){const rr=er.toString(),nr=er.peekKeyword(setify(["fallback","receive"]));if(assertArgument(nr,"type must be fallback or receive","obj",rr),er.popKeyword(setify(["fallback","receive"]))==="receive"){const ar=consumeParams(er);return assertArgument(ar.length===0,"receive cannot have arguments","obj.inputs",ar),consumeKeywords(er,setify(["payable"])),consumeEoi(er),new FallbackFragment(_guard,[],!0)}let or=consumeParams(er);or.length?assertArgument(or.length===1&&or[0].type==="bytes","invalid fallback inputs","obj.inputs",or.map(ar=>ar.format("minimal")).join(", ")):or=[ParamType.from("bytes")];const sr=consumeMutability(er);if(assertArgument(sr==="nonpayable"||sr==="payable","fallback cannot be constants","obj.stateMutability",sr),consumeKeywords(er,setify(["returns"])).has("returns")){const ar=consumeParams(er);assertArgument(ar.length===1&&ar[0].type==="bytes","invalid fallback outputs","obj.outputs",ar.map(cr=>cr.format("minimal")).join(", "))}return consumeEoi(er),new FallbackFragment(_guard,or,sr==="payable")}if(er.type==="receive")return new FallbackFragment(_guard,[],!0);if(er.type==="fallback"){const rr=[ParamType.from("bytes")],nr=er.stateMutability==="payable";return new FallbackFragment(_guard,rr,nr)}assertArgument(!1,"invalid fallback description","obj",er)}static isFragment(er){return er&&er[internal$2]===FallbackFragmentInternal}}class FunctionFragment extends NamedFragment{constant;outputs;stateMutability;payable;gas;constructor(er,rr,nr,ir,or,sr){super(er,"function",rr,ir),Object.defineProperty(this,internal$2,{value:FunctionFragmentInternal}),or=Object.freeze(or.slice()),defineProperties(this,{constant:nr==="view"||nr==="pure",gas:sr,outputs:or,payable:nr==="payable",stateMutability:nr})}get selector(){return id(this.format("sighash")).substring(0,10)}format(er){if(er==null&&(er="sighash"),er==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(nr=>JSON.parse(nr.format(er))),outputs:this.outputs.map(nr=>JSON.parse(nr.format(er)))});const rr=[];return er!=="sighash"&&rr.push("function"),rr.push(this.name+joinParams(er,this.inputs)),er!=="sighash"&&(this.stateMutability!=="nonpayable"&&rr.push(this.stateMutability),this.outputs&&this.outputs.length&&(rr.push("returns"),rr.push(joinParams(er,this.outputs))),this.gas!=null&&rr.push(`@${this.gas.toString()}`)),rr.join(" ")}static getSelector(er,rr){return rr=(rr||[]).map(ir=>ParamType.from(ir)),new FunctionFragment(_guard,er,"view",rr,[],null).selector}static from(er){if(FunctionFragment.isFragment(er))return er;if(typeof er=="string")try{return FunctionFragment.from(lex(er))}catch{assertArgument(!1,"invalid function fragment","obj",er)}else if(er instanceof TokenString){const nr=consumeName("function",er),ir=consumeParams(er),or=consumeMutability(er);let sr=[];consumeKeywords(er,setify(["returns"])).has("returns")&&(sr=consumeParams(er));const ar=consumeGas(er);return consumeEoi(er),new FunctionFragment(_guard,nr,or,ir,sr,ar)}let rr=er.stateMutability;return rr==null&&(rr="payable",typeof er.constant=="boolean"?(rr="view",er.constant||(rr="payable",typeof er.payable=="boolean"&&!er.payable&&(rr="nonpayable"))):typeof er.payable=="boolean"&&!er.payable&&(rr="nonpayable")),new FunctionFragment(_guard,er.name,rr,er.inputs?er.inputs.map(ParamType.from):[],er.outputs?er.outputs.map(ParamType.from):[],er.gas!=null?er.gas:null)}static isFragment(er){return er&&er[internal$2]===FunctionFragmentInternal}}class StructFragment extends NamedFragment{constructor(er,rr,nr){super(er,"struct",rr,nr),Object.defineProperty(this,internal$2,{value:StructFragmentInternal})}format(){throw new Error("@TODO")}static from(er){if(typeof er=="string")try{return StructFragment.from(lex(er))}catch{assertArgument(!1,"invalid struct fragment","obj",er)}else if(er instanceof TokenString){const rr=consumeName("struct",er),nr=consumeParams(er);return consumeEoi(er),new StructFragment(_guard,rr,nr)}return new StructFragment(_guard,er.name,er.inputs?er.inputs.map(ParamType.from):[])}static isFragment(er){return er&&er[internal$2]===StructFragmentInternal}}const PanicReasons$1=new Map;PanicReasons$1.set(0,"GENERIC_PANIC");PanicReasons$1.set(1,"ASSERT_FALSE");PanicReasons$1.set(17,"OVERFLOW");PanicReasons$1.set(18,"DIVIDE_BY_ZERO");PanicReasons$1.set(33,"ENUM_RANGE_ERROR");PanicReasons$1.set(34,"BAD_STORAGE_DATA");PanicReasons$1.set(49,"STACK_UNDERFLOW");PanicReasons$1.set(50,"ARRAY_RANGE_ERROR");PanicReasons$1.set(65,"OUT_OF_MEMORY");PanicReasons$1.set(81,"UNINITIALIZED_FUNCTION_CALL");const paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);let defaultCoder=null,defaultMaxInflation=1024;function getBuiltinCallException(tr,er,rr,nr){let ir="missing revert data",or=null;const sr=null;let ar=null;if(rr){ir="execution reverted";const lr=getBytes(rr);if(rr=hexlify(rr),lr.length===0)ir+=" (no data present; likely require(false) occurred",or="require(false)";else if(lr.length%32!==4)ir+=" (could not decode reason; invalid data length)";else if(hexlify(lr.slice(0,4))==="0x08c379a0")try{or=nr.decode(["string"],lr.slice(4))[0],ar={signature:"Error(string)",name:"Error",args:[or]},ir+=`: ${JSON.stringify(or)}`}catch{ir+=" (could not decode reason; invalid string data)"}else if(hexlify(lr.slice(0,4))==="0x4e487b71")try{const ur=Number(nr.decode(["uint256"],lr.slice(4))[0]);ar={signature:"Panic(uint256)",name:"Panic",args:[ur]},or=`Panic due to ${PanicReasons$1.get(ur)||"UNKNOWN"}(${ur})`,ir+=`: ${or}`}catch{ir+=" (could not decode panic code)"}else ir+=" (unknown custom error)"}const cr={to:er.to?getAddress$1(er.to):null,data:er.data||"0x"};return er.from&&(cr.from=getAddress$1(er.from)),makeError(ir,"CALL_EXCEPTION",{action:tr,data:rr,reason:or,transaction:cr,invocation:sr,revert:ar})}class AbiCoder{#e(er){if(er.isArray())return new ArrayCoder(this.#e(er.arrayChildren),er.arrayLength,er.name);if(er.isTuple())return new TupleCoder(er.components.map(nr=>this.#e(nr)),er.name);switch(er.baseType){case"address":return new AddressCoder(er.name);case"bool":return new BooleanCoder(er.name);case"string":return new StringCoder(er.name);case"bytes":return new BytesCoder(er.name);case"":return new NullCoder(er.name)}let rr=er.type.match(paramTypeNumber);if(rr){let nr=parseInt(rr[2]||"256");return assertArgument(nr!==0&&nr<=256&&nr%8===0,"invalid "+rr[1]+" bit length","param",er),new NumberCoder(nr/8,rr[1]==="int",er.name)}if(rr=er.type.match(paramTypeBytes),rr){let nr=parseInt(rr[1]);return assertArgument(nr!==0&&nr<=32,"invalid bytes length","param",er),new FixedBytesCoder(nr,er.name)}assertArgument(!1,"invalid type","type",er.type)}getDefaultValue(er){const rr=er.map(ir=>this.#e(ParamType.from(ir)));return new TupleCoder(rr,"_").defaultValue()}encode(er,rr){assertArgumentCount(rr.length,er.length,"types/values length mismatch");const nr=er.map(sr=>this.#e(ParamType.from(sr))),ir=new TupleCoder(nr,"_"),or=new Writer$2;return ir.encode(or,rr),or.data}decode(er,rr,nr){const ir=er.map(sr=>this.#e(ParamType.from(sr)));return new TupleCoder(ir,"_").decode(new Reader$2(rr,nr,defaultMaxInflation))}static _setDefaultMaxInflation(er){assertArgument(typeof er=="number"&&Number.isInteger(er),"invalid defaultMaxInflation factor","value",er),defaultMaxInflation=er}static defaultAbiCoder(){return defaultCoder==null&&(defaultCoder=new AbiCoder),defaultCoder}static getBuiltinCallException(er,rr,nr){return getBuiltinCallException(er,rr,nr,AbiCoder.defaultAbiCoder())}}class LogDescription{fragment;name;signature;topic;args;constructor(er,rr,nr){const ir=er.name,or=er.format();defineProperties(this,{fragment:er,name:ir,signature:or,topic:rr,args:nr})}}class TransactionDescription{fragment;name;args;signature;selector;value;constructor(er,rr,nr,ir){const or=er.name,sr=er.format();defineProperties(this,{fragment:er,name:or,args:nr,signature:sr,selector:rr,value:ir})}}class ErrorDescription{fragment;name;args;signature;selector;constructor(er,rr,nr){const ir=er.name,or=er.format();defineProperties(this,{fragment:er,name:ir,args:nr,signature:or,selector:rr})}}class Indexed{hash;_isIndexed;static isIndexed(er){return!!(er&&er._isIndexed)}constructor(er){defineProperties(this,{hash:er,_isIndexed:!0})}}const PanicReasons={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:tr=>`reverted with reason string ${JSON.stringify(tr)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:tr=>{let er="unknown panic code";return tr>=0&&tr<=255&&PanicReasons[tr.toString()]&&(er=PanicReasons[tr.toString()]),`reverted with panic code 0x${tr.toString(16)} (${er})`}}};class Interface{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(er){let rr=[];typeof er=="string"?rr=JSON.parse(er):rr=er,this.#r=new Map,this.#e=new Map,this.#t=new Map;const nr=[];for(const sr of rr)try{nr.push(Fragment.from(sr))}catch(ar){console.log(`[Warning] Invalid Fragment ${JSON.stringify(sr)}:`,ar.message)}defineProperties(this,{fragments:Object.freeze(nr)});let ir=null,or=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((sr,ar)=>{let cr;switch(sr.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}defineProperties(this,{deploy:sr});return;case"fallback":sr.inputs.length===0?or=!0:(assertArgument(!ir||sr.payable!==ir.payable,"conflicting fallback fragments",`fragments[${ar}]`,sr),ir=sr,or=ir.payable);return;case"function":cr=this.#r;break;case"event":cr=this.#t;break;case"error":cr=this.#e;break;default:return}const lr=sr.format();cr.has(lr)||cr.set(lr,sr)}),this.deploy||defineProperties(this,{deploy:ConstructorFragment.from("constructor()")}),defineProperties(this,{fallback:ir,receive:or})}format(er){const rr=er?"minimal":"full";return this.fragments.map(ir=>ir.format(rr))}formatJson(){const er=this.fragments.map(rr=>rr.format("json"));return JSON.stringify(er.map(rr=>JSON.parse(rr)))}getAbiCoder(){return AbiCoder.defaultAbiCoder()}#i(er,rr,nr){if(isHexString$6(er)){const or=er.toLowerCase();for(const sr of this.#r.values())if(or===sr.selector)return sr;return null}if(er.indexOf("(")===-1){const or=[];for(const[sr,ar]of this.#r)sr.split("(")[0]===er&&or.push(ar);if(rr){const sr=rr.length>0?rr[rr.length-1]:null;let ar=rr.length,cr=!0;Typed.isTyped(sr)&&sr.type==="overrides"&&(cr=!1,ar--);for(let lr=or.length-1;lr>=0;lr--){const ur=or[lr].inputs.length;ur!==ar&&(!cr||ur!==ar-1)&&or.splice(lr,1)}for(let lr=or.length-1;lr>=0;lr--){const ur=or[lr].inputs;for(let fr=0;fr<rr.length;fr++)if(Typed.isTyped(rr[fr])){if(fr>=ur.length){if(rr[fr].type==="overrides")continue;or.splice(lr,1);break}if(rr[fr].type!==ur[fr].baseType){or.splice(lr,1);break}}}}if(or.length===1&&rr&&rr.length!==or[0].inputs.length){const sr=rr[rr.length-1];(sr==null||Array.isArray(sr)||typeof sr!="object")&&or.splice(0,1)}if(or.length===0)return null;if(or.length>1&&nr){const sr=or.map(ar=>JSON.stringify(ar.format())).join(", ");assertArgument(!1,`ambiguous function description (i.e. matches ${sr})`,"key",er)}return or[0]}const ir=this.#r.get(FunctionFragment.from(er).format());return ir||null}getFunctionName(er){const rr=this.#i(er,null,!1);return assertArgument(rr,"no matching function","key",er),rr.name}hasFunction(er){return!!this.#i(er,null,!1)}getFunction(er,rr){return this.#i(er,rr||null,!0)}forEachFunction(er){const rr=Array.from(this.#r.keys());rr.sort((nr,ir)=>nr.localeCompare(ir));for(let nr=0;nr<rr.length;nr++){const ir=rr[nr];er(this.#r.get(ir),nr)}}#s(er,rr,nr){if(isHexString$6(er)){const or=er.toLowerCase();for(const sr of this.#t.values())if(or===sr.topicHash)return sr;return null}if(er.indexOf("(")===-1){const or=[];for(const[sr,ar]of this.#t)sr.split("(")[0]===er&&or.push(ar);if(rr){for(let sr=or.length-1;sr>=0;sr--)or[sr].inputs.length<rr.length&&or.splice(sr,1);for(let sr=or.length-1;sr>=0;sr--){const ar=or[sr].inputs;for(let cr=0;cr<rr.length;cr++)if(Typed.isTyped(rr[cr])&&rr[cr].type!==ar[cr].baseType){or.splice(sr,1);break}}}if(or.length===0)return null;if(or.length>1&&nr){const sr=or.map(ar=>JSON.stringify(ar.format())).join(", ");assertArgument(!1,`ambiguous event description (i.e. matches ${sr})`,"key",er)}return or[0]}const ir=this.#t.get(EventFragment.from(er).format());return ir||null}getEventName(er){const rr=this.#s(er,null,!1);return assertArgument(rr,"no matching event","key",er),rr.name}hasEvent(er){return!!this.#s(er,null,!1)}getEvent(er,rr){return this.#s(er,rr||null,!0)}forEachEvent(er){const rr=Array.from(this.#t.keys());rr.sort((nr,ir)=>nr.localeCompare(ir));for(let nr=0;nr<rr.length;nr++){const ir=rr[nr];er(this.#t.get(ir),nr)}}getError(er,rr){if(isHexString$6(er)){const ir=er.toLowerCase();if(BuiltinErrors[ir])return ErrorFragment.from(BuiltinErrors[ir].signature);for(const or of this.#e.values())if(ir===or.selector)return or;return null}if(er.indexOf("(")===-1){const ir=[];for(const[or,sr]of this.#e)or.split("(")[0]===er&&ir.push(sr);if(ir.length===0)return er==="Error"?ErrorFragment.from("error Error(string)"):er==="Panic"?ErrorFragment.from("error Panic(uint256)"):null;if(ir.length>1){const or=ir.map(sr=>JSON.stringify(sr.format())).join(", ");assertArgument(!1,`ambiguous error description (i.e. ${or})`,"name",er)}return ir[0]}if(er=ErrorFragment.from(er).format(),er==="Error(string)")return ErrorFragment.from("error Error(string)");if(er==="Panic(uint256)")return ErrorFragment.from("error Panic(uint256)");const nr=this.#e.get(er);return nr||null}forEachError(er){const rr=Array.from(this.#e.keys());rr.sort((nr,ir)=>nr.localeCompare(ir));for(let nr=0;nr<rr.length;nr++){const ir=rr[nr];er(this.#e.get(ir),nr)}}_decodeParams(er,rr){return this.#n.decode(er,rr)}_encodeParams(er,rr){return this.#n.encode(er,rr)}encodeDeploy(er){return this._encodeParams(this.deploy.inputs,er||[])}decodeErrorResult(er,rr){if(typeof er=="string"){const nr=this.getError(er);assertArgument(nr,"unknown error","fragment",er),er=nr}return assertArgument(dataSlice(rr,0,4)===er.selector,`data signature does not match error ${er.name}.`,"data",rr),this._decodeParams(er.inputs,dataSlice(rr,4))}encodeErrorResult(er,rr){if(typeof er=="string"){const nr=this.getError(er);assertArgument(nr,"unknown error","fragment",er),er=nr}return concat$2([er.selector,this._encodeParams(er.inputs,rr||[])])}decodeFunctionData(er,rr){if(typeof er=="string"){const nr=this.getFunction(er);assertArgument(nr,"unknown function","fragment",er),er=nr}return assertArgument(dataSlice(rr,0,4)===er.selector,`data signature does not match function ${er.name}.`,"data",rr),this._decodeParams(er.inputs,dataSlice(rr,4))}encodeFunctionData(er,rr){if(typeof er=="string"){const nr=this.getFunction(er);assertArgument(nr,"unknown function","fragment",er),er=nr}return concat$2([er.selector,this._encodeParams(er.inputs,rr||[])])}decodeFunctionResult(er,rr){if(typeof er=="string"){const or=this.getFunction(er);assertArgument(or,"unknown function","fragment",er),er=or}let nr="invalid length for result data";const ir=getBytesCopy(rr);if(ir.length%32===0)try{return this.#n.decode(er.outputs,ir)}catch{nr="could not decode result data"}assert$r(!1,nr,"BAD_DATA",{value:hexlify(ir),info:{method:er.name,signature:er.format()}})}makeError(er,rr){const nr=getBytes(er,"data"),ir=AbiCoder.getBuiltinCallException("call",rr,nr);if(ir.message.startsWith("execution reverted (unknown custom error)")){const ar=hexlify(nr.slice(0,4)),cr=this.getError(ar);if(cr)try{const lr=this.#n.decode(cr.inputs,nr.slice(4));ir.revert={name:cr.name,signature:cr.format(),args:lr},ir.reason=ir.revert.signature,ir.message=`execution reverted: ${ir.reason}`}catch{ir.message="execution reverted (coult not decode custom error)"}}const sr=this.parseTransaction(rr);return sr&&(ir.invocation={method:sr.name,signature:sr.signature,args:sr.args}),ir}encodeFunctionResult(er,rr){if(typeof er=="string"){const nr=this.getFunction(er);assertArgument(nr,"unknown function","fragment",er),er=nr}return hexlify(this.#n.encode(er.outputs,rr||[]))}encodeFilterTopics(er,rr){if(typeof er=="string"){const or=this.getEvent(er);assertArgument(or,"unknown event","eventFragment",er),er=or}assert$r(rr.length<=er.inputs.length,`too many arguments for ${er.format()}`,"UNEXPECTED_ARGUMENT",{count:rr.length,expectedCount:er.inputs.length});const nr=[];er.anonymous||nr.push(er.topicHash);const ir=(or,sr)=>or.type==="string"?id(sr):or.type==="bytes"?keccak256$4(hexlify(sr)):(or.type==="bool"&&typeof sr=="boolean"?sr=sr?"0x01":"0x00":or.type.match(/^u?int/)?sr=toBeHex(sr):or.type.match(/^bytes/)?sr=zeroPadBytes(sr,32):or.type==="address"&&this.#n.encode(["address"],[sr]),zeroPadValue(hexlify(sr),32));for(rr.forEach((or,sr)=>{const ar=er.inputs[sr];if(!ar.indexed){assertArgument(or==null,"cannot filter non-indexed parameters; must be null","contract."+ar.name,or);return}or==null?nr.push(null):ar.baseType==="array"||ar.baseType==="tuple"?assertArgument(!1,"filtering with tuples or arrays not supported","contract."+ar.name,or):Array.isArray(or)?nr.push(or.map(cr=>ir(ar,cr))):nr.push(ir(ar,or))});nr.length&&nr[nr.length-1]===null;)nr.pop();return nr}encodeEventLog(er,rr){if(typeof er=="string"){const sr=this.getEvent(er);assertArgument(sr,"unknown event","eventFragment",er),er=sr}const nr=[],ir=[],or=[];return er.anonymous||nr.push(er.topicHash),assertArgument(rr.length===er.inputs.length,"event arguments/values mismatch","values",rr),er.inputs.forEach((sr,ar)=>{const cr=rr[ar];if(sr.indexed)if(sr.type==="string")nr.push(id(cr));else if(sr.type==="bytes")nr.push(keccak256$4(cr));else{if(sr.baseType==="tuple"||sr.baseType==="array")throw new Error("not implemented");nr.push(this.#n.encode([sr.type],[cr]))}else ir.push(sr),or.push(cr)}),{data:this.#n.encode(ir,or),topics:nr}}decodeEventLog(er,rr,nr){if(typeof er=="string"){const gr=this.getEvent(er);assertArgument(gr,"unknown event","eventFragment",er),er=gr}if(nr!=null&&!er.anonymous){const gr=er.topicHash;assertArgument(isHexString$6(nr[0],32)&&nr[0].toLowerCase()===gr,"fragment/topic mismatch","topics[0]",nr[0]),nr=nr.slice(1)}const ir=[],or=[],sr=[];er.inputs.forEach((gr,br)=>{gr.indexed?gr.type==="string"||gr.type==="bytes"||gr.baseType==="tuple"||gr.baseType==="array"?(ir.push(ParamType.from({type:"bytes32",name:gr.name})),sr.push(!0)):(ir.push(gr),sr.push(!1)):(or.push(gr),sr.push(!1))});const ar=nr!=null?this.#n.decode(ir,concat$2(nr)):null,cr=this.#n.decode(or,rr,!0),lr=[],ur=[];let fr=0,dr=0;return er.inputs.forEach((gr,br)=>{let vr=null;if(gr.indexed)if(ar==null)vr=new Indexed(null);else if(sr[br])vr=new Indexed(ar[dr++]);else try{vr=ar[dr++]}catch($r){vr=$r}else try{vr=cr[fr++]}catch($r){vr=$r}lr.push(vr),ur.push(gr.name||null)}),Result.fromItems(lr,ur)}parseTransaction(er){const rr=getBytes(er.data,"tx.data"),nr=getBigInt(er.value!=null?er.value:0,"tx.value"),ir=this.getFunction(hexlify(rr.slice(0,4)));if(!ir)return null;const or=this.#n.decode(ir.inputs,rr.slice(4));return new TransactionDescription(ir,ir.selector,or,nr)}parseCallResult(er){throw new Error("@TODO")}parseLog(er){const rr=this.getEvent(er.topics[0]);return!rr||rr.anonymous?null:new LogDescription(rr,rr.topicHash,this.decodeEventLog(rr,er.data,er.topics))}parseError(er){const rr=hexlify(er),nr=this.getError(dataSlice(rr,0,4));if(!nr)return null;const ir=this.#n.decode(nr.inputs,dataSlice(rr,4));return new ErrorDescription(nr,nr.selector,ir)}static from(er){return er instanceof Interface?er:typeof er=="string"?new Interface(JSON.parse(er)):typeof er.formatJson=="function"?new Interface(er.formatJson()):typeof er.format=="function"?new Interface(er.format("json")):new Interface(er)}}const BN_0$2=BigInt(0);function getValue$2(tr){return tr??null}function toJson(tr){return tr==null?null:tr.toString()}class FeeData{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(er,rr,nr){defineProperties(this,{gasPrice:getValue$2(er),maxFeePerGas:getValue$2(rr),maxPriorityFeePerGas:getValue$2(nr)})}toJSON(){const{gasPrice:er,maxFeePerGas:rr,maxPriorityFeePerGas:nr}=this;return{_type:"FeeData",gasPrice:toJson(er),maxFeePerGas:toJson(rr),maxPriorityFeePerGas:toJson(nr)}}}function copyRequest(tr){const er={};tr.to&&(er.to=tr.to),tr.from&&(er.from=tr.from),tr.data&&(er.data=hexlify(tr.data));const rr="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const ir of rr)!(ir in tr)||tr[ir]==null||(er[ir]=getBigInt(tr[ir],`request.${ir}`));const nr="type,nonce".split(/,/);for(const ir of nr)!(ir in tr)||tr[ir]==null||(er[ir]=getNumber(tr[ir],`request.${ir}`));return tr.accessList&&(er.accessList=accessListify(tr.accessList)),"blockTag"in tr&&(er.blockTag=tr.blockTag),"enableCcipRead"in tr&&(er.enableCcipRead=!!tr.enableCcipRead),"customData"in tr&&(er.customData=tr.customData),"blobVersionedHashes"in tr&&tr.blobVersionedHashes&&(er.blobVersionedHashes=tr.blobVersionedHashes.slice()),"kzg"in tr&&(er.kzg=tr.kzg),"blobs"in tr&&tr.blobs&&(er.blobs=tr.blobs.map(ir=>isBytesLike(ir)?hexlify(ir):Object.assign({},ir))),er}class Block{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(er,rr){this.#e=er.transactions.map(nr=>typeof nr!="string"?new TransactionResponse(nr,rr):nr),defineProperties(this,{provider:rr,hash:getValue$2(er.hash),number:er.number,timestamp:er.timestamp,parentHash:er.parentHash,parentBeaconBlockRoot:er.parentBeaconBlockRoot,nonce:er.nonce,difficulty:er.difficulty,gasLimit:er.gasLimit,gasUsed:er.gasUsed,blobGasUsed:er.blobGasUsed,excessBlobGas:er.excessBlobGas,miner:er.miner,prevRandao:getValue$2(er.prevRandao),extraData:er.extraData,baseFeePerGas:getValue$2(er.baseFeePerGas),stateRoot:er.stateRoot,receiptsRoot:er.receiptsRoot})}get transactions(){return this.#e.map(er=>typeof er=="string"?er:er.hash)}get prefetchedTransactions(){const er=this.#e.slice();return er.length===0?[]:(assert$r(typeof er[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),er)}toJSON(){const{baseFeePerGas:er,difficulty:rr,extraData:nr,gasLimit:ir,gasUsed:or,hash:sr,miner:ar,prevRandao:cr,nonce:lr,number:ur,parentHash:fr,parentBeaconBlockRoot:dr,stateRoot:gr,receiptsRoot:br,timestamp:vr,transactions:$r}=this;return{_type:"Block",baseFeePerGas:toJson(er),difficulty:toJson(rr),extraData:nr,gasLimit:toJson(ir),gasUsed:toJson(or),blobGasUsed:toJson(this.blobGasUsed),excessBlobGas:toJson(this.excessBlobGas),hash:sr,miner:ar,prevRandao:cr,nonce:lr,number:ur,parentHash:fr,timestamp:vr,parentBeaconBlockRoot:dr,stateRoot:gr,receiptsRoot:br,transactions:$r}}[Symbol.iterator](){let er=0;const rr=this.transactions;return{next:()=>er<this.length?{value:rr[er++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(er){let rr;if(typeof er=="number")rr=this.#e[er];else{const nr=er.toLowerCase();for(const ir of this.#e)if(typeof ir=="string"){if(ir!==nr)continue;rr=ir;break}else{if(ir.hash===nr)continue;rr=ir;break}}if(rr==null)throw new Error("no such tx");return typeof rr=="string"?await this.provider.getTransaction(rr):rr}getPrefetchedTransaction(er){const rr=this.prefetchedTransactions;if(typeof er=="number")return rr[er];er=er.toLowerCase();for(const nr of rr)if(nr.hash===er)return nr;assertArgument(!1,"no matching transaction","indexOrHash",er)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return createOrphanedBlockFilter(this)}}class Log{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(er,rr){this.provider=rr;const nr=Object.freeze(er.topics.slice());defineProperties(this,{transactionHash:er.transactionHash,blockHash:er.blockHash,blockNumber:er.blockNumber,removed:er.removed,address:er.address,data:er.data,topics:nr,index:er.index,transactionIndex:er.transactionIndex})}toJSON(){const{address:er,blockHash:rr,blockNumber:nr,data:ir,index:or,removed:sr,topics:ar,transactionHash:cr,transactionIndex:lr}=this;return{_type:"log",address:er,blockHash:rr,blockNumber:nr,data:ir,index:or,removed:sr,topics:ar,transactionHash:cr,transactionIndex:lr}}async getBlock(){const er=await this.provider.getBlock(this.blockHash);return assert$r(!!er,"failed to find transaction","UNKNOWN_ERROR",{}),er}async getTransaction(){const er=await this.provider.getTransaction(this.transactionHash);return assert$r(!!er,"failed to find transaction","UNKNOWN_ERROR",{}),er}async getTransactionReceipt(){const er=await this.provider.getTransactionReceipt(this.transactionHash);return assert$r(!!er,"failed to find transaction receipt","UNKNOWN_ERROR",{}),er}removedEvent(){return createRemovedLogFilter(this)}}class TransactionReceipt{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(er,rr){this.#e=Object.freeze(er.logs.map(ir=>new Log(ir,rr)));let nr=BN_0$2;er.effectiveGasPrice!=null?nr=er.effectiveGasPrice:er.gasPrice!=null&&(nr=er.gasPrice),defineProperties(this,{provider:rr,to:er.to,from:er.from,contractAddress:er.contractAddress,hash:er.hash,index:er.index,blockHash:er.blockHash,blockNumber:er.blockNumber,logsBloom:er.logsBloom,gasUsed:er.gasUsed,cumulativeGasUsed:er.cumulativeGasUsed,blobGasUsed:er.blobGasUsed,gasPrice:nr,blobGasPrice:er.blobGasPrice,type:er.type,status:er.status,root:er.root})}get logs(){return this.#e}toJSON(){const{to:er,from:rr,contractAddress:nr,hash:ir,index:or,blockHash:sr,blockNumber:ar,logsBloom:cr,logs:lr,status:ur,root:fr}=this;return{_type:"TransactionReceipt",blockHash:sr,blockNumber:ar,contractAddress:nr,cumulativeGasUsed:toJson(this.cumulativeGasUsed),from:rr,gasPrice:toJson(this.gasPrice),blobGasUsed:toJson(this.blobGasUsed),blobGasPrice:toJson(this.blobGasPrice),gasUsed:toJson(this.gasUsed),hash:ir,index:or,logs:lr,logsBloom:cr,root:fr,status:ur,to:er}}get length(){return this.logs.length}[Symbol.iterator](){let er=0;return{next:()=>er<this.length?{value:this.logs[er++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const er=await this.provider.getBlock(this.blockHash);if(er==null)throw new Error("TODO");return er}async getTransaction(){const er=await this.provider.getTransaction(this.hash);if(er==null)throw new Error("TODO");return er}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return createRemovedTransactionFilter(this)}reorderedEvent(er){return assert$r(!er||er.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),createReorderedTransactionFilter(this,er)}}class TransactionResponse{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#e;constructor(er,rr){this.provider=rr,this.blockNumber=er.blockNumber!=null?er.blockNumber:null,this.blockHash=er.blockHash!=null?er.blockHash:null,this.hash=er.hash,this.index=er.index,this.type=er.type,this.from=er.from,this.to=er.to||null,this.gasLimit=er.gasLimit,this.nonce=er.nonce,this.data=er.data,this.value=er.value,this.gasPrice=er.gasPrice,this.maxPriorityFeePerGas=er.maxPriorityFeePerGas!=null?er.maxPriorityFeePerGas:null,this.maxFeePerGas=er.maxFeePerGas!=null?er.maxFeePerGas:null,this.maxFeePerBlobGas=er.maxFeePerBlobGas!=null?er.maxFeePerBlobGas:null,this.chainId=er.chainId,this.signature=er.signature,this.accessList=er.accessList!=null?er.accessList:null,this.blobVersionedHashes=er.blobVersionedHashes!=null?er.blobVersionedHashes:null,this.#e=-1}toJSON(){const{blockNumber:er,blockHash:rr,index:nr,hash:ir,type:or,to:sr,from:ar,nonce:cr,data:lr,signature:ur,accessList:fr,blobVersionedHashes:dr}=this;return{_type:"TransactionResponse",accessList:fr,blockNumber:er,blockHash:rr,blobVersionedHashes:dr,chainId:toJson(this.chainId),data:lr,from:ar,gasLimit:toJson(this.gasLimit),gasPrice:toJson(this.gasPrice),hash:ir,maxFeePerGas:toJson(this.maxFeePerGas),maxPriorityFeePerGas:toJson(this.maxPriorityFeePerGas),maxFeePerBlobGas:toJson(this.maxFeePerBlobGas),nonce:cr,signature:ur,to:sr,index:nr,type:or,value:toJson(this.value)}}async getBlock(){let er=this.blockNumber;if(er==null){const nr=await this.getTransaction();nr&&(er=nr.blockNumber)}if(er==null)return null;const rr=this.provider.getBlock(er);if(rr==null)throw new Error("TODO");return rr}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:rr,blockNumber:nr}=await resolveProperties({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return rr==null||rr.blockNumber==null?0:nr-rr.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(er,rr){const nr=er??1,ir=rr??0;let or=this.#e,sr=-1,ar=or===-1;const cr=async()=>{if(ar)return null;const{blockNumber:dr,nonce:gr}=await resolveProperties({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(gr<this.nonce){or=dr;return}if(ar)return null;const br=await this.getTransaction();if(!(br&&br.blockNumber!=null))for(sr===-1&&(sr=or-3,sr<this.#e&&(sr=this.#e));sr<=dr;){if(ar)return null;const vr=await this.provider.getBlock(sr,!0);if(vr==null)return;for(const $r of vr)if($r===this.hash)return;for(let $r=0;$r<vr.length;$r++){const Er=await vr.getTransaction($r);if(Er.from===this.from&&Er.nonce===this.nonce){if(ar)return null;const _r=await this.provider.getTransactionReceipt(Er.hash);if(_r==null||dr-_r.blockNumber+1<nr)return;let xr="replaced";Er.data===this.data&&Er.to===this.to&&Er.value===this.value?xr="repriced":Er.data==="0x"&&Er.from===Er.to&&Er.value===BN_0$2&&(xr="cancelled"),assert$r(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:xr==="replaced"||xr==="cancelled",reason:xr,replacement:Er.replaceableTransaction(or),hash:Er.hash,receipt:_r})}}sr++}},lr=dr=>{if(dr==null||dr.status!==0)return dr;assert$r(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:dr.to,from:dr.from,data:""},receipt:dr})},ur=await this.provider.getTransactionReceipt(this.hash);if(nr===0)return lr(ur);if(ur){if(await ur.confirmations()>=nr)return lr(ur)}else if(await cr(),nr===0)return null;return await new Promise((dr,gr)=>{const br=[],vr=()=>{br.forEach(Er=>Er())};if(br.push(()=>{ar=!0}),ir>0){const Er=setTimeout(()=>{vr(),gr(makeError("wait for transaction timeout","TIMEOUT"))},ir);br.push(()=>{clearTimeout(Er)})}const $r=async Er=>{if(await Er.confirmations()>=nr){vr();try{dr(lr(Er))}catch(_r){gr(_r)}}};if(br.push(()=>{this.provider.off(this.hash,$r)}),this.provider.on(this.hash,$r),or>=0){const Er=async()=>{try{await cr()}catch(_r){if(isError$2(_r,"TRANSACTION_REPLACED")){vr(),gr(_r);return}}ar||this.provider.once("block",Er)};br.push(()=>{this.provider.off("block",Er)}),this.provider.once("block",Er)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return assert$r(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createRemovedTransactionFilter(this)}reorderedEvent(er){return assert$r(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),assert$r(!er||er.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createReorderedTransactionFilter(this,er)}replaceableTransaction(er){assertArgument(Number.isInteger(er)&&er>=0,"invalid startBlock","startBlock",er);const rr=new TransactionResponse(this,this.provider);return rr.#e=er,rr}}function createOrphanedBlockFilter(tr){return{orphan:"drop-block",hash:tr.hash,number:tr.number}}function createReorderedTransactionFilter(tr,er){return{orphan:"reorder-transaction",tx:tr,other:er}}function createRemovedTransactionFilter(tr){return{orphan:"drop-transaction",tx:tr}}function createRemovedLogFilter(tr){return{orphan:"drop-log",log:{transactionHash:tr.transactionHash,blockHash:tr.blockHash,blockNumber:tr.blockNumber,address:tr.address,data:tr.data,topics:Object.freeze(tr.topics.slice()),index:tr.index}}}class EventLog extends Log{interface;fragment;args;constructor(er,rr,nr){super(er,er.provider);const ir=rr.decodeEventLog(nr,er.data,er.topics);defineProperties(this,{args:ir,fragment:nr,interface:rr})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class UndecodedEventLog extends Log{error;constructor(er,rr){super(er,er.provider),defineProperties(this,{error:rr})}}class ContractTransactionReceipt extends TransactionReceipt{#e;constructor(er,rr,nr){super(nr,rr),this.#e=er}get logs(){return super.logs.map(er=>{const rr=er.topics.length?this.#e.getEvent(er.topics[0]):null;if(rr)try{return new EventLog(er,this.#e,rr)}catch(nr){return new UndecodedEventLog(er,nr)}return er})}}class ContractTransactionResponse extends TransactionResponse{#e;constructor(er,rr,nr){super(nr,rr),this.#e=er}async wait(er,rr){const nr=await super.wait(er,rr);return nr==null?null:new ContractTransactionReceipt(this.#e,this.provider,nr)}}class ContractUnknownEventPayload extends EventPayload{log;constructor(er,rr,nr,ir){super(er,rr,nr),defineProperties(this,{log:ir})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ContractEventPayload extends ContractUnknownEventPayload{constructor(er,rr,nr,ir,or){super(er,rr,nr,new EventLog(or,er.interface,ir));const sr=er.interface.decodeEventLog(ir,this.log.data,this.log.topics);defineProperties(this,{args:sr,fragment:ir})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const BN_0$1=BigInt(0);function canCall(tr){return tr&&typeof tr.call=="function"}function canEstimate(tr){return tr&&typeof tr.estimateGas=="function"}function canResolve(tr){return tr&&typeof tr.resolveName=="function"}function canSend(tr){return tr&&typeof tr.sendTransaction=="function"}function getResolver(tr){if(tr!=null){if(canResolve(tr))return tr;if(tr.provider)return tr.provider}}class PreparedTopicFilter{#e;fragment;constructor(er,rr,nr){if(defineProperties(this,{fragment:rr}),rr.inputs.length<nr.length)throw new Error("too many arguments");const ir=getRunner(er.runner,"resolveName"),or=canResolve(ir)?ir:null;this.#e=async function(){const sr=await Promise.all(rr.inputs.map((ar,cr)=>nr[cr]==null?null:ar.walkAsync(nr[cr],(ur,fr)=>ur==="address"?Array.isArray(fr)?Promise.all(fr.map(dr=>resolveAddress(dr,or))):resolveAddress(fr,or):fr)));return er.interface.encodeFilterTopics(rr,sr)}()}getTopicFilter(){return this.#e}}function getRunner(tr,er){return tr==null?null:typeof tr[er]=="function"?tr:tr.provider&&typeof tr.provider[er]=="function"?tr.provider:null}function getProvider$1(tr){return tr==null?null:tr.provider||null}async function copyOverrides(tr,er){const rr=Typed.dereference(tr,"overrides");assertArgument(typeof rr=="object","invalid overrides parameter","overrides",tr);const nr=copyRequest(rr);return assertArgument(nr.to==null||(er||[]).indexOf("to")>=0,"cannot override to","overrides.to",nr.to),assertArgument(nr.data==null||(er||[]).indexOf("data")>=0,"cannot override data","overrides.data",nr.data),nr.from&&(nr.from=nr.from),nr}async function resolveArgs(tr,er,rr){const nr=getRunner(tr,"resolveName"),ir=canResolve(nr)?nr:null;return await Promise.all(er.map((or,sr)=>or.walkAsync(rr[sr],(ar,cr)=>(cr=Typed.dereference(cr,ar),ar==="address"?resolveAddress(cr,ir):cr))))}function buildWrappedFallback(tr){const er=async function(sr){const ar=await copyOverrides(sr,["data"]);ar.to=await tr.getAddress(),ar.from&&(ar.from=await resolveAddress(ar.from,getResolver(tr.runner)));const cr=tr.interface,lr=getBigInt(ar.value||BN_0$1,"overrides.value")===BN_0$1,ur=(ar.data||"0x")==="0x";cr.fallback&&!cr.fallback.payable&&cr.receive&&!ur&&!lr&&assertArgument(!1,"cannot send data to receive or send value to non-payable fallback","overrides",sr),assertArgument(cr.fallback||ur,"cannot send data to receive-only contract","overrides.data",ar.data);const fr=cr.receive||cr.fallback&&cr.fallback.payable;return assertArgument(fr||lr,"cannot send value to non-payable fallback","overrides.value",ar.value),assertArgument(cr.fallback||ur,"cannot send data to receive-only contract","overrides.data",ar.data),ar},rr=async function(sr){const ar=getRunner(tr.runner,"call");assert$r(canCall(ar),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const cr=await er(sr);try{return await ar.call(cr)}catch(lr){throw isCallException(lr)&&lr.data?tr.interface.makeError(lr.data,cr):lr}},nr=async function(sr){const ar=tr.runner;assert$r(canSend(ar),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const cr=await ar.sendTransaction(await er(sr)),lr=getProvider$1(tr.runner);return new ContractTransactionResponse(tr.interface,lr,cr)},ir=async function(sr){const ar=getRunner(tr.runner,"estimateGas");return assert$r(canEstimate(ar),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await ar.estimateGas(await er(sr))},or=async sr=>await nr(sr);return defineProperties(or,{_contract:tr,estimateGas:ir,populateTransaction:er,send:nr,staticCall:rr}),or}function buildWrappedMethod(tr,er){const rr=function(...lr){const ur=tr.interface.getFunction(er,lr);return assert$r(ur,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:er,args:lr}}),ur},nr=async function(...lr){const ur=rr(...lr);let fr={};if(ur.inputs.length+1===lr.length&&(fr=await copyOverrides(lr.pop()),fr.from&&(fr.from=await resolveAddress(fr.from,getResolver(tr.runner)))),ur.inputs.length!==lr.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const dr=await resolveArgs(tr.runner,ur.inputs,lr);return Object.assign({},fr,await resolveProperties({to:tr.getAddress(),data:tr.interface.encodeFunctionData(ur,dr)}))},ir=async function(...lr){const ur=await ar(...lr);return ur.length===1?ur[0]:ur},or=async function(...lr){const ur=tr.runner;assert$r(canSend(ur),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const fr=await ur.sendTransaction(await nr(...lr)),dr=getProvider$1(tr.runner);return new ContractTransactionResponse(tr.interface,dr,fr)},sr=async function(...lr){const ur=getRunner(tr.runner,"estimateGas");return assert$r(canEstimate(ur),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await ur.estimateGas(await nr(...lr))},ar=async function(...lr){const ur=getRunner(tr.runner,"call");assert$r(canCall(ur),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const fr=await nr(...lr);let dr="0x";try{dr=await ur.call(fr)}catch(br){throw isCallException(br)&&br.data?tr.interface.makeError(br.data,fr):br}const gr=rr(...lr);return tr.interface.decodeFunctionResult(gr,dr)},cr=async(...lr)=>rr(...lr).constant?await ir(...lr):await or(...lr);return defineProperties(cr,{name:tr.interface.getFunctionName(er),_contract:tr,_key:er,getFragment:rr,estimateGas:sr,populateTransaction:nr,send:or,staticCall:ir,staticCallResult:ar}),Object.defineProperty(cr,"fragment",{configurable:!1,enumerable:!0,get:()=>{const lr=tr.interface.getFunction(er);return assert$r(lr,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:er}}),lr}}),cr}function buildWrappedEvent(tr,er){const rr=function(...ir){const or=tr.interface.getEvent(er,ir);return assert$r(or,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:er,args:ir}}),or},nr=function(...ir){return new PreparedTopicFilter(tr,rr(...ir),ir)};return defineProperties(nr,{name:tr.interface.getEventName(er),_contract:tr,_key:er,getFragment:rr}),Object.defineProperty(nr,"fragment",{configurable:!1,enumerable:!0,get:()=>{const ir=tr.interface.getEvent(er);return assert$r(ir,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:er}}),ir}}),nr}const internal$1=Symbol.for("_ethersInternal_contract"),internalValues=new WeakMap;function setInternal(tr,er){internalValues.set(tr[internal$1],er)}function getInternal(tr){return internalValues.get(tr[internal$1])}function isDeferred(tr){return tr&&typeof tr=="object"&&"getTopicFilter"in tr&&typeof tr.getTopicFilter=="function"&&tr.fragment}async function getSubInfo(tr,er){let rr,nr=null;if(Array.isArray(er)){const or=function(sr){if(isHexString$6(sr,32))return sr;const ar=tr.interface.getEvent(sr);return assertArgument(ar,"unknown fragment","name",sr),ar.topicHash};rr=er.map(sr=>sr==null?null:Array.isArray(sr)?sr.map(or):or(sr))}else er==="*"?rr=[null]:typeof er=="string"?isHexString$6(er,32)?rr=[er]:(nr=tr.interface.getEvent(er),assertArgument(nr,"unknown fragment","event",er),rr=[nr.topicHash]):isDeferred(er)?rr=await er.getTopicFilter():"fragment"in er?(nr=er.fragment,rr=[nr.topicHash]):assertArgument(!1,"unknown event name","event",er);rr=rr.map(or=>{if(or==null)return null;if(Array.isArray(or)){const sr=Array.from(new Set(or.map(ar=>ar.toLowerCase())).values());return sr.length===1?sr[0]:(sr.sort(),sr)}return or.toLowerCase()});const ir=rr.map(or=>or==null?"null":Array.isArray(or)?or.join("|"):or).join("&");return{fragment:nr,tag:ir,topics:rr}}async function hasSub(tr,er){const{subs:rr}=getInternal(tr);return rr.get((await getSubInfo(tr,er)).tag)||null}async function getSub(tr,er,rr){const nr=getProvider$1(tr.runner);assert$r(nr,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:er});const{fragment:ir,tag:or,topics:sr}=await getSubInfo(tr,rr),{addr:ar,subs:cr}=getInternal(tr);let lr=cr.get(or);if(!lr){const fr={address:ar||tr,topics:sr},dr=$r=>{let Er=ir;if(Er==null)try{Er=tr.interface.getEvent($r.topics[0])}catch{}if(Er){const _r=Er,xr=ir?tr.interface.decodeEventLog(ir,$r.data,$r.topics):[];emit(tr,rr,xr,Ir=>new ContractEventPayload(tr,Ir,rr,_r,$r))}else emit(tr,rr,[],_r=>new ContractUnknownEventPayload(tr,_r,rr,$r))};let gr=[];lr={tag:or,listeners:[],start:()=>{gr.length||gr.push(nr.on(fr,dr))},stop:async()=>{if(gr.length==0)return;let $r=gr;gr=[],await Promise.all($r),nr.off(fr,dr)}},cr.set(or,lr)}return lr}let lastEmit=Promise.resolve();async function _emit(tr,er,rr,nr){await lastEmit;const ir=await hasSub(tr,er);if(!ir)return!1;const or=ir.listeners.length;return ir.listeners=ir.listeners.filter(({listener:sr,once:ar})=>{const cr=Array.from(rr);nr&&cr.push(nr(ar?null:sr));try{sr.call(tr,...cr)}catch{}return!ar}),ir.listeners.length===0&&(ir.stop(),getInternal(tr).subs.delete(ir.tag)),or>0}async function emit(tr,er,rr,nr){try{await lastEmit}catch{}const ir=_emit(tr,er,rr,nr);return lastEmit=ir,await ir}const passProperties=["then"];class BaseContract{target;interface;runner;filters;[internal$1];fallback;constructor(er,rr,nr,ir){assertArgument(typeof er=="string"||isAddressable(er),"invalid value for Contract target","target",er),nr==null&&(nr=null);const or=Interface.from(rr);defineProperties(this,{target:er,runner:nr,interface:or}),Object.defineProperty(this,internal$1,{value:{}});let sr,ar=null,cr=null;if(ir){const fr=getProvider$1(nr);cr=new ContractTransactionResponse(this.interface,fr,ir)}let lr=new Map;if(typeof er=="string")if(isHexString$6(er))ar=er,sr=Promise.resolve(er);else{const fr=getRunner(nr,"resolveName");if(!canResolve(fr))throw makeError("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});sr=fr.resolveName(er).then(dr=>{if(dr==null)throw makeError("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:er});return getInternal(this).addr=dr,dr})}else sr=er.getAddress().then(fr=>{if(fr==null)throw new Error("TODO");return getInternal(this).addr=fr,fr});setInternal(this,{addrPromise:sr,addr:ar,deployTx:cr,subs:lr});const ur=new Proxy({},{get:(fr,dr,gr)=>{if(typeof dr=="symbol"||passProperties.indexOf(dr)>=0)return Reflect.get(fr,dr,gr);try{return this.getEvent(dr)}catch(br){if(!isError$2(br,"INVALID_ARGUMENT")||br.argument!=="key")throw br}},has:(fr,dr)=>passProperties.indexOf(dr)>=0?Reflect.has(fr,dr):Reflect.has(fr,dr)||this.interface.hasEvent(String(dr))});return defineProperties(this,{filters:ur}),defineProperties(this,{fallback:or.receive||or.fallback?buildWrappedFallback(this):null}),new Proxy(this,{get:(fr,dr,gr)=>{if(typeof dr=="symbol"||dr in fr||passProperties.indexOf(dr)>=0)return Reflect.get(fr,dr,gr);try{return fr.getFunction(dr)}catch(br){if(!isError$2(br,"INVALID_ARGUMENT")||br.argument!=="key")throw br}},has:(fr,dr)=>typeof dr=="symbol"||dr in fr||passProperties.indexOf(dr)>=0?Reflect.has(fr,dr):fr.interface.hasFunction(dr)})}connect(er){return new BaseContract(this.target,this.interface,er)}attach(er){return new BaseContract(er,this.interface,this.runner)}async getAddress(){return await getInternal(this).addrPromise}async getDeployedCode(){const er=getProvider$1(this.runner);assert$r(er,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const rr=await er.getCode(await this.getAddress());return rr==="0x"?null:rr}async waitForDeployment(){const er=this.deploymentTransaction();if(er)return await er.wait(),this;if(await this.getDeployedCode()!=null)return this;const nr=getProvider$1(this.runner);return assert$r(nr!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((ir,or)=>{const sr=async()=>{try{if(await this.getDeployedCode()!=null)return ir(this);nr.once("block",sr)}catch(ar){or(ar)}};sr()})}deploymentTransaction(){return getInternal(this).deployTx}getFunction(er){return typeof er!="string"&&(er=er.format()),buildWrappedMethod(this,er)}getEvent(er){return typeof er!="string"&&(er=er.format()),buildWrappedEvent(this,er)}async queryTransaction(er){throw new Error("@TODO")}async queryFilter(er,rr,nr){rr==null&&(rr=0),nr==null&&(nr="latest");const{addr:ir,addrPromise:or}=getInternal(this),sr=ir||await or,{fragment:ar,topics:cr}=await getSubInfo(this,er),lr={address:sr,topics:cr,fromBlock:rr,toBlock:nr},ur=getProvider$1(this.runner);return assert$r(ur,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await ur.getLogs(lr)).map(fr=>{let dr=ar;if(dr==null)try{dr=this.interface.getEvent(fr.topics[0])}catch{}if(dr)try{return new EventLog(fr,this.interface,dr)}catch(gr){return new UndecodedEventLog(fr,gr)}return new Log(fr,ur)})}async on(er,rr){const nr=await getSub(this,"on",er);return nr.listeners.push({listener:rr,once:!1}),nr.start(),this}async once(er,rr){const nr=await getSub(this,"once",er);return nr.listeners.push({listener:rr,once:!0}),nr.start(),this}async emit(er,...rr){return await emit(this,er,rr,null)}async listenerCount(er){if(er){const ir=await hasSub(this,er);return ir?ir.listeners.length:0}const{subs:rr}=getInternal(this);let nr=0;for(const{listeners:ir}of rr.values())nr+=ir.length;return nr}async listeners(er){if(er){const ir=await hasSub(this,er);return ir?ir.listeners.map(({listener:or})=>or):[]}const{subs:rr}=getInternal(this);let nr=[];for(const{listeners:ir}of rr.values())nr=nr.concat(ir.map(({listener:or})=>or));return nr}async off(er,rr){const nr=await hasSub(this,er);if(!nr)return this;if(rr){const ir=nr.listeners.map(({listener:or})=>or).indexOf(rr);ir>=0&&nr.listeners.splice(ir,1)}return(rr==null||nr.listeners.length===0)&&(nr.stop(),getInternal(this).subs.delete(nr.tag)),this}async removeAllListeners(er){if(er){const rr=await hasSub(this,er);if(!rr)return this;rr.stop(),getInternal(this).subs.delete(rr.tag)}else{const{subs:rr}=getInternal(this);for(const{tag:nr,stop:ir}of rr.values())ir(),rr.delete(nr)}return this}async addListener(er,rr){return await this.on(er,rr)}async removeListener(er,rr){return await this.off(er,rr)}static buildClass(er){class rr extends BaseContract{constructor(ir,or=null){super(ir,er,or)}}return rr}static from(er,rr,nr){return nr==null&&(nr=null),new this(er,rr,nr)}}function _ContractBase(){return BaseContract}class Contract extends _ContractBase(){}function getIpfsLink(tr){return tr.match(/^ipfs:\/\/ipfs\//i)?tr=tr.substring(12):tr.match(/^ipfs:\/\//i)?tr=tr.substring(7):assertArgument(!1,"unsupported IPFS format","link",tr),`https://gateway.ipfs.io/ipfs/${tr}`}class MulticoinProviderPlugin{name;constructor(er){defineProperties(this,{name:er})}connect(er){return this}supportsCoinType(er){return!1}async encodeAddress(er,rr){throw new Error("unsupported coin")}async decodeAddress(er,rr){throw new Error("unsupported coin")}}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class EnsResolver{provider;address;name;#e;#t;constructor(er,rr,nr){defineProperties(this,{provider:er,address:rr,name:nr}),this.#e=null,this.#t=new Contract(rr,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],er)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(er){if(isError$2(er,"CALL_EXCEPTION"))return!1;throw this.#e=null,er}})()),await this.#e}async#r(er,rr){rr=(rr||[]).slice();const nr=this.#t.interface;rr.unshift(namehash(this.name));let ir=null;await this.supportsWildcard()&&(ir=nr.getFunction(er),assert$r(ir,"missing fragment","UNKNOWN_ERROR",{info:{funcName:er}}),rr=[dnsEncode(this.name,255),nr.encodeFunctionData(ir,rr)],er="resolve(bytes,bytes)"),rr.push({enableCcipRead:!0});try{const or=await this.#t[er](...rr);return ir?nr.decodeFunctionResult(ir,or)[0]:or}catch(or){if(!isError$2(or,"CALL_EXCEPTION"))throw or}return null}async getAddress(er){if(er==null&&(er=60),er===60)try{const or=await this.#r("addr(bytes32)");return or==null||or===ZeroAddress?null:or}catch(or){if(isError$2(or,"CALL_EXCEPTION"))return null;throw or}if(er>=0&&er<2147483648){let or=er+2147483648;const sr=await this.#r("addr(bytes32,uint)",[or]);if(isHexString$6(sr,20))return getAddress$1(sr)}let rr=null;for(const or of this.provider.plugins)if(or instanceof MulticoinProviderPlugin&&or.supportsCoinType(er)){rr=or;break}if(rr==null)return null;const nr=await this.#r("addr(bytes32,uint)",[er]);if(nr==null||nr==="0x")return null;const ir=await rr.decodeAddress(er,nr);if(ir!=null)return ir;assert$r(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${er})`,info:{coinType:er,data:nr}})}async getText(er){const rr=await this.#r("text(bytes32,string)",[er]);return rr==null||rr==="0x"?null:rr}async getContentHash(){const er=await this.#r("contenthash(bytes32)");if(er==null||er==="0x")return null;const rr=er.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(rr){const ir=rr[1]==="e3010170"?"ipfs":"ipns",or=parseInt(rr[4],16);if(rr[5].length===or*2)return`${ir}://${encodeBase58("0x"+rr[2])}`}const nr=er.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(nr&&nr[1].length===64)return`bzz://${nr[1]}`;assert$r(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:er}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const er=[{type:"name",value:this.name}];try{const rr=await this.getText("avatar");if(rr==null)return er.push({type:"!avatar",value:""}),{url:null,linkage:er};er.push({type:"avatar",value:rr});for(let nr=0;nr<matchers.length;nr++){const ir=rr.match(matchers[nr]);if(ir==null)continue;const or=ir[1].toLowerCase();switch(or){case"https":case"data":return er.push({type:"url",value:rr}),{linkage:er,url:rr};case"ipfs":{const sr=getIpfsLink(rr);return er.push({type:"ipfs",value:rr}),er.push({type:"url",value:sr}),{linkage:er,url:sr}}case"erc721":case"erc1155":{const sr=or==="erc721"?"tokenURI(uint256)":"uri(uint256)";er.push({type:or,value:rr});const ar=await this.getAddress();if(ar==null)return er.push({type:"!owner",value:""}),{url:null,linkage:er};const cr=(ir[2]||"").split("/");if(cr.length!==2)return er.push({type:`!${or}caip`,value:ir[2]||""}),{url:null,linkage:er};const lr=cr[1],ur=new Contract(cr[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(or==="erc721"){const vr=await ur.ownerOf(lr);if(ar!==vr)return er.push({type:"!owner",value:vr}),{url:null,linkage:er};er.push({type:"owner",value:vr})}else if(or==="erc1155"){const vr=await ur.balanceOf(ar,lr);if(!vr)return er.push({type:"!balance",value:"0"}),{url:null,linkage:er};er.push({type:"balance",value:vr.toString()})}let fr=await ur[sr](lr);if(fr==null||fr==="0x")return er.push({type:"!metadata-url",value:""}),{url:null,linkage:er};er.push({type:"metadata-url-base",value:fr}),or==="erc1155"&&(fr=fr.replace("{id}",toBeHex(lr,32).substring(2)),er.push({type:"metadata-url-expanded",value:fr})),fr.match(/^ipfs:/i)&&(fr=getIpfsLink(fr)),er.push({type:"metadata-url",value:fr});let dr={};const gr=await new FetchRequest(fr).send();gr.assertOk();try{dr=gr.bodyJson}catch{try{er.push({type:"!metadata",value:gr.bodyText})}catch{const Er=gr.body;return Er&&er.push({type:"!metadata",value:hexlify(Er)}),{url:null,linkage:er}}return{url:null,linkage:er}}if(!dr)return er.push({type:"!metadata",value:""}),{url:null,linkage:er};er.push({type:"metadata",value:JSON.stringify(dr)});let br=dr.image;if(typeof br!="string")return er.push({type:"!imageUrl",value:""}),{url:null,linkage:er};if(!br.match(/^(https:\/\/|data:)/i)){if(br.match(matcherIpfs)==null)return er.push({type:"!imageUrl-ipfs",value:br}),{url:null,linkage:er};er.push({type:"imageUrl-ipfs",value:br}),br=getIpfsLink(br)}return er.push({type:"url",value:br}),{linkage:er,url:br}}}}}catch{}return{linkage:er,url:null}}static async getEnsAddress(er){const rr=await er.getNetwork(),nr=rr.getPlugin("org.ethers.plugins.network.Ens");return assert$r(nr,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:rr}}),nr.address}static async#n(er,rr){const nr=await EnsResolver.getEnsAddress(er);try{const or=await new Contract(nr,["function resolver(bytes32) view returns (address)"],er).resolver(namehash(rr),{enableCcipRead:!0});return or===ZeroAddress?null:or}catch(ir){throw ir}return null}static async fromName(er,rr){let nr=rr;for(;;){if(nr===""||nr==="."||rr!=="eth"&&nr==="eth")return null;const ir=await EnsResolver.#n(er,nr);if(ir!=null){const or=new EnsResolver(er,ir,rr);return nr!==rr&&!await or.supportsWildcard()?null:or}nr=nr.split(".").slice(1).join(".")}}}const BN_0=BigInt(0);function allowNull(tr,er){return function(rr){return rr==null?er:tr(rr)}}function arrayOf(tr,er){return rr=>{if(er&&rr==null)return null;if(!Array.isArray(rr))throw new Error("not an array");return rr.map(nr=>tr(nr))}}function object$1(tr,er){return rr=>{const nr={};for(const ir in tr){let or=ir;if(er&&ir in er&&!(or in rr)){for(const sr of er[ir])if(sr in rr){or=sr;break}}try{const sr=tr[ir](rr[or]);sr!==void 0&&(nr[ir]=sr)}catch(sr){const ar=sr instanceof Error?sr.message:"not-an-error";assert$r(!1,`invalid value for value.${ir} (${ar})`,"BAD_DATA",{value:rr})}}return nr}}function formatBoolean(tr){switch(tr){case!0:case"true":return!0;case!1:case"false":return!1}assertArgument(!1,`invalid boolean; ${JSON.stringify(tr)}`,"value",tr)}function formatData(tr){return assertArgument(isHexString$6(tr,!0),"invalid data","value",tr),tr}function formatHash(tr){return assertArgument(isHexString$6(tr,32),"invalid hash","value",tr),tr}const _formatLog=object$1({address:getAddress$1,blockHash:formatHash,blockNumber:getNumber,data:formatData,index:getNumber,removed:allowNull(formatBoolean,!1),topics:arrayOf(formatHash),transactionHash:formatHash,transactionIndex:getNumber},{index:["logIndex"]});function formatLog(tr){return _formatLog(tr)}const _formatBlock=object$1({hash:allowNull(formatHash),parentHash:formatHash,parentBeaconBlockRoot:allowNull(formatHash,null),number:getNumber,timestamp:getNumber,nonce:allowNull(formatData),difficulty:getBigInt,gasLimit:getBigInt,gasUsed:getBigInt,stateRoot:allowNull(formatHash,null),receiptsRoot:allowNull(formatHash,null),blobGasUsed:allowNull(getBigInt,null),excessBlobGas:allowNull(getBigInt,null),miner:allowNull(getAddress$1),prevRandao:allowNull(formatHash,null),extraData:formatData,baseFeePerGas:allowNull(getBigInt)},{prevRandao:["mixHash"]});function formatBlock(tr){const er=_formatBlock(tr);return er.transactions=tr.transactions.map(rr=>typeof rr=="string"?rr:formatTransactionResponse(rr)),er}const _formatReceiptLog=object$1({transactionIndex:getNumber,blockNumber:getNumber,transactionHash:formatHash,address:getAddress$1,topics:arrayOf(formatHash),data:formatData,index:getNumber,blockHash:formatHash},{index:["logIndex"]});function formatReceiptLog(tr){return _formatReceiptLog(tr)}const _formatTransactionReceipt=object$1({to:allowNull(getAddress$1,null),from:allowNull(getAddress$1,null),contractAddress:allowNull(getAddress$1,null),index:getNumber,root:allowNull(hexlify),gasUsed:getBigInt,blobGasUsed:allowNull(getBigInt,null),logsBloom:allowNull(formatData),blockHash:formatHash,hash:formatHash,logs:arrayOf(formatReceiptLog),blockNumber:getNumber,cumulativeGasUsed:getBigInt,effectiveGasPrice:allowNull(getBigInt),blobGasPrice:allowNull(getBigInt,null),status:allowNull(getNumber),type:allowNull(getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function formatTransactionReceipt(tr){return _formatTransactionReceipt(tr)}function formatTransactionResponse(tr){tr.to&&getBigInt(tr.to)===BN_0&&(tr.to="0x0000000000000000000000000000000000000000");const er=object$1({hash:formatHash,index:allowNull(getNumber,void 0),type:rr=>rr==="0x"||rr==null?0:getNumber(rr),accessList:allowNull(accessListify,null),blobVersionedHashes:allowNull(arrayOf(formatHash,!0),null),blockHash:allowNull(formatHash,null),blockNumber:allowNull(getNumber,null),transactionIndex:allowNull(getNumber,null),from:getAddress$1,gasPrice:allowNull(getBigInt),maxPriorityFeePerGas:allowNull(getBigInt),maxFeePerGas:allowNull(getBigInt),maxFeePerBlobGas:allowNull(getBigInt,null),gasLimit:getBigInt,to:allowNull(getAddress$1,null),value:getBigInt,nonce:getNumber,data:formatData,creates:allowNull(getAddress$1,null),chainId:allowNull(getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(tr);if(er.to==null&&er.creates==null&&(er.creates=getCreateAddress(er)),(tr.type===1||tr.type===2)&&tr.accessList==null&&(er.accessList=[]),tr.signature?er.signature=Signature$6.from(tr.signature):er.signature=Signature$6.from(tr),er.chainId==null){const rr=er.signature.legacyChainId;rr!=null&&(er.chainId=rr)}return er.blockHash&&getBigInt(er.blockHash)===BN_0&&(er.blockHash=null),er}const EnsAddress="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class NetworkPlugin{name;constructor(er){defineProperties(this,{name:er})}clone(){return new NetworkPlugin(this.name)}}class GasCostPlugin extends NetworkPlugin{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(er,rr){er==null&&(er=0),super(`org.ethers.network.plugins.GasCost#${er||0}`);const nr={effectiveBlock:er};function ir(or,sr){let ar=(rr||{})[or];ar==null&&(ar=sr),assertArgument(typeof ar=="number",`invalud value for ${or}`,"costs",rr),nr[or]=ar}ir("txBase",21e3),ir("txCreate",32e3),ir("txDataZero",4),ir("txDataNonzero",16),ir("txAccessListStorageKey",1900),ir("txAccessListAddress",2400),defineProperties(this,nr)}clone(){return new GasCostPlugin(this.effectiveBlock,this)}}class EnsPlugin extends NetworkPlugin{address;targetNetwork;constructor(er,rr){super("org.ethers.plugins.network.Ens"),defineProperties(this,{address:er||EnsAddress,targetNetwork:rr??1})}clone(){return new EnsPlugin(this.address,this.targetNetwork)}}class FetchUrlFeeDataNetworkPlugin extends NetworkPlugin{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(er,rr){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=er,this.#t=rr}clone(){return this}}const Networks=new Map;class Network{#e;#t;#r;constructor(er,rr){this.#e=er,this.#t=getBigInt(rr),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(er){this.#e=er}get chainId(){return this.#t}set chainId(er){this.#t=getBigInt(er,"chainId")}matches(er){if(er==null)return!1;if(typeof er=="string"){try{return this.chainId===getBigInt(er)}catch{}return this.name===er}if(typeof er=="number"||typeof er=="bigint"){try{return this.chainId===getBigInt(er)}catch{}return!1}if(typeof er=="object"){if(er.chainId!=null){try{return this.chainId===getBigInt(er.chainId)}catch{}return!1}return er.name!=null?this.name===er.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(er){if(this.#r.get(er.name))throw new Error(`cannot replace existing plugin: ${er.name} `);return this.#r.set(er.name,er.clone()),this}getPlugin(er){return this.#r.get(er)||null}getPlugins(er){return this.plugins.filter(rr=>rr.name.split("#")[0]===er)}clone(){const er=new Network(this.name,this.chainId);return this.plugins.forEach(rr=>{er.attachPlugin(rr.clone())}),er}computeIntrinsicGas(er){const rr=this.getPlugin("org.ethers.plugins.network.GasCost")||new GasCostPlugin;let nr=rr.txBase;if(er.to==null&&(nr+=rr.txCreate),er.data)for(let ir=2;ir<er.data.length;ir+=2)er.data.substring(ir,ir+2)==="00"?nr+=rr.txDataZero:nr+=rr.txDataNonzero;if(er.accessList){const ir=accessListify(er.accessList);for(const or in ir)nr+=rr.txAccessListAddress+rr.txAccessListStorageKey*ir[or].storageKeys.length}return nr}static from(er){if(injectCommonNetworks(),er==null)return Network.from("mainnet");if(typeof er=="number"&&(er=BigInt(er)),typeof er=="string"||typeof er=="bigint"){const rr=Networks.get(er);if(rr)return rr();if(typeof er=="bigint")return new Network("unknown",er);assertArgument(!1,"unknown network","network",er)}if(typeof er.clone=="function")return er.clone();if(typeof er=="object"){assertArgument(typeof er.name=="string"&&typeof er.chainId=="number","invalid network object name or chainId","network",er);const rr=new Network(er.name,er.chainId);return(er.ensAddress||er.ensNetwork!=null)&&rr.attachPlugin(new EnsPlugin(er.ensAddress,er.ensNetwork)),rr}assertArgument(!1,"invalid network","network",er)}static register(er,rr){typeof er=="number"&&(er=BigInt(er));const nr=Networks.get(er);nr&&assertArgument(!1,`conflicting network for ${JSON.stringify(nr.name)}`,"nameOrChainId",er),Networks.set(er,rr)}}function parseUnits(tr,er){const rr=String(tr);if(!rr.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${tr}`);const nr=rr.split(".");if(nr.length===1&&nr.push(""),nr.length!==2)throw new Error(`invalid gwei value: ${tr}`);for(;nr[1].length<er;)nr[1]+="0";if(nr[1].length>9){let ir=BigInt(nr[1].substring(0,9));nr[1].substring(9).match(/^0+$/)||ir++,nr[1]=ir.toString()}return BigInt(nr[0]+nr[1])}function getGasStationPlugin(tr){return new FetchUrlFeeDataNetworkPlugin(tr,async(er,rr,nr)=>{nr.setHeader("User-Agent","ethers");let ir;try{const[or,sr]=await Promise.all([nr.send(),er()]);ir=or;const ar=ir.bodyJson.standard;return{gasPrice:sr.gasPrice,maxFeePerGas:parseUnits(ar.maxFee,9),maxPriorityFeePerGas:parseUnits(ar.maxPriorityFee,9)}}catch(or){assert$r(!1,`error encountered with polygon gas station (${JSON.stringify(nr.url)})`,"SERVER_ERROR",{request:nr,response:ir,error:or})}})}let injected=!1;function injectCommonNetworks(){if(injected)return;injected=!0;function tr(er,rr,nr){const ir=function(){const or=new Network(er,rr);return nr.ensNetwork!=null&&or.attachPlugin(new EnsPlugin(null,nr.ensNetwork)),or.attachPlugin(new GasCostPlugin),(nr.plugins||[]).forEach(sr=>{or.attachPlugin(sr)}),or};Network.register(er,ir),Network.register(rr,ir),nr.altNames&&nr.altNames.forEach(or=>{Network.register(or,ir)})}tr("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),tr("ropsten",3,{ensNetwork:3}),tr("rinkeby",4,{ensNetwork:4}),tr("goerli",5,{ensNetwork:5}),tr("kovan",42,{ensNetwork:42}),tr("sepolia",11155111,{ensNetwork:11155111}),tr("holesky",17e3,{ensNetwork:17e3}),tr("classic",61,{}),tr("classicKotti",6,{}),tr("arbitrum",42161,{ensNetwork:1}),tr("arbitrum-goerli",421613,{}),tr("arbitrum-sepolia",421614,{}),tr("base",8453,{ensNetwork:1}),tr("base-goerli",84531,{}),tr("base-sepolia",84532,{}),tr("bnb",56,{ensNetwork:1}),tr("bnbt",97,{}),tr("linea",59144,{ensNetwork:1}),tr("linea-goerli",59140,{}),tr("linea-sepolia",59141,{}),tr("matic",137,{ensNetwork:1,plugins:[getGasStationPlugin("https://gasstation.polygon.technology/v2")]}),tr("matic-amoy",80002,{}),tr("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[getGasStationPlugin("https://gasstation-testnet.polygon.technology/v2")]}),tr("optimism",10,{ensNetwork:1,plugins:[]}),tr("optimism-goerli",420,{}),tr("optimism-sepolia",11155420,{}),tr("xdai",100,{ensNetwork:1})}function copy$6(tr){return JSON.parse(JSON.stringify(tr))}class PollingBlockSubscriber{#e;#t;#r;#n;constructor(er){this.#e=er,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(er){this.#r=er}async#i(){try{const er=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=er;return}if(er!==this.#n){for(let rr=this.#n+1;rr<=er;rr++){if(this.#t==null)return;await this.#e.emit("block",rr)}this.#n=er}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#i.bind(this),this.#r),this.#i())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(er){this.stop(),er&&(this.#n=-2)}resume(){this.start()}}class OnBlockSubscriber{#e;#t;#r;constructor(er){this.#e=er,this.#r=!1,this.#t=rr=>{this._poll(rr,this.#e)}}async _poll(er,rr){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(er){this.stop()}resume(){this.start()}}class PollingBlockTagSubscriber extends OnBlockSubscriber{#e;#t;constructor(er,rr){super(er),this.#e=rr,this.#t=-2}pause(er){er&&(this.#t=-2),super.pause(er)}async _poll(er,rr){const nr=await rr.getBlock(this.#e);nr!=null&&(this.#t===-2?this.#t=nr.number:nr.number>this.#t&&(rr.emit(this.#e,nr.number),this.#t=nr.number))}}class PollingOrphanSubscriber extends OnBlockSubscriber{#e;constructor(er,rr){super(er),this.#e=copy$6(rr)}async _poll(er,rr){throw new Error("@TODO")}}class PollingTransactionSubscriber extends OnBlockSubscriber{#e;constructor(er,rr){super(er),this.#e=rr}async _poll(er,rr){const nr=await rr.getTransactionReceipt(this.#e);nr&&rr.emit(this.#e,nr)}}class PollingEventSubscriber{#e;#t;#r;#n;#i;constructor(er,rr){this.#e=er,this.#t=copy$6(rr),this.#r=this.#s.bind(this),this.#n=!1,this.#i=-2}async#s(er){if(this.#i===-2)return;const rr=copy$6(this.#t);rr.fromBlock=this.#i+1,rr.toBlock=er;const nr=await this.#e.getLogs(rr);if(nr.length===0){this.#i<er-60&&(this.#i=er-60);return}for(const ir of nr)this.#e.emit(this.#t,ir),this.#i=ir.blockNumber}start(){this.#n||(this.#n=!0,this.#i===-2&&this.#e.getBlockNumber().then(er=>{this.#i=er}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(er){this.stop(),er&&(this.#i=-2)}resume(){this.start()}}const BN_2=BigInt(2),MAX_CCIP_REDIRECTS=10;function isPromise(tr){return tr&&typeof tr.then=="function"}function getTag$3(tr,er){return tr+":"+JSON.stringify(er,(rr,nr)=>{if(nr==null)return"null";if(typeof nr=="bigint")return`bigint:${nr.toString()}`;if(typeof nr=="string")return nr.toLowerCase();if(typeof nr=="object"&&!Array.isArray(nr)){const ir=Object.keys(nr);return ir.sort(),ir.reduce((or,sr)=>(or[sr]=nr[sr],or),{})}return nr})}class UnmanagedSubscriber{name;constructor(er){defineProperties(this,{name:er})}start(){}stop(){}pause(er){}resume(){}}function copy$5(tr){return JSON.parse(JSON.stringify(tr))}function concisify(tr){return tr=Array.from(new Set(tr).values()),tr.sort(),tr}async function getSubscription(tr,er){if(tr==null)throw new Error("invalid event");if(Array.isArray(tr)&&(tr={topics:tr}),typeof tr=="string")switch(tr){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:tr,tag:tr}}if(isHexString$6(tr,32)){const rr=tr.toLowerCase();return{type:"transaction",tag:getTag$3("tx",{hash:rr}),hash:rr}}if(tr.orphan){const rr=tr;return{type:"orphan",tag:getTag$3("orphan",rr),filter:copy$5(rr)}}if(tr.address||tr.topics){const rr=tr,nr={topics:(rr.topics||[]).map(ir=>ir==null?null:Array.isArray(ir)?concisify(ir.map(or=>or.toLowerCase())):ir.toLowerCase())};if(rr.address){const ir=[],or=[],sr=ar=>{isHexString$6(ar)?ir.push(ar):or.push((async()=>{ir.push(await resolveAddress(ar,er))})())};Array.isArray(rr.address)?rr.address.forEach(sr):sr(rr.address),or.length&&await Promise.all(or),nr.address=concisify(ir.map(ar=>ar.toLowerCase()))}return{filter:nr,tag:getTag$3("event",nr),type:"event"}}assertArgument(!1,"unknown ProviderEvent","event",tr)}function getTime(){return new Date().getTime()}const defaultOptions$3={cacheTimeout:250,pollingInterval:4e3};class AbstractProvider{#e;#t;#r;#n;#i;#s;#o;#a;#f;#l;#p;#g;constructor(er,rr){if(this.#g=Object.assign({},defaultOptions$3,rr||{}),er==="any")this.#s=!0,this.#i=null;else if(er){const nr=Network.from(er);this.#s=!1,this.#i=Promise.resolve(nr),setTimeout(()=>{this.emit("network",nr,null)},0)}else this.#s=!1,this.#i=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#f=1,this.#l=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(er){if(this.#t.get(er.name))throw new Error(`cannot replace existing plugin: ${er.name} `);return this.#t.set(er.name,er.connect(this)),this}getPlugin(er){return this.#t.get(er)||null}get disableCcipRead(){return this.#p}set disableCcipRead(er){this.#p=!!er}async#c(er){const rr=this.#g.cacheTimeout;if(rr<0)return await this._perform(er);const nr=getTag$3(er.method,er);let ir=this.#o.get(nr);return ir||(ir=this._perform(er),this.#o.set(nr,ir),setTimeout(()=>{this.#o.get(nr)===ir&&this.#o.delete(nr)},rr)),await ir}async ccipReadFetch(er,rr,nr){if(this.disableCcipRead||nr.length===0||er.to==null)return null;const ir=er.to.toLowerCase(),or=rr.toLowerCase(),sr=[];for(let ar=0;ar<nr.length;ar++){const cr=nr[ar],lr=cr.replace("{sender}",ir).replace("{data}",or),ur=new FetchRequest(lr);cr.indexOf("{data}")===-1&&(ur.body={data:or,sender:ir}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:ur,index:ar,urls:nr});let fr="unknown error";const dr=await ur.send();try{const gr=dr.bodyJson;if(gr.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:ur,result:gr}),gr.data;gr.message&&(fr=gr.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:ur,result:gr})}catch{}assert$r(dr.statusCode<400||dr.statusCode>=500,`response not found during CCIP fetch: ${fr}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:er,info:{url:cr,errorMessage:fr}}),sr.push(fr)}assert$r(!1,`error encountered during CCIP fetch: ${sr.map(ar=>JSON.stringify(ar)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:er,info:{urls:nr,errorMessages:sr}})}_wrapBlock(er,rr){return new Block(formatBlock(er),this)}_wrapLog(er,rr){return new Log(formatLog(er),this)}_wrapTransactionReceipt(er,rr){return new TransactionReceipt(formatTransactionReceipt(er),this)}_wrapTransactionResponse(er,rr){return new TransactionResponse(formatTransactionResponse(er),this)}_detectNetwork(){assert$r(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(er){assert$r(!1,`unsupported method: ${er.method}`,"UNSUPPORTED_OPERATION",{operation:er.method,info:er})}async getBlockNumber(){const er=getNumber(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=er),er}_getAddress(er){return resolveAddress(er,this)}_getBlockTag(er){if(er==null)return"latest";switch(er){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return er}if(isHexString$6(er))return isHexString$6(er,32)?er:toQuantity(er);if(typeof er=="bigint"&&(er=getNumber(er,"blockTag")),typeof er=="number")return er>=0?toQuantity(er):this.#a>=0?toQuantity(this.#a+er):this.getBlockNumber().then(rr=>toQuantity(rr+er));assertArgument(!1,"invalid blockTag","blockTag",er)}_getFilter(er){const rr=(er.topics||[]).map(cr=>cr==null?null:Array.isArray(cr)?concisify(cr.map(lr=>lr.toLowerCase())):cr.toLowerCase()),nr="blockHash"in er?er.blockHash:void 0,ir=(cr,lr,ur)=>{let fr;switch(cr.length){case 0:break;case 1:fr=cr[0];break;default:cr.sort(),fr=cr}if(nr&&(lr!=null||ur!=null))throw new Error("invalid filter");const dr={};return fr&&(dr.address=fr),rr.length&&(dr.topics=rr),lr&&(dr.fromBlock=lr),ur&&(dr.toBlock=ur),nr&&(dr.blockHash=nr),dr};let or=[];if(er.address)if(Array.isArray(er.address))for(const cr of er.address)or.push(this._getAddress(cr));else or.push(this._getAddress(er.address));let sr;"fromBlock"in er&&(sr=this._getBlockTag(er.fromBlock));let ar;return"toBlock"in er&&(ar=this._getBlockTag(er.toBlock)),or.filter(cr=>typeof cr!="string").length||sr!=null&&typeof sr!="string"||ar!=null&&typeof ar!="string"?Promise.all([Promise.all(or),sr,ar]).then(cr=>ir(cr[0],cr[1],cr[2])):ir(or,sr,ar)}_getTransactionRequest(er){const rr=copyRequest(er),nr=[];if(["to","from"].forEach(ir=>{if(rr[ir]==null)return;const or=resolveAddress(rr[ir],this);isPromise(or)?nr.push(async function(){rr[ir]=await or}()):rr[ir]=or}),rr.blockTag!=null){const ir=this._getBlockTag(rr.blockTag);isPromise(ir)?nr.push(async function(){rr.blockTag=await ir}()):rr.blockTag=ir}return nr.length?async function(){return await Promise.all(nr),rr}():rr}async getNetwork(){if(this.#i==null){const ir=(async()=>{try{const or=await this._detectNetwork();return this.emit("network",or,null),or}catch(or){throw this.#i===ir&&(this.#i=null),or}})();return this.#i=ir,(await ir).clone()}const er=this.#i,[rr,nr]=await Promise.all([er,this._detectNetwork()]);return rr.chainId!==nr.chainId&&(this.#s?(this.emit("network",nr,rr),this.#i===er&&(this.#i=Promise.resolve(nr))):assert$r(!1,`network changed: ${rr.chainId} => ${nr.chainId} `,"NETWORK_ERROR",{event:"changed"})),rr.clone()}async getFeeData(){const er=await this.getNetwork(),rr=async()=>{const{_block:ir,gasPrice:or,priorityFee:sr}=await resolveProperties({_block:this.#y("latest",!1),gasPrice:(async()=>{try{const ur=await this.#c({method:"getGasPrice"});return getBigInt(ur,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const ur=await this.#c({method:"getPriorityFee"});return getBigInt(ur,"%response")}catch{}return null})()});let ar=null,cr=null;const lr=this._wrapBlock(ir,er);return lr&&lr.baseFeePerGas&&(cr=sr??BigInt("1000000000"),ar=lr.baseFeePerGas*BN_2+cr),new FeeData(or,ar,cr)},nr=er.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(nr){const ir=new FetchRequest(nr.url),or=await nr.processFunc(rr,this,ir);return new FeeData(or.gasPrice,or.maxFeePerGas,or.maxPriorityFeePerGas)}return await rr()}async estimateGas(er){let rr=this._getTransactionRequest(er);return isPromise(rr)&&(rr=await rr),getBigInt(await this.#c({method:"estimateGas",transaction:rr}),"%response")}async#u(er,rr,nr){assert$r(nr<MAX_CCIP_REDIRECTS,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},er,{blockTag:rr,enableCcipRead:!0})});const ir=copyRequest(er);try{return hexlify(await this._perform({method:"call",transaction:ir,blockTag:rr}))}catch(or){if(!this.disableCcipRead&&isCallException(or)&&or.data&&nr>=0&&rr==="latest"&&ir.to!=null&&dataSlice(or.data,0,4)==="0x556f1830"){const sr=or.data,ar=await resolveAddress(ir.to,this);let cr;try{cr=parseOffchainLookup(dataSlice(or.data,4))}catch(fr){assert$r(!1,fr.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:ir,info:{data:sr}})}assert$r(cr.sender.toLowerCase()===ar.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:sr,reason:"OffchainLookup",transaction:ir,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:cr.errorArgs}});const lr=await this.ccipReadFetch(ir,cr.calldata,cr.urls);assert$r(lr!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:ir,info:{data:or.data,errorArgs:cr.errorArgs}});const ur={to:ar,data:concat$2([cr.selector,encodeBytes([lr,cr.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:ur});try{const fr=await this.#u(ur,rr,nr+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},ur),result:fr}),fr}catch(fr){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},ur),error:fr}),fr}}throw or}}async#d(er){const{value:rr}=await resolveProperties({network:this.getNetwork(),value:er});return rr}async call(er){const{tx:rr,blockTag:nr}=await resolveProperties({tx:this._getTransactionRequest(er),blockTag:this._getBlockTag(er.blockTag)});return await this.#d(this.#u(rr,nr,er.enableCcipRead?0:-1))}async#h(er,rr,nr){let ir=this._getAddress(rr),or=this._getBlockTag(nr);return(typeof ir!="string"||typeof or!="string")&&([ir,or]=await Promise.all([ir,or])),await this.#d(this.#c(Object.assign(er,{address:ir,blockTag:or})))}async getBalance(er,rr){return getBigInt(await this.#h({method:"getBalance"},er,rr),"%response")}async getTransactionCount(er,rr){return getNumber(await this.#h({method:"getTransactionCount"},er,rr),"%response")}async getCode(er,rr){return hexlify(await this.#h({method:"getCode"},er,rr))}async getStorage(er,rr,nr){const ir=getBigInt(rr,"position");return hexlify(await this.#h({method:"getStorage",position:ir},er,nr))}async broadcastTransaction(er){const{blockNumber:rr,hash:nr,network:ir}=await resolveProperties({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:er}),network:this.getNetwork()}),or=Transaction.from(er);if(or.hash!==nr)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(or,ir).replaceableTransaction(rr)}async#y(er,rr){if(isHexString$6(er,32))return await this.#c({method:"getBlock",blockHash:er,includeTransactions:rr});let nr=this._getBlockTag(er);return typeof nr!="string"&&(nr=await nr),await this.#c({method:"getBlock",blockTag:nr,includeTransactions:rr})}async getBlock(er,rr){const{network:nr,params:ir}=await resolveProperties({network:this.getNetwork(),params:this.#y(er,!!rr)});return ir==null?null:this._wrapBlock(ir,nr)}async getTransaction(er){const{network:rr,params:nr}=await resolveProperties({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:er})});return nr==null?null:this._wrapTransactionResponse(nr,rr)}async getTransactionReceipt(er){const{network:rr,params:nr}=await resolveProperties({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:er})});if(nr==null)return null;if(nr.gasPrice==null&&nr.effectiveGasPrice==null){const ir=await this.#c({method:"getTransaction",hash:er});if(ir==null)throw new Error("report this; could not find tx or effectiveGasPrice");nr.effectiveGasPrice=ir.gasPrice}return this._wrapTransactionReceipt(nr,rr)}async getTransactionResult(er){const{result:rr}=await resolveProperties({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:er})});return rr==null?null:hexlify(rr)}async getLogs(er){let rr=this._getFilter(er);isPromise(rr)&&(rr=await rr);const{network:nr,params:ir}=await resolveProperties({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:rr})});return ir.map(or=>this._wrapLog(or,nr))}_getProvider(er){assert$r(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(er){return await EnsResolver.fromName(this,er)}async getAvatar(er){const rr=await this.getResolver(er);return rr?await rr.getAvatar():null}async resolveName(er){const rr=await this.getResolver(er);return rr?await rr.getAddress():null}async lookupAddress(er){er=getAddress$1(er);const rr=namehash(er.substring(2).toLowerCase()+".addr.reverse");try{const nr=await EnsResolver.getEnsAddress(this),or=await new Contract(nr,["function resolver(bytes32) view returns (address)"],this).resolver(rr);if(or==null||or===ZeroAddress)return null;const ar=await new Contract(or,["function name(bytes32) view returns (string)"],this).name(rr);return await this.resolveName(ar)!==er?null:ar}catch(nr){if(isError$2(nr,"BAD_DATA")&&nr.value==="0x"||isError$2(nr,"CALL_EXCEPTION"))return null;throw nr}return null}async waitForTransaction(er,rr,nr){const ir=rr??1;return ir===0?this.getTransactionReceipt(er):new Promise(async(or,sr)=>{let ar=null;const cr=async lr=>{try{const ur=await this.getTransactionReceipt(er);if(ur!=null&&lr-ur.blockNumber+1>=ir){or(ur),ar&&(clearTimeout(ar),ar=null);return}}catch(ur){console.log("EEE",ur)}this.once("block",cr)};nr!=null&&(ar=setTimeout(()=>{ar!=null&&(ar=null,this.off("block",cr),sr(makeError("timeout","TIMEOUT",{reason:"timeout"})))},nr)),cr(await this.getBlockNumber())})}async waitForBlock(er){assert$r(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(er){const rr=this.#l.get(er);rr&&(rr.timer&&clearTimeout(rr.timer),this.#l.delete(er))}_setTimeout(er,rr){rr==null&&(rr=0);const nr=this.#f++,ir=()=>{this.#l.delete(nr),er()};if(this.paused)this.#l.set(nr,{timer:null,func:ir,time:rr});else{const or=setTimeout(ir,rr);this.#l.set(nr,{timer:or,func:ir,time:getTime()})}return nr}_forEachSubscriber(er){for(const rr of this.#e.values())er(rr.subscriber)}_getSubscriber(er){switch(er.type){case"debug":case"error":case"network":return new UnmanagedSubscriber(er.type);case"block":{const rr=new PollingBlockSubscriber(this);return rr.pollingInterval=this.pollingInterval,rr}case"safe":case"finalized":return new PollingBlockTagSubscriber(this,er.type);case"event":return new PollingEventSubscriber(this,er.filter);case"transaction":return new PollingTransactionSubscriber(this,er.hash);case"orphan":return new PollingOrphanSubscriber(this,er.filter)}throw new Error(`unsupported event: ${er.type}`)}_recoverSubscriber(er,rr){for(const nr of this.#e.values())if(nr.subscriber===er){nr.started&&nr.subscriber.stop(),nr.subscriber=rr,nr.started&&rr.start(),this.#r!=null&&rr.pause(this.#r);break}}async#m(er,rr){let nr=await getSubscription(er,this);return nr.type==="event"&&rr&&rr.length>0&&rr[0].removed===!0&&(nr=await getSubscription({orphan:"drop-log",log:rr[0]},this)),this.#e.get(nr.tag)||null}async#b(er){const rr=await getSubscription(er,this),nr=rr.tag;let ir=this.#e.get(nr);return ir||(ir={subscriber:this._getSubscriber(rr),tag:nr,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(nr,ir)),ir}async on(er,rr){const nr=await this.#b(er);return nr.listeners.push({listener:rr,once:!1}),nr.started||(nr.subscriber.start(),nr.started=!0,this.#r!=null&&nr.subscriber.pause(this.#r)),this}async once(er,rr){const nr=await this.#b(er);return nr.listeners.push({listener:rr,once:!0}),nr.started||(nr.subscriber.start(),nr.started=!0,this.#r!=null&&nr.subscriber.pause(this.#r)),this}async emit(er,...rr){const nr=await this.#m(er,rr);if(!nr||nr.listeners.length===0)return!1;const ir=nr.listeners.length;return nr.listeners=nr.listeners.filter(({listener:or,once:sr})=>{const ar=new EventPayload(this,sr?null:or,er);try{or.call(this,...rr,ar)}catch{}return!sr}),nr.listeners.length===0&&(nr.started&&nr.subscriber.stop(),this.#e.delete(nr.tag)),ir>0}async listenerCount(er){if(er){const nr=await this.#m(er);return nr?nr.listeners.length:0}let rr=0;for(const{listeners:nr}of this.#e.values())rr+=nr.length;return rr}async listeners(er){if(er){const nr=await this.#m(er);return nr?nr.listeners.map(({listener:ir})=>ir):[]}let rr=[];for(const{listeners:nr}of this.#e.values())rr=rr.concat(nr.map(({listener:ir})=>ir));return rr}async off(er,rr){const nr=await this.#m(er);if(!nr)return this;if(rr){const ir=nr.listeners.map(({listener:or})=>or).indexOf(rr);ir>=0&&nr.listeners.splice(ir,1)}return(!rr||nr.listeners.length===0)&&(nr.started&&nr.subscriber.stop(),this.#e.delete(nr.tag)),this}async removeAllListeners(er){if(er){const{tag:rr,started:nr,subscriber:ir}=await this.#b(er);nr&&ir.stop(),this.#e.delete(rr)}else for(const[rr,{started:nr,subscriber:ir}]of this.#e)nr&&ir.stop(),this.#e.delete(rr);return this}async addListener(er,rr){return await this.on(er,rr)}async removeListener(er,rr){return this.off(er,rr)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(const er of this.#l.keys())this._clearTimeout(er);this.#n=!0}get paused(){return this.#r!=null}set paused(er){!!er!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(er){if(this.#a=-1,this.#r!=null){if(this.#r==!!er)return;assert$r(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(rr=>rr.pause(er)),this.#r=!!er;for(const rr of this.#l.values())rr.timer&&clearTimeout(rr.timer),rr.time=getTime()-rr.time}resume(){if(this.#r!=null){this._forEachSubscriber(er=>er.resume()),this.#r=null;for(const er of this.#l.values()){let rr=er.time;rr<0&&(rr=0),er.time=getTime(),setTimeout(er.func,rr)}}}}function _parseString(tr,er){try{const rr=_parseBytes(tr,er);if(rr)return toUtf8String(rr)}catch{}return null}function _parseBytes(tr,er){if(tr==="0x")return null;try{const rr=getNumber(dataSlice(tr,er,er+32)),nr=getNumber(dataSlice(tr,rr,rr+32));return dataSlice(tr,rr+32,rr+32+nr)}catch{}return null}function numPad(tr){const er=toBeArray(tr);if(er.length>32)throw new Error("internal; should not happen");const rr=new Uint8Array(32);return rr.set(er,32-er.length),rr}function bytesPad(tr){if(tr.length%32===0)return tr;const er=new Uint8Array(Math.ceil(tr.length/32)*32);return er.set(tr),er}const empty$2=new Uint8Array([]);function encodeBytes(tr){const er=[];let rr=0;for(let nr=0;nr<tr.length;nr++)er.push(empty$2),rr+=32;for(let nr=0;nr<tr.length;nr++){const ir=getBytes(tr[nr]);er[nr]=numPad(rr),er.push(numPad(ir.length)),er.push(bytesPad(ir)),rr+=32+Math.ceil(ir.length/32)*32}return concat$2(er)}const zeros$2="0x0000000000000000000000000000000000000000000000000000000000000000";function parseOffchainLookup(tr){const er={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};assert$r(dataLength(tr)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const rr=dataSlice(tr,0,32);assert$r(dataSlice(rr,0,12)===dataSlice(zeros$2,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),er.sender=dataSlice(rr,12);try{const nr=[],ir=getNumber(dataSlice(tr,32,64)),or=getNumber(dataSlice(tr,ir,ir+32)),sr=dataSlice(tr,ir+32);for(let ar=0;ar<or;ar++){const cr=_parseString(sr,ar*32);if(cr==null)throw new Error("abort");nr.push(cr)}er.urls=nr}catch{assert$r(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const nr=_parseBytes(tr,64);if(nr==null)throw new Error("abort");er.calldata=nr}catch{assert$r(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}assert$r(dataSlice(tr,100,128)===dataSlice(zeros$2,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),er.selector=dataSlice(tr,96,100);try{const nr=_parseBytes(tr,128);if(nr==null)throw new Error("abort");er.extraData=nr}catch{assert$r(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return er.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(nr=>er[nr]),er}function checkProvider(tr,er){if(tr.provider)return tr.provider;assert$r(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:er})}async function populate(tr,er){let rr=copyRequest(er);if(rr.to!=null&&(rr.to=resolveAddress(rr.to,tr)),rr.from!=null){const nr=rr.from;rr.from=Promise.all([tr.getAddress(),resolveAddress(nr,tr)]).then(([ir,or])=>(assertArgument(ir.toLowerCase()===or.toLowerCase(),"transaction from mismatch","tx.from",or),ir))}else rr.from=tr.getAddress();return await resolveProperties(rr)}class AbstractSigner{provider;constructor(er){defineProperties(this,{provider:er||null})}async getNonce(er){return checkProvider(this,"getTransactionCount").getTransactionCount(await this.getAddress(),er)}async populateCall(er){return await populate(this,er)}async populateTransaction(er){const rr=checkProvider(this,"populateTransaction"),nr=await populate(this,er);nr.nonce==null&&(nr.nonce=await this.getNonce("pending")),nr.gasLimit==null&&(nr.gasLimit=await this.estimateGas(nr));const ir=await this.provider.getNetwork();if(nr.chainId!=null){const sr=getBigInt(nr.chainId);assertArgument(sr===ir.chainId,"transaction chainId mismatch","tx.chainId",er.chainId)}else nr.chainId=ir.chainId;const or=nr.maxFeePerGas!=null||nr.maxPriorityFeePerGas!=null;if(nr.gasPrice!=null&&(nr.type===2||or)?assertArgument(!1,"eip-1559 transaction do not support gasPrice","tx",er):(nr.type===0||nr.type===1)&&or&&assertArgument(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",er),(nr.type===2||nr.type==null)&&nr.maxFeePerGas!=null&&nr.maxPriorityFeePerGas!=null)nr.type=2;else if(nr.type===0||nr.type===1){const sr=await rr.getFeeData();assert$r(sr.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),nr.gasPrice==null&&(nr.gasPrice=sr.gasPrice)}else{const sr=await rr.getFeeData();if(nr.type==null)if(sr.maxFeePerGas!=null&&sr.maxPriorityFeePerGas!=null)if(nr.type=2,nr.gasPrice!=null){const ar=nr.gasPrice;delete nr.gasPrice,nr.maxFeePerGas=ar,nr.maxPriorityFeePerGas=ar}else nr.maxFeePerGas==null&&(nr.maxFeePerGas=sr.maxFeePerGas),nr.maxPriorityFeePerGas==null&&(nr.maxPriorityFeePerGas=sr.maxPriorityFeePerGas);else sr.gasPrice!=null?(assert$r(!or,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),nr.gasPrice==null&&(nr.gasPrice=sr.gasPrice),nr.type=0):assert$r(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(nr.type===2||nr.type===3)&&(nr.maxFeePerGas==null&&(nr.maxFeePerGas=sr.maxFeePerGas),nr.maxPriorityFeePerGas==null&&(nr.maxPriorityFeePerGas=sr.maxPriorityFeePerGas))}return await resolveProperties(nr)}async estimateGas(er){return checkProvider(this,"estimateGas").estimateGas(await this.populateCall(er))}async call(er){return checkProvider(this,"call").call(await this.populateCall(er))}async resolveName(er){return await checkProvider(this,"resolveName").resolveName(er)}async sendTransaction(er){const rr=checkProvider(this,"sendTransaction"),nr=await this.populateTransaction(er);delete nr.from;const ir=Transaction.from(nr);return await rr.broadcastTransaction(await this.signTransaction(ir))}}function copy$4(tr){return JSON.parse(JSON.stringify(tr))}class FilterIdSubscriber{#e;#t;#r;#n;#i;#s;constructor(er){this.#e=er,this.#t=null,this.#r=this.#o.bind(this),this.#n=!1,this.#i=null,this.#s=!1}_subscribe(er){throw new Error("subclasses must override this")}_emitResults(er,rr){throw new Error("subclasses must override this")}_recover(er){throw new Error("subclasses must override this")}async#o(er){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let rr=null;try{rr=await this.#t}catch(or){if(!isError$2(or,"UNSUPPORTED_OPERATION")||or.operation!=="eth_newFilter")throw or}if(rr==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const nr=await this.#e.getNetwork();if(this.#i||(this.#i=nr),this.#i.chainId!==nr.chainId)throw new Error("chaid changed");if(this.#s)return;const ir=await this.#e.send("eth_getFilterChanges",[rr]);await this._emitResults(this.#e,ir)}catch(rr){console.log("@TODO",rr)}this.#e.once("block",this.#r)}#a(){const er=this.#t;er&&(this.#t=null,er.then(rr=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[rr])}))}start(){this.#n||(this.#n=!0,this.#o(-2))}stop(){this.#n&&(this.#n=!1,this.#s=!0,this.#a(),this.#e.off("block",this.#r))}pause(er){er&&this.#a(),this.#e.off("block",this.#r)}resume(){this.start()}}class FilterIdEventSubscriber extends FilterIdSubscriber{#e;constructor(er,rr){super(er),this.#e=copy$4(rr)}_recover(er){return new PollingEventSubscriber(er,this.#e)}async _subscribe(er){return await er.send("eth_newFilter",[this.#e])}async _emitResults(er,rr){for(const nr of rr)er.emit(this.#e,er._wrapLog(nr,er._network))}}class FilterIdPendingSubscriber extends FilterIdSubscriber{async _subscribe(er){return await er.send("eth_newPendingTransactionFilter",[])}async _emitResults(er,rr){for(const nr of rr)er.emit("pending",nr)}}const Primitive="bigint,boolean,function,number,string,symbol".split(/,/g);function deepCopy(tr){if(tr==null||Primitive.indexOf(typeof tr)>=0||typeof tr.getAddress=="function")return tr;if(Array.isArray(tr))return tr.map(deepCopy);if(typeof tr=="object")return Object.keys(tr).reduce((er,rr)=>(er[rr]=tr[rr],er),{});throw new Error(`should not happen: ${tr} (${typeof tr})`)}function stall(tr){return new Promise(er=>{setTimeout(er,tr)})}function getLowerCase(tr){return tr&&tr.toLowerCase()}function isPollable(tr){return tr&&typeof tr.pollingInterval=="number"}const defaultOptions$2={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class JsonRpcSigner extends AbstractSigner{address;constructor(er,rr){super(er),rr=getAddress$1(rr),defineProperties(this,{address:rr})}connect(er){assert$r(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(er){return await this.populateCall(er)}async sendUncheckedTransaction(er){const rr=deepCopy(er),nr=[];if(rr.from){const or=rr.from;nr.push((async()=>{const sr=await resolveAddress(or,this.provider);assertArgument(sr!=null&&sr.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",er),rr.from=sr})())}else rr.from=this.address;if(rr.gasLimit==null&&nr.push((async()=>{rr.gasLimit=await this.provider.estimateGas({...rr,from:this.address})})()),rr.to!=null){const or=rr.to;nr.push((async()=>{rr.to=await resolveAddress(or,this.provider)})())}nr.length&&await Promise.all(nr);const ir=this.provider.getRpcTransaction(rr);return this.provider.send("eth_sendTransaction",[ir])}async sendTransaction(er){const rr=await this.provider.getBlockNumber(),nr=await this.sendUncheckedTransaction(er);return await new Promise((ir,or)=>{const sr=[1e3,100];let ar=0;const cr=async()=>{try{const lr=await this.provider.getTransaction(nr);if(lr!=null){ir(lr.replaceableTransaction(rr));return}}catch(lr){if(isError$2(lr,"CANCELLED")||isError$2(lr,"BAD_DATA")||isError$2(lr,"NETWORK_ERROR")){lr.info==null&&(lr.info={}),lr.info.sendTransactionHash=nr,or(lr);return}if(isError$2(lr,"INVALID_ARGUMENT")&&(ar++,lr.info==null&&(lr.info={}),lr.info.sendTransactionHash=nr,ar>10)){or(lr);return}this.provider.emit("error",makeError("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:lr}))}this.provider._setTimeout(()=>{cr()},sr.pop()||4e3)};cr()})}async signTransaction(er){const rr=deepCopy(er);if(rr.from){const ir=await resolveAddress(rr.from,this.provider);assertArgument(ir!=null&&ir.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",er),rr.from=ir}else rr.from=this.address;const nr=this.provider.getRpcTransaction(rr);return await this.provider.send("eth_signTransaction",[nr])}async signMessage(er){const rr=typeof er=="string"?toUtf8Bytes(er):er;return await this.provider.send("personal_sign",[hexlify(rr),this.address.toLowerCase()])}async signTypedData(er,rr,nr){const ir=deepCopy(nr),or=await TypedDataEncoder.resolveNames(er,rr,ir,async sr=>{const ar=await resolveAddress(sr);return assertArgument(ar!=null,"TypedData does not support null address","value",sr),ar});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(or.domain,rr,or.value))])}async unlock(er){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),er,null])}async _legacySignMessage(er){const rr=typeof er=="string"?toUtf8Bytes(er):er;return await this.provider.send("eth_sign",[this.address.toLowerCase(),hexlify(rr)])}}class JsonRpcApiProvider extends AbstractProvider{#e;#t;#r;#n;#i;#s;#o;#a(){if(this.#n)return;const er=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;const rr=this.#r;for(this.#r=[];rr.length;){const nr=[rr.shift()];for(;rr.length&&nr.length!==this.#e.batchMaxCount;)if(nr.push(rr.shift()),JSON.stringify(nr.map(or=>or.payload)).length>this.#e.batchMaxSize){rr.unshift(nr.pop());break}(async()=>{const ir=nr.length===1?nr[0].payload:nr.map(or=>or.payload);this.emit("debug",{action:"sendRpcPayload",payload:ir});try{const or=await this._send(ir);this.emit("debug",{action:"receiveRpcResult",result:or});for(const{resolve:sr,reject:ar,payload:cr}of nr){if(this.destroyed){ar(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:cr.method}));continue}const lr=or.filter(ur=>ur.id===cr.id)[0];if(lr==null){const ur=makeError("missing response for request","BAD_DATA",{value:or,info:{payload:cr}});this.emit("error",ur),ar(ur);continue}if("error"in lr){ar(this.getRpcError(cr,lr));continue}sr(lr.result)}}catch(or){this.emit("debug",{action:"receiveRpcError",error:or});for(const{reject:sr}of nr)sr(or)}})()}},er)}constructor(er,rr){super(er,rr),this.#t=1,this.#e=Object.assign({},defaultOptions$2,rr||{}),this.#r=[],this.#n=null,this.#s=null,this.#o=null;{let ir=null;const or=new Promise(sr=>{ir=sr});this.#i={promise:or,resolve:ir}}const nr=this._getOption("staticNetwork");typeof nr=="boolean"?(assertArgument(!nr||er!=="any","staticNetwork cannot be used on special network 'any'","options",rr),nr&&er!=null&&(this.#s=Network.from(er))):nr&&(assertArgument(er==null||nr.matches(er),"staticNetwork MUST match network object","options",rr),this.#s=nr)}_getOption(er){return this.#e[er]}get _network(){return assert$r(this.#s,"network is not available yet","NETWORK_ERROR"),this.#s}async _perform(er){if(er.method==="call"||er.method==="estimateGas"){let nr=er.transaction;if(nr&&nr.type!=null&&getBigInt(nr.type)&&nr.maxFeePerGas==null&&nr.maxPriorityFeePerGas==null){const ir=await this.getFeeData();ir.maxFeePerGas==null&&ir.maxPriorityFeePerGas==null&&(er=Object.assign({},er,{transaction:Object.assign({},nr,{type:void 0})}))}}const rr=this.getRpcRequest(er);return rr!=null?await this.send(rr.method,rr.args):super._perform(er)}async _detectNetwork(){const er=this._getOption("staticNetwork");if(er)if(er===!0){if(this.#s)return this.#s}else return er;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{const rr=Network.from(getBigInt(await this.send("eth_chainId",[])));return this.#o=null,rr}catch(rr){throw this.#o=null,rr}})(),await this.#o):(this.#o=(async()=>{const rr={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:rr});let nr;try{nr=(await this._send(rr))[0],this.#o=null}catch(ir){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:ir}),ir}if(this.emit("debug",{action:"receiveRpcResult",result:nr}),"result"in nr)return Network.from(getBigInt(nr.result));throw this.getRpcError(rr,nr)})(),await this.#o)}_start(){this.#i==null||this.#i.resolve==null||(this.#i.resolve(),this.#i=null,(async()=>{for(;this.#s==null&&!this.destroyed;)try{this.#s=await this._detectNetwork()}catch(er){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",makeError("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:er}})),await stall(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#i!=null)return await this.#i.promise}_getSubscriber(er){return er.type==="pending"?new FilterIdPendingSubscriber(this):er.type==="event"?this._getOption("polling")?new PollingEventSubscriber(this,er.filter):new FilterIdEventSubscriber(this,er.filter):er.type==="orphan"&&er.filter.orphan==="drop-log"?new UnmanagedSubscriber("orphan"):super._getSubscriber(er)}get ready(){return this.#i==null}getRpcTransaction(er){const rr={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(nr=>{if(er[nr]==null)return;let ir=nr;nr==="gasLimit"&&(ir="gas"),rr[ir]=toQuantity(getBigInt(er[nr],`tx.${nr}`))}),["from","to","data"].forEach(nr=>{er[nr]!=null&&(rr[nr]=hexlify(er[nr]))}),er.accessList&&(rr.accessList=accessListify(er.accessList)),er.blobVersionedHashes&&(rr.blobVersionedHashes=er.blobVersionedHashes.map(nr=>nr.toLowerCase())),rr}getRpcRequest(er){switch(er.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[getLowerCase(er.address),er.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[getLowerCase(er.address),er.blockTag]};case"getCode":return{method:"eth_getCode",args:[getLowerCase(er.address),er.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[getLowerCase(er.address),"0x"+er.position.toString(16),er.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[er.signedTransaction]};case"getBlock":if("blockTag"in er)return{method:"eth_getBlockByNumber",args:[er.blockTag,!!er.includeTransactions]};if("blockHash"in er)return{method:"eth_getBlockByHash",args:[er.blockHash,!!er.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[er.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[er.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(er.transaction),er.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(er.transaction)]};case"getLogs":return er.filter&&er.filter.address!=null&&(Array.isArray(er.filter.address)?er.filter.address=er.filter.address.map(getLowerCase):er.filter.address=getLowerCase(er.filter.address)),{method:"eth_getLogs",args:[er.filter]}}return null}getRpcError(er,rr){const{method:nr}=er,{error:ir}=rr;if(nr==="eth_estimateGas"&&ir.message){const ar=ir.message;if(!ar.match(/revert/i)&&ar.match(/insufficient funds/i))return makeError("insufficient funds","INSUFFICIENT_FUNDS",{transaction:er.params[0],info:{payload:er,error:ir}})}if(nr==="eth_call"||nr==="eth_estimateGas"){const ar=spelunkData(ir),cr=AbiCoder.getBuiltinCallException(nr==="eth_call"?"call":"estimateGas",er.params[0],ar?ar.data:null);return cr.info={error:ir,payload:er},cr}const or=JSON.stringify(spelunkMessage(ir));if(typeof ir.message=="string"&&ir.message.match(/user denied|ethers-user-denied/i))return makeError("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[nr]||"unknown",reason:"rejected",info:{payload:er,error:ir}});if(nr==="eth_sendRawTransaction"||nr==="eth_sendTransaction"){const ar=er.params[0];if(or.match(/insufficient funds|base fee exceeds gas limit/i))return makeError("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:ar,info:{error:ir}});if(or.match(/nonce/i)&&or.match(/too low/i))return makeError("nonce has already been used","NONCE_EXPIRED",{transaction:ar,info:{error:ir}});if(or.match(/replacement transaction/i)&&or.match(/underpriced/i))return makeError("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:ar,info:{error:ir}});if(or.match(/only replay-protected/i))return makeError("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:nr,info:{transaction:ar,info:{error:ir}}})}let sr=!!or.match(/the method .* does not exist/i);return sr||ir&&ir.details&&ir.details.startsWith("Unauthorized method:")&&(sr=!0),sr?makeError("unsupported operation","UNSUPPORTED_OPERATION",{operation:er.method,info:{error:ir,payload:er}}):makeError("could not coalesce error","UNKNOWN_ERROR",{error:ir,payload:er})}send(er,rr){if(this.destroyed)return Promise.reject(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:er}));const nr=this.#t++,ir=new Promise((or,sr)=>{this.#r.push({resolve:or,reject:sr,payload:{method:er,params:rr,id:nr,jsonrpc:"2.0"}})});return this.#a(),ir}async getSigner(er){er==null&&(er=0);const rr=this.send("eth_accounts",[]);if(typeof er=="number"){const ir=await rr;if(er>=ir.length)throw new Error("no such account");return new JsonRpcSigner(this,ir[er])}const{accounts:nr}=await resolveProperties({network:this.getNetwork(),accounts:rr});er=getAddress$1(er);for(const ir of nr)if(getAddress$1(ir)===er)return new JsonRpcSigner(this,er);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(rr=>new JsonRpcSigner(this,rr))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(const{payload:er,reject:rr}of this.#r)rr(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:er.method}));this.#r=[],super.destroy()}}class JsonRpcApiPollingProvider extends JsonRpcApiProvider{#e;constructor(er,rr){super(er,rr);let nr=this._getOption("pollingInterval");nr==null&&(nr=defaultOptions$2.pollingInterval),this.#e=nr}_getSubscriber(er){const rr=super._getSubscriber(er);return isPollable(rr)&&(rr.pollingInterval=this.#e),rr}get pollingInterval(){return this.#e}set pollingInterval(er){if(!Number.isInteger(er)||er<0)throw new Error("invalid interval");this.#e=er,this._forEachSubscriber(rr=>{isPollable(rr)&&(rr.pollingInterval=this.#e)})}}class JsonRpcProvider extends JsonRpcApiPollingProvider{#e;constructor(er,rr,nr){er==null&&(er="http://localhost:8545"),super(rr,nr),typeof er=="string"?this.#e=new FetchRequest(er):this.#e=er.clone()}_getConnection(){return this.#e.clone()}async send(er,rr){return await this._start(),await super.send(er,rr)}async _send(er){const rr=this._getConnection();rr.body=JSON.stringify(er),rr.setHeader("content-type","application/json");const nr=await rr.send();nr.assertOk();let ir=nr.bodyJson;return Array.isArray(ir)||(ir=[ir]),ir}}function spelunkData(tr){if(tr==null)return null;if(typeof tr.message=="string"&&tr.message.match(/revert/i)&&isHexString$6(tr.data))return{message:tr.message,data:tr.data};if(typeof tr=="object"){for(const er in tr){const rr=spelunkData(tr[er]);if(rr)return rr}return null}if(typeof tr=="string")try{return spelunkData(JSON.parse(tr))}catch{}return null}function _spelunkMessage(tr,er){if(tr!=null){if(typeof tr.message=="string"&&er.push(tr.message),typeof tr=="object")for(const rr in tr)_spelunkMessage(tr[rr],er);if(typeof tr=="string")try{return _spelunkMessage(JSON.parse(tr),er)}catch{}}}function spelunkMessage(tr){const er=[];return _spelunkMessage(tr,er),er}class BrowserProvider extends JsonRpcApiPollingProvider{#e;constructor(er,rr,nr){const ir=Object.assign({},nr??{},{batchMaxCount:1});assertArgument(er&&er.request,"invalid EIP-1193 provider","ethereum",er),super(rr,ir),this.#e=async(or,sr)=>{const ar={method:or,params:sr};this.emit("debug",{action:"sendEip1193Request",payload:ar});try{const cr=await er.request(ar);return this.emit("debug",{action:"receiveEip1193Result",result:cr}),cr}catch(cr){const lr=new Error(cr.message);throw lr.code=cr.code,lr.data=cr.data,lr.payload=ar,this.emit("debug",{action:"receiveEip1193Error",error:lr}),lr}}}async send(er,rr){return await this._start(),await super.send(er,rr)}async _send(er){assertArgument(!Array.isArray(er),"EIP-1193 does not support batch request","payload",er);try{const rr=await this.#e(er.method,er.params||[]);return[{id:er.id,result:rr}]}catch(rr){return[{id:er.id,error:{code:rr.code,data:rr.data,message:rr.message}}]}}getRpcError(er,rr){switch(rr=JSON.parse(JSON.stringify(rr)),rr.error.code||-1){case 4001:rr.error.message=`ethers-user-denied: ${rr.error.message}`;break;case 4200:rr.error.message=`ethers-unsupported: ${rr.error.message}`;break}return super.getRpcError(er,rr)}async hasSigner(er){er==null&&(er=0);const rr=await this.send("eth_accounts",[]);return typeof er=="number"?rr.length>er:(er=er.toLowerCase(),rr.filter(nr=>nr.toLowerCase()===er).length!==0)}async getSigner(er){if(er==null&&(er=0),!await this.hasSigner(er))try{await this.#e("eth_requestAccounts",[])}catch(rr){const nr=rr.payload;throw this.getRpcError(nr,{id:nr.id,error:rr})}return await super.getSigner(er)}}const FanClubABI=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_ticker",type:"string"},{internalType:"string",name:"_sport",type:"string"},{internalType:"string",name:"_team",type:"string"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_maxSupply",type:"uint256"},{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ERC721EnumerableForbiddenBatchMint",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"ERC721OutOfBoundsIndex",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPassesSold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"passesSold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"sport",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"team",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"ticker",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],MainContainer=({fanClubs:tr,error:er,setSelectedVideo:rr})=>{const[nr,ir]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const cr=new JsonRpcProvider("https://spicy-rpc.chiliz.com/"),lr=await Promise.all(tr.map(async ur=>{const fr=new Contract(ur.clubAddress,FanClubABI,cr);try{const dr=await fr.getPassesSold(),br=await fr.price()*dr;return{...ur,currentPassesSold:dr,marketCap:formatEther(br)}}catch(dr){return console.error(`Error fetching data for club ${ur.name}:`,dr),{...ur,currentPassesSold:BigInt(0),marketCap:"0"}}}));ir(lr)})()},[tr]);const or=ar=>({clubAddress:ar.clubAddress,by:ar.name,name:ar.team,views:`${ar.currentPassesSold.toString()} members`,date:`mCap: ${ar.marketCap} ETH`,symbol:ar.ticker,price:ar.price,maxSupply:ar.maxSupply}),sr=ar=>({style:{"--delay":ar}});return jsxRuntimeExports.jsxs("div",{className:"main-container",children:[jsxRuntimeExports.jsx("div",{className:"main-header anim",...sr("0s"),children:"Discover"}),er&&jsxRuntimeExports.jsx("div",{className:"error-message",children:er}),jsxRuntimeExports.jsxs("div",{className:"main-blogs",children:[jsxRuntimeExports.jsx("div",{className:"main-blog anim",...sr(".1s"),children:jsxRuntimeExports.jsx("div",{className:"main-blog__title",children:"Follow your Athletes"})}),jsxRuntimeExports.jsx("div",{className:"main-blog anim",...sr(".2s"),children:jsxRuntimeExports.jsx("div",{className:"main-blog__title",children:"Tips You Need to Know"})})]}),jsxRuntimeExports.jsx("div",{className:"small-header anim",...sr(".4s"),children:"New Clubs"}),jsxRuntimeExports.jsx("div",{className:"videos",children:nr.map((ar,cr)=>{const lr=or(ar);return jsxRuntimeExports.jsx(Video,{video:lr,onClick:()=>rr(lr)},`club-${cr}`)})}),jsxRuntimeExports.jsx("div",{className:"small-header anim",...sr(".3s"),children:"Most Popular"}),jsxRuntimeExports.jsx("div",{className:"videos",children:videoData.map((ar,cr)=>jsxRuntimeExports.jsx(Video,{video:ar,onClick:()=>rr(ar)},`video-${cr}`))})]})};function r$8(tr){var er,rr,nr="";if(typeof tr=="string"||typeof tr=="number")nr+=tr;else if(typeof tr=="object")if(Array.isArray(tr)){var ir=tr.length;for(er=0;er<ir;er++)tr[er]&&(rr=r$8(tr[er]))&&(nr&&(nr+=" "),nr+=rr)}else for(rr in tr)tr[rr]&&(nr&&(nr+=" "),nr+=rr);return nr}function clsx$1(){for(var tr,er,rr=0,nr="",ir=arguments.length;rr<ir;rr++)(tr=arguments[rr])&&(er=r$8(tr))&&(nr&&(nr+=" "),nr+=er);return nr}var isArray$g=Array.isArray,isArray_1=isArray$g,freeGlobal$1=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$a=root$8.Symbol,_Symbol=Symbol$a,Symbol$9=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$d=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$9?Symbol$9.toStringTag:void 0;function getRawTag$1(tr){var er=hasOwnProperty$d.call(tr,symToStringTag$1),rr=tr[symToStringTag$1];try{tr[symToStringTag$1]=void 0;var nr=!0}catch{}var ir=nativeObjectToString$1.call(tr);return nr&&(er?tr[symToStringTag$1]=rr:delete tr[symToStringTag$1]),ir}var _getRawTag=getRawTag$1,objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString$1(tr){return nativeObjectToString.call(tr)}var _objectToString=objectToString$1,Symbol$8=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$8?Symbol$8.toStringTag:void 0;function baseGetTag$9(tr){return tr==null?tr===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(tr)?getRawTag(tr):objectToString(tr)}var _baseGetTag=baseGetTag$9;function isObjectLike$9(tr){return tr!=null&&typeof tr=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$6(tr){return typeof tr=="symbol"||isObjectLike$8(tr)&&baseGetTag$8(tr)==symbolTag$1}var isSymbol_1=isSymbol$6,isArray$f=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(tr,er){if(isArray$f(tr))return!1;var rr=typeof tr;return rr=="number"||rr=="symbol"||rr=="boolean"||tr==null||isSymbol$5(tr)?!0:reIsPlainProp.test(tr)||!reIsDeepProp.test(tr)||er!=null&&tr in Object(er)}var _isKey=isKey$3;function isObject$e(tr){var er=typeof tr;return tr!=null&&(er=="object"||er=="function")}var isObject_1=isObject$e;const isObject$f=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$d=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(tr){if(!isObject$d(tr))return!1;var er=baseGetTag$7(tr);return er==funcTag$1||er==genTag||er==asyncTag||er==proxyTag}var isFunction_1=isFunction$2;const isFunction$3=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var tr=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return tr?"Symbol(src)_1."+tr:""}();function isMasked$1(tr){return!!maskSrcKey&&maskSrcKey in tr}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(tr){if(tr!=null){try{return funcToString$2.call(tr)}catch{}try{return tr+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$c=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$c=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$c).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(tr){if(!isObject$c(tr)||isMasked(tr))return!1;var er=isFunction$1(tr)?reIsNative:reIsHostCtor;return er.test(toSource$1(tr))}var _baseIsNative=baseIsNative$1;function getValue$1(tr,er){return tr?.[er]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(tr,er){var rr=getValue(tr,er);return baseIsNative(rr)?rr:void 0}var _getNative=getNative$7,getNative$6=_getNative,nativeCreate$4=getNative$6(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(tr){var er=this.has(tr)&&delete this.__data__[tr];return this.size-=er?1:0,er}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$b=objectProto$9.hasOwnProperty;function hashGet$1(tr){var er=this.__data__;if(nativeCreate$2){var rr=er[tr];return rr===HASH_UNDEFINED$2?void 0:rr}return hasOwnProperty$b.call(er,tr)?er[tr]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$8=Object.prototype,hasOwnProperty$a=objectProto$8.hasOwnProperty;function hashHas$1(tr){var er=this.__data__;return nativeCreate$1?er[tr]!==void 0:hasOwnProperty$a.call(er,tr)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(tr,er){var rr=this.__data__;return this.size+=this.has(tr)?0:1,rr[tr]=nativeCreate&&er===void 0?HASH_UNDEFINED$1:er,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$a(tr){var er=-1,rr=tr==null?0:tr.length;for(this.clear();++er<rr;){var nr=tr[er];this.set(nr[0],nr[1])}}Hash$a.prototype.clear=hashClear;Hash$a.prototype.delete=hashDelete;Hash$a.prototype.get=hashGet;Hash$a.prototype.has=hashHas;Hash$a.prototype.set=hashSet;var _Hash=Hash$a;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$9(tr,er){return tr===er||tr!==tr&&er!==er}var eq_1$2=eq$9,eq$8=eq_1$2;function assocIndexOf$4(tr,er){for(var rr=tr.length;rr--;)if(eq$8(tr[rr][0],er))return rr;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(tr){var er=this.__data__,rr=assocIndexOf$3(er,tr);if(rr<0)return!1;var nr=er.length-1;return rr==nr?er.pop():splice.call(er,rr,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(tr){var er=this.__data__,rr=assocIndexOf$2(er,tr);return rr<0?void 0:er[rr][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(tr){return assocIndexOf$1(this.__data__,tr)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(tr,er){var rr=this.__data__,nr=assocIndexOf(rr,tr);return nr<0?(++this.size,rr.push([tr,er])):rr[nr][1]=er,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(tr){var er=-1,rr=tr==null?0:tr.length;for(this.clear();++er<rr;){var nr=tr[er];this.set(nr[0],nr[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,Hash$9=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash$9,map:new(Map$3||ListCache$3),string:new Hash$9}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(tr){var er=typeof tr;return er=="string"||er=="number"||er=="symbol"||er=="boolean"?tr!=="__proto__":tr===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(tr,er){var rr=tr.__data__;return isKeyable(er)?rr[typeof er=="string"?"string":"hash"]:rr.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(tr){var er=getMapData$3(this,tr).delete(tr);return this.size-=er?1:0,er}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(tr){return getMapData$2(this,tr).get(tr)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(tr){return getMapData$1(this,tr).has(tr)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(tr,er){var rr=getMapData(this,tr),nr=rr.size;return rr.set(tr,er),this.size+=rr.size==nr?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(tr){var er=-1,rr=tr==null?0:tr.length;for(this.clear();++er<rr;){var nr=tr[er];this.set(nr[0],nr[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$2(tr,er){if(typeof tr!="function"||er!=null&&typeof er!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var rr=function(){var nr=arguments,ir=er?er.apply(this,nr):nr[0],or=rr.cache;if(or.has(ir))return or.get(ir);var sr=tr.apply(this,nr);return rr.cache=or.set(ir,sr)||or,sr};return rr.cache=new(memoize$2.Cache||MapCache$2),rr}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(tr){var er=memoize$1(tr,function(nr){return rr.size===MAX_MEMOIZE_SIZE&&rr.clear(),nr}),rr=er.cache;return er}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$2=memoizeCapped(function(tr){var er=[];return tr.charCodeAt(0)===46&&er.push(""),tr.replace(rePropName$1,function(rr,nr,ir,or){er.push(ir?or.replace(reEscapeChar$1,"$1"):nr||rr)}),er}),_stringToPath=stringToPath$2;function arrayMap$3(tr,er){for(var rr=-1,nr=tr==null?0:tr.length,ir=Array(nr);++rr<nr;)ir[rr]=er(tr[rr],rr,tr);return ir}var _arrayMap=arrayMap$3,Symbol$7=_Symbol,arrayMap$2=_arrayMap,isArray$e=isArray_1,isSymbol$4=isSymbol_1,INFINITY$3=1/0,symbolProto$1=Symbol$7?Symbol$7.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(tr){if(typeof tr=="string")return tr;if(isArray$e(tr))return arrayMap$2(tr,baseToString$1)+"";if(isSymbol$4(tr))return symbolToString?symbolToString.call(tr):"";var er=tr+"";return er=="0"&&1/tr==-INFINITY$3?"-0":er}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$4(tr){return tr==null?"":baseToString(tr)}var toString_1=toString$4,isArray$d=isArray_1,isKey$2=_isKey,stringToPath$1=_stringToPath,toString$3=toString_1;function castPath$2(tr,er){return isArray$d(tr)?tr:isKey$2(tr,er)?[tr]:stringToPath$1(toString$3(tr))}var _castPath=castPath$2,isSymbol$3=isSymbol_1,INFINITY$2=1/0;function toKey$4(tr){if(typeof tr=="string"||isSymbol$3(tr))return tr;var er=tr+"";return er=="0"&&1/tr==-INFINITY$2?"-0":er}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(tr,er){er=castPath$1(er,tr);for(var rr=0,nr=er.length;tr!=null&&rr<nr;)tr=tr[toKey$3(er[rr++])];return rr&&rr==nr?tr:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$3(tr,er,rr){var nr=tr==null?void 0:baseGet$2(tr,er);return nr===void 0?rr:nr}var get_1=get$3;const get$4=getDefaultExportFromCjs(get_1);function isNil(tr){return tr==null}var isNil_1=isNil;const isNil$1=getDefaultExportFromCjs(isNil_1);var baseGetTag$6=_baseGetTag,isArray$c=isArray_1,isObjectLike$7=isObjectLike_1,stringTag$2="[object String]";function isString$1(tr){return typeof tr=="string"||!isArray$c(tr)&&isObjectLike$7(tr)&&baseGetTag$6(tr)==stringTag$2}var isString_1=isString$1;const isString$2=getDefaultExportFromCjs(isString_1);var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$3=b$2?Symbol.for("react.element"):60103,d$3=b$2?Symbol.for("react.portal"):60106,e$2=b$2?Symbol.for("react.fragment"):60107,f$3=b$2?Symbol.for("react.strict_mode"):60108,g$4=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$3=b$2?Symbol.for("react.context"):60110,l$2=b$2?Symbol.for("react.async_mode"):60111,m$2=b$2?Symbol.for("react.concurrent_mode"):60111,n$2=b$2?Symbol.for("react.forward_ref"):60112,p$2=b$2?Symbol.for("react.suspense"):60113,q$3=b$2?Symbol.for("react.suspense_list"):60120,r$7=b$2?Symbol.for("react.memo"):60115,t$8=b$2?Symbol.for("react.lazy"):60116,v$2=b$2?Symbol.for("react.block"):60121,w$2=b$2?Symbol.for("react.fundamental"):60117,x$4=b$2?Symbol.for("react.responder"):60118,y$3=b$2?Symbol.for("react.scope"):60119;function z$3(tr){if(typeof tr=="object"&&tr!==null){var er=tr.$$typeof;switch(er){case c$3:switch(tr=tr.type,tr){case l$2:case m$2:case e$2:case g$4:case f$3:case p$2:return tr;default:switch(tr=tr&&tr.$$typeof,tr){case k$3:case n$2:case t$8:case r$7:case h$2:return tr;default:return er}}case d$3:return er}}}function A$2(tr){return z$3(tr)===m$2}reactIs_production_min.AsyncMode=l$2;reactIs_production_min.ConcurrentMode=m$2;reactIs_production_min.ContextConsumer=k$3;reactIs_production_min.ContextProvider=h$2;reactIs_production_min.Element=c$3;reactIs_production_min.ForwardRef=n$2;reactIs_production_min.Fragment=e$2;reactIs_production_min.Lazy=t$8;reactIs_production_min.Memo=r$7;reactIs_production_min.Portal=d$3;reactIs_production_min.Profiler=g$4;reactIs_production_min.StrictMode=f$3;reactIs_production_min.Suspense=p$2;reactIs_production_min.isAsyncMode=function(tr){return A$2(tr)||z$3(tr)===l$2};reactIs_production_min.isConcurrentMode=A$2;reactIs_production_min.isContextConsumer=function(tr){return z$3(tr)===k$3};reactIs_production_min.isContextProvider=function(tr){return z$3(tr)===h$2};reactIs_production_min.isElement=function(tr){return typeof tr=="object"&&tr!==null&&tr.$$typeof===c$3};reactIs_production_min.isForwardRef=function(tr){return z$3(tr)===n$2};reactIs_production_min.isFragment=function(tr){return z$3(tr)===e$2};reactIs_production_min.isLazy=function(tr){return z$3(tr)===t$8};reactIs_production_min.isMemo=function(tr){return z$3(tr)===r$7};reactIs_production_min.isPortal=function(tr){return z$3(tr)===d$3};reactIs_production_min.isProfiler=function(tr){return z$3(tr)===g$4};reactIs_production_min.isStrictMode=function(tr){return z$3(tr)===f$3};reactIs_production_min.isSuspense=function(tr){return z$3(tr)===p$2};reactIs_production_min.isValidElementType=function(tr){return typeof tr=="string"||typeof tr=="function"||tr===e$2||tr===m$2||tr===g$4||tr===f$3||tr===p$2||tr===q$3||typeof tr=="object"&&tr!==null&&(tr.$$typeof===t$8||tr.$$typeof===r$7||tr.$$typeof===h$2||tr.$$typeof===k$3||tr.$$typeof===n$2||tr.$$typeof===w$2||tr.$$typeof===x$4||tr.$$typeof===y$3||tr.$$typeof===v$2)};reactIs_production_min.typeOf=z$3;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1,numberTag$2="[object Number]";function isNumber$2(tr){return typeof tr=="number"||isObjectLike$6(tr)&&baseGetTag$5(tr)==numberTag$2}var isNumber_1=isNumber$2;const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;function isNaN$1(tr){return isNumber$1(tr)&&tr!=+tr}var _isNaN=isNaN$1;const isNan$1=getDefaultExportFromCjs(_isNaN);var mathSign=function(er){return er===0?0:er>0?1:-1},isPercent=function(er){return isString$2(er)&&er.indexOf("%")===er.length-1},isNumber=function(er){return isNumber$3(er)&&!isNan$1(er)},isNumOrStr=function(er){return isNumber(er)||isString$2(er)},idCounter=0,uniqueId=function(er){var rr=++idCounter;return"".concat(er||"").concat(rr)},getPercentValue=function(er,rr){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(er)&&!isString$2(er))return nr;var or;if(isPercent(er)){var sr=er.indexOf("%");or=rr*parseFloat(er.slice(0,sr))/100}else or=+er;return isNan$1(or)&&(or=nr),ir&&or>rr&&(or=rr),or},getAnyElementOfObject=function(er){if(!er)return null;var rr=Object.keys(er);return rr&&rr.length?er[rr[0]]:null},hasDuplicate=function(er){if(!Array.isArray(er))return!1;for(var rr=er.length,nr={},ir=0;ir<rr;ir++)if(!nr[er[ir]])nr[er[ir]]=!0;else return!0;return!1},interpolateNumber$2=function(er,rr){return isNumber(er)&&isNumber(rr)?function(nr){return er+nr*(rr-er)}:function(){return rr}};function findEntryInArray(tr,er,rr){return!tr||!tr.length?null:tr.find(function(nr){return nr&&(typeof er=="function"?er(nr):get$4(nr,er))===rr})}function shallowEqual(tr,er){for(var rr in tr)if({}.hasOwnProperty.call(tr,rr)&&(!{}.hasOwnProperty.call(er,rr)||tr[rr]!==er[rr]))return!1;for(var nr in er)if({}.hasOwnProperty.call(er,nr)&&!{}.hasOwnProperty.call(tr,nr))return!1;return!0}function _typeof$G(tr){"@babel/helpers - typeof";return _typeof$G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$G(tr)}var SVGContainerPropKeys=["viewBox","children"],SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function(er,rr){if(!er||typeof er=="function"||typeof er=="boolean")return null;var nr=er;if(reactExports.isValidElement(er)&&(nr=er.props),!isObject$f(nr))return null;var ir={};return Object.keys(nr).forEach(function(or){EventKeys.includes(or)&&(ir[or]=rr||function(sr){return nr[or](nr,sr)})}),ir},getEventHandlerOfChild=function(er,rr,nr){return function(ir){return er(rr,nr,ir),null}},adaptEventsOfChild=function(er,rr,nr){if(!isObject$f(er)||_typeof$G(er)!=="object")return null;var ir=null;return Object.keys(er).forEach(function(or){var sr=er[or];EventKeys.includes(or)&&typeof sr=="function"&&(ir||(ir={}),ir[or]=getEventHandlerOfChild(sr,rr,nr))}),ir},_excluded$h=["children"],_excluded2$5=["children"];function _objectWithoutProperties$h(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$h(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$h(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function _typeof$F(tr){"@babel/helpers - typeof";return _typeof$F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$F(tr)}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},getDisplayName=function(er){return typeof er=="string"?er:er?er.displayName||er.name||"Component":""},lastChildren=null,lastResult=null,toArray$3=function tr(er){if(er===lastChildren&&Array.isArray(lastResult))return lastResult;var rr=[];return reactExports.Children.forEach(er,function(nr){isNil$1(nr)||(reactIsExports.isFragment(nr)?rr=rr.concat(tr(nr.props.children)):rr.push(nr))}),lastResult=rr,lastChildren=er,rr};function findAllByType(tr,er){var rr=[],nr=[];return Array.isArray(er)?nr=er.map(function(ir){return getDisplayName(ir)}):nr=[getDisplayName(er)],toArray$3(tr).forEach(function(ir){var or=get$4(ir,"type.displayName")||get$4(ir,"type.name");nr.indexOf(or)!==-1&&rr.push(ir)}),rr}function findChildByType(tr,er){var rr=findAllByType(tr,er);return rr&&rr[0]}var validateWidthHeight=function(er){if(!er||!er.props)return!1;var rr=er.props,nr=rr.width,ir=rr.height;return!(!isNumber(nr)||nr<=0||!isNumber(ir)||ir<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],isSvgElement=function(er){return er&&er.type&&isString$2(er.type)&&SVG_TAGS.indexOf(er.type)>=0},isDotProps=function(er){return er&&_typeof$F(er)==="object"&&"cx"in er&&"cy"in er&&"r"in er},isValidSpreadableProp=function(er,rr,nr,ir){var or,sr=(or=FilteredElementKeyMap?.[ir])!==null&&or!==void 0?or:[];return!isFunction$3(er)&&(ir&&sr.includes(rr)||SVGElementPropKeys.includes(rr))||nr&&EventKeys.includes(rr)},filterProps=function(er,rr,nr){if(!er||typeof er=="function"||typeof er=="boolean")return null;var ir=er;if(reactExports.isValidElement(er)&&(ir=er.props),!isObject$f(ir))return null;var or={};return Object.keys(ir).forEach(function(sr){var ar;isValidSpreadableProp((ar=ir)===null||ar===void 0?void 0:ar[sr],sr,rr,nr)&&(or[sr]=ir[sr])}),or},isChildrenEqual=function tr(er,rr){if(er===rr)return!0;var nr=reactExports.Children.count(er);if(nr!==reactExports.Children.count(rr))return!1;if(nr===0)return!0;if(nr===1)return isSingleChildEqual(Array.isArray(er)?er[0]:er,Array.isArray(rr)?rr[0]:rr);for(var ir=0;ir<nr;ir++){var or=er[ir],sr=rr[ir];if(Array.isArray(or)||Array.isArray(sr)){if(!tr(or,sr))return!1}else if(!isSingleChildEqual(or,sr))return!1}return!0},isSingleChildEqual=function(er,rr){if(isNil$1(er)&&isNil$1(rr))return!0;if(!isNil$1(er)&&!isNil$1(rr)){var nr=er.props||{},ir=nr.children,or=_objectWithoutProperties$h(nr,_excluded$h),sr=rr.props||{},ar=sr.children,cr=_objectWithoutProperties$h(sr,_excluded2$5);return ir&&ar?shallowEqual(or,cr)&&isChildrenEqual(ir,ar):!ir&&!ar?shallowEqual(or,cr):!1}return!1},renderByOrder=function(er,rr){var nr=[],ir={};return toArray$3(er).forEach(function(or,sr){if(isSvgElement(or))nr.push(or);else if(or){var ar=getDisplayName(or.type),cr=rr[ar]||{},lr=cr.handler,ur=cr.once;if(lr&&(!ur||!ir[ar])){var fr=lr(or,ar,sr);nr.push(fr),ir[ar]=!0}}}),nr},getReactEventByType=function(er){var rr=er&&er.type;return rr&&REACT_BROWSER_EVENT_MAP[rr]?REACT_BROWSER_EVENT_MAP[rr]:null},parseChildIndex=function(er,rr){return toArray$3(rr).indexOf(er)},_excluded$g=["children","width","height","viewBox","className","style","title","desc"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$q.apply(this,arguments)}function _objectWithoutProperties$g(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$g(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$g(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function Surface(tr){var er=tr.children,rr=tr.width,nr=tr.height,ir=tr.viewBox,or=tr.className,sr=tr.style,ar=tr.title,cr=tr.desc,lr=_objectWithoutProperties$g(tr,_excluded$g),ur=ir||{width:rr,height:nr,x:0,y:0},fr=clsx$1("recharts-surface",or);return React$1.createElement("svg",_extends$q({},filterProps(lr,!0,"svg"),{className:fr,width:rr,height:nr,style:sr,viewBox:"".concat(ur.x," ").concat(ur.y," ").concat(ur.width," ").concat(ur.height)}),React$1.createElement("title",null,ar),React$1.createElement("desc",null,cr),er)}var _excluded$f=["children","className"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$p.apply(this,arguments)}function _objectWithoutProperties$f(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$f(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$f(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}var Layer=React$1.forwardRef(function(tr,er){var rr=tr.children,nr=tr.className,ir=_objectWithoutProperties$f(tr,_excluded$f),or=clsx$1("recharts-layer",nr);return React$1.createElement("g",_extends$p({className:or},filterProps(ir,!0),{ref:er}),rr)}),warn$1=function(er,rr){for(var nr=arguments.length,ir=new Array(nr>2?nr-2:0),or=2;or<nr;or++)ir[or-2]=arguments[or]};function baseSlice$1(tr,er,rr){var nr=-1,ir=tr.length;er<0&&(er=-er>ir?0:ir+er),rr=rr>ir?ir:rr,rr<0&&(rr+=ir),ir=er>rr?0:rr-er>>>0,er>>>=0;for(var or=Array(ir);++nr<ir;)or[nr]=tr[nr+er];return or}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(tr,er,rr){var nr=tr.length;return rr=rr===void 0?nr:rr,!er&&rr>=nr?tr:baseSlice(tr,er,rr)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(tr){return reHasUnicode.test(tr)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(tr){return tr.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(tr){return tr.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(tr){return hasUnicode$1(tr)?unicodeToArray(tr):asciiToArray(tr)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$2=toString_1;function createCaseFirst$1(tr){return function(er){er=toString$2(er);var rr=hasUnicode(er)?stringToArray(er):void 0,nr=rr?rr[0]:er.charAt(0),ir=rr?castSlice(rr,1).join(""):er.slice(1);return nr[tr]()+ir}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst;const upperFirst$1=getDefaultExportFromCjs(upperFirst_1);function constant$3(tr){return function(){return tr}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(tr){this._+=tr[0];for(let er=1,rr=tr.length;er<rr;++er)this._+=arguments[er]+tr[er]}function appendRound(tr){let er=Math.floor(tr);if(!(er>=0))throw new Error(`invalid digits: ${tr}`);if(er>15)return append;const rr=10**er;return function(nr){this._+=nr[0];for(let ir=1,or=nr.length;ir<or;++ir)this._+=Math.round(arguments[ir]*rr)/rr+nr[ir]}}class Path{constructor(er){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=er==null?append:appendRound(er)}moveTo(er,rr){this._append`M${this._x0=this._x1=+er},${this._y0=this._y1=+rr}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(er,rr){this._append`L${this._x1=+er},${this._y1=+rr}`}quadraticCurveTo(er,rr,nr,ir){this._append`Q${+er},${+rr},${this._x1=+nr},${this._y1=+ir}`}bezierCurveTo(er,rr,nr,ir,or,sr){this._append`C${+er},${+rr},${+nr},${+ir},${this._x1=+or},${this._y1=+sr}`}arcTo(er,rr,nr,ir,or){if(er=+er,rr=+rr,nr=+nr,ir=+ir,or=+or,or<0)throw new Error(`negative radius: ${or}`);let sr=this._x1,ar=this._y1,cr=nr-er,lr=ir-rr,ur=sr-er,fr=ar-rr,dr=ur*ur+fr*fr;if(this._x1===null)this._append`M${this._x1=er},${this._y1=rr}`;else if(dr>epsilon)if(!(Math.abs(fr*cr-lr*ur)>epsilon)||!or)this._append`L${this._x1=er},${this._y1=rr}`;else{let gr=nr-sr,br=ir-ar,vr=cr*cr+lr*lr,$r=gr*gr+br*br,Er=Math.sqrt(vr),_r=Math.sqrt(dr),xr=or*Math.tan((pi-Math.acos((vr+dr-$r)/(2*Er*_r)))/2),Ir=xr/_r,Nr=xr/Er;Math.abs(Ir-1)>epsilon&&this._append`L${er+Ir*ur},${rr+Ir*fr}`,this._append`A${or},${or},0,0,${+(fr*gr>ur*br)},${this._x1=er+Nr*cr},${this._y1=rr+Nr*lr}`}}arc(er,rr,nr,ir,or,sr){if(er=+er,rr=+rr,nr=+nr,sr=!!sr,nr<0)throw new Error(`negative radius: ${nr}`);let ar=nr*Math.cos(ir),cr=nr*Math.sin(ir),lr=er+ar,ur=rr+cr,fr=1^sr,dr=sr?ir-or:or-ir;this._x1===null?this._append`M${lr},${ur}`:(Math.abs(this._x1-lr)>epsilon||Math.abs(this._y1-ur)>epsilon)&&this._append`L${lr},${ur}`,nr&&(dr<0&&(dr=dr%tau+tau),dr>tauEpsilon?this._append`A${nr},${nr},0,1,${fr},${er-ar},${rr-cr}A${nr},${nr},0,1,${fr},${this._x1=lr},${this._y1=ur}`:dr>epsilon&&this._append`A${nr},${nr},0,${+(dr>=pi)},${fr},${this._x1=er+nr*Math.cos(or)},${this._y1=rr+nr*Math.sin(or)}`)}rect(er,rr,nr,ir){this._append`M${this._x0=this._x1=+er},${this._y0=this._y1=+rr}h${nr=+nr}v${+ir}h${-nr}Z`}toString(){return this._}}function withPath(tr){let er=3;return tr.digits=function(rr){if(!arguments.length)return er;if(rr==null)er=null;else{const nr=Math.floor(rr);if(!(nr>=0))throw new RangeError(`invalid digits: ${rr}`);er=nr}return tr},()=>new Path(er)}function array$1(tr){return typeof tr=="object"&&"length"in tr?tr:Array.from(tr)}function Linear(tr){this._context=tr}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,er):this._context.moveTo(tr,er);break;case 1:this._point=2;default:this._context.lineTo(tr,er);break}}};function curveLinear(tr){return new Linear(tr)}function x$3(tr){return tr[0]}function y$2(tr){return tr[1]}function shapeLine(tr,er){var rr=constant$3(!0),nr=null,ir=curveLinear,or=null,sr=withPath(ar);tr=typeof tr=="function"?tr:tr===void 0?x$3:constant$3(tr),er=typeof er=="function"?er:er===void 0?y$2:constant$3(er);function ar(cr){var lr,ur=(cr=array$1(cr)).length,fr,dr=!1,gr;for(nr==null&&(or=ir(gr=sr())),lr=0;lr<=ur;++lr)!(lr<ur&&rr(fr=cr[lr],lr,cr))===dr&&((dr=!dr)?or.lineStart():or.lineEnd()),dr&&or.point(+tr(fr,lr,cr),+er(fr,lr,cr));if(gr)return or=null,gr+""||null}return ar.x=function(cr){return arguments.length?(tr=typeof cr=="function"?cr:constant$3(+cr),ar):tr},ar.y=function(cr){return arguments.length?(er=typeof cr=="function"?cr:constant$3(+cr),ar):er},ar.defined=function(cr){return arguments.length?(rr=typeof cr=="function"?cr:constant$3(!!cr),ar):rr},ar.curve=function(cr){return arguments.length?(ir=cr,nr!=null&&(or=ir(nr)),ar):ir},ar.context=function(cr){return arguments.length?(cr==null?nr=or=null:or=ir(nr=cr),ar):nr},ar}function shapeArea(tr,er,rr){var nr=null,ir=constant$3(!0),or=null,sr=curveLinear,ar=null,cr=withPath(lr);tr=typeof tr=="function"?tr:tr===void 0?x$3:constant$3(+tr),er=typeof er=="function"?er:constant$3(er===void 0?0:+er),rr=typeof rr=="function"?rr:rr===void 0?y$2:constant$3(+rr);function lr(fr){var dr,gr,br,vr=(fr=array$1(fr)).length,$r,Er=!1,_r,xr=new Array(vr),Ir=new Array(vr);for(or==null&&(ar=sr(_r=cr())),dr=0;dr<=vr;++dr){if(!(dr<vr&&ir($r=fr[dr],dr,fr))===Er)if(Er=!Er)gr=dr,ar.areaStart(),ar.lineStart();else{for(ar.lineEnd(),ar.lineStart(),br=dr-1;br>=gr;--br)ar.point(xr[br],Ir[br]);ar.lineEnd(),ar.areaEnd()}Er&&(xr[dr]=+tr($r,dr,fr),Ir[dr]=+er($r,dr,fr),ar.point(nr?+nr($r,dr,fr):xr[dr],rr?+rr($r,dr,fr):Ir[dr]))}if(_r)return ar=null,_r+""||null}function ur(){return shapeLine().defined(ir).curve(sr).context(or)}return lr.x=function(fr){return arguments.length?(tr=typeof fr=="function"?fr:constant$3(+fr),nr=null,lr):tr},lr.x0=function(fr){return arguments.length?(tr=typeof fr=="function"?fr:constant$3(+fr),lr):tr},lr.x1=function(fr){return arguments.length?(nr=fr==null?null:typeof fr=="function"?fr:constant$3(+fr),lr):nr},lr.y=function(fr){return arguments.length?(er=typeof fr=="function"?fr:constant$3(+fr),rr=null,lr):er},lr.y0=function(fr){return arguments.length?(er=typeof fr=="function"?fr:constant$3(+fr),lr):er},lr.y1=function(fr){return arguments.length?(rr=fr==null?null:typeof fr=="function"?fr:constant$3(+fr),lr):rr},lr.lineX0=lr.lineY0=function(){return ur().x(tr).y(er)},lr.lineY1=function(){return ur().x(tr).y(rr)},lr.lineX1=function(){return ur().x(nr).y(er)},lr.defined=function(fr){return arguments.length?(ir=typeof fr=="function"?fr:constant$3(!!fr),lr):ir},lr.curve=function(fr){return arguments.length?(sr=fr,or!=null&&(ar=sr(or)),lr):sr},lr.context=function(fr){return arguments.length?(fr==null?or=ar=null:ar=sr(or=fr),lr):or},lr}class Bump{constructor(er,rr){this._context=er,this._x=rr}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(er,rr){switch(er=+er,rr=+rr,this._point){case 0:{this._point=1,this._line?this._context.lineTo(er,rr):this._context.moveTo(er,rr);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+er)/2,this._y0,this._x0,rr,er,rr):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+rr)/2,er,this._y0,er,rr);break}}this._x0=er,this._y0=rr}}function bumpX(tr){return new Bump(tr,!0)}function bumpY(tr){return new Bump(tr,!1)}const symbolCircle={draw(tr,er){const rr=sqrt$1(er/pi$1);tr.moveTo(rr,0),tr.arc(0,0,rr,0,tau$1)}},symbolCross={draw(tr,er){const rr=sqrt$1(er/5)/2;tr.moveTo(-3*rr,-rr),tr.lineTo(-rr,-rr),tr.lineTo(-rr,-3*rr),tr.lineTo(rr,-3*rr),tr.lineTo(rr,-rr),tr.lineTo(3*rr,-rr),tr.lineTo(3*rr,rr),tr.lineTo(rr,rr),tr.lineTo(rr,3*rr),tr.lineTo(-rr,3*rr),tr.lineTo(-rr,rr),tr.lineTo(-3*rr,rr),tr.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(tr,er){const rr=sqrt$1(er/tan30_2),nr=rr*tan30;tr.moveTo(0,-rr),tr.lineTo(nr,0),tr.lineTo(0,rr),tr.lineTo(-nr,0),tr.closePath()}},symbolSquare={draw(tr,er){const rr=sqrt$1(er),nr=-rr/2;tr.rect(nr,nr,rr,rr)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(tr,er){const rr=sqrt$1(er*ka),nr=kx*rr,ir=ky*rr;tr.moveTo(0,-rr),tr.lineTo(nr,ir);for(let or=1;or<5;++or){const sr=tau$1*or/5,ar=cos(sr),cr=sin(sr);tr.lineTo(cr*rr,-ar*rr),tr.lineTo(ar*nr-cr*ir,cr*nr+ar*ir)}tr.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(tr,er){const rr=-sqrt$1(er/(sqrt3*3));tr.moveTo(0,rr*2),tr.lineTo(-sqrt3*rr,-rr),tr.lineTo(sqrt3*rr,-rr),tr.closePath()}},c$2=-.5,s$3=sqrt$1(3)/2,k$2=1/sqrt$1(12),a$2=(k$2/2+1)*3,symbolWye={draw(tr,er){const rr=sqrt$1(er/a$2),nr=rr/2,ir=rr*k$2,or=nr,sr=rr*k$2+rr,ar=-or,cr=sr;tr.moveTo(nr,ir),tr.lineTo(or,sr),tr.lineTo(ar,cr),tr.lineTo(c$2*nr-s$3*ir,s$3*nr+c$2*ir),tr.lineTo(c$2*or-s$3*sr,s$3*or+c$2*sr),tr.lineTo(c$2*ar-s$3*cr,s$3*ar+c$2*cr),tr.lineTo(c$2*nr+s$3*ir,c$2*ir-s$3*nr),tr.lineTo(c$2*or+s$3*sr,c$2*sr-s$3*or),tr.lineTo(c$2*ar+s$3*cr,c$2*cr-s$3*ar),tr.closePath()}};function Symbol$6(tr,er){let rr=null,nr=withPath(ir);tr=typeof tr=="function"?tr:constant$3(tr||symbolCircle),er=typeof er=="function"?er:constant$3(er===void 0?64:+er);function ir(){let or;if(rr||(rr=or=nr()),tr.apply(this,arguments).draw(rr,+er.apply(this,arguments)),or)return rr=null,or+""||null}return ir.type=function(or){return arguments.length?(tr=typeof or=="function"?or:constant$3(or),ir):tr},ir.size=function(or){return arguments.length?(er=typeof or=="function"?or:constant$3(+or),ir):er},ir.context=function(or){return arguments.length?(rr=or??null,ir):rr},ir}function noop$9(){}function point$2(tr,er,rr){tr._context.bezierCurveTo((2*tr._x0+tr._x1)/3,(2*tr._y0+tr._y1)/3,(tr._x0+2*tr._x1)/3,(tr._y0+2*tr._y1)/3,(tr._x0+4*tr._x1+er)/6,(tr._y0+4*tr._y1+rr)/6)}function Basis(tr){this._context=tr}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,er):this._context.moveTo(tr,er);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,tr,er);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=er}};function curveBasis(tr){return new Basis(tr)}function BasisClosed(tr){this._context=tr}BasisClosed.prototype={areaStart:noop$9,areaEnd:noop$9,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1,this._x2=tr,this._y2=er;break;case 1:this._point=2,this._x3=tr,this._y3=er;break;case 2:this._point=3,this._x4=tr,this._y4=er,this._context.moveTo((this._x0+4*this._x1+tr)/6,(this._y0+4*this._y1+er)/6);break;default:point$2(this,tr,er);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=er}};function curveBasisClosed(tr){return new BasisClosed(tr)}function BasisOpen(tr){this._context=tr}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var rr=(this._x0+4*this._x1+tr)/6,nr=(this._y0+4*this._y1+er)/6;this._line?this._context.lineTo(rr,nr):this._context.moveTo(rr,nr);break;case 3:this._point=4;default:point$2(this,tr,er);break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=er}};function curveBasisOpen(tr){return new BasisOpen(tr)}function LinearClosed(tr){this._context=tr}LinearClosed.prototype={areaStart:noop$9,areaEnd:noop$9,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(tr,er){tr=+tr,er=+er,this._point?this._context.lineTo(tr,er):(this._point=1,this._context.moveTo(tr,er))}};function curveLinearClosed(tr){return new LinearClosed(tr)}function sign$2(tr){return tr<0?-1:1}function slope3(tr,er,rr){var nr=tr._x1-tr._x0,ir=er-tr._x1,or=(tr._y1-tr._y0)/(nr||ir<0&&-0),sr=(rr-tr._y1)/(ir||nr<0&&-0),ar=(or*ir+sr*nr)/(nr+ir);return(sign$2(or)+sign$2(sr))*Math.min(Math.abs(or),Math.abs(sr),.5*Math.abs(ar))||0}function slope2(tr,er){var rr=tr._x1-tr._x0;return rr?(3*(tr._y1-tr._y0)/rr-er)/2:er}function point$1(tr,er,rr){var nr=tr._x0,ir=tr._y0,or=tr._x1,sr=tr._y1,ar=(or-nr)/3;tr._context.bezierCurveTo(nr+ar,ir+ar*er,or-ar,sr-ar*rr,or,sr)}function MonotoneX(tr){this._context=tr}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(tr,er){var rr=NaN;if(tr=+tr,er=+er,!(tr===this._x1&&er===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,er):this._context.moveTo(tr,er);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,rr=slope3(this,tr,er)),rr);break;default:point$1(this,this._t0,rr=slope3(this,tr,er));break}this._x0=this._x1,this._x1=tr,this._y0=this._y1,this._y1=er,this._t0=rr}}};function MonotoneY(tr){this._context=new ReflectContext(tr)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(tr,er){MonotoneX.prototype.point.call(this,er,tr)};function ReflectContext(tr){this._context=tr}ReflectContext.prototype={moveTo:function(tr,er){this._context.moveTo(er,tr)},closePath:function(){this._context.closePath()},lineTo:function(tr,er){this._context.lineTo(er,tr)},bezierCurveTo:function(tr,er,rr,nr,ir,or){this._context.bezierCurveTo(er,tr,nr,rr,or,ir)}};function monotoneX(tr){return new MonotoneX(tr)}function monotoneY(tr){return new MonotoneY(tr)}function Natural(tr){this._context=tr}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var tr=this._x,er=this._y,rr=tr.length;if(rr)if(this._line?this._context.lineTo(tr[0],er[0]):this._context.moveTo(tr[0],er[0]),rr===2)this._context.lineTo(tr[1],er[1]);else for(var nr=controlPoints(tr),ir=controlPoints(er),or=0,sr=1;sr<rr;++or,++sr)this._context.bezierCurveTo(nr[0][or],ir[0][or],nr[1][or],ir[1][or],tr[sr],er[sr]);(this._line||this._line!==0&&rr===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(tr,er){this._x.push(+tr),this._y.push(+er)}};function controlPoints(tr){var er,rr=tr.length-1,nr,ir=new Array(rr),or=new Array(rr),sr=new Array(rr);for(ir[0]=0,or[0]=2,sr[0]=tr[0]+2*tr[1],er=1;er<rr-1;++er)ir[er]=1,or[er]=4,sr[er]=4*tr[er]+2*tr[er+1];for(ir[rr-1]=2,or[rr-1]=7,sr[rr-1]=8*tr[rr-1]+tr[rr],er=1;er<rr;++er)nr=ir[er]/or[er-1],or[er]-=nr,sr[er]-=nr*sr[er-1];for(ir[rr-1]=sr[rr-1]/or[rr-1],er=rr-2;er>=0;--er)ir[er]=(sr[er]-ir[er+1])/or[er];for(or[rr-1]=(tr[rr]+ir[rr-1])/2,er=0;er<rr-1;++er)or[er]=2*tr[er+1]-ir[er+1];return[ir,or]}function curveNatural(tr){return new Natural(tr)}function Step(tr,er){this._context=tr,this._t=er}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(tr,er){switch(tr=+tr,er=+er,this._point){case 0:this._point=1,this._line?this._context.lineTo(tr,er):this._context.moveTo(tr,er);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,er),this._context.lineTo(tr,er);else{var rr=this._x*(1-this._t)+tr*this._t;this._context.lineTo(rr,this._y),this._context.lineTo(rr,er)}break}}this._x=tr,this._y=er}};function curveStep(tr){return new Step(tr,.5)}function stepBefore(tr){return new Step(tr,0)}function stepAfter(tr){return new Step(tr,1)}function stackOffsetNone(tr,er){if((sr=tr.length)>1)for(var rr=1,nr,ir,or=tr[er[0]],sr,ar=or.length;rr<sr;++rr)for(ir=or,or=tr[er[rr]],nr=0;nr<ar;++nr)or[nr][1]+=or[nr][0]=isNaN(ir[nr][1])?ir[nr][0]:ir[nr][1]}function stackOrderNone(tr){for(var er=tr.length,rr=new Array(er);--er>=0;)rr[er]=er;return rr}function stackValue(tr,er){return tr[er]}function stackSeries(tr){const er=[];return er.key=tr,er}function shapeStack(){var tr=constant$3([]),er=stackOrderNone,rr=stackOffsetNone,nr=stackValue;function ir(or){var sr=Array.from(tr.apply(this,arguments),stackSeries),ar,cr=sr.length,lr=-1,ur;for(const fr of or)for(ar=0,++lr;ar<cr;++ar)(sr[ar][lr]=[0,+nr(fr,sr[ar].key,lr,or)]).data=fr;for(ar=0,ur=array$1(er(sr));ar<cr;++ar)sr[ur[ar]].index=ar;return rr(sr,ur),sr}return ir.keys=function(or){return arguments.length?(tr=typeof or=="function"?or:constant$3(Array.from(or)),ir):tr},ir.value=function(or){return arguments.length?(nr=typeof or=="function"?or:constant$3(+or),ir):nr},ir.order=function(or){return arguments.length?(er=or==null?stackOrderNone:typeof or=="function"?or:constant$3(Array.from(or)),ir):er},ir.offset=function(or){return arguments.length?(rr=or??stackOffsetNone,ir):rr},ir}function stackOffsetExpand(tr,er){if((nr=tr.length)>0){for(var rr,nr,ir=0,or=tr[0].length,sr;ir<or;++ir){for(sr=rr=0;rr<nr;++rr)sr+=tr[rr][ir][1]||0;if(sr)for(rr=0;rr<nr;++rr)tr[rr][ir][1]/=sr}stackOffsetNone(tr,er)}}function stackOffsetSilhouette(tr,er){if((ir=tr.length)>0){for(var rr=0,nr=tr[er[0]],ir,or=nr.length;rr<or;++rr){for(var sr=0,ar=0;sr<ir;++sr)ar+=tr[sr][rr][1]||0;nr[rr][1]+=nr[rr][0]=-ar/2}stackOffsetNone(tr,er)}}function stackOffsetWiggle(tr,er){if(!(!((sr=tr.length)>0)||!((or=(ir=tr[er[0]]).length)>0))){for(var rr=0,nr=1,ir,or,sr;nr<or;++nr){for(var ar=0,cr=0,lr=0;ar<sr;++ar){for(var ur=tr[er[ar]],fr=ur[nr][1]||0,dr=ur[nr-1][1]||0,gr=(fr-dr)/2,br=0;br<ar;++br){var vr=tr[er[br]],$r=vr[nr][1]||0,Er=vr[nr-1][1]||0;gr+=$r-Er}cr+=fr,lr+=gr*fr}ir[nr-1][1]+=ir[nr-1][0]=rr,cr&&(rr-=lr/cr)}ir[nr-1][1]+=ir[nr-1][0]=rr,stackOffsetNone(tr,er)}}function _typeof$E(tr){"@babel/helpers - typeof";return _typeof$E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$E(tr)}var _excluded$e=["type","size","sizeType"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$o.apply(this,arguments)}function ownKeys$A(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$z(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$A(Object(rr),!0).forEach(function(nr){_defineProperty$D(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$A(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$D(tr,er,rr){return er=_toPropertyKey$C(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$C(tr){var er=_toPrimitive$C(tr,"string");return _typeof$E(er)=="symbol"?er:String(er)}function _toPrimitive$C(tr,er){if(_typeof$E(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$E(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$e(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$e(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$e(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=function(er){var rr="symbol".concat(upperFirst$1(er));return symbolFactories[rr]||symbolCircle},calculateAreaSize=function(er,rr,nr){if(rr==="area")return er;switch(nr){case"cross":return 5*er*er/9;case"diamond":return .5*er*er/Math.sqrt(3);case"square":return er*er;case"star":{var ir=18*RADIAN$1;return 1.25*er*er*(Math.tan(ir)-Math.tan(ir*2)*Math.pow(Math.tan(ir),2))}case"triangle":return Math.sqrt(3)*er*er/4;case"wye":return(21-10*Math.sqrt(3))*er*er/8;default:return Math.PI*er*er/4}},registerSymbol=function(er,rr){symbolFactories["symbol".concat(upperFirst$1(er))]=rr},Symbols=function(er){var rr=er.type,nr=rr===void 0?"circle":rr,ir=er.size,or=ir===void 0?64:ir,sr=er.sizeType,ar=sr===void 0?"area":sr,cr=_objectWithoutProperties$e(er,_excluded$e),lr=_objectSpread$z(_objectSpread$z({},cr),{},{type:nr,size:or,sizeType:ar}),ur=function(){var $r=getSymbolFactory(nr),Er=Symbol$6().type($r).size(calculateAreaSize(or,ar,nr));return Er()},fr=lr.className,dr=lr.cx,gr=lr.cy,br=filterProps(lr,!0);return dr===+dr&&gr===+gr&&or===+or?React$1.createElement("path",_extends$o({},br,{className:clsx$1("recharts-symbols",fr),transform:"translate(".concat(dr,", ").concat(gr,")"),d:ur()})):null};Symbols.registerSymbol=registerSymbol;function _typeof$D(tr){"@babel/helpers - typeof";return _typeof$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$D(tr)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$n.apply(this,arguments)}function ownKeys$z(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$y(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$z(Object(rr),!0).forEach(function(nr){_defineProperty$C(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$z(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$c(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$B(nr.key),nr)}}function _createClass$c(tr,er,rr){return er&&_defineProperties$c(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$8(tr,er,rr){return er=_getPrototypeOf$9(er),_possibleConstructorReturn$9(tr,_isNativeReflectConstruct$9()?Reflect.construct(er,rr||[],_getPrototypeOf$9(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$9(tr,er){if(er&&(_typeof$D(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$9(tr)}function _assertThisInitialized$9(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$9(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$9=function(){return!!tr})()}function _getPrototypeOf$9(tr){return _getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$9(tr)}function _inherits$9(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$9(tr,er)}function _setPrototypeOf$9(tr,er){return _setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$9(tr,er)}function _defineProperty$C(tr,er,rr){return er=_toPropertyKey$B(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$B(tr){var er=_toPrimitive$B(tr,"string");return _typeof$D(er)=="symbol"?er:String(er)}function _toPrimitive$B(tr,er){if(_typeof$D(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$D(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var SIZE=32,DefaultLegendContent=function(tr){_inherits$9(er,tr);function er(){return _classCallCheck$c(this,er),_callSuper$8(this,er,arguments)}return _createClass$c(er,[{key:"renderIcon",value:function(nr){var ir=this.props.inactiveColor,or=SIZE/2,sr=SIZE/6,ar=SIZE/3,cr=nr.inactive?ir:nr.color;if(nr.type==="plainline")return React$1.createElement("line",{strokeWidth:4,fill:"none",stroke:cr,strokeDasharray:nr.payload.strokeDasharray,x1:0,y1:or,x2:SIZE,y2:or,className:"recharts-legend-icon"});if(nr.type==="line")return React$1.createElement("path",{strokeWidth:4,fill:"none",stroke:cr,d:"M0,".concat(or,"h").concat(ar,`
            A`).concat(sr,",").concat(sr,",0,1,1,").concat(2*ar,",").concat(or,`
            H`).concat(SIZE,"M").concat(2*ar,",").concat(or,`
            A`).concat(sr,",").concat(sr,",0,1,1,").concat(ar,",").concat(or),className:"recharts-legend-icon"});if(nr.type==="rect")return React$1.createElement("path",{stroke:"none",fill:cr,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(React$1.isValidElement(nr.legendIcon)){var lr=_objectSpread$y({},nr);return delete lr.legendIcon,React$1.cloneElement(nr.legendIcon,lr)}return React$1.createElement(Symbols,{fill:cr,cx:or,cy:or,size:SIZE,sizeType:"diameter",type:nr.type})}},{key:"renderItems",value:function(){var nr=this,ir=this.props,or=ir.payload,sr=ir.iconSize,ar=ir.layout,cr=ir.formatter,lr=ir.inactiveColor,ur={x:0,y:0,width:SIZE,height:SIZE},fr={display:ar==="horizontal"?"inline-block":"block",marginRight:10},dr={display:"inline-block",verticalAlign:"middle",marginRight:4};return or.map(function(gr,br){var vr=gr.formatter||cr,$r=clsx$1(_defineProperty$C(_defineProperty$C({"recharts-legend-item":!0},"legend-item-".concat(br),!0),"inactive",gr.inactive));if(gr.type==="none")return null;var Er=isFunction$3(gr.value)?null:gr.value;warn$1(!isFunction$3(gr.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _r=gr.inactive?lr:gr.color;return React$1.createElement("li",_extends$n({className:$r,style:fr,key:"legend-item-".concat(br)},adaptEventsOfChild(nr.props,gr,br)),React$1.createElement(Surface,{width:sr,height:sr,viewBox:ur,style:dr},nr.renderIcon(gr)),React$1.createElement("span",{className:"recharts-legend-item-text",style:{color:_r}},vr?vr(Er,gr,br):Er))})}},{key:"render",value:function(){var nr=this.props,ir=nr.payload,or=nr.layout,sr=nr.align;if(!ir||!ir.length)return null;var ar={padding:0,margin:0,textAlign:or==="horizontal"?sr:"left"};return React$1.createElement("ul",{className:"recharts-default-legend",style:ar},this.renderItems())}}]),er}(reactExports.PureComponent);_defineProperty$C(DefaultLegendContent,"displayName","Legend");_defineProperty$C(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(tr){var er=this.__data__,rr=er.delete(tr);return this.size=er.size,rr}var _stackDelete=stackDelete$1;function stackGet$1(tr){return this.__data__.get(tr)}var _stackGet=stackGet$1;function stackHas$1(tr){return this.__data__.has(tr)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(tr,er){var rr=this.__data__;if(rr instanceof ListCache$1){var nr=rr.__data__;if(!Map$2||nr.length<LARGE_ARRAY_SIZE$1-1)return nr.push([tr,er]),this.size=++rr.size,this;rr=this.__data__=new MapCache$1(nr)}return rr.set(tr,er),this.size=rr.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(tr){var er=this.__data__=new ListCache(tr);this.size=er.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(tr){return this.__data__.set(tr,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(tr){return this.__data__.has(tr)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(tr){var er=-1,rr=tr==null?0:tr.length;for(this.__data__=new MapCache;++er<rr;)this.add(tr[er])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd;SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function arraySome$2(tr,er){for(var rr=-1,nr=tr==null?0:tr.length;++rr<nr;)if(er(tr[rr],rr,tr))return!0;return!1}var _arraySome=arraySome$2;function cacheHas$2(tr,er){return tr.has(er)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(tr,er,rr,nr,ir,or){var sr=rr&COMPARE_PARTIAL_FLAG$5,ar=tr.length,cr=er.length;if(ar!=cr&&!(sr&&cr>ar))return!1;var lr=or.get(tr),ur=or.get(er);if(lr&&ur)return lr==er&&ur==tr;var fr=-1,dr=!0,gr=rr&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(or.set(tr,er),or.set(er,tr);++fr<ar;){var br=tr[fr],vr=er[fr];if(nr)var $r=sr?nr(vr,br,fr,er,tr,or):nr(br,vr,fr,tr,er,or);if($r!==void 0){if($r)continue;dr=!1;break}if(gr){if(!arraySome$1(er,function(Er,_r){if(!cacheHas$1(gr,_r)&&(br===Er||ir(br,Er,rr,nr,or)))return gr.push(_r)})){dr=!1;break}}else if(!(br===vr||ir(br,vr,rr,nr,or))){dr=!1;break}}return or.delete(tr),or.delete(er),dr}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$3=root$5.Uint8Array,_Uint8Array=Uint8Array$3;function mapToArray$1(tr){var er=-1,rr=Array(tr.size);return tr.forEach(function(nr,ir){rr[++er]=[ir,nr]}),rr}var _mapToArray=mapToArray$1;function setToArray$3(tr){var er=-1,rr=Array(tr.size);return tr.forEach(function(nr){rr[++er]=nr}),rr}var _setToArray=setToArray$3,Symbol$5=_Symbol,Uint8Array$2=_Uint8Array,eq$7=eq_1$2,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$5?Symbol$5.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(tr,er,rr,nr,ir,or,sr){switch(rr){case dataViewTag$2:if(tr.byteLength!=er.byteLength||tr.byteOffset!=er.byteOffset)return!1;tr=tr.buffer,er=er.buffer;case arrayBufferTag$1:return!(tr.byteLength!=er.byteLength||!or(new Uint8Array$2(tr),new Uint8Array$2(er)));case boolTag$2:case dateTag$1:case numberTag$1:return eq$7(+tr,+er);case errorTag$1:return tr.name==er.name&&tr.message==er.message;case regexpTag$1:case stringTag$1:return tr==er+"";case mapTag$2:var ar=mapToArray;case setTag$2:var cr=nr&COMPARE_PARTIAL_FLAG$4;if(ar||(ar=setToArray$2),tr.size!=er.size&&!cr)return!1;var lr=sr.get(tr);if(lr)return lr==er;nr|=COMPARE_UNORDERED_FLAG$2,sr.set(tr,er);var ur=equalArrays$1(ar(tr),ar(er),nr,ir,or,sr);return sr.delete(tr),ur;case symbolTag:if(symbolValueOf)return symbolValueOf.call(tr)==symbolValueOf.call(er)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(tr,er){for(var rr=-1,nr=er.length,ir=tr.length;++rr<nr;)tr[ir+rr]=er[rr];return tr}var _arrayPush=arrayPush$2,arrayPush$1=_arrayPush,isArray$b=isArray_1;function baseGetAllKeys$1(tr,er,rr){var nr=er(tr);return isArray$b(tr)?nr:arrayPush$1(nr,rr(tr))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(tr,er){for(var rr=-1,nr=tr==null?0:tr.length,ir=0,or=[];++rr<nr;){var sr=tr[rr];er(sr,rr,tr)&&(or[ir++]=sr)}return or}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$7=Object.prototype,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(tr){return tr==null?[]:(tr=Object(tr),arrayFilter(nativeGetSymbols(tr),function(er){return propertyIsEnumerable$1.call(tr,er)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(tr,er){for(var rr=-1,nr=Array(tr);++rr<tr;)nr[rr]=er(rr);return nr}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(tr){return isObjectLike$5(tr)&&baseGetTag$4(tr)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$9=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments$5=baseIsArguments(function(){return arguments}())?baseIsArguments:function(tr){return isObjectLike$4(tr)&&hasOwnProperty$9.call(tr,"callee")&&!propertyIsEnumerable.call(tr,"callee")},isArguments_1=isArguments$5,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(tr,er){var rr=_root,nr=stubFalse_1,ir=er&&!er.nodeType&&er,or=ir&&!0&&tr&&!tr.nodeType&&tr,sr=or&&or.exports===ir,ar=sr?rr.Buffer:void 0,cr=ar?ar.isBuffer:void 0,lr=cr||nr;tr.exports=lr})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$7=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(tr,er){var rr=typeof tr;return er=er??MAX_SAFE_INTEGER$7,!!er&&(rr=="number"||rr!="symbol"&&reIsUint.test(tr))&&tr>-1&&tr%1==0&&tr<er}var _isIndex=isIndex$3,MAX_SAFE_INTEGER$6=9007199254740991;function isLength$3(tr){return typeof tr=="number"&&tr>-1&&tr%1==0&&tr<=MAX_SAFE_INTEGER$6}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$3="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(tr){return isObjectLike$3(tr)&&isLength$2(tr.length)&&!!typedArrayTags[baseGetTag$3(tr)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(tr){return function(er){return tr(er)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(tr,er){var rr=_freeGlobal,nr=er&&!er.nodeType&&er,ir=nr&&!0&&tr&&!tr.nodeType&&tr,or=ir&&ir.exports===nr,sr=or&&rr.process,ar=function(){try{var cr=ir&&ir.require&&ir.require("util").types;return cr||sr&&sr.binding&&sr.binding("util")}catch{}}();tr.exports=ar})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$4,baseTimes=_baseTimes,isArguments$4=isArguments_1,isArray$a=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$3=isTypedArray_1,objectProto$5=Object.prototype,hasOwnProperty$8=objectProto$5.hasOwnProperty;function arrayLikeKeys$1(tr,er){var rr=isArray$a(tr),nr=!rr&&isArguments$4(tr),ir=!rr&&!nr&&isBuffer$1(tr),or=!rr&&!nr&&!ir&&isTypedArray$3(tr),sr=rr||nr||ir||or,ar=sr?baseTimes(tr.length,String):[],cr=ar.length;for(var lr in tr)(er||hasOwnProperty$8.call(tr,lr))&&!(sr&&(lr=="length"||ir&&(lr=="offset"||lr=="parent")||or&&(lr=="buffer"||lr=="byteLength"||lr=="byteOffset")||isIndex$2(lr,cr)))&&ar.push(lr);return ar}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$4=Object.prototype;function isPrototype$1(tr){var er=tr&&tr.constructor,rr=typeof er=="function"&&er.prototype||objectProto$4;return tr===rr}var _isPrototype=isPrototype$1;function overArg$2(tr,er){return function(rr){return tr(er(rr))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$7=objectProto$3.hasOwnProperty;function baseKeys$1(tr){if(!isPrototype(tr))return nativeKeys(tr);var er=[];for(var rr in Object(tr))hasOwnProperty$7.call(tr,rr)&&rr!="constructor"&&er.push(rr);return er}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$5(tr){return tr!=null&&isLength$1(tr.length)&&!isFunction(tr)}var isArrayLike_1=isArrayLike$5,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$4=isArrayLike_1;function keys$5(tr){return isArrayLike$4(tr)?arrayLikeKeys(tr):baseKeys(tr)}var keys_1=keys$5,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;function getAllKeys$1(tr){return baseGetAllKeys(tr,keys$4,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$6=objectProto$2.hasOwnProperty;function equalObjects$1(tr,er,rr,nr,ir,or){var sr=rr&COMPARE_PARTIAL_FLAG$3,ar=getAllKeys(tr),cr=ar.length,lr=getAllKeys(er),ur=lr.length;if(cr!=ur&&!sr)return!1;for(var fr=cr;fr--;){var dr=ar[fr];if(!(sr?dr in er:hasOwnProperty$6.call(er,dr)))return!1}var gr=or.get(tr),br=or.get(er);if(gr&&br)return gr==er&&br==tr;var vr=!0;or.set(tr,er),or.set(er,tr);for(var $r=sr;++fr<cr;){dr=ar[fr];var Er=tr[dr],_r=er[dr];if(nr)var xr=sr?nr(_r,Er,dr,er,tr,or):nr(Er,_r,dr,tr,er,or);if(!(xr===void 0?Er===_r||ir(Er,_r,rr,nr,or):xr)){vr=!1;break}$r||($r=dr=="constructor")}if(vr&&!$r){var Ir=tr.constructor,Nr=er.constructor;Ir!=Nr&&"constructor"in tr&&"constructor"in er&&!(typeof Ir=="function"&&Ir instanceof Ir&&typeof Nr=="function"&&Nr instanceof Nr)&&(vr=!1)}return or.delete(tr),or.delete(er),vr}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$5=getNative$3(root$3,"Promise"),_Promise=Promise$5,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,"Set"),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$4=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$4),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&getTag$2(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$2(new Map$1)!=mapTag||Promise$4&&getTag$2(Promise$4.resolve())!=promiseTag||Set$2&&getTag$2(new Set$2)!=setTag||WeakMap$1&&getTag$2(new WeakMap$1)!=weakMapTag)&&(getTag$2=function(tr){var er=baseGetTag$2(tr),rr=er==objectTag$2?tr.constructor:void 0,nr=rr?toSource(rr):"";if(nr)switch(nr){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return er});var _getTag=getTag$2,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=_getTag,isArray$9=isArray_1,isBuffer=isBufferExports,isTypedArray$2=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$5=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(tr,er,rr,nr,ir,or){var sr=isArray$9(tr),ar=isArray$9(er),cr=sr?arrayTag:getTag$1(tr),lr=ar?arrayTag:getTag$1(er);cr=cr==argsTag?objectTag$1:cr,lr=lr==argsTag?objectTag$1:lr;var ur=cr==objectTag$1,fr=lr==objectTag$1,dr=cr==lr;if(dr&&isBuffer(tr)){if(!isBuffer(er))return!1;sr=!0,ur=!1}if(dr&&!ur)return or||(or=new Stack$1),sr||isTypedArray$2(tr)?equalArrays(tr,er,rr,nr,ir,or):equalByTag(tr,er,cr,rr,nr,ir,or);if(!(rr&COMPARE_PARTIAL_FLAG$2)){var gr=ur&&hasOwnProperty$5.call(tr,"__wrapped__"),br=fr&&hasOwnProperty$5.call(er,"__wrapped__");if(gr||br){var vr=gr?tr.value():tr,$r=br?er.value():er;return or||(or=new Stack$1),ir(vr,$r,rr,nr,or)}}return dr?(or||(or=new Stack$1),equalObjects(tr,er,rr,nr,ir,or)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$2=isObjectLike_1;function baseIsEqual$3(tr,er,rr,nr,ir){return tr===er?!0:tr==null||er==null||!isObjectLike$2(tr)&&!isObjectLike$2(er)?tr!==tr&&er!==er:baseIsEqualDeep(tr,er,rr,nr,baseIsEqual$3,ir)}var _baseIsEqual=baseIsEqual$3,Stack=_Stack,baseIsEqual$2=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(tr,er,rr,nr){var ir=rr.length,or=ir,sr=!nr;if(tr==null)return!or;for(tr=Object(tr);ir--;){var ar=rr[ir];if(sr&&ar[2]?ar[1]!==tr[ar[0]]:!(ar[0]in tr))return!1}for(;++ir<or;){ar=rr[ir];var cr=ar[0],lr=tr[cr],ur=ar[1];if(sr&&ar[2]){if(lr===void 0&&!(cr in tr))return!1}else{var fr=new Stack;if(nr)var dr=nr(lr,ur,cr,tr,er,fr);if(!(dr===void 0?baseIsEqual$2(ur,lr,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,nr,fr):dr))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$b=isObject_1;function isStrictComparable$2(tr){return tr===tr&&!isObject$b(tr)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(tr){for(var er=keys$3(tr),rr=er.length;rr--;){var nr=er[rr],ir=tr[nr];er[rr]=[nr,ir,isStrictComparable$1(ir)]}return er}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(tr,er){return function(rr){return rr==null?!1:rr[tr]===er&&(er!==void 0||tr in Object(rr))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(tr){var er=getMatchData(tr);return er.length==1&&er[0][2]?matchesStrictComparable$1(er[0][0],er[0][1]):function(rr){return rr===tr||baseIsMatch(rr,tr,er)}}var _baseMatches=baseMatches$1;function baseHasIn$1(tr,er){return tr!=null&&er in Object(tr)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments$3=isArguments_1,isArray$8=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(tr,er,rr){er=castPath(er,tr);for(var nr=-1,ir=er.length,or=!1;++nr<ir;){var sr=toKey$2(er[nr]);if(!(or=tr!=null&&rr(tr,sr)))break;tr=tr[sr]}return or||++nr!=ir?or:(ir=tr==null?0:tr.length,!!ir&&isLength(ir)&&isIndex$1(sr,ir)&&(isArray$8(tr)||isArguments$3(tr)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(tr,er){return tr!=null&&hasPath(tr,er,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual$1=_baseIsEqual,get$2=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(tr,er){return isKey$1(tr)&&isStrictComparable(er)?matchesStrictComparable(toKey$1(tr),er):function(rr){var nr=get$2(rr,tr);return nr===void 0&&nr===er?hasIn(rr,tr):baseIsEqual$1(er,nr,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$b(tr){return tr}var identity_1=identity$b;function baseProperty$1(tr){return function(er){return er?.[tr]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(tr){return function(er){return baseGet$1(er,tr)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(tr){return isKey(tr)?baseProperty(toKey(tr)):basePropertyDeep(tr)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$a=identity_1,isArray$7=isArray_1,property=property_1;function baseIteratee$8(tr){return typeof tr=="function"?tr:tr==null?identity$a:typeof tr=="object"?isArray$7(tr)?baseMatchesProperty(tr[0],tr[1]):baseMatches(tr):property(tr)}var _baseIteratee=baseIteratee$8;function baseFindIndex$2(tr,er,rr,nr){for(var ir=tr.length,or=rr+(nr?1:-1);nr?or--:++or<ir;)if(er(tr[or],or,tr))return or;return-1}var _baseFindIndex=baseFindIndex$2;function baseIsNaN$1(tr){return tr!==tr}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(tr,er,rr){for(var nr=rr-1,ir=tr.length;++nr<ir;)if(tr[nr]===er)return nr;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(tr,er,rr){return er===er?strictIndexOf(tr,er,rr):baseFindIndex$1(tr,baseIsNaN,rr)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(tr,er){var rr=tr==null?0:tr.length;return!!rr&&baseIndexOf(tr,er,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(tr,er,rr){for(var nr=-1,ir=tr==null?0:tr.length;++nr<ir;)if(rr(er,tr[nr]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$8(){}var noop_1=noop$8,Set$1=_Set,noop$7=noop_1,setToArray$1=_setToArray,INFINITY$1=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY$1?function(tr){return new Set$1(tr)}:noop$7,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(tr,er,rr){var nr=-1,ir=arrayIncludes,or=tr.length,sr=!0,ar=[],cr=ar;if(rr)sr=!1,ir=arrayIncludesWith;else if(or>=LARGE_ARRAY_SIZE){var lr=er?null:createSet(tr);if(lr)return setToArray(lr);sr=!1,ir=cacheHas,cr=new SetCache}else cr=er?[]:ar;e:for(;++nr<or;){var ur=tr[nr],fr=er?er(ur):ur;if(ur=rr||ur!==0?ur:0,sr&&fr===fr){for(var dr=cr.length;dr--;)if(cr[dr]===fr)continue e;er&&cr.push(fr),ar.push(ur)}else ir(cr,fr,rr)||(cr!==ar&&cr.push(fr),ar.push(ur))}return ar}var _baseUniq=baseUniq$1,baseIteratee$7=_baseIteratee,baseUniq=_baseUniq;function uniqBy(tr,er){return tr&&tr.length?baseUniq(tr,baseIteratee$7(er)):[]}var uniqBy_1=uniqBy;const uniqBy$1=getDefaultExportFromCjs(uniqBy_1);function getUniqPayload(tr,er,rr){return er===!0?uniqBy$1(tr,rr):isFunction$3(er)?uniqBy$1(tr,er):tr}function _typeof$C(tr){"@babel/helpers - typeof";return _typeof$C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$C(tr)}var _excluded$d=["ref"];function ownKeys$y(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$x(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$y(Object(rr),!0).forEach(function(nr){_defineProperty$B(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$y(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$b(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$A(nr.key),nr)}}function _createClass$b(tr,er,rr){return er&&_defineProperties$b(tr.prototype,er),rr&&_defineProperties$b(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$7(tr,er,rr){return er=_getPrototypeOf$8(er),_possibleConstructorReturn$8(tr,_isNativeReflectConstruct$8()?Reflect.construct(er,rr||[],_getPrototypeOf$8(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$8(tr,er){if(er&&(_typeof$C(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$8(tr)}function _isNativeReflectConstruct$8(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$8=function(){return!!tr})()}function _getPrototypeOf$8(tr){return _getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$8(tr)}function _assertThisInitialized$8(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _inherits$8(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$8(tr,er)}function _setPrototypeOf$8(tr,er){return _setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$8(tr,er)}function _defineProperty$B(tr,er,rr){return er=_toPropertyKey$A(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$A(tr){var er=_toPrimitive$A(tr,"string");return _typeof$C(er)=="symbol"?er:String(er)}function _toPrimitive$A(tr,er){if(_typeof$C(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$C(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$d(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$d(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$d(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function defaultUniqBy$1(tr){return tr.value}function renderContent$1(tr,er){if(React$1.isValidElement(tr))return React$1.cloneElement(tr,er);if(typeof tr=="function")return React$1.createElement(tr,er);er.ref;var rr=_objectWithoutProperties$d(er,_excluded$d);return React$1.createElement(DefaultLegendContent,rr)}var EPS$1=1,Legend=function(tr){_inherits$8(er,tr);function er(){var rr;_classCallCheck$b(this,er);for(var nr=arguments.length,ir=new Array(nr),or=0;or<nr;or++)ir[or]=arguments[or];return rr=_callSuper$7(this,er,[].concat(ir)),_defineProperty$B(_assertThisInitialized$8(rr),"lastBoundingBox",{width:-1,height:-1}),rr}return _createClass$b(er,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var nr=this.wrapperNode.getBoundingClientRect();return nr.height=this.wrapperNode.offsetHeight,nr.width=this.wrapperNode.offsetWidth,nr}return null}},{key:"updateBBox",value:function(){var nr=this.props.onBBoxUpdate,ir=this.getBBox();ir?(Math.abs(ir.width-this.lastBoundingBox.width)>EPS$1||Math.abs(ir.height-this.lastBoundingBox.height)>EPS$1)&&(this.lastBoundingBox.width=ir.width,this.lastBoundingBox.height=ir.height,nr&&nr(ir)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,nr&&nr(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$x({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(nr){var ir=this.props,or=ir.layout,sr=ir.align,ar=ir.verticalAlign,cr=ir.margin,lr=ir.chartWidth,ur=ir.chartHeight,fr,dr;if(!nr||(nr.left===void 0||nr.left===null)&&(nr.right===void 0||nr.right===null))if(sr==="center"&&or==="vertical"){var gr=this.getBBoxSnapshot();fr={left:((lr||0)-gr.width)/2}}else fr=sr==="right"?{right:cr&&cr.right||0}:{left:cr&&cr.left||0};if(!nr||(nr.top===void 0||nr.top===null)&&(nr.bottom===void 0||nr.bottom===null))if(ar==="middle"){var br=this.getBBoxSnapshot();dr={top:((ur||0)-br.height)/2}}else dr=ar==="bottom"?{bottom:cr&&cr.bottom||0}:{top:cr&&cr.top||0};return _objectSpread$x(_objectSpread$x({},fr),dr)}},{key:"render",value:function(){var nr=this,ir=this.props,or=ir.content,sr=ir.width,ar=ir.height,cr=ir.wrapperStyle,lr=ir.payloadUniqBy,ur=ir.payload,fr=_objectSpread$x(_objectSpread$x({position:"absolute",width:sr||"auto",height:ar||"auto"},this.getDefaultPosition(cr)),cr);return React$1.createElement("div",{className:"recharts-legend-wrapper",style:fr,ref:function(gr){nr.wrapperNode=gr}},renderContent$1(or,_objectSpread$x(_objectSpread$x({},this.props),{},{payload:getUniqPayload(ur,lr,defaultUniqBy$1)})))}}],[{key:"getWithHeight",value:function(nr,ir){var or=nr.props.layout;return or==="vertical"&&isNumber(nr.props.height)?{height:nr.props.height}:or==="horizontal"?{width:nr.props.width||ir}:null}}]),er}(reactExports.PureComponent);_defineProperty$B(Legend,"displayName","Legend");_defineProperty$B(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Symbol$4=_Symbol,isArguments$2=isArguments_1,isArray$6=isArray_1,spreadableSymbol=Symbol$4?Symbol$4.isConcatSpreadable:void 0;function isFlattenable$1(tr){return isArray$6(tr)||isArguments$2(tr)||!!(spreadableSymbol&&tr&&tr[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(tr,er,rr,nr,ir){var or=-1,sr=tr.length;for(rr||(rr=isFlattenable),ir||(ir=[]);++or<sr;){var ar=tr[or];er>0&&rr(ar)?er>1?baseFlatten$2(ar,er-1,rr,nr,ir):arrayPush(ir,ar):nr||(ir[ir.length]=ar)}return ir}var _baseFlatten=baseFlatten$2;function createBaseFor$1(tr){return function(er,rr,nr){for(var ir=-1,or=Object(er),sr=nr(er),ar=sr.length;ar--;){var cr=sr[tr?ar:++ir];if(rr(or[cr],cr,or)===!1)break}return er}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$2(tr,er){return tr&&baseFor(tr,er,keys$2)}var _baseForOwn=baseForOwn$2,isArrayLike$3=isArrayLike_1;function createBaseEach$1(tr,er){return function(rr,nr){if(rr==null)return rr;if(!isArrayLike$3(rr))return tr(rr,nr);for(var ir=rr.length,or=er?ir:-1,sr=Object(rr);(er?or--:++or<ir)&&nr(sr[or],or,sr)!==!1;);return rr}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$3=createBaseEach(baseForOwn$1),_baseEach=baseEach$3,baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;function baseMap$2(tr,er){var rr=-1,nr=isArrayLike$2(tr)?Array(tr.length):[];return baseEach$2(tr,function(ir,or,sr){nr[++rr]=er(ir,or,sr)}),nr}var _baseMap=baseMap$2;function baseSortBy$1(tr,er){var rr=tr.length;for(tr.sort(er);rr--;)tr[rr]=tr[rr].value;return tr}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(tr,er){if(tr!==er){var rr=tr!==void 0,nr=tr===null,ir=tr===tr,or=isSymbol$2(tr),sr=er!==void 0,ar=er===null,cr=er===er,lr=isSymbol$2(er);if(!ar&&!lr&&!or&&tr>er||or&&sr&&cr&&!ar&&!lr||nr&&sr&&cr||!rr&&cr||!ir)return 1;if(!nr&&!or&&!lr&&tr<er||lr&&rr&&ir&&!nr&&!or||ar&&rr&&ir||!sr&&ir||!cr)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(tr,er,rr){for(var nr=-1,ir=tr.criteria,or=er.criteria,sr=ir.length,ar=rr.length;++nr<sr;){var cr=compareAscending(ir[nr],or[nr]);if(cr){if(nr>=ar)return cr;var lr=rr[nr];return cr*(lr=="desc"?-1:1)}}return tr.index-er.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet=_baseGet,baseIteratee$6=_baseIteratee,baseMap$1=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity$9=identity_1,isArray$5=isArray_1;function baseOrderBy$1(tr,er,rr){er.length?er=arrayMap$1(er,function(or){return isArray$5(or)?function(sr){return baseGet(sr,or.length===1?or[0]:or)}:or}):er=[identity$9];var nr=-1;er=arrayMap$1(er,baseUnary(baseIteratee$6));var ir=baseMap$1(tr,function(or,sr,ar){var cr=arrayMap$1(er,function(lr){return lr(or)});return{criteria:cr,index:++nr,value:or}});return baseSortBy(ir,function(or,sr){return compareMultiple(or,sr,rr)})}var _baseOrderBy=baseOrderBy$1;function apply$1(tr,er,rr){switch(rr.length){case 0:return tr.call(er);case 1:return tr.call(er,rr[0]);case 2:return tr.call(er,rr[0],rr[1]);case 3:return tr.call(er,rr[0],rr[1],rr[2])}return tr.apply(er,rr)}var _apply=apply$1,apply=_apply,nativeMax$3=Math.max;function overRest$1(tr,er,rr){return er=nativeMax$3(er===void 0?tr.length-1:er,0),function(){for(var nr=arguments,ir=-1,or=nativeMax$3(nr.length-er,0),sr=Array(or);++ir<or;)sr[ir]=nr[er+ir];ir=-1;for(var ar=Array(er+1);++ir<er;)ar[ir]=nr[ir];return ar[er]=rr(sr),apply(tr,this,ar)}}var _overRest=overRest$1;function constant$2(tr){return function(){return tr}}var constant_1=constant$2,getNative=_getNative,defineProperty$2=function(){try{var tr=getNative(Object,"defineProperty");return tr({},"",{}),tr}catch{}}(),_defineProperty$A=defineProperty$2,constant$1=constant_1,defineProperty$1=_defineProperty$A,identity$8=identity_1,baseSetToString$1=defineProperty$1?function(tr,er){return defineProperty$1(tr,"toString",{configurable:!0,enumerable:!1,value:constant$1(er),writable:!0})}:identity$8,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(tr){var er=0,rr=0;return function(){var nr=nativeNow(),ir=HOT_SPAN-(nr-rr);if(rr=nr,ir>0){if(++er>=HOT_COUNT)return arguments[0]}else er=0;return tr.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity$7=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$1(tr,er){return setToString(overRest(tr,er,identity$7),tr+"")}var _baseRest=baseRest$1,eq$6=eq_1$2,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$a=isObject_1;function isIterateeCall$4(tr,er,rr){if(!isObject$a(rr))return!1;var nr=typeof er;return(nr=="number"?isArrayLike$1(rr)&&isIndex(er,rr.length):nr=="string"&&er in rr)?eq$6(rr[er],tr):!1}var _isIterateeCall=isIterateeCall$4,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall$3=_isIterateeCall,sortBy=baseRest(function(tr,er){if(tr==null)return[];var rr=er.length;return rr>1&&isIterateeCall$3(tr,er[0],er[1])?er=[]:rr>2&&isIterateeCall$3(er[0],er[1],er[2])&&(er=[er[0]]),baseOrderBy(tr,baseFlatten$1(er,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _typeof$B(tr){"@babel/helpers - typeof";return _typeof$B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$B(tr)}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$m.apply(this,arguments)}function _slicedToArray$b(tr,er){return _arrayWithHoles$c(tr)||_iterableToArrayLimit$b(tr,er)||_unsupportedIterableToArray$j(tr,er)||_nonIterableRest$c()}function _nonIterableRest$c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$j(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$j(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$j(tr,er)}}function _arrayLikeToArray$j(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$b(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$c(tr){if(Array.isArray(tr))return tr}function ownKeys$x(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$w(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$x(Object(rr),!0).forEach(function(nr){_defineProperty$z(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$x(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$z(tr,er,rr){return er=_toPropertyKey$z(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$z(tr){var er=_toPrimitive$z(tr,"string");return _typeof$B(er)=="symbol"?er:String(er)}function _toPrimitive$z(tr,er){if(_typeof$B(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$B(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function defaultFormatter(tr){return Array.isArray(tr)&&isNumOrStr(tr[0])&&isNumOrStr(tr[1])?tr.join(" ~ "):tr}var DefaultTooltipContent=function(er){var rr=er.separator,nr=rr===void 0?" : ":rr,ir=er.contentStyle,or=ir===void 0?{}:ir,sr=er.itemStyle,ar=sr===void 0?{}:sr,cr=er.labelStyle,lr=cr===void 0?{}:cr,ur=er.payload,fr=er.formatter,dr=er.itemSorter,gr=er.wrapperClassName,br=er.labelClassName,vr=er.label,$r=er.labelFormatter,Er=er.accessibilityLayer,_r=Er===void 0?!1:Er,xr=function(){if(ur&&ur.length){var yr={padding:0,margin:0},mr=(dr?sortBy$1(ur,dr):ur).map(function(hr,pr){if(hr.type==="none")return null;var wr=_objectSpread$w({display:"block",paddingTop:4,paddingBottom:4,color:hr.color||"#000"},ar),Ar=hr.formatter||fr||defaultFormatter,Rr=hr.value,Pr=hr.name,Sr=Rr,Mr=Pr;if(Ar&&Sr!=null&&Mr!=null){var Br=Ar(Rr,Pr,hr,pr,ur);if(Array.isArray(Br)){var Ur=_slicedToArray$b(Br,2);Sr=Ur[0],Mr=Ur[1]}else Sr=Br}return React$1.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(pr),style:wr},isNumOrStr(Mr)?React$1.createElement("span",{className:"recharts-tooltip-item-name"},Mr):null,isNumOrStr(Mr)?React$1.createElement("span",{className:"recharts-tooltip-item-separator"},nr):null,React$1.createElement("span",{className:"recharts-tooltip-item-value"},Sr),React$1.createElement("span",{className:"recharts-tooltip-item-unit"},hr.unit||""))});return React$1.createElement("ul",{className:"recharts-tooltip-item-list",style:yr},mr)}return null},Ir=_objectSpread$w({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},or),Nr=_objectSpread$w({margin:0},lr),Lr=!isNil$1(vr),jr=Lr?vr:"",Or=clsx$1("recharts-default-tooltip",gr),Dr=clsx$1("recharts-tooltip-label",br);Lr&&$r&&ur!==void 0&&ur!==null&&(jr=$r(vr,ur));var Cr=_r?{role:"status","aria-live":"assertive"}:{};return React$1.createElement("div",_extends$m({className:Or,style:Ir},Cr),React$1.createElement("p",{className:Dr,style:Nr},React$1.isValidElement(jr)?jr:"".concat(jr)),xr())};function _typeof$A(tr){"@babel/helpers - typeof";return _typeof$A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$A(tr)}function _defineProperty$y(tr,er,rr){return er=_toPropertyKey$y(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$y(tr){var er=_toPrimitive$y(tr,"string");return _typeof$A(er)=="symbol"?er:String(er)}function _toPrimitive$y(tr,er){if(_typeof$A(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$A(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(tr){var er=tr.coordinate,rr=tr.translateX,nr=tr.translateY;return clsx$1(CSS_CLASS_PREFIX,_defineProperty$y(_defineProperty$y(_defineProperty$y(_defineProperty$y({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(rr)&&er&&isNumber(er.x)&&rr>=er.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(rr)&&er&&isNumber(er.x)&&rr<er.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(nr)&&er&&isNumber(er.y)&&nr>=er.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(nr)&&er&&isNumber(er.y)&&nr<er.y))}function getTooltipTranslateXY(tr){var er=tr.allowEscapeViewBox,rr=tr.coordinate,nr=tr.key,ir=tr.offsetTopLeft,or=tr.position,sr=tr.reverseDirection,ar=tr.tooltipDimension,cr=tr.viewBox,lr=tr.viewBoxDimension;if(or&&isNumber(or[nr]))return or[nr];var ur=rr[nr]-ar-ir,fr=rr[nr]+ir;if(er[nr])return sr[nr]?ur:fr;if(sr[nr]){var dr=ur,gr=cr[nr];return dr<gr?Math.max(fr,cr[nr]):Math.max(ur,cr[nr])}var br=fr+ar,vr=cr[nr]+lr;return br>vr?Math.max(ur,cr[nr]):Math.max(fr,cr[nr])}function getTransformStyle(tr){var er=tr.translateX,rr=tr.translateY,nr=tr.useTranslate3d;return{transform:nr?"translate3d(".concat(er,"px, ").concat(rr,"px, 0)"):"translate(".concat(er,"px, ").concat(rr,"px)")}}function getTooltipTranslate(tr){var er=tr.allowEscapeViewBox,rr=tr.coordinate,nr=tr.offsetTopLeft,ir=tr.position,or=tr.reverseDirection,sr=tr.tooltipBox,ar=tr.useTranslate3d,cr=tr.viewBox,lr,ur,fr;return sr.height>0&&sr.width>0&&rr?(ur=getTooltipTranslateXY({allowEscapeViewBox:er,coordinate:rr,key:"x",offsetTopLeft:nr,position:ir,reverseDirection:or,tooltipDimension:sr.width,viewBox:cr,viewBoxDimension:cr.width}),fr=getTooltipTranslateXY({allowEscapeViewBox:er,coordinate:rr,key:"y",offsetTopLeft:nr,position:ir,reverseDirection:or,tooltipDimension:sr.height,viewBox:cr,viewBoxDimension:cr.height}),lr=getTransformStyle({translateX:ur,translateY:fr,useTranslate3d:ar})):lr=TOOLTIP_HIDDEN,{cssProperties:lr,cssClasses:getTooltipCSSClassName({translateX:ur,translateY:fr,coordinate:rr})}}function _typeof$z(tr){"@babel/helpers - typeof";return _typeof$z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$z(tr)}function ownKeys$w(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$v(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$w(Object(rr),!0).forEach(function(nr){_defineProperty$x(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$w(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$a(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$x(nr.key),nr)}}function _createClass$a(tr,er,rr){return er&&_defineProperties$a(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$6(tr,er,rr){return er=_getPrototypeOf$7(er),_possibleConstructorReturn$7(tr,_isNativeReflectConstruct$7()?Reflect.construct(er,rr||[],_getPrototypeOf$7(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$7(tr,er){if(er&&(_typeof$z(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$7(tr)}function _isNativeReflectConstruct$7(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$7=function(){return!!tr})()}function _getPrototypeOf$7(tr){return _getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$7(tr)}function _assertThisInitialized$7(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _inherits$7(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$7(tr,er)}function _setPrototypeOf$7(tr,er){return _setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$7(tr,er)}function _defineProperty$x(tr,er,rr){return er=_toPropertyKey$x(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$x(tr){var er=_toPrimitive$x(tr,"string");return _typeof$z(er)=="symbol"?er:String(er)}function _toPrimitive$x(tr,er){if(_typeof$z(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$z(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var EPSILON=1,TooltipBoundingBox=function(tr){_inherits$7(er,tr);function er(){var rr;_classCallCheck$a(this,er);for(var nr=arguments.length,ir=new Array(nr),or=0;or<nr;or++)ir[or]=arguments[or];return rr=_callSuper$6(this,er,[].concat(ir)),_defineProperty$x(_assertThisInitialized$7(rr),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$x(_assertThisInitialized$7(rr),"handleKeyDown",function(sr){if(sr.key==="Escape"){var ar,cr,lr,ur;rr.setState({dismissed:!0,dismissedAtCoordinate:{x:(ar=(cr=rr.props.coordinate)===null||cr===void 0?void 0:cr.x)!==null&&ar!==void 0?ar:0,y:(lr=(ur=rr.props.coordinate)===null||ur===void 0?void 0:ur.y)!==null&&lr!==void 0?lr:0}})}}),rr}return _createClass$a(er,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var nr=this.wrapperNode.getBoundingClientRect();(Math.abs(nr.width-this.state.lastBoundingBox.width)>EPSILON||Math.abs(nr.height-this.state.lastBoundingBox.height)>EPSILON)&&this.setState({lastBoundingBox:{width:nr.width,height:nr.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var nr,ir;this.props.active&&this.updateBBox(),this.state.dismissed&&(((nr=this.props.coordinate)===null||nr===void 0?void 0:nr.x)!==this.state.dismissedAtCoordinate.x||((ir=this.props.coordinate)===null||ir===void 0?void 0:ir.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var nr=this,ir=this.props,or=ir.active,sr=ir.allowEscapeViewBox,ar=ir.animationDuration,cr=ir.animationEasing,lr=ir.children,ur=ir.coordinate,fr=ir.hasPayload,dr=ir.isAnimationActive,gr=ir.offset,br=ir.position,vr=ir.reverseDirection,$r=ir.useTranslate3d,Er=ir.viewBox,_r=ir.wrapperStyle,xr=getTooltipTranslate({allowEscapeViewBox:sr,coordinate:ur,offsetTopLeft:gr,position:br,reverseDirection:vr,tooltipBox:this.state.lastBoundingBox,useTranslate3d:$r,viewBox:Er}),Ir=xr.cssClasses,Nr=xr.cssProperties,Lr=_objectSpread$v(_objectSpread$v({transition:dr&&or?"transform ".concat(ar,"ms ").concat(cr):void 0},Nr),{},{pointerEvents:"none",visibility:!this.state.dismissed&&or&&fr?"visible":"hidden",position:"absolute",top:0,left:0},_r);return React$1.createElement("div",{tabIndex:-1,className:Ir,style:Lr,ref:function(Or){nr.wrapperNode=Or}},lr)}}]),er}(reactExports.PureComponent),parseIsSsrByDefault=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Global={isSsr:parseIsSsrByDefault(),get:function(er){return Global[er]},set:function(er,rr){if(typeof er=="string")Global[er]=rr;else{var nr=Object.keys(er);nr&&nr.length&&nr.forEach(function(ir){Global[ir]=er[ir]})}}};function _typeof$y(tr){"@babel/helpers - typeof";return _typeof$y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$y(tr)}function ownKeys$v(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$u(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$v(Object(rr),!0).forEach(function(nr){_defineProperty$w(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$v(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$9(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$w(nr.key),nr)}}function _createClass$9(tr,er,rr){return er&&_defineProperties$9(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$5(tr,er,rr){return er=_getPrototypeOf$6(er),_possibleConstructorReturn$6(tr,_isNativeReflectConstruct$6()?Reflect.construct(er,rr||[],_getPrototypeOf$6(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$6(tr,er){if(er&&(_typeof$y(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$6(tr)}function _assertThisInitialized$6(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$6(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$6=function(){return!!tr})()}function _getPrototypeOf$6(tr){return _getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$6(tr)}function _inherits$6(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$6(tr,er)}function _setPrototypeOf$6(tr,er){return _setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$6(tr,er)}function _defineProperty$w(tr,er,rr){return er=_toPropertyKey$w(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$w(tr){var er=_toPrimitive$w(tr,"string");return _typeof$y(er)=="symbol"?er:String(er)}function _toPrimitive$w(tr,er){if(_typeof$y(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$y(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function defaultUniqBy(tr){return tr.dataKey}function renderContent(tr,er){return React$1.isValidElement(tr)?React$1.cloneElement(tr,er):typeof tr=="function"?React$1.createElement(tr,er):React$1.createElement(DefaultTooltipContent,er)}var Tooltip=function(tr){_inherits$6(er,tr);function er(){return _classCallCheck$9(this,er),_callSuper$5(this,er,arguments)}return _createClass$9(er,[{key:"render",value:function(){var nr=this,ir=this.props,or=ir.active,sr=ir.allowEscapeViewBox,ar=ir.animationDuration,cr=ir.animationEasing,lr=ir.content,ur=ir.coordinate,fr=ir.filterNull,dr=ir.isAnimationActive,gr=ir.offset,br=ir.payload,vr=ir.payloadUniqBy,$r=ir.position,Er=ir.reverseDirection,_r=ir.useTranslate3d,xr=ir.viewBox,Ir=ir.wrapperStyle,Nr=br??[];fr&&Nr.length&&(Nr=getUniqPayload(br.filter(function(jr){return jr.value!=null&&(jr.hide!==!0||nr.props.includeHidden)}),vr,defaultUniqBy));var Lr=Nr.length>0;return React$1.createElement(TooltipBoundingBox,{allowEscapeViewBox:sr,animationDuration:ar,animationEasing:cr,isAnimationActive:dr,active:or,coordinate:ur,hasPayload:Lr,offset:gr,position:$r,reverseDirection:Er,useTranslate3d:_r,viewBox:xr,wrapperStyle:Ir},renderContent(lr,_objectSpread$u(_objectSpread$u({},this.props),{},{payload:Nr})))}}]),er}(reactExports.PureComponent);_defineProperty$w(Tooltip,"displayName","Tooltip");_defineProperty$w(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(tr){for(var er=tr.length;er--&&reWhitespace.test(tr.charAt(er)););return er}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(tr){return tr&&tr.slice(0,trimmedEndIndex(tr)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$9=isObject_1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$2(tr){if(typeof tr=="number")return tr;if(isSymbol$1(tr))return NAN;if(isObject$9(tr)){var er=typeof tr.valueOf=="function"?tr.valueOf():tr;tr=isObject$9(er)?er+"":er}if(typeof tr!="string")return tr===0?tr:+tr;tr=baseTrim(tr);var rr=reIsBinary.test(tr);return rr||reIsOctal.test(tr)?freeParseInt(tr.slice(2),rr?2:8):reIsBadHex.test(tr)?NAN:+tr}var toNumber_1=toNumber$2,isObject$8=isObject_1,now=now_1,toNumber$1=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax$2=Math.max,nativeMin=Math.min;function debounce$1(tr,er,rr){var nr,ir,or,sr,ar,cr,lr=0,ur=!1,fr=!1,dr=!0;if(typeof tr!="function")throw new TypeError(FUNC_ERROR_TEXT$1);er=toNumber$1(er)||0,isObject$8(rr)&&(ur=!!rr.leading,fr="maxWait"in rr,or=fr?nativeMax$2(toNumber$1(rr.maxWait)||0,er):or,dr="trailing"in rr?!!rr.trailing:dr);function gr(Lr){var jr=nr,Or=ir;return nr=ir=void 0,lr=Lr,sr=tr.apply(Or,jr),sr}function br(Lr){return lr=Lr,ar=setTimeout(Er,er),ur?gr(Lr):sr}function vr(Lr){var jr=Lr-cr,Or=Lr-lr,Dr=er-jr;return fr?nativeMin(Dr,or-Or):Dr}function $r(Lr){var jr=Lr-cr,Or=Lr-lr;return cr===void 0||jr>=er||jr<0||fr&&Or>=or}function Er(){var Lr=now();if($r(Lr))return _r(Lr);ar=setTimeout(Er,vr(Lr))}function _r(Lr){return ar=void 0,dr&&nr?gr(Lr):(nr=ir=void 0,sr)}function xr(){ar!==void 0&&clearTimeout(ar),lr=0,nr=cr=ir=ar=void 0}function Ir(){return ar===void 0?sr:_r(now())}function Nr(){var Lr=now(),jr=$r(Lr);if(nr=arguments,ir=this,cr=Lr,jr){if(ar===void 0)return br(cr);if(fr)return clearTimeout(ar),ar=setTimeout(Er,er),gr(cr)}return ar===void 0&&(ar=setTimeout(Er,er)),sr}return Nr.cancel=xr,Nr.flush=Ir,Nr}var debounce_1=debounce$1,debounce=debounce_1,isObject$7=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(tr,er,rr){var nr=!0,ir=!0;if(typeof tr!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$7(rr)&&(nr="leading"in rr?!!rr.leading:nr,ir="trailing"in rr?!!rr.trailing:ir),debounce(tr,er,{leading:nr,maxWait:er,trailing:ir})}var throttle_1=throttle;const throttle$1=getDefaultExportFromCjs(throttle_1);function _typeof$x(tr){"@babel/helpers - typeof";return _typeof$x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$x(tr)}function ownKeys$u(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$t(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$u(Object(rr),!0).forEach(function(nr){_defineProperty$v(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$u(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$v(tr,er,rr){return er=_toPropertyKey$v(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$v(tr){var er=_toPrimitive$v(tr,"string");return _typeof$x(er)=="symbol"?er:String(er)}function _toPrimitive$v(tr,er){if(_typeof$x(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$x(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _slicedToArray$a(tr,er){return _arrayWithHoles$b(tr)||_iterableToArrayLimit$a(tr,er)||_unsupportedIterableToArray$i(tr,er)||_nonIterableRest$b()}function _nonIterableRest$b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$i(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$i(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$i(tr,er)}}function _arrayLikeToArray$i(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$a(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$b(tr){if(Array.isArray(tr))return tr}var ResponsiveContainer=reactExports.forwardRef(function(tr,er){var rr=tr.aspect,nr=tr.initialDimension,ir=nr===void 0?{width:-1,height:-1}:nr,or=tr.width,sr=or===void 0?"100%":or,ar=tr.height,cr=ar===void 0?"100%":ar,lr=tr.minWidth,ur=lr===void 0?0:lr,fr=tr.minHeight,dr=tr.maxHeight,gr=tr.children,br=tr.debounce,vr=br===void 0?0:br,$r=tr.id,Er=tr.className,_r=tr.onResize,xr=tr.style,Ir=xr===void 0?{}:xr,Nr=reactExports.useRef(null),Lr=reactExports.useRef();Lr.current=_r,reactExports.useImperativeHandle(er,function(){return Object.defineProperty(Nr.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),Nr.current},configurable:!0})});var jr=reactExports.useState({containerWidth:ir.width,containerHeight:ir.height}),Or=_slicedToArray$a(jr,2),Dr=Or[0],Cr=Or[1],Tr=reactExports.useCallback(function(mr,hr){Cr(function(pr){var wr=Math.round(mr),Ar=Math.round(hr);return pr.containerWidth===wr&&pr.containerHeight===Ar?pr:{containerWidth:wr,containerHeight:Ar}})},[]);reactExports.useEffect(function(){var mr=function(Pr){var Sr,Mr=Pr[0].contentRect,Br=Mr.width,Ur=Mr.height;Tr(Br,Ur),(Sr=Lr.current)===null||Sr===void 0||Sr.call(Lr,Br,Ur)};vr>0&&(mr=throttle$1(mr,vr,{trailing:!0,leading:!1}));var hr=new ResizeObserver(mr),pr=Nr.current.getBoundingClientRect(),wr=pr.width,Ar=pr.height;return Tr(wr,Ar),hr.observe(Nr.current),function(){hr.disconnect()}},[Tr,vr]);var yr=reactExports.useMemo(function(){var mr=Dr.containerWidth,hr=Dr.containerHeight;if(mr<0||hr<0)return null;warn$1(isPercent(sr)||isPercent(cr),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,sr,cr),warn$1(!rr||rr>0,"The aspect(%s) must be greater than zero.",rr);var pr=isPercent(sr)?mr:sr,wr=isPercent(cr)?hr:cr;rr&&rr>0&&(pr?wr=pr/rr:wr&&(pr=wr*rr),dr&&wr>dr&&(wr=dr)),warn$1(pr>0||wr>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,pr,wr,sr,cr,ur,fr,rr);var Ar=!Array.isArray(gr)&&reactIsExports.isElement(gr)&&getDisplayName(gr.type).endsWith("Chart");return React$1.Children.map(gr,function(Rr){return reactIsExports.isElement(Rr)?reactExports.cloneElement(Rr,_objectSpread$t({width:pr,height:wr},Ar?{style:_objectSpread$t({height:"100%",width:"100%",maxHeight:wr,maxWidth:pr},Rr.props.style)}:{})):Rr})},[rr,gr,cr,dr,fr,ur,Dr,sr]);return React$1.createElement("div",{id:$r?"".concat($r):void 0,className:clsx$1("recharts-responsive-container",Er),style:_objectSpread$t(_objectSpread$t({},Ir),{},{width:sr,height:cr,minWidth:ur,minHeight:fr,maxHeight:dr}),ref:Nr},yr)}),Cell=function(er){return null};Cell.displayName="Cell";function _typeof$w(tr){"@babel/helpers - typeof";return _typeof$w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$w(tr)}function ownKeys$t(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$s(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$t(Object(rr),!0).forEach(function(nr){_defineProperty$u(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$t(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$u(tr,er,rr){return er=_toPropertyKey$u(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$u(tr){var er=_toPrimitive$u(tr,"string");return _typeof$w(er)=="symbol"?er:String(er)}function _toPrimitive$u(tr,er){if(_typeof$w(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$w(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var stringCache={widthCache:{},cacheCount:0},MAX_CACHE_NUM=2e3,SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function removeInvalidKeys(tr){var er=_objectSpread$s({},tr);return Object.keys(er).forEach(function(rr){er[rr]||delete er[rr]}),er}var getStringSize=function(er){var rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(er==null||Global.isSsr)return{width:0,height:0};var nr=removeInvalidKeys(rr),ir=JSON.stringify({text:er,copyStyle:nr});if(stringCache.widthCache[ir])return stringCache.widthCache[ir];try{var or=document.getElementById(MEASUREMENT_SPAN_ID);or||(or=document.createElement("span"),or.setAttribute("id",MEASUREMENT_SPAN_ID),or.setAttribute("aria-hidden","true"),document.body.appendChild(or));var sr=_objectSpread$s(_objectSpread$s({},SPAN_STYLE),nr);Object.assign(or.style,sr),or.textContent="".concat(er);var ar=or.getBoundingClientRect(),cr={width:ar.width,height:ar.height};return stringCache.widthCache[ir]=cr,++stringCache.cacheCount>MAX_CACHE_NUM&&(stringCache.cacheCount=0,stringCache.widthCache={}),cr}catch{return{width:0,height:0}}},getOffset=function(er){return{top:er.top+window.scrollY-document.documentElement.clientTop,left:er.left+window.scrollX-document.documentElement.clientLeft}};function _typeof$v(tr){"@babel/helpers - typeof";return _typeof$v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$v(tr)}function _slicedToArray$9(tr,er){return _arrayWithHoles$a(tr)||_iterableToArrayLimit$9(tr,er)||_unsupportedIterableToArray$h(tr,er)||_nonIterableRest$a()}function _nonIterableRest$a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$h(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$h(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$h(tr,er)}}function _arrayLikeToArray$h(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$9(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er===0){if(Object(rr)!==rr)return;cr=!1}else for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$a(tr){if(Array.isArray(tr))return tr}function _classCallCheck$8(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$t(nr.key),nr)}}function _createClass$8(tr,er,rr){return er&&_defineProperties$8(tr.prototype,er),rr&&_defineProperties$8(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _toPropertyKey$t(tr){var er=_toPrimitive$t(tr,"string");return _typeof$v(er)=="symbol"?er:String(er)}function _toPrimitive$t(tr,er){if(_typeof$v(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er);if(_typeof$v(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(tr)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(tr,er){return tr*CONVERSION_RATES[er]}var DecimalCSS=function(){function tr(er,rr){_classCallCheck$8(this,tr),this.num=er,this.unit=rr,this.num=er,this.unit=rr,Number.isNaN(er)&&(this.unit=""),rr!==""&&!CSS_LENGTH_UNIT_REGEX.test(rr)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(rr)&&(this.num=convertToPx(er,rr),this.unit="px")}return _createClass$8(tr,[{key:"add",value:function(rr){return this.unit!==rr.unit?new tr(NaN,""):new tr(this.num+rr.num,this.unit)}},{key:"subtract",value:function(rr){return this.unit!==rr.unit?new tr(NaN,""):new tr(this.num-rr.num,this.unit)}},{key:"multiply",value:function(rr){return this.unit!==""&&rr.unit!==""&&this.unit!==rr.unit?new tr(NaN,""):new tr(this.num*rr.num,this.unit||rr.unit)}},{key:"divide",value:function(rr){return this.unit!==""&&rr.unit!==""&&this.unit!==rr.unit?new tr(NaN,""):new tr(this.num/rr.num,this.unit||rr.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(rr){var nr,ir=(nr=NUM_SPLIT_REGEX.exec(rr))!==null&&nr!==void 0?nr:[],or=_slicedToArray$9(ir,3),sr=or[1],ar=or[2];return new tr(parseFloat(sr),ar??"")}}]),tr}();function calculateArithmetic(tr){if(tr.includes(STR_NAN))return STR_NAN;for(var er=tr;er.includes("*")||er.includes("/");){var rr,nr=(rr=MULTIPLY_OR_DIVIDE_REGEX.exec(er))!==null&&rr!==void 0?rr:[],ir=_slicedToArray$9(nr,4),or=ir[1],sr=ir[2],ar=ir[3],cr=DecimalCSS.parse(or??""),lr=DecimalCSS.parse(ar??""),ur=sr==="*"?cr.multiply(lr):cr.divide(lr);if(ur.isNaN())return STR_NAN;er=er.replace(MULTIPLY_OR_DIVIDE_REGEX,ur.toString())}for(;er.includes("+")||/.-\d+(?:\.\d+)?/.test(er);){var fr,dr=(fr=ADD_OR_SUBTRACT_REGEX.exec(er))!==null&&fr!==void 0?fr:[],gr=_slicedToArray$9(dr,4),br=gr[1],vr=gr[2],$r=gr[3],Er=DecimalCSS.parse(br??""),_r=DecimalCSS.parse($r??""),xr=vr==="+"?Er.add(_r):Er.subtract(_r);if(xr.isNaN())return STR_NAN;er=er.replace(ADD_OR_SUBTRACT_REGEX,xr.toString())}return er}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(tr){for(var er=tr;er.includes("(");){var rr=PARENTHESES_REGEX.exec(er),nr=_slicedToArray$9(rr,2),ir=nr[1];er=er.replace(PARENTHESES_REGEX,calculateArithmetic(ir))}return er}function evaluateExpression(tr){var er=tr.replace(/\s+/g,"");return er=calculateParentheses(er),er=calculateArithmetic(er),er}function safeEvaluateExpression(tr){try{return evaluateExpression(tr)}catch{return STR_NAN}}function reduceCSSCalc(tr){var er=safeEvaluateExpression(tr.slice(5,-1));return er===STR_NAN?"":er}var _excluded$c=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$4=["dx","dy","angle","className","breakAll"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$l.apply(this,arguments)}function _objectWithoutProperties$c(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$c(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$c(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function _slicedToArray$8(tr,er){return _arrayWithHoles$9(tr)||_iterableToArrayLimit$8(tr,er)||_unsupportedIterableToArray$g(tr,er)||_nonIterableRest$9()}function _nonIterableRest$9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$g(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$g(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$g(tr,er)}}function _arrayLikeToArray$g(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$8(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er===0){if(Object(rr)!==rr)return;cr=!1}else for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$9(tr){if(Array.isArray(tr))return tr}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function(er){var rr=er.children,nr=er.breakAll,ir=er.style;try{var or=[];isNil$1(rr)||(nr?or=rr.toString().split(""):or=rr.toString().split(BREAKING_SPACES));var sr=or.map(function(cr){return{word:cr,width:getStringSize(cr,ir).width}}),ar=nr?0:getStringSize(" ",ir).width;return{wordsWithComputedWidth:sr,spaceWidth:ar}}catch{return null}},calculateWordsByLines=function(er,rr,nr,ir,or){var sr=er.maxLines,ar=er.children,cr=er.style,lr=er.breakAll,ur=isNumber(sr),fr=ar,dr=function(){var pr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return pr.reduce(function(wr,Ar){var Rr=Ar.word,Pr=Ar.width,Sr=wr[wr.length-1];if(Sr&&(ir==null||or||Sr.width+Pr+nr<Number(ir)))Sr.words.push(Rr),Sr.width+=Pr+nr;else{var Mr={words:[Rr],width:Pr};wr.push(Mr)}return wr},[])},gr=dr(rr),br=function(pr){return pr.reduce(function(wr,Ar){return wr.width>Ar.width?wr:Ar})};if(!ur)return gr;for(var vr="…",$r=function(pr){var wr=fr.slice(0,pr),Ar=calculateWordWidths({breakAll:lr,style:cr,children:wr+vr}).wordsWithComputedWidth,Rr=dr(Ar),Pr=Rr.length>sr||br(Rr).width>Number(ir);return[Pr,Rr]},Er=0,_r=fr.length-1,xr=0,Ir;Er<=_r&&xr<=fr.length-1;){var Nr=Math.floor((Er+_r)/2),Lr=Nr-1,jr=$r(Lr),Or=_slicedToArray$8(jr,2),Dr=Or[0],Cr=Or[1],Tr=$r(Nr),yr=_slicedToArray$8(Tr,1),mr=yr[0];if(!Dr&&!mr&&(Er=Nr+1),Dr&&mr&&(_r=Nr-1),!Dr&&mr){Ir=Cr;break}xr++}return Ir||gr},getWordsWithoutCalculate=function(er){var rr=isNil$1(er)?[]:er.toString().split(BREAKING_SPACES);return[{words:rr}]},getWordsByLines=function(er){var rr=er.width,nr=er.scaleToFit,ir=er.children,or=er.style,sr=er.breakAll,ar=er.maxLines;if((rr||nr)&&!Global.isSsr){var cr,lr,ur=calculateWordWidths({breakAll:sr,children:ir,style:or});if(ur){var fr=ur.wordsWithComputedWidth,dr=ur.spaceWidth;cr=fr,lr=dr}else return getWordsWithoutCalculate(ir);return calculateWordsByLines({breakAll:sr,children:ir,maxLines:ar,style:or},cr,lr,rr,nr)}return getWordsWithoutCalculate(ir)},DEFAULT_FILL="#808080",Text=function(er){var rr=er.x,nr=rr===void 0?0:rr,ir=er.y,or=ir===void 0?0:ir,sr=er.lineHeight,ar=sr===void 0?"1em":sr,cr=er.capHeight,lr=cr===void 0?"0.71em":cr,ur=er.scaleToFit,fr=ur===void 0?!1:ur,dr=er.textAnchor,gr=dr===void 0?"start":dr,br=er.verticalAnchor,vr=br===void 0?"end":br,$r=er.fill,Er=$r===void 0?DEFAULT_FILL:$r,_r=_objectWithoutProperties$c(er,_excluded$c),xr=reactExports.useMemo(function(){return getWordsByLines({breakAll:_r.breakAll,children:_r.children,maxLines:_r.maxLines,scaleToFit:fr,style:_r.style,width:_r.width})},[_r.breakAll,_r.children,_r.maxLines,fr,_r.style,_r.width]),Ir=_r.dx,Nr=_r.dy,Lr=_r.angle,jr=_r.className,Or=_r.breakAll,Dr=_objectWithoutProperties$c(_r,_excluded2$4);if(!isNumOrStr(nr)||!isNumOrStr(or))return null;var Cr=nr+(isNumber(Ir)?Ir:0),Tr=or+(isNumber(Nr)?Nr:0),yr;switch(vr){case"start":yr=reduceCSSCalc("calc(".concat(lr,")"));break;case"middle":yr=reduceCSSCalc("calc(".concat((xr.length-1)/2," * -").concat(ar," + (").concat(lr," / 2))"));break;default:yr=reduceCSSCalc("calc(".concat(xr.length-1," * -").concat(ar,")"));break}var mr=[];if(fr){var hr=xr[0].width,pr=_r.width;mr.push("scale(".concat((isNumber(pr)?pr/hr:1)/hr,")"))}return Lr&&mr.push("rotate(".concat(Lr,", ").concat(Cr,", ").concat(Tr,")")),mr.length&&(Dr.transform=mr.join(" ")),React$1.createElement("text",_extends$l({},filterProps(Dr,!0),{x:Cr,y:Tr,className:clsx$1("recharts-text",jr),textAnchor:gr,fill:Er.includes("url")?DEFAULT_FILL:Er}),xr.map(function(wr,Ar){var Rr=wr.words.join(Or?"":" ");return React$1.createElement("tspan",{x:Cr,dy:Ar===0?yr:ar,key:Rr},Rr)}))};function ascending(tr,er){return tr==null||er==null?NaN:tr<er?-1:tr>er?1:tr>=er?0:NaN}function descending(tr,er){return tr==null||er==null?NaN:er<tr?-1:er>tr?1:er>=tr?0:NaN}function bisector(tr){let er,rr,nr;tr.length!==2?(er=ascending,rr=(ar,cr)=>ascending(tr(ar),cr),nr=(ar,cr)=>tr(ar)-cr):(er=tr===ascending||tr===descending?tr:zero$1,rr=tr,nr=tr);function ir(ar,cr,lr=0,ur=ar.length){if(lr<ur){if(er(cr,cr)!==0)return ur;do{const fr=lr+ur>>>1;rr(ar[fr],cr)<0?lr=fr+1:ur=fr}while(lr<ur)}return lr}function or(ar,cr,lr=0,ur=ar.length){if(lr<ur){if(er(cr,cr)!==0)return ur;do{const fr=lr+ur>>>1;rr(ar[fr],cr)<=0?lr=fr+1:ur=fr}while(lr<ur)}return lr}function sr(ar,cr,lr=0,ur=ar.length){const fr=ir(ar,cr,lr,ur-1);return fr>lr&&nr(ar[fr-1],cr)>-nr(ar[fr],cr)?fr-1:fr}return{left:ir,center:sr,right:or}}function zero$1(){return 0}function number$8(tr){return tr===null?NaN:+tr}function*numbers(tr,er){for(let rr of tr)rr!=null&&(rr=+rr)>=rr&&(yield rr)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$8).center;class InternMap extends Map{constructor(er,rr=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:rr}}),er!=null)for(const[nr,ir]of er)this.set(nr,ir)}get(er){return super.get(intern_get(this,er))}has(er){return super.has(intern_get(this,er))}set(er,rr){return super.set(intern_set(this,er),rr)}delete(er){return super.delete(intern_delete(this,er))}}function intern_get({_intern:tr,_key:er},rr){const nr=er(rr);return tr.has(nr)?tr.get(nr):rr}function intern_set({_intern:tr,_key:er},rr){const nr=er(rr);return tr.has(nr)?tr.get(nr):(tr.set(nr,rr),rr)}function intern_delete({_intern:tr,_key:er},rr){const nr=er(rr);return tr.has(nr)&&(rr=tr.get(nr),tr.delete(nr)),rr}function keyof(tr){return tr!==null&&typeof tr=="object"?tr.valueOf():tr}function compareDefined(tr=ascending){if(tr===ascending)return ascendingDefined;if(typeof tr!="function")throw new TypeError("compare is not a function");return(er,rr)=>{const nr=tr(er,rr);return nr||nr===0?nr:(tr(rr,rr)===0)-(tr(er,er)===0)}}function ascendingDefined(tr,er){return(tr==null||!(tr>=tr))-(er==null||!(er>=er))||(tr<er?-1:tr>er?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(tr,er,rr){const nr=(er-tr)/Math.max(0,rr),ir=Math.floor(Math.log10(nr)),or=nr/Math.pow(10,ir),sr=or>=e10?10:or>=e5?5:or>=e2?2:1;let ar,cr,lr;return ir<0?(lr=Math.pow(10,-ir)/sr,ar=Math.round(tr*lr),cr=Math.round(er*lr),ar/lr<tr&&++ar,cr/lr>er&&--cr,lr=-lr):(lr=Math.pow(10,ir)*sr,ar=Math.round(tr/lr),cr=Math.round(er/lr),ar*lr<tr&&++ar,cr*lr>er&&--cr),cr<ar&&.5<=rr&&rr<2?tickSpec(tr,er,rr*2):[ar,cr,lr]}function ticks(tr,er,rr){if(er=+er,tr=+tr,rr=+rr,!(rr>0))return[];if(tr===er)return[tr];const nr=er<tr,[ir,or,sr]=nr?tickSpec(er,tr,rr):tickSpec(tr,er,rr);if(!(or>=ir))return[];const ar=or-ir+1,cr=new Array(ar);if(nr)if(sr<0)for(let lr=0;lr<ar;++lr)cr[lr]=(or-lr)/-sr;else for(let lr=0;lr<ar;++lr)cr[lr]=(or-lr)*sr;else if(sr<0)for(let lr=0;lr<ar;++lr)cr[lr]=(ir+lr)/-sr;else for(let lr=0;lr<ar;++lr)cr[lr]=(ir+lr)*sr;return cr}function tickIncrement(tr,er,rr){return er=+er,tr=+tr,rr=+rr,tickSpec(tr,er,rr)[2]}function tickStep(tr,er,rr){er=+er,tr=+tr,rr=+rr;const nr=er<tr,ir=nr?tickIncrement(er,tr,rr):tickIncrement(tr,er,rr);return(nr?-1:1)*(ir<0?1/-ir:ir)}function max$4(tr,er){let rr;for(const nr of tr)nr!=null&&(rr<nr||rr===void 0&&nr>=nr)&&(rr=nr);return rr}function min$3(tr,er){let rr;for(const nr of tr)nr!=null&&(rr>nr||rr===void 0&&nr>=nr)&&(rr=nr);return rr}function quickselect(tr,er,rr=0,nr=1/0,ir){if(er=Math.floor(er),rr=Math.floor(Math.max(0,rr)),nr=Math.floor(Math.min(tr.length-1,nr)),!(rr<=er&&er<=nr))return tr;for(ir=ir===void 0?ascendingDefined:compareDefined(ir);nr>rr;){if(nr-rr>600){const cr=nr-rr+1,lr=er-rr+1,ur=Math.log(cr),fr=.5*Math.exp(2*ur/3),dr=.5*Math.sqrt(ur*fr*(cr-fr)/cr)*(lr-cr/2<0?-1:1),gr=Math.max(rr,Math.floor(er-lr*fr/cr+dr)),br=Math.min(nr,Math.floor(er+(cr-lr)*fr/cr+dr));quickselect(tr,er,gr,br,ir)}const or=tr[er];let sr=rr,ar=nr;for(swap(tr,rr,er),ir(tr[nr],or)>0&&swap(tr,rr,nr);sr<ar;){for(swap(tr,sr,ar),++sr,--ar;ir(tr[sr],or)<0;)++sr;for(;ir(tr[ar],or)>0;)--ar}ir(tr[rr],or)===0?swap(tr,rr,ar):(++ar,swap(tr,ar,nr)),ar<=er&&(rr=ar+1),er<=ar&&(nr=ar-1)}return tr}function swap(tr,er,rr){const nr=tr[er];tr[er]=tr[rr],tr[rr]=nr}function quantile$1(tr,er,rr){if(tr=Float64Array.from(numbers(tr)),!(!(nr=tr.length)||isNaN(er=+er))){if(er<=0||nr<2)return min$3(tr);if(er>=1)return max$4(tr);var nr,ir=(nr-1)*er,or=Math.floor(ir),sr=max$4(quickselect(tr,or).subarray(0,or+1)),ar=min$3(tr.subarray(or+1));return sr+(ar-sr)*(ir-or)}}function quantileSorted(tr,er,rr=number$8){if(!(!(nr=tr.length)||isNaN(er=+er))){if(er<=0||nr<2)return+rr(tr[0],0,tr);if(er>=1)return+rr(tr[nr-1],nr-1,tr);var nr,ir=(nr-1)*er,or=Math.floor(ir),sr=+rr(tr[or],or,tr),ar=+rr(tr[or+1],or+1,tr);return sr+(ar-sr)*(ir-or)}}function range$7(tr,er,rr){tr=+tr,er=+er,rr=(ir=arguments.length)<2?(er=tr,tr=0,1):ir<3?1:+rr;for(var nr=-1,ir=Math.max(0,Math.ceil((er-tr)/rr))|0,or=new Array(ir);++nr<ir;)or[nr]=tr+nr*rr;return or}function initRange(tr,er){switch(arguments.length){case 0:break;case 1:this.range(tr);break;default:this.range(er).domain(tr);break}return this}function initInterpolator(tr,er){switch(arguments.length){case 0:break;case 1:{typeof tr=="function"?this.interpolator(tr):this.range(tr);break}default:{this.domain(tr),typeof er=="function"?this.interpolator(er):this.range(er);break}}return this}const implicit=Symbol("implicit");function ordinal(){var tr=new InternMap,er=[],rr=[],nr=implicit;function ir(or){let sr=tr.get(or);if(sr===void 0){if(nr!==implicit)return nr;tr.set(or,sr=er.push(or)-1)}return rr[sr%rr.length]}return ir.domain=function(or){if(!arguments.length)return er.slice();er=[],tr=new InternMap;for(const sr of or)tr.has(sr)||tr.set(sr,er.push(sr)-1);return ir},ir.range=function(or){return arguments.length?(rr=Array.from(or),ir):rr.slice()},ir.unknown=function(or){return arguments.length?(nr=or,ir):nr},ir.copy=function(){return ordinal(er,rr).unknown(nr)},initRange.apply(ir,arguments),ir}function band(){var tr=ordinal().unknown(void 0),er=tr.domain,rr=tr.range,nr=0,ir=1,or,sr,ar=!1,cr=0,lr=0,ur=.5;delete tr.unknown;function fr(){var dr=er().length,gr=ir<nr,br=gr?ir:nr,vr=gr?nr:ir;or=(vr-br)/Math.max(1,dr-cr+lr*2),ar&&(or=Math.floor(or)),br+=(vr-br-or*(dr-cr))*ur,sr=or*(1-cr),ar&&(br=Math.round(br),sr=Math.round(sr));var $r=range$7(dr).map(function(Er){return br+or*Er});return rr(gr?$r.reverse():$r)}return tr.domain=function(dr){return arguments.length?(er(dr),fr()):er()},tr.range=function(dr){return arguments.length?([nr,ir]=dr,nr=+nr,ir=+ir,fr()):[nr,ir]},tr.rangeRound=function(dr){return[nr,ir]=dr,nr=+nr,ir=+ir,ar=!0,fr()},tr.bandwidth=function(){return sr},tr.step=function(){return or},tr.round=function(dr){return arguments.length?(ar=!!dr,fr()):ar},tr.padding=function(dr){return arguments.length?(cr=Math.min(1,lr=+dr),fr()):cr},tr.paddingInner=function(dr){return arguments.length?(cr=Math.min(1,dr),fr()):cr},tr.paddingOuter=function(dr){return arguments.length?(lr=+dr,fr()):lr},tr.align=function(dr){return arguments.length?(ur=Math.max(0,Math.min(1,dr)),fr()):ur},tr.copy=function(){return band(er(),[nr,ir]).round(ar).paddingInner(cr).paddingOuter(lr).align(ur)},initRange.apply(fr(),arguments)}function pointish(tr){var er=tr.copy;return tr.padding=tr.paddingOuter,delete tr.paddingInner,delete tr.paddingOuter,tr.copy=function(){return pointish(er())},tr}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define$1(tr,er,rr){tr.prototype=er.prototype=rr,rr.constructor=tr}function extend(tr,er){var rr=Object.create(tr.prototype);for(var nr in er)rr[nr]=er[nr];return rr}function Color$2(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$1(Color$2,color$1,{copy(tr){return Object.assign(new this.constructor,this,tr)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(tr){var er,rr;return tr=(tr+"").trim().toLowerCase(),(er=reHex.exec(tr))?(rr=er[1].length,er=parseInt(er[1],16),rr===6?rgbn(er):rr===3?new Rgb(er>>8&15|er>>4&240,er>>4&15|er&240,(er&15)<<4|er&15,1):rr===8?rgba(er>>24&255,er>>16&255,er>>8&255,(er&255)/255):rr===4?rgba(er>>12&15|er>>8&240,er>>8&15|er>>4&240,er>>4&15|er&240,((er&15)<<4|er&15)/255):null):(er=reRgbInteger.exec(tr))?new Rgb(er[1],er[2],er[3],1):(er=reRgbPercent.exec(tr))?new Rgb(er[1]*255/100,er[2]*255/100,er[3]*255/100,1):(er=reRgbaInteger.exec(tr))?rgba(er[1],er[2],er[3],er[4]):(er=reRgbaPercent.exec(tr))?rgba(er[1]*255/100,er[2]*255/100,er[3]*255/100,er[4]):(er=reHslPercent.exec(tr))?hsla(er[1],er[2]/100,er[3]/100,1):(er=reHslaPercent.exec(tr))?hsla(er[1],er[2]/100,er[3]/100,er[4]):named.hasOwnProperty(tr)?rgbn(named[tr]):tr==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(tr){return new Rgb(tr>>16&255,tr>>8&255,tr&255,1)}function rgba(tr,er,rr,nr){return nr<=0&&(tr=er=rr=NaN),new Rgb(tr,er,rr,nr)}function rgbConvert(tr){return tr instanceof Color$2||(tr=color$1(tr)),tr?(tr=tr.rgb(),new Rgb(tr.r,tr.g,tr.b,tr.opacity)):new Rgb}function rgb$1(tr,er,rr,nr){return arguments.length===1?rgbConvert(tr):new Rgb(tr,er,rr,nr??1)}function Rgb(tr,er,rr,nr){this.r=+tr,this.g=+er,this.b=+rr,this.opacity=+nr}define$1(Rgb,rgb$1,extend(Color$2,{brighter(tr){return tr=tr==null?brighter:Math.pow(brighter,tr),new Rgb(this.r*tr,this.g*tr,this.b*tr,this.opacity)},darker(tr){return tr=tr==null?darker:Math.pow(darker,tr),new Rgb(this.r*tr,this.g*tr,this.b*tr,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex$2(this.r)}${hex$2(this.g)}${hex$2(this.b)}`}function rgb_formatHex8(){return`#${hex$2(this.r)}${hex$2(this.g)}${hex$2(this.b)}${hex$2((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const tr=clampa(this.opacity);return`${tr===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${tr===1?")":`, ${tr})`}`}function clampa(tr){return isNaN(tr)?1:Math.max(0,Math.min(1,tr))}function clampi(tr){return Math.max(0,Math.min(255,Math.round(tr)||0))}function hex$2(tr){return tr=clampi(tr),(tr<16?"0":"")+tr.toString(16)}function hsla(tr,er,rr,nr){return nr<=0?tr=er=rr=NaN:rr<=0||rr>=1?tr=er=NaN:er<=0&&(tr=NaN),new Hsl(tr,er,rr,nr)}function hslConvert(tr){if(tr instanceof Hsl)return new Hsl(tr.h,tr.s,tr.l,tr.opacity);if(tr instanceof Color$2||(tr=color$1(tr)),!tr)return new Hsl;if(tr instanceof Hsl)return tr;tr=tr.rgb();var er=tr.r/255,rr=tr.g/255,nr=tr.b/255,ir=Math.min(er,rr,nr),or=Math.max(er,rr,nr),sr=NaN,ar=or-ir,cr=(or+ir)/2;return ar?(er===or?sr=(rr-nr)/ar+(rr<nr)*6:rr===or?sr=(nr-er)/ar+2:sr=(er-rr)/ar+4,ar/=cr<.5?or+ir:2-or-ir,sr*=60):ar=cr>0&&cr<1?0:sr,new Hsl(sr,ar,cr,tr.opacity)}function hsl(tr,er,rr,nr){return arguments.length===1?hslConvert(tr):new Hsl(tr,er,rr,nr??1)}function Hsl(tr,er,rr,nr){this.h=+tr,this.s=+er,this.l=+rr,this.opacity=+nr}define$1(Hsl,hsl,extend(Color$2,{brighter(tr){return tr=tr==null?brighter:Math.pow(brighter,tr),new Hsl(this.h,this.s,this.l*tr,this.opacity)},darker(tr){return tr=tr==null?darker:Math.pow(darker,tr),new Hsl(this.h,this.s,this.l*tr,this.opacity)},rgb(){var tr=this.h%360+(this.h<0)*360,er=isNaN(tr)||isNaN(this.s)?0:this.s,rr=this.l,nr=rr+(rr<.5?rr:1-rr)*er,ir=2*rr-nr;return new Rgb(hsl2rgb(tr>=240?tr-240:tr+120,ir,nr),hsl2rgb(tr,ir,nr),hsl2rgb(tr<120?tr+240:tr-120,ir,nr),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const tr=clampa(this.opacity);return`${tr===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${tr===1?")":`, ${tr})`}`}}));function clamph(tr){return tr=(tr||0)%360,tr<0?tr+360:tr}function clampt(tr){return Math.max(0,Math.min(1,tr||0))}function hsl2rgb(tr,er,rr){return(tr<60?er+(rr-er)*tr/60:tr<180?rr:tr<240?er+(rr-er)*(240-tr)/60:er)*255}const constant=tr=>()=>tr;function linear$1(tr,er){return function(rr){return tr+rr*er}}function exponential(tr,er,rr){return tr=Math.pow(tr,rr),er=Math.pow(er,rr)-tr,rr=1/rr,function(nr){return Math.pow(tr+nr*er,rr)}}function gamma(tr){return(tr=+tr)==1?nogamma:function(er,rr){return rr-er?exponential(er,rr,tr):constant(isNaN(er)?rr:er)}}function nogamma(tr,er){var rr=er-tr;return rr?linear$1(tr,rr):constant(isNaN(tr)?er:tr)}const rgb=function tr(er){var rr=gamma(er);function nr(ir,or){var sr=rr((ir=rgb$1(ir)).r,(or=rgb$1(or)).r),ar=rr(ir.g,or.g),cr=rr(ir.b,or.b),lr=nogamma(ir.opacity,or.opacity);return function(ur){return ir.r=sr(ur),ir.g=ar(ur),ir.b=cr(ur),ir.opacity=lr(ur),ir+""}}return nr.gamma=tr,nr}(1);function numberArray(tr,er){er||(er=[]);var rr=tr?Math.min(er.length,tr.length):0,nr=er.slice(),ir;return function(or){for(ir=0;ir<rr;++ir)nr[ir]=tr[ir]*(1-or)+er[ir]*or;return nr}}function isNumberArray(tr){return ArrayBuffer.isView(tr)&&!(tr instanceof DataView)}function genericArray(tr,er){var rr=er?er.length:0,nr=tr?Math.min(rr,tr.length):0,ir=new Array(nr),or=new Array(rr),sr;for(sr=0;sr<nr;++sr)ir[sr]=interpolate(tr[sr],er[sr]);for(;sr<rr;++sr)or[sr]=er[sr];return function(ar){for(sr=0;sr<nr;++sr)or[sr]=ir[sr](ar);return or}}function date$1(tr,er){var rr=new Date;return tr=+tr,er=+er,function(nr){return rr.setTime(tr*(1-nr)+er*nr),rr}}function interpolateNumber$1(tr,er){return tr=+tr,er=+er,function(rr){return tr*(1-rr)+er*rr}}function object(tr,er){var rr={},nr={},ir;(tr===null||typeof tr!="object")&&(tr={}),(er===null||typeof er!="object")&&(er={});for(ir in er)ir in tr?rr[ir]=interpolate(tr[ir],er[ir]):nr[ir]=er[ir];return function(or){for(ir in rr)nr[ir]=rr[ir](or);return nr}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(tr){return function(){return tr}}function one(tr){return function(er){return tr(er)+""}}function string$1(tr,er){var rr=reA.lastIndex=reB.lastIndex=0,nr,ir,or,sr=-1,ar=[],cr=[];for(tr=tr+"",er=er+"";(nr=reA.exec(tr))&&(ir=reB.exec(er));)(or=ir.index)>rr&&(or=er.slice(rr,or),ar[sr]?ar[sr]+=or:ar[++sr]=or),(nr=nr[0])===(ir=ir[0])?ar[sr]?ar[sr]+=ir:ar[++sr]=ir:(ar[++sr]=null,cr.push({i:sr,x:interpolateNumber$1(nr,ir)})),rr=reB.lastIndex;return rr<er.length&&(or=er.slice(rr),ar[sr]?ar[sr]+=or:ar[++sr]=or),ar.length<2?cr[0]?one(cr[0].x):zero(er):(er=cr.length,function(lr){for(var ur=0,fr;ur<er;++ur)ar[(fr=cr[ur]).i]=fr.x(lr);return ar.join("")})}function interpolate(tr,er){var rr=typeof er,nr;return er==null||rr==="boolean"?constant(er):(rr==="number"?interpolateNumber$1:rr==="string"?(nr=color$1(er))?(er=nr,rgb):string$1:er instanceof color$1?rgb:er instanceof Date?date$1:isNumberArray(er)?numberArray:Array.isArray(er)?genericArray:typeof er.valueOf!="function"&&typeof er.toString!="function"||isNaN(er)?object:interpolateNumber$1)(tr,er)}function interpolateRound(tr,er){return tr=+tr,er=+er,function(rr){return Math.round(tr*(1-rr)+er*rr)}}function piecewise(tr,er){er===void 0&&(er=tr,tr=interpolate);for(var rr=0,nr=er.length-1,ir=er[0],or=new Array(nr<0?0:nr);rr<nr;)or[rr]=tr(ir,ir=er[++rr]);return function(sr){var ar=Math.max(0,Math.min(nr-1,Math.floor(sr*=nr)));return or[ar](sr-ar)}}function constants$8(tr){return function(){return tr}}function number$7(tr){return+tr}var unit=[0,1];function identity$6(tr){return tr}function normalize$1(tr,er){return(er-=tr=+tr)?function(rr){return(rr-tr)/er}:constants$8(isNaN(er)?NaN:.5)}function clamper(tr,er){var rr;return tr>er&&(rr=tr,tr=er,er=rr),function(nr){return Math.max(tr,Math.min(er,nr))}}function bimap(tr,er,rr){var nr=tr[0],ir=tr[1],or=er[0],sr=er[1];return ir<nr?(nr=normalize$1(ir,nr),or=rr(sr,or)):(nr=normalize$1(nr,ir),or=rr(or,sr)),function(ar){return or(nr(ar))}}function polymap(tr,er,rr){var nr=Math.min(tr.length,er.length)-1,ir=new Array(nr),or=new Array(nr),sr=-1;for(tr[nr]<tr[0]&&(tr=tr.slice().reverse(),er=er.slice().reverse());++sr<nr;)ir[sr]=normalize$1(tr[sr],tr[sr+1]),or[sr]=rr(er[sr],er[sr+1]);return function(ar){var cr=bisectRight(tr,ar,1,nr)-1;return or[cr](ir[cr](ar))}}function copy$3(tr,er){return er.domain(tr.domain()).range(tr.range()).interpolate(tr.interpolate()).clamp(tr.clamp()).unknown(tr.unknown())}function transformer$2(){var tr=unit,er=unit,rr=interpolate,nr,ir,or,sr=identity$6,ar,cr,lr;function ur(){var dr=Math.min(tr.length,er.length);return sr!==identity$6&&(sr=clamper(tr[0],tr[dr-1])),ar=dr>2?polymap:bimap,cr=lr=null,fr}function fr(dr){return dr==null||isNaN(dr=+dr)?or:(cr||(cr=ar(tr.map(nr),er,rr)))(nr(sr(dr)))}return fr.invert=function(dr){return sr(ir((lr||(lr=ar(er,tr.map(nr),interpolateNumber$1)))(dr)))},fr.domain=function(dr){return arguments.length?(tr=Array.from(dr,number$7),ur()):tr.slice()},fr.range=function(dr){return arguments.length?(er=Array.from(dr),ur()):er.slice()},fr.rangeRound=function(dr){return er=Array.from(dr),rr=interpolateRound,ur()},fr.clamp=function(dr){return arguments.length?(sr=dr?!0:identity$6,ur()):sr!==identity$6},fr.interpolate=function(dr){return arguments.length?(rr=dr,ur()):rr},fr.unknown=function(dr){return arguments.length?(or=dr,fr):or},function(dr,gr){return nr=dr,ir=gr,ur()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimal(tr){return Math.abs(tr=Math.round(tr))>=1e21?tr.toLocaleString("en").replace(/,/g,""):tr.toString(10)}function formatDecimalParts(tr,er){if((rr=(tr=er?tr.toExponential(er-1):tr.toExponential()).indexOf("e"))<0)return null;var rr,nr=tr.slice(0,rr);return[nr.length>1?nr[0]+nr.slice(2):nr,+tr.slice(rr+1)]}function exponent(tr){return tr=formatDecimalParts(Math.abs(tr)),tr?tr[1]:NaN}function formatGroup(tr,er){return function(rr,nr){for(var ir=rr.length,or=[],sr=0,ar=tr[0],cr=0;ir>0&&ar>0&&(cr+ar+1>nr&&(ar=Math.max(1,nr-cr)),or.push(rr.substring(ir-=ar,ir+ar)),!((cr+=ar+1)>nr));)ar=tr[sr=(sr+1)%tr.length];return or.reverse().join(er)}}function formatNumerals(tr){return function(er){return er.replace(/[0-9]/g,function(rr){return tr[+rr]})}}var re$8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(tr){if(!(er=re$8.exec(tr)))throw new Error("invalid format: "+tr);var er;return new FormatSpecifier({fill:er[1],align:er[2],sign:er[3],symbol:er[4],zero:er[5],width:er[6],comma:er[7],precision:er[8]&&er[8].slice(1),trim:er[9],type:er[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(tr){this.fill=tr.fill===void 0?" ":tr.fill+"",this.align=tr.align===void 0?">":tr.align+"",this.sign=tr.sign===void 0?"-":tr.sign+"",this.symbol=tr.symbol===void 0?"":tr.symbol+"",this.zero=!!tr.zero,this.width=tr.width===void 0?void 0:+tr.width,this.comma=!!tr.comma,this.precision=tr.precision===void 0?void 0:+tr.precision,this.trim=!!tr.trim,this.type=tr.type===void 0?"":tr.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(tr){e:for(var er=tr.length,rr=1,nr=-1,ir;rr<er;++rr)switch(tr[rr]){case".":nr=ir=rr;break;case"0":nr===0&&(nr=rr),ir=rr;break;default:if(!+tr[rr])break e;nr>0&&(nr=0);break}return nr>0?tr.slice(0,nr)+tr.slice(ir+1):tr}var prefixExponent;function formatPrefixAuto(tr,er){var rr=formatDecimalParts(tr,er);if(!rr)return tr+"";var nr=rr[0],ir=rr[1],or=ir-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(ir/3)))*3)+1,sr=nr.length;return or===sr?nr:or>sr?nr+new Array(or-sr+1).join("0"):or>0?nr.slice(0,or)+"."+nr.slice(or):"0."+new Array(1-or).join("0")+formatDecimalParts(tr,Math.max(0,er+or-1))[0]}function formatRounded(tr,er){var rr=formatDecimalParts(tr,er);if(!rr)return tr+"";var nr=rr[0],ir=rr[1];return ir<0?"0."+new Array(-ir).join("0")+nr:nr.length>ir+1?nr.slice(0,ir+1)+"."+nr.slice(ir+1):nr+new Array(ir-nr.length+2).join("0")}const formatTypes={"%":(tr,er)=>(tr*100).toFixed(er),b:tr=>Math.round(tr).toString(2),c:tr=>tr+"",d:formatDecimal,e:(tr,er)=>tr.toExponential(er),f:(tr,er)=>tr.toFixed(er),g:(tr,er)=>tr.toPrecision(er),o:tr=>Math.round(tr).toString(8),p:(tr,er)=>formatRounded(tr*100,er),r:formatRounded,s:formatPrefixAuto,X:tr=>Math.round(tr).toString(16).toUpperCase(),x:tr=>Math.round(tr).toString(16)};function identity$5(tr){return tr}var map$5=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(tr){var er=tr.grouping===void 0||tr.thousands===void 0?identity$5:formatGroup(map$5.call(tr.grouping,Number),tr.thousands+""),rr=tr.currency===void 0?"":tr.currency[0]+"",nr=tr.currency===void 0?"":tr.currency[1]+"",ir=tr.decimal===void 0?".":tr.decimal+"",or=tr.numerals===void 0?identity$5:formatNumerals(map$5.call(tr.numerals,String)),sr=tr.percent===void 0?"%":tr.percent+"",ar=tr.minus===void 0?"−":tr.minus+"",cr=tr.nan===void 0?"NaN":tr.nan+"";function lr(fr){fr=formatSpecifier(fr);var dr=fr.fill,gr=fr.align,br=fr.sign,vr=fr.symbol,$r=fr.zero,Er=fr.width,_r=fr.comma,xr=fr.precision,Ir=fr.trim,Nr=fr.type;Nr==="n"?(_r=!0,Nr="g"):formatTypes[Nr]||(xr===void 0&&(xr=12),Ir=!0,Nr="g"),($r||dr==="0"&&gr==="=")&&($r=!0,dr="0",gr="=");var Lr=vr==="$"?rr:vr==="#"&&/[boxX]/.test(Nr)?"0"+Nr.toLowerCase():"",jr=vr==="$"?nr:/[%p]/.test(Nr)?sr:"",Or=formatTypes[Nr],Dr=/[defgprs%]/.test(Nr);xr=xr===void 0?6:/[gprs]/.test(Nr)?Math.max(1,Math.min(21,xr)):Math.max(0,Math.min(20,xr));function Cr(Tr){var yr=Lr,mr=jr,hr,pr,wr;if(Nr==="c")mr=Or(Tr)+mr,Tr="";else{Tr=+Tr;var Ar=Tr<0||1/Tr<0;if(Tr=isNaN(Tr)?cr:Or(Math.abs(Tr),xr),Ir&&(Tr=formatTrim(Tr)),Ar&&+Tr==0&&br!=="+"&&(Ar=!1),yr=(Ar?br==="("?br:ar:br==="-"||br==="("?"":br)+yr,mr=(Nr==="s"?prefixes[8+prefixExponent/3]:"")+mr+(Ar&&br==="("?")":""),Dr){for(hr=-1,pr=Tr.length;++hr<pr;)if(wr=Tr.charCodeAt(hr),48>wr||wr>57){mr=(wr===46?ir+Tr.slice(hr+1):Tr.slice(hr))+mr,Tr=Tr.slice(0,hr);break}}}_r&&!$r&&(Tr=er(Tr,1/0));var Rr=yr.length+Tr.length+mr.length,Pr=Rr<Er?new Array(Er-Rr+1).join(dr):"";switch(_r&&$r&&(Tr=er(Pr+Tr,Pr.length?Er-mr.length:1/0),Pr=""),gr){case"<":Tr=yr+Tr+mr+Pr;break;case"=":Tr=yr+Pr+Tr+mr;break;case"^":Tr=Pr.slice(0,Rr=Pr.length>>1)+yr+Tr+mr+Pr.slice(Rr);break;default:Tr=Pr+yr+Tr+mr;break}return or(Tr)}return Cr.toString=function(){return fr+""},Cr}function ur(fr,dr){var gr=lr((fr=formatSpecifier(fr),fr.type="f",fr)),br=Math.max(-8,Math.min(8,Math.floor(exponent(dr)/3)))*3,vr=Math.pow(10,-br),$r=prefixes[8+br/3];return function(Er){return gr(vr*Er)+$r}}return{format:lr,formatPrefix:ur}}var locale$1,format$2,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(tr){return locale$1=formatLocale$1(tr),format$2=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(tr){return Math.max(0,-exponent(Math.abs(tr)))}function precisionPrefix(tr,er){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(er)/3)))*3-exponent(Math.abs(tr)))}function precisionRound(tr,er){return tr=Math.abs(tr),er=Math.abs(er)-tr,Math.max(0,exponent(er)-exponent(tr))+1}function tickFormat(tr,er,rr,nr){var ir=tickStep(tr,er,rr),or;switch(nr=formatSpecifier(nr??",f"),nr.type){case"s":{var sr=Math.max(Math.abs(tr),Math.abs(er));return nr.precision==null&&!isNaN(or=precisionPrefix(ir,sr))&&(nr.precision=or),formatPrefix(nr,sr)}case"":case"e":case"g":case"p":case"r":{nr.precision==null&&!isNaN(or=precisionRound(ir,Math.max(Math.abs(tr),Math.abs(er))))&&(nr.precision=or-(nr.type==="e"));break}case"f":case"%":{nr.precision==null&&!isNaN(or=precisionFixed(ir))&&(nr.precision=or-(nr.type==="%")*2);break}}return format$2(nr)}function linearish(tr){var er=tr.domain;return tr.ticks=function(rr){var nr=er();return ticks(nr[0],nr[nr.length-1],rr??10)},tr.tickFormat=function(rr,nr){var ir=er();return tickFormat(ir[0],ir[ir.length-1],rr??10,nr)},tr.nice=function(rr){rr==null&&(rr=10);var nr=er(),ir=0,or=nr.length-1,sr=nr[ir],ar=nr[or],cr,lr,ur=10;for(ar<sr&&(lr=sr,sr=ar,ar=lr,lr=ir,ir=or,or=lr);ur-- >0;){if(lr=tickIncrement(sr,ar,rr),lr===cr)return nr[ir]=sr,nr[or]=ar,er(nr);if(lr>0)sr=Math.floor(sr/lr)*lr,ar=Math.ceil(ar/lr)*lr;else if(lr<0)sr=Math.ceil(sr*lr)/lr,ar=Math.floor(ar*lr)/lr;else break;cr=lr}return tr},tr}function linear(){var tr=continuous();return tr.copy=function(){return copy$3(tr,linear())},initRange.apply(tr,arguments),linearish(tr)}function identity$4(tr){var er;function rr(nr){return nr==null||isNaN(nr=+nr)?er:nr}return rr.invert=rr,rr.domain=rr.range=function(nr){return arguments.length?(tr=Array.from(nr,number$7),rr):tr.slice()},rr.unknown=function(nr){return arguments.length?(er=nr,rr):er},rr.copy=function(){return identity$4(tr).unknown(er)},tr=arguments.length?Array.from(tr,number$7):[0,1],linearish(rr)}function nice(tr,er){tr=tr.slice();var rr=0,nr=tr.length-1,ir=tr[rr],or=tr[nr],sr;return or<ir&&(sr=rr,rr=nr,nr=sr,sr=ir,ir=or,or=sr),tr[rr]=er.floor(ir),tr[nr]=er.ceil(or),tr}function transformLog(tr){return Math.log(tr)}function transformExp(tr){return Math.exp(tr)}function transformLogn(tr){return-Math.log(-tr)}function transformExpn(tr){return-Math.exp(-tr)}function pow10(tr){return isFinite(tr)?+("1e"+tr):tr<0?0:tr}function powp(tr){return tr===10?pow10:tr===Math.E?Math.exp:er=>Math.pow(tr,er)}function logp(tr){return tr===Math.E?Math.log:tr===10&&Math.log10||tr===2&&Math.log2||(tr=Math.log(tr),er=>Math.log(er)/tr)}function reflect(tr){return(er,rr)=>-tr(-er,rr)}function loggish(tr){const er=tr(transformLog,transformExp),rr=er.domain;let nr=10,ir,or;function sr(){return ir=logp(nr),or=powp(nr),rr()[0]<0?(ir=reflect(ir),or=reflect(or),tr(transformLogn,transformExpn)):tr(transformLog,transformExp),er}return er.base=function(ar){return arguments.length?(nr=+ar,sr()):nr},er.domain=function(ar){return arguments.length?(rr(ar),sr()):rr()},er.ticks=ar=>{const cr=rr();let lr=cr[0],ur=cr[cr.length-1];const fr=ur<lr;fr&&([lr,ur]=[ur,lr]);let dr=ir(lr),gr=ir(ur),br,vr;const $r=ar==null?10:+ar;let Er=[];if(!(nr%1)&&gr-dr<$r){if(dr=Math.floor(dr),gr=Math.ceil(gr),lr>0){for(;dr<=gr;++dr)for(br=1;br<nr;++br)if(vr=dr<0?br/or(-dr):br*or(dr),!(vr<lr)){if(vr>ur)break;Er.push(vr)}}else for(;dr<=gr;++dr)for(br=nr-1;br>=1;--br)if(vr=dr>0?br/or(-dr):br*or(dr),!(vr<lr)){if(vr>ur)break;Er.push(vr)}Er.length*2<$r&&(Er=ticks(lr,ur,$r))}else Er=ticks(dr,gr,Math.min(gr-dr,$r)).map(or);return fr?Er.reverse():Er},er.tickFormat=(ar,cr)=>{if(ar==null&&(ar=10),cr==null&&(cr=nr===10?"s":","),typeof cr!="function"&&(!(nr%1)&&(cr=formatSpecifier(cr)).precision==null&&(cr.trim=!0),cr=format$2(cr)),ar===1/0)return cr;const lr=Math.max(1,nr*ar/er.ticks().length);return ur=>{let fr=ur/or(Math.round(ir(ur)));return fr*nr<nr-.5&&(fr*=nr),fr<=lr?cr(ur):""}},er.nice=()=>rr(nice(rr(),{floor:ar=>or(Math.floor(ir(ar))),ceil:ar=>or(Math.ceil(ir(ar)))})),er}function log$4(){const tr=loggish(transformer$2()).domain([1,10]);return tr.copy=()=>copy$3(tr,log$4()).base(tr.base()),initRange.apply(tr,arguments),tr}function transformSymlog(tr){return function(er){return Math.sign(er)*Math.log1p(Math.abs(er/tr))}}function transformSymexp(tr){return function(er){return Math.sign(er)*Math.expm1(Math.abs(er))*tr}}function symlogish(tr){var er=1,rr=tr(transformSymlog(er),transformSymexp(er));return rr.constant=function(nr){return arguments.length?tr(transformSymlog(er=+nr),transformSymexp(er)):er},linearish(rr)}function symlog(){var tr=symlogish(transformer$2());return tr.copy=function(){return copy$3(tr,symlog()).constant(tr.constant())},initRange.apply(tr,arguments)}function transformPow(tr){return function(er){return er<0?-Math.pow(-er,tr):Math.pow(er,tr)}}function transformSqrt(tr){return tr<0?-Math.sqrt(-tr):Math.sqrt(tr)}function transformSquare(tr){return tr<0?-tr*tr:tr*tr}function powish(tr){var er=tr(identity$6,identity$6),rr=1;function nr(){return rr===1?tr(identity$6,identity$6):rr===.5?tr(transformSqrt,transformSquare):tr(transformPow(rr),transformPow(1/rr))}return er.exponent=function(ir){return arguments.length?(rr=+ir,nr()):rr},linearish(er)}function pow$2(){var tr=powish(transformer$2());return tr.copy=function(){return copy$3(tr,pow$2()).exponent(tr.exponent())},initRange.apply(tr,arguments),tr}function sqrt(){return pow$2.apply(null,arguments).exponent(.5)}function square(tr){return Math.sign(tr)*tr*tr}function unsquare(tr){return Math.sign(tr)*Math.sqrt(Math.abs(tr))}function radial(){var tr=continuous(),er=[0,1],rr=!1,nr;function ir(or){var sr=unsquare(tr(or));return isNaN(sr)?nr:rr?Math.round(sr):sr}return ir.invert=function(or){return tr.invert(square(or))},ir.domain=function(or){return arguments.length?(tr.domain(or),ir):tr.domain()},ir.range=function(or){return arguments.length?(tr.range((er=Array.from(or,number$7)).map(square)),ir):er.slice()},ir.rangeRound=function(or){return ir.range(or).round(!0)},ir.round=function(or){return arguments.length?(rr=!!or,ir):rr},ir.clamp=function(or){return arguments.length?(tr.clamp(or),ir):tr.clamp()},ir.unknown=function(or){return arguments.length?(nr=or,ir):nr},ir.copy=function(){return radial(tr.domain(),er).round(rr).clamp(tr.clamp()).unknown(nr)},initRange.apply(ir,arguments),linearish(ir)}function quantile(){var tr=[],er=[],rr=[],nr;function ir(){var sr=0,ar=Math.max(1,er.length);for(rr=new Array(ar-1);++sr<ar;)rr[sr-1]=quantileSorted(tr,sr/ar);return or}function or(sr){return sr==null||isNaN(sr=+sr)?nr:er[bisectRight(rr,sr)]}return or.invertExtent=function(sr){var ar=er.indexOf(sr);return ar<0?[NaN,NaN]:[ar>0?rr[ar-1]:tr[0],ar<rr.length?rr[ar]:tr[tr.length-1]]},or.domain=function(sr){if(!arguments.length)return tr.slice();tr=[];for(let ar of sr)ar!=null&&!isNaN(ar=+ar)&&tr.push(ar);return tr.sort(ascending),ir()},or.range=function(sr){return arguments.length?(er=Array.from(sr),ir()):er.slice()},or.unknown=function(sr){return arguments.length?(nr=sr,or):nr},or.quantiles=function(){return rr.slice()},or.copy=function(){return quantile().domain(tr).range(er).unknown(nr)},initRange.apply(or,arguments)}function quantize(){var tr=0,er=1,rr=1,nr=[.5],ir=[0,1],or;function sr(cr){return cr!=null&&cr<=cr?ir[bisectRight(nr,cr,0,rr)]:or}function ar(){var cr=-1;for(nr=new Array(rr);++cr<rr;)nr[cr]=((cr+1)*er-(cr-rr)*tr)/(rr+1);return sr}return sr.domain=function(cr){return arguments.length?([tr,er]=cr,tr=+tr,er=+er,ar()):[tr,er]},sr.range=function(cr){return arguments.length?(rr=(ir=Array.from(cr)).length-1,ar()):ir.slice()},sr.invertExtent=function(cr){var lr=ir.indexOf(cr);return lr<0?[NaN,NaN]:lr<1?[tr,nr[0]]:lr>=rr?[nr[rr-1],er]:[nr[lr-1],nr[lr]]},sr.unknown=function(cr){return arguments.length&&(or=cr),sr},sr.thresholds=function(){return nr.slice()},sr.copy=function(){return quantize().domain([tr,er]).range(ir).unknown(or)},initRange.apply(linearish(sr),arguments)}function threshold(){var tr=[.5],er=[0,1],rr,nr=1;function ir(or){return or!=null&&or<=or?er[bisectRight(tr,or,0,nr)]:rr}return ir.domain=function(or){return arguments.length?(tr=Array.from(or),nr=Math.min(tr.length,er.length-1),ir):tr.slice()},ir.range=function(or){return arguments.length?(er=Array.from(or),nr=Math.min(tr.length,er.length-1),ir):er.slice()},ir.invertExtent=function(or){var sr=er.indexOf(or);return[tr[sr-1],tr[sr]]},ir.unknown=function(or){return arguments.length?(rr=or,ir):rr},ir.copy=function(){return threshold().domain(tr).range(er).unknown(rr)},initRange.apply(ir,arguments)}const t0=new Date,t1=new Date;function timeInterval(tr,er,rr,nr){function ir(or){return tr(or=arguments.length===0?new Date:new Date(+or)),or}return ir.floor=or=>(tr(or=new Date(+or)),or),ir.ceil=or=>(tr(or=new Date(or-1)),er(or,1),tr(or),or),ir.round=or=>{const sr=ir(or),ar=ir.ceil(or);return or-sr<ar-or?sr:ar},ir.offset=(or,sr)=>(er(or=new Date(+or),sr==null?1:Math.floor(sr)),or),ir.range=(or,sr,ar)=>{const cr=[];if(or=ir.ceil(or),ar=ar==null?1:Math.floor(ar),!(or<sr)||!(ar>0))return cr;let lr;do cr.push(lr=new Date(+or)),er(or,ar),tr(or);while(lr<or&&or<sr);return cr},ir.filter=or=>timeInterval(sr=>{if(sr>=sr)for(;tr(sr),!or(sr);)sr.setTime(sr-1)},(sr,ar)=>{if(sr>=sr)if(ar<0)for(;++ar<=0;)for(;er(sr,-1),!or(sr););else for(;--ar>=0;)for(;er(sr,1),!or(sr););}),rr&&(ir.count=(or,sr)=>(t0.setTime(+or),t1.setTime(+sr),tr(t0),tr(t1),Math.floor(rr(t0,t1))),ir.every=or=>(or=Math.floor(or),!isFinite(or)||!(or>0)?null:or>1?ir.filter(nr?sr=>nr(sr)%or===0:sr=>ir.count(0,sr)%or===0):ir)),ir}const millisecond=timeInterval(()=>{},(tr,er)=>{tr.setTime(+tr+er)},(tr,er)=>er-tr);millisecond.every=tr=>(tr=Math.floor(tr),!isFinite(tr)||!(tr>0)?null:tr>1?timeInterval(er=>{er.setTime(Math.floor(er/tr)*tr)},(er,rr)=>{er.setTime(+er+rr*tr)},(er,rr)=>(rr-er)/tr):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds())},(tr,er)=>{tr.setTime(+tr+er*durationSecond)},(tr,er)=>(er-tr)/durationSecond,tr=>tr.getUTCSeconds());second.range;const timeMinute=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds()-tr.getSeconds()*durationSecond)},(tr,er)=>{tr.setTime(+tr+er*durationMinute)},(tr,er)=>(er-tr)/durationMinute,tr=>tr.getMinutes());timeMinute.range;const utcMinute=timeInterval(tr=>{tr.setUTCSeconds(0,0)},(tr,er)=>{tr.setTime(+tr+er*durationMinute)},(tr,er)=>(er-tr)/durationMinute,tr=>tr.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(tr=>{tr.setTime(tr-tr.getMilliseconds()-tr.getSeconds()*durationSecond-tr.getMinutes()*durationMinute)},(tr,er)=>{tr.setTime(+tr+er*durationHour)},(tr,er)=>(er-tr)/durationHour,tr=>tr.getHours());timeHour.range;const utcHour=timeInterval(tr=>{tr.setUTCMinutes(0,0,0)},(tr,er)=>{tr.setTime(+tr+er*durationHour)},(tr,er)=>(er-tr)/durationHour,tr=>tr.getUTCHours());utcHour.range;const timeDay=timeInterval(tr=>tr.setHours(0,0,0,0),(tr,er)=>tr.setDate(tr.getDate()+er),(tr,er)=>(er-tr-(er.getTimezoneOffset()-tr.getTimezoneOffset())*durationMinute)/durationDay,tr=>tr.getDate()-1);timeDay.range;const utcDay=timeInterval(tr=>{tr.setUTCHours(0,0,0,0)},(tr,er)=>{tr.setUTCDate(tr.getUTCDate()+er)},(tr,er)=>(er-tr)/durationDay,tr=>tr.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(tr=>{tr.setUTCHours(0,0,0,0)},(tr,er)=>{tr.setUTCDate(tr.getUTCDate()+er)},(tr,er)=>(er-tr)/durationDay,tr=>Math.floor(tr/durationDay));unixDay.range;function timeWeekday(tr){return timeInterval(er=>{er.setDate(er.getDate()-(er.getDay()+7-tr)%7),er.setHours(0,0,0,0)},(er,rr)=>{er.setDate(er.getDate()+rr*7)},(er,rr)=>(rr-er-(rr.getTimezoneOffset()-er.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(tr){return timeInterval(er=>{er.setUTCDate(er.getUTCDate()-(er.getUTCDay()+7-tr)%7),er.setUTCHours(0,0,0,0)},(er,rr)=>{er.setUTCDate(er.getUTCDate()+rr*7)},(er,rr)=>(rr-er)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(tr=>{tr.setDate(1),tr.setHours(0,0,0,0)},(tr,er)=>{tr.setMonth(tr.getMonth()+er)},(tr,er)=>er.getMonth()-tr.getMonth()+(er.getFullYear()-tr.getFullYear())*12,tr=>tr.getMonth());timeMonth.range;const utcMonth=timeInterval(tr=>{tr.setUTCDate(1),tr.setUTCHours(0,0,0,0)},(tr,er)=>{tr.setUTCMonth(tr.getUTCMonth()+er)},(tr,er)=>er.getUTCMonth()-tr.getUTCMonth()+(er.getUTCFullYear()-tr.getUTCFullYear())*12,tr=>tr.getUTCMonth());utcMonth.range;const timeYear=timeInterval(tr=>{tr.setMonth(0,1),tr.setHours(0,0,0,0)},(tr,er)=>{tr.setFullYear(tr.getFullYear()+er)},(tr,er)=>er.getFullYear()-tr.getFullYear(),tr=>tr.getFullYear());timeYear.every=tr=>!isFinite(tr=Math.floor(tr))||!(tr>0)?null:timeInterval(er=>{er.setFullYear(Math.floor(er.getFullYear()/tr)*tr),er.setMonth(0,1),er.setHours(0,0,0,0)},(er,rr)=>{er.setFullYear(er.getFullYear()+rr*tr)});timeYear.range;const utcYear=timeInterval(tr=>{tr.setUTCMonth(0,1),tr.setUTCHours(0,0,0,0)},(tr,er)=>{tr.setUTCFullYear(tr.getUTCFullYear()+er)},(tr,er)=>er.getUTCFullYear()-tr.getUTCFullYear(),tr=>tr.getUTCFullYear());utcYear.every=tr=>!isFinite(tr=Math.floor(tr))||!(tr>0)?null:timeInterval(er=>{er.setUTCFullYear(Math.floor(er.getUTCFullYear()/tr)*tr),er.setUTCMonth(0,1),er.setUTCHours(0,0,0,0)},(er,rr)=>{er.setUTCFullYear(er.getUTCFullYear()+rr*tr)});utcYear.range;function ticker(tr,er,rr,nr,ir,or){const sr=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[or,1,durationMinute],[or,5,5*durationMinute],[or,15,15*durationMinute],[or,30,30*durationMinute],[ir,1,durationHour],[ir,3,3*durationHour],[ir,6,6*durationHour],[ir,12,12*durationHour],[nr,1,durationDay],[nr,2,2*durationDay],[rr,1,durationWeek],[er,1,durationMonth],[er,3,3*durationMonth],[tr,1,durationYear]];function ar(lr,ur,fr){const dr=ur<lr;dr&&([lr,ur]=[ur,lr]);const gr=fr&&typeof fr.range=="function"?fr:cr(lr,ur,fr),br=gr?gr.range(lr,+ur+1):[];return dr?br.reverse():br}function cr(lr,ur,fr){const dr=Math.abs(ur-lr)/fr,gr=bisector(([,,$r])=>$r).right(sr,dr);if(gr===sr.length)return tr.every(tickStep(lr/durationYear,ur/durationYear,fr));if(gr===0)return millisecond.every(Math.max(tickStep(lr,ur,fr),1));const[br,vr]=sr[dr/sr[gr-1][2]<sr[gr][2]/dr?gr-1:gr];return br.every(vr)}return[ar,cr]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(tr){if(0<=tr.y&&tr.y<100){var er=new Date(-1,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L);return er.setFullYear(tr.y),er}return new Date(tr.y,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L)}function utcDate(tr){if(0<=tr.y&&tr.y<100){var er=new Date(Date.UTC(-1,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L));return er.setUTCFullYear(tr.y),er}return new Date(Date.UTC(tr.y,tr.m,tr.d,tr.H,tr.M,tr.S,tr.L))}function newDate(tr,er,rr){return{y:tr,m:er,d:rr,H:0,M:0,S:0,L:0}}function formatLocale(tr){var er=tr.dateTime,rr=tr.date,nr=tr.time,ir=tr.periods,or=tr.days,sr=tr.shortDays,ar=tr.months,cr=tr.shortMonths,lr=formatRe(ir),ur=formatLookup(ir),fr=formatRe(or),dr=formatLookup(or),gr=formatRe(sr),br=formatLookup(sr),vr=formatRe(ar),$r=formatLookup(ar),Er=formatRe(cr),_r=formatLookup(cr),xr={a:Ar,A:Rr,b:Pr,B:Sr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Mr,q:Br,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Ir={a:Ur,A:Jr,b:qr,B:zr,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:sn,q:rn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},Nr={a:Cr,A:Tr,b:yr,B:mr,c:hr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Dr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:pr,X:wr,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};xr.x=Lr(rr,xr),xr.X=Lr(nr,xr),xr.c=Lr(er,xr),Ir.x=Lr(rr,Ir),Ir.X=Lr(nr,Ir),Ir.c=Lr(er,Ir);function Lr(tn,dn){return function(Yr){var Vr=[],Qr=-1,un=0,yn=tn.length,An,Rn,On;for(Yr instanceof Date||(Yr=new Date(+Yr));++Qr<yn;)tn.charCodeAt(Qr)===37&&(Vr.push(tn.slice(un,Qr)),(Rn=pads[An=tn.charAt(++Qr)])!=null?An=tn.charAt(++Qr):Rn=An==="e"?" ":"0",(On=dn[An])&&(An=On(Yr,Rn)),Vr.push(An),un=Qr+1);return Vr.push(tn.slice(un,Qr)),Vr.join("")}}function jr(tn,dn){return function(Yr){var Vr=newDate(1900,void 0,1),Qr=Or(Vr,tn,Yr+="",0),un,yn;if(Qr!=Yr.length)return null;if("Q"in Vr)return new Date(Vr.Q);if("s"in Vr)return new Date(Vr.s*1e3+("L"in Vr?Vr.L:0));if(dn&&!("Z"in Vr)&&(Vr.Z=0),"p"in Vr&&(Vr.H=Vr.H%12+Vr.p*12),Vr.m===void 0&&(Vr.m="q"in Vr?Vr.q:0),"V"in Vr){if(Vr.V<1||Vr.V>53)return null;"w"in Vr||(Vr.w=1),"Z"in Vr?(un=utcDate(newDate(Vr.y,0,1)),yn=un.getUTCDay(),un=yn>4||yn===0?utcMonday.ceil(un):utcMonday(un),un=utcDay.offset(un,(Vr.V-1)*7),Vr.y=un.getUTCFullYear(),Vr.m=un.getUTCMonth(),Vr.d=un.getUTCDate()+(Vr.w+6)%7):(un=localDate(newDate(Vr.y,0,1)),yn=un.getDay(),un=yn>4||yn===0?timeMonday.ceil(un):timeMonday(un),un=timeDay.offset(un,(Vr.V-1)*7),Vr.y=un.getFullYear(),Vr.m=un.getMonth(),Vr.d=un.getDate()+(Vr.w+6)%7)}else("W"in Vr||"U"in Vr)&&("w"in Vr||(Vr.w="u"in Vr?Vr.u%7:"W"in Vr?1:0),yn="Z"in Vr?utcDate(newDate(Vr.y,0,1)).getUTCDay():localDate(newDate(Vr.y,0,1)).getDay(),Vr.m=0,Vr.d="W"in Vr?(Vr.w+6)%7+Vr.W*7-(yn+5)%7:Vr.w+Vr.U*7-(yn+6)%7);return"Z"in Vr?(Vr.H+=Vr.Z/100|0,Vr.M+=Vr.Z%100,utcDate(Vr)):localDate(Vr)}}function Or(tn,dn,Yr,Vr){for(var Qr=0,un=dn.length,yn=Yr.length,An,Rn;Qr<un;){if(Vr>=yn)return-1;if(An=dn.charCodeAt(Qr++),An===37){if(An=dn.charAt(Qr++),Rn=Nr[An in pads?dn.charAt(Qr++):An],!Rn||(Vr=Rn(tn,Yr,Vr))<0)return-1}else if(An!=Yr.charCodeAt(Vr++))return-1}return Vr}function Dr(tn,dn,Yr){var Vr=lr.exec(dn.slice(Yr));return Vr?(tn.p=ur.get(Vr[0].toLowerCase()),Yr+Vr[0].length):-1}function Cr(tn,dn,Yr){var Vr=gr.exec(dn.slice(Yr));return Vr?(tn.w=br.get(Vr[0].toLowerCase()),Yr+Vr[0].length):-1}function Tr(tn,dn,Yr){var Vr=fr.exec(dn.slice(Yr));return Vr?(tn.w=dr.get(Vr[0].toLowerCase()),Yr+Vr[0].length):-1}function yr(tn,dn,Yr){var Vr=Er.exec(dn.slice(Yr));return Vr?(tn.m=_r.get(Vr[0].toLowerCase()),Yr+Vr[0].length):-1}function mr(tn,dn,Yr){var Vr=vr.exec(dn.slice(Yr));return Vr?(tn.m=$r.get(Vr[0].toLowerCase()),Yr+Vr[0].length):-1}function hr(tn,dn,Yr){return Or(tn,er,dn,Yr)}function pr(tn,dn,Yr){return Or(tn,rr,dn,Yr)}function wr(tn,dn,Yr){return Or(tn,nr,dn,Yr)}function Ar(tn){return sr[tn.getDay()]}function Rr(tn){return or[tn.getDay()]}function Pr(tn){return cr[tn.getMonth()]}function Sr(tn){return ar[tn.getMonth()]}function Mr(tn){return ir[+(tn.getHours()>=12)]}function Br(tn){return 1+~~(tn.getMonth()/3)}function Ur(tn){return sr[tn.getUTCDay()]}function Jr(tn){return or[tn.getUTCDay()]}function qr(tn){return cr[tn.getUTCMonth()]}function zr(tn){return ar[tn.getUTCMonth()]}function sn(tn){return ir[+(tn.getUTCHours()>=12)]}function rn(tn){return 1+~~(tn.getUTCMonth()/3)}return{format:function(tn){var dn=Lr(tn+="",xr);return dn.toString=function(){return tn},dn},parse:function(tn){var dn=jr(tn+="",!1);return dn.toString=function(){return tn},dn},utcFormat:function(tn){var dn=Lr(tn+="",Ir);return dn.toString=function(){return tn},dn},utcParse:function(tn){var dn=jr(tn+="",!0);return dn.toString=function(){return tn},dn}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(tr,er,rr){var nr=tr<0?"-":"",ir=(nr?-tr:tr)+"",or=ir.length;return nr+(or<rr?new Array(rr-or+1).join(er)+ir:ir)}function requote(tr){return tr.replace(requoteRe,"\\$&")}function formatRe(tr){return new RegExp("^(?:"+tr.map(requote).join("|")+")","i")}function formatLookup(tr){return new Map(tr.map((er,rr)=>[er.toLowerCase(),rr]))}function parseWeekdayNumberSunday(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+1));return nr?(tr.w=+nr[0],rr+nr[0].length):-1}function parseWeekdayNumberMonday(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+1));return nr?(tr.u=+nr[0],rr+nr[0].length):-1}function parseWeekNumberSunday(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.U=+nr[0],rr+nr[0].length):-1}function parseWeekNumberISO(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.V=+nr[0],rr+nr[0].length):-1}function parseWeekNumberMonday(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.W=+nr[0],rr+nr[0].length):-1}function parseFullYear(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+4));return nr?(tr.y=+nr[0],rr+nr[0].length):-1}function parseYear(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.y=+nr[0]+(+nr[0]>68?1900:2e3),rr+nr[0].length):-1}function parseZone(tr,er,rr){var nr=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(er.slice(rr,rr+6));return nr?(tr.Z=nr[1]?0:-(nr[2]+(nr[3]||"00")),rr+nr[0].length):-1}function parseQuarter(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+1));return nr?(tr.q=nr[0]*3-3,rr+nr[0].length):-1}function parseMonthNumber(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.m=nr[0]-1,rr+nr[0].length):-1}function parseDayOfMonth(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.d=+nr[0],rr+nr[0].length):-1}function parseDayOfYear(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+3));return nr?(tr.m=0,tr.d=+nr[0],rr+nr[0].length):-1}function parseHour24(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.H=+nr[0],rr+nr[0].length):-1}function parseMinutes(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.M=+nr[0],rr+nr[0].length):-1}function parseSeconds(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+2));return nr?(tr.S=+nr[0],rr+nr[0].length):-1}function parseMilliseconds(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+3));return nr?(tr.L=+nr[0],rr+nr[0].length):-1}function parseMicroseconds(tr,er,rr){var nr=numberRe.exec(er.slice(rr,rr+6));return nr?(tr.L=Math.floor(nr[0]/1e3),rr+nr[0].length):-1}function parseLiteralPercent(tr,er,rr){var nr=percentRe.exec(er.slice(rr,rr+1));return nr?rr+nr[0].length:-1}function parseUnixTimestamp(tr,er,rr){var nr=numberRe.exec(er.slice(rr));return nr?(tr.Q=+nr[0],rr+nr[0].length):-1}function parseUnixTimestampSeconds(tr,er,rr){var nr=numberRe.exec(er.slice(rr));return nr?(tr.s=+nr[0],rr+nr[0].length):-1}function formatDayOfMonth(tr,er){return pad$1(tr.getDate(),er,2)}function formatHour24(tr,er){return pad$1(tr.getHours(),er,2)}function formatHour12(tr,er){return pad$1(tr.getHours()%12||12,er,2)}function formatDayOfYear(tr,er){return pad$1(1+timeDay.count(timeYear(tr),tr),er,3)}function formatMilliseconds(tr,er){return pad$1(tr.getMilliseconds(),er,3)}function formatMicroseconds(tr,er){return formatMilliseconds(tr,er)+"000"}function formatMonthNumber(tr,er){return pad$1(tr.getMonth()+1,er,2)}function formatMinutes(tr,er){return pad$1(tr.getMinutes(),er,2)}function formatSeconds(tr,er){return pad$1(tr.getSeconds(),er,2)}function formatWeekdayNumberMonday(tr){var er=tr.getDay();return er===0?7:er}function formatWeekNumberSunday(tr,er){return pad$1(timeSunday.count(timeYear(tr)-1,tr),er,2)}function dISO(tr){var er=tr.getDay();return er>=4||er===0?timeThursday(tr):timeThursday.ceil(tr)}function formatWeekNumberISO(tr,er){return tr=dISO(tr),pad$1(timeThursday.count(timeYear(tr),tr)+(timeYear(tr).getDay()===4),er,2)}function formatWeekdayNumberSunday(tr){return tr.getDay()}function formatWeekNumberMonday(tr,er){return pad$1(timeMonday.count(timeYear(tr)-1,tr),er,2)}function formatYear(tr,er){return pad$1(tr.getFullYear()%100,er,2)}function formatYearISO(tr,er){return tr=dISO(tr),pad$1(tr.getFullYear()%100,er,2)}function formatFullYear(tr,er){return pad$1(tr.getFullYear()%1e4,er,4)}function formatFullYearISO(tr,er){var rr=tr.getDay();return tr=rr>=4||rr===0?timeThursday(tr):timeThursday.ceil(tr),pad$1(tr.getFullYear()%1e4,er,4)}function formatZone(tr){var er=tr.getTimezoneOffset();return(er>0?"-":(er*=-1,"+"))+pad$1(er/60|0,"0",2)+pad$1(er%60,"0",2)}function formatUTCDayOfMonth(tr,er){return pad$1(tr.getUTCDate(),er,2)}function formatUTCHour24(tr,er){return pad$1(tr.getUTCHours(),er,2)}function formatUTCHour12(tr,er){return pad$1(tr.getUTCHours()%12||12,er,2)}function formatUTCDayOfYear(tr,er){return pad$1(1+utcDay.count(utcYear(tr),tr),er,3)}function formatUTCMilliseconds(tr,er){return pad$1(tr.getUTCMilliseconds(),er,3)}function formatUTCMicroseconds(tr,er){return formatUTCMilliseconds(tr,er)+"000"}function formatUTCMonthNumber(tr,er){return pad$1(tr.getUTCMonth()+1,er,2)}function formatUTCMinutes(tr,er){return pad$1(tr.getUTCMinutes(),er,2)}function formatUTCSeconds(tr,er){return pad$1(tr.getUTCSeconds(),er,2)}function formatUTCWeekdayNumberMonday(tr){var er=tr.getUTCDay();return er===0?7:er}function formatUTCWeekNumberSunday(tr,er){return pad$1(utcSunday.count(utcYear(tr)-1,tr),er,2)}function UTCdISO(tr){var er=tr.getUTCDay();return er>=4||er===0?utcThursday(tr):utcThursday.ceil(tr)}function formatUTCWeekNumberISO(tr,er){return tr=UTCdISO(tr),pad$1(utcThursday.count(utcYear(tr),tr)+(utcYear(tr).getUTCDay()===4),er,2)}function formatUTCWeekdayNumberSunday(tr){return tr.getUTCDay()}function formatUTCWeekNumberMonday(tr,er){return pad$1(utcMonday.count(utcYear(tr)-1,tr),er,2)}function formatUTCYear(tr,er){return pad$1(tr.getUTCFullYear()%100,er,2)}function formatUTCYearISO(tr,er){return tr=UTCdISO(tr),pad$1(tr.getUTCFullYear()%100,er,2)}function formatUTCFullYear(tr,er){return pad$1(tr.getUTCFullYear()%1e4,er,4)}function formatUTCFullYearISO(tr,er){var rr=tr.getUTCDay();return tr=rr>=4||rr===0?utcThursday(tr):utcThursday.ceil(tr),pad$1(tr.getUTCFullYear()%1e4,er,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(tr){return+tr}function formatUnixTimestampSeconds(tr){return Math.floor(+tr/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(tr){return locale=formatLocale(tr),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(tr){return new Date(tr)}function number$6(tr){return tr instanceof Date?+tr:+new Date(+tr)}function calendar(tr,er,rr,nr,ir,or,sr,ar,cr,lr){var ur=continuous(),fr=ur.invert,dr=ur.domain,gr=lr(".%L"),br=lr(":%S"),vr=lr("%I:%M"),$r=lr("%I %p"),Er=lr("%a %d"),_r=lr("%b %d"),xr=lr("%B"),Ir=lr("%Y");function Nr(Lr){return(cr(Lr)<Lr?gr:ar(Lr)<Lr?br:sr(Lr)<Lr?vr:or(Lr)<Lr?$r:nr(Lr)<Lr?ir(Lr)<Lr?Er:_r:rr(Lr)<Lr?xr:Ir)(Lr)}return ur.invert=function(Lr){return new Date(fr(Lr))},ur.domain=function(Lr){return arguments.length?dr(Array.from(Lr,number$6)):dr().map(date)},ur.ticks=function(Lr){var jr=dr();return tr(jr[0],jr[jr.length-1],Lr??10)},ur.tickFormat=function(Lr,jr){return jr==null?Nr:lr(jr)},ur.nice=function(Lr){var jr=dr();return(!Lr||typeof Lr.range!="function")&&(Lr=er(jr[0],jr[jr.length-1],Lr??10)),Lr?dr(nice(jr,Lr)):ur},ur.copy=function(){return copy$3(ur,calendar(tr,er,rr,nr,ir,or,sr,ar,cr,lr))},ur}function time$2(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var tr=0,er=1,rr,nr,ir,or,sr=identity$6,ar=!1,cr;function lr(fr){return fr==null||isNaN(fr=+fr)?cr:sr(ir===0?.5:(fr=(or(fr)-rr)*ir,ar?Math.max(0,Math.min(1,fr)):fr))}lr.domain=function(fr){return arguments.length?([tr,er]=fr,rr=or(tr=+tr),nr=or(er=+er),ir=rr===nr?0:1/(nr-rr),lr):[tr,er]},lr.clamp=function(fr){return arguments.length?(ar=!!fr,lr):ar},lr.interpolator=function(fr){return arguments.length?(sr=fr,lr):sr};function ur(fr){return function(dr){var gr,br;return arguments.length?([gr,br]=dr,sr=fr(gr,br),lr):[sr(0),sr(1)]}}return lr.range=ur(interpolate),lr.rangeRound=ur(interpolateRound),lr.unknown=function(fr){return arguments.length?(cr=fr,lr):cr},function(fr){return or=fr,rr=fr(tr),nr=fr(er),ir=rr===nr?0:1/(nr-rr),lr}}function copy$2(tr,er){return er.domain(tr.domain()).interpolator(tr.interpolator()).clamp(tr.clamp()).unknown(tr.unknown())}function sequential(){var tr=linearish(transformer$1()(identity$6));return tr.copy=function(){return copy$2(tr,sequential())},initInterpolator.apply(tr,arguments)}function sequentialLog(){var tr=loggish(transformer$1()).domain([1,10]);return tr.copy=function(){return copy$2(tr,sequentialLog()).base(tr.base())},initInterpolator.apply(tr,arguments)}function sequentialSymlog(){var tr=symlogish(transformer$1());return tr.copy=function(){return copy$2(tr,sequentialSymlog()).constant(tr.constant())},initInterpolator.apply(tr,arguments)}function sequentialPow(){var tr=powish(transformer$1());return tr.copy=function(){return copy$2(tr,sequentialPow()).exponent(tr.exponent())},initInterpolator.apply(tr,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var tr=[],er=identity$6;function rr(nr){if(nr!=null&&!isNaN(nr=+nr))return er((bisectRight(tr,nr,1)-1)/(tr.length-1))}return rr.domain=function(nr){if(!arguments.length)return tr.slice();tr=[];for(let ir of nr)ir!=null&&!isNaN(ir=+ir)&&tr.push(ir);return tr.sort(ascending),rr},rr.interpolator=function(nr){return arguments.length?(er=nr,rr):er},rr.range=function(){return tr.map((nr,ir)=>er(ir/(tr.length-1)))},rr.quantiles=function(nr){return Array.from({length:nr+1},(ir,or)=>quantile$1(tr,or/nr))},rr.copy=function(){return sequentialQuantile(er).domain(tr)},initInterpolator.apply(rr,arguments)}function transformer(){var tr=0,er=.5,rr=1,nr=1,ir,or,sr,ar,cr,lr=identity$6,ur,fr=!1,dr;function gr(vr){return isNaN(vr=+vr)?dr:(vr=.5+((vr=+ur(vr))-or)*(nr*vr<nr*or?ar:cr),lr(fr?Math.max(0,Math.min(1,vr)):vr))}gr.domain=function(vr){return arguments.length?([tr,er,rr]=vr,ir=ur(tr=+tr),or=ur(er=+er),sr=ur(rr=+rr),ar=ir===or?0:.5/(or-ir),cr=or===sr?0:.5/(sr-or),nr=or<ir?-1:1,gr):[tr,er,rr]},gr.clamp=function(vr){return arguments.length?(fr=!!vr,gr):fr},gr.interpolator=function(vr){return arguments.length?(lr=vr,gr):lr};function br(vr){return function($r){var Er,_r,xr;return arguments.length?([Er,_r,xr]=$r,lr=piecewise(vr,[Er,_r,xr]),gr):[lr(0),lr(.5),lr(1)]}}return gr.range=br(interpolate),gr.rangeRound=br(interpolateRound),gr.unknown=function(vr){return arguments.length?(dr=vr,gr):dr},function(vr){return ur=vr,ir=vr(tr),or=vr(er),sr=vr(rr),ar=ir===or?0:.5/(or-ir),cr=or===sr?0:.5/(sr-or),nr=or<ir?-1:1,gr}}function diverging(){var tr=linearish(transformer()(identity$6));return tr.copy=function(){return copy$2(tr,diverging())},initInterpolator.apply(tr,arguments)}function divergingLog(){var tr=loggish(transformer()).domain([.1,1,10]);return tr.copy=function(){return copy$2(tr,divergingLog()).base(tr.base())},initInterpolator.apply(tr,arguments)}function divergingSymlog(){var tr=symlogish(transformer());return tr.copy=function(){return copy$2(tr,divergingSymlog()).constant(tr.constant())},initInterpolator.apply(tr,arguments)}function divergingPow(){var tr=powish(transformer());return tr.copy=function(){return copy$2(tr,divergingPow()).exponent(tr.exponent())},initInterpolator.apply(tr,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$4,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log$4,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow$2,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time$2,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;function baseExtremum$2(tr,er,rr){for(var nr=-1,ir=tr.length;++nr<ir;){var or=tr[nr],sr=er(or);if(sr!=null&&(ar===void 0?sr===sr&&!isSymbol(sr):rr(sr,ar)))var ar=sr,cr=or}return cr}var _baseExtremum=baseExtremum$2;function baseGt$1(tr,er){return tr>er}var _baseGt=baseGt$1,baseExtremum$1=_baseExtremum,baseGt=_baseGt,identity$3=identity_1;function max$2(tr){return tr&&tr.length?baseExtremum$1(tr,identity$3,baseGt):void 0}var max_1=max$2;const max$3=getDefaultExportFromCjs(max_1);function baseLt$1(tr,er){return tr<er}var _baseLt=baseLt$1,baseExtremum=_baseExtremum,baseLt=_baseLt,identity$2=identity_1;function min$1(tr){return tr&&tr.length?baseExtremum(tr,identity$2,baseLt):void 0}var min_1=min$1;const min$2=getDefaultExportFromCjs(min_1);var arrayMap=_arrayMap,baseIteratee$5=_baseIteratee,baseMap=_baseMap,isArray$4=isArray_1;function map$4(tr,er){var rr=isArray$4(tr)?arrayMap:baseMap;return rr(tr,baseIteratee$5(er))}var map_1=map$4,baseFlatten=_baseFlatten,map$3=map_1;function flatMap$1(tr,er){return baseFlatten(map$3(tr,er),1)}var flatMap_1=flatMap$1;const flatMap$2=getDefaultExportFromCjs(flatMap_1);var baseIsEqual=_baseIsEqual;function isEqual$1(tr,er){return baseIsEqual(tr,er)}var isEqual_1=isEqual$1;const isEqual$2=getDefaultExportFromCjs(isEqual_1);var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor$1=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE$1,BASE$1=1e7,LOG_BASE$1=7,MAX_SAFE_INTEGER$5=9007199254740991,MAX_E=mathfloor$1(MAX_SAFE_INTEGER$5/LOG_BASE$1),P$2={};P$2.absoluteValue=P$2.abs=function(){var tr=new this.constructor(this);return tr.s&&(tr.s=1),tr};P$2.comparedTo=P$2.cmp=function(tr){var er,rr,nr,ir,or=this;if(tr=new or.constructor(tr),or.s!==tr.s)return or.s||-tr.s;if(or.e!==tr.e)return or.e>tr.e^or.s<0?1:-1;for(nr=or.d.length,ir=tr.d.length,er=0,rr=nr<ir?nr:ir;er<rr;++er)if(or.d[er]!==tr.d[er])return or.d[er]>tr.d[er]^or.s<0?1:-1;return nr===ir?0:nr>ir^or.s<0?1:-1};P$2.decimalPlaces=P$2.dp=function(){var tr=this,er=tr.d.length-1,rr=(er-tr.e)*LOG_BASE$1;if(er=tr.d[er],er)for(;er%10==0;er/=10)rr--;return rr<0?0:rr};P$2.dividedBy=P$2.div=function(tr){return divide(this,new this.constructor(tr))};P$2.dividedToIntegerBy=P$2.idiv=function(tr){var er=this,rr=er.constructor;return round(divide(er,new rr(tr),0,1),rr.precision)};P$2.equals=P$2.eq=function(tr){return!this.cmp(tr)};P$2.exponent=function(){return getBase10Exponent(this)};P$2.greaterThan=P$2.gt=function(tr){return this.cmp(tr)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(tr){return this.cmp(tr)>=0};P$2.isInteger=P$2.isint=function(){return this.e>this.d.length-2};P$2.isNegative=P$2.isneg=function(){return this.s<0};P$2.isPositive=P$2.ispos=function(){return this.s>0};P$2.isZero=function(){return this.s===0};P$2.lessThan=P$2.lt=function(tr){return this.cmp(tr)<0};P$2.lessThanOrEqualTo=P$2.lte=function(tr){return this.cmp(tr)<1};P$2.logarithm=P$2.log=function(tr){var er,rr=this,nr=rr.constructor,ir=nr.precision,or=ir+5;if(tr===void 0)tr=new nr(10);else if(tr=new nr(tr),tr.s<1||tr.eq(ONE$1))throw Error(decimalError+"NaN");if(rr.s<1)throw Error(decimalError+(rr.s?"NaN":"-Infinity"));return rr.eq(ONE$1)?new nr(0):(external=!1,er=divide(ln(rr,or),ln(tr,or),or),external=!0,round(er,ir))};P$2.minus=P$2.sub=function(tr){var er=this;return tr=new er.constructor(tr),er.s==tr.s?subtract(er,tr):add$1(er,(tr.s=-tr.s,tr))};P$2.modulo=P$2.mod=function(tr){var er,rr=this,nr=rr.constructor,ir=nr.precision;if(tr=new nr(tr),!tr.s)throw Error(decimalError+"NaN");return rr.s?(external=!1,er=divide(rr,tr,0,1).times(tr),external=!0,rr.minus(er)):round(new nr(rr),ir)};P$2.naturalExponential=P$2.exp=function(){return exp(this)};P$2.naturalLogarithm=P$2.ln=function(){return ln(this)};P$2.negated=P$2.neg=function(){var tr=new this.constructor(this);return tr.s=-tr.s||0,tr};P$2.plus=P$2.add=function(tr){var er=this;return tr=new er.constructor(tr),er.s==tr.s?add$1(er,tr):subtract(er,(tr.s=-tr.s,tr))};P$2.precision=P$2.sd=function(tr){var er,rr,nr,ir=this;if(tr!==void 0&&tr!==!!tr&&tr!==1&&tr!==0)throw Error(invalidArgument+tr);if(er=getBase10Exponent(ir)+1,nr=ir.d.length-1,rr=nr*LOG_BASE$1+1,nr=ir.d[nr],nr){for(;nr%10==0;nr/=10)rr--;for(nr=ir.d[0];nr>=10;nr/=10)rr++}return tr&&er>rr?er:rr};P$2.squareRoot=P$2.sqrt=function(){var tr,er,rr,nr,ir,or,sr,ar=this,cr=ar.constructor;if(ar.s<1){if(!ar.s)return new cr(0);throw Error(decimalError+"NaN")}for(tr=getBase10Exponent(ar),external=!1,ir=Math.sqrt(+ar),ir==0||ir==1/0?(er=digitsToString(ar.d),(er.length+tr)%2==0&&(er+="0"),ir=Math.sqrt(er),tr=mathfloor$1((tr+1)/2)-(tr<0||tr%2),ir==1/0?er="5e"+tr:(er=ir.toExponential(),er=er.slice(0,er.indexOf("e")+1)+tr),nr=new cr(er)):nr=new cr(ir.toString()),rr=cr.precision,ir=sr=rr+3;;)if(or=nr,nr=or.plus(divide(ar,or,sr+2)).times(.5),digitsToString(or.d).slice(0,sr)===(er=digitsToString(nr.d)).slice(0,sr)){if(er=er.slice(sr-3,sr+1),ir==sr&&er=="4999"){if(round(or,rr+1,0),or.times(or).eq(ar)){nr=or;break}}else if(er!="9999")break;sr+=4}return external=!0,round(nr,rr)};P$2.times=P$2.mul=function(tr){var er,rr,nr,ir,or,sr,ar,cr,lr,ur=this,fr=ur.constructor,dr=ur.d,gr=(tr=new fr(tr)).d;if(!ur.s||!tr.s)return new fr(0);for(tr.s*=ur.s,rr=ur.e+tr.e,cr=dr.length,lr=gr.length,cr<lr&&(or=dr,dr=gr,gr=or,sr=cr,cr=lr,lr=sr),or=[],sr=cr+lr,nr=sr;nr--;)or.push(0);for(nr=lr;--nr>=0;){for(er=0,ir=cr+nr;ir>nr;)ar=or[ir]+gr[nr]*dr[ir-nr-1]+er,or[ir--]=ar%BASE$1|0,er=ar/BASE$1|0;or[ir]=(or[ir]+er)%BASE$1|0}for(;!or[--sr];)or.pop();return er?++rr:or.shift(),tr.d=or,tr.e=rr,external?round(tr,fr.precision):tr};P$2.toDecimalPlaces=P$2.todp=function(tr,er){var rr=this,nr=rr.constructor;return rr=new nr(rr),tr===void 0?rr:(checkInt32(tr,0,MAX_DIGITS),er===void 0?er=nr.rounding:checkInt32(er,0,8),round(rr,tr+getBase10Exponent(rr)+1,er))};P$2.toExponential=function(tr,er){var rr,nr=this,ir=nr.constructor;return tr===void 0?rr=toString$1(nr,!0):(checkInt32(tr,0,MAX_DIGITS),er===void 0?er=ir.rounding:checkInt32(er,0,8),nr=round(new ir(nr),tr+1,er),rr=toString$1(nr,!0,tr+1)),rr};P$2.toFixed=function(tr,er){var rr,nr,ir=this,or=ir.constructor;return tr===void 0?toString$1(ir):(checkInt32(tr,0,MAX_DIGITS),er===void 0?er=or.rounding:checkInt32(er,0,8),nr=round(new or(ir),tr+getBase10Exponent(ir)+1,er),rr=toString$1(nr.abs(),!1,tr+getBase10Exponent(nr)+1),ir.isneg()&&!ir.isZero()?"-"+rr:rr)};P$2.toInteger=P$2.toint=function(){var tr=this,er=tr.constructor;return round(new er(tr),getBase10Exponent(tr)+1,er.rounding)};P$2.toNumber=function(){return+this};P$2.toPower=P$2.pow=function(tr){var er,rr,nr,ir,or,sr,ar=this,cr=ar.constructor,lr=12,ur=+(tr=new cr(tr));if(!tr.s)return new cr(ONE$1);if(ar=new cr(ar),!ar.s){if(tr.s<1)throw Error(decimalError+"Infinity");return ar}if(ar.eq(ONE$1))return ar;if(nr=cr.precision,tr.eq(ONE$1))return round(ar,nr);if(er=tr.e,rr=tr.d.length-1,sr=er>=rr,or=ar.s,sr){if((rr=ur<0?-ur:ur)<=MAX_SAFE_INTEGER$5){for(ir=new cr(ONE$1),er=Math.ceil(nr/LOG_BASE$1+4),external=!1;rr%2&&(ir=ir.times(ar),truncate(ir.d,er)),rr=mathfloor$1(rr/2),rr!==0;)ar=ar.times(ar),truncate(ar.d,er);return external=!0,tr.s<0?new cr(ONE$1).div(ir):round(ir,nr)}}else if(or<0)throw Error(decimalError+"NaN");return or=or<0&&tr.d[Math.max(er,rr)]&1?-1:1,ar.s=1,external=!1,ir=tr.times(ln(ar,nr+lr)),external=!0,ir=exp(ir),ir.s=or,ir};P$2.toPrecision=function(tr,er){var rr,nr,ir=this,or=ir.constructor;return tr===void 0?(rr=getBase10Exponent(ir),nr=toString$1(ir,rr<=or.toExpNeg||rr>=or.toExpPos)):(checkInt32(tr,1,MAX_DIGITS),er===void 0?er=or.rounding:checkInt32(er,0,8),ir=round(new or(ir),tr,er),rr=getBase10Exponent(ir),nr=toString$1(ir,tr<=rr||rr<=or.toExpNeg,tr)),nr};P$2.toSignificantDigits=P$2.tosd=function(tr,er){var rr=this,nr=rr.constructor;return tr===void 0?(tr=nr.precision,er=nr.rounding):(checkInt32(tr,1,MAX_DIGITS),er===void 0?er=nr.rounding:checkInt32(er,0,8)),round(new nr(rr),tr,er)};P$2.toString=P$2.valueOf=P$2.val=P$2.toJSON=P$2[Symbol.for("nodejs.util.inspect.custom")]=function(){var tr=this,er=getBase10Exponent(tr),rr=tr.constructor;return toString$1(tr,er<=rr.toExpNeg||er>=rr.toExpPos)};function add$1(tr,er){var rr,nr,ir,or,sr,ar,cr,lr,ur=tr.constructor,fr=ur.precision;if(!tr.s||!er.s)return er.s||(er=new ur(tr)),external?round(er,fr):er;if(cr=tr.d,lr=er.d,sr=tr.e,ir=er.e,cr=cr.slice(),or=sr-ir,or){for(or<0?(nr=cr,or=-or,ar=lr.length):(nr=lr,ir=sr,ar=cr.length),sr=Math.ceil(fr/LOG_BASE$1),ar=sr>ar?sr+1:ar+1,or>ar&&(or=ar,nr.length=1),nr.reverse();or--;)nr.push(0);nr.reverse()}for(ar=cr.length,or=lr.length,ar-or<0&&(or=ar,nr=lr,lr=cr,cr=nr),rr=0;or;)rr=(cr[--or]=cr[or]+lr[or]+rr)/BASE$1|0,cr[or]%=BASE$1;for(rr&&(cr.unshift(rr),++ir),ar=cr.length;cr[--ar]==0;)cr.pop();return er.d=cr,er.e=ir,external?round(er,fr):er}function checkInt32(tr,er,rr){if(tr!==~~tr||tr<er||tr>rr)throw Error(invalidArgument+tr)}function digitsToString(tr){var er,rr,nr,ir=tr.length-1,or="",sr=tr[0];if(ir>0){for(or+=sr,er=1;er<ir;er++)nr=tr[er]+"",rr=LOG_BASE$1-nr.length,rr&&(or+=getZeroString(rr)),or+=nr;sr=tr[er],nr=sr+"",rr=LOG_BASE$1-nr.length,rr&&(or+=getZeroString(rr))}else if(sr===0)return"0";for(;sr%10===0;)sr/=10;return or+sr}var divide=function(){function tr(nr,ir){var or,sr=0,ar=nr.length;for(nr=nr.slice();ar--;)or=nr[ar]*ir+sr,nr[ar]=or%BASE$1|0,sr=or/BASE$1|0;return sr&&nr.unshift(sr),nr}function er(nr,ir,or,sr){var ar,cr;if(or!=sr)cr=or>sr?1:-1;else for(ar=cr=0;ar<or;ar++)if(nr[ar]!=ir[ar]){cr=nr[ar]>ir[ar]?1:-1;break}return cr}function rr(nr,ir,or){for(var sr=0;or--;)nr[or]-=sr,sr=nr[or]<ir[or]?1:0,nr[or]=sr*BASE$1+nr[or]-ir[or];for(;!nr[0]&&nr.length>1;)nr.shift()}return function(nr,ir,or,sr){var ar,cr,lr,ur,fr,dr,gr,br,vr,$r,Er,_r,xr,Ir,Nr,Lr,jr,Or,Dr=nr.constructor,Cr=nr.s==ir.s?1:-1,Tr=nr.d,yr=ir.d;if(!nr.s)return new Dr(nr);if(!ir.s)throw Error(decimalError+"Division by zero");for(cr=nr.e-ir.e,jr=yr.length,Nr=Tr.length,gr=new Dr(Cr),br=gr.d=[],lr=0;yr[lr]==(Tr[lr]||0);)++lr;if(yr[lr]>(Tr[lr]||0)&&--cr,or==null?_r=or=Dr.precision:sr?_r=or+(getBase10Exponent(nr)-getBase10Exponent(ir))+1:_r=or,_r<0)return new Dr(0);if(_r=_r/LOG_BASE$1+2|0,lr=0,jr==1)for(ur=0,yr=yr[0],_r++;(lr<Nr||ur)&&_r--;lr++)xr=ur*BASE$1+(Tr[lr]||0),br[lr]=xr/yr|0,ur=xr%yr|0;else{for(ur=BASE$1/(yr[0]+1)|0,ur>1&&(yr=tr(yr,ur),Tr=tr(Tr,ur),jr=yr.length,Nr=Tr.length),Ir=jr,vr=Tr.slice(0,jr),$r=vr.length;$r<jr;)vr[$r++]=0;Or=yr.slice(),Or.unshift(0),Lr=yr[0],yr[1]>=BASE$1/2&&++Lr;do ur=0,ar=er(yr,vr,jr,$r),ar<0?(Er=vr[0],jr!=$r&&(Er=Er*BASE$1+(vr[1]||0)),ur=Er/Lr|0,ur>1?(ur>=BASE$1&&(ur=BASE$1-1),fr=tr(yr,ur),dr=fr.length,$r=vr.length,ar=er(fr,vr,dr,$r),ar==1&&(ur--,rr(fr,jr<dr?Or:yr,dr))):(ur==0&&(ar=ur=1),fr=yr.slice()),dr=fr.length,dr<$r&&fr.unshift(0),rr(vr,fr,$r),ar==-1&&($r=vr.length,ar=er(yr,vr,jr,$r),ar<1&&(ur++,rr(vr,jr<$r?Or:yr,$r))),$r=vr.length):ar===0&&(ur++,vr=[0]),br[lr++]=ur,ar&&vr[0]?vr[$r++]=Tr[Ir]||0:(vr=[Tr[Ir]],$r=1);while((Ir++<Nr||vr[0]!==void 0)&&_r--)}return br[0]||br.shift(),gr.e=cr,round(gr,sr?or+getBase10Exponent(gr)+1:or)}}();function exp(tr,er){var rr,nr,ir,or,sr,ar,cr=0,lr=0,ur=tr.constructor,fr=ur.precision;if(getBase10Exponent(tr)>16)throw Error(exponentOutOfRange+getBase10Exponent(tr));if(!tr.s)return new ur(ONE$1);for(er==null?(external=!1,ar=fr):ar=er,sr=new ur(.03125);tr.abs().gte(.1);)tr=tr.times(sr),lr+=5;for(nr=Math.log(mathpow(2,lr))/Math.LN10*2+5|0,ar+=nr,rr=ir=or=new ur(ONE$1),ur.precision=ar;;){if(ir=round(ir.times(tr),ar),rr=rr.times(++cr),sr=or.plus(divide(ir,rr,ar)),digitsToString(sr.d).slice(0,ar)===digitsToString(or.d).slice(0,ar)){for(;lr--;)or=round(or.times(or),ar);return ur.precision=fr,er==null?(external=!0,round(or,fr)):or}or=sr}}function getBase10Exponent(tr){for(var er=tr.e*LOG_BASE$1,rr=tr.d[0];rr>=10;rr/=10)er++;return er}function getLn10(tr,er,rr){if(er>tr.LN10.sd())throw external=!0,rr&&(tr.precision=rr),Error(decimalError+"LN10 precision limit exceeded");return round(new tr(tr.LN10),er)}function getZeroString(tr){for(var er="";tr--;)er+="0";return er}function ln(tr,er){var rr,nr,ir,or,sr,ar,cr,lr,ur,fr=1,dr=10,gr=tr,br=gr.d,vr=gr.constructor,$r=vr.precision;if(gr.s<1)throw Error(decimalError+(gr.s?"NaN":"-Infinity"));if(gr.eq(ONE$1))return new vr(0);if(er==null?(external=!1,lr=$r):lr=er,gr.eq(10))return er==null&&(external=!0),getLn10(vr,lr);if(lr+=dr,vr.precision=lr,rr=digitsToString(br),nr=rr.charAt(0),or=getBase10Exponent(gr),Math.abs(or)<15e14){for(;nr<7&&nr!=1||nr==1&&rr.charAt(1)>3;)gr=gr.times(tr),rr=digitsToString(gr.d),nr=rr.charAt(0),fr++;or=getBase10Exponent(gr),nr>1?(gr=new vr("0."+rr),or++):gr=new vr(nr+"."+rr.slice(1))}else return cr=getLn10(vr,lr+2,$r).times(or+""),gr=ln(new vr(nr+"."+rr.slice(1)),lr-dr).plus(cr),vr.precision=$r,er==null?(external=!0,round(gr,$r)):gr;for(ar=sr=gr=divide(gr.minus(ONE$1),gr.plus(ONE$1),lr),ur=round(gr.times(gr),lr),ir=3;;){if(sr=round(sr.times(ur),lr),cr=ar.plus(divide(sr,new vr(ir),lr)),digitsToString(cr.d).slice(0,lr)===digitsToString(ar.d).slice(0,lr))return ar=ar.times(2),or!==0&&(ar=ar.plus(getLn10(vr,lr+2,$r).times(or+""))),ar=divide(ar,new vr(fr),lr),vr.precision=$r,er==null?(external=!0,round(ar,$r)):ar;ar=cr,ir+=2}}function parseDecimal(tr,er){var rr,nr,ir;for((rr=er.indexOf("."))>-1&&(er=er.replace(".","")),(nr=er.search(/e/i))>0?(rr<0&&(rr=nr),rr+=+er.slice(nr+1),er=er.substring(0,nr)):rr<0&&(rr=er.length),nr=0;er.charCodeAt(nr)===48;)++nr;for(ir=er.length;er.charCodeAt(ir-1)===48;)--ir;if(er=er.slice(nr,ir),er){if(ir-=nr,rr=rr-nr-1,tr.e=mathfloor$1(rr/LOG_BASE$1),tr.d=[],nr=(rr+1)%LOG_BASE$1,rr<0&&(nr+=LOG_BASE$1),nr<ir){for(nr&&tr.d.push(+er.slice(0,nr)),ir-=LOG_BASE$1;nr<ir;)tr.d.push(+er.slice(nr,nr+=LOG_BASE$1));er=er.slice(nr),nr=LOG_BASE$1-er.length}else nr-=ir;for(;nr--;)er+="0";if(tr.d.push(+er),external&&(tr.e>MAX_E||tr.e<-MAX_E))throw Error(exponentOutOfRange+rr)}else tr.s=0,tr.e=0,tr.d=[0];return tr}function round(tr,er,rr){var nr,ir,or,sr,ar,cr,lr,ur,fr=tr.d;for(sr=1,or=fr[0];or>=10;or/=10)sr++;if(nr=er-sr,nr<0)nr+=LOG_BASE$1,ir=er,lr=fr[ur=0];else{if(ur=Math.ceil((nr+1)/LOG_BASE$1),or=fr.length,ur>=or)return tr;for(lr=or=fr[ur],sr=1;or>=10;or/=10)sr++;nr%=LOG_BASE$1,ir=nr-LOG_BASE$1+sr}if(rr!==void 0&&(or=mathpow(10,sr-ir-1),ar=lr/or%10|0,cr=er<0||fr[ur+1]!==void 0||lr%or,cr=rr<4?(ar||cr)&&(rr==0||rr==(tr.s<0?3:2)):ar>5||ar==5&&(rr==4||cr||rr==6&&(nr>0?ir>0?lr/mathpow(10,sr-ir):0:fr[ur-1])%10&1||rr==(tr.s<0?8:7))),er<1||!fr[0])return cr?(or=getBase10Exponent(tr),fr.length=1,er=er-or-1,fr[0]=mathpow(10,(LOG_BASE$1-er%LOG_BASE$1)%LOG_BASE$1),tr.e=mathfloor$1(-er/LOG_BASE$1)||0):(fr.length=1,fr[0]=tr.e=tr.s=0),tr;if(nr==0?(fr.length=ur,or=1,ur--):(fr.length=ur+1,or=mathpow(10,LOG_BASE$1-nr),fr[ur]=ir>0?(lr/mathpow(10,sr-ir)%mathpow(10,ir)|0)*or:0),cr)for(;;)if(ur==0){(fr[0]+=or)==BASE$1&&(fr[0]=1,++tr.e);break}else{if(fr[ur]+=or,fr[ur]!=BASE$1)break;fr[ur--]=0,or=1}for(nr=fr.length;fr[--nr]===0;)fr.pop();if(external&&(tr.e>MAX_E||tr.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(tr));return tr}function subtract(tr,er){var rr,nr,ir,or,sr,ar,cr,lr,ur,fr,dr=tr.constructor,gr=dr.precision;if(!tr.s||!er.s)return er.s?er.s=-er.s:er=new dr(tr),external?round(er,gr):er;if(cr=tr.d,fr=er.d,nr=er.e,lr=tr.e,cr=cr.slice(),sr=lr-nr,sr){for(ur=sr<0,ur?(rr=cr,sr=-sr,ar=fr.length):(rr=fr,nr=lr,ar=cr.length),ir=Math.max(Math.ceil(gr/LOG_BASE$1),ar)+2,sr>ir&&(sr=ir,rr.length=1),rr.reverse(),ir=sr;ir--;)rr.push(0);rr.reverse()}else{for(ir=cr.length,ar=fr.length,ur=ir<ar,ur&&(ar=ir),ir=0;ir<ar;ir++)if(cr[ir]!=fr[ir]){ur=cr[ir]<fr[ir];break}sr=0}for(ur&&(rr=cr,cr=fr,fr=rr,er.s=-er.s),ar=cr.length,ir=fr.length-ar;ir>0;--ir)cr[ar++]=0;for(ir=fr.length;ir>sr;){if(cr[--ir]<fr[ir]){for(or=ir;or&&cr[--or]===0;)cr[or]=BASE$1-1;--cr[or],cr[ir]+=BASE$1}cr[ir]-=fr[ir]}for(;cr[--ar]===0;)cr.pop();for(;cr[0]===0;cr.shift())--nr;return cr[0]?(er.d=cr,er.e=nr,external?round(er,gr):er):new dr(0)}function toString$1(tr,er,rr){var nr,ir=getBase10Exponent(tr),or=digitsToString(tr.d),sr=or.length;return er?(rr&&(nr=rr-sr)>0?or=or.charAt(0)+"."+or.slice(1)+getZeroString(nr):sr>1&&(or=or.charAt(0)+"."+or.slice(1)),or=or+(ir<0?"e":"e+")+ir):ir<0?(or="0."+getZeroString(-ir-1)+or,rr&&(nr=rr-sr)>0&&(or+=getZeroString(nr))):ir>=sr?(or+=getZeroString(ir+1-sr),rr&&(nr=rr-ir-1)>0&&(or=or+"."+getZeroString(nr))):((nr=ir+1)<sr&&(or=or.slice(0,nr)+"."+or.slice(nr)),rr&&(nr=rr-sr)>0&&(ir+1===sr&&(or+="."),or+=getZeroString(nr))),tr.s<0?"-"+or:or}function truncate(tr,er){if(tr.length>er)return tr.length=er,!0}function clone$1(tr){var er,rr,nr;function ir(or){var sr=this;if(!(sr instanceof ir))return new ir(or);if(sr.constructor=ir,or instanceof ir){sr.s=or.s,sr.e=or.e,sr.d=(or=or.d)?or.slice():or;return}if(typeof or=="number"){if(or*0!==0)throw Error(invalidArgument+or);if(or>0)sr.s=1;else if(or<0)or=-or,sr.s=-1;else{sr.s=0,sr.e=0,sr.d=[0];return}if(or===~~or&&or<1e7){sr.e=0,sr.d=[or];return}return parseDecimal(sr,or.toString())}else if(typeof or!="string")throw Error(invalidArgument+or);if(or.charCodeAt(0)===45?(or=or.slice(1),sr.s=-1):sr.s=1,isDecimal.test(or))parseDecimal(sr,or);else throw Error(invalidArgument+or)}if(ir.prototype=P$2,ir.ROUND_UP=0,ir.ROUND_DOWN=1,ir.ROUND_CEIL=2,ir.ROUND_FLOOR=3,ir.ROUND_HALF_UP=4,ir.ROUND_HALF_DOWN=5,ir.ROUND_HALF_EVEN=6,ir.ROUND_HALF_CEIL=7,ir.ROUND_HALF_FLOOR=8,ir.clone=clone$1,ir.config=ir.set=config$1,tr===void 0&&(tr={}),tr)for(nr=["precision","rounding","toExpNeg","toExpPos","LN10"],er=0;er<nr.length;)tr.hasOwnProperty(rr=nr[er++])||(tr[rr]=this[rr]);return ir.config(tr),ir}function config$1(tr){if(!tr||typeof tr!="object")throw Error(decimalError+"Object expected");var er,rr,nr,ir=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(er=0;er<ir.length;er+=3)if((nr=tr[rr=ir[er]])!==void 0)if(mathfloor$1(nr)===nr&&nr>=ir[er+1]&&nr<=ir[er+2])this[rr]=nr;else throw Error(invalidArgument+rr+": "+nr);if((nr=tr[rr="LN10"])!==void 0)if(nr==Math.LN10)this[rr]=new this(nr);else throw Error(invalidArgument+rr+": "+nr);return this}var Decimal=clone$1(defaults);ONE$1=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$a(tr){return _arrayWithoutHoles$a(tr)||_iterableToArray$b(tr)||_unsupportedIterableToArray$f(tr)||_nonIterableSpread$a()}function _nonIterableSpread$a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$f(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$f(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$f(tr,er)}}function _iterableToArray$b(tr){if(typeof Symbol<"u"&&Symbol.iterator in Object(tr))return Array.from(tr)}function _arrayWithoutHoles$a(tr){if(Array.isArray(tr))return _arrayLikeToArray$f(tr)}function _arrayLikeToArray$f(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}var identity$1=function(er){return er},PLACE_HOLDER={"@@functional/placeholder":!0},isPlaceHolder=function(er){return er===PLACE_HOLDER},curry0=function(er){return function rr(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?rr:er.apply(void 0,arguments)}},curryN=function tr(er,rr){return er===1?rr:curry0(function(){for(var nr=arguments.length,ir=new Array(nr),or=0;or<nr;or++)ir[or]=arguments[or];var sr=ir.filter(function(ar){return ar!==PLACE_HOLDER}).length;return sr>=er?rr.apply(void 0,ir):tr(er-sr,curry0(function(){for(var ar=arguments.length,cr=new Array(ar),lr=0;lr<ar;lr++)cr[lr]=arguments[lr];var ur=ir.map(function(fr){return isPlaceHolder(fr)?cr.shift():fr});return rr.apply(void 0,_toConsumableArray$a(ur).concat(cr))}))})},curry=function(er){return curryN(er.length,er)},range$6=function(er,rr){for(var nr=[],ir=er;ir<rr;++ir)nr[ir-er]=ir;return nr},map$2=curry(function(tr,er){return Array.isArray(er)?er.map(tr):Object.keys(er).map(function(rr){return er[rr]}).map(tr)}),compose$2=function(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];if(!rr.length)return identity$1;var ir=rr.reverse(),or=ir[0],sr=ir.slice(1);return function(){return sr.reduce(function(ar,cr){return cr(ar)},or.apply(void 0,arguments))}},reverse=function(er){return Array.isArray(er)?er.reverse():er.split("").reverse.join("")},memoize=function(er){var rr=null,nr=null;return function(){for(var ir=arguments.length,or=new Array(ir),sr=0;sr<ir;sr++)or[sr]=arguments[sr];return rr&&or.every(function(ar,cr){return ar===rr[cr]})||(rr=or,nr=er.apply(void 0,or)),nr}};function getDigitCount(tr){var er;return tr===0?er=1:er=Math.floor(new Decimal$1(tr).abs().log(10).toNumber())+1,er}function rangeStep(tr,er,rr){for(var nr=new Decimal$1(tr),ir=0,or=[];nr.lt(er)&&ir<1e5;)or.push(nr.toNumber()),nr=nr.add(rr),ir++;return or}var interpolateNumber=curry(function(tr,er,rr){var nr=+tr,ir=+er;return nr+rr*(ir-nr)}),uninterpolateNumber=curry(function(tr,er,rr){var nr=er-+tr;return nr=nr||1/0,(rr-tr)/nr}),uninterpolateTruncation=curry(function(tr,er,rr){var nr=er-+tr;return nr=nr||1/0,Math.max(0,Math.min(1,(rr-tr)/nr))});const Arithmetic={rangeStep,getDigitCount,interpolateNumber,uninterpolateNumber,uninterpolateTruncation};function _toConsumableArray$9(tr){return _arrayWithoutHoles$9(tr)||_iterableToArray$a(tr)||_unsupportedIterableToArray$e(tr)||_nonIterableSpread$9()}function _nonIterableSpread$9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$a(tr){if(typeof Symbol<"u"&&Symbol.iterator in Object(tr))return Array.from(tr)}function _arrayWithoutHoles$9(tr){if(Array.isArray(tr))return _arrayLikeToArray$e(tr)}function _slicedToArray$7(tr,er){return _arrayWithHoles$8(tr)||_iterableToArrayLimit$7(tr,er)||_unsupportedIterableToArray$e(tr,er)||_nonIterableRest$8()}function _nonIterableRest$8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$e(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$e(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$e(tr,er)}}function _arrayLikeToArray$e(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$7(tr,er){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(tr)))){var rr=[],nr=!0,ir=!1,or=void 0;try{for(var sr=tr[Symbol.iterator](),ar;!(nr=(ar=sr.next()).done)&&(rr.push(ar.value),!(er&&rr.length===er));nr=!0);}catch(cr){ir=!0,or=cr}finally{try{!nr&&sr.return!=null&&sr.return()}finally{if(ir)throw or}}return rr}}function _arrayWithHoles$8(tr){if(Array.isArray(tr))return tr}function getValidInterval(tr){var er=_slicedToArray$7(tr,2),rr=er[0],nr=er[1],ir=rr,or=nr;return rr>nr&&(ir=nr,or=rr),[ir,or]}function getFormatStep(tr,er,rr){if(tr.lte(0))return new Decimal$1(0);var nr=Arithmetic.getDigitCount(tr.toNumber()),ir=new Decimal$1(10).pow(nr),or=tr.div(ir),sr=nr!==1?.05:.1,ar=new Decimal$1(Math.ceil(or.div(sr).toNumber())).add(rr).mul(sr),cr=ar.mul(ir);return er?cr:new Decimal$1(Math.ceil(cr))}function getTickOfSingleValue(tr,er,rr){var nr=1,ir=new Decimal$1(tr);if(!ir.isint()&&rr){var or=Math.abs(tr);or<1?(nr=new Decimal$1(10).pow(Arithmetic.getDigitCount(tr)-1),ir=new Decimal$1(Math.floor(ir.div(nr).toNumber())).mul(nr)):or>1&&(ir=new Decimal$1(Math.floor(tr)))}else tr===0?ir=new Decimal$1(Math.floor((er-1)/2)):rr||(ir=new Decimal$1(Math.floor(tr)));var sr=Math.floor((er-1)/2),ar=compose$2(map$2(function(cr){return ir.add(new Decimal$1(cr-sr).mul(nr)).toNumber()}),range$6);return ar(0,er)}function calculateStep(tr,er,rr,nr){var ir=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((er-tr)/(rr-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var or=getFormatStep(new Decimal$1(er).sub(tr).div(rr-1),nr,ir),sr;tr<=0&&er>=0?sr=new Decimal$1(0):(sr=new Decimal$1(tr).add(er).div(2),sr=sr.sub(new Decimal$1(sr).mod(or)));var ar=Math.ceil(sr.sub(tr).div(or).toNumber()),cr=Math.ceil(new Decimal$1(er).sub(sr).div(or).toNumber()),lr=ar+cr+1;return lr>rr?calculateStep(tr,er,rr,nr,ir+1):(lr<rr&&(cr=er>0?cr+(rr-lr):cr,ar=er>0?ar:ar+(rr-lr)),{step:or,tickMin:sr.sub(new Decimal$1(ar).mul(or)),tickMax:sr.add(new Decimal$1(cr).mul(or))})}function getNiceTickValuesFn(tr){var er=_slicedToArray$7(tr,2),rr=er[0],nr=er[1],ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,or=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,sr=Math.max(ir,2),ar=getValidInterval([rr,nr]),cr=_slicedToArray$7(ar,2),lr=cr[0],ur=cr[1];if(lr===-1/0||ur===1/0){var fr=ur===1/0?[lr].concat(_toConsumableArray$9(range$6(0,ir-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$9(range$6(0,ir-1).map(function(){return-1/0})),[ur]);return rr>nr?reverse(fr):fr}if(lr===ur)return getTickOfSingleValue(lr,ir,or);var dr=calculateStep(lr,ur,sr,or),gr=dr.step,br=dr.tickMin,vr=dr.tickMax,$r=Arithmetic.rangeStep(br,vr.add(new Decimal$1(.1).mul(gr)),gr);return rr>nr?reverse($r):$r}function getTickValuesFixedDomainFn(tr,er){var rr=_slicedToArray$7(tr,2),nr=rr[0],ir=rr[1],or=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,sr=getValidInterval([nr,ir]),ar=_slicedToArray$7(sr,2),cr=ar[0],lr=ar[1];if(cr===-1/0||lr===1/0)return[nr,ir];if(cr===lr)return[cr];var ur=Math.max(er,2),fr=getFormatStep(new Decimal$1(lr).sub(cr).div(ur-1),or,0),dr=[].concat(_toConsumableArray$9(Arithmetic.rangeStep(new Decimal$1(cr),new Decimal$1(lr).sub(new Decimal$1(.99).mul(fr)),fr)),[lr]);return nr>ir?reverse(dr):dr}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),prefix="Invariant failed";function invariant(tr,er){throw new Error(prefix)}var _excluded$b=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$k.apply(this,arguments)}function _slicedToArray$6(tr,er){return _arrayWithHoles$7(tr)||_iterableToArrayLimit$6(tr,er)||_unsupportedIterableToArray$d(tr,er)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$d(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$d(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$d(tr,er)}}function _arrayLikeToArray$d(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$6(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$7(tr){if(Array.isArray(tr))return tr}function _objectWithoutProperties$b(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$b(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$b(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function ErrorBar(tr){var er=tr.offset,rr=tr.layout,nr=tr.width,ir=tr.dataKey,or=tr.data,sr=tr.dataPointFormatter,ar=tr.xAxis,cr=tr.yAxis,lr=_objectWithoutProperties$b(tr,_excluded$b),ur=filterProps(lr,!1);tr.direction==="x"&&ar.type!=="number"&&invariant();var fr=or.map(function(dr){var gr=sr(dr,ir),br=gr.x,vr=gr.y,$r=gr.value,Er=gr.errorVal;if(!Er)return null;var _r=[],xr,Ir;if(Array.isArray(Er)){var Nr=_slicedToArray$6(Er,2);xr=Nr[0],Ir=Nr[1]}else xr=Ir=Er;if(rr==="vertical"){var Lr=ar.scale,jr=vr+er,Or=jr+nr,Dr=jr-nr,Cr=Lr($r-xr),Tr=Lr($r+Ir);_r.push({x1:Tr,y1:Or,x2:Tr,y2:Dr}),_r.push({x1:Cr,y1:jr,x2:Tr,y2:jr}),_r.push({x1:Cr,y1:Or,x2:Cr,y2:Dr})}else if(rr==="horizontal"){var yr=cr.scale,mr=br+er,hr=mr-nr,pr=mr+nr,wr=yr($r-xr),Ar=yr($r+Ir);_r.push({x1:hr,y1:Ar,x2:pr,y2:Ar}),_r.push({x1:mr,y1:wr,x2:mr,y2:Ar}),_r.push({x1:hr,y1:wr,x2:pr,y2:wr})}return React$1.createElement(Layer,_extends$k({className:"recharts-errorBar",key:"bar-".concat(_r.map(function(Rr){return"".concat(Rr.x1,"-").concat(Rr.x2,"-").concat(Rr.y1,"-").concat(Rr.y2)}))},ur),_r.map(function(Rr){return React$1.createElement("line",_extends$k({},Rr,{key:"line-".concat(Rr.x1,"-").concat(Rr.x2,"-").concat(Rr.y1,"-").concat(Rr.y2)}))}))});return React$1.createElement(Layer,{className:"recharts-errorBars"},fr)}ErrorBar.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};ErrorBar.displayName="ErrorBar";function _typeof$u(tr){"@babel/helpers - typeof";return _typeof$u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$u(tr)}function ownKeys$s(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$r(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$s(Object(rr),!0).forEach(function(nr){_defineProperty$t(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$s(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$t(tr,er,rr){return er=_toPropertyKey$s(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$s(tr){var er=_toPrimitive$s(tr,"string");return _typeof$u(er)=="symbol"?er:String(er)}function _toPrimitive$s(tr,er){if(_typeof$u(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$u(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getLegendProps=function(er){var rr=er.children,nr=er.formattedGraphicalItems,ir=er.legendWidth,or=er.legendContent,sr=findChildByType(rr,Legend);if(!sr)return null;var ar;return sr.props&&sr.props.payload?ar=sr.props&&sr.props.payload:or==="children"?ar=(nr||[]).reduce(function(cr,lr){var ur=lr.item,fr=lr.props,dr=fr.sectors||fr.data||[];return cr.concat(dr.map(function(gr){return{type:sr.props.iconType||ur.props.legendType,value:gr.name,color:gr.fill,payload:gr}}))},[]):ar=(nr||[]).map(function(cr){var lr=cr.item,ur=lr.props,fr=ur.dataKey,dr=ur.name,gr=ur.legendType,br=ur.hide;return{inactive:br,dataKey:fr,type:sr.props.iconType||gr||"square",color:getMainColorOfGraphicItem(lr),value:dr||fr,payload:lr.props}}),_objectSpread$r(_objectSpread$r(_objectSpread$r({},sr.props),Legend.getWithHeight(sr,ir)),{},{payload:ar,item:sr})};function _typeof$t(tr){"@babel/helpers - typeof";return _typeof$t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$t(tr)}function ownKeys$r(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$q(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$r(Object(rr),!0).forEach(function(nr){_defineProperty$s(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$r(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$s(tr,er,rr){return er=_toPropertyKey$r(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$r(tr){var er=_toPrimitive$r(tr,"string");return _typeof$t(er)=="symbol"?er:String(er)}function _toPrimitive$r(tr,er){if(_typeof$t(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$t(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _toConsumableArray$8(tr){return _arrayWithoutHoles$8(tr)||_iterableToArray$9(tr)||_unsupportedIterableToArray$c(tr)||_nonIterableSpread$8()}function _nonIterableSpread$8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$c(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$c(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$c(tr,er)}}function _iterableToArray$9(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$8(tr){if(Array.isArray(tr))return _arrayLikeToArray$c(tr)}function _arrayLikeToArray$c(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function getValueByDataKey(tr,er,rr){return isNil$1(tr)||isNil$1(er)?rr:isNumOrStr(er)?get$4(tr,er,rr):isFunction$3(er)?er(tr):rr}function getDomainOfDataByKey(tr,er,rr,nr){var ir=flatMap$2(tr,function(ar){return getValueByDataKey(ar,er)});if(rr==="number"){var or=ir.filter(function(ar){return isNumber(ar)||parseFloat(ar)});return or.length?[min$2(or),max$3(or)]:[1/0,-1/0]}var sr=nr?ir.filter(function(ar){return!isNil$1(ar)}):ir;return sr.map(function(ar){return isNumOrStr(ar)||ar instanceof Date?ar:""})}var calculateActiveTickIndex=function(er){var rr,nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ir=arguments.length>2?arguments[2]:void 0,or=arguments.length>3?arguments[3]:void 0,sr=-1,ar=(rr=nr?.length)!==null&&rr!==void 0?rr:0;if(ar<=1)return 0;if(or&&or.axisType==="angleAxis"&&Math.abs(Math.abs(or.range[1]-or.range[0])-360)<=1e-6)for(var cr=or.range,lr=0;lr<ar;lr++){var ur=lr>0?ir[lr-1].coordinate:ir[ar-1].coordinate,fr=ir[lr].coordinate,dr=lr>=ar-1?ir[0].coordinate:ir[lr+1].coordinate,gr=void 0;if(mathSign(fr-ur)!==mathSign(dr-fr)){var br=[];if(mathSign(dr-fr)===mathSign(cr[1]-cr[0])){gr=dr;var vr=fr+cr[1]-cr[0];br[0]=Math.min(vr,(vr+ur)/2),br[1]=Math.max(vr,(vr+ur)/2)}else{gr=ur;var $r=dr+cr[1]-cr[0];br[0]=Math.min(fr,($r+fr)/2),br[1]=Math.max(fr,($r+fr)/2)}var Er=[Math.min(fr,(gr+fr)/2),Math.max(fr,(gr+fr)/2)];if(er>Er[0]&&er<=Er[1]||er>=br[0]&&er<=br[1]){sr=ir[lr].index;break}}else{var _r=Math.min(ur,dr),xr=Math.max(ur,dr);if(er>(_r+fr)/2&&er<=(xr+fr)/2){sr=ir[lr].index;break}}}else for(var Ir=0;Ir<ar;Ir++)if(Ir===0&&er<=(nr[Ir].coordinate+nr[Ir+1].coordinate)/2||Ir>0&&Ir<ar-1&&er>(nr[Ir].coordinate+nr[Ir-1].coordinate)/2&&er<=(nr[Ir].coordinate+nr[Ir+1].coordinate)/2||Ir===ar-1&&er>(nr[Ir].coordinate+nr[Ir-1].coordinate)/2){sr=nr[Ir].index;break}return sr},getMainColorOfGraphicItem=function(er){var rr=er,nr=rr.type.displayName,ir=er.props,or=ir.stroke,sr=ir.fill,ar;switch(nr){case"Line":ar=or;break;case"Area":case"Radar":ar=or&&or!=="none"?or:sr;break;default:ar=sr;break}return ar},getBarSizeList=function(er){var rr=er.barSize,nr=er.totalSize,ir=er.stackGroups,or=ir===void 0?{}:ir;if(!or)return{};for(var sr={},ar=Object.keys(or),cr=0,lr=ar.length;cr<lr;cr++)for(var ur=or[ar[cr]].stackGroups,fr=Object.keys(ur),dr=0,gr=fr.length;dr<gr;dr++){var br=ur[fr[dr]],vr=br.items,$r=br.cateAxisId,Er=vr.filter(function(Nr){return getDisplayName(Nr.type).indexOf("Bar")>=0});if(Er&&Er.length){var _r=Er[0].props.barSize,xr=Er[0].props[$r];sr[xr]||(sr[xr]=[]);var Ir=isNil$1(_r)?rr:_r;sr[xr].push({item:Er[0],stackList:Er.slice(1),barSize:isNil$1(Ir)?void 0:getPercentValue(Ir,nr,0)})}}return sr},getBarPosition=function(er){var rr=er.barGap,nr=er.barCategoryGap,ir=er.bandSize,or=er.sizeList,sr=or===void 0?[]:or,ar=er.maxBarSize,cr=sr.length;if(cr<1)return null;var lr=getPercentValue(rr,ir,0,!0),ur,fr=[];if(sr[0].barSize===+sr[0].barSize){var dr=!1,gr=ir/cr,br=sr.reduce(function(Ir,Nr){return Ir+Nr.barSize||0},0);br+=(cr-1)*lr,br>=ir&&(br-=(cr-1)*lr,lr=0),br>=ir&&gr>0&&(dr=!0,gr*=.9,br=cr*gr);var vr=(ir-br)/2>>0,$r={offset:vr-lr,size:0};ur=sr.reduce(function(Ir,Nr){var Lr={item:Nr.item,position:{offset:$r.offset+$r.size+lr,size:dr?gr:Nr.barSize}},jr=[].concat(_toConsumableArray$8(Ir),[Lr]);return $r=jr[jr.length-1].position,Nr.stackList&&Nr.stackList.length&&Nr.stackList.forEach(function(Or){jr.push({item:Or,position:$r})}),jr},fr)}else{var Er=getPercentValue(nr,ir,0,!0);ir-2*Er-(cr-1)*lr<=0&&(lr=0);var _r=(ir-2*Er-(cr-1)*lr)/cr;_r>1&&(_r>>=0);var xr=ar===+ar?Math.min(_r,ar):_r;ur=sr.reduce(function(Ir,Nr,Lr){var jr=[].concat(_toConsumableArray$8(Ir),[{item:Nr.item,position:{offset:Er+(_r+lr)*Lr+(_r-xr)/2,size:xr}}]);return Nr.stackList&&Nr.stackList.length&&Nr.stackList.forEach(function(Or){jr.push({item:Or,position:jr[jr.length-1].position})}),jr},fr)}return ur},appendOffsetOfLegend=function(er,rr,nr,ir){var or=nr.children,sr=nr.width,ar=nr.margin,cr=sr-(ar.left||0)-(ar.right||0),lr=getLegendProps({children:or,legendWidth:cr});if(lr){var ur=ir||{},fr=ur.width,dr=ur.height,gr=lr.align,br=lr.verticalAlign,vr=lr.layout;if((vr==="vertical"||vr==="horizontal"&&br==="middle")&&gr!=="center"&&isNumber(er[gr]))return _objectSpread$q(_objectSpread$q({},er),{},_defineProperty$s({},gr,er[gr]+(fr||0)));if((vr==="horizontal"||vr==="vertical"&&gr==="center")&&br!=="middle"&&isNumber(er[br]))return _objectSpread$q(_objectSpread$q({},er),{},_defineProperty$s({},br,er[br]+(dr||0)))}return er},isErrorBarRelevantForAxis=function(er,rr,nr){return isNil$1(rr)?!0:er==="horizontal"?rr==="yAxis":er==="vertical"||nr==="x"?rr==="xAxis":nr==="y"?rr==="yAxis":!0},getDomainOfErrorBars=function(er,rr,nr,ir,or){var sr=rr.props.children,ar=findAllByType(sr,ErrorBar).filter(function(lr){return isErrorBarRelevantForAxis(ir,or,lr.props.direction)});if(ar&&ar.length){var cr=ar.map(function(lr){return lr.props.dataKey});return er.reduce(function(lr,ur){var fr=getValueByDataKey(ur,nr);if(isNil$1(fr))return lr;var dr=Array.isArray(fr)?[min$2(fr),max$3(fr)]:[fr,fr],gr=cr.reduce(function(br,vr){var $r=getValueByDataKey(ur,vr,0),Er=dr[0]-Math.abs(Array.isArray($r)?$r[0]:$r),_r=dr[1]+Math.abs(Array.isArray($r)?$r[1]:$r);return[Math.min(Er,br[0]),Math.max(_r,br[1])]},[1/0,-1/0]);return[Math.min(gr[0],lr[0]),Math.max(gr[1],lr[1])]},[1/0,-1/0])}return null},parseErrorBarsOfAxis=function(er,rr,nr,ir,or){var sr=rr.map(function(ar){return getDomainOfErrorBars(er,ar,nr,or,ir)}).filter(function(ar){return!isNil$1(ar)});return sr&&sr.length?sr.reduce(function(ar,cr){return[Math.min(ar[0],cr[0]),Math.max(ar[1],cr[1])]},[1/0,-1/0]):null},getDomainOfItemsWithSameAxis=function(er,rr,nr,ir,or){var sr=rr.map(function(cr){var lr=cr.props.dataKey;return nr==="number"&&lr&&getDomainOfErrorBars(er,cr,lr,ir)||getDomainOfDataByKey(er,lr,nr,or)});if(nr==="number")return sr.reduce(function(cr,lr){return[Math.min(cr[0],lr[0]),Math.max(cr[1],lr[1])]},[1/0,-1/0]);var ar={};return sr.reduce(function(cr,lr){for(var ur=0,fr=lr.length;ur<fr;ur++)ar[lr[ur]]||(ar[lr[ur]]=!0,cr.push(lr[ur]));return cr},[])},isCategoricalAxis=function(er,rr){return er==="horizontal"&&rr==="xAxis"||er==="vertical"&&rr==="yAxis"||er==="centric"&&rr==="angleAxis"||er==="radial"&&rr==="radiusAxis"},getCoordinatesOfGrid=function(er,rr,nr,ir){if(ir)return er.map(function(cr){return cr.coordinate});var or,sr,ar=er.map(function(cr){return cr.coordinate===rr&&(or=!0),cr.coordinate===nr&&(sr=!0),cr.coordinate});return or||ar.push(rr),sr||ar.push(nr),ar},getTicksOfAxis=function(er,rr,nr){if(!er)return null;var ir=er.scale,or=er.duplicateDomain,sr=er.type,ar=er.range,cr=er.realScaleType==="scaleBand"?ir.bandwidth()/2:2,lr=(rr||nr)&&sr==="category"&&ir.bandwidth?ir.bandwidth()/cr:0;if(lr=er.axisType==="angleAxis"&&ar?.length>=2?mathSign(ar[0]-ar[1])*2*lr:lr,rr&&(er.ticks||er.niceTicks)){var ur=(er.ticks||er.niceTicks).map(function(fr){var dr=or?or.indexOf(fr):fr;return{coordinate:ir(dr)+lr,value:fr,offset:lr}});return ur.filter(function(fr){return!isNan$1(fr.coordinate)})}return er.isCategorical&&er.categoricalDomain?er.categoricalDomain.map(function(fr,dr){return{coordinate:ir(fr)+lr,value:fr,index:dr,offset:lr}}):ir.ticks&&!nr?ir.ticks(er.tickCount).map(function(fr){return{coordinate:ir(fr)+lr,value:fr,offset:lr}}):ir.domain().map(function(fr,dr){return{coordinate:ir(fr)+lr,value:or?or[fr]:fr,index:dr,offset:lr}})},handlerWeakMap=new WeakMap,combineEventHandlers=function(er,rr){if(typeof rr!="function")return er;handlerWeakMap.has(er)||handlerWeakMap.set(er,new WeakMap);var nr=handlerWeakMap.get(er);if(nr.has(rr))return nr.get(rr);var ir=function(){er.apply(void 0,arguments),rr.apply(void 0,arguments)};return nr.set(rr,ir),ir},parseScale=function(er,rr,nr){var ir=er.scale,or=er.type,sr=er.layout,ar=er.axisType;if(ir==="auto")return sr==="radial"&&ar==="radiusAxis"?{scale:band(),realScaleType:"band"}:sr==="radial"&&ar==="angleAxis"?{scale:linear(),realScaleType:"linear"}:or==="category"&&rr&&(rr.indexOf("LineChart")>=0||rr.indexOf("AreaChart")>=0||rr.indexOf("ComposedChart")>=0&&!nr)?{scale:point(),realScaleType:"point"}:or==="category"?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$2(ir)){var cr="scale".concat(upperFirst$1(ir));return{scale:(d3Scales[cr]||point)(),realScaleType:d3Scales[cr]?cr:"point"}}return isFunction$3(ir)?{scale:ir}:{scale:point(),realScaleType:"point"}},EPS=1e-4,checkDomainOfScale=function(er){var rr=er.domain();if(!(!rr||rr.length<=2)){var nr=rr.length,ir=er.range(),or=Math.min(ir[0],ir[1])-EPS,sr=Math.max(ir[0],ir[1])+EPS,ar=er(rr[0]),cr=er(rr[nr-1]);(ar<or||ar>sr||cr<or||cr>sr)&&er.domain([rr[0],rr[nr-1]])}},findPositionOfBar=function(er,rr){if(!er)return null;for(var nr=0,ir=er.length;nr<ir;nr++)if(er[nr].item===rr)return er[nr].position;return null},truncateByDomain=function(er,rr){if(!rr||rr.length!==2||!isNumber(rr[0])||!isNumber(rr[1]))return er;var nr=Math.min(rr[0],rr[1]),ir=Math.max(rr[0],rr[1]),or=[er[0],er[1]];return(!isNumber(er[0])||er[0]<nr)&&(or[0]=nr),(!isNumber(er[1])||er[1]>ir)&&(or[1]=ir),or[0]>ir&&(or[0]=ir),or[1]<nr&&(or[1]=nr),or},offsetSign=function(er){var rr=er.length;if(!(rr<=0))for(var nr=0,ir=er[0].length;nr<ir;++nr)for(var or=0,sr=0,ar=0;ar<rr;++ar){var cr=isNan$1(er[ar][nr][1])?er[ar][nr][0]:er[ar][nr][1];cr>=0?(er[ar][nr][0]=or,er[ar][nr][1]=or+cr,or=er[ar][nr][1]):(er[ar][nr][0]=sr,er[ar][nr][1]=sr+cr,sr=er[ar][nr][1])}},offsetPositive=function(er){var rr=er.length;if(!(rr<=0))for(var nr=0,ir=er[0].length;nr<ir;++nr)for(var or=0,sr=0;sr<rr;++sr){var ar=isNan$1(er[sr][nr][1])?er[sr][nr][0]:er[sr][nr][1];ar>=0?(er[sr][nr][0]=or,er[sr][nr][1]=or+ar,or=er[sr][nr][1]):(er[sr][nr][0]=0,er[sr][nr][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=function(er,rr,nr){var ir=rr.map(function(ar){return ar.props.dataKey}),or=STACK_OFFSET_MAP[nr],sr=shapeStack().keys(ir).value(function(ar,cr){return+getValueByDataKey(ar,cr,0)}).order(stackOrderNone).offset(or);return sr(er)},getStackGroupsByAxisId=function(er,rr,nr,ir,or,sr){if(!er)return null;var ar=sr?rr.reverse():rr,cr={},lr=ar.reduce(function(fr,dr){var gr=dr.props,br=gr.stackId,vr=gr.hide;if(vr)return fr;var $r=dr.props[nr],Er=fr[$r]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(br)){var _r=Er.stackGroups[br]||{numericAxisId:nr,cateAxisId:ir,items:[]};_r.items.push(dr),Er.hasStack=!0,Er.stackGroups[br]=_r}else Er.stackGroups[uniqueId("_stackId_")]={numericAxisId:nr,cateAxisId:ir,items:[dr]};return _objectSpread$q(_objectSpread$q({},fr),{},_defineProperty$s({},$r,Er))},cr),ur={};return Object.keys(lr).reduce(function(fr,dr){var gr=lr[dr];if(gr.hasStack){var br={};gr.stackGroups=Object.keys(gr.stackGroups).reduce(function(vr,$r){var Er=gr.stackGroups[$r];return _objectSpread$q(_objectSpread$q({},vr),{},_defineProperty$s({},$r,{numericAxisId:nr,cateAxisId:ir,items:Er.items,stackedData:getStackedData(er,Er.items,or)}))},br)}return _objectSpread$q(_objectSpread$q({},fr),{},_defineProperty$s({},dr,gr))},ur)},getTicksOfScale=function(er,rr){var nr=rr.realScaleType,ir=rr.type,or=rr.tickCount,sr=rr.originalDomain,ar=rr.allowDecimals,cr=nr||rr.scale;if(cr!=="auto"&&cr!=="linear")return null;if(or&&ir==="number"&&sr&&(sr[0]==="auto"||sr[1]==="auto")){var lr=er.domain();if(!lr.length)return null;var ur=getNiceTickValues(lr,or,ar);return er.domain([min$2(ur),max$3(ur)]),{niceTicks:ur}}if(or&&ir==="number"){var fr=er.domain(),dr=getTickValuesFixedDomain(fr,or,ar);return{niceTicks:dr}}return null};function getCateCoordinateOfLine(tr){var er=tr.axis,rr=tr.ticks,nr=tr.bandSize,ir=tr.entry,or=tr.index,sr=tr.dataKey;if(er.type==="category"){if(!er.allowDuplicatedCategory&&er.dataKey&&!isNil$1(ir[er.dataKey])){var ar=findEntryInArray(rr,"value",ir[er.dataKey]);if(ar)return ar.coordinate+nr/2}return rr[or]?rr[or].coordinate+nr/2:null}var cr=getValueByDataKey(ir,isNil$1(sr)?er.dataKey:sr);return isNil$1(cr)?null:er.scale(cr)}var getCateCoordinateOfBar=function(er){var rr=er.axis,nr=er.ticks,ir=er.offset,or=er.bandSize,sr=er.entry,ar=er.index;if(rr.type==="category")return nr[ar]?nr[ar].coordinate+ir:null;var cr=getValueByDataKey(sr,rr.dataKey,rr.domain[ar]);return isNil$1(cr)?null:rr.scale(cr)-or/2+ir},getBaseValueOfBar=function(er){var rr=er.numericAxis,nr=rr.scale.domain();if(rr.type==="number"){var ir=Math.min(nr[0],nr[1]),or=Math.max(nr[0],nr[1]);return ir<=0&&or>=0?0:or<0?or:ir}return nr[0]},getStackedDataOfItem=function(er,rr){var nr=er.props.stackId;if(isNumOrStr(nr)){var ir=rr[nr];if(ir){var or=ir.items.indexOf(er);return or>=0?ir.stackedData[or]:null}}return null},getDomainOfSingle=function(er){return er.reduce(function(rr,nr){return[min$2(nr.concat([rr[0]]).filter(isNumber)),max$3(nr.concat([rr[1]]).filter(isNumber))]},[1/0,-1/0])},getDomainOfStackGroups=function(er,rr,nr){return Object.keys(er).reduce(function(ir,or){var sr=er[or],ar=sr.stackedData,cr=ar.reduce(function(lr,ur){var fr=getDomainOfSingle(ur.slice(rr,nr+1));return[Math.min(lr[0],fr[0]),Math.max(lr[1],fr[1])]},[1/0,-1/0]);return[Math.min(cr[0],ir[0]),Math.max(cr[1],ir[1])]},[1/0,-1/0]).map(function(ir){return ir===1/0||ir===-1/0?0:ir})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function(er,rr,nr){if(isFunction$3(er))return er(rr,nr);if(!Array.isArray(er))return rr;var ir=[];if(isNumber(er[0]))ir[0]=nr?er[0]:Math.min(er[0],rr[0]);else if(MIN_VALUE_REG.test(er[0])){var or=+MIN_VALUE_REG.exec(er[0])[1];ir[0]=rr[0]-or}else isFunction$3(er[0])?ir[0]=er[0](rr[0]):ir[0]=rr[0];if(isNumber(er[1]))ir[1]=nr?er[1]:Math.max(er[1],rr[1]);else if(MAX_VALUE_REG.test(er[1])){var sr=+MAX_VALUE_REG.exec(er[1])[1];ir[1]=rr[1]+sr}else isFunction$3(er[1])?ir[1]=er[1](rr[1]):ir[1]=rr[1];return ir},getBandSizeOfAxis=function(er,rr,nr){if(er&&er.scale&&er.scale.bandwidth){var ir=er.scale.bandwidth();if(!nr||ir>0)return ir}if(er&&rr&&rr.length>=2){for(var or=sortBy$1(rr,function(fr){return fr.coordinate}),sr=1/0,ar=1,cr=or.length;ar<cr;ar++){var lr=or[ar],ur=or[ar-1];sr=Math.min((lr.coordinate||0)-(ur.coordinate||0),sr)}return sr===1/0?0:sr}return nr?void 0:0},parseDomainOfCategoryAxis=function(er,rr,nr){return!er||!er.length||isEqual$2(er,get$4(nr,"type.defaultProps.domain"))?rr:er},getTooltipItem=function(er,rr){var nr=er.props,ir=nr.dataKey,or=nr.name,sr=nr.unit,ar=nr.formatter,cr=nr.tooltipType,lr=nr.chartType,ur=nr.hide;return _objectSpread$q(_objectSpread$q({},filterProps(er,!1)),{},{dataKey:ir,unit:sr,formatter:ar,name:or||ir,color:getMainColorOfGraphicItem(er),value:getValueByDataKey(rr,ir),type:cr,payload:rr,chartType:lr,hide:ur})};function _typeof$s(tr){"@babel/helpers - typeof";return _typeof$s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$s(tr)}function ownKeys$q(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$p(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$q(Object(rr),!0).forEach(function(nr){_defineProperty$r(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$q(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$r(tr,er,rr){return er=_toPropertyKey$q(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$q(tr){var er=_toPrimitive$q(tr,"string");return _typeof$s(er)=="symbol"?er:String(er)}function _toPrimitive$q(tr,er){if(_typeof$s(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$s(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var RADIAN=Math.PI/180,radianToDegree=function(er){return er*180/Math.PI},polarToCartesian=function(er,rr,nr,ir){return{x:er+Math.cos(-RADIAN*ir)*nr,y:rr+Math.sin(-RADIAN*ir)*nr}},distanceBetweenPoints=function(er,rr){var nr=er.x,ir=er.y,or=rr.x,sr=rr.y;return Math.sqrt(Math.pow(nr-or,2)+Math.pow(ir-sr,2))},getAngleOfPoint=function(er,rr){var nr=er.x,ir=er.y,or=rr.cx,sr=rr.cy,ar=distanceBetweenPoints({x:nr,y:ir},{x:or,y:sr});if(ar<=0)return{radius:ar};var cr=(nr-or)/ar,lr=Math.acos(cr);return ir>sr&&(lr=2*Math.PI-lr),{radius:ar,angle:radianToDegree(lr),angleInRadian:lr}},formatAngleOfSector=function(er){var rr=er.startAngle,nr=er.endAngle,ir=Math.floor(rr/360),or=Math.floor(nr/360),sr=Math.min(ir,or);return{startAngle:rr-sr*360,endAngle:nr-sr*360}},reverseFormatAngleOfSetor=function(er,rr){var nr=rr.startAngle,ir=rr.endAngle,or=Math.floor(nr/360),sr=Math.floor(ir/360),ar=Math.min(or,sr);return er+ar*360},inRangeOfSector=function(er,rr){var nr=er.x,ir=er.y,or=getAngleOfPoint({x:nr,y:ir},rr),sr=or.radius,ar=or.angle,cr=rr.innerRadius,lr=rr.outerRadius;if(sr<cr||sr>lr)return!1;if(sr===0)return!0;var ur=formatAngleOfSector(rr),fr=ur.startAngle,dr=ur.endAngle,gr=ar,br;if(fr<=dr){for(;gr>dr;)gr-=360;for(;gr<fr;)gr+=360;br=gr>=fr&&gr<=dr}else{for(;gr>fr;)gr-=360;for(;gr<dr;)gr+=360;br=gr>=dr&&gr<=fr}return br?_objectSpread$p(_objectSpread$p({},rr),{},{radius:sr,angle:reverseFormatAngleOfSetor(gr,rr)}):null};function _typeof$r(tr){"@babel/helpers - typeof";return _typeof$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$r(tr)}var _excluded$a=["offset"];function _toConsumableArray$7(tr){return _arrayWithoutHoles$7(tr)||_iterableToArray$8(tr)||_unsupportedIterableToArray$b(tr)||_nonIterableSpread$7()}function _nonIterableSpread$7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$b(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$b(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$b(tr,er)}}function _iterableToArray$8(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$7(tr){if(Array.isArray(tr))return _arrayLikeToArray$b(tr)}function _arrayLikeToArray$b(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _objectWithoutProperties$a(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$a(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$a(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function ownKeys$p(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$o(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$p(Object(rr),!0).forEach(function(nr){_defineProperty$q(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$p(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$q(tr,er,rr){return er=_toPropertyKey$p(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$p(tr){var er=_toPrimitive$p(tr,"string");return _typeof$r(er)=="symbol"?er:String(er)}function _toPrimitive$p(tr,er){if(_typeof$r(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$r(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$j.apply(this,arguments)}var getLabel=function(er){var rr=er.value,nr=er.formatter,ir=isNil$1(er.children)?rr:er.children;return isFunction$3(nr)?nr(ir):ir},getDeltaAngle$1=function(er,rr){var nr=mathSign(rr-er),ir=Math.min(Math.abs(rr-er),360);return nr*ir},renderRadialLabel=function(er,rr,nr){var ir=er.position,or=er.viewBox,sr=er.offset,ar=er.className,cr=or,lr=cr.cx,ur=cr.cy,fr=cr.innerRadius,dr=cr.outerRadius,gr=cr.startAngle,br=cr.endAngle,vr=cr.clockWise,$r=(fr+dr)/2,Er=getDeltaAngle$1(gr,br),_r=Er>=0?1:-1,xr,Ir;ir==="insideStart"?(xr=gr+_r*sr,Ir=vr):ir==="insideEnd"?(xr=br-_r*sr,Ir=!vr):ir==="end"&&(xr=br+_r*sr,Ir=vr),Ir=Er<=0?Ir:!Ir;var Nr=polarToCartesian(lr,ur,$r,xr),Lr=polarToCartesian(lr,ur,$r,xr+(Ir?1:-1)*359),jr="M".concat(Nr.x,",").concat(Nr.y,`
    A`).concat($r,",").concat($r,",0,1,").concat(Ir?0:1,`,
    `).concat(Lr.x,",").concat(Lr.y),Or=isNil$1(er.id)?uniqueId("recharts-radial-line-"):er.id;return React$1.createElement("text",_extends$j({},nr,{dominantBaseline:"central",className:clsx$1("recharts-radial-bar-label",ar)}),React$1.createElement("defs",null,React$1.createElement("path",{id:Or,d:jr})),React$1.createElement("textPath",{xlinkHref:"#".concat(Or)},rr))},getAttrsOfPolarLabel=function(er){var rr=er.viewBox,nr=er.offset,ir=er.position,or=rr,sr=or.cx,ar=or.cy,cr=or.innerRadius,lr=or.outerRadius,ur=or.startAngle,fr=or.endAngle,dr=(ur+fr)/2;if(ir==="outside"){var gr=polarToCartesian(sr,ar,lr+nr,dr),br=gr.x,vr=gr.y;return{x:br,y:vr,textAnchor:br>=sr?"start":"end",verticalAnchor:"middle"}}if(ir==="center")return{x:sr,y:ar,textAnchor:"middle",verticalAnchor:"middle"};if(ir==="centerTop")return{x:sr,y:ar,textAnchor:"middle",verticalAnchor:"start"};if(ir==="centerBottom")return{x:sr,y:ar,textAnchor:"middle",verticalAnchor:"end"};var $r=(cr+lr)/2,Er=polarToCartesian(sr,ar,$r,dr),_r=Er.x,xr=Er.y;return{x:_r,y:xr,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=function(er){var rr=er.viewBox,nr=er.parentViewBox,ir=er.offset,or=er.position,sr=rr,ar=sr.x,cr=sr.y,lr=sr.width,ur=sr.height,fr=ur>=0?1:-1,dr=fr*ir,gr=fr>0?"end":"start",br=fr>0?"start":"end",vr=lr>=0?1:-1,$r=vr*ir,Er=vr>0?"end":"start",_r=vr>0?"start":"end";if(or==="top"){var xr={x:ar+lr/2,y:cr-fr*ir,textAnchor:"middle",verticalAnchor:gr};return _objectSpread$o(_objectSpread$o({},xr),nr?{height:Math.max(cr-nr.y,0),width:lr}:{})}if(or==="bottom"){var Ir={x:ar+lr/2,y:cr+ur+dr,textAnchor:"middle",verticalAnchor:br};return _objectSpread$o(_objectSpread$o({},Ir),nr?{height:Math.max(nr.y+nr.height-(cr+ur),0),width:lr}:{})}if(or==="left"){var Nr={x:ar-$r,y:cr+ur/2,textAnchor:Er,verticalAnchor:"middle"};return _objectSpread$o(_objectSpread$o({},Nr),nr?{width:Math.max(Nr.x-nr.x,0),height:ur}:{})}if(or==="right"){var Lr={x:ar+lr+$r,y:cr+ur/2,textAnchor:_r,verticalAnchor:"middle"};return _objectSpread$o(_objectSpread$o({},Lr),nr?{width:Math.max(nr.x+nr.width-Lr.x,0),height:ur}:{})}var jr=nr?{width:lr,height:ur}:{};return or==="insideLeft"?_objectSpread$o({x:ar+$r,y:cr+ur/2,textAnchor:_r,verticalAnchor:"middle"},jr):or==="insideRight"?_objectSpread$o({x:ar+lr-$r,y:cr+ur/2,textAnchor:Er,verticalAnchor:"middle"},jr):or==="insideTop"?_objectSpread$o({x:ar+lr/2,y:cr+dr,textAnchor:"middle",verticalAnchor:br},jr):or==="insideBottom"?_objectSpread$o({x:ar+lr/2,y:cr+ur-dr,textAnchor:"middle",verticalAnchor:gr},jr):or==="insideTopLeft"?_objectSpread$o({x:ar+$r,y:cr+dr,textAnchor:_r,verticalAnchor:br},jr):or==="insideTopRight"?_objectSpread$o({x:ar+lr-$r,y:cr+dr,textAnchor:Er,verticalAnchor:br},jr):or==="insideBottomLeft"?_objectSpread$o({x:ar+$r,y:cr+ur-dr,textAnchor:_r,verticalAnchor:gr},jr):or==="insideBottomRight"?_objectSpread$o({x:ar+lr-$r,y:cr+ur-dr,textAnchor:Er,verticalAnchor:gr},jr):isObject$f(or)&&(isNumber(or.x)||isPercent(or.x))&&(isNumber(or.y)||isPercent(or.y))?_objectSpread$o({x:ar+getPercentValue(or.x,lr),y:cr+getPercentValue(or.y,ur),textAnchor:"end",verticalAnchor:"end"},jr):_objectSpread$o({x:ar+lr/2,y:cr+ur/2,textAnchor:"middle",verticalAnchor:"middle"},jr)},isPolar=function(er){return"cx"in er&&isNumber(er.cx)};function Label(tr){var er=tr.offset,rr=er===void 0?5:er,nr=_objectWithoutProperties$a(tr,_excluded$a),ir=_objectSpread$o({offset:rr},nr),or=ir.viewBox,sr=ir.position,ar=ir.value,cr=ir.children,lr=ir.content,ur=ir.className,fr=ur===void 0?"":ur,dr=ir.textBreakAll;if(!or||isNil$1(ar)&&isNil$1(cr)&&!reactExports.isValidElement(lr)&&!isFunction$3(lr))return null;if(reactExports.isValidElement(lr))return reactExports.cloneElement(lr,ir);var gr;if(isFunction$3(lr)){if(gr=reactExports.createElement(lr,ir),reactExports.isValidElement(gr))return gr}else gr=getLabel(ir);var br=isPolar(or),vr=filterProps(ir,!0);if(br&&(sr==="insideStart"||sr==="insideEnd"||sr==="end"))return renderRadialLabel(ir,gr,vr);var $r=br?getAttrsOfPolarLabel(ir):getAttrsOfCartesianLabel(ir);return React$1.createElement(Text,_extends$j({className:clsx$1("recharts-label",fr)},vr,$r,{breakAll:dr}),gr)}Label.displayName="Label";var parseViewBox=function(er){var rr=er.cx,nr=er.cy,ir=er.angle,or=er.startAngle,sr=er.endAngle,ar=er.r,cr=er.radius,lr=er.innerRadius,ur=er.outerRadius,fr=er.x,dr=er.y,gr=er.top,br=er.left,vr=er.width,$r=er.height,Er=er.clockWise,_r=er.labelViewBox;if(_r)return _r;if(isNumber(vr)&&isNumber($r)){if(isNumber(fr)&&isNumber(dr))return{x:fr,y:dr,width:vr,height:$r};if(isNumber(gr)&&isNumber(br))return{x:gr,y:br,width:vr,height:$r}}return isNumber(fr)&&isNumber(dr)?{x:fr,y:dr,width:0,height:0}:isNumber(rr)&&isNumber(nr)?{cx:rr,cy:nr,startAngle:or||ir||0,endAngle:sr||ir||0,innerRadius:lr||0,outerRadius:ur||cr||ar||0,clockWise:Er}:er.viewBox?er.viewBox:{}},parseLabel=function(er,rr){return er?er===!0?React$1.createElement(Label,{key:"label-implicit",viewBox:rr}):isNumOrStr(er)?React$1.createElement(Label,{key:"label-implicit",viewBox:rr,value:er}):reactExports.isValidElement(er)?er.type===Label?reactExports.cloneElement(er,{key:"label-implicit",viewBox:rr}):React$1.createElement(Label,{key:"label-implicit",content:er,viewBox:rr}):isFunction$3(er)?React$1.createElement(Label,{key:"label-implicit",content:er,viewBox:rr}):isObject$f(er)?React$1.createElement(Label,_extends$j({viewBox:rr},er,{key:"label-implicit"})):null:null},renderCallByParent$1=function(er,rr){var nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!er||!er.children&&nr&&!er.label)return null;var ir=er.children,or=parseViewBox(er),sr=findAllByType(ir,Label).map(function(cr,lr){return reactExports.cloneElement(cr,{viewBox:rr||or,key:"label-".concat(lr)})});if(!nr)return sr;var ar=parseLabel(er.label,rr||or);return[ar].concat(_toConsumableArray$7(sr))};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;function last(tr){var er=tr==null?0:tr.length;return er?tr[er-1]:void 0}var last_1=last;const last$1=getDefaultExportFromCjs(last_1);function _typeof$q(tr){"@babel/helpers - typeof";return _typeof$q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$q(tr)}var _excluded$9=["valueAccessor"],_excluded2$3=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$6(tr){return _arrayWithoutHoles$6(tr)||_iterableToArray$7(tr)||_unsupportedIterableToArray$a(tr)||_nonIterableSpread$6()}function _nonIterableSpread$6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$a(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$a(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$a(tr,er)}}function _iterableToArray$7(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$6(tr){if(Array.isArray(tr))return _arrayLikeToArray$a(tr)}function _arrayLikeToArray$a(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$i.apply(this,arguments)}function ownKeys$o(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$n(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$o(Object(rr),!0).forEach(function(nr){_defineProperty$p(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$o(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$p(tr,er,rr){return er=_toPropertyKey$o(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$o(tr){var er=_toPrimitive$o(tr,"string");return _typeof$q(er)=="symbol"?er:String(er)}function _toPrimitive$o(tr,er){if(_typeof$q(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$q(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$9(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$9(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$9(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}var defaultAccessor=function(er){return Array.isArray(er.value)?last$1(er.value):er.value};function LabelList(tr){var er=tr.valueAccessor,rr=er===void 0?defaultAccessor:er,nr=_objectWithoutProperties$9(tr,_excluded$9),ir=nr.data,or=nr.dataKey,sr=nr.clockWise,ar=nr.id,cr=nr.textBreakAll,lr=_objectWithoutProperties$9(nr,_excluded2$3);return!ir||!ir.length?null:React$1.createElement(Layer,{className:"recharts-label-list"},ir.map(function(ur,fr){var dr=isNil$1(or)?rr(ur,fr):getValueByDataKey(ur&&ur.payload,or),gr=isNil$1(ar)?{}:{id:"".concat(ar,"-").concat(fr)};return React$1.createElement(Label,_extends$i({},filterProps(ur,!0),lr,gr,{parentViewBox:ur.parentViewBox,value:dr,textBreakAll:cr,viewBox:Label.parseViewBox(isNil$1(sr)?ur:_objectSpread$n(_objectSpread$n({},ur),{},{clockWise:sr})),key:"label-".concat(fr),index:fr}))}))}LabelList.displayName="LabelList";function parseLabelList(tr,er){return tr?tr===!0?React$1.createElement(LabelList,{key:"labelList-implicit",data:er}):React$1.isValidElement(tr)||isFunction$3(tr)?React$1.createElement(LabelList,{key:"labelList-implicit",data:er,content:tr}):isObject$f(tr)?React$1.createElement(LabelList,_extends$i({data:er},tr,{key:"labelList-implicit"})):null:null}function renderCallByParent(tr,er){var rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!tr||!tr.children&&rr&&!tr.label)return null;var nr=tr.children,ir=findAllByType(nr,LabelList).map(function(sr,ar){return reactExports.cloneElement(sr,{data:er,key:"labelList-".concat(ar)})});if(!rr)return ir;var or=parseLabelList(tr.label,er);return[or].concat(_toConsumableArray$6(ir))}LabelList.renderCallByParent=renderCallByParent;function _typeof$p(tr){"@babel/helpers - typeof";return _typeof$p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$p(tr)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$h.apply(this,arguments)}function ownKeys$n(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$m(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$n(Object(rr),!0).forEach(function(nr){_defineProperty$o(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$n(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$o(tr,er,rr){return er=_toPropertyKey$n(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$n(tr){var er=_toPrimitive$n(tr,"string");return _typeof$p(er)=="symbol"?er:String(er)}function _toPrimitive$n(tr,er){if(_typeof$p(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$p(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getDeltaAngle=function(er,rr){var nr=mathSign(rr-er),ir=Math.min(Math.abs(rr-er),359.999);return nr*ir},getTangentCircle=function(er){var rr=er.cx,nr=er.cy,ir=er.radius,or=er.angle,sr=er.sign,ar=er.isExternal,cr=er.cornerRadius,lr=er.cornerIsExternal,ur=cr*(ar?1:-1)+ir,fr=Math.asin(cr/ur)/RADIAN,dr=lr?or:or+sr*fr,gr=polarToCartesian(rr,nr,ur,dr),br=polarToCartesian(rr,nr,ir,dr),vr=lr?or-sr*fr:or,$r=polarToCartesian(rr,nr,ur*Math.cos(fr*RADIAN),vr);return{center:gr,circleTangency:br,lineTangency:$r,theta:fr}},getSectorPath=function(er){var rr=er.cx,nr=er.cy,ir=er.innerRadius,or=er.outerRadius,sr=er.startAngle,ar=er.endAngle,cr=getDeltaAngle(sr,ar),lr=sr+cr,ur=polarToCartesian(rr,nr,or,sr),fr=polarToCartesian(rr,nr,or,lr),dr="M ".concat(ur.x,",").concat(ur.y,`
    A `).concat(or,",").concat(or,`,0,
    `).concat(+(Math.abs(cr)>180),",").concat(+(sr>lr),`,
    `).concat(fr.x,",").concat(fr.y,`
  `);if(ir>0){var gr=polarToCartesian(rr,nr,ir,sr),br=polarToCartesian(rr,nr,ir,lr);dr+="L ".concat(br.x,",").concat(br.y,`
            A `).concat(ir,",").concat(ir,`,0,
            `).concat(+(Math.abs(cr)>180),",").concat(+(sr<=lr),`,
            `).concat(gr.x,",").concat(gr.y," Z")}else dr+="L ".concat(rr,",").concat(nr," Z");return dr},getSectorWithCorner=function(er){var rr=er.cx,nr=er.cy,ir=er.innerRadius,or=er.outerRadius,sr=er.cornerRadius,ar=er.forceCornerRadius,cr=er.cornerIsExternal,lr=er.startAngle,ur=er.endAngle,fr=mathSign(ur-lr),dr=getTangentCircle({cx:rr,cy:nr,radius:or,angle:lr,sign:fr,cornerRadius:sr,cornerIsExternal:cr}),gr=dr.circleTangency,br=dr.lineTangency,vr=dr.theta,$r=getTangentCircle({cx:rr,cy:nr,radius:or,angle:ur,sign:-fr,cornerRadius:sr,cornerIsExternal:cr}),Er=$r.circleTangency,_r=$r.lineTangency,xr=$r.theta,Ir=cr?Math.abs(lr-ur):Math.abs(lr-ur)-vr-xr;if(Ir<0)return ar?"M ".concat(br.x,",").concat(br.y,`
        a`).concat(sr,",").concat(sr,",0,0,1,").concat(sr*2,`,0
        a`).concat(sr,",").concat(sr,",0,0,1,").concat(-sr*2,`,0
      `):getSectorPath({cx:rr,cy:nr,innerRadius:ir,outerRadius:or,startAngle:lr,endAngle:ur});var Nr="M ".concat(br.x,",").concat(br.y,`
    A`).concat(sr,",").concat(sr,",0,0,").concat(+(fr<0),",").concat(gr.x,",").concat(gr.y,`
    A`).concat(or,",").concat(or,",0,").concat(+(Ir>180),",").concat(+(fr<0),",").concat(Er.x,",").concat(Er.y,`
    A`).concat(sr,",").concat(sr,",0,0,").concat(+(fr<0),",").concat(_r.x,",").concat(_r.y,`
  `);if(ir>0){var Lr=getTangentCircle({cx:rr,cy:nr,radius:ir,angle:lr,sign:fr,isExternal:!0,cornerRadius:sr,cornerIsExternal:cr}),jr=Lr.circleTangency,Or=Lr.lineTangency,Dr=Lr.theta,Cr=getTangentCircle({cx:rr,cy:nr,radius:ir,angle:ur,sign:-fr,isExternal:!0,cornerRadius:sr,cornerIsExternal:cr}),Tr=Cr.circleTangency,yr=Cr.lineTangency,mr=Cr.theta,hr=cr?Math.abs(lr-ur):Math.abs(lr-ur)-Dr-mr;if(hr<0&&sr===0)return"".concat(Nr,"L").concat(rr,",").concat(nr,"Z");Nr+="L".concat(yr.x,",").concat(yr.y,`
      A`).concat(sr,",").concat(sr,",0,0,").concat(+(fr<0),",").concat(Tr.x,",").concat(Tr.y,`
      A`).concat(ir,",").concat(ir,",0,").concat(+(hr>180),",").concat(+(fr>0),",").concat(jr.x,",").concat(jr.y,`
      A`).concat(sr,",").concat(sr,",0,0,").concat(+(fr<0),",").concat(Or.x,",").concat(Or.y,"Z")}else Nr+="L".concat(rr,",").concat(nr,"Z");return Nr},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function(er){var rr=_objectSpread$m(_objectSpread$m({},defaultProps$3),er),nr=rr.cx,ir=rr.cy,or=rr.innerRadius,sr=rr.outerRadius,ar=rr.cornerRadius,cr=rr.forceCornerRadius,lr=rr.cornerIsExternal,ur=rr.startAngle,fr=rr.endAngle,dr=rr.className;if(sr<or||ur===fr)return null;var gr=clsx$1("recharts-sector",dr),br=sr-or,vr=getPercentValue(ar,br,0,!0),$r;return vr>0&&Math.abs(ur-fr)<360?$r=getSectorWithCorner({cx:nr,cy:ir,innerRadius:or,outerRadius:sr,cornerRadius:Math.min(vr,br/2),forceCornerRadius:cr,cornerIsExternal:lr,startAngle:ur,endAngle:fr}):$r=getSectorPath({cx:nr,cy:ir,innerRadius:or,outerRadius:sr,startAngle:ur,endAngle:fr}),React$1.createElement("path",_extends$h({},filterProps(rr,!0),{className:gr,d:$r,role:"img"}))};function _typeof$o(tr){"@babel/helpers - typeof";return _typeof$o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$o(tr)}function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$g.apply(this,arguments)}function ownKeys$m(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$l(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$m(Object(rr),!0).forEach(function(nr){_defineProperty$n(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$m(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$n(tr,er,rr){return er=_toPropertyKey$m(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$m(tr){var er=_toPrimitive$m(tr,"string");return _typeof$o(er)=="symbol"?er:String(er)}function _toPrimitive$m(tr,er){if(_typeof$o(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$o(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=function(er){return er.x===+er.x&&er.y===+er.y},getX=function(er){return er.x},getY=function(er){return er.y},getCurveFactory=function(er,rr){if(isFunction$3(er))return er;var nr="curve".concat(upperFirst$1(er));return(nr==="curveMonotone"||nr==="curveBump")&&rr?CURVE_FACTORIES["".concat(nr).concat(rr==="vertical"?"Y":"X")]:CURVE_FACTORIES[nr]||curveLinear},getPath$2=function(er){var rr=er.type,nr=rr===void 0?"linear":rr,ir=er.points,or=ir===void 0?[]:ir,sr=er.baseLine,ar=er.layout,cr=er.connectNulls,lr=cr===void 0?!1:cr,ur=getCurveFactory(nr,ar),fr=lr?or.filter(function(vr){return defined(vr)}):or,dr;if(Array.isArray(sr)){var gr=lr?sr.filter(function(vr){return defined(vr)}):sr,br=fr.map(function(vr,$r){return _objectSpread$l(_objectSpread$l({},vr),{},{base:gr[$r]})});return ar==="vertical"?dr=shapeArea().y(getY).x1(getX).x0(function(vr){return vr.base.x}):dr=shapeArea().x(getX).y1(getY).y0(function(vr){return vr.base.y}),dr.defined(defined).curve(ur),dr(br)}return ar==="vertical"&&isNumber(sr)?dr=shapeArea().y(getY).x1(getX).x0(sr):isNumber(sr)?dr=shapeArea().x(getX).y1(getY).y0(sr):dr=shapeLine().x(getX).y(getY),dr.defined(defined).curve(ur),dr(fr)},Curve=function(er){var rr=er.className,nr=er.points,ir=er.path,or=er.pathRef;if((!nr||!nr.length)&&!ir)return null;var sr=nr&&nr.length?getPath$2(er):ir;return React$1.createElement("path",_extends$g({},filterProps(er,!1),adaptEventHandlers(er),{className:clsx$1("recharts-curve",rr),d:sr,ref:or}))},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function tr(nr,ir,or,sr,ar,cr){if(cr!==ReactPropTypesSecret){var lr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw lr.name="Invariant Violation",lr}}tr.isRequired=tr;function er(){return tr}var rr={array:tr,bigint:tr,bool:tr,func:tr,number:tr,object:tr,string:tr,symbol:tr,any:tr,arrayOf:er,element:tr,elementType:tr,instanceOf:er,node:tr,objectOf:er,oneOf:er,oneOfType:er,shape:er,exact:er,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rr.PropTypes=rr,rr};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$4=Object.prototype.hasOwnProperty;function combineComparators(tr,er){return function(nr,ir,or){return tr(nr,ir,or)&&er(nr,ir,or)}}function createIsCircular(tr){return function(rr,nr,ir){if(!rr||!nr||typeof rr!="object"||typeof nr!="object")return tr(rr,nr,ir);var or=ir.cache,sr=or.get(rr),ar=or.get(nr);if(sr&&ar)return sr===nr&&ar===rr;or.set(rr,nr),or.set(nr,rr);var cr=tr(rr,nr,ir);return or.delete(rr),or.delete(nr),cr}}function getStrictProperties(tr){return getOwnPropertyNames(tr).concat(getOwnPropertySymbols(tr))}var hasOwn$1=Object.hasOwn||function(tr,er){return hasOwnProperty$4.call(tr,er)};function sameValueZeroEqual(tr,er){return tr||er?tr===er:tr===er||tr!==tr&&er!==er}var OWNER="_owner",getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys$1=Object.keys;function areArraysEqual(tr,er,rr){var nr=tr.length;if(er.length!==nr)return!1;for(;nr-- >0;)if(!rr.equals(tr[nr],er[nr],nr,nr,tr,er,rr))return!1;return!0}function areDatesEqual(tr,er){return sameValueZeroEqual(tr.getTime(),er.getTime())}function areMapsEqual(tr,er,rr){if(tr.size!==er.size)return!1;for(var nr={},ir=tr.entries(),or=0,sr,ar;(sr=ir.next())&&!sr.done;){for(var cr=er.entries(),lr=!1,ur=0;(ar=cr.next())&&!ar.done;){var fr=sr.value,dr=fr[0],gr=fr[1],br=ar.value,vr=br[0],$r=br[1];!lr&&!nr[ur]&&(lr=rr.equals(dr,vr,or,ur,tr,er,rr)&&rr.equals(gr,$r,dr,vr,tr,er,rr))&&(nr[ur]=!0),ur++}if(!lr)return!1;or++}return!0}function areObjectsEqual(tr,er,rr){var nr=keys$1(tr),ir=nr.length;if(keys$1(er).length!==ir)return!1;for(var or;ir-- >0;)if(or=nr[ir],or===OWNER&&(tr.$$typeof||er.$$typeof)&&tr.$$typeof!==er.$$typeof||!hasOwn$1(er,or)||!rr.equals(tr[or],er[or],or,or,tr,er,rr))return!1;return!0}function areObjectsEqualStrict(tr,er,rr){var nr=getStrictProperties(tr),ir=nr.length;if(getStrictProperties(er).length!==ir)return!1;for(var or,sr,ar;ir-- >0;)if(or=nr[ir],or===OWNER&&(tr.$$typeof||er.$$typeof)&&tr.$$typeof!==er.$$typeof||!hasOwn$1(er,or)||!rr.equals(tr[or],er[or],or,or,tr,er,rr)||(sr=getOwnPropertyDescriptor(tr,or),ar=getOwnPropertyDescriptor(er,or),(sr||ar)&&(!sr||!ar||sr.configurable!==ar.configurable||sr.enumerable!==ar.enumerable||sr.writable!==ar.writable)))return!1;return!0}function arePrimitiveWrappersEqual(tr,er){return sameValueZeroEqual(tr.valueOf(),er.valueOf())}function areRegExpsEqual(tr,er){return tr.source===er.source&&tr.flags===er.flags}function areSetsEqual(tr,er,rr){if(tr.size!==er.size)return!1;for(var nr={},ir=tr.values(),or,sr;(or=ir.next())&&!or.done;){for(var ar=er.values(),cr=!1,lr=0;(sr=ar.next())&&!sr.done;)!cr&&!nr[lr]&&(cr=rr.equals(or.value,sr.value,or.value,sr.value,tr,er,rr))&&(nr[lr]=!0),lr++;if(!cr)return!1}return!0}function areTypedArraysEqual(tr,er){var rr=tr.length;if(er.length!==rr)return!1;for(;rr-- >0;)if(tr[rr]!==er[rr])return!1;return!0}var ARGUMENTS_TAG="[object Arguments]",BOOLEAN_TAG="[object Boolean]",DATE_TAG="[object Date]",MAP_TAG="[object Map]",NUMBER_TAG="[object Number]",OBJECT_TAG="[object Object]",REG_EXP_TAG="[object RegExp]",SET_TAG="[object Set]",STRING_TAG="[object String]",isArray$3=Array.isArray,isTypedArray$1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);function createEqualityComparator(tr){var er=tr.areArraysEqual,rr=tr.areDatesEqual,nr=tr.areMapsEqual,ir=tr.areObjectsEqual,or=tr.arePrimitiveWrappersEqual,sr=tr.areRegExpsEqual,ar=tr.areSetsEqual,cr=tr.areTypedArraysEqual;return function(ur,fr,dr){if(ur===fr)return!0;if(ur==null||fr==null||typeof ur!="object"||typeof fr!="object")return ur!==ur&&fr!==fr;var gr=ur.constructor;if(gr!==fr.constructor)return!1;if(gr===Object)return ir(ur,fr,dr);if(isArray$3(ur))return er(ur,fr,dr);if(isTypedArray$1!=null&&isTypedArray$1(ur))return cr(ur,fr,dr);if(gr===Date)return rr(ur,fr,dr);if(gr===RegExp)return sr(ur,fr,dr);if(gr===Map)return nr(ur,fr,dr);if(gr===Set)return ar(ur,fr,dr);var br=getTag(ur);return br===DATE_TAG?rr(ur,fr,dr):br===REG_EXP_TAG?sr(ur,fr,dr):br===MAP_TAG?nr(ur,fr,dr):br===SET_TAG?ar(ur,fr,dr):br===OBJECT_TAG?typeof ur.then!="function"&&typeof fr.then!="function"&&ir(ur,fr,dr):br===ARGUMENTS_TAG?ir(ur,fr,dr):br===BOOLEAN_TAG||br===NUMBER_TAG||br===STRING_TAG?or(ur,fr,dr):!1}}function createEqualityComparatorConfig(tr){var er=tr.circular,rr=tr.createCustomConfig,nr=tr.strict,ir={areArraysEqual:nr?areObjectsEqualStrict:areArraysEqual,areDatesEqual,areMapsEqual:nr?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areObjectsEqual:nr?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual,areRegExpsEqual,areSetsEqual:nr?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:nr?areObjectsEqualStrict:areTypedArraysEqual};if(rr&&(ir=assign({},ir,rr(ir))),er){var or=createIsCircular(ir.areArraysEqual),sr=createIsCircular(ir.areMapsEqual),ar=createIsCircular(ir.areObjectsEqual),cr=createIsCircular(ir.areSetsEqual);ir=assign({},ir,{areArraysEqual:or,areMapsEqual:sr,areObjectsEqual:ar,areSetsEqual:cr})}return ir}function createInternalEqualityComparator(tr){return function(er,rr,nr,ir,or,sr,ar){return tr(er,rr,ar)}}function createIsEqual(tr){var er=tr.circular,rr=tr.comparator,nr=tr.createState,ir=tr.equals,or=tr.strict;if(nr)return function(cr,lr){var ur=nr(),fr=ur.cache,dr=fr===void 0?er?new WeakMap:void 0:fr,gr=ur.meta;return rr(cr,lr,{cache:dr,equals:ir,meta:gr,strict:or})};if(er)return function(cr,lr){return rr(cr,lr,{cache:new WeakMap,equals:ir,meta:void 0,strict:or})};var sr={cache:void 0,equals:ir,meta:void 0,strict:or};return function(cr,lr){return rr(cr,lr,sr)}}var deepEqual=createCustomEqual();createCustomEqual({strict:!0});createCustomEqual({circular:!0});createCustomEqual({circular:!0,strict:!0});createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}});createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});function createCustomEqual(tr){tr===void 0&&(tr={});var er=tr.circular,rr=er===void 0?!1:er,nr=tr.createInternalComparator,ir=tr.createState,or=tr.strict,sr=or===void 0?!1:or,ar=createEqualityComparatorConfig(tr),cr=createEqualityComparator(ar),lr=nr?nr(cr):createInternalEqualityComparator(cr);return createIsEqual({circular:rr,comparator:cr,createState:ir,equals:lr,strict:sr})}function safeRequestAnimationFrame(tr){typeof requestAnimationFrame<"u"&&requestAnimationFrame(tr)}function setRafTimeout(tr){var er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,rr=-1,nr=function ir(or){rr<0&&(rr=or),or-rr>er?(tr(or),rr=-1):safeRequestAnimationFrame(ir)};requestAnimationFrame(nr)}function _typeof$n(tr){"@babel/helpers - typeof";return _typeof$n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$n(tr)}function _toArray(tr){return _arrayWithHoles$6(tr)||_iterableToArray$6(tr)||_unsupportedIterableToArray$9(tr)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$9(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$9(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$9(tr,er)}}function _arrayLikeToArray$9(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArray$6(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithHoles$6(tr){if(Array.isArray(tr))return tr}function createAnimateManager(){var tr={},er=function(){return null},rr=!1,nr=function ir(or){if(!rr){if(Array.isArray(or)){if(!or.length)return;var sr=or,ar=_toArray(sr),cr=ar[0],lr=ar.slice(1);if(typeof cr=="number"){setRafTimeout(ir.bind(null,lr),cr);return}ir(cr),setRafTimeout(ir.bind(null,lr));return}_typeof$n(or)==="object"&&(tr=or,er(tr)),typeof or=="function"&&or()}};return{stop:function(){rr=!0},start:function(or){rr=!1,nr(or)},subscribe:function(or){return er=or,function(){er=function(){return null}}}}}function _typeof$m(tr){"@babel/helpers - typeof";return _typeof$m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$m(tr)}function ownKeys$l(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$k(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$l(Object(rr),!0).forEach(function(nr){_defineProperty$m(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$l(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$m(tr,er,rr){return er=_toPropertyKey$l(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$l(tr){var er=_toPrimitive$l(tr,"string");return _typeof$m(er)==="symbol"?er:String(er)}function _toPrimitive$l(tr,er){if(_typeof$m(tr)!=="object"||tr===null)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$m(nr)!=="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getIntersectionKeys=function(er,rr){return[Object.keys(er),Object.keys(rr)].reduce(function(nr,ir){return nr.filter(function(or){return ir.includes(or)})})},identity=function(er){return er},getDashCase=function(er){return er.replace(/([A-Z])/g,function(rr){return"-".concat(rr.toLowerCase())})},mapObject=function(er,rr){return Object.keys(rr).reduce(function(nr,ir){return _objectSpread$k(_objectSpread$k({},nr),{},_defineProperty$m({},ir,er(ir,rr[ir])))},{})},getTransitionVal=function(er,rr,nr){return er.map(function(ir){return"".concat(getDashCase(ir)," ").concat(rr,"ms ").concat(nr)}).join(",")};function _slicedToArray$5(tr,er){return _arrayWithHoles$5(tr)||_iterableToArrayLimit$5(tr,er)||_unsupportedIterableToArray$8(tr,er)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit$5(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$5(tr){if(Array.isArray(tr))return tr}function _toConsumableArray$5(tr){return _arrayWithoutHoles$5(tr)||_iterableToArray$5(tr)||_unsupportedIterableToArray$8(tr)||_nonIterableSpread$5()}function _nonIterableSpread$5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$8(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$8(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$8(tr,er)}}function _iterableToArray$5(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$5(tr){if(Array.isArray(tr))return _arrayLikeToArray$8(tr)}function _arrayLikeToArray$8(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}var ACCURACY=1e-4,cubicBezierFactor=function(er,rr){return[0,3*er,3*rr-6*er,3*er-3*rr+1]},multyTime=function(er,rr){return er.map(function(nr,ir){return nr*Math.pow(rr,ir)}).reduce(function(nr,ir){return nr+ir})},cubicBezier=function(er,rr){return function(nr){var ir=cubicBezierFactor(er,rr);return multyTime(ir,nr)}},derivativeCubicBezier=function(er,rr){return function(nr){var ir=cubicBezierFactor(er,rr),or=[].concat(_toConsumableArray$5(ir.map(function(sr,ar){return sr*ar}).slice(1)),[0]);return multyTime(or,nr)}},configBezier=function(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];var ir=rr[0],or=rr[1],sr=rr[2],ar=rr[3];if(rr.length===1)switch(rr[0]){case"linear":ir=0,or=0,sr=1,ar=1;break;case"ease":ir=.25,or=.1,sr=.25,ar=1;break;case"ease-in":ir=.42,or=0,sr=1,ar=1;break;case"ease-out":ir=.42,or=0,sr=.58,ar=1;break;case"ease-in-out":ir=0,or=0,sr=.58,ar=1;break;default:{var cr=rr[0].split("(");if(cr[0]==="cubic-bezier"&&cr[1].split(")")[0].split(",").length===4){var lr=cr[1].split(")")[0].split(",").map(function($r){return parseFloat($r)}),ur=_slicedToArray$5(lr,4);ir=ur[0],or=ur[1],sr=ur[2],ar=ur[3]}}}var fr=cubicBezier(ir,sr),dr=cubicBezier(or,ar),gr=derivativeCubicBezier(ir,sr),br=function(Er){return Er>1?1:Er<0?0:Er},vr=function(Er){for(var _r=Er>1?1:Er,xr=_r,Ir=0;Ir<8;++Ir){var Nr=fr(xr)-_r,Lr=gr(xr);if(Math.abs(Nr-_r)<ACCURACY||Lr<ACCURACY)return dr(xr);xr=br(xr-Nr/Lr)}return dr(xr)};return vr.isStepper=!1,vr},configSpring=function(){var er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rr=er.stiff,nr=rr===void 0?100:rr,ir=er.damping,or=ir===void 0?8:ir,sr=er.dt,ar=sr===void 0?17:sr,cr=function(ur,fr,dr){var gr=-(ur-fr)*nr,br=dr*or,vr=dr+(gr-br)*ar/1e3,$r=dr*ar/1e3+ur;return Math.abs($r-fr)<ACCURACY&&Math.abs(vr)<ACCURACY?[fr,0]:[$r,vr]};return cr.isStepper=!0,cr.dt=ar,cr},configEasing=function(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];var ir=rr[0];if(typeof ir=="string")switch(ir){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(ir);case"spring":return configSpring();default:if(ir.split("(")[0]==="cubic-bezier")return configBezier(ir)}return typeof ir=="function"?ir:null};function _typeof$l(tr){"@babel/helpers - typeof";return _typeof$l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$l(tr)}function _toConsumableArray$4(tr){return _arrayWithoutHoles$4(tr)||_iterableToArray$4(tr)||_unsupportedIterableToArray$7(tr)||_nonIterableSpread$4()}function _nonIterableSpread$4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$4(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$4(tr){if(Array.isArray(tr))return _arrayLikeToArray$7(tr)}function ownKeys$k(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$j(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$k(Object(rr),!0).forEach(function(nr){_defineProperty$l(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$k(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$l(tr,er,rr){return er=_toPropertyKey$k(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$k(tr){var er=_toPrimitive$k(tr,"string");return _typeof$l(er)==="symbol"?er:String(er)}function _toPrimitive$k(tr,er){if(_typeof$l(tr)!=="object"||tr===null)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$l(nr)!=="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _slicedToArray$4(tr,er){return _arrayWithHoles$4(tr)||_iterableToArrayLimit$4(tr,er)||_unsupportedIterableToArray$7(tr,er)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$7(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$7(tr,er)}}function _arrayLikeToArray$7(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$4(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$4(tr){if(Array.isArray(tr))return tr}var alpha=function(er,rr,nr){return er+(rr-er)*nr},needContinue=function(er){var rr=er.from,nr=er.to;return rr!==nr},calStepperVals=function tr(er,rr,nr){var ir=mapObject(function(or,sr){if(needContinue(sr)){var ar=er(sr.from,sr.to,sr.velocity),cr=_slicedToArray$4(ar,2),lr=cr[0],ur=cr[1];return _objectSpread$j(_objectSpread$j({},sr),{},{from:lr,velocity:ur})}return sr},rr);return nr<1?mapObject(function(or,sr){return needContinue(sr)?_objectSpread$j(_objectSpread$j({},sr),{},{velocity:alpha(sr.velocity,ir[or].velocity,nr),from:alpha(sr.from,ir[or].from,nr)}):sr},rr):tr(er,ir,nr-1)};const configUpdate=function(tr,er,rr,nr,ir){var or=getIntersectionKeys(tr,er),sr=or.reduce(function($r,Er){return _objectSpread$j(_objectSpread$j({},$r),{},_defineProperty$l({},Er,[tr[Er],er[Er]]))},{}),ar=or.reduce(function($r,Er){return _objectSpread$j(_objectSpread$j({},$r),{},_defineProperty$l({},Er,{from:tr[Er],velocity:0,to:er[Er]}))},{}),cr=-1,lr,ur,fr=function(){return null},dr=function(){return mapObject(function(Er,_r){return _r.from},ar)},gr=function(){return!Object.values(ar).filter(needContinue).length},br=function(Er){lr||(lr=Er);var _r=Er-lr,xr=_r/rr.dt;ar=calStepperVals(rr,ar,xr),ir(_objectSpread$j(_objectSpread$j(_objectSpread$j({},tr),er),dr())),lr=Er,gr()||(cr=requestAnimationFrame(fr))},vr=function(Er){ur||(ur=Er);var _r=(Er-ur)/nr,xr=mapObject(function(Nr,Lr){return alpha.apply(void 0,_toConsumableArray$4(Lr).concat([rr(_r)]))},sr);if(ir(_objectSpread$j(_objectSpread$j(_objectSpread$j({},tr),er),xr)),_r<1)cr=requestAnimationFrame(fr);else{var Ir=mapObject(function(Nr,Lr){return alpha.apply(void 0,_toConsumableArray$4(Lr).concat([rr(1)]))},sr);ir(_objectSpread$j(_objectSpread$j(_objectSpread$j({},tr),er),Ir))}};return fr=rr.isStepper?br:vr,function(){return requestAnimationFrame(fr),function(){cancelAnimationFrame(cr)}}};function _typeof$k(tr){"@babel/helpers - typeof";return _typeof$k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$k(tr)}var _excluded$8=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$8(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$8(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$8(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function _toConsumableArray$3(tr){return _arrayWithoutHoles$3(tr)||_iterableToArray$3(tr)||_unsupportedIterableToArray$6(tr)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$6(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$6(tr,er)}}function _iterableToArray$3(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$3(tr){if(Array.isArray(tr))return _arrayLikeToArray$6(tr)}function _arrayLikeToArray$6(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function ownKeys$j(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$i(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$j(Object(rr),!0).forEach(function(nr){_defineProperty$k(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$j(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$k(tr,er,rr){return er=_toPropertyKey$j(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _classCallCheck$7(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$j(nr.key),nr)}}function _createClass$7(tr,er,rr){return er&&_defineProperties$7(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _toPropertyKey$j(tr){var er=_toPrimitive$j(tr,"string");return _typeof$k(er)==="symbol"?er:String(er)}function _toPrimitive$j(tr,er){if(_typeof$k(tr)!=="object"||tr===null)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$k(nr)!=="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _inherits$5(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$5(tr,er)}function _setPrototypeOf$5(tr,er){return _setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$5(tr,er)}function _createSuper(tr){var er=_isNativeReflectConstruct$5();return function(){var nr=_getPrototypeOf$5(tr),ir;if(er){var or=_getPrototypeOf$5(this).constructor;ir=Reflect.construct(nr,arguments,or)}else ir=nr.apply(this,arguments);return _possibleConstructorReturn$5(this,ir)}}function _possibleConstructorReturn$5(tr,er){if(er&&(_typeof$k(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$5(tr)}function _assertThisInitialized$5(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$5(tr){return _getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$5(tr)}var Animate=function(tr){_inherits$5(rr,tr);var er=_createSuper(rr);function rr(nr,ir){var or;_classCallCheck$7(this,rr),or=er.call(this,nr,ir);var sr=or.props,ar=sr.isActive,cr=sr.attributeName,lr=sr.from,ur=sr.to,fr=sr.steps,dr=sr.children,gr=sr.duration;if(or.handleStyleChange=or.handleStyleChange.bind(_assertThisInitialized$5(or)),or.changeStyle=or.changeStyle.bind(_assertThisInitialized$5(or)),!ar||gr<=0)return or.state={style:{}},typeof dr=="function"&&(or.state={style:ur}),_possibleConstructorReturn$5(or);if(fr&&fr.length)or.state={style:fr[0].style};else if(lr){if(typeof dr=="function")return or.state={style:lr},_possibleConstructorReturn$5(or);or.state={style:cr?_defineProperty$k({},cr,lr):lr}}else or.state={style:{}};return or}return _createClass$7(rr,[{key:"componentDidMount",value:function(){var ir=this.props,or=ir.isActive,sr=ir.canBegin;this.mounted=!0,!(!or||!sr)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(ir){var or=this.props,sr=or.isActive,ar=or.canBegin,cr=or.attributeName,lr=or.shouldReAnimate,ur=or.to,fr=or.from,dr=this.state.style;if(ar){if(!sr){var gr={style:cr?_defineProperty$k({},cr,ur):ur};this.state&&dr&&(cr&&dr[cr]!==ur||!cr&&dr!==ur)&&this.setState(gr);return}if(!(deepEqual(ir.to,ur)&&ir.canBegin&&ir.isActive)){var br=!ir.canBegin||!ir.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var vr=br||lr?fr:ir.to;if(this.state&&dr){var $r={style:cr?_defineProperty$k({},cr,vr):vr};(cr&&dr[cr]!==vr||!cr&&dr!==vr)&&this.setState($r)}this.runAnimation(_objectSpread$i(_objectSpread$i({},this.props),{},{from:vr,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var ir=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),ir&&ir()}},{key:"handleStyleChange",value:function(ir){this.changeStyle(ir)}},{key:"changeStyle",value:function(ir){this.mounted&&this.setState({style:ir})}},{key:"runJSAnimation",value:function(ir){var or=this,sr=ir.from,ar=ir.to,cr=ir.duration,lr=ir.easing,ur=ir.begin,fr=ir.onAnimationEnd,dr=ir.onAnimationStart,gr=configUpdate(sr,ar,configEasing(lr),cr,this.changeStyle),br=function(){or.stopJSAnimation=gr()};this.manager.start([dr,ur,br,cr,fr])}},{key:"runStepAnimation",value:function(ir){var or=this,sr=ir.steps,ar=ir.begin,cr=ir.onAnimationStart,lr=sr[0],ur=lr.style,fr=lr.duration,dr=fr===void 0?0:fr,gr=function(vr,$r,Er){if(Er===0)return vr;var _r=$r.duration,xr=$r.easing,Ir=xr===void 0?"ease":xr,Nr=$r.style,Lr=$r.properties,jr=$r.onAnimationEnd,Or=Er>0?sr[Er-1]:$r,Dr=Lr||Object.keys(Nr);if(typeof Ir=="function"||Ir==="spring")return[].concat(_toConsumableArray$3(vr),[or.runJSAnimation.bind(or,{from:Or.style,to:Nr,duration:_r,easing:Ir}),_r]);var Cr=getTransitionVal(Dr,_r,Ir),Tr=_objectSpread$i(_objectSpread$i(_objectSpread$i({},Or.style),Nr),{},{transition:Cr});return[].concat(_toConsumableArray$3(vr),[Tr,_r,jr]).filter(identity)};return this.manager.start([cr].concat(_toConsumableArray$3(sr.reduce(gr,[ur,Math.max(dr,ar)])),[ir.onAnimationEnd]))}},{key:"runAnimation",value:function(ir){this.manager||(this.manager=createAnimateManager());var or=ir.begin,sr=ir.duration,ar=ir.attributeName,cr=ir.to,lr=ir.easing,ur=ir.onAnimationStart,fr=ir.onAnimationEnd,dr=ir.steps,gr=ir.children,br=this.manager;if(this.unSubscribe=br.subscribe(this.handleStyleChange),typeof lr=="function"||typeof gr=="function"||lr==="spring"){this.runJSAnimation(ir);return}if(dr.length>1){this.runStepAnimation(ir);return}var vr=ar?_defineProperty$k({},ar,cr):cr,$r=getTransitionVal(Object.keys(vr),sr,lr);br.start([ur,or,_objectSpread$i(_objectSpread$i({},vr),{},{transition:$r}),sr,fr])}},{key:"render",value:function(){var ir=this.props,or=ir.children;ir.begin;var sr=ir.duration;ir.attributeName,ir.easing;var ar=ir.isActive;ir.steps,ir.from,ir.to,ir.canBegin,ir.onAnimationEnd,ir.shouldReAnimate,ir.onAnimationReStart;var cr=_objectWithoutProperties$8(ir,_excluded$8),lr=reactExports.Children.count(or),ur=this.state.style;if(typeof or=="function")return or(ur);if(!ar||lr===0||sr<=0)return or;var fr=function(gr){var br=gr.props,vr=br.style,$r=vr===void 0?{}:vr,Er=br.className,_r=reactExports.cloneElement(gr,_objectSpread$i(_objectSpread$i({},cr),{},{style:_objectSpread$i(_objectSpread$i({},$r),ur),className:Er}));return _r};return lr===1?fr(reactExports.Children.only(or)):React$1.createElement("div",null,reactExports.Children.map(or,function(dr){return fr(dr)}))}}]),rr}(reactExports.PureComponent);Animate.displayName="Animate";Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};PropTypes.object,PropTypes.object,PropTypes.object,PropTypes.element;PropTypes.object,PropTypes.object,PropTypes.object,PropTypes.oneOfType([PropTypes.array,PropTypes.element]),PropTypes.any;function _typeof$j(tr){"@babel/helpers - typeof";return _typeof$j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$j(tr)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$f.apply(this,arguments)}function _slicedToArray$3(tr,er){return _arrayWithHoles$3(tr)||_iterableToArrayLimit$3(tr,er)||_unsupportedIterableToArray$5(tr,er)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$5(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$5(tr,er)}}function _arrayLikeToArray$5(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$3(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$3(tr){if(Array.isArray(tr))return tr}function ownKeys$i(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$h(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$i(Object(rr),!0).forEach(function(nr){_defineProperty$j(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$i(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$j(tr,er,rr){return er=_toPropertyKey$i(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$i(tr){var er=_toPrimitive$i(tr,"string");return _typeof$j(er)=="symbol"?er:String(er)}function _toPrimitive$i(tr,er){if(_typeof$j(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$j(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getRectanglePath=function(er,rr,nr,ir,or){var sr=Math.min(Math.abs(nr)/2,Math.abs(ir)/2),ar=ir>=0?1:-1,cr=nr>=0?1:-1,lr=ir>=0&&nr>=0||ir<0&&nr<0?1:0,ur;if(sr>0&&or instanceof Array){for(var fr=[0,0,0,0],dr=0,gr=4;dr<gr;dr++)fr[dr]=or[dr]>sr?sr:or[dr];ur="M".concat(er,",").concat(rr+ar*fr[0]),fr[0]>0&&(ur+="A ".concat(fr[0],",").concat(fr[0],",0,0,").concat(lr,",").concat(er+cr*fr[0],",").concat(rr)),ur+="L ".concat(er+nr-cr*fr[1],",").concat(rr),fr[1]>0&&(ur+="A ".concat(fr[1],",").concat(fr[1],",0,0,").concat(lr,`,
        `).concat(er+nr,",").concat(rr+ar*fr[1])),ur+="L ".concat(er+nr,",").concat(rr+ir-ar*fr[2]),fr[2]>0&&(ur+="A ".concat(fr[2],",").concat(fr[2],",0,0,").concat(lr,`,
        `).concat(er+nr-cr*fr[2],",").concat(rr+ir)),ur+="L ".concat(er+cr*fr[3],",").concat(rr+ir),fr[3]>0&&(ur+="A ".concat(fr[3],",").concat(fr[3],",0,0,").concat(lr,`,
        `).concat(er,",").concat(rr+ir-ar*fr[3])),ur+="Z"}else if(sr>0&&or===+or&&or>0){var br=Math.min(sr,or);ur="M ".concat(er,",").concat(rr+ar*br,`
            A `).concat(br,",").concat(br,",0,0,").concat(lr,",").concat(er+cr*br,",").concat(rr,`
            L `).concat(er+nr-cr*br,",").concat(rr,`
            A `).concat(br,",").concat(br,",0,0,").concat(lr,",").concat(er+nr,",").concat(rr+ar*br,`
            L `).concat(er+nr,",").concat(rr+ir-ar*br,`
            A `).concat(br,",").concat(br,",0,0,").concat(lr,",").concat(er+nr-cr*br,",").concat(rr+ir,`
            L `).concat(er+cr*br,",").concat(rr+ir,`
            A `).concat(br,",").concat(br,",0,0,").concat(lr,",").concat(er,",").concat(rr+ir-ar*br," Z")}else ur="M ".concat(er,",").concat(rr," h ").concat(nr," v ").concat(ir," h ").concat(-nr," Z");return ur},isInRectangle=function(er,rr){if(!er||!rr)return!1;var nr=er.x,ir=er.y,or=rr.x,sr=rr.y,ar=rr.width,cr=rr.height;if(Math.abs(ar)>0&&Math.abs(cr)>0){var lr=Math.min(or,or+ar),ur=Math.max(or,or+ar),fr=Math.min(sr,sr+cr),dr=Math.max(sr,sr+cr);return nr>=lr&&nr<=ur&&ir>=fr&&ir<=dr}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function(er){var rr=_objectSpread$h(_objectSpread$h({},defaultProps$2),er),nr=reactExports.useRef(),ir=reactExports.useState(-1),or=_slicedToArray$3(ir,2),sr=or[0],ar=or[1];reactExports.useEffect(function(){if(nr.current&&nr.current.getTotalLength)try{var Ir=nr.current.getTotalLength();Ir&&ar(Ir)}catch{}},[]);var cr=rr.x,lr=rr.y,ur=rr.width,fr=rr.height,dr=rr.radius,gr=rr.className,br=rr.animationEasing,vr=rr.animationDuration,$r=rr.animationBegin,Er=rr.isAnimationActive,_r=rr.isUpdateAnimationActive;if(cr!==+cr||lr!==+lr||ur!==+ur||fr!==+fr||ur===0||fr===0)return null;var xr=clsx$1("recharts-rectangle",gr);return _r?React$1.createElement(Animate,{canBegin:sr>0,from:{width:ur,height:fr,x:cr,y:lr},to:{width:ur,height:fr,x:cr,y:lr},duration:vr,animationEasing:br,isActive:_r},function(Ir){var Nr=Ir.width,Lr=Ir.height,jr=Ir.x,Or=Ir.y;return React$1.createElement(Animate,{canBegin:sr>0,from:"0px ".concat(sr===-1?1:sr,"px"),to:"".concat(sr,"px 0px"),attributeName:"strokeDasharray",begin:$r,duration:vr,isActive:Er,easing:br},React$1.createElement("path",_extends$f({},filterProps(rr,!0),{className:xr,d:getRectanglePath(jr,Or,Nr,Lr,dr),ref:nr})))}):React$1.createElement("path",_extends$f({},filterProps(rr,!0),{className:xr,d:getRectanglePath(cr,lr,ur,fr,dr)}))};function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$e.apply(this,arguments)}var Dot=function(er){var rr=er.cx,nr=er.cy,ir=er.r,or=er.className,sr=clsx$1("recharts-dot",or);return rr===+rr&&nr===+nr&&ir===+ir?React$1.createElement("circle",_extends$e({},filterProps(er,!1),adaptEventHandlers(er),{className:sr,cx:rr,cy:nr,r:ir})):null};function _typeof$i(tr){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$i(tr)}var _excluded$7=["x","y","top","left","width","height","className"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$d.apply(this,arguments)}function ownKeys$h(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$g(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$h(Object(rr),!0).forEach(function(nr){_defineProperty$i(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$h(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$i(tr,er,rr){return er=_toPropertyKey$h(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$h(tr){var er=_toPrimitive$h(tr,"string");return _typeof$i(er)=="symbol"?er:String(er)}function _toPrimitive$h(tr,er){if(_typeof$i(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$i(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$7(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$7(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$7(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}var getPath$1=function(er,rr,nr,ir,or,sr){return"M".concat(er,",").concat(or,"v").concat(ir,"M").concat(sr,",").concat(rr,"h").concat(nr)},Cross=function(er){var rr=er.x,nr=rr===void 0?0:rr,ir=er.y,or=ir===void 0?0:ir,sr=er.top,ar=sr===void 0?0:sr,cr=er.left,lr=cr===void 0?0:cr,ur=er.width,fr=ur===void 0?0:ur,dr=er.height,gr=dr===void 0?0:dr,br=er.className,vr=_objectWithoutProperties$7(er,_excluded$7),$r=_objectSpread$g({x:nr,y:or,top:ar,left:lr,width:fr,height:gr},vr);return!isNumber(nr)||!isNumber(or)||!isNumber(fr)||!isNumber(gr)||!isNumber(ar)||!isNumber(lr)?null:React$1.createElement("path",_extends$d({},filterProps($r,!0),{className:clsx$1("recharts-cross",br),d:getPath$1(nr,or,fr,gr,ar,lr)}))},overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1,baseGetTag$1=_baseGetTag,getPrototype=_getPrototype,isObjectLike$1=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$3(tr){if(!isObjectLike$1(tr)||baseGetTag$1(tr)!=objectTag)return!1;var er=getPrototype(tr);if(er===null)return!0;var rr=hasOwnProperty$3.call(er,"constructor")&&er.constructor;return typeof rr=="function"&&rr instanceof rr&&funcToString.call(rr)==objectCtorString}var isPlainObject_1=isPlainObject$3;const isPlainObject$4=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,boolTag="[object Boolean]";function isBoolean(tr){return tr===!0||tr===!1||isObjectLike(tr)&&baseGetTag(tr)==boolTag}var isBoolean_1=isBoolean;const isBoolean$1=getDefaultExportFromCjs(isBoolean_1);function _typeof$h(tr){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$h(tr)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$c.apply(this,arguments)}function _slicedToArray$2(tr,er){return _arrayWithHoles$2(tr)||_iterableToArrayLimit$2(tr,er)||_unsupportedIterableToArray$4(tr,er)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$4(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$4(tr,er)}}function _arrayLikeToArray$4(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$2(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$2(tr){if(Array.isArray(tr))return tr}function ownKeys$g(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$f(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$g(Object(rr),!0).forEach(function(nr){_defineProperty$h(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$g(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$h(tr,er,rr){return er=_toPropertyKey$g(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$g(tr){var er=_toPrimitive$g(tr,"string");return _typeof$h(er)=="symbol"?er:String(er)}function _toPrimitive$g(tr,er){if(_typeof$h(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$h(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getTrapezoidPath=function(er,rr,nr,ir,or){var sr=nr-ir,ar;return ar="M ".concat(er,",").concat(rr),ar+="L ".concat(er+nr,",").concat(rr),ar+="L ".concat(er+nr-sr/2,",").concat(rr+or),ar+="L ".concat(er+nr-sr/2-ir,",").concat(rr+or),ar+="L ".concat(er,",").concat(rr," Z"),ar},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function(er){var rr=_objectSpread$f(_objectSpread$f({},defaultProps$1),er),nr=reactExports.useRef(),ir=reactExports.useState(-1),or=_slicedToArray$2(ir,2),sr=or[0],ar=or[1];reactExports.useEffect(function(){if(nr.current&&nr.current.getTotalLength)try{var xr=nr.current.getTotalLength();xr&&ar(xr)}catch{}},[]);var cr=rr.x,lr=rr.y,ur=rr.upperWidth,fr=rr.lowerWidth,dr=rr.height,gr=rr.className,br=rr.animationEasing,vr=rr.animationDuration,$r=rr.animationBegin,Er=rr.isUpdateAnimationActive;if(cr!==+cr||lr!==+lr||ur!==+ur||fr!==+fr||dr!==+dr||ur===0&&fr===0||dr===0)return null;var _r=clsx$1("recharts-trapezoid",gr);return Er?React$1.createElement(Animate,{canBegin:sr>0,from:{upperWidth:0,lowerWidth:0,height:dr,x:cr,y:lr},to:{upperWidth:ur,lowerWidth:fr,height:dr,x:cr,y:lr},duration:vr,animationEasing:br,isActive:Er},function(xr){var Ir=xr.upperWidth,Nr=xr.lowerWidth,Lr=xr.height,jr=xr.x,Or=xr.y;return React$1.createElement(Animate,{canBegin:sr>0,from:"0px ".concat(sr===-1?1:sr,"px"),to:"".concat(sr,"px 0px"),attributeName:"strokeDasharray",begin:$r,duration:vr,easing:br},React$1.createElement("path",_extends$c({},filterProps(rr,!0),{className:_r,d:getTrapezoidPath(jr,Or,Ir,Nr,Lr),ref:nr})))}):React$1.createElement("g",null,React$1.createElement("path",_extends$c({},filterProps(rr,!0),{className:_r,d:getTrapezoidPath(cr,lr,ur,fr,dr)})))},_excluded$6=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$g(tr){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$g(tr)}function _objectWithoutProperties$6(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$6(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$6(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function ownKeys$f(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$e(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$f(Object(rr),!0).forEach(function(nr){_defineProperty$g(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$f(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$g(tr,er,rr){return er=_toPropertyKey$f(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$f(tr){var er=_toPrimitive$f(tr,"string");return _typeof$g(er)=="symbol"?er:String(er)}function _toPrimitive$f(tr,er){if(_typeof$g(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$g(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function defaultPropTransformer(tr,er){return _objectSpread$e(_objectSpread$e({},er),tr)}function isSymbolsProps(tr,er){return tr==="symbols"}function ShapeSelector(tr){var er=tr.shapeType,rr=tr.elementProps;switch(er){case"rectangle":return React$1.createElement(Rectangle,rr);case"trapezoid":return React$1.createElement(Trapezoid,rr);case"sector":return React$1.createElement(Sector,rr);case"symbols":if(isSymbolsProps(er))return React$1.createElement(Symbols,rr);break;default:return null}}function getPropsFromShapeOption(tr){return reactExports.isValidElement(tr)?tr.props:tr}function Shape(tr){var er=tr.option,rr=tr.shapeType,nr=tr.propTransformer,ir=nr===void 0?defaultPropTransformer:nr,or=tr.activeClassName,sr=or===void 0?"recharts-active-shape":or,ar=tr.isActive,cr=_objectWithoutProperties$6(tr,_excluded$6),lr;if(reactExports.isValidElement(er))lr=reactExports.cloneElement(er,_objectSpread$e(_objectSpread$e({},cr),getPropsFromShapeOption(er)));else if(isFunction$3(er))lr=er(cr);else if(isPlainObject$4(er)&&!isBoolean$1(er)){var ur=ir(er,cr);lr=React$1.createElement(ShapeSelector,{shapeType:rr,elementProps:ur})}else{var fr=cr;lr=React$1.createElement(ShapeSelector,{shapeType:rr,elementProps:fr})}return ar?React$1.createElement(Layer,{className:sr},lr):lr}function isFunnel(tr,er){return er!=null&&"trapezoids"in tr.props}function isPie(tr,er){return er!=null&&"sectors"in tr.props}function isScatter(tr,er){return er!=null&&"points"in tr.props}function compareFunnel(tr,er){var rr,nr,ir=tr.x===(er==null||(rr=er.labelViewBox)===null||rr===void 0?void 0:rr.x)||tr.x===er.x,or=tr.y===(er==null||(nr=er.labelViewBox)===null||nr===void 0?void 0:nr.y)||tr.y===er.y;return ir&&or}function comparePie(tr,er){var rr=tr.endAngle===er.endAngle,nr=tr.startAngle===er.startAngle;return rr&&nr}function compareScatter(tr,er){var rr=tr.x===er.x,nr=tr.y===er.y,ir=tr.z===er.z;return rr&&nr&&ir}function getComparisonFn(tr,er){var rr;return isFunnel(tr,er)?rr=compareFunnel:isPie(tr,er)?rr=comparePie:isScatter(tr,er)&&(rr=compareScatter),rr}function getShapeDataKey(tr,er){var rr;return isFunnel(tr,er)?rr="trapezoids":isPie(tr,er)?rr="sectors":isScatter(tr,er)&&(rr="points"),rr}function getActiveShapeTooltipPayload(tr,er){if(isFunnel(tr,er)){var rr;return(rr=er.tooltipPayload)===null||rr===void 0||(rr=rr[0])===null||rr===void 0||(rr=rr.payload)===null||rr===void 0?void 0:rr.payload}if(isPie(tr,er)){var nr;return(nr=er.tooltipPayload)===null||nr===void 0||(nr=nr[0])===null||nr===void 0||(nr=nr.payload)===null||nr===void 0?void 0:nr.payload}return isScatter(tr,er)?er.payload:{}}function getActiveShapeIndexForTooltip(tr){var er=tr.activeTooltipItem,rr=tr.graphicalItem,nr=tr.itemData,ir=getShapeDataKey(rr,er),or=getActiveShapeTooltipPayload(rr,er),sr=nr.filter(function(cr,lr){var ur=isEqual$2(or,cr),fr=rr.props[ir].filter(function(br){var vr=getComparisonFn(rr,er);return vr(br,er)}),dr=rr.props[ir].indexOf(fr[fr.length-1]),gr=lr===dr;return ur&&gr}),ar=nr.indexOf(sr[sr.length-1]);return ar}var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(tr,er,rr,nr){for(var ir=-1,or=nativeMax$1(nativeCeil((er-tr)/(rr||1)),0),sr=Array(or);or--;)sr[nr?or:++ir]=tr,tr+=rr;return sr}var _baseRange=baseRange$1,toNumber=toNumber_1,INFINITY=1/0,MAX_INTEGER$1=17976931348623157e292;function toFinite$2(tr){if(!tr)return tr===0?tr:0;if(tr=toNumber(tr),tr===INFINITY||tr===-INFINITY){var er=tr<0?-1:1;return er*MAX_INTEGER$1}return tr===tr?tr:0}var toFinite_1=toFinite$2,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;function createRange$1(tr){return function(er,rr,nr){return nr&&typeof nr!="number"&&isIterateeCall$2(er,rr,nr)&&(rr=nr=void 0),er=toFinite$1(er),rr===void 0?(rr=er,er=0):rr=toFinite$1(rr),nr=nr===void 0?er<rr?1:-1:toFinite$1(nr),baseRange(er,rr,nr,tr)}}var _createRange=createRange$1,createRange=_createRange,range$4=createRange(),range_1=range$4;const range$5=getDefaultExportFromCjs(range_1);function _typeof$f(tr){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$f(tr)}function ownKeys$e(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$d(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$e(Object(rr),!0).forEach(function(nr){_defineProperty$f(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$e(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$f(tr,er,rr){return er=_toPropertyKey$e(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$e(tr){var er=_toPrimitive$e(tr,"string");return _typeof$f(er)=="symbol"?er:String(er)}function _toPrimitive$e(tr,er){if(_typeof$f(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$f(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var PREFIX_LIST=["Webkit","Moz","O","ms"],generatePrefixStyle=function(er,rr){var nr=er.replace(/(\w)/,function(or){return or.toUpperCase()}),ir=PREFIX_LIST.reduce(function(or,sr){return _objectSpread$d(_objectSpread$d({},or),{},_defineProperty$f({},sr+nr,rr))},{});return ir[er]=rr,ir};function _typeof$e(tr){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$e(tr)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$b.apply(this,arguments)}function ownKeys$d(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$c(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$d(Object(rr),!0).forEach(function(nr){_defineProperty$e(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$d(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$6(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$d(nr.key),nr)}}function _createClass$6(tr,er,rr){return er&&_defineProperties$6(tr.prototype,er),rr&&_defineProperties$6(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$4(tr,er,rr){return er=_getPrototypeOf$4(er),_possibleConstructorReturn$4(tr,_isNativeReflectConstruct$4()?Reflect.construct(er,rr||[],_getPrototypeOf$4(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$4(tr,er){if(er&&(_typeof$e(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(tr)}function _isNativeReflectConstruct$4(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!tr})()}function _getPrototypeOf$4(tr){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$4(tr)}function _assertThisInitialized$4(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _inherits$4(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$4(tr,er)}function _setPrototypeOf$4(tr,er){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$4(tr,er)}function _defineProperty$e(tr,er,rr){return er=_toPropertyKey$d(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$d(tr){var er=_toPrimitive$d(tr,"string");return _typeof$e(er)=="symbol"?er:String(er)}function _toPrimitive$d(tr,er){if(_typeof$e(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$e(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var createScale=function(er){var rr=er.data,nr=er.startIndex,ir=er.endIndex,or=er.x,sr=er.width,ar=er.travellerWidth;if(!rr||!rr.length)return{};var cr=rr.length,lr=point().domain(range$5(0,cr)).range([or,or+sr-ar]),ur=lr.domain().map(function(fr){return lr(fr)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:lr(nr),endX:lr(ir),scale:lr,scaleValues:ur}},isTouch=function(er){return er.changedTouches&&!!er.changedTouches.length},Brush=function(tr){_inherits$4(er,tr);function er(rr){var nr;return _classCallCheck$6(this,er),nr=_callSuper$4(this,er,[rr]),_defineProperty$e(_assertThisInitialized$4(nr),"handleDrag",function(ir){nr.leaveTimer&&(clearTimeout(nr.leaveTimer),nr.leaveTimer=null),nr.state.isTravellerMoving?nr.handleTravellerMove(ir):nr.state.isSlideMoving&&nr.handleSlideDrag(ir)}),_defineProperty$e(_assertThisInitialized$4(nr),"handleTouchMove",function(ir){ir.changedTouches!=null&&ir.changedTouches.length>0&&nr.handleDrag(ir.changedTouches[0])}),_defineProperty$e(_assertThisInitialized$4(nr),"handleDragEnd",function(){nr.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var ir=nr.props,or=ir.endIndex,sr=ir.onDragEnd,ar=ir.startIndex;sr?.({endIndex:or,startIndex:ar})}),nr.detachDragEndListener()}),_defineProperty$e(_assertThisInitialized$4(nr),"handleLeaveWrapper",function(){(nr.state.isTravellerMoving||nr.state.isSlideMoving)&&(nr.leaveTimer=window.setTimeout(nr.handleDragEnd,nr.props.leaveTimeOut))}),_defineProperty$e(_assertThisInitialized$4(nr),"handleEnterSlideOrTraveller",function(){nr.setState({isTextActive:!0})}),_defineProperty$e(_assertThisInitialized$4(nr),"handleLeaveSlideOrTraveller",function(){nr.setState({isTextActive:!1})}),_defineProperty$e(_assertThisInitialized$4(nr),"handleSlideDragStart",function(ir){var or=isTouch(ir)?ir.changedTouches[0]:ir;nr.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:or.pageX}),nr.attachDragEndListener()}),nr.travellerDragStartHandlers={startX:nr.handleTravellerDragStart.bind(_assertThisInitialized$4(nr),"startX"),endX:nr.handleTravellerDragStart.bind(_assertThisInitialized$4(nr),"endX")},nr.state={},nr}return _createClass$6(er,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(nr){var ir=nr.startX,or=nr.endX,sr=this.state.scaleValues,ar=this.props,cr=ar.gap,lr=ar.data,ur=lr.length-1,fr=Math.min(ir,or),dr=Math.max(ir,or),gr=er.getIndexInRange(sr,fr),br=er.getIndexInRange(sr,dr);return{startIndex:gr-gr%cr,endIndex:br===ur?ur:br-br%cr}}},{key:"getTextOfTick",value:function(nr){var ir=this.props,or=ir.data,sr=ir.tickFormatter,ar=ir.dataKey,cr=getValueByDataKey(or[nr],ar,nr);return isFunction$3(sr)?sr(cr,nr):cr}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(nr){var ir=this.state,or=ir.slideMoveStartX,sr=ir.startX,ar=ir.endX,cr=this.props,lr=cr.x,ur=cr.width,fr=cr.travellerWidth,dr=cr.startIndex,gr=cr.endIndex,br=cr.onChange,vr=nr.pageX-or;vr>0?vr=Math.min(vr,lr+ur-fr-ar,lr+ur-fr-sr):vr<0&&(vr=Math.max(vr,lr-sr,lr-ar));var $r=this.getIndex({startX:sr+vr,endX:ar+vr});($r.startIndex!==dr||$r.endIndex!==gr)&&br&&br($r),this.setState({startX:sr+vr,endX:ar+vr,slideMoveStartX:nr.pageX})}},{key:"handleTravellerDragStart",value:function(nr,ir){var or=isTouch(ir)?ir.changedTouches[0]:ir;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:nr,brushMoveStartX:or.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(nr){var ir=this.state,or=ir.brushMoveStartX,sr=ir.movingTravellerId,ar=ir.endX,cr=ir.startX,lr=this.state[sr],ur=this.props,fr=ur.x,dr=ur.width,gr=ur.travellerWidth,br=ur.onChange,vr=ur.gap,$r=ur.data,Er={startX:this.state.startX,endX:this.state.endX},_r=nr.pageX-or;_r>0?_r=Math.min(_r,fr+dr-gr-lr):_r<0&&(_r=Math.max(_r,fr-lr)),Er[sr]=lr+_r;var xr=this.getIndex(Er),Ir=xr.startIndex,Nr=xr.endIndex,Lr=function(){var Or=$r.length-1;return sr==="startX"&&(ar>cr?Ir%vr===0:Nr%vr===0)||ar<cr&&Nr===Or||sr==="endX"&&(ar>cr?Nr%vr===0:Ir%vr===0)||ar>cr&&Nr===Or};this.setState(_defineProperty$e(_defineProperty$e({},sr,lr+_r),"brushMoveStartX",nr.pageX),function(){br&&Lr()&&br(xr)})}},{key:"handleTravellerMoveKeyboard",value:function(nr,ir){var or=this,sr=this.state,ar=sr.scaleValues,cr=sr.startX,lr=sr.endX,ur=this.state[ir],fr=ar.indexOf(ur);if(fr!==-1){var dr=fr+nr;if(!(dr===-1||dr>=ar.length)){var gr=ar[dr];ir==="startX"&&gr>=lr||ir==="endX"&&gr<=cr||this.setState(_defineProperty$e({},ir,gr),function(){or.props.onChange(or.getIndex({startX:or.state.startX,endX:or.state.endX}))})}}}},{key:"renderBackground",value:function(){var nr=this.props,ir=nr.x,or=nr.y,sr=nr.width,ar=nr.height,cr=nr.fill,lr=nr.stroke;return React$1.createElement("rect",{stroke:lr,fill:cr,x:ir,y:or,width:sr,height:ar})}},{key:"renderPanorama",value:function(){var nr=this.props,ir=nr.x,or=nr.y,sr=nr.width,ar=nr.height,cr=nr.data,lr=nr.children,ur=nr.padding,fr=reactExports.Children.only(lr);return fr?React$1.cloneElement(fr,{x:ir,y:or,width:sr,height:ar,margin:ur,compact:!0,data:cr}):null}},{key:"renderTravellerLayer",value:function(nr,ir){var or,sr,ar=this,cr=this.props,lr=cr.y,ur=cr.travellerWidth,fr=cr.height,dr=cr.traveller,gr=cr.ariaLabel,br=cr.data,vr=cr.startIndex,$r=cr.endIndex,Er=Math.max(nr,this.props.x),_r=_objectSpread$c(_objectSpread$c({},filterProps(this.props,!1)),{},{x:Er,y:lr,width:ur,height:fr}),xr=gr||"Min value: ".concat((or=br[vr])===null||or===void 0?void 0:or.name,", Max value: ").concat((sr=br[$r])===null||sr===void 0?void 0:sr.name);return React$1.createElement(Layer,{tabIndex:0,role:"slider","aria-label":xr,"aria-valuenow":nr,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[ir],onTouchStart:this.travellerDragStartHandlers[ir],onKeyDown:function(Nr){["ArrowLeft","ArrowRight"].includes(Nr.key)&&(Nr.preventDefault(),Nr.stopPropagation(),ar.handleTravellerMoveKeyboard(Nr.key==="ArrowRight"?1:-1,ir))},onFocus:function(){ar.setState({isTravellerFocused:!0})},onBlur:function(){ar.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},er.renderTraveller(dr,_r))}},{key:"renderSlide",value:function(nr,ir){var or=this.props,sr=or.y,ar=or.height,cr=or.stroke,lr=or.travellerWidth,ur=Math.min(nr,ir)+lr,fr=Math.max(Math.abs(ir-nr)-lr,0);return React$1.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:cr,fillOpacity:.2,x:ur,y:sr,width:fr,height:ar})}},{key:"renderText",value:function(){var nr=this.props,ir=nr.startIndex,or=nr.endIndex,sr=nr.y,ar=nr.height,cr=nr.travellerWidth,lr=nr.stroke,ur=this.state,fr=ur.startX,dr=ur.endX,gr=5,br={pointerEvents:"none",fill:lr};return React$1.createElement(Layer,{className:"recharts-brush-texts"},React$1.createElement(Text,_extends$b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(fr,dr)-gr,y:sr+ar/2},br),this.getTextOfTick(ir)),React$1.createElement(Text,_extends$b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(fr,dr)+cr+gr,y:sr+ar/2},br),this.getTextOfTick(or)))}},{key:"render",value:function(){var nr=this.props,ir=nr.data,or=nr.className,sr=nr.children,ar=nr.x,cr=nr.y,lr=nr.width,ur=nr.height,fr=nr.alwaysShowText,dr=this.state,gr=dr.startX,br=dr.endX,vr=dr.isTextActive,$r=dr.isSlideMoving,Er=dr.isTravellerMoving,_r=dr.isTravellerFocused;if(!ir||!ir.length||!isNumber(ar)||!isNumber(cr)||!isNumber(lr)||!isNumber(ur)||lr<=0||ur<=0)return null;var xr=clsx$1("recharts-brush",or),Ir=React$1.Children.count(sr)===1,Nr=generatePrefixStyle("userSelect","none");return React$1.createElement(Layer,{className:xr,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:Nr},this.renderBackground(),Ir&&this.renderPanorama(),this.renderSlide(gr,br),this.renderTravellerLayer(gr,"startX"),this.renderTravellerLayer(br,"endX"),(vr||$r||Er||_r||fr)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(nr){var ir=nr.x,or=nr.y,sr=nr.width,ar=nr.height,cr=nr.stroke,lr=Math.floor(or+ar/2)-1;return React$1.createElement(React$1.Fragment,null,React$1.createElement("rect",{x:ir,y:or,width:sr,height:ar,fill:cr,stroke:"none"}),React$1.createElement("line",{x1:ir+1,y1:lr,x2:ir+sr-1,y2:lr,fill:"none",stroke:"#fff"}),React$1.createElement("line",{x1:ir+1,y1:lr+2,x2:ir+sr-1,y2:lr+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(nr,ir){var or;return React$1.isValidElement(nr)?or=React$1.cloneElement(nr,ir):isFunction$3(nr)?or=nr(ir):or=er.renderDefaultTraveller(ir),or}},{key:"getDerivedStateFromProps",value:function(nr,ir){var or=nr.data,sr=nr.width,ar=nr.x,cr=nr.travellerWidth,lr=nr.updateId,ur=nr.startIndex,fr=nr.endIndex;if(or!==ir.prevData||lr!==ir.prevUpdateId)return _objectSpread$c({prevData:or,prevTravellerWidth:cr,prevUpdateId:lr,prevX:ar,prevWidth:sr},or&&or.length?createScale({data:or,width:sr,x:ar,travellerWidth:cr,startIndex:ur,endIndex:fr}):{scale:null,scaleValues:null});if(ir.scale&&(sr!==ir.prevWidth||ar!==ir.prevX||cr!==ir.prevTravellerWidth)){ir.scale.range([ar,ar+sr-cr]);var dr=ir.scale.domain().map(function(gr){return ir.scale(gr)});return{prevData:or,prevTravellerWidth:cr,prevUpdateId:lr,prevX:ar,prevWidth:sr,startX:ir.scale(nr.startIndex),endX:ir.scale(nr.endIndex),scaleValues:dr}}return null}},{key:"getIndexInRange",value:function(nr,ir){for(var or=nr.length,sr=0,ar=or-1;ar-sr>1;){var cr=Math.floor((sr+ar)/2);nr[cr]>ir?ar=cr:sr=cr}return ir>=nr[ar]?ar:sr}}]),er}(reactExports.PureComponent);_defineProperty$e(Brush,"displayName","Brush");_defineProperty$e(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;function baseSome$1(tr,er){var rr;return baseEach$1(tr,function(nr,ir,or){return rr=er(nr,ir,or),!rr}),!!rr}var _baseSome=baseSome$1,arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=_baseSome,isArray$2=isArray_1,isIterateeCall$1=_isIterateeCall;function some$1(tr,er,rr){var nr=isArray$2(tr)?arraySome:baseSome;return rr&&isIterateeCall$1(tr,er,rr)&&(er=void 0),nr(tr,baseIteratee$4(er))}var some_1=some$1;const some$2=getDefaultExportFromCjs(some_1);var ifOverflowMatches=function(er,rr){var nr=er.alwaysShow,ir=er.ifOverflow;return nr&&(ir="extendDomain"),ir===rr},defineProperty=_defineProperty$A;function baseAssignValue$1(tr,er,rr){er=="__proto__"&&defineProperty?defineProperty(tr,er,{configurable:!0,enumerable:!0,value:rr,writable:!0}):tr[er]=rr}var _baseAssignValue=baseAssignValue$1,baseAssignValue=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;function mapValues(tr,er){var rr={};return er=baseIteratee$3(er),baseForOwn(tr,function(nr,ir,or){baseAssignValue(rr,ir,er(nr,ir,or))}),rr}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEvery$1(tr,er){for(var rr=-1,nr=tr==null?0:tr.length;++rr<nr;)if(!er(tr[rr],rr,tr))return!1;return!0}var _arrayEvery=arrayEvery$1,baseEach=_baseEach;function baseEvery$1(tr,er){var rr=!0;return baseEach(tr,function(nr,ir,or){return rr=!!er(nr,ir,or),rr}),rr}var _baseEvery=baseEvery$1,arrayEvery=_arrayEvery,baseEvery=_baseEvery,baseIteratee$2=_baseIteratee,isArray$1=isArray_1,isIterateeCall=_isIterateeCall;function every$1(tr,er,rr){var nr=isArray$1(tr)?arrayEvery:baseEvery;return rr&&isIterateeCall(tr,er,rr)&&(er=void 0),nr(tr,baseIteratee$2(er))}var every_1=every$1;const every$2=getDefaultExportFromCjs(every_1);var _excluded$5=["x","y"];function _typeof$d(tr){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$d(tr)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$a.apply(this,arguments)}function ownKeys$c(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$b(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$c(Object(rr),!0).forEach(function(nr){_defineProperty$d(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$c(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$d(tr,er,rr){return er=_toPropertyKey$c(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$c(tr){var er=_toPrimitive$c(tr,"string");return _typeof$d(er)=="symbol"?er:String(er)}function _toPrimitive$c(tr,er){if(_typeof$d(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$d(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _objectWithoutProperties$5(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$5(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$5(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function typeguardBarRectangleProps(tr,er){var rr=tr.x,nr=tr.y,ir=_objectWithoutProperties$5(tr,_excluded$5),or="".concat(rr),sr=parseInt(or,10),ar="".concat(nr),cr=parseInt(ar,10),lr="".concat(er.height||ir.height),ur=parseInt(lr,10),fr="".concat(er.width||ir.width),dr=parseInt(fr,10);return _objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},er),ir),sr?{x:sr}:{}),cr?{y:cr}:{}),{},{height:ur,width:dr,name:er.name,radius:er.radius})}function BarRectangle(tr){return React$1.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},tr))}var minPointSizeCallback=function(er){var rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(nr,ir){if(typeof er=="number")return er;var or=typeof nr=="number";return or?er(nr,ir):(or||invariant(),rr)}},_excluded$4=["value","background"],_Bar;function _typeof$c(tr){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$c(tr)}function _objectWithoutProperties$4(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$4(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$4(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$9.apply(this,arguments)}function ownKeys$b(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$a(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$b(Object(rr),!0).forEach(function(nr){_defineProperty$c(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$b(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _classCallCheck$5(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$b(nr.key),nr)}}function _createClass$5(tr,er,rr){return er&&_defineProperties$5(tr.prototype,er),rr&&_defineProperties$5(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$3(tr,er,rr){return er=_getPrototypeOf$3(er),_possibleConstructorReturn$3(tr,_isNativeReflectConstruct$3()?Reflect.construct(er,rr||[],_getPrototypeOf$3(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$3(tr,er){if(er&&(_typeof$c(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(tr)}function _isNativeReflectConstruct$3(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!tr})()}function _getPrototypeOf$3(tr){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$3(tr)}function _assertThisInitialized$3(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _inherits$3(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$3(tr,er)}function _setPrototypeOf$3(tr,er){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$3(tr,er)}function _defineProperty$c(tr,er,rr){return er=_toPropertyKey$b(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$b(tr){var er=_toPrimitive$b(tr,"string");return _typeof$c(er)=="symbol"?er:String(er)}function _toPrimitive$b(tr,er){if(_typeof$c(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$c(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var Bar=function(tr){_inherits$3(er,tr);function er(){var rr;_classCallCheck$5(this,er);for(var nr=arguments.length,ir=new Array(nr),or=0;or<nr;or++)ir[or]=arguments[or];return rr=_callSuper$3(this,er,[].concat(ir)),_defineProperty$c(_assertThisInitialized$3(rr),"state",{isAnimationFinished:!1}),_defineProperty$c(_assertThisInitialized$3(rr),"id",uniqueId("recharts-bar-")),_defineProperty$c(_assertThisInitialized$3(rr),"handleAnimationEnd",function(){var sr=rr.props.onAnimationEnd;rr.setState({isAnimationFinished:!0}),sr&&sr()}),_defineProperty$c(_assertThisInitialized$3(rr),"handleAnimationStart",function(){var sr=rr.props.onAnimationStart;rr.setState({isAnimationFinished:!1}),sr&&sr()}),rr}return _createClass$5(er,[{key:"renderRectanglesStatically",value:function(nr){var ir=this,or=this.props,sr=or.shape,ar=or.dataKey,cr=or.activeIndex,lr=or.activeBar,ur=filterProps(this.props,!1);return nr&&nr.map(function(fr,dr){var gr=dr===cr,br=gr?lr:sr,vr=_objectSpread$a(_objectSpread$a(_objectSpread$a({},ur),fr),{},{isActive:gr,option:br,index:dr,dataKey:ar,onAnimationStart:ir.handleAnimationStart,onAnimationEnd:ir.handleAnimationEnd});return React$1.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(ir.props,fr,dr),{key:"rectangle-".concat(fr?.x,"-").concat(fr?.y,"-").concat(fr?.value)}),React$1.createElement(BarRectangle,vr))})}},{key:"renderRectanglesWithAnimation",value:function(){var nr=this,ir=this.props,or=ir.data,sr=ir.layout,ar=ir.isAnimationActive,cr=ir.animationBegin,lr=ir.animationDuration,ur=ir.animationEasing,fr=ir.animationId,dr=this.state.prevData;return React$1.createElement(Animate,{begin:cr,duration:lr,isActive:ar,easing:ur,from:{t:0},to:{t:1},key:"bar-".concat(fr),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(gr){var br=gr.t,vr=or.map(function($r,Er){var _r=dr&&dr[Er];if(_r){var xr=interpolateNumber$2(_r.x,$r.x),Ir=interpolateNumber$2(_r.y,$r.y),Nr=interpolateNumber$2(_r.width,$r.width),Lr=interpolateNumber$2(_r.height,$r.height);return _objectSpread$a(_objectSpread$a({},$r),{},{x:xr(br),y:Ir(br),width:Nr(br),height:Lr(br)})}if(sr==="horizontal"){var jr=interpolateNumber$2(0,$r.height),Or=jr(br);return _objectSpread$a(_objectSpread$a({},$r),{},{y:$r.y+$r.height-Or,height:Or})}var Dr=interpolateNumber$2(0,$r.width),Cr=Dr(br);return _objectSpread$a(_objectSpread$a({},$r),{},{width:Cr})});return React$1.createElement(Layer,null,nr.renderRectanglesStatically(vr))})}},{key:"renderRectangles",value:function(){var nr=this.props,ir=nr.data,or=nr.isAnimationActive,sr=this.state.prevData;return or&&ir&&ir.length&&(!sr||!isEqual$2(sr,ir))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(ir)}},{key:"renderBackground",value:function(){var nr=this,ir=this.props,or=ir.data,sr=ir.dataKey,ar=ir.activeIndex,cr=filterProps(this.props.background,!1);return or.map(function(lr,ur){lr.value;var fr=lr.background,dr=_objectWithoutProperties$4(lr,_excluded$4);if(!fr)return null;var gr=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},dr),{},{fill:"#eee"},fr),cr),adaptEventsOfChild(nr.props,lr,ur)),{},{onAnimationStart:nr.handleAnimationStart,onAnimationEnd:nr.handleAnimationEnd,dataKey:sr,index:ur,key:"background-bar-".concat(ur),className:"recharts-bar-background-rectangle"});return React$1.createElement(BarRectangle,_extends$9({option:nr.props.background,isActive:ur===ar},gr))})}},{key:"renderErrorBar",value:function(nr,ir){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var or=this.props,sr=or.data,ar=or.xAxis,cr=or.yAxis,lr=or.layout,ur=or.children,fr=findAllByType(ur,ErrorBar);if(!fr)return null;var dr=lr==="vertical"?sr[0].height/2:sr[0].width/2,gr=function($r,Er){var _r=Array.isArray($r.value)?$r.value[1]:$r.value;return{x:$r.x,y:$r.y,value:_r,errorVal:getValueByDataKey($r,Er)}},br={clipPath:nr?"url(#clipPath-".concat(ir,")"):null};return React$1.createElement(Layer,br,fr.map(function(vr){return React$1.cloneElement(vr,{key:"error-bar-".concat(ir,"-").concat(vr.props.dataKey),data:sr,xAxis:ar,yAxis:cr,layout:lr,offset:dr,dataPointFormatter:gr})}))}},{key:"render",value:function(){var nr=this.props,ir=nr.hide,or=nr.data,sr=nr.className,ar=nr.xAxis,cr=nr.yAxis,lr=nr.left,ur=nr.top,fr=nr.width,dr=nr.height,gr=nr.isAnimationActive,br=nr.background,vr=nr.id;if(ir||!or||!or.length)return null;var $r=this.state.isAnimationFinished,Er=clsx$1("recharts-bar",sr),_r=ar&&ar.allowDataOverflow,xr=cr&&cr.allowDataOverflow,Ir=_r||xr,Nr=isNil$1(vr)?this.id:vr;return React$1.createElement(Layer,{className:Er},_r||xr?React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"clipPath-".concat(Nr)},React$1.createElement("rect",{x:_r?lr:lr-fr/2,y:xr?ur:ur-dr/2,width:_r?fr:fr*2,height:xr?dr:dr*2}))):null,React$1.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:Ir?"url(#clipPath-".concat(Nr,")"):null},br?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(Ir,Nr),(!gr||$r)&&LabelList.renderCallByParent(this.props,or))}}],[{key:"getDerivedStateFromProps",value:function(nr,ir){return nr.animationId!==ir.prevAnimationId?{prevAnimationId:nr.animationId,curData:nr.data,prevData:ir.curData}:nr.data!==ir.curData?{curData:nr.data}:null}}]),er}(reactExports.PureComponent);_Bar=Bar;_defineProperty$c(Bar,"displayName","Bar");_defineProperty$c(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});_defineProperty$c(Bar,"getComposedData",function(tr){var er=tr.props,rr=tr.item,nr=tr.barPosition,ir=tr.bandSize,or=tr.xAxis,sr=tr.yAxis,ar=tr.xAxisTicks,cr=tr.yAxisTicks,lr=tr.stackedData,ur=tr.dataStartIndex,fr=tr.displayedData,dr=tr.offset,gr=findPositionOfBar(nr,rr);if(!gr)return null;var br=er.layout,vr=rr.props,$r=vr.dataKey,Er=vr.children,_r=vr.minPointSize,xr=br==="horizontal"?sr:or,Ir=lr?xr.scale.domain():null,Nr=getBaseValueOfBar({numericAxis:xr}),Lr=findAllByType(Er,Cell),jr=fr.map(function(Or,Dr){var Cr,Tr,yr,mr,hr,pr;lr?Cr=truncateByDomain(lr[ur+Dr],Ir):(Cr=getValueByDataKey(Or,$r),Array.isArray(Cr)||(Cr=[Nr,Cr]));var wr=minPointSizeCallback(_r,_Bar.defaultProps.minPointSize)(Cr[1],Dr);if(br==="horizontal"){var Ar,Rr=[sr.scale(Cr[0]),sr.scale(Cr[1])],Pr=Rr[0],Sr=Rr[1];Tr=getCateCoordinateOfBar({axis:or,ticks:ar,bandSize:ir,offset:gr.offset,entry:Or,index:Dr}),yr=(Ar=Sr??Pr)!==null&&Ar!==void 0?Ar:void 0,mr=gr.size;var Mr=Pr-Sr;if(hr=Number.isNaN(Mr)?0:Mr,pr={x:Tr,y:sr.y,width:mr,height:sr.height},Math.abs(wr)>0&&Math.abs(hr)<Math.abs(wr)){var Br=mathSign(hr||wr)*(Math.abs(wr)-Math.abs(hr));yr-=Br,hr+=Br}}else{var Ur=[or.scale(Cr[0]),or.scale(Cr[1])],Jr=Ur[0],qr=Ur[1];if(Tr=Jr,yr=getCateCoordinateOfBar({axis:sr,ticks:cr,bandSize:ir,offset:gr.offset,entry:Or,index:Dr}),mr=qr-Jr,hr=gr.size,pr={x:or.x,y:yr,width:or.width,height:hr},Math.abs(wr)>0&&Math.abs(mr)<Math.abs(wr)){var zr=mathSign(mr||wr)*(Math.abs(wr)-Math.abs(mr));mr+=zr}}return _objectSpread$a(_objectSpread$a(_objectSpread$a({},Or),{},{x:Tr,y:yr,width:mr,height:hr,value:lr?Cr:Cr[1],payload:Or,background:pr},Lr&&Lr[Dr]&&Lr[Dr].props),{},{tooltipPayload:[getTooltipItem(rr,Or)],tooltipPosition:{x:Tr+mr/2,y:yr+hr/2}})});return _objectSpread$a({data:jr,layout:br},dr)});function _typeof$b(tr){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$b(tr)}function _classCallCheck$4(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$a(nr.key),nr)}}function _createClass$4(tr,er,rr){return er&&_defineProperties$4(tr.prototype,er),rr&&_defineProperties$4(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function ownKeys$a(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$9(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$a(Object(rr),!0).forEach(function(nr){_defineProperty$b(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$a(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$b(tr,er,rr){return er=_toPropertyKey$a(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$a(tr){var er=_toPrimitive$a(tr,"string");return _typeof$b(er)=="symbol"?er:String(er)}function _toPrimitive$a(tr,er){if(_typeof$b(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$b(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var formatAxisMap=function(er,rr,nr,ir,or){var sr=er.width,ar=er.height,cr=er.layout,lr=er.children,ur=Object.keys(rr),fr={left:nr.left,leftMirror:nr.left,right:sr-nr.right,rightMirror:sr-nr.right,top:nr.top,topMirror:nr.top,bottom:ar-nr.bottom,bottomMirror:ar-nr.bottom},dr=!!findChildByType(lr,Bar);return ur.reduce(function(gr,br){var vr=rr[br],$r=vr.orientation,Er=vr.domain,_r=vr.padding,xr=_r===void 0?{}:_r,Ir=vr.mirror,Nr=vr.reversed,Lr="".concat($r).concat(Ir?"Mirror":""),jr,Or,Dr,Cr,Tr;if(vr.type==="number"&&(vr.padding==="gap"||vr.padding==="no-gap")){var yr=Er[1]-Er[0],mr=1/0,hr=vr.categoricalDomain.sort();if(hr.forEach(function(Jr,qr){qr>0&&(mr=Math.min((Jr||0)-(hr[qr-1]||0),mr))}),Number.isFinite(mr)){var pr=mr/yr,wr=vr.layout==="vertical"?nr.height:nr.width;if(vr.padding==="gap"&&(jr=pr*wr/2),vr.padding==="no-gap"){var Ar=getPercentValue(er.barCategoryGap,pr*wr),Rr=pr*wr/2;jr=Rr-Ar-(Rr-Ar)/wr*Ar}}}ir==="xAxis"?Or=[nr.left+(xr.left||0)+(jr||0),nr.left+nr.width-(xr.right||0)-(jr||0)]:ir==="yAxis"?Or=cr==="horizontal"?[nr.top+nr.height-(xr.bottom||0),nr.top+(xr.top||0)]:[nr.top+(xr.top||0)+(jr||0),nr.top+nr.height-(xr.bottom||0)-(jr||0)]:Or=vr.range,Nr&&(Or=[Or[1],Or[0]]);var Pr=parseScale(vr,or,dr),Sr=Pr.scale,Mr=Pr.realScaleType;Sr.domain(Er).range(Or),checkDomainOfScale(Sr);var Br=getTicksOfScale(Sr,_objectSpread$9(_objectSpread$9({},vr),{},{realScaleType:Mr}));ir==="xAxis"?(Tr=$r==="top"&&!Ir||$r==="bottom"&&Ir,Dr=nr.left,Cr=fr[Lr]-Tr*vr.height):ir==="yAxis"&&(Tr=$r==="left"&&!Ir||$r==="right"&&Ir,Dr=fr[Lr]-Tr*vr.width,Cr=nr.top);var Ur=_objectSpread$9(_objectSpread$9(_objectSpread$9({},vr),Br),{},{realScaleType:Mr,x:Dr,y:Cr,scale:Sr,width:ir==="xAxis"?nr.width:vr.width,height:ir==="yAxis"?nr.height:vr.height});return Ur.bandSize=getBandSizeOfAxis(Ur,Br),!vr.hide&&ir==="xAxis"?fr[Lr]+=(Tr?-1:1)*Ur.height:vr.hide||(fr[Lr]+=(Tr?-1:1)*Ur.width),_objectSpread$9(_objectSpread$9({},gr),{},_defineProperty$b({},br,Ur))},{})},rectWithPoints=function(er,rr){var nr=er.x,ir=er.y,or=rr.x,sr=rr.y;return{x:Math.min(nr,or),y:Math.min(ir,sr),width:Math.abs(or-nr),height:Math.abs(sr-ir)}},rectWithCoords=function(er){var rr=er.x1,nr=er.y1,ir=er.x2,or=er.y2;return rectWithPoints({x:rr,y:nr},{x:ir,y:or})},ScaleHelper=function(){function tr(er){_classCallCheck$4(this,tr),this.scale=er}return _createClass$4(tr,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(rr){var nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ir=nr.bandAware,or=nr.position;if(rr!==void 0){if(or)switch(or){case"start":return this.scale(rr);case"middle":{var sr=this.bandwidth?this.bandwidth()/2:0;return this.scale(rr)+sr}case"end":{var ar=this.bandwidth?this.bandwidth():0;return this.scale(rr)+ar}default:return this.scale(rr)}if(ir){var cr=this.bandwidth?this.bandwidth()/2:0;return this.scale(rr)+cr}return this.scale(rr)}}},{key:"isInRange",value:function(rr){var nr=this.range(),ir=nr[0],or=nr[nr.length-1];return ir<=or?rr>=ir&&rr<=or:rr>=or&&rr<=ir}}],[{key:"create",value:function(rr){return new tr(rr)}}]),tr}();_defineProperty$b(ScaleHelper,"EPS",1e-4);var createLabeledScales=function(er){var rr=Object.keys(er).reduce(function(nr,ir){return _objectSpread$9(_objectSpread$9({},nr),{},_defineProperty$b({},ir,ScaleHelper.create(er[ir])))},{});return _objectSpread$9(_objectSpread$9({},rr),{},{apply:function(ir){var or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},sr=or.bandAware,ar=or.position;return mapValues$1(ir,function(cr,lr){return rr[lr].apply(cr,{bandAware:sr,position:ar})})},isInRange:function(ir){return every$2(ir,function(or,sr){return rr[sr].isInRange(or)})}})};function normalizeAngle(tr){return(tr%180+180)%180}var getAngledRectangleWidth=function(er){var rr=er.width,nr=er.height,ir=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,or=normalizeAngle(ir),sr=or*Math.PI/180,ar=Math.atan(nr/rr),cr=sr>ar&&sr<Math.PI-ar?nr/Math.sin(sr):rr/Math.cos(sr);return Math.abs(cr)},baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;function createFind$1(tr){return function(er,rr,nr){var ir=Object(er);if(!isArrayLike(er)){var or=baseIteratee$1(rr);er=keys(er),rr=function(ar){return or(ir[ar],ar,ir)}}var sr=tr(er,rr,nr);return sr>-1?ir[or?er[sr]:sr]:void 0}}var _createFind=createFind$1,toFinite=toFinite_1;function toInteger$1(tr){var er=toFinite(tr),rr=er%1;return er===er?rr?er-rr:er:0}var toInteger_1=toInteger$1,baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max;function findIndex$1(tr,er,rr){var nr=tr==null?0:tr.length;if(!nr)return-1;var ir=rr==null?0:toInteger(rr);return ir<0&&(ir=nativeMax(nr+ir,0)),baseFindIndex(tr,baseIteratee(er),ir)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find$1=createFind(findIndex),find_1=find$1;const find$2=getDefaultExportFromCjs(find_1);var calculateViewBox=memoize$3(function(tr){return{x:tr.left,y:tr.top,width:tr.width,height:tr.height}},function(tr){return["l",tr.left,"t",tr.top,"w",tr.width,"h",tr.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function(er){var rr=er.state,nr=rr.xAxisMap,ir=rr.yAxisMap,or=rr.offset,sr=er.clipPathId,ar=er.children,cr=er.width,lr=er.height,ur=calculateViewBox(or);return React$1.createElement(XAxisContext.Provider,{value:nr},React$1.createElement(YAxisContext.Provider,{value:ir},React$1.createElement(OffsetContext.Provider,{value:or},React$1.createElement(ViewBoxContext.Provider,{value:ur},React$1.createElement(ClipPathIdContext.Provider,{value:sr},React$1.createElement(ChartHeightContext.Provider,{value:lr},React$1.createElement(ChartWidthContext.Provider,{value:cr},ar)))))))},useClipPathId=function(){return reactExports.useContext(ClipPathIdContext)},useXAxisOrThrow=function(er){var rr=reactExports.useContext(XAxisContext);rr==null&&invariant();var nr=rr[er];return nr==null&&invariant(),nr},useArbitraryXAxis=function(){var er=reactExports.useContext(XAxisContext);return getAnyElementOfObject(er)},useYAxisWithFiniteDomainOrRandom=function(){var er=reactExports.useContext(YAxisContext),rr=find$2(er,function(nr){return every$2(nr.domain,Number.isFinite)});return rr||getAnyElementOfObject(er)},useYAxisOrThrow=function(er){var rr=reactExports.useContext(YAxisContext);rr==null&&invariant();var nr=rr[er];return nr==null&&invariant(),nr},useViewBox=function(){var er=reactExports.useContext(ViewBoxContext);return er},useOffset=function(){return reactExports.useContext(OffsetContext)},useChartWidth=function(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function(){return reactExports.useContext(ChartHeightContext)};function _typeof$a(tr){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$a(tr)}function ownKeys$9(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$8(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$9(Object(rr),!0).forEach(function(nr){_defineProperty$a(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$9(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$a(tr,er,rr){return er=_toPropertyKey$9(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$9(tr){var er=_toPrimitive$9(tr,"string");return _typeof$a(er)=="symbol"?er:String(er)}function _toPrimitive$9(tr,er){if(_typeof$a(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$a(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _slicedToArray$1(tr,er){return _arrayWithHoles$1(tr)||_iterableToArrayLimit$1(tr,er)||_unsupportedIterableToArray$3(tr,er)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$3(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$3(tr,er)}}function _arrayLikeToArray$3(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _iterableToArrayLimit$1(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles$1(tr){if(Array.isArray(tr))return tr}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$8.apply(this,arguments)}var renderLine=function(er,rr){var nr;return React$1.isValidElement(er)?nr=React$1.cloneElement(er,rr):isFunction$3(er)?nr=er(rr):nr=React$1.createElement("line",_extends$8({},rr,{className:"recharts-reference-line-line"})),nr},getEndPoints=function(er,rr,nr,ir,or,sr,ar,cr,lr){var ur=or.x,fr=or.y,dr=or.width,gr=or.height;if(nr){var br=lr.y,vr=er.y.apply(br,{position:sr});if(ifOverflowMatches(lr,"discard")&&!er.y.isInRange(vr))return null;var $r=[{x:ur+dr,y:vr},{x:ur,y:vr}];return cr==="left"?$r.reverse():$r}if(rr){var Er=lr.x,_r=er.x.apply(Er,{position:sr});if(ifOverflowMatches(lr,"discard")&&!er.x.isInRange(_r))return null;var xr=[{x:_r,y:fr+gr},{x:_r,y:fr}];return ar==="top"?xr.reverse():xr}if(ir){var Ir=lr.segment,Nr=Ir.map(function(Lr){return er.apply(Lr,{position:sr})});return ifOverflowMatches(lr,"discard")&&some$2(Nr,function(Lr){return!er.isInRange(Lr)})?null:Nr}return null};function ReferenceLine(tr){var er=tr.x,rr=tr.y,nr=tr.segment,ir=tr.xAxisId,or=tr.yAxisId,sr=tr.shape,ar=tr.className,cr=tr.alwaysShow,lr=useClipPathId(),ur=useXAxisOrThrow(ir),fr=useYAxisOrThrow(or),dr=useViewBox();if(!lr||!dr)return null;warn$1(cr===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var gr=createLabeledScales({x:ur.scale,y:fr.scale}),br=isNumOrStr(er),vr=isNumOrStr(rr),$r=nr&&nr.length===2,Er=getEndPoints(gr,br,vr,$r,dr,tr.position,ur.orientation,fr.orientation,tr);if(!Er)return null;var _r=_slicedToArray$1(Er,2),xr=_r[0],Ir=xr.x,Nr=xr.y,Lr=_r[1],jr=Lr.x,Or=Lr.y,Dr=ifOverflowMatches(tr,"hidden")?"url(#".concat(lr,")"):void 0,Cr=_objectSpread$8(_objectSpread$8({clipPath:Dr},filterProps(tr,!0)),{},{x1:Ir,y1:Nr,x2:jr,y2:Or});return React$1.createElement(Layer,{className:clsx$1("recharts-reference-line",ar)},renderLine(sr,Cr),Label.renderCallByParent(tr,rectWithCoords({x1:Ir,y1:Nr,x2:jr,y2:Or})))}ReferenceLine.displayName="ReferenceLine";ReferenceLine.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function _typeof$9(tr){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$9(tr)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$7.apply(this,arguments)}function ownKeys$8(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$7(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$8(Object(rr),!0).forEach(function(nr){_defineProperty$9(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$8(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$9(tr,er,rr){return er=_toPropertyKey$8(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$8(tr){var er=_toPrimitive$8(tr,"string");return _typeof$9(er)=="symbol"?er:String(er)}function _toPrimitive$8(tr,er){if(_typeof$9(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$9(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getCoordinate=function(er){var rr=er.x,nr=er.y,ir=er.xAxis,or=er.yAxis,sr=createLabeledScales({x:ir.scale,y:or.scale}),ar=sr.apply({x:rr,y:nr},{bandAware:!0});return ifOverflowMatches(er,"discard")&&!sr.isInRange(ar)?null:ar};function ReferenceDot(tr){var er=tr.x,rr=tr.y,nr=tr.r,ir=tr.alwaysShow,or=tr.clipPathId,sr=isNumOrStr(er),ar=isNumOrStr(rr);if(warn$1(ir===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!sr||!ar)return null;var cr=getCoordinate(tr);if(!cr)return null;var lr=cr.x,ur=cr.y,fr=tr.shape,dr=tr.className,gr=ifOverflowMatches(tr,"hidden")?"url(#".concat(or,")"):void 0,br=_objectSpread$7(_objectSpread$7({clipPath:gr},filterProps(tr,!0)),{},{cx:lr,cy:ur});return React$1.createElement(Layer,{className:clsx$1("recharts-reference-dot",dr)},ReferenceDot.renderDot(fr,br),Label.renderCallByParent(tr,{x:lr-nr,y:ur-nr,width:2*nr,height:2*nr}))}ReferenceDot.displayName="ReferenceDot";ReferenceDot.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};ReferenceDot.renderDot=function(tr,er){var rr;return React$1.isValidElement(tr)?rr=React$1.cloneElement(tr,er):isFunction$3(tr)?rr=tr(er):rr=React$1.createElement(Dot,_extends$7({},er,{cx:er.cx,cy:er.cy,className:"recharts-reference-dot-dot"})),rr};function _typeof$8(tr){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$8(tr)}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$6.apply(this,arguments)}function ownKeys$7(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$6(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$7(Object(rr),!0).forEach(function(nr){_defineProperty$8(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$7(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$8(tr,er,rr){return er=_toPropertyKey$7(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$7(tr){var er=_toPrimitive$7(tr,"string");return _typeof$8(er)=="symbol"?er:String(er)}function _toPrimitive$7(tr,er){if(_typeof$8(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$8(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var getRect=function(er,rr,nr,ir,or){var sr=or.x1,ar=or.x2,cr=or.y1,lr=or.y2,ur=or.xAxis,fr=or.yAxis;if(!ur||!fr)return null;var dr=createLabeledScales({x:ur.scale,y:fr.scale}),gr={x:er?dr.x.apply(sr,{position:"start"}):dr.x.rangeMin,y:nr?dr.y.apply(cr,{position:"start"}):dr.y.rangeMin},br={x:rr?dr.x.apply(ar,{position:"end"}):dr.x.rangeMax,y:ir?dr.y.apply(lr,{position:"end"}):dr.y.rangeMax};return ifOverflowMatches(or,"discard")&&(!dr.isInRange(gr)||!dr.isInRange(br))?null:rectWithPoints(gr,br)};function ReferenceArea(tr){var er=tr.x1,rr=tr.x2,nr=tr.y1,ir=tr.y2,or=tr.className,sr=tr.alwaysShow,ar=tr.clipPathId;warn$1(sr===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var cr=isNumOrStr(er),lr=isNumOrStr(rr),ur=isNumOrStr(nr),fr=isNumOrStr(ir),dr=tr.shape;if(!cr&&!lr&&!ur&&!fr&&!dr)return null;var gr=getRect(cr,lr,ur,fr,tr);if(!gr&&!dr)return null;var br=ifOverflowMatches(tr,"hidden")?"url(#".concat(ar,")"):void 0;return React$1.createElement(Layer,{className:clsx$1("recharts-reference-area",or)},ReferenceArea.renderRect(dr,_objectSpread$6(_objectSpread$6({clipPath:br},filterProps(tr,!0)),gr)),Label.renderCallByParent(tr,gr))}ReferenceArea.displayName="ReferenceArea";ReferenceArea.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};ReferenceArea.renderRect=function(tr,er){var rr;return React$1.isValidElement(tr)?rr=React$1.cloneElement(tr,er):isFunction$3(tr)?rr=tr(er):rr=React$1.createElement(Rectangle,_extends$6({},er,{className:"recharts-reference-area-rect"})),rr};function getEveryNthWithCondition(tr,er,rr){if(er<1)return[];if(er===1&&rr===void 0)return tr;for(var nr=[],ir=0;ir<tr.length;ir+=er)nr.push(tr[ir]);return nr}function getAngledTickWidth(tr,er,rr){var nr={width:tr.width+er.width,height:tr.height+er.height};return getAngledRectangleWidth(nr,rr)}function getTickBoundaries(tr,er,rr){var nr=rr==="width",ir=tr.x,or=tr.y,sr=tr.width,ar=tr.height;return er===1?{start:nr?ir:or,end:nr?ir+sr:or+ar}:{start:nr?ir+sr:or+ar,end:nr?ir:or}}function isVisible(tr,er,rr,nr,ir){if(tr*er<tr*nr||tr*er>tr*ir)return!1;var or=rr();return tr*(er-tr*or/2-nr)>=0&&tr*(er+tr*or/2-ir)<=0}function getNumberIntervalTicks(tr,er){return getEveryNthWithCondition(tr,er+1)}function getEquidistantTicks(tr,er,rr,nr,ir){for(var or=(nr||[]).slice(),sr=er.start,ar=er.end,cr=0,lr=1,ur=sr,fr=function(){var br=nr?.[cr];if(br===void 0)return{v:getEveryNthWithCondition(nr,lr)};var vr=cr,$r,Er=function(){return $r===void 0&&($r=rr(br,vr)),$r},_r=br.coordinate,xr=cr===0||isVisible(tr,_r,Er,ur,ar);xr||(cr=0,ur=sr,lr+=1),xr&&(ur=_r+tr*(Er()/2+ir),cr+=lr)},dr;lr<=or.length;)if(dr=fr(),dr)return dr.v;return[]}function _typeof$7(tr){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$7(tr)}function ownKeys$6(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$5(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$6(Object(rr),!0).forEach(function(nr){_defineProperty$7(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$6(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$7(tr,er,rr){return er=_toPropertyKey$6(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$6(tr){var er=_toPrimitive$6(tr,"string");return _typeof$7(er)=="symbol"?er:String(er)}function _toPrimitive$6(tr,er){if(_typeof$7(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$7(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function getTicksEnd(tr,er,rr,nr,ir){for(var or=(nr||[]).slice(),sr=or.length,ar=er.start,cr=er.end,lr=function(dr){var gr=or[dr],br,vr=function(){return br===void 0&&(br=rr(gr,dr)),br};if(dr===sr-1){var $r=tr*(gr.coordinate+tr*vr()/2-cr);or[dr]=gr=_objectSpread$5(_objectSpread$5({},gr),{},{tickCoord:$r>0?gr.coordinate-$r*tr:gr.coordinate})}else or[dr]=gr=_objectSpread$5(_objectSpread$5({},gr),{},{tickCoord:gr.coordinate});var Er=isVisible(tr,gr.tickCoord,vr,ar,cr);Er&&(cr=gr.tickCoord-tr*(vr()/2+ir),or[dr]=_objectSpread$5(_objectSpread$5({},gr),{},{isShow:!0}))},ur=sr-1;ur>=0;ur--)lr(ur);return or}function getTicksStart(tr,er,rr,nr,ir,or){var sr=(nr||[]).slice(),ar=sr.length,cr=er.start,lr=er.end;if(or){var ur=nr[ar-1],fr=rr(ur,ar-1),dr=tr*(ur.coordinate+tr*fr/2-lr);sr[ar-1]=ur=_objectSpread$5(_objectSpread$5({},ur),{},{tickCoord:dr>0?ur.coordinate-dr*tr:ur.coordinate});var gr=isVisible(tr,ur.tickCoord,function(){return fr},cr,lr);gr&&(lr=ur.tickCoord-tr*(fr/2+ir),sr[ar-1]=_objectSpread$5(_objectSpread$5({},ur),{},{isShow:!0}))}for(var br=or?ar-1:ar,vr=function(_r){var xr=sr[_r],Ir,Nr=function(){return Ir===void 0&&(Ir=rr(xr,_r)),Ir};if(_r===0){var Lr=tr*(xr.coordinate-tr*Nr()/2-cr);sr[_r]=xr=_objectSpread$5(_objectSpread$5({},xr),{},{tickCoord:Lr<0?xr.coordinate-Lr*tr:xr.coordinate})}else sr[_r]=xr=_objectSpread$5(_objectSpread$5({},xr),{},{tickCoord:xr.coordinate});var jr=isVisible(tr,xr.tickCoord,Nr,cr,lr);jr&&(cr=xr.tickCoord+tr*(Nr()/2+ir),sr[_r]=_objectSpread$5(_objectSpread$5({},xr),{},{isShow:!0}))},$r=0;$r<br;$r++)vr($r);return sr}function getTicks(tr,er,rr){var nr=tr.tick,ir=tr.ticks,or=tr.viewBox,sr=tr.minTickGap,ar=tr.orientation,cr=tr.interval,lr=tr.tickFormatter,ur=tr.unit,fr=tr.angle;if(!ir||!ir.length||!nr)return[];if(isNumber(cr)||Global.isSsr)return getNumberIntervalTicks(ir,typeof cr=="number"&&isNumber(cr)?cr:0);var dr=[],gr=ar==="top"||ar==="bottom"?"width":"height",br=ur&&gr==="width"?getStringSize(ur,{fontSize:er,letterSpacing:rr}):{width:0,height:0},vr=function(xr,Ir){var Nr=isFunction$3(lr)?lr(xr.value,Ir):xr.value;return gr==="width"?getAngledTickWidth(getStringSize(Nr,{fontSize:er,letterSpacing:rr}),br,fr):getStringSize(Nr,{fontSize:er,letterSpacing:rr})[gr]},$r=ir.length>=2?mathSign(ir[1].coordinate-ir[0].coordinate):1,Er=getTickBoundaries(or,$r,gr);return cr==="equidistantPreserveStart"?getEquidistantTicks($r,Er,vr,ir,sr):(cr==="preserveStart"||cr==="preserveStartEnd"?dr=getTicksStart($r,Er,vr,ir,sr,cr==="preserveStartEnd"):dr=getTicksEnd($r,Er,vr,ir,sr),dr.filter(function(_r){return _r.isShow}))}var _excluded$3=["viewBox"],_excluded2$2=["viewBox"],_excluded3=["ticks"];function _typeof$6(tr){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$6(tr)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$5.apply(this,arguments)}function ownKeys$5(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$4(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$5(Object(rr),!0).forEach(function(nr){_defineProperty$6(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$5(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _objectWithoutProperties$3(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$3(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$3(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function _classCallCheck$3(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$5(nr.key),nr)}}function _createClass$3(tr,er,rr){return er&&_defineProperties$3(tr.prototype,er),rr&&_defineProperties$3(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$2(tr,er,rr){return er=_getPrototypeOf$2(er),_possibleConstructorReturn$2(tr,_isNativeReflectConstruct$2()?Reflect.construct(er,rr||[],_getPrototypeOf$2(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$2(tr,er){if(er&&(_typeof$6(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(tr)}function _assertThisInitialized$2(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _isNativeReflectConstruct$2(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!tr})()}function _getPrototypeOf$2(tr){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$2(tr)}function _inherits$2(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$2(tr,er)}function _setPrototypeOf$2(tr,er){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$2(tr,er)}function _defineProperty$6(tr,er,rr){return er=_toPropertyKey$5(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$5(tr){var er=_toPrimitive$5(tr,"string");return _typeof$6(er)=="symbol"?er:String(er)}function _toPrimitive$5(tr,er){if(_typeof$6(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$6(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var CartesianAxis=function(tr){_inherits$2(er,tr);function er(rr){var nr;return _classCallCheck$3(this,er),nr=_callSuper$2(this,er,[rr]),nr.state={fontSize:"",letterSpacing:""},nr}return _createClass$3(er,[{key:"shouldComponentUpdate",value:function(nr,ir){var or=nr.viewBox,sr=_objectWithoutProperties$3(nr,_excluded$3),ar=this.props,cr=ar.viewBox,lr=_objectWithoutProperties$3(ar,_excluded2$2);return!shallowEqual(or,cr)||!shallowEqual(sr,lr)||!shallowEqual(ir,this.state)}},{key:"componentDidMount",value:function(){var nr=this.layerReference;if(nr){var ir=nr.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];ir&&this.setState({fontSize:window.getComputedStyle(ir).fontSize,letterSpacing:window.getComputedStyle(ir).letterSpacing})}}},{key:"getTickLineCoord",value:function(nr){var ir=this.props,or=ir.x,sr=ir.y,ar=ir.width,cr=ir.height,lr=ir.orientation,ur=ir.tickSize,fr=ir.mirror,dr=ir.tickMargin,gr,br,vr,$r,Er,_r,xr=fr?-1:1,Ir=nr.tickSize||ur,Nr=isNumber(nr.tickCoord)?nr.tickCoord:nr.coordinate;switch(lr){case"top":gr=br=nr.coordinate,$r=sr+ +!fr*cr,vr=$r-xr*Ir,_r=vr-xr*dr,Er=Nr;break;case"left":vr=$r=nr.coordinate,br=or+ +!fr*ar,gr=br-xr*Ir,Er=gr-xr*dr,_r=Nr;break;case"right":vr=$r=nr.coordinate,br=or+ +fr*ar,gr=br+xr*Ir,Er=gr+xr*dr,_r=Nr;break;default:gr=br=nr.coordinate,$r=sr+ +fr*cr,vr=$r+xr*Ir,_r=vr+xr*dr,Er=Nr;break}return{line:{x1:gr,y1:vr,x2:br,y2:$r},tick:{x:Er,y:_r}}}},{key:"getTickTextAnchor",value:function(){var nr=this.props,ir=nr.orientation,or=nr.mirror,sr;switch(ir){case"left":sr=or?"start":"end";break;case"right":sr=or?"end":"start";break;default:sr="middle";break}return sr}},{key:"getTickVerticalAnchor",value:function(){var nr=this.props,ir=nr.orientation,or=nr.mirror,sr="end";switch(ir){case"left":case"right":sr="middle";break;case"top":sr=or?"start":"end";break;default:sr=or?"end":"start";break}return sr}},{key:"renderAxisLine",value:function(){var nr=this.props,ir=nr.x,or=nr.y,sr=nr.width,ar=nr.height,cr=nr.orientation,lr=nr.mirror,ur=nr.axisLine,fr=_objectSpread$4(_objectSpread$4(_objectSpread$4({},filterProps(this.props,!1)),filterProps(ur,!1)),{},{fill:"none"});if(cr==="top"||cr==="bottom"){var dr=+(cr==="top"&&!lr||cr==="bottom"&&lr);fr=_objectSpread$4(_objectSpread$4({},fr),{},{x1:ir,y1:or+dr*ar,x2:ir+sr,y2:or+dr*ar})}else{var gr=+(cr==="left"&&!lr||cr==="right"&&lr);fr=_objectSpread$4(_objectSpread$4({},fr),{},{x1:ir+gr*sr,y1:or,x2:ir+gr*sr,y2:or+ar})}return React$1.createElement("line",_extends$5({},fr,{className:clsx$1("recharts-cartesian-axis-line",get$4(ur,"className"))}))}},{key:"renderTicks",value:function(nr,ir,or){var sr=this,ar=this.props,cr=ar.tickLine,lr=ar.stroke,ur=ar.tick,fr=ar.tickFormatter,dr=ar.unit,gr=getTicks(_objectSpread$4(_objectSpread$4({},this.props),{},{ticks:nr}),ir,or),br=this.getTickTextAnchor(),vr=this.getTickVerticalAnchor(),$r=filterProps(this.props,!1),Er=filterProps(ur,!1),_r=_objectSpread$4(_objectSpread$4({},$r),{},{fill:"none"},filterProps(cr,!1)),xr=gr.map(function(Ir,Nr){var Lr=sr.getTickLineCoord(Ir),jr=Lr.line,Or=Lr.tick,Dr=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:br,verticalAnchor:vr},$r),{},{stroke:"none",fill:lr},Er),Or),{},{index:Nr,payload:Ir,visibleTicksCount:gr.length,tickFormatter:fr});return React$1.createElement(Layer,_extends$5({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ir.value,"-").concat(Ir.coordinate,"-").concat(Ir.tickCoord)},adaptEventsOfChild(sr.props,Ir,Nr)),cr&&React$1.createElement("line",_extends$5({},_r,jr,{className:clsx$1("recharts-cartesian-axis-tick-line",get$4(cr,"className"))})),ur&&er.renderTickItem(ur,Dr,"".concat(isFunction$3(fr)?fr(Ir.value,Nr):Ir.value).concat(dr||"")))});return React$1.createElement("g",{className:"recharts-cartesian-axis-ticks"},xr)}},{key:"render",value:function(){var nr=this,ir=this.props,or=ir.axisLine,sr=ir.width,ar=ir.height,cr=ir.ticksGenerator,lr=ir.className,ur=ir.hide;if(ur)return null;var fr=this.props,dr=fr.ticks,gr=_objectWithoutProperties$3(fr,_excluded3),br=dr;return isFunction$3(cr)&&(br=dr&&dr.length>0?cr(this.props):cr(gr)),sr<=0||ar<=0||!br||!br.length?null:React$1.createElement(Layer,{className:clsx$1("recharts-cartesian-axis",lr),ref:function($r){nr.layerReference=$r}},or&&this.renderAxisLine(),this.renderTicks(br,this.state.fontSize,this.state.letterSpacing),Label.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(nr,ir,or){var sr;return React$1.isValidElement(nr)?sr=React$1.cloneElement(nr,ir):isFunction$3(nr)?sr=nr(ir):sr=React$1.createElement(Text,_extends$5({},ir,{className:"recharts-cartesian-axis-tick-value"}),or),sr}}]),er}(reactExports.Component);_defineProperty$6(CartesianAxis,"displayName","CartesianAxis");_defineProperty$6(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$2=["x1","y1","x2","y2","key"],_excluded2$1=["offset"];function _typeof$5(tr){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$5(tr)}function ownKeys$4(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$3(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$4(Object(rr),!0).forEach(function(nr){_defineProperty$5(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$4(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$5(tr,er,rr){return er=_toPropertyKey$4(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$4(tr){var er=_toPrimitive$4(tr,"string");return _typeof$5(er)=="symbol"?er:String(er)}function _toPrimitive$4(tr,er){if(_typeof$5(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$5(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$4.apply(this,arguments)}function _objectWithoutProperties$2(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$2(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$2(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}var Background=function(er){var rr=er.fill;if(!rr||rr==="none")return null;var nr=er.fillOpacity,ir=er.x,or=er.y,sr=er.width,ar=er.height;return React$1.createElement("rect",{x:ir,y:or,width:sr,height:ar,stroke:"none",fill:rr,fillOpacity:nr,className:"recharts-cartesian-grid-bg"})};function renderLineItem(tr,er){var rr;if(React$1.isValidElement(tr))rr=React$1.cloneElement(tr,er);else if(isFunction$3(tr))rr=tr(er);else{var nr=er.x1,ir=er.y1,or=er.x2,sr=er.y2,ar=er.key,cr=_objectWithoutProperties$2(er,_excluded$2),lr=filterProps(cr,!1);lr.offset;var ur=_objectWithoutProperties$2(lr,_excluded2$1);rr=React$1.createElement("line",_extends$4({},ur,{x1:nr,y1:ir,x2:or,y2:sr,fill:"none",key:ar}))}return rr}function HorizontalGridLines(tr){var er=tr.x,rr=tr.width,nr=tr.horizontal,ir=nr===void 0?!0:nr,or=tr.horizontalPoints;if(!ir||!or||!or.length)return null;var sr=or.map(function(ar,cr){var lr=_objectSpread$3(_objectSpread$3({},tr),{},{x1:er,y1:ar,x2:er+rr,y2:ar,key:"line-".concat(cr),index:cr});return renderLineItem(ir,lr)});return React$1.createElement("g",{className:"recharts-cartesian-grid-horizontal"},sr)}function VerticalGridLines(tr){var er=tr.y,rr=tr.height,nr=tr.vertical,ir=nr===void 0?!0:nr,or=tr.verticalPoints;if(!ir||!or||!or.length)return null;var sr=or.map(function(ar,cr){var lr=_objectSpread$3(_objectSpread$3({},tr),{},{x1:ar,y1:er,x2:ar,y2:er+rr,key:"line-".concat(cr),index:cr});return renderLineItem(ir,lr)});return React$1.createElement("g",{className:"recharts-cartesian-grid-vertical"},sr)}function HorizontalStripes(tr){var er=tr.horizontalFill,rr=tr.fillOpacity,nr=tr.x,ir=tr.y,or=tr.width,sr=tr.height,ar=tr.horizontalPoints,cr=tr.horizontal,lr=cr===void 0?!0:cr;if(!lr||!er||!er.length)return null;var ur=ar.map(function(dr){return Math.round(dr+ir-ir)}).sort(function(dr,gr){return dr-gr});ir!==ur[0]&&ur.unshift(0);var fr=ur.map(function(dr,gr){var br=!ur[gr+1],vr=br?ir+sr-dr:ur[gr+1]-dr;if(vr<=0)return null;var $r=gr%er.length;return React$1.createElement("rect",{key:"react-".concat(gr),y:dr,x:nr,height:vr,width:or,stroke:"none",fill:er[$r],fillOpacity:rr,className:"recharts-cartesian-grid-bg"})});return React$1.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},fr)}function VerticalStripes(tr){var er=tr.vertical,rr=er===void 0?!0:er,nr=tr.verticalFill,ir=tr.fillOpacity,or=tr.x,sr=tr.y,ar=tr.width,cr=tr.height,lr=tr.verticalPoints;if(!rr||!nr||!nr.length)return null;var ur=lr.map(function(dr){return Math.round(dr+or-or)}).sort(function(dr,gr){return dr-gr});or!==ur[0]&&ur.unshift(0);var fr=ur.map(function(dr,gr){var br=!ur[gr+1],vr=br?or+ar-dr:ur[gr+1]-dr;if(vr<=0)return null;var $r=gr%nr.length;return React$1.createElement("rect",{key:"react-".concat(gr),x:dr,y:sr,width:vr,height:cr,stroke:"none",fill:nr[$r],fillOpacity:ir,className:"recharts-cartesian-grid-bg"})});return React$1.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},fr)}var defaultVerticalCoordinatesGenerator=function(er,rr){var nr=er.xAxis,ir=er.width,or=er.height,sr=er.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),nr),{},{ticks:getTicksOfAxis(nr,!0),viewBox:{x:0,y:0,width:ir,height:or}})),sr.left,sr.left+sr.width,rr)},defaultHorizontalCoordinatesGenerator=function(er,rr){var nr=er.yAxis,ir=er.width,or=er.height,sr=er.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},CartesianAxis.defaultProps),nr),{},{ticks:getTicksOfAxis(nr,!0),viewBox:{x:0,y:0,width:ir,height:or}})),sr.top,sr.top+sr.height,rr)},defaultProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(tr){var er,rr,nr,ir,or,sr,ar=useChartWidth(),cr=useChartHeight(),lr=useOffset(),ur=_objectSpread$3(_objectSpread$3({},tr),{},{stroke:(er=tr.stroke)!==null&&er!==void 0?er:defaultProps.stroke,fill:(rr=tr.fill)!==null&&rr!==void 0?rr:defaultProps.fill,horizontal:(nr=tr.horizontal)!==null&&nr!==void 0?nr:defaultProps.horizontal,horizontalFill:(ir=tr.horizontalFill)!==null&&ir!==void 0?ir:defaultProps.horizontalFill,vertical:(or=tr.vertical)!==null&&or!==void 0?or:defaultProps.vertical,verticalFill:(sr=tr.verticalFill)!==null&&sr!==void 0?sr:defaultProps.verticalFill,x:isNumber(tr.x)?tr.x:lr.left,y:isNumber(tr.y)?tr.y:lr.top,width:isNumber(tr.width)?tr.width:lr.width,height:isNumber(tr.height)?tr.height:lr.height}),fr=ur.x,dr=ur.y,gr=ur.width,br=ur.height,vr=ur.syncWithTicks,$r=ur.horizontalValues,Er=ur.verticalValues,_r=useArbitraryXAxis(),xr=useYAxisWithFiniteDomainOrRandom();if(!isNumber(gr)||gr<=0||!isNumber(br)||br<=0||!isNumber(fr)||fr!==+fr||!isNumber(dr)||dr!==+dr)return null;var Ir=ur.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Nr=ur.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,Lr=ur.horizontalPoints,jr=ur.verticalPoints;if((!Lr||!Lr.length)&&isFunction$3(Nr)){var Or=$r&&$r.length,Dr=Nr({yAxis:xr?_objectSpread$3(_objectSpread$3({},xr),{},{ticks:Or?$r:xr.ticks}):void 0,width:ar,height:cr,offset:lr},Or?!0:vr);warn$1(Array.isArray(Dr),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$5(Dr),"]")),Array.isArray(Dr)&&(Lr=Dr)}if((!jr||!jr.length)&&isFunction$3(Ir)){var Cr=Er&&Er.length,Tr=Ir({xAxis:_r?_objectSpread$3(_objectSpread$3({},_r),{},{ticks:Cr?Er:_r.ticks}):void 0,width:ar,height:cr,offset:lr},Cr?!0:vr);warn$1(Array.isArray(Tr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$5(Tr),"]")),Array.isArray(Tr)&&(jr=Tr)}return React$1.createElement("g",{className:"recharts-cartesian-grid"},React$1.createElement(Background,{fill:ur.fill,fillOpacity:ur.fillOpacity,x:ur.x,y:ur.y,width:ur.width,height:ur.height}),React$1.createElement(HorizontalGridLines,_extends$4({},ur,{offset:lr,horizontalPoints:Lr,xAxis:_r,yAxis:xr})),React$1.createElement(VerticalGridLines,_extends$4({},ur,{offset:lr,verticalPoints:jr,xAxis:_r,yAxis:xr})),React$1.createElement(HorizontalStripes,_extends$4({},ur,{horizontalPoints:Lr})),React$1.createElement(VerticalStripes,_extends$4({},ur,{verticalPoints:jr})))}CartesianGrid.displayName="CartesianGrid";var _excluded$1=["type","layout","connectNulls","ref"];function _typeof$4(tr){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$4(tr)}function _objectWithoutProperties$1(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose$1(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose$1(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$3.apply(this,arguments)}function ownKeys$3(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$2(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$3(Object(rr),!0).forEach(function(nr){_defineProperty$4(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$3(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _toConsumableArray$2(tr){return _arrayWithoutHoles$2(tr)||_iterableToArray$2(tr)||_unsupportedIterableToArray$2(tr)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$2(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$2(tr,er)}}function _iterableToArray$2(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$2(tr){if(Array.isArray(tr))return _arrayLikeToArray$2(tr)}function _arrayLikeToArray$2(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function _classCallCheck$2(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$3(nr.key),nr)}}function _createClass$2(tr,er,rr){return er&&_defineProperties$2(tr.prototype,er),rr&&_defineProperties$2(tr,rr),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper$1(tr,er,rr){return er=_getPrototypeOf$1(er),_possibleConstructorReturn$1(tr,_isNativeReflectConstruct$1()?Reflect.construct(er,rr||[],_getPrototypeOf$1(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn$1(tr,er){if(er&&(_typeof$4(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(tr)}function _isNativeReflectConstruct$1(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!tr})()}function _getPrototypeOf$1(tr){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf$1(tr)}function _assertThisInitialized$1(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _inherits$1(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf$1(tr,er)}function _setPrototypeOf$1(tr,er){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf$1(tr,er)}function _defineProperty$4(tr,er,rr){return er=_toPropertyKey$3(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$3(tr){var er=_toPrimitive$3(tr,"string");return _typeof$4(er)=="symbol"?er:String(er)}function _toPrimitive$3(tr,er){if(_typeof$4(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$4(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var Line=function(tr){_inherits$1(er,tr);function er(){var rr;_classCallCheck$2(this,er);for(var nr=arguments.length,ir=new Array(nr),or=0;or<nr;or++)ir[or]=arguments[or];return rr=_callSuper$1(this,er,[].concat(ir)),_defineProperty$4(_assertThisInitialized$1(rr),"state",{isAnimationFinished:!0,totalLength:0}),_defineProperty$4(_assertThisInitialized$1(rr),"generateSimpleStrokeDasharray",function(sr,ar){return"".concat(ar,"px ").concat(sr-ar,"px")}),_defineProperty$4(_assertThisInitialized$1(rr),"getStrokeDasharray",function(sr,ar,cr){var lr=cr.reduce(function(Er,_r){return Er+_r});if(!lr)return rr.generateSimpleStrokeDasharray(ar,sr);for(var ur=Math.floor(sr/lr),fr=sr%lr,dr=ar-sr,gr=[],br=0,vr=0;br<cr.length;vr+=cr[br],++br)if(vr+cr[br]>fr){gr=[].concat(_toConsumableArray$2(cr.slice(0,br)),[fr-vr]);break}var $r=gr.length%2===0?[0,dr]:[dr];return[].concat(_toConsumableArray$2(er.repeat(cr,ur)),_toConsumableArray$2(gr),$r).map(function(Er){return"".concat(Er,"px")}).join(", ")}),_defineProperty$4(_assertThisInitialized$1(rr),"id",uniqueId("recharts-line-")),_defineProperty$4(_assertThisInitialized$1(rr),"pathRef",function(sr){rr.mainCurve=sr}),_defineProperty$4(_assertThisInitialized$1(rr),"handleAnimationEnd",function(){rr.setState({isAnimationFinished:!0}),rr.props.onAnimationEnd&&rr.props.onAnimationEnd()}),_defineProperty$4(_assertThisInitialized$1(rr),"handleAnimationStart",function(){rr.setState({isAnimationFinished:!1}),rr.props.onAnimationStart&&rr.props.onAnimationStart()}),rr}return _createClass$2(er,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var nr=this.getTotalLength();this.setState({totalLength:nr})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var nr=this.getTotalLength();nr!==this.state.totalLength&&this.setState({totalLength:nr})}}},{key:"getTotalLength",value:function(){var nr=this.mainCurve;try{return nr&&nr.getTotalLength&&nr.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(nr,ir){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var or=this.props,sr=or.points,ar=or.xAxis,cr=or.yAxis,lr=or.layout,ur=or.children,fr=findAllByType(ur,ErrorBar);if(!fr)return null;var dr=function(vr,$r){return{x:vr.x,y:vr.y,value:vr.value,errorVal:getValueByDataKey(vr.payload,$r)}},gr={clipPath:nr?"url(#clipPath-".concat(ir,")"):null};return React$1.createElement(Layer,gr,fr.map(function(br){return React$1.cloneElement(br,{key:"bar-".concat(br.props.dataKey),data:sr,xAxis:ar,yAxis:cr,layout:lr,dataPointFormatter:dr})}))}},{key:"renderDots",value:function(nr,ir,or){var sr=this.props.isAnimationActive;if(sr&&!this.state.isAnimationFinished)return null;var ar=this.props,cr=ar.dot,lr=ar.points,ur=ar.dataKey,fr=filterProps(this.props,!1),dr=filterProps(cr,!0),gr=lr.map(function(vr,$r){var Er=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat($r),r:3},fr),dr),{},{value:vr.value,dataKey:ur,cx:vr.x,cy:vr.y,index:$r,payload:vr.payload});return er.renderDotItem(cr,Er)}),br={clipPath:nr?"url(#clipPath-".concat(ir?"":"dots-").concat(or,")"):null};return React$1.createElement(Layer,_extends$3({className:"recharts-line-dots",key:"dots"},br),gr)}},{key:"renderCurveStatically",value:function(nr,ir,or,sr){var ar=this.props,cr=ar.type,lr=ar.layout,ur=ar.connectNulls;ar.ref;var fr=_objectWithoutProperties$1(ar,_excluded$1),dr=_objectSpread$2(_objectSpread$2(_objectSpread$2({},filterProps(fr,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:ir?"url(#clipPath-".concat(or,")"):null,points:nr},sr),{},{type:cr,layout:lr,connectNulls:ur});return React$1.createElement(Curve,_extends$3({},dr,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(nr,ir){var or=this,sr=this.props,ar=sr.points,cr=sr.strokeDasharray,lr=sr.isAnimationActive,ur=sr.animationBegin,fr=sr.animationDuration,dr=sr.animationEasing,gr=sr.animationId,br=sr.animateNewValues,vr=sr.width,$r=sr.height,Er=this.state,_r=Er.prevPoints,xr=Er.totalLength;return React$1.createElement(Animate,{begin:ur,duration:fr,isActive:lr,easing:dr,from:{t:0},to:{t:1},key:"line-".concat(gr),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(Ir){var Nr=Ir.t;if(_r){var Lr=_r.length/ar.length,jr=ar.map(function(yr,mr){var hr=Math.floor(mr*Lr);if(_r[hr]){var pr=_r[hr],wr=interpolateNumber$2(pr.x,yr.x),Ar=interpolateNumber$2(pr.y,yr.y);return _objectSpread$2(_objectSpread$2({},yr),{},{x:wr(Nr),y:Ar(Nr)})}if(br){var Rr=interpolateNumber$2(vr*2,yr.x),Pr=interpolateNumber$2($r/2,yr.y);return _objectSpread$2(_objectSpread$2({},yr),{},{x:Rr(Nr),y:Pr(Nr)})}return _objectSpread$2(_objectSpread$2({},yr),{},{x:yr.x,y:yr.y})});return or.renderCurveStatically(jr,nr,ir)}var Or=interpolateNumber$2(0,xr),Dr=Or(Nr),Cr;if(cr){var Tr="".concat(cr).split(/[,\s]+/gim).map(function(yr){return parseFloat(yr)});Cr=or.getStrokeDasharray(Dr,xr,Tr)}else Cr=or.generateSimpleStrokeDasharray(xr,Dr);return or.renderCurveStatically(ar,nr,ir,{strokeDasharray:Cr})})}},{key:"renderCurve",value:function(nr,ir){var or=this.props,sr=or.points,ar=or.isAnimationActive,cr=this.state,lr=cr.prevPoints,ur=cr.totalLength;return ar&&sr&&sr.length&&(!lr&&ur>0||!isEqual$2(lr,sr))?this.renderCurveWithAnimation(nr,ir):this.renderCurveStatically(sr,nr,ir)}},{key:"render",value:function(){var nr,ir=this.props,or=ir.hide,sr=ir.dot,ar=ir.points,cr=ir.className,lr=ir.xAxis,ur=ir.yAxis,fr=ir.top,dr=ir.left,gr=ir.width,br=ir.height,vr=ir.isAnimationActive,$r=ir.id;if(or||!ar||!ar.length)return null;var Er=this.state.isAnimationFinished,_r=ar.length===1,xr=clsx$1("recharts-line",cr),Ir=lr&&lr.allowDataOverflow,Nr=ur&&ur.allowDataOverflow,Lr=Ir||Nr,jr=isNil$1($r)?this.id:$r,Or=(nr=filterProps(sr,!1))!==null&&nr!==void 0?nr:{r:3,strokeWidth:2},Dr=Or.r,Cr=Dr===void 0?3:Dr,Tr=Or.strokeWidth,yr=Tr===void 0?2:Tr,mr=isDotProps(sr)?sr:{},hr=mr.clipDot,pr=hr===void 0?!0:hr,wr=Cr*2+yr;return React$1.createElement(Layer,{className:xr},Ir||Nr?React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"clipPath-".concat(jr)},React$1.createElement("rect",{x:Ir?dr:dr-gr/2,y:Nr?fr:fr-br/2,width:Ir?gr:gr*2,height:Nr?br:br*2})),!pr&&React$1.createElement("clipPath",{id:"clipPath-dots-".concat(jr)},React$1.createElement("rect",{x:dr-wr/2,y:fr-wr/2,width:gr+wr,height:br+wr}))):null,!_r&&this.renderCurve(Lr,jr),this.renderErrorBar(Lr,jr),(_r||sr)&&this.renderDots(Lr,pr,jr),(!vr||Er)&&LabelList.renderCallByParent(this.props,ar))}}],[{key:"getDerivedStateFromProps",value:function(nr,ir){return nr.animationId!==ir.prevAnimationId?{prevAnimationId:nr.animationId,curPoints:nr.points,prevPoints:ir.curPoints}:nr.points!==ir.curPoints?{curPoints:nr.points}:null}},{key:"repeat",value:function(nr,ir){for(var or=nr.length%2!==0?[].concat(_toConsumableArray$2(nr),[0]):nr,sr=[],ar=0;ar<ir;++ar)sr=[].concat(_toConsumableArray$2(sr),_toConsumableArray$2(or));return sr}},{key:"renderDotItem",value:function(nr,ir){var or;if(React$1.isValidElement(nr))or=React$1.cloneElement(nr,ir);else if(isFunction$3(nr))or=nr(ir);else{var sr=clsx$1("recharts-line-dot",typeof nr!="boolean"?nr.className:"");or=React$1.createElement(Dot,_extends$3({},ir,{className:sr}))}return or}}]),er}(reactExports.PureComponent);_defineProperty$4(Line,"displayName","Line");_defineProperty$4(Line,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_defineProperty$4(Line,"getComposedData",function(tr){var er=tr.props,rr=tr.xAxis,nr=tr.yAxis,ir=tr.xAxisTicks,or=tr.yAxisTicks,sr=tr.dataKey,ar=tr.bandSize,cr=tr.displayedData,lr=tr.offset,ur=er.layout,fr=cr.map(function(dr,gr){var br=getValueByDataKey(dr,sr);return ur==="horizontal"?{x:getCateCoordinateOfLine({axis:rr,ticks:ir,bandSize:ar,entry:dr,index:gr}),y:isNil$1(br)?null:nr.scale(br),value:br,payload:dr}:{x:isNil$1(br)?null:rr.scale(br),y:getCateCoordinateOfLine({axis:nr,ticks:or,bandSize:ar,entry:dr,index:gr}),value:br,payload:dr}});return _objectSpread$2({points:fr,layout:ur},lr)});function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$2.apply(this,arguments)}var XAxis=function(er){var rr=er.xAxisId,nr=useChartWidth(),ir=useChartHeight(),or=useXAxisOrThrow(rr);return or==null?null:React$1.createElement(CartesianAxis,_extends$2({},or,{className:clsx$1("recharts-".concat(or.axisType," ").concat(or.axisType),or.className),viewBox:{x:0,y:0,width:nr,height:ir},ticksGenerator:function(ar){return getTicksOfAxis(ar,!0)}}))};XAxis.displayName="XAxis";XAxis.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends$1.apply(this,arguments)}var YAxis=function(er){var rr=er.yAxisId,nr=useChartWidth(),ir=useChartHeight(),or=useYAxisOrThrow(rr);return or==null?null:React$1.createElement(CartesianAxis,_extends$1({},or,{className:clsx$1("recharts-".concat(or.axisType," ").concat(or.axisType),or.className),viewBox:{x:0,y:0,width:nr,height:ir},ticksGenerator:function(ar){return getTicksOfAxis(ar,!0)}}))};YAxis.displayName="YAxis";YAxis.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function _toConsumableArray$1(tr){return _arrayWithoutHoles$1(tr)||_iterableToArray$1(tr)||_unsupportedIterableToArray$1(tr)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray$1(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray$1(tr,er)}}function _iterableToArray$1(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles$1(tr){if(Array.isArray(tr))return _arrayLikeToArray$1(tr)}function _arrayLikeToArray$1(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}var detectReferenceElementsDomain=function(er,rr,nr,ir,or){var sr=findAllByType(er,ReferenceLine),ar=findAllByType(er,ReferenceDot),cr=[].concat(_toConsumableArray$1(sr),_toConsumableArray$1(ar)),lr=findAllByType(er,ReferenceArea),ur="".concat(ir,"Id"),fr=ir[0],dr=rr;if(cr.length&&(dr=cr.reduce(function(vr,$r){if($r.props[ur]===nr&&ifOverflowMatches($r.props,"extendDomain")&&isNumber($r.props[fr])){var Er=$r.props[fr];return[Math.min(vr[0],Er),Math.max(vr[1],Er)]}return vr},dr)),lr.length){var gr="".concat(fr,"1"),br="".concat(fr,"2");dr=lr.reduce(function(vr,$r){if($r.props[ur]===nr&&ifOverflowMatches($r.props,"extendDomain")&&isNumber($r.props[gr])&&isNumber($r.props[br])){var Er=$r.props[gr],_r=$r.props[br];return[Math.min(vr[0],Er,_r),Math.max(vr[1],Er,_r)]}return vr},dr)}return or&&or.length&&(dr=or.reduce(function(vr,$r){return isNumber($r)?[Math.min(vr[0],$r),Math.max(vr[1],$r)]:vr},dr)),dr},eventemitter3$1={exports:{}};(function(tr){var er=Object.prototype.hasOwnProperty,rr="~";function nr(){}Object.create&&(nr.prototype=Object.create(null),new nr().__proto__||(rr=!1));function ir(cr,lr,ur){this.fn=cr,this.context=lr,this.once=ur||!1}function or(cr,lr,ur,fr,dr){if(typeof ur!="function")throw new TypeError("The listener must be a function");var gr=new ir(ur,fr||cr,dr),br=rr?rr+lr:lr;return cr._events[br]?cr._events[br].fn?cr._events[br]=[cr._events[br],gr]:cr._events[br].push(gr):(cr._events[br]=gr,cr._eventsCount++),cr}function sr(cr,lr){--cr._eventsCount===0?cr._events=new nr:delete cr._events[lr]}function ar(){this._events=new nr,this._eventsCount=0}ar.prototype.eventNames=function(){var lr=[],ur,fr;if(this._eventsCount===0)return lr;for(fr in ur=this._events)er.call(ur,fr)&&lr.push(rr?fr.slice(1):fr);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(ur)):lr},ar.prototype.listeners=function(lr){var ur=rr?rr+lr:lr,fr=this._events[ur];if(!fr)return[];if(fr.fn)return[fr.fn];for(var dr=0,gr=fr.length,br=new Array(gr);dr<gr;dr++)br[dr]=fr[dr].fn;return br},ar.prototype.listenerCount=function(lr){var ur=rr?rr+lr:lr,fr=this._events[ur];return fr?fr.fn?1:fr.length:0},ar.prototype.emit=function(lr,ur,fr,dr,gr,br){var vr=rr?rr+lr:lr;if(!this._events[vr])return!1;var $r=this._events[vr],Er=arguments.length,_r,xr;if($r.fn){switch($r.once&&this.removeListener(lr,$r.fn,void 0,!0),Er){case 1:return $r.fn.call($r.context),!0;case 2:return $r.fn.call($r.context,ur),!0;case 3:return $r.fn.call($r.context,ur,fr),!0;case 4:return $r.fn.call($r.context,ur,fr,dr),!0;case 5:return $r.fn.call($r.context,ur,fr,dr,gr),!0;case 6:return $r.fn.call($r.context,ur,fr,dr,gr,br),!0}for(xr=1,_r=new Array(Er-1);xr<Er;xr++)_r[xr-1]=arguments[xr];$r.fn.apply($r.context,_r)}else{var Ir=$r.length,Nr;for(xr=0;xr<Ir;xr++)switch($r[xr].once&&this.removeListener(lr,$r[xr].fn,void 0,!0),Er){case 1:$r[xr].fn.call($r[xr].context);break;case 2:$r[xr].fn.call($r[xr].context,ur);break;case 3:$r[xr].fn.call($r[xr].context,ur,fr);break;case 4:$r[xr].fn.call($r[xr].context,ur,fr,dr);break;default:if(!_r)for(Nr=1,_r=new Array(Er-1);Nr<Er;Nr++)_r[Nr-1]=arguments[Nr];$r[xr].fn.apply($r[xr].context,_r)}}return!0},ar.prototype.on=function(lr,ur,fr){return or(this,lr,ur,fr,!1)},ar.prototype.once=function(lr,ur,fr){return or(this,lr,ur,fr,!0)},ar.prototype.removeListener=function(lr,ur,fr,dr){var gr=rr?rr+lr:lr;if(!this._events[gr])return this;if(!ur)return sr(this,gr),this;var br=this._events[gr];if(br.fn)br.fn===ur&&(!dr||br.once)&&(!fr||br.context===fr)&&sr(this,gr);else{for(var vr=0,$r=[],Er=br.length;vr<Er;vr++)(br[vr].fn!==ur||dr&&!br[vr].once||fr&&br[vr].context!==fr)&&$r.push(br[vr]);$r.length?this._events[gr]=$r.length===1?$r[0]:$r:sr(this,gr)}return this},ar.prototype.removeAllListeners=function(lr){var ur;return lr?(ur=rr?rr+lr:lr,this._events[ur]&&sr(this,ur)):(this._events=new nr,this._eventsCount=0),this},ar.prototype.off=ar.prototype.removeListener,ar.prototype.addListener=ar.prototype.on,ar.prefixed=rr,ar.EventEmitter=ar,tr.exports=ar})(eventemitter3$1);var eventemitter3Exports$1=eventemitter3$1.exports;const EventEmitter$3=getDefaultExportFromCjs(eventemitter3Exports$1);var eventCenter=new EventEmitter$3,SYNC_EVENT="recharts.syncMouseEvents";function _typeof$3(tr){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$3(tr)}function _classCallCheck$1(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey$2(nr.key),nr)}}function _createClass$1(tr,er,rr){return er&&_defineProperties$1(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _defineProperty$3(tr,er,rr){return er=_toPropertyKey$2(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$2(tr){var er=_toPrimitive$2(tr,"string");return _typeof$3(er)=="symbol"?er:String(er)}function _toPrimitive$2(tr,er){if(_typeof$3(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$3(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var AccessibilityManager=function(){function tr(){_classCallCheck$1(this,tr),_defineProperty$3(this,"activeIndex",0),_defineProperty$3(this,"coordinateList",[]),_defineProperty$3(this,"layout","horizontal")}return _createClass$1(tr,[{key:"setDetails",value:function(rr){var nr,ir=rr.coordinateList,or=ir===void 0?null:ir,sr=rr.container,ar=sr===void 0?null:sr,cr=rr.layout,lr=cr===void 0?null:cr,ur=rr.offset,fr=ur===void 0?null:ur,dr=rr.mouseHandlerCallback,gr=dr===void 0?null:dr;this.coordinateList=(nr=or??this.coordinateList)!==null&&nr!==void 0?nr:[],this.container=ar??this.container,this.layout=lr??this.layout,this.offset=fr??this.offset,this.mouseHandlerCallback=gr??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(rr){if(this.coordinateList.length!==0)switch(rr.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(rr){this.activeIndex=rr}},{key:"spoofMouse",value:function(){var rr,nr;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var ir=this.container.getBoundingClientRect(),or=ir.x,sr=ir.y,ar=ir.height,cr=this.coordinateList[this.activeIndex].coordinate,lr=((rr=window)===null||rr===void 0?void 0:rr.scrollX)||0,ur=((nr=window)===null||nr===void 0?void 0:nr.scrollY)||0,fr=or+cr+lr,dr=sr+this.offset.top+ar/2+ur;this.mouseHandlerCallback({pageX:fr,pageY:dr})}}}]),tr}();function isDomainSpecifiedByUser(tr,er,rr){if(rr==="number"&&er===!0&&Array.isArray(tr)){var nr=tr?.[0],ir=tr?.[1];if(nr&&ir&&isNumber(nr)&&isNumber(ir))return!0}return!1}function getCursorRectangle(tr,er,rr,nr){var ir=nr/2;return{stroke:"none",fill:"#ccc",x:tr==="horizontal"?er.x-ir:rr.left+.5,y:tr==="horizontal"?rr.top+.5:er.y-ir,width:tr==="horizontal"?nr:rr.width-1,height:tr==="horizontal"?rr.height-1:nr}}function getRadialCursorPoints(tr){var er=tr.cx,rr=tr.cy,nr=tr.radius,ir=tr.startAngle,or=tr.endAngle,sr=polarToCartesian(er,rr,nr,ir),ar=polarToCartesian(er,rr,nr,or);return{points:[sr,ar],cx:er,cy:rr,radius:nr,startAngle:ir,endAngle:or}}function getCursorPoints(tr,er,rr){var nr,ir,or,sr;if(tr==="horizontal")nr=er.x,or=nr,ir=rr.top,sr=rr.top+rr.height;else if(tr==="vertical")ir=er.y,sr=ir,nr=rr.left,or=rr.left+rr.width;else if(er.cx!=null&&er.cy!=null)if(tr==="centric"){var ar=er.cx,cr=er.cy,lr=er.innerRadius,ur=er.outerRadius,fr=er.angle,dr=polarToCartesian(ar,cr,lr,fr),gr=polarToCartesian(ar,cr,ur,fr);nr=dr.x,ir=dr.y,or=gr.x,sr=gr.y}else return getRadialCursorPoints(er);return[{x:nr,y:ir},{x:or,y:sr}]}function _typeof$2(tr){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$2(tr)}function ownKeys$2(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread$1(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$2(Object(rr),!0).forEach(function(nr){_defineProperty$2(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$2(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$2(tr,er,rr){return er=_toPropertyKey$1(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey$1(tr){var er=_toPrimitive$1(tr,"string");return _typeof$2(er)=="symbol"?er:String(er)}function _toPrimitive$1(tr,er){if(_typeof$2(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$2(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function Cursor(tr){var er=tr.element,rr=tr.tooltipEventType,nr=tr.isActive,ir=tr.activeCoordinate,or=tr.activePayload,sr=tr.offset,ar=tr.activeTooltipIndex,cr=tr.tooltipAxisBandSize,lr=tr.layout,ur=tr.chartName;if(!er||!er.props.cursor||!nr||!ir||ur!=="ScatterChart"&&rr!=="axis")return null;var fr,dr=Curve;if(ur==="ScatterChart")fr=ir,dr=Cross;else if(ur==="BarChart")fr=getCursorRectangle(lr,ir,sr,cr),dr=Rectangle;else if(lr==="radial"){var gr=getRadialCursorPoints(ir),br=gr.cx,vr=gr.cy,$r=gr.radius,Er=gr.startAngle,_r=gr.endAngle;fr={cx:br,cy:vr,startAngle:Er,endAngle:_r,innerRadius:$r,outerRadius:$r},dr=Sector}else fr={points:getCursorPoints(lr,ir,sr)},dr=Curve;var xr=_objectSpread$1(_objectSpread$1(_objectSpread$1(_objectSpread$1({stroke:"#ccc",pointerEvents:"none"},sr),fr),filterProps(er.props.cursor,!1)),{},{payload:or,payloadIndex:ar,className:clsx$1("recharts-tooltip-cursor",er.props.cursor.className)});return reactExports.isValidElement(er.props.cursor)?reactExports.cloneElement(er.props.cursor,xr):reactExports.createElement(dr,xr)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof$1(tr){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof$1(tr)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er];for(var nr in rr)Object.prototype.hasOwnProperty.call(rr,nr)&&(tr[nr]=rr[nr])}return tr},_extends.apply(this,arguments)}function _slicedToArray(tr,er){return _arrayWithHoles(tr)||_iterableToArrayLimit(tr,er)||_unsupportedIterableToArray(tr,er)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArrayLimit(tr,er){var rr=tr==null?null:typeof Symbol<"u"&&tr[Symbol.iterator]||tr["@@iterator"];if(rr!=null){var nr,ir,or,sr,ar=[],cr=!0,lr=!1;try{if(or=(rr=rr.call(tr)).next,er!==0)for(;!(cr=(nr=or.call(rr)).done)&&(ar.push(nr.value),ar.length!==er);cr=!0);}catch(ur){lr=!0,ir=ur}finally{try{if(!cr&&rr.return!=null&&(sr=rr.return(),Object(sr)!==sr))return}finally{if(lr)throw ir}}return ar}}function _arrayWithHoles(tr){if(Array.isArray(tr))return tr}function _objectWithoutProperties(tr,er){if(tr==null)return{};var rr=_objectWithoutPropertiesLoose(tr,er),nr,ir;if(Object.getOwnPropertySymbols){var or=Object.getOwnPropertySymbols(tr);for(ir=0;ir<or.length;ir++)nr=or[ir],!(er.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(tr,nr)&&(rr[nr]=tr[nr])}return rr}function _objectWithoutPropertiesLoose(tr,er){if(tr==null)return{};var rr={},nr=Object.keys(tr),ir,or;for(or=0;or<nr.length;or++)ir=nr[or],!(er.indexOf(ir)>=0)&&(rr[ir]=tr[ir]);return rr}function _classCallCheck(tr,er){if(!(tr instanceof er))throw new TypeError("Cannot call a class as a function")}function _defineProperties(tr,er){for(var rr=0;rr<er.length;rr++){var nr=er[rr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(tr,_toPropertyKey(nr.key),nr)}}function _createClass(tr,er,rr){return er&&_defineProperties(tr.prototype,er),Object.defineProperty(tr,"prototype",{writable:!1}),tr}function _callSuper(tr,er,rr){return er=_getPrototypeOf(er),_possibleConstructorReturn(tr,_isNativeReflectConstruct()?Reflect.construct(er,rr||[],_getPrototypeOf(tr).constructor):er.apply(tr,rr))}function _possibleConstructorReturn(tr,er){if(er&&(_typeof$1(er)==="object"||typeof er=="function"))return er;if(er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(tr)}function _isNativeReflectConstruct(){try{var tr=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!tr})()}function _getPrototypeOf(tr){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rr){return rr.__proto__||Object.getPrototypeOf(rr)},_getPrototypeOf(tr)}function _assertThisInitialized(tr){if(tr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr}function _inherits(tr,er){if(typeof er!="function"&&er!==null)throw new TypeError("Super expression must either be null or a function");tr.prototype=Object.create(er&&er.prototype,{constructor:{value:tr,writable:!0,configurable:!0}}),Object.defineProperty(tr,"prototype",{writable:!1}),er&&_setPrototypeOf(tr,er)}function _setPrototypeOf(tr,er){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nr,ir){return nr.__proto__=ir,nr},_setPrototypeOf(tr,er)}function _toConsumableArray(tr){return _arrayWithoutHoles(tr)||_iterableToArray(tr)||_unsupportedIterableToArray(tr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(tr,er){if(tr){if(typeof tr=="string")return _arrayLikeToArray(tr,er);var rr=Object.prototype.toString.call(tr).slice(8,-1);if(rr==="Object"&&tr.constructor&&(rr=tr.constructor.name),rr==="Map"||rr==="Set")return Array.from(tr);if(rr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rr))return _arrayLikeToArray(tr,er)}}function _iterableToArray(tr){if(typeof Symbol<"u"&&tr[Symbol.iterator]!=null||tr["@@iterator"]!=null)return Array.from(tr)}function _arrayWithoutHoles(tr){if(Array.isArray(tr))return _arrayLikeToArray(tr)}function _arrayLikeToArray(tr,er){(er==null||er>tr.length)&&(er=tr.length);for(var rr=0,nr=new Array(er);rr<er;rr++)nr[rr]=tr[rr];return nr}function ownKeys$1(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys$1(Object(rr),!0).forEach(function(nr){_defineProperty$1(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys$1(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}function _defineProperty$1(tr,er,rr){return er=_toPropertyKey(er),er in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function _toPropertyKey(tr){var er=_toPrimitive(tr,"string");return _typeof$1(er)=="symbol"?er:String(er)}function _toPrimitive(tr,er){if(_typeof$1(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof$1(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(tr){return tr}var calculateTooltipPos=function(er,rr){return rr==="horizontal"?er.x:rr==="vertical"?er.y:rr==="centric"?er.angle:er.radius},getActiveCoordinate=function(er,rr,nr,ir){var or=rr.find(function(ur){return ur&&ur.index===nr});if(or){if(er==="horizontal")return{x:or.coordinate,y:ir.y};if(er==="vertical")return{x:ir.x,y:or.coordinate};if(er==="centric"){var sr=or.coordinate,ar=ir.radius;return _objectSpread(_objectSpread(_objectSpread({},ir),polarToCartesian(ir.cx,ir.cy,ar,sr)),{},{angle:sr,radius:ar})}var cr=or.coordinate,lr=ir.angle;return _objectSpread(_objectSpread(_objectSpread({},ir),polarToCartesian(ir.cx,ir.cy,cr,lr)),{},{angle:lr,radius:cr})}return originCoordinate},getDisplayedData=function(er,rr){var nr=rr.graphicalItems,ir=rr.dataStartIndex,or=rr.dataEndIndex,sr=(nr??[]).reduce(function(ar,cr){var lr=cr.props.data;return lr&&lr.length?[].concat(_toConsumableArray(ar),_toConsumableArray(lr)):ar},[]);return sr.length>0?sr:er&&er.length&&isNumber(ir)&&isNumber(or)?er.slice(ir,or+1):[]};function getDefaultDomainByAxisType(tr){return tr==="number"?[0,"auto"]:void 0}var getTooltipContent=function(er,rr,nr,ir){var or=er.graphicalItems,sr=er.tooltipAxis,ar=getDisplayedData(rr,er);return nr<0||!or||!or.length||nr>=ar.length?null:or.reduce(function(cr,lr){var ur,fr=(ur=lr.props.data)!==null&&ur!==void 0?ur:rr;fr&&er.dataStartIndex+er.dataEndIndex!==0&&(fr=fr.slice(er.dataStartIndex,er.dataEndIndex+1));var dr;if(sr.dataKey&&!sr.allowDuplicatedCategory){var gr=fr===void 0?ar:fr;dr=findEntryInArray(gr,sr.dataKey,ir)}else dr=fr&&fr[nr]||ar[nr];return dr?[].concat(_toConsumableArray(cr),[getTooltipItem(lr,dr)]):cr},[])},getTooltipData=function(er,rr,nr,ir){var or=ir||{x:er.chartX,y:er.chartY},sr=calculateTooltipPos(or,nr),ar=er.orderedTooltipTicks,cr=er.tooltipAxis,lr=er.tooltipTicks,ur=calculateActiveTickIndex(sr,ar,lr,cr);if(ur>=0&&lr){var fr=lr[ur]&&lr[ur].value,dr=getTooltipContent(er,rr,ur,fr),gr=getActiveCoordinate(nr,ar,ur,or);return{activeTooltipIndex:ur,activeLabel:fr,activePayload:dr,activeCoordinate:gr}}return null},getAxisMapByAxes=function(er,rr){var nr=rr.axes,ir=rr.graphicalItems,or=rr.axisType,sr=rr.axisIdKey,ar=rr.stackGroups,cr=rr.dataStartIndex,lr=rr.dataEndIndex,ur=er.layout,fr=er.children,dr=er.stackOffset,gr=isCategoricalAxis(ur,or);return nr.reduce(function(br,vr){var $r,Er=vr.props,_r=Er.type,xr=Er.dataKey,Ir=Er.allowDataOverflow,Nr=Er.allowDuplicatedCategory,Lr=Er.scale,jr=Er.ticks,Or=Er.includeHidden,Dr=vr.props[sr];if(br[Dr])return br;var Cr=getDisplayedData(er.data,{graphicalItems:ir.filter(function(Br){return Br.props[sr]===Dr}),dataStartIndex:cr,dataEndIndex:lr}),Tr=Cr.length,yr,mr,hr;isDomainSpecifiedByUser(vr.props.domain,Ir,_r)&&(yr=parseSpecifiedDomain(vr.props.domain,null,Ir),gr&&(_r==="number"||Lr!=="auto")&&(hr=getDomainOfDataByKey(Cr,xr,"category")));var pr=getDefaultDomainByAxisType(_r);if(!yr||yr.length===0){var wr,Ar=(wr=vr.props.domain)!==null&&wr!==void 0?wr:pr;if(xr){if(yr=getDomainOfDataByKey(Cr,xr,_r),_r==="category"&&gr){var Rr=hasDuplicate(yr);Nr&&Rr?(mr=yr,yr=range$5(0,Tr)):Nr||(yr=parseDomainOfCategoryAxis(Ar,yr,vr).reduce(function(Br,Ur){return Br.indexOf(Ur)>=0?Br:[].concat(_toConsumableArray(Br),[Ur])},[]))}else if(_r==="category")Nr?yr=yr.filter(function(Br){return Br!==""&&!isNil$1(Br)}):yr=parseDomainOfCategoryAxis(Ar,yr,vr).reduce(function(Br,Ur){return Br.indexOf(Ur)>=0||Ur===""||isNil$1(Ur)?Br:[].concat(_toConsumableArray(Br),[Ur])},[]);else if(_r==="number"){var Pr=parseErrorBarsOfAxis(Cr,ir.filter(function(Br){return Br.props[sr]===Dr&&(Or||!Br.props.hide)}),xr,or,ur);Pr&&(yr=Pr)}gr&&(_r==="number"||Lr!=="auto")&&(hr=getDomainOfDataByKey(Cr,xr,"category"))}else gr?yr=range$5(0,Tr):ar&&ar[Dr]&&ar[Dr].hasStack&&_r==="number"?yr=dr==="expand"?[0,1]:getDomainOfStackGroups(ar[Dr].stackGroups,cr,lr):yr=getDomainOfItemsWithSameAxis(Cr,ir.filter(function(Br){return Br.props[sr]===Dr&&(Or||!Br.props.hide)}),_r,ur,!0);if(_r==="number")yr=detectReferenceElementsDomain(fr,yr,Dr,or,jr),Ar&&(yr=parseSpecifiedDomain(Ar,yr,Ir));else if(_r==="category"&&Ar){var Sr=Ar,Mr=yr.every(function(Br){return Sr.indexOf(Br)>=0});Mr&&(yr=Sr)}}return _objectSpread(_objectSpread({},br),{},_defineProperty$1({},Dr,_objectSpread(_objectSpread({},vr.props),{},{axisType:or,domain:yr,categoricalDomain:hr,duplicateDomain:mr,originalDomain:($r=vr.props.domain)!==null&&$r!==void 0?$r:pr,isCategorical:gr,layout:ur})))},{})},getAxisMapByItems=function(er,rr){var nr=rr.graphicalItems,ir=rr.Axis,or=rr.axisType,sr=rr.axisIdKey,ar=rr.stackGroups,cr=rr.dataStartIndex,lr=rr.dataEndIndex,ur=er.layout,fr=er.children,dr=getDisplayedData(er.data,{graphicalItems:nr,dataStartIndex:cr,dataEndIndex:lr}),gr=dr.length,br=isCategoricalAxis(ur,or),vr=-1;return nr.reduce(function($r,Er){var _r=Er.props[sr],xr=getDefaultDomainByAxisType("number");if(!$r[_r]){vr++;var Ir;return br?Ir=range$5(0,gr):ar&&ar[_r]&&ar[_r].hasStack?(Ir=getDomainOfStackGroups(ar[_r].stackGroups,cr,lr),Ir=detectReferenceElementsDomain(fr,Ir,_r,or)):(Ir=parseSpecifiedDomain(xr,getDomainOfItemsWithSameAxis(dr,nr.filter(function(Nr){return Nr.props[sr]===_r&&!Nr.props.hide}),"number",ur),ir.defaultProps.allowDataOverflow),Ir=detectReferenceElementsDomain(fr,Ir,_r,or)),_objectSpread(_objectSpread({},$r),{},_defineProperty$1({},_r,_objectSpread(_objectSpread({axisType:or},ir.defaultProps),{},{hide:!0,orientation:get$4(ORIENT_MAP,"".concat(or,".").concat(vr%2),null),domain:Ir,originalDomain:xr,isCategorical:br,layout:ur})))}return $r},{})},getAxisMap=function(er,rr){var nr=rr.axisType,ir=nr===void 0?"xAxis":nr,or=rr.AxisComp,sr=rr.graphicalItems,ar=rr.stackGroups,cr=rr.dataStartIndex,lr=rr.dataEndIndex,ur=er.children,fr="".concat(ir,"Id"),dr=findAllByType(ur,or),gr={};return dr&&dr.length?gr=getAxisMapByAxes(er,{axes:dr,graphicalItems:sr,axisType:ir,axisIdKey:fr,stackGroups:ar,dataStartIndex:cr,dataEndIndex:lr}):sr&&sr.length&&(gr=getAxisMapByItems(er,{Axis:or,graphicalItems:sr,axisType:ir,axisIdKey:fr,stackGroups:ar,dataStartIndex:cr,dataEndIndex:lr})),gr},tooltipTicksGenerator=function(er){var rr=getAnyElementOfObject(er),nr=getTicksOfAxis(rr,!1,!0);return{tooltipTicks:nr,orderedTooltipTicks:sortBy$1(nr,function(ir){return ir.coordinate}),tooltipAxis:rr,tooltipAxisBandSize:getBandSizeOfAxis(rr,nr)}},createDefaultState=function(er){var rr=er.children,nr=er.defaultShowTooltip,ir=findChildByType(rr,Brush),or=0,sr=0;return er.data&&er.data.length!==0&&(sr=er.data.length-1),ir&&ir.props&&(ir.props.startIndex>=0&&(or=ir.props.startIndex),ir.props.endIndex>=0&&(sr=ir.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:or,dataEndIndex:sr,activeTooltipIndex:-1,isTooltipActive:!!nr}},hasGraphicalBarItem=function(er){return!er||!er.length?!1:er.some(function(rr){var nr=getDisplayName(rr&&rr.type);return nr&&nr.indexOf("Bar")>=0})},getAxisNameByLayout=function(er){return er==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:er==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:er==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function(er,rr){var nr=er.props,ir=er.graphicalItems,or=er.xAxisMap,sr=or===void 0?{}:or,ar=er.yAxisMap,cr=ar===void 0?{}:ar,lr=nr.width,ur=nr.height,fr=nr.children,dr=nr.margin||{},gr=findChildByType(fr,Brush),br=findChildByType(fr,Legend),vr=Object.keys(cr).reduce(function(Nr,Lr){var jr=cr[Lr],Or=jr.orientation;return!jr.mirror&&!jr.hide?_objectSpread(_objectSpread({},Nr),{},_defineProperty$1({},Or,Nr[Or]+jr.width)):Nr},{left:dr.left||0,right:dr.right||0}),$r=Object.keys(sr).reduce(function(Nr,Lr){var jr=sr[Lr],Or=jr.orientation;return!jr.mirror&&!jr.hide?_objectSpread(_objectSpread({},Nr),{},_defineProperty$1({},Or,get$4(Nr,"".concat(Or))+jr.height)):Nr},{top:dr.top||0,bottom:dr.bottom||0}),Er=_objectSpread(_objectSpread({},$r),vr),_r=Er.bottom;gr&&(Er.bottom+=gr.props.height||Brush.defaultProps.height),br&&rr&&(Er=appendOffsetOfLegend(Er,ir,nr,rr));var xr=lr-Er.left-Er.right,Ir=ur-Er.top-Er.bottom;return _objectSpread(_objectSpread({brushBottom:_r},Er),{},{width:Math.max(xr,0),height:Math.max(Ir,0)})},getCartesianAxisSize=function(er,rr){if(rr==="xAxis")return er[rr].width;if(rr==="yAxis")return er[rr].height},generateCategoricalChart=function(er){var rr,nr=er.chartName,ir=er.GraphicalChild,or=er.defaultTooltipEventType,sr=or===void 0?"axis":or,ar=er.validateTooltipEventTypes,cr=ar===void 0?["axis"]:ar,lr=er.axisComponents,ur=er.legendContent,fr=er.formatAxisMap,dr=er.defaultProps,gr=function($r,Er){var _r=Er.graphicalItems,xr=Er.stackGroups,Ir=Er.offset,Nr=Er.updateId,Lr=Er.dataStartIndex,jr=Er.dataEndIndex,Or=$r.barSize,Dr=$r.layout,Cr=$r.barGap,Tr=$r.barCategoryGap,yr=$r.maxBarSize,mr=getAxisNameByLayout(Dr),hr=mr.numericAxisName,pr=mr.cateAxisName,wr=hasGraphicalBarItem(_r),Ar=[];return _r.forEach(function(Rr,Pr){var Sr=getDisplayedData($r.data,{graphicalItems:[Rr],dataStartIndex:Lr,dataEndIndex:jr}),Mr=Rr.props,Br=Mr.dataKey,Ur=Mr.maxBarSize,Jr=Rr.props["".concat(hr,"Id")],qr=Rr.props["".concat(pr,"Id")],zr={},sn=lr.reduce(function(Wn,zn){var Fn=Er["".concat(zn.axisType,"Map")],so=Rr.props["".concat(zn.axisType,"Id")];Fn&&Fn[so]||zn.axisType==="zAxis"||invariant();var wn=Fn[so];return _objectSpread(_objectSpread({},Wn),{},_defineProperty$1(_defineProperty$1({},zn.axisType,wn),"".concat(zn.axisType,"Ticks"),getTicksOfAxis(wn)))},zr),rn=sn[pr],tn=sn["".concat(pr,"Ticks")],dn=xr&&xr[Jr]&&xr[Jr].hasStack&&getStackedDataOfItem(Rr,xr[Jr].stackGroups),Yr=getDisplayName(Rr.type).indexOf("Bar")>=0,Vr=getBandSizeOfAxis(rn,tn),Qr=[],un=wr&&getBarSizeList({barSize:Or,stackGroups:xr,totalSize:getCartesianAxisSize(sn,pr)});if(Yr){var yn,An,Rn=isNil$1(Ur)?yr:Ur,On=(yn=(An=getBandSizeOfAxis(rn,tn,!0))!==null&&An!==void 0?An:Rn)!==null&&yn!==void 0?yn:0;Qr=getBarPosition({barGap:Cr,barCategoryGap:Tr,bandSize:On!==Vr?On:Vr,sizeList:un[qr],maxBarSize:Rn}),On!==Vr&&(Qr=Qr.map(function(Wn){return _objectSpread(_objectSpread({},Wn),{},{position:_objectSpread(_objectSpread({},Wn.position),{},{offset:Wn.position.offset-On/2})})}))}var xn=Rr&&Rr.type&&Rr.type.getComposedData;xn&&Ar.push({props:_objectSpread(_objectSpread({},xn(_objectSpread(_objectSpread({},sn),{},{displayedData:Sr,props:$r,dataKey:Br,item:Rr,bandSize:Vr,barPosition:Qr,offset:Ir,stackedData:dn,layout:Dr,dataStartIndex:Lr,dataEndIndex:jr}))),{},_defineProperty$1(_defineProperty$1(_defineProperty$1({key:Rr.key||"item-".concat(Pr)},hr,sn[hr]),pr,sn[pr]),"animationId",Nr)),childIndex:parseChildIndex(Rr,$r.children),item:Rr})}),Ar},br=function($r,Er){var _r=$r.props,xr=$r.dataStartIndex,Ir=$r.dataEndIndex,Nr=$r.updateId;if(!validateWidthHeight({props:_r}))return null;var Lr=_r.children,jr=_r.layout,Or=_r.stackOffset,Dr=_r.data,Cr=_r.reverseStackOrder,Tr=getAxisNameByLayout(jr),yr=Tr.numericAxisName,mr=Tr.cateAxisName,hr=findAllByType(Lr,ir),pr=getStackGroupsByAxisId(Dr,hr,"".concat(yr,"Id"),"".concat(mr,"Id"),Or,Cr),wr=lr.reduce(function(Mr,Br){var Ur="".concat(Br.axisType,"Map");return _objectSpread(_objectSpread({},Mr),{},_defineProperty$1({},Ur,getAxisMap(_r,_objectSpread(_objectSpread({},Br),{},{graphicalItems:hr,stackGroups:Br.axisType===yr&&pr,dataStartIndex:xr,dataEndIndex:Ir}))))},{}),Ar=calculateOffset(_objectSpread(_objectSpread({},wr),{},{props:_r,graphicalItems:hr}),Er?.legendBBox);Object.keys(wr).forEach(function(Mr){wr[Mr]=fr(_r,wr[Mr],Ar,Mr.replace("Map",""),nr)});var Rr=wr["".concat(mr,"Map")],Pr=tooltipTicksGenerator(Rr),Sr=gr(_r,_objectSpread(_objectSpread({},wr),{},{dataStartIndex:xr,dataEndIndex:Ir,updateId:Nr,graphicalItems:hr,stackGroups:pr,offset:Ar}));return _objectSpread(_objectSpread({formattedGraphicalItems:Sr,graphicalItems:hr,offset:Ar,stackGroups:pr},Pr),wr)};return rr=function(vr){_inherits($r,vr);function $r(Er){var _r,xr,Ir;return _classCallCheck(this,$r),Ir=_callSuper(this,$r,[Er]),_defineProperty$1(_assertThisInitialized(Ir),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty$1(_assertThisInitialized(Ir),"accessibilityManager",new AccessibilityManager),_defineProperty$1(_assertThisInitialized(Ir),"handleLegendBBoxUpdate",function(Nr){if(Nr){var Lr=Ir.state,jr=Lr.dataStartIndex,Or=Lr.dataEndIndex,Dr=Lr.updateId;Ir.setState(_objectSpread({legendBBox:Nr},br({props:Ir.props,dataStartIndex:jr,dataEndIndex:Or,updateId:Dr},_objectSpread(_objectSpread({},Ir.state),{},{legendBBox:Nr}))))}}),_defineProperty$1(_assertThisInitialized(Ir),"handleReceiveSyncEvent",function(Nr,Lr,jr){if(Ir.props.syncId===Nr){if(jr===Ir.eventEmitterSymbol&&typeof Ir.props.syncMethod!="function")return;Ir.applySyncEvent(Lr)}}),_defineProperty$1(_assertThisInitialized(Ir),"handleBrushChange",function(Nr){var Lr=Nr.startIndex,jr=Nr.endIndex;if(Lr!==Ir.state.dataStartIndex||jr!==Ir.state.dataEndIndex){var Or=Ir.state.updateId;Ir.setState(function(){return _objectSpread({dataStartIndex:Lr,dataEndIndex:jr},br({props:Ir.props,dataStartIndex:Lr,dataEndIndex:jr,updateId:Or},Ir.state))}),Ir.triggerSyncEvent({dataStartIndex:Lr,dataEndIndex:jr})}}),_defineProperty$1(_assertThisInitialized(Ir),"handleMouseEnter",function(Nr){var Lr=Ir.getMouseInfo(Nr);if(Lr){var jr=_objectSpread(_objectSpread({},Lr),{},{isTooltipActive:!0});Ir.setState(jr),Ir.triggerSyncEvent(jr);var Or=Ir.props.onMouseEnter;isFunction$3(Or)&&Or(jr,Nr)}}),_defineProperty$1(_assertThisInitialized(Ir),"triggeredAfterMouseMove",function(Nr){var Lr=Ir.getMouseInfo(Nr),jr=Lr?_objectSpread(_objectSpread({},Lr),{},{isTooltipActive:!0}):{isTooltipActive:!1};Ir.setState(jr),Ir.triggerSyncEvent(jr);var Or=Ir.props.onMouseMove;isFunction$3(Or)&&Or(jr,Nr)}),_defineProperty$1(_assertThisInitialized(Ir),"handleItemMouseEnter",function(Nr){Ir.setState(function(){return{isTooltipActive:!0,activeItem:Nr,activePayload:Nr.tooltipPayload,activeCoordinate:Nr.tooltipPosition||{x:Nr.cx,y:Nr.cy}}})}),_defineProperty$1(_assertThisInitialized(Ir),"handleItemMouseLeave",function(){Ir.setState(function(){return{isTooltipActive:!1}})}),_defineProperty$1(_assertThisInitialized(Ir),"handleMouseMove",function(Nr){Nr.persist(),Ir.throttleTriggeredAfterMouseMove(Nr)}),_defineProperty$1(_assertThisInitialized(Ir),"handleMouseLeave",function(Nr){Ir.throttleTriggeredAfterMouseMove.cancel();var Lr={isTooltipActive:!1};Ir.setState(Lr),Ir.triggerSyncEvent(Lr);var jr=Ir.props.onMouseLeave;isFunction$3(jr)&&jr(Lr,Nr)}),_defineProperty$1(_assertThisInitialized(Ir),"handleOuterEvent",function(Nr){var Lr=getReactEventByType(Nr),jr=get$4(Ir.props,"".concat(Lr));if(Lr&&isFunction$3(jr)){var Or,Dr;/.*touch.*/i.test(Lr)?Dr=Ir.getMouseInfo(Nr.changedTouches[0]):Dr=Ir.getMouseInfo(Nr),jr((Or=Dr)!==null&&Or!==void 0?Or:{},Nr)}}),_defineProperty$1(_assertThisInitialized(Ir),"handleClick",function(Nr){var Lr=Ir.getMouseInfo(Nr);if(Lr){var jr=_objectSpread(_objectSpread({},Lr),{},{isTooltipActive:!0});Ir.setState(jr),Ir.triggerSyncEvent(jr);var Or=Ir.props.onClick;isFunction$3(Or)&&Or(jr,Nr)}}),_defineProperty$1(_assertThisInitialized(Ir),"handleMouseDown",function(Nr){var Lr=Ir.props.onMouseDown;if(isFunction$3(Lr)){var jr=Ir.getMouseInfo(Nr);Lr(jr,Nr)}}),_defineProperty$1(_assertThisInitialized(Ir),"handleMouseUp",function(Nr){var Lr=Ir.props.onMouseUp;if(isFunction$3(Lr)){var jr=Ir.getMouseInfo(Nr);Lr(jr,Nr)}}),_defineProperty$1(_assertThisInitialized(Ir),"handleTouchMove",function(Nr){Nr.changedTouches!=null&&Nr.changedTouches.length>0&&Ir.throttleTriggeredAfterMouseMove(Nr.changedTouches[0])}),_defineProperty$1(_assertThisInitialized(Ir),"handleTouchStart",function(Nr){Nr.changedTouches!=null&&Nr.changedTouches.length>0&&Ir.handleMouseDown(Nr.changedTouches[0])}),_defineProperty$1(_assertThisInitialized(Ir),"handleTouchEnd",function(Nr){Nr.changedTouches!=null&&Nr.changedTouches.length>0&&Ir.handleMouseUp(Nr.changedTouches[0])}),_defineProperty$1(_assertThisInitialized(Ir),"triggerSyncEvent",function(Nr){Ir.props.syncId!==void 0&&eventCenter.emit(SYNC_EVENT,Ir.props.syncId,Nr,Ir.eventEmitterSymbol)}),_defineProperty$1(_assertThisInitialized(Ir),"applySyncEvent",function(Nr){var Lr=Ir.props,jr=Lr.layout,Or=Lr.syncMethod,Dr=Ir.state.updateId,Cr=Nr.dataStartIndex,Tr=Nr.dataEndIndex;if(Nr.dataStartIndex!==void 0||Nr.dataEndIndex!==void 0)Ir.setState(_objectSpread({dataStartIndex:Cr,dataEndIndex:Tr},br({props:Ir.props,dataStartIndex:Cr,dataEndIndex:Tr,updateId:Dr},Ir.state)));else if(Nr.activeTooltipIndex!==void 0){var yr=Nr.chartX,mr=Nr.chartY,hr=Nr.activeTooltipIndex,pr=Ir.state,wr=pr.offset,Ar=pr.tooltipTicks;if(!wr)return;if(typeof Or=="function")hr=Or(Ar,Nr);else if(Or==="value"){hr=-1;for(var Rr=0;Rr<Ar.length;Rr++)if(Ar[Rr].value===Nr.activeLabel){hr=Rr;break}}var Pr=_objectSpread(_objectSpread({},wr),{},{x:wr.left,y:wr.top}),Sr=Math.min(yr,Pr.x+Pr.width),Mr=Math.min(mr,Pr.y+Pr.height),Br=Ar[hr]&&Ar[hr].value,Ur=getTooltipContent(Ir.state,Ir.props.data,hr),Jr=Ar[hr]?{x:jr==="horizontal"?Ar[hr].coordinate:Sr,y:jr==="horizontal"?Mr:Ar[hr].coordinate}:originCoordinate;Ir.setState(_objectSpread(_objectSpread({},Nr),{},{activeLabel:Br,activeCoordinate:Jr,activePayload:Ur,activeTooltipIndex:hr}))}else Ir.setState(Nr)}),_defineProperty$1(_assertThisInitialized(Ir),"renderCursor",function(Nr){var Lr,jr=Ir.state,Or=jr.isTooltipActive,Dr=jr.activeCoordinate,Cr=jr.activePayload,Tr=jr.offset,yr=jr.activeTooltipIndex,mr=jr.tooltipAxisBandSize,hr=Ir.getTooltipEventType(),pr=(Lr=Nr.props.active)!==null&&Lr!==void 0?Lr:Or,wr=Ir.props.layout,Ar=Nr.key||"_recharts-cursor";return React$1.createElement(Cursor,{key:Ar,activeCoordinate:Dr,activePayload:Cr,activeTooltipIndex:yr,chartName:nr,element:Nr,isActive:pr,layout:wr,offset:Tr,tooltipAxisBandSize:mr,tooltipEventType:hr})}),_defineProperty$1(_assertThisInitialized(Ir),"renderPolarAxis",function(Nr,Lr,jr){var Or=get$4(Nr,"type.axisType"),Dr=get$4(Ir.state,"".concat(Or,"Map")),Cr=Dr&&Dr[Nr.props["".concat(Or,"Id")]];return reactExports.cloneElement(Nr,_objectSpread(_objectSpread({},Cr),{},{className:clsx$1(Or,Cr.className),key:Nr.key||"".concat(Lr,"-").concat(jr),ticks:getTicksOfAxis(Cr,!0)}))}),_defineProperty$1(_assertThisInitialized(Ir),"renderPolarGrid",function(Nr){var Lr=Nr.props,jr=Lr.radialLines,Or=Lr.polarAngles,Dr=Lr.polarRadius,Cr=Ir.state,Tr=Cr.radiusAxisMap,yr=Cr.angleAxisMap,mr=getAnyElementOfObject(Tr),hr=getAnyElementOfObject(yr),pr=hr.cx,wr=hr.cy,Ar=hr.innerRadius,Rr=hr.outerRadius;return reactExports.cloneElement(Nr,{polarAngles:Array.isArray(Or)?Or:getTicksOfAxis(hr,!0).map(function(Pr){return Pr.coordinate}),polarRadius:Array.isArray(Dr)?Dr:getTicksOfAxis(mr,!0).map(function(Pr){return Pr.coordinate}),cx:pr,cy:wr,innerRadius:Ar,outerRadius:Rr,key:Nr.key||"polar-grid",radialLines:jr})}),_defineProperty$1(_assertThisInitialized(Ir),"renderLegend",function(){var Nr=Ir.state.formattedGraphicalItems,Lr=Ir.props,jr=Lr.children,Or=Lr.width,Dr=Lr.height,Cr=Ir.props.margin||{},Tr=Or-(Cr.left||0)-(Cr.right||0),yr=getLegendProps({children:jr,formattedGraphicalItems:Nr,legendWidth:Tr,legendContent:ur});if(!yr)return null;var mr=yr.item,hr=_objectWithoutProperties(yr,_excluded);return reactExports.cloneElement(mr,_objectSpread(_objectSpread({},hr),{},{chartWidth:Or,chartHeight:Dr,margin:Cr,onBBoxUpdate:Ir.handleLegendBBoxUpdate}))}),_defineProperty$1(_assertThisInitialized(Ir),"renderTooltip",function(){var Nr,Lr=Ir.props,jr=Lr.children,Or=Lr.accessibilityLayer,Dr=findChildByType(jr,Tooltip);if(!Dr)return null;var Cr=Ir.state,Tr=Cr.isTooltipActive,yr=Cr.activeCoordinate,mr=Cr.activePayload,hr=Cr.activeLabel,pr=Cr.offset,wr=(Nr=Dr.props.active)!==null&&Nr!==void 0?Nr:Tr;return reactExports.cloneElement(Dr,{viewBox:_objectSpread(_objectSpread({},pr),{},{x:pr.left,y:pr.top}),active:wr,label:hr,payload:wr?mr:[],coordinate:yr,accessibilityLayer:Or})}),_defineProperty$1(_assertThisInitialized(Ir),"renderBrush",function(Nr){var Lr=Ir.props,jr=Lr.margin,Or=Lr.data,Dr=Ir.state,Cr=Dr.offset,Tr=Dr.dataStartIndex,yr=Dr.dataEndIndex,mr=Dr.updateId;return reactExports.cloneElement(Nr,{key:Nr.key||"_recharts-brush",onChange:combineEventHandlers(Ir.handleBrushChange,Nr.props.onChange),data:Or,x:isNumber(Nr.props.x)?Nr.props.x:Cr.left,y:isNumber(Nr.props.y)?Nr.props.y:Cr.top+Cr.height+Cr.brushBottom-(jr.bottom||0),width:isNumber(Nr.props.width)?Nr.props.width:Cr.width,startIndex:Tr,endIndex:yr,updateId:"brush-".concat(mr)})}),_defineProperty$1(_assertThisInitialized(Ir),"renderReferenceElement",function(Nr,Lr,jr){if(!Nr)return null;var Or=_assertThisInitialized(Ir),Dr=Or.clipPathId,Cr=Ir.state,Tr=Cr.xAxisMap,yr=Cr.yAxisMap,mr=Cr.offset,hr=Nr.props,pr=hr.xAxisId,wr=hr.yAxisId;return reactExports.cloneElement(Nr,{key:Nr.key||"".concat(Lr,"-").concat(jr),xAxis:Tr[pr],yAxis:yr[wr],viewBox:{x:mr.left,y:mr.top,width:mr.width,height:mr.height},clipPathId:Dr})}),_defineProperty$1(_assertThisInitialized(Ir),"renderActivePoints",function(Nr){var Lr=Nr.item,jr=Nr.activePoint,Or=Nr.basePoint,Dr=Nr.childIndex,Cr=Nr.isRange,Tr=[],yr=Lr.props.key,mr=Lr.item.props,hr=mr.activeDot,pr=mr.dataKey,wr=_objectSpread(_objectSpread({index:Dr,dataKey:pr,cx:jr.x,cy:jr.y,r:4,fill:getMainColorOfGraphicItem(Lr.item),strokeWidth:2,stroke:"#fff",payload:jr.payload,value:jr.value,key:"".concat(yr,"-activePoint-").concat(Dr)},filterProps(hr,!1)),adaptEventHandlers(hr));return Tr.push($r.renderActiveDot(hr,wr)),Or?Tr.push($r.renderActiveDot(hr,_objectSpread(_objectSpread({},wr),{},{cx:Or.x,cy:Or.y,key:"".concat(yr,"-basePoint-").concat(Dr)}))):Cr&&Tr.push(null),Tr}),_defineProperty$1(_assertThisInitialized(Ir),"renderGraphicChild",function(Nr,Lr,jr){var Or=Ir.filterFormatItem(Nr,Lr,jr);if(!Or)return null;var Dr=Ir.getTooltipEventType(),Cr=Ir.state,Tr=Cr.isTooltipActive,yr=Cr.tooltipAxis,mr=Cr.activeTooltipIndex,hr=Cr.activeLabel,pr=Ir.props.children,wr=findChildByType(pr,Tooltip),Ar=Or.props,Rr=Ar.points,Pr=Ar.isRange,Sr=Ar.baseLine,Mr=Or.item.props,Br=Mr.activeDot,Ur=Mr.hide,Jr=Mr.activeBar,qr=Mr.activeShape,zr=!!(!Ur&&Tr&&wr&&(Br||Jr||qr)),sn={};Dr!=="axis"&&wr&&wr.props.trigger==="click"?sn={onClick:combineEventHandlers(Ir.handleItemMouseEnter,Nr.props.onClick)}:Dr!=="axis"&&(sn={onMouseLeave:combineEventHandlers(Ir.handleItemMouseLeave,Nr.props.onMouseLeave),onMouseEnter:combineEventHandlers(Ir.handleItemMouseEnter,Nr.props.onMouseEnter)});var rn=reactExports.cloneElement(Nr,_objectSpread(_objectSpread({},Or.props),sn));function tn(zn){return typeof yr.dataKey=="function"?yr.dataKey(zn.payload):null}if(zr)if(mr>=0){var dn,Yr;if(yr.dataKey&&!yr.allowDuplicatedCategory){var Vr=typeof yr.dataKey=="function"?tn:"payload.".concat(yr.dataKey.toString());dn=findEntryInArray(Rr,Vr,hr),Yr=Pr&&Sr&&findEntryInArray(Sr,Vr,hr)}else dn=Rr?.[mr],Yr=Pr&&Sr&&Sr[mr];if(qr||Jr){var Qr=Nr.props.activeIndex!==void 0?Nr.props.activeIndex:mr;return[reactExports.cloneElement(Nr,_objectSpread(_objectSpread(_objectSpread({},Or.props),sn),{},{activeIndex:Qr})),null,null]}if(!isNil$1(dn))return[rn].concat(_toConsumableArray(Ir.renderActivePoints({item:Or,activePoint:dn,basePoint:Yr,childIndex:mr,isRange:Pr})))}else{var un,yn=(un=Ir.getItemByXY(Ir.state.activeCoordinate))!==null&&un!==void 0?un:{graphicalItem:rn},An=yn.graphicalItem,Rn=An.item,On=Rn===void 0?Nr:Rn,xn=An.childIndex,Wn=_objectSpread(_objectSpread(_objectSpread({},Or.props),sn),{},{activeIndex:xn});return[reactExports.cloneElement(On,Wn),null,null]}return Pr?[rn,null,null]:[rn,null]}),_defineProperty$1(_assertThisInitialized(Ir),"renderCustomized",function(Nr,Lr,jr){return reactExports.cloneElement(Nr,_objectSpread(_objectSpread({key:"recharts-customized-".concat(jr)},Ir.props),Ir.state))}),_defineProperty$1(_assertThisInitialized(Ir),"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:Ir.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:Ir.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:Ir.renderBrush,once:!0},Bar:{handler:Ir.renderGraphicChild},Line:{handler:Ir.renderGraphicChild},Area:{handler:Ir.renderGraphicChild},Radar:{handler:Ir.renderGraphicChild},RadialBar:{handler:Ir.renderGraphicChild},Scatter:{handler:Ir.renderGraphicChild},Pie:{handler:Ir.renderGraphicChild},Funnel:{handler:Ir.renderGraphicChild},Tooltip:{handler:Ir.renderCursor,once:!0},PolarGrid:{handler:Ir.renderPolarGrid,once:!0},PolarAngleAxis:{handler:Ir.renderPolarAxis},PolarRadiusAxis:{handler:Ir.renderPolarAxis},Customized:{handler:Ir.renderCustomized}}),Ir.clipPathId="".concat((_r=Er.id)!==null&&_r!==void 0?_r:uniqueId("recharts"),"-clip"),Ir.throttleTriggeredAfterMouseMove=throttle$1(Ir.triggeredAfterMouseMove,(xr=Er.throttleDelay)!==null&&xr!==void 0?xr:1e3/60),Ir.state={},Ir}return _createClass($r,[{key:"componentDidMount",value:function(){var _r,xr;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_r=this.props.margin.left)!==null&&_r!==void 0?_r:0,top:(xr=this.props.margin.top)!==null&&xr!==void 0?xr:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _r=this.props,xr=_r.children,Ir=_r.data,Nr=_r.height,Lr=_r.layout,jr=findChildByType(xr,Tooltip);if(jr){var Or=jr.props.defaultIndex;if(!(typeof Or!="number"||Or<0||Or>this.state.tooltipTicks.length)){var Dr=this.state.tooltipTicks[Or]&&this.state.tooltipTicks[Or].value,Cr=getTooltipContent(this.state,Ir,Or,Dr),Tr=this.state.tooltipTicks[Or].coordinate,yr=(this.state.offset.top+Nr)/2,mr=Lr==="horizontal",hr=mr?{x:Tr,y:yr}:{y:Tr,x:yr},pr=this.state.formattedGraphicalItems.find(function(Ar){var Rr=Ar.item;return Rr.type.name==="Scatter"});pr&&(hr=_objectSpread(_objectSpread({},hr),pr.props.points[Or].tooltipPosition),Cr=pr.props.points[Or].tooltipPayload);var wr={activeTooltipIndex:Or,isTooltipActive:!0,activeLabel:Dr,activePayload:Cr,activeCoordinate:hr};this.setState(wr),this.renderCursor(jr),this.accessibilityManager.setIndex(Or)}}}},{key:"getSnapshotBeforeUpdate",value:function(_r,xr){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==xr.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_r.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_r.margin){var Ir,Nr;this.accessibilityManager.setDetails({offset:{left:(Ir=this.props.margin.left)!==null&&Ir!==void 0?Ir:0,top:(Nr=this.props.margin.top)!==null&&Nr!==void 0?Nr:0}})}return null}},{key:"componentDidUpdate",value:function(_r){isChildrenEqual([findChildByType(_r.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _r=findChildByType(this.props.children,Tooltip);if(_r&&typeof _r.props.shared=="boolean"){var xr=_r.props.shared?"axis":"item";return cr.indexOf(xr)>=0?xr:sr}return sr}},{key:"getMouseInfo",value:function(_r){if(!this.container)return null;var xr=this.container,Ir=xr.getBoundingClientRect(),Nr=getOffset(Ir),Lr={chartX:Math.round(_r.pageX-Nr.left),chartY:Math.round(_r.pageY-Nr.top)},jr=Ir.width/xr.offsetWidth||1,Or=this.inRange(Lr.chartX,Lr.chartY,jr);if(!Or)return null;var Dr=this.state,Cr=Dr.xAxisMap,Tr=Dr.yAxisMap,yr=this.getTooltipEventType();if(yr!=="axis"&&Cr&&Tr){var mr=getAnyElementOfObject(Cr).scale,hr=getAnyElementOfObject(Tr).scale,pr=mr&&mr.invert?mr.invert(Lr.chartX):null,wr=hr&&hr.invert?hr.invert(Lr.chartY):null;return _objectSpread(_objectSpread({},Lr),{},{xValue:pr,yValue:wr})}var Ar=getTooltipData(this.state,this.props.data,this.props.layout,Or);return Ar?_objectSpread(_objectSpread({},Lr),Ar):null}},{key:"inRange",value:function(_r,xr){var Ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Nr=this.props.layout,Lr=_r/Ir,jr=xr/Ir;if(Nr==="horizontal"||Nr==="vertical"){var Or=this.state.offset,Dr=Lr>=Or.left&&Lr<=Or.left+Or.width&&jr>=Or.top&&jr<=Or.top+Or.height;return Dr?{x:Lr,y:jr}:null}var Cr=this.state,Tr=Cr.angleAxisMap,yr=Cr.radiusAxisMap;if(Tr&&yr){var mr=getAnyElementOfObject(Tr);return inRangeOfSector({x:Lr,y:jr},mr)}return null}},{key:"parseEventsOfWrapper",value:function(){var _r=this.props.children,xr=this.getTooltipEventType(),Ir=findChildByType(_r,Tooltip),Nr={};Ir&&xr==="axis"&&(Ir.props.trigger==="click"?Nr={onClick:this.handleClick}:Nr={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var Lr=adaptEventHandlers(this.props,this.handleOuterEvent);return _objectSpread(_objectSpread({},Lr),Nr)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_r,xr,Ir){for(var Nr=this.state.formattedGraphicalItems,Lr=0,jr=Nr.length;Lr<jr;Lr++){var Or=Nr[Lr];if(Or.item===_r||Or.props.key===_r.key||xr===getDisplayName(Or.item.type)&&Ir===Or.childIndex)return Or}return null}},{key:"renderClipPath",value:function(){var _r=this.clipPathId,xr=this.state.offset,Ir=xr.left,Nr=xr.top,Lr=xr.height,jr=xr.width;return React$1.createElement("defs",null,React$1.createElement("clipPath",{id:_r},React$1.createElement("rect",{x:Ir,y:Nr,height:Lr,width:jr})))}},{key:"getXScales",value:function(){var _r=this.state.xAxisMap;return _r?Object.entries(_r).reduce(function(xr,Ir){var Nr=_slicedToArray(Ir,2),Lr=Nr[0],jr=Nr[1];return _objectSpread(_objectSpread({},xr),{},_defineProperty$1({},Lr,jr.scale))},{}):null}},{key:"getYScales",value:function(){var _r=this.state.yAxisMap;return _r?Object.entries(_r).reduce(function(xr,Ir){var Nr=_slicedToArray(Ir,2),Lr=Nr[0],jr=Nr[1];return _objectSpread(_objectSpread({},xr),{},_defineProperty$1({},Lr,jr.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_r){var xr;return(xr=this.state.xAxisMap)===null||xr===void 0||(xr=xr[_r])===null||xr===void 0?void 0:xr.scale}},{key:"getYScaleByAxisId",value:function(_r){var xr;return(xr=this.state.yAxisMap)===null||xr===void 0||(xr=xr[_r])===null||xr===void 0?void 0:xr.scale}},{key:"getItemByXY",value:function(_r){var xr=this.state,Ir=xr.formattedGraphicalItems,Nr=xr.activeItem;if(Ir&&Ir.length)for(var Lr=0,jr=Ir.length;Lr<jr;Lr++){var Or=Ir[Lr],Dr=Or.props,Cr=Or.item,Tr=getDisplayName(Cr.type);if(Tr==="Bar"){var yr=(Dr.data||[]).find(function(wr){return isInRectangle(_r,wr)});if(yr)return{graphicalItem:Or,payload:yr}}else if(Tr==="RadialBar"){var mr=(Dr.data||[]).find(function(wr){return inRangeOfSector(_r,wr)});if(mr)return{graphicalItem:Or,payload:mr}}else if(isFunnel(Or,Nr)||isPie(Or,Nr)||isScatter(Or,Nr)){var hr=getActiveShapeIndexForTooltip({graphicalItem:Or,activeTooltipItem:Nr,itemData:Cr.props.data}),pr=Cr.props.activeIndex===void 0?hr:Cr.props.activeIndex;return{graphicalItem:_objectSpread(_objectSpread({},Or),{},{childIndex:pr}),payload:isScatter(Or,Nr)?Cr.props.data[hr]:Or.props.data[hr]}}}return null}},{key:"render",value:function(){var _r=this;if(!validateWidthHeight(this))return null;var xr=this.props,Ir=xr.children,Nr=xr.className,Lr=xr.width,jr=xr.height,Or=xr.style,Dr=xr.compact,Cr=xr.title,Tr=xr.desc,yr=_objectWithoutProperties(xr,_excluded2),mr=filterProps(yr,!1);if(Dr)return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement(Surface,_extends({},mr,{width:Lr,height:jr,title:Cr,desc:Tr}),this.renderClipPath(),renderByOrder(Ir,this.renderMap)));if(this.props.accessibilityLayer){var hr,pr;mr.tabIndex=(hr=this.props.tabIndex)!==null&&hr!==void 0?hr:0,mr.role=(pr=this.props.role)!==null&&pr!==void 0?pr:"application",mr.onKeyDown=function(Ar){_r.accessibilityManager.keyboardEvent(Ar)},mr.onFocus=function(){_r.accessibilityManager.focus()}}var wr=this.parseEventsOfWrapper();return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement("div",_extends({className:clsx$1("recharts-wrapper",Nr),style:_objectSpread({position:"relative",cursor:"default",width:Lr,height:jr},Or)},wr,{ref:function(Rr){_r.container=Rr}}),React$1.createElement(Surface,_extends({},mr,{width:Lr,height:jr,title:Cr,desc:Tr,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(Ir,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),$r}(reactExports.Component),_defineProperty$1(rr,"displayName",nr),_defineProperty$1(rr,"defaultProps",_objectSpread({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},dr)),_defineProperty$1(rr,"getDerivedStateFromProps",function(vr,$r){var Er=vr.dataKey,_r=vr.data,xr=vr.children,Ir=vr.width,Nr=vr.height,Lr=vr.layout,jr=vr.stackOffset,Or=vr.margin,Dr=$r.dataStartIndex,Cr=$r.dataEndIndex;if($r.updateId===void 0){var Tr=createDefaultState(vr);return _objectSpread(_objectSpread(_objectSpread({},Tr),{},{updateId:0},br(_objectSpread(_objectSpread({props:vr},Tr),{},{updateId:0}),$r)),{},{prevDataKey:Er,prevData:_r,prevWidth:Ir,prevHeight:Nr,prevLayout:Lr,prevStackOffset:jr,prevMargin:Or,prevChildren:xr})}if(Er!==$r.prevDataKey||_r!==$r.prevData||Ir!==$r.prevWidth||Nr!==$r.prevHeight||Lr!==$r.prevLayout||jr!==$r.prevStackOffset||!shallowEqual(Or,$r.prevMargin)){var yr=createDefaultState(vr),mr={chartX:$r.chartX,chartY:$r.chartY,isTooltipActive:$r.isTooltipActive},hr=_objectSpread(_objectSpread({},getTooltipData($r,_r,Lr)),{},{updateId:$r.updateId+1}),pr=_objectSpread(_objectSpread(_objectSpread({},yr),mr),hr);return _objectSpread(_objectSpread(_objectSpread({},pr),br(_objectSpread({props:vr},pr),$r)),{},{prevDataKey:Er,prevData:_r,prevWidth:Ir,prevHeight:Nr,prevLayout:Lr,prevStackOffset:jr,prevMargin:Or,prevChildren:xr})}if(!isChildrenEqual(xr,$r.prevChildren)){var wr,Ar,Rr,Pr,Sr=findChildByType(xr,Brush),Mr=Sr&&(wr=(Ar=Sr.props)===null||Ar===void 0?void 0:Ar.startIndex)!==null&&wr!==void 0?wr:Dr,Br=Sr&&(Rr=(Pr=Sr.props)===null||Pr===void 0?void 0:Pr.endIndex)!==null&&Rr!==void 0?Rr:Cr,Ur=Mr!==Dr||Br!==Cr,Jr=!isNil$1(_r),qr=Jr&&!Ur?$r.updateId:$r.updateId+1;return _objectSpread(_objectSpread({updateId:qr},br(_objectSpread(_objectSpread({props:vr},$r),{},{updateId:qr,dataStartIndex:Mr,dataEndIndex:Br}),$r)),{},{prevChildren:xr,dataStartIndex:Mr,dataEndIndex:Br})}return null}),_defineProperty$1(rr,"renderActiveDot",function(vr,$r){var Er;return reactExports.isValidElement(vr)?Er=reactExports.cloneElement(vr,$r):isFunction$3(vr)?Er=vr($r):Er=React$1.createElement(Dot,$r),React$1.createElement(Layer,{className:"recharts-active-dot",key:$r.key},Er)}),rr},LineChart=generateCategoricalChart({chartName:"LineChart",GraphicalChild:Line,axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap});const Chart=({data:tr})=>jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:200,marginLeft:50,children:jsxRuntimeExports.jsxs(LineChart,{data:tr,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#333333"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",stroke:"#999999"}),jsxRuntimeExports.jsx(YAxis,{stroke:"#999999"}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"marketCap",stroke:"#ffa500",strokeWidth:2,dot:!1})]})}),Player=({selectedVideo:tr,currentPassesSold:er,marketCap:rr,onMint:nr,isMinting:ir,mintError:or,onBack:sr})=>{const[ar,cr]=reactExports.useState(!1),[lr,ur]=reactExports.useState([]);reactExports.useEffect(()=>{if(tr?.clubInfo){const dr=`minted_${tr.clubInfo.clubAddress}`,gr=localStorage.getItem(dr);if(gr)try{const{minted:vr}=JSON.parse(gr);cr(vr)}catch(vr){console.error("Error parsing minted status:",vr),cr(!1)}else cr(!1);const br=fr();ur(br)}},[tr,rr]);const fr=()=>{const dr=[],gr=parseFloat(rr?.replace(/[^0-9.-]+/g,"")||"0"),br=new Date;for(let vr=30;vr>=0;vr--){const $r=new Date(br);$r.setDate($r.getDate()-vr);const Er=.9+Math.random()*.2;dr.push({date:$r.toISOString().split("T")[0],marketCap:gr*Er*(30-vr)/30})}return dr};return tr?jsxRuntimeExports.jsxs("div",{className:"video-stream",children:[jsxRuntimeExports.jsxs("div",{className:"video-p-wrapper anim",style:{"--delay":".2s",display:"flex",alignItems:"center",margin:"20px",marginBottom:"-20px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{style:{margin:"0px",fontSize:"1rem"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#888",marginRight:"10px"},children:tr.clubInfo?.sport}),jsxRuntimeExports.jsx("span",{style:{margin:"5px 0",color:"#8889"},children:tr.clubInfo?.team})]}),jsxRuntimeExports.jsx("h1",{style:{color:"#fff",marginTop:"0px"},children:tr.clubInfo?.name})]}),jsxRuntimeExports.jsx("div",{className:"button-wrapper",style:{marginLeft:"auto"},children:jsxRuntimeExports.jsxs("button",{className:`like ${ar?"joined":"red"}`,onClick:nr,disabled:ir||ar,children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.85 2.5c.63 0 1.26.09 1.86.29 3.69 1.2 5.02 5.25 3.91 8.79a12.728 12.728 0 01-3.01 4.81 38.456 38.456 0 01-6.33 4.96l-.25.15-.26-.16a38.093 38.093 0 01-6.37-4.96 12.933 12.933 0 01-3.01-4.8c-1.13-3.54.2-7.59 3.93-8.81.29-.1.59-.17.89-.21h.12c.28-.04.56-.06.84-.06h.11c.63.02 1.24.13 1.83.33h.06c.04.02.07.04.09.06.22.07.43.15.63.26l.38.17c.092.05.195.125.284.19.056.04.107.077.146.1l.05.03c.085.05.175.102.25.16a6.263 6.263 0 013.85-1.3zm2.66 7.2c.41-.01.76-.34.79-.76v-.12a3.3 3.3 0 00-2.11-3.16.8.8 0 00-1.01.5c-.14.42.08.88.5 1.03.64.24 1.07.87 1.07 1.57v.03a.86.86 0 00.19.62c.14.17.35.27.57.29z"})}),ar?"Joined":ir?"Minting...":"Mint Pass"]})})]}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"-40px",marginTop:"30px"},children:jsxRuntimeExports.jsx(Chart,{data:lr})}),jsxRuntimeExports.jsx("div",{className:"stats-section anim",style:{"--delay":".3s"},children:jsxRuntimeExports.jsx("div",{className:"stats-container",children:jsxRuntimeExports.jsx("div",{className:"stats-wrapper",children:jsxRuntimeExports.jsxs("div",{className:"stats-columns",children:[jsxRuntimeExports.jsx("div",{className:"stats-column",children:jsxRuntimeExports.jsx("div",{className:"stats-card",children:jsxRuntimeExports.jsxs("div",{className:"stats-content",children:[jsxRuntimeExports.jsx("h4",{className:"stats-title",children:"Members"}),jsxRuntimeExports.jsx("h3",{className:"stats-number",children:er?.toString()??"Loading..."}),jsxRuntimeExports.jsx("p",{className:"stats-percentage stats-increase",children:"▲ 57.1%"})]})})}),jsxRuntimeExports.jsx("div",{className:"stats-column",children:jsxRuntimeExports.jsx("div",{className:"stats-card",children:jsxRuntimeExports.jsxs("div",{className:"stats-content",children:[jsxRuntimeExports.jsx("h4",{className:"stats-title",children:"M.CAP"}),jsxRuntimeExports.jsx("h3",{className:"stats-number",children:rr??"Loading..."}),jsxRuntimeExports.jsx("p",{className:"stats-percentage stats-increase",children:"▲ 42.8%"})]})})}),jsxRuntimeExports.jsx("div",{className:"stats-column",children:jsxRuntimeExports.jsx("div",{className:"stats-card",children:jsxRuntimeExports.jsxs("div",{className:"stats-content",children:[jsxRuntimeExports.jsx("h4",{className:"stats-title",children:"Max Supply"}),jsxRuntimeExports.jsx("h3",{className:"stats-number",children:tr.clubInfo?.maxSupply.toString()??"N/A"}),jsxRuntimeExports.jsx("p",{className:"stats-percentage stats-increase",children:"▲ 0%"})]})})}),jsxRuntimeExports.jsx("div",{className:"stats-column",children:jsxRuntimeExports.jsx("div",{className:"stats-card",children:jsxRuntimeExports.jsxs("div",{className:"stats-content",children:[jsxRuntimeExports.jsx("h4",{className:"stats-title",children:"Volume"}),jsxRuntimeExports.jsx("h3",{className:"stats-number",children:"1 ETH"}),jsxRuntimeExports.jsx("p",{className:"stats-percentage stats-increase",children:"▲ 0%"})]})})})]})})})})]}):null};var __awaiter=function(tr,er,rr,nr){function ir(or){return or instanceof rr?or:new rr(function(sr){sr(or)})}return new(rr||(rr=Promise))(function(or,sr){function ar(ur){try{lr(nr.next(ur))}catch(fr){sr(fr)}}function cr(ur){try{lr(nr.throw(ur))}catch(fr){sr(fr)}}function lr(ur){ur.done?or(ur.value):ir(ur.value).then(ar,cr)}lr((nr=nr.apply(tr,er||[])).next())})},__rest$1=function(tr,er){var rr={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&er.indexOf(nr)<0&&(rr[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)er.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(rr[nr[ir]]=tr[nr[ir]]);return rr};const b64$1=new Array(64),s64$1=new Array(123);for(let tr=0;tr<64;)s64$1[b64$1[tr]=tr<26?tr+65:tr<52?tr+71:tr<62?tr-4:tr-59|43]=tr++;function b64Encode(tr,er,rr){let nr=null;const ir=[];let or=0,sr=0,ar;for(;er<rr;){const cr=tr[er++];switch(sr){case 0:ir[or++]=b64$1[cr>>2],ar=(cr&3)<<4,sr=1;break;case 1:ir[or++]=b64$1[ar|cr>>4],ar=(cr&15)<<2,sr=2;break;case 2:ir[or++]=b64$1[ar|cr>>6],ir[or++]=b64$1[cr&63],sr=0;break}or>8191&&((nr||(nr=[])).push(String.fromCharCode.apply(String,ir)),or=0)}return sr&&(ir[or++]=b64$1[ar],ir[or++]=61,sr===1&&(ir[or++]=61)),nr?(or&&nr.push(String.fromCharCode.apply(String,ir.slice(0,or))),nr.join("")):String.fromCharCode.apply(String,ir.slice(0,or))}const invalidEncoding="invalid encoding";function b64Decode(tr){const er=[];let rr=0,nr=0,ir;for(let or=0;or<tr.length;){let sr=tr.charCodeAt(or++);if(sr===61&&nr>1)break;if((sr=s64$1[sr])===void 0)throw Error(invalidEncoding);switch(nr){case 0:ir=sr,nr=1;break;case 1:er[rr++]=ir<<2|(sr&48)>>4,ir=sr,nr=2;break;case 2:er[rr++]=(ir&15)<<4|(sr&60)>>2,ir=sr,nr=3;break;case 3:er[rr++]=(ir&3)<<6|sr,nr=0;break}}if(nr===1)throw Error(invalidEncoding);return new Uint8Array(er)}function replacer(tr,er){return er&&er.constructor===Uint8Array?b64Encode(er,0,er.length):er}function fetchReq(tr,er){const rr=er||{},{pathPrefix:nr}=rr,ir=__rest$1(rr,["pathPrefix"]),or=nr?`${nr}${tr}`:tr;return fetch(or,ir).then(sr=>sr.json().then(ar=>{if(!sr.ok)throw ar;return ar}))}function fetchStreamingRequest(tr,er,rr){return __awaiter(this,void 0,void 0,function*(){const nr=rr||{},{pathPrefix:ir}=nr,or=__rest$1(nr,["pathPrefix"]),sr=ir?`${ir}${tr}`:tr,ar=yield fetch(sr,or);if(!ar.ok){const cr=yield ar.json(),lr=cr.error&&cr.error.message?cr.error.message:"";throw new Error(lr)}if(!ar.body)throw new Error("response doesnt have a body");yield ar.body.pipeThrough(new TextDecoderStream).pipeThrough(getNewLineDelimitedJSONDecodingStream()).pipeTo(getNotifyEntityArrivalSink(cr=>{er&&er(cr)}))})}function getNewLineDelimitedJSONDecodingStream(){return new TransformStream({start(tr){tr.buf="",tr.pos=0},transform(tr,er){for(er.buf===void 0&&(er.buf=""),er.pos===void 0&&(er.pos=0),er.buf+=tr;er.pos<er.buf.length;)if(er.buf[er.pos]===`
`){const rr=er.buf.substring(0,er.pos),nr=JSON.parse(rr);er.enqueue(nr.result),er.buf=er.buf.substring(er.pos+1),er.pos=0}else++er.pos}})}function getNotifyEntityArrivalSink(tr){return new WritableStream({write(er){tr(er)}})}function isPlainObject$2(tr){const er=Object.prototype.toString.call(tr).slice(8,-1)==="Object";if(!(tr!==null&&er)||!er)return!1;const nr=Object.getPrototypeOf(tr);return typeof nr=="object"&&nr.constructor===Object.prototype.constructor}function isPrimitive(tr){return["string","number","boolean"].some(er=>typeof tr===er)}function isZeroValuePrimitive(tr){return tr===!1||tr===0||tr===""}function flattenRequestPayload(tr,er=""){return Object.keys(tr).reduce((rr,nr)=>{const ir=tr[nr],or=er?[er,nr].join("."):nr,sr=Array.isArray(ir)&&ir.every(lr=>isPrimitive(lr))&&ir.length>0,ar=isPrimitive(ir)&&!isZeroValuePrimitive(ir);let cr={};return isPlainObject$2(ir)?cr=flattenRequestPayload(ir,or):(ar||sr)&&(cr={[or]:ir}),Object.assign(Object.assign({},rr),cr)},{})}function renderURLSearchParams(tr,er=[]){const rr=flattenRequestPayload(tr),nr=Object.keys(rr).reduce((ir,or)=>{const sr=rr[or];return er.find(ar=>ar===or)?ir:Array.isArray(sr)?[...ir,...sr.map(ar=>[or,ar.toString()])]:ir=[...ir,[or,sr.toString()]]},[]);return new URLSearchParams(nr).toString()}const r$6=Object.freeze(Object.defineProperty({__proto__:null,b64Decode,b64Encode,fetchReq,fetchStreamingRequest,renderURLSearchParams,replacer},Symbol.toStringTag,{value:"Module"}));var SortDirection$2;(function(tr){tr.SORT_DIRECTION_UNSPECIFIED="SORT_DIRECTION_UNSPECIFIED",tr.SORT_DIRECTION_ASCENDING="SORT_DIRECTION_ASCENDING",tr.SORT_DIRECTION_DESCENDING="SORT_DIRECTION_DESCENDING"})(SortDirection$2||(SortDirection$2={}));class MessageApi{static Publish(er,rr){return fetchReq("/message/v1/publish",Object.assign(Object.assign({},rr),{method:"POST",body:JSON.stringify(er,replacer)}))}static Subscribe(er,rr,nr){return fetchStreamingRequest("/message/v1/subscribe",rr,Object.assign(Object.assign({},nr),{method:"POST",body:JSON.stringify(er,replacer)}))}static SubscribeAll(er,rr,nr){return fetchStreamingRequest("/message/v1/subscribe-all",rr,Object.assign(Object.assign({},nr),{method:"POST",body:JSON.stringify(er,replacer)}))}static Query(er,rr){return fetchReq("/message/v1/query",Object.assign(Object.assign({},rr),{method:"POST",body:JSON.stringify(er,replacer)}))}static BatchQuery(er,rr){return fetchReq("/message/v1/batch-query",Object.assign(Object.assign({},rr),{method:"POST",body:JSON.stringify(er,replacer)}))}}const d$2=Object.freeze(Object.defineProperty({__proto__:null,MessageApi,get SortDirection(){return SortDirection$2}},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2009 The Closure Library Authors
 * Copyright 2020 Daniel Wirtz / The long.js Authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * SPDX-License-Identifier: Apache-2.0
 */var wasm$1=null;try{wasm$1=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(tr,er,rr){this.low=tr|0,this.high=er|0,this.unsigned=!!rr}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(tr){return(tr&&tr.__isLong__)===!0}function ctz32(tr){var er=Math.clz32(tr&-tr);return tr?31-er:er}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(tr,er){var rr,nr,ir;return er?(tr>>>=0,(ir=0<=tr&&tr<256)&&(nr=UINT_CACHE[tr],nr)?nr:(rr=fromBits(tr,0,!0),ir&&(UINT_CACHE[tr]=rr),rr)):(tr|=0,(ir=-128<=tr&&tr<128)&&(nr=INT_CACHE[tr],nr)?nr:(rr=fromBits(tr,tr<0?-1:0,!1),ir&&(INT_CACHE[tr]=rr),rr))}Long.fromInt=fromInt;function fromNumber(tr,er){if(isNaN(tr))return er?UZERO:ZERO;if(er){if(tr<0)return UZERO;if(tr>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(tr<=-TWO_PWR_63_DBL)return MIN_VALUE;if(tr+1>=TWO_PWR_63_DBL)return MAX_VALUE}return tr<0?fromNumber(-tr,er).neg():fromBits(tr%TWO_PWR_32_DBL|0,tr/TWO_PWR_32_DBL|0,er)}Long.fromNumber=fromNumber;function fromBits(tr,er,rr){return new Long(tr,er,rr)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(tr,er,rr){if(tr.length===0)throw Error("empty string");if(typeof er=="number"?(rr=er,er=!1):er=!!er,tr==="NaN"||tr==="Infinity"||tr==="+Infinity"||tr==="-Infinity")return er?UZERO:ZERO;if(rr=rr||10,rr<2||36<rr)throw RangeError("radix");var nr;if((nr=tr.indexOf("-"))>0)throw Error("interior hyphen");if(nr===0)return fromString(tr.substring(1),er,rr).neg();for(var ir=fromNumber(pow_dbl(rr,8)),or=ZERO,sr=0;sr<tr.length;sr+=8){var ar=Math.min(8,tr.length-sr),cr=parseInt(tr.substring(sr,sr+ar),rr);if(ar<8){var lr=fromNumber(pow_dbl(rr,ar));or=or.mul(lr).add(fromNumber(cr))}else or=or.mul(ir),or=or.add(fromNumber(cr))}return or.unsigned=er,or}Long.fromString=fromString;function fromValue(tr,er){return typeof tr=="number"?fromNumber(tr,er):typeof tr=="string"?fromString(tr,er):fromBits(tr.low,tr.high,typeof er=="boolean"?er:tr.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(er){if(er=er||10,er<2||36<er)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var rr=fromNumber(er),nr=this.div(rr),ir=nr.mul(rr).sub(this);return nr.toString(er)+ir.toInt().toString(er)}else return"-"+this.neg().toString(er);for(var or=fromNumber(pow_dbl(er,6),this.unsigned),sr=this,ar="";;){var cr=sr.div(or),lr=sr.sub(cr.mul(or)).toInt()>>>0,ur=lr.toString(er);if(sr=cr,sr.isZero())return ur+ar;for(;ur.length<6;)ur="0"+ur;ar=""+ur+ar}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var er=this.high!=0?this.high:this.low,rr=31;rr>0&&!(er&1<<rr);rr--);return this.high!=0?rr+33:rr+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(er){return isLong(er)||(er=fromValue(er)),this.unsigned!==er.unsigned&&this.high>>>31===1&&er.high>>>31===1?!1:this.high===er.high&&this.low===er.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(er){return!this.eq(er)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(er){return this.comp(er)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(er){return this.comp(er)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(er){return this.comp(er)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(er){return this.comp(er)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(er){if(isLong(er)||(er=fromValue(er)),this.eq(er))return 0;var rr=this.isNegative(),nr=er.isNegative();return rr&&!nr?-1:!rr&&nr?1:this.unsigned?er.high>>>0>this.high>>>0||er.high===this.high&&er.low>>>0>this.low>>>0?-1:1:this.sub(er).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(er){isLong(er)||(er=fromValue(er));var rr=this.high>>>16,nr=this.high&65535,ir=this.low>>>16,or=this.low&65535,sr=er.high>>>16,ar=er.high&65535,cr=er.low>>>16,lr=er.low&65535,ur=0,fr=0,dr=0,gr=0;return gr+=or+lr,dr+=gr>>>16,gr&=65535,dr+=ir+cr,fr+=dr>>>16,dr&=65535,fr+=nr+ar,ur+=fr>>>16,fr&=65535,ur+=rr+sr,ur&=65535,fromBits(dr<<16|gr,ur<<16|fr,this.unsigned)};LongPrototype.subtract=function(er){return isLong(er)||(er=fromValue(er)),this.add(er.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(er){if(this.isZero())return this;if(isLong(er)||(er=fromValue(er)),wasm$1){var rr=wasm$1.mul(this.low,this.high,er.low,er.high);return fromBits(rr,wasm$1.get_high(),this.unsigned)}if(er.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return er.isOdd()?MIN_VALUE:ZERO;if(er.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return er.isNegative()?this.neg().mul(er.neg()):this.neg().mul(er).neg();if(er.isNegative())return this.mul(er.neg()).neg();if(this.lt(TWO_PWR_24)&&er.lt(TWO_PWR_24))return fromNumber(this.toNumber()*er.toNumber(),this.unsigned);var nr=this.high>>>16,ir=this.high&65535,or=this.low>>>16,sr=this.low&65535,ar=er.high>>>16,cr=er.high&65535,lr=er.low>>>16,ur=er.low&65535,fr=0,dr=0,gr=0,br=0;return br+=sr*ur,gr+=br>>>16,br&=65535,gr+=or*ur,dr+=gr>>>16,gr&=65535,gr+=sr*lr,dr+=gr>>>16,gr&=65535,dr+=ir*ur,fr+=dr>>>16,dr&=65535,dr+=or*lr,fr+=dr>>>16,dr&=65535,dr+=sr*cr,fr+=dr>>>16,dr&=65535,fr+=nr*ur+ir*lr+or*cr+sr*ar,fr&=65535,fromBits(gr<<16|br,fr<<16|dr,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(er){if(isLong(er)||(er=fromValue(er)),er.isZero())throw Error("division by zero");if(wasm$1){if(!this.unsigned&&this.high===-2147483648&&er.low===-1&&er.high===-1)return this;var rr=(this.unsigned?wasm$1.div_u:wasm$1.div_s)(this.low,this.high,er.low,er.high);return fromBits(rr,wasm$1.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var nr,ir,or;if(this.unsigned){if(er.unsigned||(er=er.toUnsigned()),er.gt(this))return UZERO;if(er.gt(this.shru(1)))return UONE;or=UZERO}else{if(this.eq(MIN_VALUE)){if(er.eq(ONE)||er.eq(NEG_ONE))return MIN_VALUE;if(er.eq(MIN_VALUE))return ONE;var sr=this.shr(1);return nr=sr.div(er).shl(1),nr.eq(ZERO)?er.isNegative()?ONE:NEG_ONE:(ir=this.sub(er.mul(nr)),or=nr.add(ir.div(er)),or)}else if(er.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return er.isNegative()?this.neg().div(er.neg()):this.neg().div(er).neg();if(er.isNegative())return this.div(er.neg()).neg();or=ZERO}for(ir=this;ir.gte(er);){nr=Math.max(1,Math.floor(ir.toNumber()/er.toNumber()));for(var ar=Math.ceil(Math.log(nr)/Math.LN2),cr=ar<=48?1:pow_dbl(2,ar-48),lr=fromNumber(nr),ur=lr.mul(er);ur.isNegative()||ur.gt(ir);)nr-=cr,lr=fromNumber(nr,this.unsigned),ur=lr.mul(er);lr.isZero()&&(lr=ONE),or=or.add(lr),ir=ir.sub(ur)}return or};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(er){if(isLong(er)||(er=fromValue(er)),wasm$1){var rr=(this.unsigned?wasm$1.rem_u:wasm$1.rem_s)(this.low,this.high,er.low,er.high);return fromBits(rr,wasm$1.get_high(),this.unsigned)}return this.sub(this.div(er).mul(er))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(er){return isLong(er)||(er=fromValue(er)),fromBits(this.low&er.low,this.high&er.high,this.unsigned)};LongPrototype.or=function(er){return isLong(er)||(er=fromValue(er)),fromBits(this.low|er.low,this.high|er.high,this.unsigned)};LongPrototype.xor=function(er){return isLong(er)||(er=fromValue(er)),fromBits(this.low^er.low,this.high^er.high,this.unsigned)};LongPrototype.shiftLeft=function(er){return isLong(er)&&(er=er.toInt()),(er&=63)===0?this:er<32?fromBits(this.low<<er,this.high<<er|this.low>>>32-er,this.unsigned):fromBits(0,this.low<<er-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(er){return isLong(er)&&(er=er.toInt()),(er&=63)===0?this:er<32?fromBits(this.low>>>er|this.high<<32-er,this.high>>er,this.unsigned):fromBits(this.high>>er-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(er){return isLong(er)&&(er=er.toInt()),(er&=63)===0?this:er<32?fromBits(this.low>>>er|this.high<<32-er,this.high>>>er,this.unsigned):er===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>er-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(er){var rr;return isLong(er)&&(er=er.toInt()),(er&=63)===0?this:er===32?fromBits(this.high,this.low,this.unsigned):er<32?(rr=32-er,fromBits(this.low<<er|this.high>>>rr,this.high<<er|this.low>>>rr,this.unsigned)):(er-=32,rr=32-er,fromBits(this.high<<er|this.low>>>rr,this.low<<er|this.high>>>rr,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(er){var rr;return isLong(er)&&(er=er.toInt()),(er&=63)===0?this:er===32?fromBits(this.high,this.low,this.unsigned):er<32?(rr=32-er,fromBits(this.high<<rr|this.low>>>er,this.low<<rr|this.high>>>er,this.unsigned)):(er-=32,rr=32-er,fromBits(this.low<<rr|this.high>>>er,this.high<<rr|this.low>>>er,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(er){return er?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var er=this.high,rr=this.low;return[rr&255,rr>>>8&255,rr>>>16&255,rr>>>24,er&255,er>>>8&255,er>>>16&255,er>>>24]};LongPrototype.toBytesBE=function(){var er=this.high,rr=this.low;return[er>>>24,er>>>16&255,er>>>8&255,er&255,rr>>>24,rr>>>16&255,rr>>>8&255,rr&255]};Long.fromBytes=function(er,rr,nr){return nr?Long.fromBytesLE(er,rr):Long.fromBytesBE(er,rr)};Long.fromBytesLE=function(er,rr){return new Long(er[0]|er[1]<<8|er[2]<<16|er[3]<<24,er[4]|er[5]<<8|er[6]<<16|er[7]<<24,rr)};Long.fromBytesBE=function(er,rr){return new Long(er[4]<<24|er[5]<<16|er[6]<<8|er[7],er[0]<<24|er[1]<<16|er[2]<<8|er[3],rr)};var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(tr,er){for(var rr=new Array(arguments.length-1),nr=0,ir=2,or=!0;ir<arguments.length;)rr[nr++]=arguments[ir++];return new Promise(function(ar,cr){rr[nr]=function(ur){if(or)if(or=!1,ur)cr(ur);else{for(var fr=new Array(arguments.length-1),dr=0;dr<fr.length;)fr[dr++]=arguments[dr];ar.apply(null,fr)}};try{tr.apply(er||null,rr)}catch(lr){or&&(or=!1,cr(lr))}})}var base64$5={};(function(tr){var er=tr;er.length=function(ar){var cr=ar.length;if(!cr)return 0;for(var lr=0;--cr%4>1&&ar.charAt(cr)==="=";)++lr;return Math.ceil(ar.length*3)/4-lr};for(var rr=new Array(64),nr=new Array(123),ir=0;ir<64;)nr[rr[ir]=ir<26?ir+65:ir<52?ir+71:ir<62?ir-4:ir-59|43]=ir++;er.encode=function(ar,cr,lr){for(var ur=null,fr=[],dr=0,gr=0,br;cr<lr;){var vr=ar[cr++];switch(gr){case 0:fr[dr++]=rr[vr>>2],br=(vr&3)<<4,gr=1;break;case 1:fr[dr++]=rr[br|vr>>4],br=(vr&15)<<2,gr=2;break;case 2:fr[dr++]=rr[br|vr>>6],fr[dr++]=rr[vr&63],gr=0;break}dr>8191&&((ur||(ur=[])).push(String.fromCharCode.apply(String,fr)),dr=0)}return gr&&(fr[dr++]=rr[br],fr[dr++]=61,gr===1&&(fr[dr++]=61)),ur?(dr&&ur.push(String.fromCharCode.apply(String,fr.slice(0,dr))),ur.join("")):String.fromCharCode.apply(String,fr.slice(0,dr))};var or="invalid encoding";er.decode=function(ar,cr,lr){for(var ur=lr,fr=0,dr,gr=0;gr<ar.length;){var br=ar.charCodeAt(gr++);if(br===61&&fr>1)break;if((br=nr[br])===void 0)throw Error(or);switch(fr){case 0:dr=br,fr=1;break;case 1:cr[lr++]=dr<<2|(br&48)>>4,dr=br,fr=2;break;case 2:cr[lr++]=(dr&15)<<4|(br&60)>>2,dr=br,fr=3;break;case 3:cr[lr++]=(dr&3)<<6|br,fr=0;break}}if(fr===1)throw Error(or);return lr-ur},er.test=function(ar){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ar)}})(base64$5);var eventemitter=EventEmitter$2;function EventEmitter$2(){this._listeners={}}EventEmitter$2.prototype.on=function(er,rr,nr){return(this._listeners[er]||(this._listeners[er]=[])).push({fn:rr,ctx:nr||this}),this};EventEmitter$2.prototype.off=function(er,rr){if(er===void 0)this._listeners={};else if(rr===void 0)this._listeners[er]=[];else for(var nr=this._listeners[er],ir=0;ir<nr.length;)nr[ir].fn===rr?nr.splice(ir,1):++ir;return this};EventEmitter$2.prototype.emit=function(er){var rr=this._listeners[er];if(rr){for(var nr=[],ir=1;ir<arguments.length;)nr.push(arguments[ir++]);for(ir=0;ir<rr.length;)rr[ir].fn.apply(rr[ir++].ctx,nr)}return this};var float=factory(factory);function factory(tr){return typeof Float32Array<"u"?function(){var er=new Float32Array([-0]),rr=new Uint8Array(er.buffer),nr=rr[3]===128;function ir(cr,lr,ur){er[0]=cr,lr[ur]=rr[0],lr[ur+1]=rr[1],lr[ur+2]=rr[2],lr[ur+3]=rr[3]}function or(cr,lr,ur){er[0]=cr,lr[ur]=rr[3],lr[ur+1]=rr[2],lr[ur+2]=rr[1],lr[ur+3]=rr[0]}tr.writeFloatLE=nr?ir:or,tr.writeFloatBE=nr?or:ir;function sr(cr,lr){return rr[0]=cr[lr],rr[1]=cr[lr+1],rr[2]=cr[lr+2],rr[3]=cr[lr+3],er[0]}function ar(cr,lr){return rr[3]=cr[lr],rr[2]=cr[lr+1],rr[1]=cr[lr+2],rr[0]=cr[lr+3],er[0]}tr.readFloatLE=nr?sr:ar,tr.readFloatBE=nr?ar:sr}():function(){function er(nr,ir,or,sr){var ar=ir<0?1:0;if(ar&&(ir=-ir),ir===0)nr(1/ir>0?0:2147483648,or,sr);else if(isNaN(ir))nr(2143289344,or,sr);else if(ir>34028234663852886e22)nr((ar<<31|2139095040)>>>0,or,sr);else if(ir<11754943508222875e-54)nr((ar<<31|Math.round(ir/1401298464324817e-60))>>>0,or,sr);else{var cr=Math.floor(Math.log(ir)/Math.LN2),lr=Math.round(ir*Math.pow(2,-cr)*8388608)&8388607;nr((ar<<31|cr+127<<23|lr)>>>0,or,sr)}}tr.writeFloatLE=er.bind(null,writeUintLE),tr.writeFloatBE=er.bind(null,writeUintBE);function rr(nr,ir,or){var sr=nr(ir,or),ar=(sr>>31)*2+1,cr=sr>>>23&255,lr=sr&8388607;return cr===255?lr?NaN:ar*(1/0):cr===0?ar*1401298464324817e-60*lr:ar*Math.pow(2,cr-150)*(lr+8388608)}tr.readFloatLE=rr.bind(null,readUintLE),tr.readFloatBE=rr.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var er=new Float64Array([-0]),rr=new Uint8Array(er.buffer),nr=rr[7]===128;function ir(cr,lr,ur){er[0]=cr,lr[ur]=rr[0],lr[ur+1]=rr[1],lr[ur+2]=rr[2],lr[ur+3]=rr[3],lr[ur+4]=rr[4],lr[ur+5]=rr[5],lr[ur+6]=rr[6],lr[ur+7]=rr[7]}function or(cr,lr,ur){er[0]=cr,lr[ur]=rr[7],lr[ur+1]=rr[6],lr[ur+2]=rr[5],lr[ur+3]=rr[4],lr[ur+4]=rr[3],lr[ur+5]=rr[2],lr[ur+6]=rr[1],lr[ur+7]=rr[0]}tr.writeDoubleLE=nr?ir:or,tr.writeDoubleBE=nr?or:ir;function sr(cr,lr){return rr[0]=cr[lr],rr[1]=cr[lr+1],rr[2]=cr[lr+2],rr[3]=cr[lr+3],rr[4]=cr[lr+4],rr[5]=cr[lr+5],rr[6]=cr[lr+6],rr[7]=cr[lr+7],er[0]}function ar(cr,lr){return rr[7]=cr[lr],rr[6]=cr[lr+1],rr[5]=cr[lr+2],rr[4]=cr[lr+3],rr[3]=cr[lr+4],rr[2]=cr[lr+5],rr[1]=cr[lr+6],rr[0]=cr[lr+7],er[0]}tr.readDoubleLE=nr?sr:ar,tr.readDoubleBE=nr?ar:sr}():function(){function er(nr,ir,or,sr,ar,cr){var lr=sr<0?1:0;if(lr&&(sr=-sr),sr===0)nr(0,ar,cr+ir),nr(1/sr>0?0:2147483648,ar,cr+or);else if(isNaN(sr))nr(0,ar,cr+ir),nr(2146959360,ar,cr+or);else if(sr>17976931348623157e292)nr(0,ar,cr+ir),nr((lr<<31|2146435072)>>>0,ar,cr+or);else{var ur;if(sr<22250738585072014e-324)ur=sr/5e-324,nr(ur>>>0,ar,cr+ir),nr((lr<<31|ur/4294967296)>>>0,ar,cr+or);else{var fr=Math.floor(Math.log(sr)/Math.LN2);fr===1024&&(fr=1023),ur=sr*Math.pow(2,-fr),nr(ur*4503599627370496>>>0,ar,cr+ir),nr((lr<<31|fr+1023<<20|ur*1048576&1048575)>>>0,ar,cr+or)}}}tr.writeDoubleLE=er.bind(null,writeUintLE,0,4),tr.writeDoubleBE=er.bind(null,writeUintBE,4,0);function rr(nr,ir,or,sr,ar){var cr=nr(sr,ar+ir),lr=nr(sr,ar+or),ur=(lr>>31)*2+1,fr=lr>>>20&2047,dr=4294967296*(lr&1048575)+cr;return fr===2047?dr?NaN:ur*(1/0):fr===0?ur*5e-324*dr:ur*Math.pow(2,fr-1075)*(dr+4503599627370496)}tr.readDoubleLE=rr.bind(null,readUintLE,0,4),tr.readDoubleBE=rr.bind(null,readUintBE,4,0)}(),tr}function writeUintLE(tr,er,rr){er[rr]=tr&255,er[rr+1]=tr>>>8&255,er[rr+2]=tr>>>16&255,er[rr+3]=tr>>>24}function writeUintBE(tr,er,rr){er[rr]=tr>>>24,er[rr+1]=tr>>>16&255,er[rr+2]=tr>>>8&255,er[rr+3]=tr&255}function readUintLE(tr,er){return(tr[er]|tr[er+1]<<8|tr[er+2]<<16|tr[er+3]<<24)>>>0}function readUintBE(tr,er){return(tr[er]<<24|tr[er+1]<<16|tr[er+2]<<8|tr[er+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(tr){}return null}var utf8$2={};(function(tr){var er=tr;er.length=function(nr){for(var ir=0,or=0,sr=0;sr<nr.length;++sr)or=nr.charCodeAt(sr),or<128?ir+=1:or<2048?ir+=2:(or&64512)===55296&&(nr.charCodeAt(sr+1)&64512)===56320?(++sr,ir+=4):ir+=3;return ir},er.read=function(nr,ir,or){var sr=or-ir;if(sr<1)return"";for(var ar=null,cr=[],lr=0,ur;ir<or;)ur=nr[ir++],ur<128?cr[lr++]=ur:ur>191&&ur<224?cr[lr++]=(ur&31)<<6|nr[ir++]&63:ur>239&&ur<365?(ur=((ur&7)<<18|(nr[ir++]&63)<<12|(nr[ir++]&63)<<6|nr[ir++]&63)-65536,cr[lr++]=55296+(ur>>10),cr[lr++]=56320+(ur&1023)):cr[lr++]=(ur&15)<<12|(nr[ir++]&63)<<6|nr[ir++]&63,lr>8191&&((ar||(ar=[])).push(String.fromCharCode.apply(String,cr)),lr=0);return ar?(lr&&ar.push(String.fromCharCode.apply(String,cr.slice(0,lr))),ar.join("")):String.fromCharCode.apply(String,cr.slice(0,lr))},er.write=function(nr,ir,or){for(var sr=or,ar,cr,lr=0;lr<nr.length;++lr)ar=nr.charCodeAt(lr),ar<128?ir[or++]=ar:ar<2048?(ir[or++]=ar>>6|192,ir[or++]=ar&63|128):(ar&64512)===55296&&((cr=nr.charCodeAt(lr+1))&64512)===56320?(ar=65536+((ar&1023)<<10)+(cr&1023),++lr,ir[or++]=ar>>18|240,ir[or++]=ar>>12&63|128,ir[or++]=ar>>6&63|128,ir[or++]=ar&63|128):(ir[or++]=ar>>12|224,ir[or++]=ar>>6&63|128,ir[or++]=ar&63|128);return or-sr}})(utf8$2);var pool_1=pool;function pool(tr,er,rr){var nr=rr||8192,ir=nr>>>1,or=null,sr=nr;return function(cr){if(cr<1||cr>ir)return tr(cr);sr+cr>nr&&(or=tr(nr),sr=0);var lr=er.call(or,sr,sr+=cr);return sr&7&&(sr=(sr|7)+1),lr}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=er;var tr=requireMinimal();function er(or,sr){this.lo=or>>>0,this.hi=sr>>>0}var rr=er.zero=new er(0,0);rr.toNumber=function(){return 0},rr.zzEncode=rr.zzDecode=function(){return this},rr.length=function(){return 1};var nr=er.zeroHash="\0\0\0\0\0\0\0\0";er.fromNumber=function(sr){if(sr===0)return rr;var ar=sr<0;ar&&(sr=-sr);var cr=sr>>>0,lr=(sr-cr)/4294967296>>>0;return ar&&(lr=~lr>>>0,cr=~cr>>>0,++cr>4294967295&&(cr=0,++lr>4294967295&&(lr=0))),new er(cr,lr)},er.from=function(sr){if(typeof sr=="number")return er.fromNumber(sr);if(tr.isString(sr))if(tr.Long)sr=tr.Long.fromString(sr);else return er.fromNumber(parseInt(sr,10));return sr.low||sr.high?new er(sr.low>>>0,sr.high>>>0):rr},er.prototype.toNumber=function(sr){if(!sr&&this.hi>>>31){var ar=~this.lo+1>>>0,cr=~this.hi>>>0;return ar||(cr=cr+1>>>0),-(ar+cr*4294967296)}return this.lo+this.hi*4294967296},er.prototype.toLong=function(sr){return tr.Long?new tr.Long(this.lo|0,this.hi|0,!!sr):{low:this.lo|0,high:this.hi|0,unsigned:!!sr}};var ir=String.prototype.charCodeAt;return er.fromHash=function(sr){return sr===nr?rr:new er((ir.call(sr,0)|ir.call(sr,1)<<8|ir.call(sr,2)<<16|ir.call(sr,3)<<24)>>>0,(ir.call(sr,4)|ir.call(sr,5)<<8|ir.call(sr,6)<<16|ir.call(sr,7)<<24)>>>0)},er.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},er.prototype.zzEncode=function(){var sr=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^sr)>>>0,this.lo=(this.lo<<1^sr)>>>0,this},er.prototype.zzDecode=function(){var sr=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^sr)>>>0,this.hi=(this.hi>>>1^sr)>>>0,this},er.prototype.length=function(){var sr=this.lo,ar=(this.lo>>>28|this.hi<<4)>>>0,cr=this.hi>>>24;return cr===0?ar===0?sr<16384?sr<128?1:2:sr<2097152?3:4:ar<16384?ar<128?5:6:ar<2097152?7:8:cr<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(tr){var er=tr;er.asPromise=aspromise,er.base64=base64$5,er.EventEmitter=eventemitter,er.float=float,er.inquire=inquire_1,er.utf8=utf8$2,er.pool=pool_1,er.LongBits=requireLongbits(),er.isNode=!!(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node),er.global=er.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,er.emptyArray=Object.freeze?Object.freeze([]):[],er.emptyObject=Object.freeze?Object.freeze({}):{},er.isInteger=Number.isInteger||function(or){return typeof or=="number"&&isFinite(or)&&Math.floor(or)===or},er.isString=function(or){return typeof or=="string"||or instanceof String},er.isObject=function(or){return or&&typeof or=="object"},er.isset=er.isSet=function(or,sr){var ar=or[sr];return ar!=null&&or.hasOwnProperty(sr)?typeof ar!="object"||(Array.isArray(ar)?ar.length:Object.keys(ar).length)>0:!1},er.Buffer=function(){try{var ir=er.inquire("buffer").Buffer;return ir.prototype.utf8Write?ir:null}catch{return null}}(),er._Buffer_from=null,er._Buffer_allocUnsafe=null,er.newBuffer=function(or){return typeof or=="number"?er.Buffer?er._Buffer_allocUnsafe(or):new er.Array(or):er.Buffer?er._Buffer_from(or):typeof Uint8Array>"u"?or:new Uint8Array(or)},er.Array=typeof Uint8Array<"u"?Uint8Array:Array,er.Long=er.global.dcodeIO&&er.global.dcodeIO.Long||er.global.Long||er.inquire("long"),er.key2Re=/^true|false|0|1$/,er.key32Re=/^-?(?:0|[1-9][0-9]*)$/,er.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,er.longToHash=function(or){return or?er.LongBits.from(or).toHash():er.LongBits.zeroHash},er.longFromHash=function(or,sr){var ar=er.LongBits.fromHash(or);return er.Long?er.Long.fromBits(ar.lo,ar.hi,sr):ar.toNumber(!!sr)};function rr(ir,or,sr){for(var ar=Object.keys(or),cr=0;cr<ar.length;++cr)(ir[ar[cr]]===void 0||!sr)&&(ir[ar[cr]]=or[ar[cr]]);return ir}er.merge=rr,er.lcFirst=function(or){return or.charAt(0).toLowerCase()+or.substring(1)};function nr(ir){function or(sr,ar){if(!(this instanceof or))return new or(sr,ar);Object.defineProperty(this,"message",{get:function(){return sr}}),Error.captureStackTrace?Error.captureStackTrace(this,or):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ar&&rr(this,ar)}return or.prototype=Object.create(Error.prototype,{constructor:{value:or,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return ir},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),or}er.newError=nr,er.ProtocolError=nr("ProtocolError"),er.oneOfGetter=function(or){for(var sr={},ar=0;ar<or.length;++ar)sr[or[ar]]=1;return function(){for(var cr=Object.keys(this),lr=cr.length-1;lr>-1;--lr)if(sr[cr[lr]]===1&&this[cr[lr]]!==void 0&&this[cr[lr]]!==null)return cr[lr]}},er.oneOfSetter=function(or){return function(sr){for(var ar=0;ar<or.length;++ar)or[ar]!==sr&&delete this[or[ar]]}},er.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},er._configure=function(){var ir=er.Buffer;if(!ir){er._Buffer_from=er._Buffer_allocUnsafe=null;return}er._Buffer_from=ir.from!==Uint8Array.from&&ir.from||function(sr,ar){return new ir(sr,ar)},er._Buffer_allocUnsafe=ir.allocUnsafe||function(sr){return new ir(sr)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$d=requireMinimal(),BufferWriter$1,LongBits$1=util$d.LongBits,base64$4=util$d.base64,utf8$1=util$d.utf8;function Op(tr,er,rr){this.fn=tr,this.len=er,this.next=void 0,this.val=rr}function noop$6(){}function State(tr){this.head=tr.head,this.tail=tr.tail,this.len=tr.len,this.next=tr.states}function Writer$1(){this.len=0,this.head=new Op(noop$6,0,0),this.tail=this.head,this.states=null}var create$2=function tr(){return util$d.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$2();Writer$1.alloc=function tr(er){return new util$d.Array(er)};util$d.Array!==Array&&(Writer$1.alloc=util$d.pool(Writer$1.alloc,util$d.Array.prototype.subarray));Writer$1.prototype._push=function tr(er,rr,nr){return this.tail=this.tail.next=new Op(er,rr,nr),this.len+=rr,this};function writeByte(tr,er,rr){er[rr]=tr&255}function writeVarint32(tr,er,rr){for(;tr>127;)er[rr++]=tr&127|128,tr>>>=7;er[rr]=tr}function VarintOp(tr,er){this.len=tr,this.next=void 0,this.val=er}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function tr(er){return this.len+=(this.tail=this.tail.next=new VarintOp((er=er>>>0)<128?1:er<16384?2:er<2097152?3:er<268435456?4:5,er)).len,this};Writer$1.prototype.int32=function tr(er){return er<0?this._push(writeVarint64,10,LongBits$1.fromNumber(er)):this.uint32(er)};Writer$1.prototype.sint32=function tr(er){return this.uint32((er<<1^er>>31)>>>0)};function writeVarint64(tr,er,rr){for(;tr.hi;)er[rr++]=tr.lo&127|128,tr.lo=(tr.lo>>>7|tr.hi<<25)>>>0,tr.hi>>>=7;for(;tr.lo>127;)er[rr++]=tr.lo&127|128,tr.lo=tr.lo>>>7;er[rr++]=tr.lo}Writer$1.prototype.uint64=function tr(er){var rr=LongBits$1.from(er);return this._push(writeVarint64,rr.length(),rr)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function tr(er){var rr=LongBits$1.from(er).zzEncode();return this._push(writeVarint64,rr.length(),rr)};Writer$1.prototype.bool=function tr(er){return this._push(writeByte,1,er?1:0)};function writeFixed32(tr,er,rr){er[rr]=tr&255,er[rr+1]=tr>>>8&255,er[rr+2]=tr>>>16&255,er[rr+3]=tr>>>24}Writer$1.prototype.fixed32=function tr(er){return this._push(writeFixed32,4,er>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function tr(er){var rr=LongBits$1.from(er);return this._push(writeFixed32,4,rr.lo)._push(writeFixed32,4,rr.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function tr(er){return this._push(util$d.float.writeFloatLE,4,er)};Writer$1.prototype.double=function tr(er){return this._push(util$d.float.writeDoubleLE,8,er)};var writeBytes=util$d.Array.prototype.set?function tr(er,rr,nr){rr.set(er,nr)}:function tr(er,rr,nr){for(var ir=0;ir<er.length;++ir)rr[nr+ir]=er[ir]};Writer$1.prototype.bytes=function tr(er){var rr=er.length>>>0;if(!rr)return this._push(writeByte,1,0);if(util$d.isString(er)){var nr=Writer$1.alloc(rr=base64$4.length(er));base64$4.decode(er,nr,0),er=nr}return this.uint32(rr)._push(writeBytes,rr,er)};Writer$1.prototype.string=function tr(er){var rr=utf8$1.length(er);return rr?this.uint32(rr)._push(utf8$1.write,rr,er):this._push(writeByte,1,0)};Writer$1.prototype.fork=function tr(){return this.states=new State(this),this.head=this.tail=new Op(noop$6,0,0),this.len=0,this};Writer$1.prototype.reset=function tr(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$6,0,0),this.len=0),this};Writer$1.prototype.ldelim=function tr(){var er=this.head,rr=this.tail,nr=this.len;return this.reset().uint32(nr),nr&&(this.tail.next=er.next,this.tail=rr,this.len+=nr),this};Writer$1.prototype.finish=function tr(){for(var er=this.head.next,rr=this.constructor.alloc(this.len),nr=0;er;)er.fn(er.val,rr,nr),nr+=er.len,er=er.next;return rr};Writer$1._configure=function(tr){BufferWriter$1=tr,Writer$1.create=create$2(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$c=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$c._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$c.Buffer&&util$c.Buffer.prototype instanceof Uint8Array&&util$c.Buffer.prototype.set.name==="set"?function(er,rr,nr){rr.set(er,nr)}:function(er,rr,nr){if(er.copy)er.copy(rr,nr,0,er.length);else for(var ir=0;ir<er.length;)rr[nr++]=er[ir++]}};BufferWriter.prototype.bytes=function tr(er){util$c.isString(er)&&(er=util$c._Buffer_from(er,"base64"));var rr=er.length>>>0;return this.uint32(rr),rr&&this._push(BufferWriter.writeBytesBuffer,rr,er),this};function writeStringBuffer(tr,er,rr){tr.length<40?util$c.utf8.write(tr,er,rr):er.utf8Write?er.utf8Write(tr,rr):er.write(tr,rr)}BufferWriter.prototype.string=function tr(er){var rr=util$c.Buffer.byteLength(er);return this.uint32(rr),rr&&this._push(writeStringBuffer,rr,er),this};BufferWriter._configure();var reader=Reader$1,util$b=requireMinimal(),BufferReader$1,LongBits=util$b.LongBits,utf8=util$b.utf8;function indexOutOfRange(tr,er){return RangeError("index out of range: "+tr.pos+" + "+(er||1)+" > "+tr.len)}function Reader$1(tr){this.buf=tr,this.pos=0,this.len=tr.length}var create_array=typeof Uint8Array<"u"?function tr(er){if(er instanceof Uint8Array||Array.isArray(er))return new Reader$1(er);throw Error("illegal buffer")}:function tr(er){if(Array.isArray(er))return new Reader$1(er);throw Error("illegal buffer")},create$1=function tr(){return util$b.Buffer?function(rr){return(Reader$1.create=function(ir){return util$b.Buffer.isBuffer(ir)?new BufferReader$1(ir):create_array(ir)})(rr)}:create_array};Reader$1.create=create$1();Reader$1.prototype._slice=util$b.Array.prototype.subarray||util$b.Array.prototype.slice;Reader$1.prototype.uint32=function tr(){var er=4294967295;return function(){if(er=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(er=(er|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(er=(er|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(er=(er|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(er=(er|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return er;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return er}}();Reader$1.prototype.int32=function tr(){return this.uint32()|0};Reader$1.prototype.sint32=function tr(){var er=this.uint32();return er>>>1^-(er&1)|0};function readLongVarint(){var tr=new LongBits(0,0),er=0;if(this.len-this.pos>4){for(;er<4;++er)if(tr.lo=(tr.lo|(this.buf[this.pos]&127)<<er*7)>>>0,this.buf[this.pos++]<128)return tr;if(tr.lo=(tr.lo|(this.buf[this.pos]&127)<<28)>>>0,tr.hi=(tr.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return tr;er=0}else{for(;er<3;++er){if(this.pos>=this.len)throw indexOutOfRange(this);if(tr.lo=(tr.lo|(this.buf[this.pos]&127)<<er*7)>>>0,this.buf[this.pos++]<128)return tr}return tr.lo=(tr.lo|(this.buf[this.pos++]&127)<<er*7)>>>0,tr}if(this.len-this.pos>4){for(;er<5;++er)if(tr.hi=(tr.hi|(this.buf[this.pos]&127)<<er*7+3)>>>0,this.buf[this.pos++]<128)return tr}else for(;er<5;++er){if(this.pos>=this.len)throw indexOutOfRange(this);if(tr.hi=(tr.hi|(this.buf[this.pos]&127)<<er*7+3)>>>0,this.buf[this.pos++]<128)return tr}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function tr(){return this.uint32()!==0};function readFixed32_end(tr,er){return(tr[er-4]|tr[er-3]<<8|tr[er-2]<<16|tr[er-1]<<24)>>>0}Reader$1.prototype.fixed32=function tr(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function tr(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function tr(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var er=util$b.float.readFloatLE(this.buf,this.pos);return this.pos+=4,er};Reader$1.prototype.double=function tr(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var er=util$b.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,er};Reader$1.prototype.bytes=function tr(){var er=this.uint32(),rr=this.pos,nr=this.pos+er;if(nr>this.len)throw indexOutOfRange(this,er);if(this.pos+=er,Array.isArray(this.buf))return this.buf.slice(rr,nr);if(rr===nr){var ir=util$b.Buffer;return ir?ir.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,rr,nr)};Reader$1.prototype.string=function tr(){var er=this.bytes();return utf8.read(er,0,er.length)};Reader$1.prototype.skip=function tr(er){if(typeof er=="number"){if(this.pos+er>this.len)throw indexOutOfRange(this,er);this.pos+=er}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(tr){switch(tr){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(tr=this.uint32()&7)!==4;)this.skipType(tr);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+tr+" at offset "+this.pos)}return this};Reader$1._configure=function(tr){BufferReader$1=tr,Reader$1.create=create$1(),BufferReader$1._configure();var er=util$b.Long?"toLong":"toNumber";util$b.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[er](!1)},uint64:function(){return readLongVarint.call(this)[er](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[er](!1)},fixed64:function(){return readFixed64.call(this)[er](!0)},sfixed64:function(){return readFixed64.call(this)[er](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$a=requireMinimal();function BufferReader(tr){Reader.call(this,tr)}BufferReader._configure=function(){util$a.Buffer&&(BufferReader.prototype._slice=util$a.Buffer.prototype.slice)};BufferReader.prototype.string=function tr(){var er=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+er,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+er,this.len))};BufferReader._configure();var rpc={},service=Service,util$9=requireMinimal();(Service.prototype=Object.create(util$9.EventEmitter.prototype)).constructor=Service;function Service(tr,er,rr){if(typeof tr!="function")throw TypeError("rpcImpl must be a function");util$9.EventEmitter.call(this),this.rpcImpl=tr,this.requestDelimited=!!er,this.responseDelimited=!!rr}Service.prototype.rpcCall=function tr(er,rr,nr,ir,or){if(!ir)throw TypeError("request must be specified");var sr=this;if(!or)return util$9.asPromise(tr,sr,er,rr,nr,ir);if(!sr.rpcImpl){setTimeout(function(){or(Error("already ended"))},0);return}try{return sr.rpcImpl(er,rr[sr.requestDelimited?"encodeDelimited":"encode"](ir).finish(),function(cr,lr){if(cr)return sr.emit("error",cr,er),or(cr);if(lr===null){sr.end(!0);return}if(!(lr instanceof nr))try{lr=nr[sr.responseDelimited?"decodeDelimited":"decode"](lr)}catch(ur){return sr.emit("error",ur,er),or(ur)}return sr.emit("data",lr,er),or(null,lr)})}catch(ar){sr.emit("error",ar,er),setTimeout(function(){or(ar)},0);return}};Service.prototype.end=function tr(er){return this.rpcImpl&&(er||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(tr){var er=tr;er.Service=service})(rpc);var roots={};(function(tr){var er=tr;er.build="minimal",er.Writer=writer,er.BufferWriter=writer_buffer,er.Reader=reader,er.BufferReader=reader_buffer,er.util=requireMinimal(),er.rpc=rpc,er.roots=roots,er.configure=rr;function rr(){er.util._configure(),er.Writer._configure(er.BufferWriter),er.Reader._configure(er.BufferReader)}rr()})(indexMinimal);var minimal=indexMinimal;const _m0=getDefaultExportFromCjs(minimal);function createBaseSignature(){return{ecdsaCompact:void 0,walletEcdsaCompact:void 0}}const Signature$5={encode(tr,er=_m0.Writer.create()){return tr.ecdsaCompact!==void 0&&Signature_ECDSACompact.encode(tr.ecdsaCompact,er.uint32(10).fork()).ldelim(),tr.walletEcdsaCompact!==void 0&&Signature_WalletECDSACompact.encode(tr.walletEcdsaCompact,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignature();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.ecdsaCompact=Signature_ECDSACompact.decode(rr,rr.uint32());break;case 2:ir.walletEcdsaCompact=Signature_WalletECDSACompact.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{ecdsaCompact:isSet$b(tr.ecdsaCompact)?Signature_ECDSACompact.fromJSON(tr.ecdsaCompact):void 0,walletEcdsaCompact:isSet$b(tr.walletEcdsaCompact)?Signature_WalletECDSACompact.fromJSON(tr.walletEcdsaCompact):void 0}},toJSON(tr){const er={};return tr.ecdsaCompact!==void 0&&(er.ecdsaCompact=tr.ecdsaCompact?Signature_ECDSACompact.toJSON(tr.ecdsaCompact):void 0),tr.walletEcdsaCompact!==void 0&&(er.walletEcdsaCompact=tr.walletEcdsaCompact?Signature_WalletECDSACompact.toJSON(tr.walletEcdsaCompact):void 0),er},fromPartial(tr){const er=createBaseSignature();return er.ecdsaCompact=tr.ecdsaCompact!==void 0&&tr.ecdsaCompact!==null?Signature_ECDSACompact.fromPartial(tr.ecdsaCompact):void 0,er.walletEcdsaCompact=tr.walletEcdsaCompact!==void 0&&tr.walletEcdsaCompact!==null?Signature_WalletECDSACompact.fromPartial(tr.walletEcdsaCompact):void 0,er}};function createBaseSignature_ECDSACompact(){return{bytes:new Uint8Array,recovery:0}}const Signature_ECDSACompact={encode(tr,er=_m0.Writer.create()){return tr.bytes.length!==0&&er.uint32(10).bytes(tr.bytes),tr.recovery!==0&&er.uint32(16).uint32(tr.recovery),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignature_ECDSACompact();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.bytes=rr.bytes();break;case 2:ir.recovery=rr.uint32();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{bytes:isSet$b(tr.bytes)?bytesFromBase64$8(tr.bytes):new Uint8Array,recovery:isSet$b(tr.recovery)?Number(tr.recovery):0}},toJSON(tr){const er={};return tr.bytes!==void 0&&(er.bytes=base64FromBytes$8(tr.bytes!==void 0?tr.bytes:new Uint8Array)),tr.recovery!==void 0&&(er.recovery=Math.round(tr.recovery)),er},fromPartial(tr){var er,rr;const nr=createBaseSignature_ECDSACompact();return nr.bytes=(er=tr.bytes)!==null&&er!==void 0?er:new Uint8Array,nr.recovery=(rr=tr.recovery)!==null&&rr!==void 0?rr:0,nr}};function createBaseSignature_WalletECDSACompact(){return{bytes:new Uint8Array,recovery:0}}const Signature_WalletECDSACompact={encode(tr,er=_m0.Writer.create()){return tr.bytes.length!==0&&er.uint32(10).bytes(tr.bytes),tr.recovery!==0&&er.uint32(16).uint32(tr.recovery),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignature_WalletECDSACompact();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.bytes=rr.bytes();break;case 2:ir.recovery=rr.uint32();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{bytes:isSet$b(tr.bytes)?bytesFromBase64$8(tr.bytes):new Uint8Array,recovery:isSet$b(tr.recovery)?Number(tr.recovery):0}},toJSON(tr){const er={};return tr.bytes!==void 0&&(er.bytes=base64FromBytes$8(tr.bytes!==void 0?tr.bytes:new Uint8Array)),tr.recovery!==void 0&&(er.recovery=Math.round(tr.recovery)),er},fromPartial(tr){var er,rr;const nr=createBaseSignature_WalletECDSACompact();return nr.bytes=(er=tr.bytes)!==null&&er!==void 0?er:new Uint8Array,nr.recovery=(rr=tr.recovery)!==null&&rr!==void 0?rr:0,nr}};var globalThis$y=(()=>{if(typeof globalThis$y<"u")return globalThis$y;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$y<"u")return globalThis$y;throw"Unable to locate global object"})();function bytesFromBase64$8(tr){if(globalThis$y.Buffer)return Uint8Array.from(globalThis$y.Buffer.from(tr,"base64"));{const er=globalThis$y.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes$8(tr){if(globalThis$y.Buffer)return globalThis$y.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$y.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$b(tr){return tr!=null}function createBaseUnsignedPublicKey(){return{createdNs:Long.UZERO,secp256k1Uncompressed:void 0}}const UnsignedPublicKey={encode(tr,er=_m0.Writer.create()){return tr.createdNs.isZero()||er.uint32(8).uint64(tr.createdNs),tr.secp256k1Uncompressed!==void 0&&UnsignedPublicKey_Secp256k1Uncompressed.encode(tr.secp256k1Uncompressed,er.uint32(26).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseUnsignedPublicKey();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.createdNs=rr.uint64();break;case 3:ir.secp256k1Uncompressed=UnsignedPublicKey_Secp256k1Uncompressed.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{createdNs:isSet$a(tr.createdNs)?Long.fromValue(tr.createdNs):Long.UZERO,secp256k1Uncompressed:isSet$a(tr.secp256k1Uncompressed)?UnsignedPublicKey_Secp256k1Uncompressed.fromJSON(tr.secp256k1Uncompressed):void 0}},toJSON(tr){const er={};return tr.createdNs!==void 0&&(er.createdNs=(tr.createdNs||Long.UZERO).toString()),tr.secp256k1Uncompressed!==void 0&&(er.secp256k1Uncompressed=tr.secp256k1Uncompressed?UnsignedPublicKey_Secp256k1Uncompressed.toJSON(tr.secp256k1Uncompressed):void 0),er},fromPartial(tr){const er=createBaseUnsignedPublicKey();return er.createdNs=tr.createdNs!==void 0&&tr.createdNs!==null?Long.fromValue(tr.createdNs):Long.UZERO,er.secp256k1Uncompressed=tr.secp256k1Uncompressed!==void 0&&tr.secp256k1Uncompressed!==null?UnsignedPublicKey_Secp256k1Uncompressed.fromPartial(tr.secp256k1Uncompressed):void 0,er}};function createBaseUnsignedPublicKey_Secp256k1Uncompressed(){return{bytes:new Uint8Array}}const UnsignedPublicKey_Secp256k1Uncompressed={encode(tr,er=_m0.Writer.create()){return tr.bytes.length!==0&&er.uint32(10).bytes(tr.bytes),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseUnsignedPublicKey_Secp256k1Uncompressed();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.bytes=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{bytes:isSet$a(tr.bytes)?bytesFromBase64$7(tr.bytes):new Uint8Array}},toJSON(tr){const er={};return tr.bytes!==void 0&&(er.bytes=base64FromBytes$7(tr.bytes!==void 0?tr.bytes:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseUnsignedPublicKey_Secp256k1Uncompressed();return rr.bytes=(er=tr.bytes)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBaseSignedPublicKey(){return{keyBytes:new Uint8Array,signature:void 0}}const SignedPublicKey={encode(tr,er=_m0.Writer.create()){return tr.keyBytes.length!==0&&er.uint32(10).bytes(tr.keyBytes),tr.signature!==void 0&&Signature$5.encode(tr.signature,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignedPublicKey();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.keyBytes=rr.bytes();break;case 2:ir.signature=Signature$5.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{keyBytes:isSet$a(tr.keyBytes)?bytesFromBase64$7(tr.keyBytes):new Uint8Array,signature:isSet$a(tr.signature)?Signature$5.fromJSON(tr.signature):void 0}},toJSON(tr){const er={};return tr.keyBytes!==void 0&&(er.keyBytes=base64FromBytes$7(tr.keyBytes!==void 0?tr.keyBytes:new Uint8Array)),tr.signature!==void 0&&(er.signature=tr.signature?Signature$5.toJSON(tr.signature):void 0),er},fromPartial(tr){var er;const rr=createBaseSignedPublicKey();return rr.keyBytes=(er=tr.keyBytes)!==null&&er!==void 0?er:new Uint8Array,rr.signature=tr.signature!==void 0&&tr.signature!==null?Signature$5.fromPartial(tr.signature):void 0,rr}};function createBaseSignedPublicKeyBundle(){return{identityKey:void 0,preKey:void 0}}const SignedPublicKeyBundle={encode(tr,er=_m0.Writer.create()){return tr.identityKey!==void 0&&SignedPublicKey.encode(tr.identityKey,er.uint32(10).fork()).ldelim(),tr.preKey!==void 0&&SignedPublicKey.encode(tr.preKey,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignedPublicKeyBundle();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.identityKey=SignedPublicKey.decode(rr,rr.uint32());break;case 2:ir.preKey=SignedPublicKey.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{identityKey:isSet$a(tr.identityKey)?SignedPublicKey.fromJSON(tr.identityKey):void 0,preKey:isSet$a(tr.preKey)?SignedPublicKey.fromJSON(tr.preKey):void 0}},toJSON(tr){const er={};return tr.identityKey!==void 0&&(er.identityKey=tr.identityKey?SignedPublicKey.toJSON(tr.identityKey):void 0),tr.preKey!==void 0&&(er.preKey=tr.preKey?SignedPublicKey.toJSON(tr.preKey):void 0),er},fromPartial(tr){const er=createBaseSignedPublicKeyBundle();return er.identityKey=tr.identityKey!==void 0&&tr.identityKey!==null?SignedPublicKey.fromPartial(tr.identityKey):void 0,er.preKey=tr.preKey!==void 0&&tr.preKey!==null?SignedPublicKey.fromPartial(tr.preKey):void 0,er}};function createBasePublicKey(){return{timestamp:Long.UZERO,signature:void 0,secp256k1Uncompressed:void 0}}const PublicKey={encode(tr,er=_m0.Writer.create()){return tr.timestamp.isZero()||er.uint32(8).uint64(tr.timestamp),tr.signature!==void 0&&Signature$5.encode(tr.signature,er.uint32(18).fork()).ldelim(),tr.secp256k1Uncompressed!==void 0&&PublicKey_Secp256k1Uncompressed.encode(tr.secp256k1Uncompressed,er.uint32(26).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePublicKey();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.timestamp=rr.uint64();break;case 2:ir.signature=Signature$5.decode(rr,rr.uint32());break;case 3:ir.secp256k1Uncompressed=PublicKey_Secp256k1Uncompressed.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{timestamp:isSet$a(tr.timestamp)?Long.fromValue(tr.timestamp):Long.UZERO,signature:isSet$a(tr.signature)?Signature$5.fromJSON(tr.signature):void 0,secp256k1Uncompressed:isSet$a(tr.secp256k1Uncompressed)?PublicKey_Secp256k1Uncompressed.fromJSON(tr.secp256k1Uncompressed):void 0}},toJSON(tr){const er={};return tr.timestamp!==void 0&&(er.timestamp=(tr.timestamp||Long.UZERO).toString()),tr.signature!==void 0&&(er.signature=tr.signature?Signature$5.toJSON(tr.signature):void 0),tr.secp256k1Uncompressed!==void 0&&(er.secp256k1Uncompressed=tr.secp256k1Uncompressed?PublicKey_Secp256k1Uncompressed.toJSON(tr.secp256k1Uncompressed):void 0),er},fromPartial(tr){const er=createBasePublicKey();return er.timestamp=tr.timestamp!==void 0&&tr.timestamp!==null?Long.fromValue(tr.timestamp):Long.UZERO,er.signature=tr.signature!==void 0&&tr.signature!==null?Signature$5.fromPartial(tr.signature):void 0,er.secp256k1Uncompressed=tr.secp256k1Uncompressed!==void 0&&tr.secp256k1Uncompressed!==null?PublicKey_Secp256k1Uncompressed.fromPartial(tr.secp256k1Uncompressed):void 0,er}};function createBasePublicKey_Secp256k1Uncompressed(){return{bytes:new Uint8Array}}const PublicKey_Secp256k1Uncompressed={encode(tr,er=_m0.Writer.create()){return tr.bytes.length!==0&&er.uint32(10).bytes(tr.bytes),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePublicKey_Secp256k1Uncompressed();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.bytes=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{bytes:isSet$a(tr.bytes)?bytesFromBase64$7(tr.bytes):new Uint8Array}},toJSON(tr){const er={};return tr.bytes!==void 0&&(er.bytes=base64FromBytes$7(tr.bytes!==void 0?tr.bytes:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBasePublicKey_Secp256k1Uncompressed();return rr.bytes=(er=tr.bytes)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBasePublicKeyBundle(){return{identityKey:void 0,preKey:void 0}}const PublicKeyBundle={encode(tr,er=_m0.Writer.create()){return tr.identityKey!==void 0&&PublicKey.encode(tr.identityKey,er.uint32(10).fork()).ldelim(),tr.preKey!==void 0&&PublicKey.encode(tr.preKey,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePublicKeyBundle();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.identityKey=PublicKey.decode(rr,rr.uint32());break;case 2:ir.preKey=PublicKey.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{identityKey:isSet$a(tr.identityKey)?PublicKey.fromJSON(tr.identityKey):void 0,preKey:isSet$a(tr.preKey)?PublicKey.fromJSON(tr.preKey):void 0}},toJSON(tr){const er={};return tr.identityKey!==void 0&&(er.identityKey=tr.identityKey?PublicKey.toJSON(tr.identityKey):void 0),tr.preKey!==void 0&&(er.preKey=tr.preKey?PublicKey.toJSON(tr.preKey):void 0),er},fromPartial(tr){const er=createBasePublicKeyBundle();return er.identityKey=tr.identityKey!==void 0&&tr.identityKey!==null?PublicKey.fromPartial(tr.identityKey):void 0,er.preKey=tr.preKey!==void 0&&tr.preKey!==null?PublicKey.fromPartial(tr.preKey):void 0,er}};var globalThis$x=(()=>{if(typeof globalThis$x<"u")return globalThis$x;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$x<"u")return globalThis$x;throw"Unable to locate global object"})();function bytesFromBase64$7(tr){if(globalThis$x.Buffer)return Uint8Array.from(globalThis$x.Buffer.from(tr,"base64"));{const er=globalThis$x.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes$7(tr){if(globalThis$x.Buffer)return globalThis$x.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$x.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$a(tr){return tr!=null}function createBaseToken(){return{identityKey:void 0,authDataBytes:new Uint8Array,authDataSignature:void 0}}const Token={encode(tr,er=_m0.Writer.create()){return tr.identityKey!==void 0&&PublicKey.encode(tr.identityKey,er.uint32(10).fork()).ldelim(),tr.authDataBytes.length!==0&&er.uint32(18).bytes(tr.authDataBytes),tr.authDataSignature!==void 0&&Signature$5.encode(tr.authDataSignature,er.uint32(26).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseToken();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.identityKey=PublicKey.decode(rr,rr.uint32());break;case 2:ir.authDataBytes=rr.bytes();break;case 3:ir.authDataSignature=Signature$5.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{identityKey:isSet$9(tr.identityKey)?PublicKey.fromJSON(tr.identityKey):void 0,authDataBytes:isSet$9(tr.authDataBytes)?bytesFromBase64$6(tr.authDataBytes):new Uint8Array,authDataSignature:isSet$9(tr.authDataSignature)?Signature$5.fromJSON(tr.authDataSignature):void 0}},toJSON(tr){const er={};return tr.identityKey!==void 0&&(er.identityKey=tr.identityKey?PublicKey.toJSON(tr.identityKey):void 0),tr.authDataBytes!==void 0&&(er.authDataBytes=base64FromBytes$6(tr.authDataBytes!==void 0?tr.authDataBytes:new Uint8Array)),tr.authDataSignature!==void 0&&(er.authDataSignature=tr.authDataSignature?Signature$5.toJSON(tr.authDataSignature):void 0),er},fromPartial(tr){var er;const rr=createBaseToken();return rr.identityKey=tr.identityKey!==void 0&&tr.identityKey!==null?PublicKey.fromPartial(tr.identityKey):void 0,rr.authDataBytes=(er=tr.authDataBytes)!==null&&er!==void 0?er:new Uint8Array,rr.authDataSignature=tr.authDataSignature!==void 0&&tr.authDataSignature!==null?Signature$5.fromPartial(tr.authDataSignature):void 0,rr}};function createBaseAuthData(){return{walletAddr:"",createdNs:Long.UZERO}}const AuthData={encode(tr,er=_m0.Writer.create()){return tr.walletAddr!==""&&er.uint32(10).string(tr.walletAddr),tr.createdNs.isZero()||er.uint32(16).uint64(tr.createdNs),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseAuthData();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.walletAddr=rr.string();break;case 2:ir.createdNs=rr.uint64();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{walletAddr:isSet$9(tr.walletAddr)?String(tr.walletAddr):"",createdNs:isSet$9(tr.createdNs)?Long.fromValue(tr.createdNs):Long.UZERO}},toJSON(tr){const er={};return tr.walletAddr!==void 0&&(er.walletAddr=tr.walletAddr),tr.createdNs!==void 0&&(er.createdNs=(tr.createdNs||Long.UZERO).toString()),er},fromPartial(tr){var er;const rr=createBaseAuthData();return rr.walletAddr=(er=tr.walletAddr)!==null&&er!==void 0?er:"",rr.createdNs=tr.createdNs!==void 0&&tr.createdNs!==null?Long.fromValue(tr.createdNs):Long.UZERO,rr}};var globalThis$w=(()=>{if(typeof globalThis$w<"u")return globalThis$w;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$w<"u")return globalThis$w;throw"Unable to locate global object"})();function bytesFromBase64$6(tr){if(globalThis$w.Buffer)return Uint8Array.from(globalThis$w.Buffer.from(tr,"base64"));{const er=globalThis$w.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes$6(tr){if(globalThis$w.Buffer)return globalThis$w.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$w.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$9(tr){return tr!=null}function createBaseCiphertext(){return{aes256GcmHkdfSha256:void 0}}const Ciphertext={encode(tr,er=_m0.Writer.create()){return tr.aes256GcmHkdfSha256!==void 0&&Ciphertext_Aes256gcmHkdfsha256.encode(tr.aes256GcmHkdfSha256,er.uint32(10).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseCiphertext();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.aes256GcmHkdfSha256=Ciphertext_Aes256gcmHkdfsha256.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{aes256GcmHkdfSha256:isSet$8(tr.aes256GcmHkdfSha256)?Ciphertext_Aes256gcmHkdfsha256.fromJSON(tr.aes256GcmHkdfSha256):void 0}},toJSON(tr){const er={};return tr.aes256GcmHkdfSha256!==void 0&&(er.aes256GcmHkdfSha256=tr.aes256GcmHkdfSha256?Ciphertext_Aes256gcmHkdfsha256.toJSON(tr.aes256GcmHkdfSha256):void 0),er},fromPartial(tr){const er=createBaseCiphertext();return er.aes256GcmHkdfSha256=tr.aes256GcmHkdfSha256!==void 0&&tr.aes256GcmHkdfSha256!==null?Ciphertext_Aes256gcmHkdfsha256.fromPartial(tr.aes256GcmHkdfSha256):void 0,er}};function createBaseCiphertext_Aes256gcmHkdfsha256(){return{hkdfSalt:new Uint8Array,gcmNonce:new Uint8Array,payload:new Uint8Array}}const Ciphertext_Aes256gcmHkdfsha256={encode(tr,er=_m0.Writer.create()){return tr.hkdfSalt.length!==0&&er.uint32(10).bytes(tr.hkdfSalt),tr.gcmNonce.length!==0&&er.uint32(18).bytes(tr.gcmNonce),tr.payload.length!==0&&er.uint32(26).bytes(tr.payload),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseCiphertext_Aes256gcmHkdfsha256();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.hkdfSalt=rr.bytes();break;case 2:ir.gcmNonce=rr.bytes();break;case 3:ir.payload=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{hkdfSalt:isSet$8(tr.hkdfSalt)?bytesFromBase64$5(tr.hkdfSalt):new Uint8Array,gcmNonce:isSet$8(tr.gcmNonce)?bytesFromBase64$5(tr.gcmNonce):new Uint8Array,payload:isSet$8(tr.payload)?bytesFromBase64$5(tr.payload):new Uint8Array}},toJSON(tr){const er={};return tr.hkdfSalt!==void 0&&(er.hkdfSalt=base64FromBytes$5(tr.hkdfSalt!==void 0?tr.hkdfSalt:new Uint8Array)),tr.gcmNonce!==void 0&&(er.gcmNonce=base64FromBytes$5(tr.gcmNonce!==void 0?tr.gcmNonce:new Uint8Array)),tr.payload!==void 0&&(er.payload=base64FromBytes$5(tr.payload!==void 0?tr.payload:new Uint8Array)),er},fromPartial(tr){var er,rr,nr;const ir=createBaseCiphertext_Aes256gcmHkdfsha256();return ir.hkdfSalt=(er=tr.hkdfSalt)!==null&&er!==void 0?er:new Uint8Array,ir.gcmNonce=(rr=tr.gcmNonce)!==null&&rr!==void 0?rr:new Uint8Array,ir.payload=(nr=tr.payload)!==null&&nr!==void 0?nr:new Uint8Array,ir}};function createBaseSignedEciesCiphertext(){return{eciesBytes:new Uint8Array,signature:void 0}}const SignedEciesCiphertext={encode(tr,er=_m0.Writer.create()){return tr.eciesBytes.length!==0&&er.uint32(10).bytes(tr.eciesBytes),tr.signature!==void 0&&Signature$5.encode(tr.signature,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignedEciesCiphertext();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.eciesBytes=rr.bytes();break;case 2:ir.signature=Signature$5.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{eciesBytes:isSet$8(tr.eciesBytes)?bytesFromBase64$5(tr.eciesBytes):new Uint8Array,signature:isSet$8(tr.signature)?Signature$5.fromJSON(tr.signature):void 0}},toJSON(tr){const er={};return tr.eciesBytes!==void 0&&(er.eciesBytes=base64FromBytes$5(tr.eciesBytes!==void 0?tr.eciesBytes:new Uint8Array)),tr.signature!==void 0&&(er.signature=tr.signature?Signature$5.toJSON(tr.signature):void 0),er},fromPartial(tr){var er;const rr=createBaseSignedEciesCiphertext();return rr.eciesBytes=(er=tr.eciesBytes)!==null&&er!==void 0?er:new Uint8Array,rr.signature=tr.signature!==void 0&&tr.signature!==null?Signature$5.fromPartial(tr.signature):void 0,rr}};function createBaseSignedEciesCiphertext_Ecies(){return{ephemeralPublicKey:new Uint8Array,iv:new Uint8Array,mac:new Uint8Array,ciphertext:new Uint8Array}}const SignedEciesCiphertext_Ecies={encode(tr,er=_m0.Writer.create()){return tr.ephemeralPublicKey.length!==0&&er.uint32(10).bytes(tr.ephemeralPublicKey),tr.iv.length!==0&&er.uint32(18).bytes(tr.iv),tr.mac.length!==0&&er.uint32(26).bytes(tr.mac),tr.ciphertext.length!==0&&er.uint32(34).bytes(tr.ciphertext),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignedEciesCiphertext_Ecies();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.ephemeralPublicKey=rr.bytes();break;case 2:ir.iv=rr.bytes();break;case 3:ir.mac=rr.bytes();break;case 4:ir.ciphertext=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{ephemeralPublicKey:isSet$8(tr.ephemeralPublicKey)?bytesFromBase64$5(tr.ephemeralPublicKey):new Uint8Array,iv:isSet$8(tr.iv)?bytesFromBase64$5(tr.iv):new Uint8Array,mac:isSet$8(tr.mac)?bytesFromBase64$5(tr.mac):new Uint8Array,ciphertext:isSet$8(tr.ciphertext)?bytesFromBase64$5(tr.ciphertext):new Uint8Array}},toJSON(tr){const er={};return tr.ephemeralPublicKey!==void 0&&(er.ephemeralPublicKey=base64FromBytes$5(tr.ephemeralPublicKey!==void 0?tr.ephemeralPublicKey:new Uint8Array)),tr.iv!==void 0&&(er.iv=base64FromBytes$5(tr.iv!==void 0?tr.iv:new Uint8Array)),tr.mac!==void 0&&(er.mac=base64FromBytes$5(tr.mac!==void 0?tr.mac:new Uint8Array)),tr.ciphertext!==void 0&&(er.ciphertext=base64FromBytes$5(tr.ciphertext!==void 0?tr.ciphertext:new Uint8Array)),er},fromPartial(tr){var er,rr,nr,ir;const or=createBaseSignedEciesCiphertext_Ecies();return or.ephemeralPublicKey=(er=tr.ephemeralPublicKey)!==null&&er!==void 0?er:new Uint8Array,or.iv=(rr=tr.iv)!==null&&rr!==void 0?rr:new Uint8Array,or.mac=(nr=tr.mac)!==null&&nr!==void 0?nr:new Uint8Array,or.ciphertext=(ir=tr.ciphertext)!==null&&ir!==void 0?ir:new Uint8Array,or}};var globalThis$v=(()=>{if(typeof globalThis$v<"u")return globalThis$v;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$v<"u")return globalThis$v;throw"Unable to locate global object"})();function bytesFromBase64$5(tr){if(globalThis$v.Buffer)return Uint8Array.from(globalThis$v.Buffer.from(tr,"base64"));{const er=globalThis$v.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes$5(tr){if(globalThis$v.Buffer)return globalThis$v.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$v.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$8(tr){return tr!=null}var ConsentProofPayloadVersion$1;(function(tr){tr[tr.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED=0]="CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED",tr[tr.CONSENT_PROOF_PAYLOAD_VERSION_1=1]="CONSENT_PROOF_PAYLOAD_VERSION_1",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConsentProofPayloadVersion$1||(ConsentProofPayloadVersion$1={}));function consentProofPayloadVersionFromJSON(tr){switch(tr){case 0:case"CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED":return ConsentProofPayloadVersion$1.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED;case 1:case"CONSENT_PROOF_PAYLOAD_VERSION_1":return ConsentProofPayloadVersion$1.CONSENT_PROOF_PAYLOAD_VERSION_1;case-1:case"UNRECOGNIZED":default:return ConsentProofPayloadVersion$1.UNRECOGNIZED}}function consentProofPayloadVersionToJSON(tr){switch(tr){case ConsentProofPayloadVersion$1.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED:return"CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED";case ConsentProofPayloadVersion$1.CONSENT_PROOF_PAYLOAD_VERSION_1:return"CONSENT_PROOF_PAYLOAD_VERSION_1";case ConsentProofPayloadVersion$1.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function createBaseInvitationV1(){return{topic:"",context:void 0,aes256GcmHkdfSha256:void 0,consentProof:void 0}}const InvitationV1={encode(tr,er=_m0.Writer.create()){return tr.topic!==""&&er.uint32(10).string(tr.topic),tr.context!==void 0&&InvitationV1_Context.encode(tr.context,er.uint32(18).fork()).ldelim(),tr.aes256GcmHkdfSha256!==void 0&&InvitationV1_Aes256gcmHkdfsha256.encode(tr.aes256GcmHkdfSha256,er.uint32(26).fork()).ldelim(),tr.consentProof!==void 0&&ConsentProofPayload.encode(tr.consentProof,er.uint32(34).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseInvitationV1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.topic=rr.string();break;case 2:ir.context=InvitationV1_Context.decode(rr,rr.uint32());break;case 3:ir.aes256GcmHkdfSha256=InvitationV1_Aes256gcmHkdfsha256.decode(rr,rr.uint32());break;case 4:ir.consentProof=ConsentProofPayload.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{topic:isSet$7(tr.topic)?String(tr.topic):"",context:isSet$7(tr.context)?InvitationV1_Context.fromJSON(tr.context):void 0,aes256GcmHkdfSha256:isSet$7(tr.aes256GcmHkdfSha256)?InvitationV1_Aes256gcmHkdfsha256.fromJSON(tr.aes256GcmHkdfSha256):void 0,consentProof:isSet$7(tr.consentProof)?ConsentProofPayload.fromJSON(tr.consentProof):void 0}},toJSON(tr){const er={};return tr.topic!==void 0&&(er.topic=tr.topic),tr.context!==void 0&&(er.context=tr.context?InvitationV1_Context.toJSON(tr.context):void 0),tr.aes256GcmHkdfSha256!==void 0&&(er.aes256GcmHkdfSha256=tr.aes256GcmHkdfSha256?InvitationV1_Aes256gcmHkdfsha256.toJSON(tr.aes256GcmHkdfSha256):void 0),tr.consentProof!==void 0&&(er.consentProof=tr.consentProof?ConsentProofPayload.toJSON(tr.consentProof):void 0),er},fromPartial(tr){var er;const rr=createBaseInvitationV1();return rr.topic=(er=tr.topic)!==null&&er!==void 0?er:"",rr.context=tr.context!==void 0&&tr.context!==null?InvitationV1_Context.fromPartial(tr.context):void 0,rr.aes256GcmHkdfSha256=tr.aes256GcmHkdfSha256!==void 0&&tr.aes256GcmHkdfSha256!==null?InvitationV1_Aes256gcmHkdfsha256.fromPartial(tr.aes256GcmHkdfSha256):void 0,rr.consentProof=tr.consentProof!==void 0&&tr.consentProof!==null?ConsentProofPayload.fromPartial(tr.consentProof):void 0,rr}};function createBaseInvitationV1_Aes256gcmHkdfsha256(){return{keyMaterial:new Uint8Array}}const InvitationV1_Aes256gcmHkdfsha256={encode(tr,er=_m0.Writer.create()){return tr.keyMaterial.length!==0&&er.uint32(10).bytes(tr.keyMaterial),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseInvitationV1_Aes256gcmHkdfsha256();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.keyMaterial=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{keyMaterial:isSet$7(tr.keyMaterial)?bytesFromBase64$4(tr.keyMaterial):new Uint8Array}},toJSON(tr){const er={};return tr.keyMaterial!==void 0&&(er.keyMaterial=base64FromBytes$4(tr.keyMaterial!==void 0?tr.keyMaterial:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseInvitationV1_Aes256gcmHkdfsha256();return rr.keyMaterial=(er=tr.keyMaterial)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBaseInvitationV1_Context(){return{conversationId:"",metadata:{}}}const InvitationV1_Context={encode(tr,er=_m0.Writer.create()){return tr.conversationId!==""&&er.uint32(10).string(tr.conversationId),Object.entries(tr.metadata).forEach(([rr,nr])=>{InvitationV1_Context_MetadataEntry.encode({key:rr,value:nr},er.uint32(18).fork()).ldelim()}),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseInvitationV1_Context();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.conversationId=rr.string();break;case 2:const sr=InvitationV1_Context_MetadataEntry.decode(rr,rr.uint32());sr.value!==void 0&&(ir.metadata[sr.key]=sr.value);break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{conversationId:isSet$7(tr.conversationId)?String(tr.conversationId):"",metadata:isObject$6(tr.metadata)?Object.entries(tr.metadata).reduce((er,[rr,nr])=>(er[rr]=String(nr),er),{}):{}}},toJSON(tr){const er={};return tr.conversationId!==void 0&&(er.conversationId=tr.conversationId),er.metadata={},tr.metadata&&Object.entries(tr.metadata).forEach(([rr,nr])=>{er.metadata[rr]=nr}),er},fromPartial(tr){var er,rr;const nr=createBaseInvitationV1_Context();return nr.conversationId=(er=tr.conversationId)!==null&&er!==void 0?er:"",nr.metadata=Object.entries((rr=tr.metadata)!==null&&rr!==void 0?rr:{}).reduce((ir,[or,sr])=>(sr!==void 0&&(ir[or]=String(sr)),ir),{}),nr}};function createBaseInvitationV1_Context_MetadataEntry(){return{key:"",value:""}}const InvitationV1_Context_MetadataEntry={encode(tr,er=_m0.Writer.create()){return tr.key!==""&&er.uint32(10).string(tr.key),tr.value!==""&&er.uint32(18).string(tr.value),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseInvitationV1_Context_MetadataEntry();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.key=rr.string();break;case 2:ir.value=rr.string();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{key:isSet$7(tr.key)?String(tr.key):"",value:isSet$7(tr.value)?String(tr.value):""}},toJSON(tr){const er={};return tr.key!==void 0&&(er.key=tr.key),tr.value!==void 0&&(er.value=tr.value),er},fromPartial(tr){var er,rr;const nr=createBaseInvitationV1_Context_MetadataEntry();return nr.key=(er=tr.key)!==null&&er!==void 0?er:"",nr.value=(rr=tr.value)!==null&&rr!==void 0?rr:"",nr}};function createBaseSealedInvitationHeaderV1(){return{sender:void 0,recipient:void 0,createdNs:Long.UZERO}}const SealedInvitationHeaderV1={encode(tr,er=_m0.Writer.create()){return tr.sender!==void 0&&SignedPublicKeyBundle.encode(tr.sender,er.uint32(10).fork()).ldelim(),tr.recipient!==void 0&&SignedPublicKeyBundle.encode(tr.recipient,er.uint32(18).fork()).ldelim(),tr.createdNs.isZero()||er.uint32(24).uint64(tr.createdNs),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSealedInvitationHeaderV1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.sender=SignedPublicKeyBundle.decode(rr,rr.uint32());break;case 2:ir.recipient=SignedPublicKeyBundle.decode(rr,rr.uint32());break;case 3:ir.createdNs=rr.uint64();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{sender:isSet$7(tr.sender)?SignedPublicKeyBundle.fromJSON(tr.sender):void 0,recipient:isSet$7(tr.recipient)?SignedPublicKeyBundle.fromJSON(tr.recipient):void 0,createdNs:isSet$7(tr.createdNs)?Long.fromValue(tr.createdNs):Long.UZERO}},toJSON(tr){const er={};return tr.sender!==void 0&&(er.sender=tr.sender?SignedPublicKeyBundle.toJSON(tr.sender):void 0),tr.recipient!==void 0&&(er.recipient=tr.recipient?SignedPublicKeyBundle.toJSON(tr.recipient):void 0),tr.createdNs!==void 0&&(er.createdNs=(tr.createdNs||Long.UZERO).toString()),er},fromPartial(tr){const er=createBaseSealedInvitationHeaderV1();return er.sender=tr.sender!==void 0&&tr.sender!==null?SignedPublicKeyBundle.fromPartial(tr.sender):void 0,er.recipient=tr.recipient!==void 0&&tr.recipient!==null?SignedPublicKeyBundle.fromPartial(tr.recipient):void 0,er.createdNs=tr.createdNs!==void 0&&tr.createdNs!==null?Long.fromValue(tr.createdNs):Long.UZERO,er}};function createBaseSealedInvitationV1(){return{headerBytes:new Uint8Array,ciphertext:void 0}}const SealedInvitationV1={encode(tr,er=_m0.Writer.create()){return tr.headerBytes.length!==0&&er.uint32(10).bytes(tr.headerBytes),tr.ciphertext!==void 0&&Ciphertext.encode(tr.ciphertext,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSealedInvitationV1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.headerBytes=rr.bytes();break;case 2:ir.ciphertext=Ciphertext.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{headerBytes:isSet$7(tr.headerBytes)?bytesFromBase64$4(tr.headerBytes):new Uint8Array,ciphertext:isSet$7(tr.ciphertext)?Ciphertext.fromJSON(tr.ciphertext):void 0}},toJSON(tr){const er={};return tr.headerBytes!==void 0&&(er.headerBytes=base64FromBytes$4(tr.headerBytes!==void 0?tr.headerBytes:new Uint8Array)),tr.ciphertext!==void 0&&(er.ciphertext=tr.ciphertext?Ciphertext.toJSON(tr.ciphertext):void 0),er},fromPartial(tr){var er;const rr=createBaseSealedInvitationV1();return rr.headerBytes=(er=tr.headerBytes)!==null&&er!==void 0?er:new Uint8Array,rr.ciphertext=tr.ciphertext!==void 0&&tr.ciphertext!==null?Ciphertext.fromPartial(tr.ciphertext):void 0,rr}};function createBaseSealedInvitation(){return{v1:void 0}}const SealedInvitation={encode(tr,er=_m0.Writer.create()){return tr.v1!==void 0&&SealedInvitationV1.encode(tr.v1,er.uint32(10).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSealedInvitation();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.v1=SealedInvitationV1.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{v1:isSet$7(tr.v1)?SealedInvitationV1.fromJSON(tr.v1):void 0}},toJSON(tr){const er={};return tr.v1!==void 0&&(er.v1=tr.v1?SealedInvitationV1.toJSON(tr.v1):void 0),er},fromPartial(tr){const er=createBaseSealedInvitation();return er.v1=tr.v1!==void 0&&tr.v1!==null?SealedInvitationV1.fromPartial(tr.v1):void 0,er}};function createBaseConsentProofPayload(){return{signature:"",timestamp:Long.UZERO,payloadVersion:0}}const ConsentProofPayload={encode(tr,er=_m0.Writer.create()){return tr.signature!==""&&er.uint32(10).string(tr.signature),tr.timestamp.isZero()||er.uint32(16).uint64(tr.timestamp),tr.payloadVersion!==0&&er.uint32(24).int32(tr.payloadVersion),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseConsentProofPayload();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.signature=rr.string();break;case 2:ir.timestamp=rr.uint64();break;case 3:ir.payloadVersion=rr.int32();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{signature:isSet$7(tr.signature)?String(tr.signature):"",timestamp:isSet$7(tr.timestamp)?Long.fromValue(tr.timestamp):Long.UZERO,payloadVersion:isSet$7(tr.payloadVersion)?consentProofPayloadVersionFromJSON(tr.payloadVersion):0}},toJSON(tr){const er={};return tr.signature!==void 0&&(er.signature=tr.signature),tr.timestamp!==void 0&&(er.timestamp=(tr.timestamp||Long.UZERO).toString()),tr.payloadVersion!==void 0&&(er.payloadVersion=consentProofPayloadVersionToJSON(tr.payloadVersion)),er},fromPartial(tr){var er,rr;const nr=createBaseConsentProofPayload();return nr.signature=(er=tr.signature)!==null&&er!==void 0?er:"",nr.timestamp=tr.timestamp!==void 0&&tr.timestamp!==null?Long.fromValue(tr.timestamp):Long.UZERO,nr.payloadVersion=(rr=tr.payloadVersion)!==null&&rr!==void 0?rr:0,nr}};var globalThis$u=(()=>{if(typeof globalThis$u<"u")return globalThis$u;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$u<"u")return globalThis$u;throw"Unable to locate global object"})();function bytesFromBase64$4(tr){if(globalThis$u.Buffer)return Uint8Array.from(globalThis$u.Buffer.from(tr,"base64"));{const er=globalThis$u.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes$4(tr){if(globalThis$u.Buffer)return globalThis$u.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$u.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isObject$6(tr){return typeof tr=="object"&&tr!==null}function isSet$7(tr){return tr!=null}function createBaseConversationReference(){return{topic:"",peerAddress:"",createdNs:Long.UZERO,context:void 0,consentProofPayload:void 0}}const ConversationReference={encode(tr,er=_m0.Writer.create()){return tr.topic!==""&&er.uint32(10).string(tr.topic),tr.peerAddress!==""&&er.uint32(18).string(tr.peerAddress),tr.createdNs.isZero()||er.uint32(24).uint64(tr.createdNs),tr.context!==void 0&&InvitationV1_Context.encode(tr.context,er.uint32(34).fork()).ldelim(),tr.consentProofPayload!==void 0&&ConsentProofPayload.encode(tr.consentProofPayload,er.uint32(42).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseConversationReference();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.topic=rr.string();break;case 2:ir.peerAddress=rr.string();break;case 3:ir.createdNs=rr.uint64();break;case 4:ir.context=InvitationV1_Context.decode(rr,rr.uint32());break;case 5:ir.consentProofPayload=ConsentProofPayload.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{topic:isSet$6(tr.topic)?String(tr.topic):"",peerAddress:isSet$6(tr.peerAddress)?String(tr.peerAddress):"",createdNs:isSet$6(tr.createdNs)?Long.fromValue(tr.createdNs):Long.UZERO,context:isSet$6(tr.context)?InvitationV1_Context.fromJSON(tr.context):void 0,consentProofPayload:isSet$6(tr.consentProofPayload)?ConsentProofPayload.fromJSON(tr.consentProofPayload):void 0}},toJSON(tr){const er={};return tr.topic!==void 0&&(er.topic=tr.topic),tr.peerAddress!==void 0&&(er.peerAddress=tr.peerAddress),tr.createdNs!==void 0&&(er.createdNs=(tr.createdNs||Long.UZERO).toString()),tr.context!==void 0&&(er.context=tr.context?InvitationV1_Context.toJSON(tr.context):void 0),tr.consentProofPayload!==void 0&&(er.consentProofPayload=tr.consentProofPayload?ConsentProofPayload.toJSON(tr.consentProofPayload):void 0),er},fromPartial(tr){var er,rr;const nr=createBaseConversationReference();return nr.topic=(er=tr.topic)!==null&&er!==void 0?er:"",nr.peerAddress=(rr=tr.peerAddress)!==null&&rr!==void 0?rr:"",nr.createdNs=tr.createdNs!==void 0&&tr.createdNs!==null?Long.fromValue(tr.createdNs):Long.UZERO,nr.context=tr.context!==void 0&&tr.context!==null?InvitationV1_Context.fromPartial(tr.context):void 0,nr.consentProofPayload=tr.consentProofPayload!==void 0&&tr.consentProofPayload!==null?ConsentProofPayload.fromPartial(tr.consentProofPayload):void 0,nr}};_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$6(tr){return tr!=null}function createBaseMessageHeaderV1(){return{sender:void 0,recipient:void 0,timestamp:Long.UZERO}}const MessageHeaderV1={encode(tr,er=_m0.Writer.create()){return tr.sender!==void 0&&PublicKeyBundle.encode(tr.sender,er.uint32(10).fork()).ldelim(),tr.recipient!==void 0&&PublicKeyBundle.encode(tr.recipient,er.uint32(18).fork()).ldelim(),tr.timestamp.isZero()||er.uint32(24).uint64(tr.timestamp),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseMessageHeaderV1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.sender=PublicKeyBundle.decode(rr,rr.uint32());break;case 2:ir.recipient=PublicKeyBundle.decode(rr,rr.uint32());break;case 3:ir.timestamp=rr.uint64();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{sender:isSet$5(tr.sender)?PublicKeyBundle.fromJSON(tr.sender):void 0,recipient:isSet$5(tr.recipient)?PublicKeyBundle.fromJSON(tr.recipient):void 0,timestamp:isSet$5(tr.timestamp)?Long.fromValue(tr.timestamp):Long.UZERO}},toJSON(tr){const er={};return tr.sender!==void 0&&(er.sender=tr.sender?PublicKeyBundle.toJSON(tr.sender):void 0),tr.recipient!==void 0&&(er.recipient=tr.recipient?PublicKeyBundle.toJSON(tr.recipient):void 0),tr.timestamp!==void 0&&(er.timestamp=(tr.timestamp||Long.UZERO).toString()),er},fromPartial(tr){const er=createBaseMessageHeaderV1();return er.sender=tr.sender!==void 0&&tr.sender!==null?PublicKeyBundle.fromPartial(tr.sender):void 0,er.recipient=tr.recipient!==void 0&&tr.recipient!==null?PublicKeyBundle.fromPartial(tr.recipient):void 0,er.timestamp=tr.timestamp!==void 0&&tr.timestamp!==null?Long.fromValue(tr.timestamp):Long.UZERO,er}};function createBaseMessageV1(){return{headerBytes:new Uint8Array,ciphertext:void 0}}const MessageV1={encode(tr,er=_m0.Writer.create()){return tr.headerBytes.length!==0&&er.uint32(10).bytes(tr.headerBytes),tr.ciphertext!==void 0&&Ciphertext.encode(tr.ciphertext,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseMessageV1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.headerBytes=rr.bytes();break;case 2:ir.ciphertext=Ciphertext.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{headerBytes:isSet$5(tr.headerBytes)?bytesFromBase64$3(tr.headerBytes):new Uint8Array,ciphertext:isSet$5(tr.ciphertext)?Ciphertext.fromJSON(tr.ciphertext):void 0}},toJSON(tr){const er={};return tr.headerBytes!==void 0&&(er.headerBytes=base64FromBytes$3(tr.headerBytes!==void 0?tr.headerBytes:new Uint8Array)),tr.ciphertext!==void 0&&(er.ciphertext=tr.ciphertext?Ciphertext.toJSON(tr.ciphertext):void 0),er},fromPartial(tr){var er;const rr=createBaseMessageV1();return rr.headerBytes=(er=tr.headerBytes)!==null&&er!==void 0?er:new Uint8Array,rr.ciphertext=tr.ciphertext!==void 0&&tr.ciphertext!==null?Ciphertext.fromPartial(tr.ciphertext):void 0,rr}};function createBaseMessageHeaderV2(){return{createdNs:Long.UZERO,topic:""}}const MessageHeaderV2={encode(tr,er=_m0.Writer.create()){return tr.createdNs.isZero()||er.uint32(8).uint64(tr.createdNs),tr.topic!==""&&er.uint32(18).string(tr.topic),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseMessageHeaderV2();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.createdNs=rr.uint64();break;case 2:ir.topic=rr.string();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{createdNs:isSet$5(tr.createdNs)?Long.fromValue(tr.createdNs):Long.UZERO,topic:isSet$5(tr.topic)?String(tr.topic):""}},toJSON(tr){const er={};return tr.createdNs!==void 0&&(er.createdNs=(tr.createdNs||Long.UZERO).toString()),tr.topic!==void 0&&(er.topic=tr.topic),er},fromPartial(tr){var er;const rr=createBaseMessageHeaderV2();return rr.createdNs=tr.createdNs!==void 0&&tr.createdNs!==null?Long.fromValue(tr.createdNs):Long.UZERO,rr.topic=(er=tr.topic)!==null&&er!==void 0?er:"",rr}};function createBaseMessageV2(){return{headerBytes:new Uint8Array,ciphertext:void 0,senderHmac:void 0,shouldPush:void 0}}const MessageV2={encode(tr,er=_m0.Writer.create()){return tr.headerBytes.length!==0&&er.uint32(10).bytes(tr.headerBytes),tr.ciphertext!==void 0&&Ciphertext.encode(tr.ciphertext,er.uint32(18).fork()).ldelim(),tr.senderHmac!==void 0&&er.uint32(26).bytes(tr.senderHmac),tr.shouldPush!==void 0&&er.uint32(32).bool(tr.shouldPush),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseMessageV2();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.headerBytes=rr.bytes();break;case 2:ir.ciphertext=Ciphertext.decode(rr,rr.uint32());break;case 3:ir.senderHmac=rr.bytes();break;case 4:ir.shouldPush=rr.bool();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{headerBytes:isSet$5(tr.headerBytes)?bytesFromBase64$3(tr.headerBytes):new Uint8Array,ciphertext:isSet$5(tr.ciphertext)?Ciphertext.fromJSON(tr.ciphertext):void 0,senderHmac:isSet$5(tr.senderHmac)?bytesFromBase64$3(tr.senderHmac):void 0,shouldPush:isSet$5(tr.shouldPush)?!!tr.shouldPush:void 0}},toJSON(tr){const er={};return tr.headerBytes!==void 0&&(er.headerBytes=base64FromBytes$3(tr.headerBytes!==void 0?tr.headerBytes:new Uint8Array)),tr.ciphertext!==void 0&&(er.ciphertext=tr.ciphertext?Ciphertext.toJSON(tr.ciphertext):void 0),tr.senderHmac!==void 0&&(er.senderHmac=tr.senderHmac!==void 0?base64FromBytes$3(tr.senderHmac):void 0),tr.shouldPush!==void 0&&(er.shouldPush=tr.shouldPush),er},fromPartial(tr){var er,rr,nr;const ir=createBaseMessageV2();return ir.headerBytes=(er=tr.headerBytes)!==null&&er!==void 0?er:new Uint8Array,ir.ciphertext=tr.ciphertext!==void 0&&tr.ciphertext!==null?Ciphertext.fromPartial(tr.ciphertext):void 0,ir.senderHmac=(rr=tr.senderHmac)!==null&&rr!==void 0?rr:void 0,ir.shouldPush=(nr=tr.shouldPush)!==null&&nr!==void 0?nr:void 0,ir}};function createBaseMessage(){return{v1:void 0,v2:void 0}}const Message={encode(tr,er=_m0.Writer.create()){return tr.v1!==void 0&&MessageV1.encode(tr.v1,er.uint32(10).fork()).ldelim(),tr.v2!==void 0&&MessageV2.encode(tr.v2,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseMessage();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.v1=MessageV1.decode(rr,rr.uint32());break;case 2:ir.v2=MessageV2.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{v1:isSet$5(tr.v1)?MessageV1.fromJSON(tr.v1):void 0,v2:isSet$5(tr.v2)?MessageV2.fromJSON(tr.v2):void 0}},toJSON(tr){const er={};return tr.v1!==void 0&&(er.v1=tr.v1?MessageV1.toJSON(tr.v1):void 0),tr.v2!==void 0&&(er.v2=tr.v2?MessageV2.toJSON(tr.v2):void 0),er},fromPartial(tr){const er=createBaseMessage();return er.v1=tr.v1!==void 0&&tr.v1!==null?MessageV1.fromPartial(tr.v1):void 0,er.v2=tr.v2!==void 0&&tr.v2!==null?MessageV2.fromPartial(tr.v2):void 0,er}};function createBaseDecodedMessage(){return{id:"",messageVersion:"",senderAddress:"",recipientAddress:void 0,sentNs:Long.UZERO,contentTopic:"",conversation:void 0,contentBytes:new Uint8Array}}const DecodedMessage={encode(tr,er=_m0.Writer.create()){return tr.id!==""&&er.uint32(10).string(tr.id),tr.messageVersion!==""&&er.uint32(18).string(tr.messageVersion),tr.senderAddress!==""&&er.uint32(26).string(tr.senderAddress),tr.recipientAddress!==void 0&&er.uint32(34).string(tr.recipientAddress),tr.sentNs.isZero()||er.uint32(40).uint64(tr.sentNs),tr.contentTopic!==""&&er.uint32(50).string(tr.contentTopic),tr.conversation!==void 0&&ConversationReference.encode(tr.conversation,er.uint32(58).fork()).ldelim(),tr.contentBytes.length!==0&&er.uint32(66).bytes(tr.contentBytes),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseDecodedMessage();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.id=rr.string();break;case 2:ir.messageVersion=rr.string();break;case 3:ir.senderAddress=rr.string();break;case 4:ir.recipientAddress=rr.string();break;case 5:ir.sentNs=rr.uint64();break;case 6:ir.contentTopic=rr.string();break;case 7:ir.conversation=ConversationReference.decode(rr,rr.uint32());break;case 8:ir.contentBytes=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{id:isSet$5(tr.id)?String(tr.id):"",messageVersion:isSet$5(tr.messageVersion)?String(tr.messageVersion):"",senderAddress:isSet$5(tr.senderAddress)?String(tr.senderAddress):"",recipientAddress:isSet$5(tr.recipientAddress)?String(tr.recipientAddress):void 0,sentNs:isSet$5(tr.sentNs)?Long.fromValue(tr.sentNs):Long.UZERO,contentTopic:isSet$5(tr.contentTopic)?String(tr.contentTopic):"",conversation:isSet$5(tr.conversation)?ConversationReference.fromJSON(tr.conversation):void 0,contentBytes:isSet$5(tr.contentBytes)?bytesFromBase64$3(tr.contentBytes):new Uint8Array}},toJSON(tr){const er={};return tr.id!==void 0&&(er.id=tr.id),tr.messageVersion!==void 0&&(er.messageVersion=tr.messageVersion),tr.senderAddress!==void 0&&(er.senderAddress=tr.senderAddress),tr.recipientAddress!==void 0&&(er.recipientAddress=tr.recipientAddress),tr.sentNs!==void 0&&(er.sentNs=(tr.sentNs||Long.UZERO).toString()),tr.contentTopic!==void 0&&(er.contentTopic=tr.contentTopic),tr.conversation!==void 0&&(er.conversation=tr.conversation?ConversationReference.toJSON(tr.conversation):void 0),tr.contentBytes!==void 0&&(er.contentBytes=base64FromBytes$3(tr.contentBytes!==void 0?tr.contentBytes:new Uint8Array)),er},fromPartial(tr){var er,rr,nr,ir,or,sr;const ar=createBaseDecodedMessage();return ar.id=(er=tr.id)!==null&&er!==void 0?er:"",ar.messageVersion=(rr=tr.messageVersion)!==null&&rr!==void 0?rr:"",ar.senderAddress=(nr=tr.senderAddress)!==null&&nr!==void 0?nr:"",ar.recipientAddress=(ir=tr.recipientAddress)!==null&&ir!==void 0?ir:void 0,ar.sentNs=tr.sentNs!==void 0&&tr.sentNs!==null?Long.fromValue(tr.sentNs):Long.UZERO,ar.contentTopic=(or=tr.contentTopic)!==null&&or!==void 0?or:"",ar.conversation=tr.conversation!==void 0&&tr.conversation!==null?ConversationReference.fromPartial(tr.conversation):void 0,ar.contentBytes=(sr=tr.contentBytes)!==null&&sr!==void 0?sr:new Uint8Array,ar}};var globalThis$t=(()=>{if(typeof globalThis$t<"u")return globalThis$t;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$t<"u")return globalThis$t;throw"Unable to locate global object"})();function bytesFromBase64$3(tr){if(globalThis$t.Buffer)return Uint8Array.from(globalThis$t.Buffer.from(tr,"base64"));{const er=globalThis$t.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes$3(tr){if(globalThis$t.Buffer)return globalThis$t.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$t.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$5(tr){return tr!=null}var Compression$2;(function(tr){tr[tr.COMPRESSION_DEFLATE=0]="COMPRESSION_DEFLATE",tr[tr.COMPRESSION_GZIP=1]="COMPRESSION_GZIP",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Compression$2||(Compression$2={}));function compressionFromJSON(tr){switch(tr){case 0:case"COMPRESSION_DEFLATE":return Compression$2.COMPRESSION_DEFLATE;case 1:case"COMPRESSION_GZIP":return Compression$2.COMPRESSION_GZIP;case-1:case"UNRECOGNIZED":default:return Compression$2.UNRECOGNIZED}}function compressionToJSON(tr){switch(tr){case Compression$2.COMPRESSION_DEFLATE:return"COMPRESSION_DEFLATE";case Compression$2.COMPRESSION_GZIP:return"COMPRESSION_GZIP";case Compression$2.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function createBaseContentTypeId(){return{authorityId:"",typeId:"",versionMajor:0,versionMinor:0}}const ContentTypeId={encode(tr,er=_m0.Writer.create()){return tr.authorityId!==""&&er.uint32(10).string(tr.authorityId),tr.typeId!==""&&er.uint32(18).string(tr.typeId),tr.versionMajor!==0&&er.uint32(24).uint32(tr.versionMajor),tr.versionMinor!==0&&er.uint32(32).uint32(tr.versionMinor),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseContentTypeId();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.authorityId=rr.string();break;case 2:ir.typeId=rr.string();break;case 3:ir.versionMajor=rr.uint32();break;case 4:ir.versionMinor=rr.uint32();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{authorityId:isSet$4(tr.authorityId)?String(tr.authorityId):"",typeId:isSet$4(tr.typeId)?String(tr.typeId):"",versionMajor:isSet$4(tr.versionMajor)?Number(tr.versionMajor):0,versionMinor:isSet$4(tr.versionMinor)?Number(tr.versionMinor):0}},toJSON(tr){const er={};return tr.authorityId!==void 0&&(er.authorityId=tr.authorityId),tr.typeId!==void 0&&(er.typeId=tr.typeId),tr.versionMajor!==void 0&&(er.versionMajor=Math.round(tr.versionMajor)),tr.versionMinor!==void 0&&(er.versionMinor=Math.round(tr.versionMinor)),er},fromPartial(tr){var er,rr,nr,ir;const or=createBaseContentTypeId();return or.authorityId=(er=tr.authorityId)!==null&&er!==void 0?er:"",or.typeId=(rr=tr.typeId)!==null&&rr!==void 0?rr:"",or.versionMajor=(nr=tr.versionMajor)!==null&&nr!==void 0?nr:0,or.versionMinor=(ir=tr.versionMinor)!==null&&ir!==void 0?ir:0,or}};function createBaseEncodedContent(){return{type:void 0,parameters:{},fallback:void 0,compression:void 0,content:new Uint8Array}}const EncodedContent={encode(tr,er=_m0.Writer.create()){return tr.type!==void 0&&ContentTypeId.encode(tr.type,er.uint32(10).fork()).ldelim(),Object.entries(tr.parameters).forEach(([rr,nr])=>{EncodedContent_ParametersEntry.encode({key:rr,value:nr},er.uint32(18).fork()).ldelim()}),tr.fallback!==void 0&&er.uint32(26).string(tr.fallback),tr.compression!==void 0&&er.uint32(40).int32(tr.compression),tr.content.length!==0&&er.uint32(34).bytes(tr.content),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncodedContent();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.type=ContentTypeId.decode(rr,rr.uint32());break;case 2:const sr=EncodedContent_ParametersEntry.decode(rr,rr.uint32());sr.value!==void 0&&(ir.parameters[sr.key]=sr.value);break;case 3:ir.fallback=rr.string();break;case 5:ir.compression=rr.int32();break;case 4:ir.content=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{type:isSet$4(tr.type)?ContentTypeId.fromJSON(tr.type):void 0,parameters:isObject$5(tr.parameters)?Object.entries(tr.parameters).reduce((er,[rr,nr])=>(er[rr]=String(nr),er),{}):{},fallback:isSet$4(tr.fallback)?String(tr.fallback):void 0,compression:isSet$4(tr.compression)?compressionFromJSON(tr.compression):void 0,content:isSet$4(tr.content)?bytesFromBase64$2(tr.content):new Uint8Array}},toJSON(tr){const er={};return tr.type!==void 0&&(er.type=tr.type?ContentTypeId.toJSON(tr.type):void 0),er.parameters={},tr.parameters&&Object.entries(tr.parameters).forEach(([rr,nr])=>{er.parameters[rr]=nr}),tr.fallback!==void 0&&(er.fallback=tr.fallback),tr.compression!==void 0&&(er.compression=tr.compression!==void 0?compressionToJSON(tr.compression):void 0),tr.content!==void 0&&(er.content=base64FromBytes$2(tr.content!==void 0?tr.content:new Uint8Array)),er},fromPartial(tr){var er,rr,nr,ir;const or=createBaseEncodedContent();return or.type=tr.type!==void 0&&tr.type!==null?ContentTypeId.fromPartial(tr.type):void 0,or.parameters=Object.entries((er=tr.parameters)!==null&&er!==void 0?er:{}).reduce((sr,[ar,cr])=>(cr!==void 0&&(sr[ar]=String(cr)),sr),{}),or.fallback=(rr=tr.fallback)!==null&&rr!==void 0?rr:void 0,or.compression=(nr=tr.compression)!==null&&nr!==void 0?nr:void 0,or.content=(ir=tr.content)!==null&&ir!==void 0?ir:new Uint8Array,or}};function createBaseEncodedContent_ParametersEntry(){return{key:"",value:""}}const EncodedContent_ParametersEntry={encode(tr,er=_m0.Writer.create()){return tr.key!==""&&er.uint32(10).string(tr.key),tr.value!==""&&er.uint32(18).string(tr.value),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncodedContent_ParametersEntry();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.key=rr.string();break;case 2:ir.value=rr.string();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{key:isSet$4(tr.key)?String(tr.key):"",value:isSet$4(tr.value)?String(tr.value):""}},toJSON(tr){const er={};return tr.key!==void 0&&(er.key=tr.key),tr.value!==void 0&&(er.value=tr.value),er},fromPartial(tr){var er,rr;const nr=createBaseEncodedContent_ParametersEntry();return nr.key=(er=tr.key)!==null&&er!==void 0?er:"",nr.value=(rr=tr.value)!==null&&rr!==void 0?rr:"",nr}};function createBaseSignedContent(){return{payload:new Uint8Array,sender:void 0,signature:void 0}}const SignedContent={encode(tr,er=_m0.Writer.create()){return tr.payload.length!==0&&er.uint32(10).bytes(tr.payload),tr.sender!==void 0&&SignedPublicKeyBundle.encode(tr.sender,er.uint32(18).fork()).ldelim(),tr.signature!==void 0&&Signature$5.encode(tr.signature,er.uint32(26).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignedContent();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.payload=rr.bytes();break;case 2:ir.sender=SignedPublicKeyBundle.decode(rr,rr.uint32());break;case 3:ir.signature=Signature$5.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{payload:isSet$4(tr.payload)?bytesFromBase64$2(tr.payload):new Uint8Array,sender:isSet$4(tr.sender)?SignedPublicKeyBundle.fromJSON(tr.sender):void 0,signature:isSet$4(tr.signature)?Signature$5.fromJSON(tr.signature):void 0}},toJSON(tr){const er={};return tr.payload!==void 0&&(er.payload=base64FromBytes$2(tr.payload!==void 0?tr.payload:new Uint8Array)),tr.sender!==void 0&&(er.sender=tr.sender?SignedPublicKeyBundle.toJSON(tr.sender):void 0),tr.signature!==void 0&&(er.signature=tr.signature?Signature$5.toJSON(tr.signature):void 0),er},fromPartial(tr){var er;const rr=createBaseSignedContent();return rr.payload=(er=tr.payload)!==null&&er!==void 0?er:new Uint8Array,rr.sender=tr.sender!==void 0&&tr.sender!==null?SignedPublicKeyBundle.fromPartial(tr.sender):void 0,rr.signature=tr.signature!==void 0&&tr.signature!==null?Signature$5.fromPartial(tr.signature):void 0,rr}};var globalThis$s=(()=>{if(typeof globalThis$s<"u")return globalThis$s;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$s<"u")return globalThis$s;throw"Unable to locate global object"})();function bytesFromBase64$2(tr){if(globalThis$s.Buffer)return Uint8Array.from(globalThis$s.Buffer.from(tr,"base64"));{const er=globalThis$s.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes$2(tr){if(globalThis$s.Buffer)return globalThis$s.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$s.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isObject$5(tr){return typeof tr=="object"&&tr!==null}function isSet$4(tr){return tr!=null}var globalThis$r=(()=>{if(typeof globalThis$r<"u")return globalThis$r;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$r<"u")return globalThis$r;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function createBaseSignedPrivateKey(){return{createdNs:Long.UZERO,secp256k1:void 0,publicKey:void 0}}const SignedPrivateKey={encode(tr,er=_m0.Writer.create()){return tr.createdNs.isZero()||er.uint32(8).uint64(tr.createdNs),tr.secp256k1!==void 0&&SignedPrivateKey_Secp256k1.encode(tr.secp256k1,er.uint32(18).fork()).ldelim(),tr.publicKey!==void 0&&SignedPublicKey.encode(tr.publicKey,er.uint32(26).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignedPrivateKey();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.createdNs=rr.uint64();break;case 2:ir.secp256k1=SignedPrivateKey_Secp256k1.decode(rr,rr.uint32());break;case 3:ir.publicKey=SignedPublicKey.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{createdNs:isSet$3(tr.createdNs)?Long.fromValue(tr.createdNs):Long.UZERO,secp256k1:isSet$3(tr.secp256k1)?SignedPrivateKey_Secp256k1.fromJSON(tr.secp256k1):void 0,publicKey:isSet$3(tr.publicKey)?SignedPublicKey.fromJSON(tr.publicKey):void 0}},toJSON(tr){const er={};return tr.createdNs!==void 0&&(er.createdNs=(tr.createdNs||Long.UZERO).toString()),tr.secp256k1!==void 0&&(er.secp256k1=tr.secp256k1?SignedPrivateKey_Secp256k1.toJSON(tr.secp256k1):void 0),tr.publicKey!==void 0&&(er.publicKey=tr.publicKey?SignedPublicKey.toJSON(tr.publicKey):void 0),er},fromPartial(tr){const er=createBaseSignedPrivateKey();return er.createdNs=tr.createdNs!==void 0&&tr.createdNs!==null?Long.fromValue(tr.createdNs):Long.UZERO,er.secp256k1=tr.secp256k1!==void 0&&tr.secp256k1!==null?SignedPrivateKey_Secp256k1.fromPartial(tr.secp256k1):void 0,er.publicKey=tr.publicKey!==void 0&&tr.publicKey!==null?SignedPublicKey.fromPartial(tr.publicKey):void 0,er}};function createBaseSignedPrivateKey_Secp256k1(){return{bytes:new Uint8Array}}const SignedPrivateKey_Secp256k1={encode(tr,er=_m0.Writer.create()){return tr.bytes.length!==0&&er.uint32(10).bytes(tr.bytes),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignedPrivateKey_Secp256k1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.bytes=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{bytes:isSet$3(tr.bytes)?bytesFromBase64$1(tr.bytes):new Uint8Array}},toJSON(tr){const er={};return tr.bytes!==void 0&&(er.bytes=base64FromBytes$1(tr.bytes!==void 0?tr.bytes:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseSignedPrivateKey_Secp256k1();return rr.bytes=(er=tr.bytes)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBasePrivateKeyBundleV2(){return{identityKey:void 0,preKeys:[]}}const PrivateKeyBundleV2={encode(tr,er=_m0.Writer.create()){tr.identityKey!==void 0&&SignedPrivateKey.encode(tr.identityKey,er.uint32(10).fork()).ldelim();for(const rr of tr.preKeys)SignedPrivateKey.encode(rr,er.uint32(18).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivateKeyBundleV2();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.identityKey=SignedPrivateKey.decode(rr,rr.uint32());break;case 2:ir.preKeys.push(SignedPrivateKey.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{identityKey:isSet$3(tr.identityKey)?SignedPrivateKey.fromJSON(tr.identityKey):void 0,preKeys:Array.isArray(tr?.preKeys)?tr.preKeys.map(er=>SignedPrivateKey.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.identityKey!==void 0&&(er.identityKey=tr.identityKey?SignedPrivateKey.toJSON(tr.identityKey):void 0),tr.preKeys?er.preKeys=tr.preKeys.map(rr=>rr?SignedPrivateKey.toJSON(rr):void 0):er.preKeys=[],er},fromPartial(tr){var er;const rr=createBasePrivateKeyBundleV2();return rr.identityKey=tr.identityKey!==void 0&&tr.identityKey!==null?SignedPrivateKey.fromPartial(tr.identityKey):void 0,rr.preKeys=((er=tr.preKeys)===null||er===void 0?void 0:er.map(nr=>SignedPrivateKey.fromPartial(nr)))||[],rr}};function createBasePrivateKey(){return{timestamp:Long.UZERO,secp256k1:void 0,publicKey:void 0}}const PrivateKey={encode(tr,er=_m0.Writer.create()){return tr.timestamp.isZero()||er.uint32(8).uint64(tr.timestamp),tr.secp256k1!==void 0&&PrivateKey_Secp256k1.encode(tr.secp256k1,er.uint32(18).fork()).ldelim(),tr.publicKey!==void 0&&PublicKey.encode(tr.publicKey,er.uint32(26).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivateKey();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.timestamp=rr.uint64();break;case 2:ir.secp256k1=PrivateKey_Secp256k1.decode(rr,rr.uint32());break;case 3:ir.publicKey=PublicKey.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{timestamp:isSet$3(tr.timestamp)?Long.fromValue(tr.timestamp):Long.UZERO,secp256k1:isSet$3(tr.secp256k1)?PrivateKey_Secp256k1.fromJSON(tr.secp256k1):void 0,publicKey:isSet$3(tr.publicKey)?PublicKey.fromJSON(tr.publicKey):void 0}},toJSON(tr){const er={};return tr.timestamp!==void 0&&(er.timestamp=(tr.timestamp||Long.UZERO).toString()),tr.secp256k1!==void 0&&(er.secp256k1=tr.secp256k1?PrivateKey_Secp256k1.toJSON(tr.secp256k1):void 0),tr.publicKey!==void 0&&(er.publicKey=tr.publicKey?PublicKey.toJSON(tr.publicKey):void 0),er},fromPartial(tr){const er=createBasePrivateKey();return er.timestamp=tr.timestamp!==void 0&&tr.timestamp!==null?Long.fromValue(tr.timestamp):Long.UZERO,er.secp256k1=tr.secp256k1!==void 0&&tr.secp256k1!==null?PrivateKey_Secp256k1.fromPartial(tr.secp256k1):void 0,er.publicKey=tr.publicKey!==void 0&&tr.publicKey!==null?PublicKey.fromPartial(tr.publicKey):void 0,er}};function createBasePrivateKey_Secp256k1(){return{bytes:new Uint8Array}}const PrivateKey_Secp256k1={encode(tr,er=_m0.Writer.create()){return tr.bytes.length!==0&&er.uint32(10).bytes(tr.bytes),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivateKey_Secp256k1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.bytes=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{bytes:isSet$3(tr.bytes)?bytesFromBase64$1(tr.bytes):new Uint8Array}},toJSON(tr){const er={};return tr.bytes!==void 0&&(er.bytes=base64FromBytes$1(tr.bytes!==void 0?tr.bytes:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBasePrivateKey_Secp256k1();return rr.bytes=(er=tr.bytes)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBasePrivateKeyBundleV1(){return{identityKey:void 0,preKeys:[]}}const PrivateKeyBundleV1={encode(tr,er=_m0.Writer.create()){tr.identityKey!==void 0&&PrivateKey.encode(tr.identityKey,er.uint32(10).fork()).ldelim();for(const rr of tr.preKeys)PrivateKey.encode(rr,er.uint32(18).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivateKeyBundleV1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.identityKey=PrivateKey.decode(rr,rr.uint32());break;case 2:ir.preKeys.push(PrivateKey.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{identityKey:isSet$3(tr.identityKey)?PrivateKey.fromJSON(tr.identityKey):void 0,preKeys:Array.isArray(tr?.preKeys)?tr.preKeys.map(er=>PrivateKey.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.identityKey!==void 0&&(er.identityKey=tr.identityKey?PrivateKey.toJSON(tr.identityKey):void 0),tr.preKeys?er.preKeys=tr.preKeys.map(rr=>rr?PrivateKey.toJSON(rr):void 0):er.preKeys=[],er},fromPartial(tr){var er;const rr=createBasePrivateKeyBundleV1();return rr.identityKey=tr.identityKey!==void 0&&tr.identityKey!==null?PrivateKey.fromPartial(tr.identityKey):void 0,rr.preKeys=((er=tr.preKeys)===null||er===void 0?void 0:er.map(nr=>PrivateKey.fromPartial(nr)))||[],rr}};function createBasePrivateKeyBundle(){return{v1:void 0,v2:void 0}}const PrivateKeyBundle={encode(tr,er=_m0.Writer.create()){return tr.v1!==void 0&&PrivateKeyBundleV1.encode(tr.v1,er.uint32(10).fork()).ldelim(),tr.v2!==void 0&&PrivateKeyBundleV2.encode(tr.v2,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivateKeyBundle();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.v1=PrivateKeyBundleV1.decode(rr,rr.uint32());break;case 2:ir.v2=PrivateKeyBundleV2.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{v1:isSet$3(tr.v1)?PrivateKeyBundleV1.fromJSON(tr.v1):void 0,v2:isSet$3(tr.v2)?PrivateKeyBundleV2.fromJSON(tr.v2):void 0}},toJSON(tr){const er={};return tr.v1!==void 0&&(er.v1=tr.v1?PrivateKeyBundleV1.toJSON(tr.v1):void 0),tr.v2!==void 0&&(er.v2=tr.v2?PrivateKeyBundleV2.toJSON(tr.v2):void 0),er},fromPartial(tr){const er=createBasePrivateKeyBundle();return er.v1=tr.v1!==void 0&&tr.v1!==null?PrivateKeyBundleV1.fromPartial(tr.v1):void 0,er.v2=tr.v2!==void 0&&tr.v2!==null?PrivateKeyBundleV2.fromPartial(tr.v2):void 0,er}};function createBaseEncryptedPrivateKeyBundleV1(){return{walletPreKey:new Uint8Array,ciphertext:void 0}}const EncryptedPrivateKeyBundleV1={encode(tr,er=_m0.Writer.create()){return tr.walletPreKey.length!==0&&er.uint32(10).bytes(tr.walletPreKey),tr.ciphertext!==void 0&&Ciphertext.encode(tr.ciphertext,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptedPrivateKeyBundleV1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.walletPreKey=rr.bytes();break;case 2:ir.ciphertext=Ciphertext.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{walletPreKey:isSet$3(tr.walletPreKey)?bytesFromBase64$1(tr.walletPreKey):new Uint8Array,ciphertext:isSet$3(tr.ciphertext)?Ciphertext.fromJSON(tr.ciphertext):void 0}},toJSON(tr){const er={};return tr.walletPreKey!==void 0&&(er.walletPreKey=base64FromBytes$1(tr.walletPreKey!==void 0?tr.walletPreKey:new Uint8Array)),tr.ciphertext!==void 0&&(er.ciphertext=tr.ciphertext?Ciphertext.toJSON(tr.ciphertext):void 0),er},fromPartial(tr){var er;const rr=createBaseEncryptedPrivateKeyBundleV1();return rr.walletPreKey=(er=tr.walletPreKey)!==null&&er!==void 0?er:new Uint8Array,rr.ciphertext=tr.ciphertext!==void 0&&tr.ciphertext!==null?Ciphertext.fromPartial(tr.ciphertext):void 0,rr}};function createBaseEncryptedPrivateKeyBundle(){return{v1:void 0}}const EncryptedPrivateKeyBundle={encode(tr,er=_m0.Writer.create()){return tr.v1!==void 0&&EncryptedPrivateKeyBundleV1.encode(tr.v1,er.uint32(10).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptedPrivateKeyBundle();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.v1=EncryptedPrivateKeyBundleV1.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{v1:isSet$3(tr.v1)?EncryptedPrivateKeyBundleV1.fromJSON(tr.v1):void 0}},toJSON(tr){const er={};return tr.v1!==void 0&&(er.v1=tr.v1?EncryptedPrivateKeyBundleV1.toJSON(tr.v1):void 0),er},fromPartial(tr){const er=createBaseEncryptedPrivateKeyBundle();return er.v1=tr.v1!==void 0&&tr.v1!==null?EncryptedPrivateKeyBundleV1.fromPartial(tr.v1):void 0,er}};var globalThis$q=(()=>{if(typeof globalThis$q<"u")return globalThis$q;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$q<"u")return globalThis$q;throw"Unable to locate global object"})();function bytesFromBase64$1(tr){if(globalThis$q.Buffer)return Uint8Array.from(globalThis$q.Buffer.from(tr,"base64"));{const er=globalThis$q.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes$1(tr){if(globalThis$q.Buffer)return globalThis$q.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$q.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$3(tr){return tr!=null}function createBaseContactBundleV1(){return{keyBundle:void 0}}const ContactBundleV1={encode(tr,er=_m0.Writer.create()){return tr.keyBundle!==void 0&&PublicKeyBundle.encode(tr.keyBundle,er.uint32(10).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseContactBundleV1();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.keyBundle=PublicKeyBundle.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{keyBundle:isSet$2(tr.keyBundle)?PublicKeyBundle.fromJSON(tr.keyBundle):void 0}},toJSON(tr){const er={};return tr.keyBundle!==void 0&&(er.keyBundle=tr.keyBundle?PublicKeyBundle.toJSON(tr.keyBundle):void 0),er},fromPartial(tr){const er=createBaseContactBundleV1();return er.keyBundle=tr.keyBundle!==void 0&&tr.keyBundle!==null?PublicKeyBundle.fromPartial(tr.keyBundle):void 0,er}};function createBaseContactBundleV2(){return{keyBundle:void 0}}const ContactBundleV2={encode(tr,er=_m0.Writer.create()){return tr.keyBundle!==void 0&&SignedPublicKeyBundle.encode(tr.keyBundle,er.uint32(10).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseContactBundleV2();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.keyBundle=SignedPublicKeyBundle.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{keyBundle:isSet$2(tr.keyBundle)?SignedPublicKeyBundle.fromJSON(tr.keyBundle):void 0}},toJSON(tr){const er={};return tr.keyBundle!==void 0&&(er.keyBundle=tr.keyBundle?SignedPublicKeyBundle.toJSON(tr.keyBundle):void 0),er},fromPartial(tr){const er=createBaseContactBundleV2();return er.keyBundle=tr.keyBundle!==void 0&&tr.keyBundle!==null?SignedPublicKeyBundle.fromPartial(tr.keyBundle):void 0,er}};function createBaseContactBundle(){return{v1:void 0,v2:void 0}}const ContactBundle={encode(tr,er=_m0.Writer.create()){return tr.v1!==void 0&&ContactBundleV1.encode(tr.v1,er.uint32(10).fork()).ldelim(),tr.v2!==void 0&&ContactBundleV2.encode(tr.v2,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseContactBundle();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.v1=ContactBundleV1.decode(rr,rr.uint32());break;case 2:ir.v2=ContactBundleV2.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{v1:isSet$2(tr.v1)?ContactBundleV1.fromJSON(tr.v1):void 0,v2:isSet$2(tr.v2)?ContactBundleV2.fromJSON(tr.v2):void 0}},toJSON(tr){const er={};return tr.v1!==void 0&&(er.v1=tr.v1?ContactBundleV1.toJSON(tr.v1):void 0),tr.v2!==void 0&&(er.v2=tr.v2?ContactBundleV2.toJSON(tr.v2):void 0),er},fromPartial(tr){const er=createBaseContactBundle();return er.v1=tr.v1!==void 0&&tr.v1!==null?ContactBundleV1.fromPartial(tr.v1):void 0,er.v2=tr.v2!==void 0&&tr.v2!==null?ContactBundleV2.fromPartial(tr.v2):void 0,er}};_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$2(tr){return tr!=null}const protobufPackage="xmtp.keystore_api.v1";var ErrorCode$1;(function(tr){tr[tr.ERROR_CODE_UNSPECIFIED=0]="ERROR_CODE_UNSPECIFIED",tr[tr.ERROR_CODE_INVALID_INPUT=1]="ERROR_CODE_INVALID_INPUT",tr[tr.ERROR_CODE_NO_MATCHING_PREKEY=2]="ERROR_CODE_NO_MATCHING_PREKEY",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ErrorCode$1||(ErrorCode$1={}));function errorCodeFromJSON(tr){switch(tr){case 0:case"ERROR_CODE_UNSPECIFIED":return ErrorCode$1.ERROR_CODE_UNSPECIFIED;case 1:case"ERROR_CODE_INVALID_INPUT":return ErrorCode$1.ERROR_CODE_INVALID_INPUT;case 2:case"ERROR_CODE_NO_MATCHING_PREKEY":return ErrorCode$1.ERROR_CODE_NO_MATCHING_PREKEY;case-1:case"UNRECOGNIZED":default:return ErrorCode$1.UNRECOGNIZED}}function errorCodeToJSON(tr){switch(tr){case ErrorCode$1.ERROR_CODE_UNSPECIFIED:return"ERROR_CODE_UNSPECIFIED";case ErrorCode$1.ERROR_CODE_INVALID_INPUT:return"ERROR_CODE_INVALID_INPUT";case ErrorCode$1.ERROR_CODE_NO_MATCHING_PREKEY:return"ERROR_CODE_NO_MATCHING_PREKEY";case ErrorCode$1.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var JobType$1;(function(tr){tr[tr.JOB_TYPE_UNSPECIFIED=0]="JOB_TYPE_UNSPECIFIED",tr[tr.JOB_TYPE_REFRESH_V1=1]="JOB_TYPE_REFRESH_V1",tr[tr.JOB_TYPE_REFRESH_V2=2]="JOB_TYPE_REFRESH_V2",tr[tr.JOB_TYPE_REFRESH_PPPP=3]="JOB_TYPE_REFRESH_PPPP",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(JobType$1||(JobType$1={}));function jobTypeFromJSON(tr){switch(tr){case 0:case"JOB_TYPE_UNSPECIFIED":return JobType$1.JOB_TYPE_UNSPECIFIED;case 1:case"JOB_TYPE_REFRESH_V1":return JobType$1.JOB_TYPE_REFRESH_V1;case 2:case"JOB_TYPE_REFRESH_V2":return JobType$1.JOB_TYPE_REFRESH_V2;case 3:case"JOB_TYPE_REFRESH_PPPP":return JobType$1.JOB_TYPE_REFRESH_PPPP;case-1:case"UNRECOGNIZED":default:return JobType$1.UNRECOGNIZED}}function jobTypeToJSON(tr){switch(tr){case JobType$1.JOB_TYPE_UNSPECIFIED:return"JOB_TYPE_UNSPECIFIED";case JobType$1.JOB_TYPE_REFRESH_V1:return"JOB_TYPE_REFRESH_V1";case JobType$1.JOB_TYPE_REFRESH_V2:return"JOB_TYPE_REFRESH_V2";case JobType$1.JOB_TYPE_REFRESH_PPPP:return"JOB_TYPE_REFRESH_PPPP";case JobType$1.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var GetKeystoreStatusResponse_KeystoreStatus$1;(function(tr){tr[tr.KEYSTORE_STATUS_UNSPECIFIED=0]="KEYSTORE_STATUS_UNSPECIFIED",tr[tr.KEYSTORE_STATUS_UNINITIALIZED=1]="KEYSTORE_STATUS_UNINITIALIZED",tr[tr.KEYSTORE_STATUS_INITIALIZED=2]="KEYSTORE_STATUS_INITIALIZED",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(GetKeystoreStatusResponse_KeystoreStatus$1||(GetKeystoreStatusResponse_KeystoreStatus$1={}));function getKeystoreStatusResponse_KeystoreStatusFromJSON(tr){switch(tr){case 0:case"KEYSTORE_STATUS_UNSPECIFIED":return GetKeystoreStatusResponse_KeystoreStatus$1.KEYSTORE_STATUS_UNSPECIFIED;case 1:case"KEYSTORE_STATUS_UNINITIALIZED":return GetKeystoreStatusResponse_KeystoreStatus$1.KEYSTORE_STATUS_UNINITIALIZED;case 2:case"KEYSTORE_STATUS_INITIALIZED":return GetKeystoreStatusResponse_KeystoreStatus$1.KEYSTORE_STATUS_INITIALIZED;case-1:case"UNRECOGNIZED":default:return GetKeystoreStatusResponse_KeystoreStatus$1.UNRECOGNIZED}}function getKeystoreStatusResponse_KeystoreStatusToJSON(tr){switch(tr){case GetKeystoreStatusResponse_KeystoreStatus$1.KEYSTORE_STATUS_UNSPECIFIED:return"KEYSTORE_STATUS_UNSPECIFIED";case GetKeystoreStatusResponse_KeystoreStatus$1.KEYSTORE_STATUS_UNINITIALIZED:return"KEYSTORE_STATUS_UNINITIALIZED";case GetKeystoreStatusResponse_KeystoreStatus$1.KEYSTORE_STATUS_INITIALIZED:return"KEYSTORE_STATUS_INITIALIZED";case GetKeystoreStatusResponse_KeystoreStatus$1.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function createBaseKeystoreError(){return{message:"",code:0}}const KeystoreError={encode(tr,er=_m0.Writer.create()){return tr.message!==""&&er.uint32(10).string(tr.message),tr.code!==0&&er.uint32(16).int32(tr.code),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseKeystoreError();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.message=rr.string();break;case 2:ir.code=rr.int32();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{message:isSet$1(tr.message)?String(tr.message):"",code:isSet$1(tr.code)?errorCodeFromJSON(tr.code):0}},toJSON(tr){const er={};return tr.message!==void 0&&(er.message=tr.message),tr.code!==void 0&&(er.code=errorCodeToJSON(tr.code)),er},fromPartial(tr){var er,rr;const nr=createBaseKeystoreError();return nr.message=(er=tr.message)!==null&&er!==void 0?er:"",nr.code=(rr=tr.code)!==null&&rr!==void 0?rr:0,nr}};function createBaseDecryptV1Request(){return{requests:[]}}const DecryptV1Request={encode(tr,er=_m0.Writer.create()){for(const rr of tr.requests)DecryptV1Request_Request.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseDecryptV1Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.requests.push(DecryptV1Request_Request.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{requests:Array.isArray(tr?.requests)?tr.requests.map(er=>DecryptV1Request_Request.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.requests?er.requests=tr.requests.map(rr=>rr?DecryptV1Request_Request.toJSON(rr):void 0):er.requests=[],er},fromPartial(tr){var er;const rr=createBaseDecryptV1Request();return rr.requests=((er=tr.requests)===null||er===void 0?void 0:er.map(nr=>DecryptV1Request_Request.fromPartial(nr)))||[],rr}};function createBaseDecryptV1Request_Request(){return{payload:void 0,peerKeys:void 0,headerBytes:new Uint8Array,isSender:!1}}const DecryptV1Request_Request={encode(tr,er=_m0.Writer.create()){return tr.payload!==void 0&&Ciphertext.encode(tr.payload,er.uint32(10).fork()).ldelim(),tr.peerKeys!==void 0&&PublicKeyBundle.encode(tr.peerKeys,er.uint32(18).fork()).ldelim(),tr.headerBytes.length!==0&&er.uint32(26).bytes(tr.headerBytes),tr.isSender===!0&&er.uint32(32).bool(tr.isSender),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseDecryptV1Request_Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.payload=Ciphertext.decode(rr,rr.uint32());break;case 2:ir.peerKeys=PublicKeyBundle.decode(rr,rr.uint32());break;case 3:ir.headerBytes=rr.bytes();break;case 4:ir.isSender=rr.bool();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{payload:isSet$1(tr.payload)?Ciphertext.fromJSON(tr.payload):void 0,peerKeys:isSet$1(tr.peerKeys)?PublicKeyBundle.fromJSON(tr.peerKeys):void 0,headerBytes:isSet$1(tr.headerBytes)?bytesFromBase64(tr.headerBytes):new Uint8Array,isSender:isSet$1(tr.isSender)?!!tr.isSender:!1}},toJSON(tr){const er={};return tr.payload!==void 0&&(er.payload=tr.payload?Ciphertext.toJSON(tr.payload):void 0),tr.peerKeys!==void 0&&(er.peerKeys=tr.peerKeys?PublicKeyBundle.toJSON(tr.peerKeys):void 0),tr.headerBytes!==void 0&&(er.headerBytes=base64FromBytes(tr.headerBytes!==void 0?tr.headerBytes:new Uint8Array)),tr.isSender!==void 0&&(er.isSender=tr.isSender),er},fromPartial(tr){var er,rr;const nr=createBaseDecryptV1Request_Request();return nr.payload=tr.payload!==void 0&&tr.payload!==null?Ciphertext.fromPartial(tr.payload):void 0,nr.peerKeys=tr.peerKeys!==void 0&&tr.peerKeys!==null?PublicKeyBundle.fromPartial(tr.peerKeys):void 0,nr.headerBytes=(er=tr.headerBytes)!==null&&er!==void 0?er:new Uint8Array,nr.isSender=(rr=tr.isSender)!==null&&rr!==void 0?rr:!1,nr}};function createBaseDecryptResponse(){return{responses:[]}}const DecryptResponse={encode(tr,er=_m0.Writer.create()){for(const rr of tr.responses)DecryptResponse_Response.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseDecryptResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.responses.push(DecryptResponse_Response.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{responses:Array.isArray(tr?.responses)?tr.responses.map(er=>DecryptResponse_Response.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.responses?er.responses=tr.responses.map(rr=>rr?DecryptResponse_Response.toJSON(rr):void 0):er.responses=[],er},fromPartial(tr){var er;const rr=createBaseDecryptResponse();return rr.responses=((er=tr.responses)===null||er===void 0?void 0:er.map(nr=>DecryptResponse_Response.fromPartial(nr)))||[],rr}};function createBaseDecryptResponse_Response(){return{result:void 0,error:void 0}}const DecryptResponse_Response={encode(tr,er=_m0.Writer.create()){return tr.result!==void 0&&DecryptResponse_Response_Success.encode(tr.result,er.uint32(10).fork()).ldelim(),tr.error!==void 0&&KeystoreError.encode(tr.error,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseDecryptResponse_Response();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.result=DecryptResponse_Response_Success.decode(rr,rr.uint32());break;case 2:ir.error=KeystoreError.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{result:isSet$1(tr.result)?DecryptResponse_Response_Success.fromJSON(tr.result):void 0,error:isSet$1(tr.error)?KeystoreError.fromJSON(tr.error):void 0}},toJSON(tr){const er={};return tr.result!==void 0&&(er.result=tr.result?DecryptResponse_Response_Success.toJSON(tr.result):void 0),tr.error!==void 0&&(er.error=tr.error?KeystoreError.toJSON(tr.error):void 0),er},fromPartial(tr){const er=createBaseDecryptResponse_Response();return er.result=tr.result!==void 0&&tr.result!==null?DecryptResponse_Response_Success.fromPartial(tr.result):void 0,er.error=tr.error!==void 0&&tr.error!==null?KeystoreError.fromPartial(tr.error):void 0,er}};function createBaseDecryptResponse_Response_Success(){return{decrypted:new Uint8Array}}const DecryptResponse_Response_Success={encode(tr,er=_m0.Writer.create()){return tr.decrypted.length!==0&&er.uint32(10).bytes(tr.decrypted),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseDecryptResponse_Response_Success();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.decrypted=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{decrypted:isSet$1(tr.decrypted)?bytesFromBase64(tr.decrypted):new Uint8Array}},toJSON(tr){const er={};return tr.decrypted!==void 0&&(er.decrypted=base64FromBytes(tr.decrypted!==void 0?tr.decrypted:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseDecryptResponse_Response_Success();return rr.decrypted=(er=tr.decrypted)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBaseDecryptV2Request(){return{requests:[]}}const DecryptV2Request={encode(tr,er=_m0.Writer.create()){for(const rr of tr.requests)DecryptV2Request_Request.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseDecryptV2Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.requests.push(DecryptV2Request_Request.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{requests:Array.isArray(tr?.requests)?tr.requests.map(er=>DecryptV2Request_Request.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.requests?er.requests=tr.requests.map(rr=>rr?DecryptV2Request_Request.toJSON(rr):void 0):er.requests=[],er},fromPartial(tr){var er;const rr=createBaseDecryptV2Request();return rr.requests=((er=tr.requests)===null||er===void 0?void 0:er.map(nr=>DecryptV2Request_Request.fromPartial(nr)))||[],rr}};function createBaseDecryptV2Request_Request(){return{payload:void 0,headerBytes:new Uint8Array,contentTopic:""}}const DecryptV2Request_Request={encode(tr,er=_m0.Writer.create()){return tr.payload!==void 0&&Ciphertext.encode(tr.payload,er.uint32(10).fork()).ldelim(),tr.headerBytes.length!==0&&er.uint32(18).bytes(tr.headerBytes),tr.contentTopic!==""&&er.uint32(26).string(tr.contentTopic),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseDecryptV2Request_Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.payload=Ciphertext.decode(rr,rr.uint32());break;case 2:ir.headerBytes=rr.bytes();break;case 3:ir.contentTopic=rr.string();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{payload:isSet$1(tr.payload)?Ciphertext.fromJSON(tr.payload):void 0,headerBytes:isSet$1(tr.headerBytes)?bytesFromBase64(tr.headerBytes):new Uint8Array,contentTopic:isSet$1(tr.contentTopic)?String(tr.contentTopic):""}},toJSON(tr){const er={};return tr.payload!==void 0&&(er.payload=tr.payload?Ciphertext.toJSON(tr.payload):void 0),tr.headerBytes!==void 0&&(er.headerBytes=base64FromBytes(tr.headerBytes!==void 0?tr.headerBytes:new Uint8Array)),tr.contentTopic!==void 0&&(er.contentTopic=tr.contentTopic),er},fromPartial(tr){var er,rr;const nr=createBaseDecryptV2Request_Request();return nr.payload=tr.payload!==void 0&&tr.payload!==null?Ciphertext.fromPartial(tr.payload):void 0,nr.headerBytes=(er=tr.headerBytes)!==null&&er!==void 0?er:new Uint8Array,nr.contentTopic=(rr=tr.contentTopic)!==null&&rr!==void 0?rr:"",nr}};function createBaseEncryptV1Request(){return{requests:[]}}const EncryptV1Request={encode(tr,er=_m0.Writer.create()){for(const rr of tr.requests)EncryptV1Request_Request.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptV1Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.requests.push(EncryptV1Request_Request.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{requests:Array.isArray(tr?.requests)?tr.requests.map(er=>EncryptV1Request_Request.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.requests?er.requests=tr.requests.map(rr=>rr?EncryptV1Request_Request.toJSON(rr):void 0):er.requests=[],er},fromPartial(tr){var er;const rr=createBaseEncryptV1Request();return rr.requests=((er=tr.requests)===null||er===void 0?void 0:er.map(nr=>EncryptV1Request_Request.fromPartial(nr)))||[],rr}};function createBaseEncryptV1Request_Request(){return{recipient:void 0,payload:new Uint8Array,headerBytes:new Uint8Array}}const EncryptV1Request_Request={encode(tr,er=_m0.Writer.create()){return tr.recipient!==void 0&&PublicKeyBundle.encode(tr.recipient,er.uint32(10).fork()).ldelim(),tr.payload.length!==0&&er.uint32(18).bytes(tr.payload),tr.headerBytes.length!==0&&er.uint32(26).bytes(tr.headerBytes),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptV1Request_Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.recipient=PublicKeyBundle.decode(rr,rr.uint32());break;case 2:ir.payload=rr.bytes();break;case 3:ir.headerBytes=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{recipient:isSet$1(tr.recipient)?PublicKeyBundle.fromJSON(tr.recipient):void 0,payload:isSet$1(tr.payload)?bytesFromBase64(tr.payload):new Uint8Array,headerBytes:isSet$1(tr.headerBytes)?bytesFromBase64(tr.headerBytes):new Uint8Array}},toJSON(tr){const er={};return tr.recipient!==void 0&&(er.recipient=tr.recipient?PublicKeyBundle.toJSON(tr.recipient):void 0),tr.payload!==void 0&&(er.payload=base64FromBytes(tr.payload!==void 0?tr.payload:new Uint8Array)),tr.headerBytes!==void 0&&(er.headerBytes=base64FromBytes(tr.headerBytes!==void 0?tr.headerBytes:new Uint8Array)),er},fromPartial(tr){var er,rr;const nr=createBaseEncryptV1Request_Request();return nr.recipient=tr.recipient!==void 0&&tr.recipient!==null?PublicKeyBundle.fromPartial(tr.recipient):void 0,nr.payload=(er=tr.payload)!==null&&er!==void 0?er:new Uint8Array,nr.headerBytes=(rr=tr.headerBytes)!==null&&rr!==void 0?rr:new Uint8Array,nr}};function createBaseEncryptResponse(){return{responses:[]}}const EncryptResponse={encode(tr,er=_m0.Writer.create()){for(const rr of tr.responses)EncryptResponse_Response.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.responses.push(EncryptResponse_Response.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{responses:Array.isArray(tr?.responses)?tr.responses.map(er=>EncryptResponse_Response.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.responses?er.responses=tr.responses.map(rr=>rr?EncryptResponse_Response.toJSON(rr):void 0):er.responses=[],er},fromPartial(tr){var er;const rr=createBaseEncryptResponse();return rr.responses=((er=tr.responses)===null||er===void 0?void 0:er.map(nr=>EncryptResponse_Response.fromPartial(nr)))||[],rr}};function createBaseEncryptResponse_Response(){return{result:void 0,error:void 0}}const EncryptResponse_Response={encode(tr,er=_m0.Writer.create()){return tr.result!==void 0&&EncryptResponse_Response_Success.encode(tr.result,er.uint32(10).fork()).ldelim(),tr.error!==void 0&&KeystoreError.encode(tr.error,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptResponse_Response();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.result=EncryptResponse_Response_Success.decode(rr,rr.uint32());break;case 2:ir.error=KeystoreError.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{result:isSet$1(tr.result)?EncryptResponse_Response_Success.fromJSON(tr.result):void 0,error:isSet$1(tr.error)?KeystoreError.fromJSON(tr.error):void 0}},toJSON(tr){const er={};return tr.result!==void 0&&(er.result=tr.result?EncryptResponse_Response_Success.toJSON(tr.result):void 0),tr.error!==void 0&&(er.error=tr.error?KeystoreError.toJSON(tr.error):void 0),er},fromPartial(tr){const er=createBaseEncryptResponse_Response();return er.result=tr.result!==void 0&&tr.result!==null?EncryptResponse_Response_Success.fromPartial(tr.result):void 0,er.error=tr.error!==void 0&&tr.error!==null?KeystoreError.fromPartial(tr.error):void 0,er}};function createBaseEncryptResponse_Response_Success(){return{encrypted:void 0,senderHmac:new Uint8Array}}const EncryptResponse_Response_Success={encode(tr,er=_m0.Writer.create()){return tr.encrypted!==void 0&&Ciphertext.encode(tr.encrypted,er.uint32(10).fork()).ldelim(),tr.senderHmac.length!==0&&er.uint32(18).bytes(tr.senderHmac),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptResponse_Response_Success();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.encrypted=Ciphertext.decode(rr,rr.uint32());break;case 2:ir.senderHmac=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{encrypted:isSet$1(tr.encrypted)?Ciphertext.fromJSON(tr.encrypted):void 0,senderHmac:isSet$1(tr.senderHmac)?bytesFromBase64(tr.senderHmac):new Uint8Array}},toJSON(tr){const er={};return tr.encrypted!==void 0&&(er.encrypted=tr.encrypted?Ciphertext.toJSON(tr.encrypted):void 0),tr.senderHmac!==void 0&&(er.senderHmac=base64FromBytes(tr.senderHmac!==void 0?tr.senderHmac:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseEncryptResponse_Response_Success();return rr.encrypted=tr.encrypted!==void 0&&tr.encrypted!==null?Ciphertext.fromPartial(tr.encrypted):void 0,rr.senderHmac=(er=tr.senderHmac)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBaseEncryptV2Request(){return{requests:[]}}const EncryptV2Request={encode(tr,er=_m0.Writer.create()){for(const rr of tr.requests)EncryptV2Request_Request.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptV2Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.requests.push(EncryptV2Request_Request.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{requests:Array.isArray(tr?.requests)?tr.requests.map(er=>EncryptV2Request_Request.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.requests?er.requests=tr.requests.map(rr=>rr?EncryptV2Request_Request.toJSON(rr):void 0):er.requests=[],er},fromPartial(tr){var er;const rr=createBaseEncryptV2Request();return rr.requests=((er=tr.requests)===null||er===void 0?void 0:er.map(nr=>EncryptV2Request_Request.fromPartial(nr)))||[],rr}};function createBaseEncryptV2Request_Request(){return{payload:new Uint8Array,headerBytes:new Uint8Array,contentTopic:""}}const EncryptV2Request_Request={encode(tr,er=_m0.Writer.create()){return tr.payload.length!==0&&er.uint32(10).bytes(tr.payload),tr.headerBytes.length!==0&&er.uint32(18).bytes(tr.headerBytes),tr.contentTopic!==""&&er.uint32(26).string(tr.contentTopic),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseEncryptV2Request_Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.payload=rr.bytes();break;case 2:ir.headerBytes=rr.bytes();break;case 3:ir.contentTopic=rr.string();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{payload:isSet$1(tr.payload)?bytesFromBase64(tr.payload):new Uint8Array,headerBytes:isSet$1(tr.headerBytes)?bytesFromBase64(tr.headerBytes):new Uint8Array,contentTopic:isSet$1(tr.contentTopic)?String(tr.contentTopic):""}},toJSON(tr){const er={};return tr.payload!==void 0&&(er.payload=base64FromBytes(tr.payload!==void 0?tr.payload:new Uint8Array)),tr.headerBytes!==void 0&&(er.headerBytes=base64FromBytes(tr.headerBytes!==void 0?tr.headerBytes:new Uint8Array)),tr.contentTopic!==void 0&&(er.contentTopic=tr.contentTopic),er},fromPartial(tr){var er,rr,nr;const ir=createBaseEncryptV2Request_Request();return ir.payload=(er=tr.payload)!==null&&er!==void 0?er:new Uint8Array,ir.headerBytes=(rr=tr.headerBytes)!==null&&rr!==void 0?rr:new Uint8Array,ir.contentTopic=(nr=tr.contentTopic)!==null&&nr!==void 0?nr:"",ir}};function createBaseSelfEncryptRequest(){return{requests:[]}}const SelfEncryptRequest={encode(tr,er=_m0.Writer.create()){for(const rr of tr.requests)SelfEncryptRequest_Request.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSelfEncryptRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.requests.push(SelfEncryptRequest_Request.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{requests:Array.isArray(tr?.requests)?tr.requests.map(er=>SelfEncryptRequest_Request.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.requests?er.requests=tr.requests.map(rr=>rr?SelfEncryptRequest_Request.toJSON(rr):void 0):er.requests=[],er},fromPartial(tr){var er;const rr=createBaseSelfEncryptRequest();return rr.requests=((er=tr.requests)===null||er===void 0?void 0:er.map(nr=>SelfEncryptRequest_Request.fromPartial(nr)))||[],rr}};function createBaseSelfEncryptRequest_Request(){return{payload:new Uint8Array}}const SelfEncryptRequest_Request={encode(tr,er=_m0.Writer.create()){return tr.payload.length!==0&&er.uint32(10).bytes(tr.payload),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSelfEncryptRequest_Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.payload=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{payload:isSet$1(tr.payload)?bytesFromBase64(tr.payload):new Uint8Array}},toJSON(tr){const er={};return tr.payload!==void 0&&(er.payload=base64FromBytes(tr.payload!==void 0?tr.payload:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseSelfEncryptRequest_Request();return rr.payload=(er=tr.payload)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBaseSelfEncryptResponse(){return{responses:[]}}const SelfEncryptResponse={encode(tr,er=_m0.Writer.create()){for(const rr of tr.responses)SelfEncryptResponse_Response.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSelfEncryptResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.responses.push(SelfEncryptResponse_Response.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{responses:Array.isArray(tr?.responses)?tr.responses.map(er=>SelfEncryptResponse_Response.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.responses?er.responses=tr.responses.map(rr=>rr?SelfEncryptResponse_Response.toJSON(rr):void 0):er.responses=[],er},fromPartial(tr){var er;const rr=createBaseSelfEncryptResponse();return rr.responses=((er=tr.responses)===null||er===void 0?void 0:er.map(nr=>SelfEncryptResponse_Response.fromPartial(nr)))||[],rr}};function createBaseSelfEncryptResponse_Response(){return{result:void 0,error:void 0}}const SelfEncryptResponse_Response={encode(tr,er=_m0.Writer.create()){return tr.result!==void 0&&SelfEncryptResponse_Response_Success.encode(tr.result,er.uint32(10).fork()).ldelim(),tr.error!==void 0&&KeystoreError.encode(tr.error,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSelfEncryptResponse_Response();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.result=SelfEncryptResponse_Response_Success.decode(rr,rr.uint32());break;case 2:ir.error=KeystoreError.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{result:isSet$1(tr.result)?SelfEncryptResponse_Response_Success.fromJSON(tr.result):void 0,error:isSet$1(tr.error)?KeystoreError.fromJSON(tr.error):void 0}},toJSON(tr){const er={};return tr.result!==void 0&&(er.result=tr.result?SelfEncryptResponse_Response_Success.toJSON(tr.result):void 0),tr.error!==void 0&&(er.error=tr.error?KeystoreError.toJSON(tr.error):void 0),er},fromPartial(tr){const er=createBaseSelfEncryptResponse_Response();return er.result=tr.result!==void 0&&tr.result!==null?SelfEncryptResponse_Response_Success.fromPartial(tr.result):void 0,er.error=tr.error!==void 0&&tr.error!==null?KeystoreError.fromPartial(tr.error):void 0,er}};function createBaseSelfEncryptResponse_Response_Success(){return{encrypted:new Uint8Array}}const SelfEncryptResponse_Response_Success={encode(tr,er=_m0.Writer.create()){return tr.encrypted.length!==0&&er.uint32(10).bytes(tr.encrypted),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSelfEncryptResponse_Response_Success();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.encrypted=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{encrypted:isSet$1(tr.encrypted)?bytesFromBase64(tr.encrypted):new Uint8Array}},toJSON(tr){const er={};return tr.encrypted!==void 0&&(er.encrypted=base64FromBytes(tr.encrypted!==void 0?tr.encrypted:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseSelfEncryptResponse_Response_Success();return rr.encrypted=(er=tr.encrypted)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBaseSelfDecryptRequest(){return{requests:[]}}const SelfDecryptRequest={encode(tr,er=_m0.Writer.create()){for(const rr of tr.requests)SelfDecryptRequest_Request.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSelfDecryptRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.requests.push(SelfDecryptRequest_Request.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{requests:Array.isArray(tr?.requests)?tr.requests.map(er=>SelfDecryptRequest_Request.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.requests?er.requests=tr.requests.map(rr=>rr?SelfDecryptRequest_Request.toJSON(rr):void 0):er.requests=[],er},fromPartial(tr){var er;const rr=createBaseSelfDecryptRequest();return rr.requests=((er=tr.requests)===null||er===void 0?void 0:er.map(nr=>SelfDecryptRequest_Request.fromPartial(nr)))||[],rr}};function createBaseSelfDecryptRequest_Request(){return{payload:new Uint8Array}}const SelfDecryptRequest_Request={encode(tr,er=_m0.Writer.create()){return tr.payload.length!==0&&er.uint32(10).bytes(tr.payload),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSelfDecryptRequest_Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.payload=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{payload:isSet$1(tr.payload)?bytesFromBase64(tr.payload):new Uint8Array}},toJSON(tr){const er={};return tr.payload!==void 0&&(er.payload=base64FromBytes(tr.payload!==void 0?tr.payload:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseSelfDecryptRequest_Request();return rr.payload=(er=tr.payload)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBaseGetPrivatePreferencesTopicIdentifierResponse(){return{identifier:""}}const GetPrivatePreferencesTopicIdentifierResponse={encode(tr,er=_m0.Writer.create()){return tr.identifier!==""&&er.uint32(10).string(tr.identifier),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetPrivatePreferencesTopicIdentifierResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.identifier=rr.string();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{identifier:isSet$1(tr.identifier)?String(tr.identifier):""}},toJSON(tr){const er={};return tr.identifier!==void 0&&(er.identifier=tr.identifier),er},fromPartial(tr){var er;const rr=createBaseGetPrivatePreferencesTopicIdentifierResponse();return rr.identifier=(er=tr.identifier)!==null&&er!==void 0?er:"",rr}};function createBaseCreateInviteRequest(){return{context:void 0,recipient:void 0,createdNs:Long.UZERO,consentProof:void 0}}const CreateInviteRequest={encode(tr,er=_m0.Writer.create()){return tr.context!==void 0&&InvitationV1_Context.encode(tr.context,er.uint32(10).fork()).ldelim(),tr.recipient!==void 0&&SignedPublicKeyBundle.encode(tr.recipient,er.uint32(18).fork()).ldelim(),tr.createdNs.isZero()||er.uint32(24).uint64(tr.createdNs),tr.consentProof!==void 0&&ConsentProofPayload.encode(tr.consentProof,er.uint32(34).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseCreateInviteRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.context=InvitationV1_Context.decode(rr,rr.uint32());break;case 2:ir.recipient=SignedPublicKeyBundle.decode(rr,rr.uint32());break;case 3:ir.createdNs=rr.uint64();break;case 4:ir.consentProof=ConsentProofPayload.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{context:isSet$1(tr.context)?InvitationV1_Context.fromJSON(tr.context):void 0,recipient:isSet$1(tr.recipient)?SignedPublicKeyBundle.fromJSON(tr.recipient):void 0,createdNs:isSet$1(tr.createdNs)?Long.fromValue(tr.createdNs):Long.UZERO,consentProof:isSet$1(tr.consentProof)?ConsentProofPayload.fromJSON(tr.consentProof):void 0}},toJSON(tr){const er={};return tr.context!==void 0&&(er.context=tr.context?InvitationV1_Context.toJSON(tr.context):void 0),tr.recipient!==void 0&&(er.recipient=tr.recipient?SignedPublicKeyBundle.toJSON(tr.recipient):void 0),tr.createdNs!==void 0&&(er.createdNs=(tr.createdNs||Long.UZERO).toString()),tr.consentProof!==void 0&&(er.consentProof=tr.consentProof?ConsentProofPayload.toJSON(tr.consentProof):void 0),er},fromPartial(tr){const er=createBaseCreateInviteRequest();return er.context=tr.context!==void 0&&tr.context!==null?InvitationV1_Context.fromPartial(tr.context):void 0,er.recipient=tr.recipient!==void 0&&tr.recipient!==null?SignedPublicKeyBundle.fromPartial(tr.recipient):void 0,er.createdNs=tr.createdNs!==void 0&&tr.createdNs!==null?Long.fromValue(tr.createdNs):Long.UZERO,er.consentProof=tr.consentProof!==void 0&&tr.consentProof!==null?ConsentProofPayload.fromPartial(tr.consentProof):void 0,er}};function createBaseCreateInviteResponse(){return{conversation:void 0,payload:new Uint8Array}}const CreateInviteResponse={encode(tr,er=_m0.Writer.create()){return tr.conversation!==void 0&&ConversationReference.encode(tr.conversation,er.uint32(10).fork()).ldelim(),tr.payload.length!==0&&er.uint32(18).bytes(tr.payload),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseCreateInviteResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.conversation=ConversationReference.decode(rr,rr.uint32());break;case 2:ir.payload=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{conversation:isSet$1(tr.conversation)?ConversationReference.fromJSON(tr.conversation):void 0,payload:isSet$1(tr.payload)?bytesFromBase64(tr.payload):new Uint8Array}},toJSON(tr){const er={};return tr.conversation!==void 0&&(er.conversation=tr.conversation?ConversationReference.toJSON(tr.conversation):void 0),tr.payload!==void 0&&(er.payload=base64FromBytes(tr.payload!==void 0?tr.payload:new Uint8Array)),er},fromPartial(tr){var er;const rr=createBaseCreateInviteResponse();return rr.conversation=tr.conversation!==void 0&&tr.conversation!==null?ConversationReference.fromPartial(tr.conversation):void 0,rr.payload=(er=tr.payload)!==null&&er!==void 0?er:new Uint8Array,rr}};function createBaseSaveInvitesRequest(){return{requests:[]}}const SaveInvitesRequest={encode(tr,er=_m0.Writer.create()){for(const rr of tr.requests)SaveInvitesRequest_Request.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSaveInvitesRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.requests.push(SaveInvitesRequest_Request.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{requests:Array.isArray(tr?.requests)?tr.requests.map(er=>SaveInvitesRequest_Request.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.requests?er.requests=tr.requests.map(rr=>rr?SaveInvitesRequest_Request.toJSON(rr):void 0):er.requests=[],er},fromPartial(tr){var er;const rr=createBaseSaveInvitesRequest();return rr.requests=((er=tr.requests)===null||er===void 0?void 0:er.map(nr=>SaveInvitesRequest_Request.fromPartial(nr)))||[],rr}};function createBaseSaveInvitesRequest_Request(){return{contentTopic:"",timestampNs:Long.UZERO,payload:new Uint8Array}}const SaveInvitesRequest_Request={encode(tr,er=_m0.Writer.create()){return tr.contentTopic!==""&&er.uint32(10).string(tr.contentTopic),tr.timestampNs.isZero()||er.uint32(16).uint64(tr.timestampNs),tr.payload.length!==0&&er.uint32(26).bytes(tr.payload),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSaveInvitesRequest_Request();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.contentTopic=rr.string();break;case 2:ir.timestampNs=rr.uint64();break;case 3:ir.payload=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{contentTopic:isSet$1(tr.contentTopic)?String(tr.contentTopic):"",timestampNs:isSet$1(tr.timestampNs)?Long.fromValue(tr.timestampNs):Long.UZERO,payload:isSet$1(tr.payload)?bytesFromBase64(tr.payload):new Uint8Array}},toJSON(tr){const er={};return tr.contentTopic!==void 0&&(er.contentTopic=tr.contentTopic),tr.timestampNs!==void 0&&(er.timestampNs=(tr.timestampNs||Long.UZERO).toString()),tr.payload!==void 0&&(er.payload=base64FromBytes(tr.payload!==void 0?tr.payload:new Uint8Array)),er},fromPartial(tr){var er,rr;const nr=createBaseSaveInvitesRequest_Request();return nr.contentTopic=(er=tr.contentTopic)!==null&&er!==void 0?er:"",nr.timestampNs=tr.timestampNs!==void 0&&tr.timestampNs!==null?Long.fromValue(tr.timestampNs):Long.UZERO,nr.payload=(rr=tr.payload)!==null&&rr!==void 0?rr:new Uint8Array,nr}};function createBaseSaveInvitesResponse(){return{responses:[]}}const SaveInvitesResponse={encode(tr,er=_m0.Writer.create()){for(const rr of tr.responses)SaveInvitesResponse_Response.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSaveInvitesResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.responses.push(SaveInvitesResponse_Response.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{responses:Array.isArray(tr?.responses)?tr.responses.map(er=>SaveInvitesResponse_Response.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.responses?er.responses=tr.responses.map(rr=>rr?SaveInvitesResponse_Response.toJSON(rr):void 0):er.responses=[],er},fromPartial(tr){var er;const rr=createBaseSaveInvitesResponse();return rr.responses=((er=tr.responses)===null||er===void 0?void 0:er.map(nr=>SaveInvitesResponse_Response.fromPartial(nr)))||[],rr}};function createBaseSaveInvitesResponse_Response(){return{result:void 0,error:void 0}}const SaveInvitesResponse_Response={encode(tr,er=_m0.Writer.create()){return tr.result!==void 0&&SaveInvitesResponse_Response_Success.encode(tr.result,er.uint32(10).fork()).ldelim(),tr.error!==void 0&&KeystoreError.encode(tr.error,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSaveInvitesResponse_Response();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.result=SaveInvitesResponse_Response_Success.decode(rr,rr.uint32());break;case 2:ir.error=KeystoreError.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{result:isSet$1(tr.result)?SaveInvitesResponse_Response_Success.fromJSON(tr.result):void 0,error:isSet$1(tr.error)?KeystoreError.fromJSON(tr.error):void 0}},toJSON(tr){const er={};return tr.result!==void 0&&(er.result=tr.result?SaveInvitesResponse_Response_Success.toJSON(tr.result):void 0),tr.error!==void 0&&(er.error=tr.error?KeystoreError.toJSON(tr.error):void 0),er},fromPartial(tr){const er=createBaseSaveInvitesResponse_Response();return er.result=tr.result!==void 0&&tr.result!==null?SaveInvitesResponse_Response_Success.fromPartial(tr.result):void 0,er.error=tr.error!==void 0&&tr.error!==null?KeystoreError.fromPartial(tr.error):void 0,er}};function createBaseSaveInvitesResponse_Response_Success(){return{conversation:void 0}}const SaveInvitesResponse_Response_Success={encode(tr,er=_m0.Writer.create()){return tr.conversation!==void 0&&ConversationReference.encode(tr.conversation,er.uint32(10).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSaveInvitesResponse_Response_Success();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.conversation=ConversationReference.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{conversation:isSet$1(tr.conversation)?ConversationReference.fromJSON(tr.conversation):void 0}},toJSON(tr){const er={};return tr.conversation!==void 0&&(er.conversation=tr.conversation?ConversationReference.toJSON(tr.conversation):void 0),er},fromPartial(tr){const er=createBaseSaveInvitesResponse_Response_Success();return er.conversation=tr.conversation!==void 0&&tr.conversation!==null?ConversationReference.fromPartial(tr.conversation):void 0,er}};function createBaseCreateAuthTokenRequest(){return{timestampNs:void 0}}const CreateAuthTokenRequest={encode(tr,er=_m0.Writer.create()){return tr.timestampNs!==void 0&&er.uint32(8).uint64(tr.timestampNs),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseCreateAuthTokenRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.timestampNs=rr.uint64();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{timestampNs:isSet$1(tr.timestampNs)?Long.fromValue(tr.timestampNs):void 0}},toJSON(tr){const er={};return tr.timestampNs!==void 0&&(er.timestampNs=(tr.timestampNs||void 0).toString()),er},fromPartial(tr){const er=createBaseCreateAuthTokenRequest();return er.timestampNs=tr.timestampNs!==void 0&&tr.timestampNs!==null?Long.fromValue(tr.timestampNs):void 0,er}};function createBaseSaveV1ConversationsRequest(){return{conversations:[]}}const SaveV1ConversationsRequest={encode(tr,er=_m0.Writer.create()){for(const rr of tr.conversations)ConversationReference.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSaveV1ConversationsRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.conversations.push(ConversationReference.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{conversations:Array.isArray(tr?.conversations)?tr.conversations.map(er=>ConversationReference.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.conversations?er.conversations=tr.conversations.map(rr=>rr?ConversationReference.toJSON(rr):void 0):er.conversations=[],er},fromPartial(tr){var er;const rr=createBaseSaveV1ConversationsRequest();return rr.conversations=((er=tr.conversations)===null||er===void 0?void 0:er.map(nr=>ConversationReference.fromPartial(nr)))||[],rr}};function createBaseSaveV1ConversationsResponse(){return{}}const SaveV1ConversationsResponse={encode(tr,er=_m0.Writer.create()){return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSaveV1ConversationsResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{}},toJSON(tr){return{}},fromPartial(tr){return createBaseSaveV1ConversationsResponse()}};function createBaseGetConversationsResponse(){return{conversations:[]}}const GetConversationsResponse={encode(tr,er=_m0.Writer.create()){for(const rr of tr.conversations)ConversationReference.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetConversationsResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.conversations.push(ConversationReference.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{conversations:Array.isArray(tr?.conversations)?tr.conversations.map(er=>ConversationReference.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.conversations?er.conversations=tr.conversations.map(rr=>rr?ConversationReference.toJSON(rr):void 0):er.conversations=[],er},fromPartial(tr){var er;const rr=createBaseGetConversationsResponse();return rr.conversations=((er=tr.conversations)===null||er===void 0?void 0:er.map(nr=>ConversationReference.fromPartial(nr)))||[],rr}};function createBaseGetKeystoreStatusRequest(){return{walletAddress:""}}const GetKeystoreStatusRequest={encode(tr,er=_m0.Writer.create()){return tr.walletAddress!==""&&er.uint32(10).string(tr.walletAddress),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetKeystoreStatusRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.walletAddress=rr.string();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{walletAddress:isSet$1(tr.walletAddress)?String(tr.walletAddress):""}},toJSON(tr){const er={};return tr.walletAddress!==void 0&&(er.walletAddress=tr.walletAddress),er},fromPartial(tr){var er;const rr=createBaseGetKeystoreStatusRequest();return rr.walletAddress=(er=tr.walletAddress)!==null&&er!==void 0?er:"",rr}};function createBaseGetKeystoreStatusResponse(){return{status:0}}const GetKeystoreStatusResponse={encode(tr,er=_m0.Writer.create()){return tr.status!==0&&er.uint32(8).int32(tr.status),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetKeystoreStatusResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.status=rr.int32();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{status:isSet$1(tr.status)?getKeystoreStatusResponse_KeystoreStatusFromJSON(tr.status):0}},toJSON(tr){const er={};return tr.status!==void 0&&(er.status=getKeystoreStatusResponse_KeystoreStatusToJSON(tr.status)),er},fromPartial(tr){var er;const rr=createBaseGetKeystoreStatusResponse();return rr.status=(er=tr.status)!==null&&er!==void 0?er:0,rr}};function createBaseInitKeystoreRequest(){return{v1:void 0}}const InitKeystoreRequest={encode(tr,er=_m0.Writer.create()){return tr.v1!==void 0&&PrivateKeyBundleV1.encode(tr.v1,er.uint32(10).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseInitKeystoreRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.v1=PrivateKeyBundleV1.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{v1:isSet$1(tr.v1)?PrivateKeyBundleV1.fromJSON(tr.v1):void 0}},toJSON(tr){const er={};return tr.v1!==void 0&&(er.v1=tr.v1?PrivateKeyBundleV1.toJSON(tr.v1):void 0),er},fromPartial(tr){const er=createBaseInitKeystoreRequest();return er.v1=tr.v1!==void 0&&tr.v1!==null?PrivateKeyBundleV1.fromPartial(tr.v1):void 0,er}};function createBaseInitKeystoreResponse(){return{error:void 0}}const InitKeystoreResponse={encode(tr,er=_m0.Writer.create()){return tr.error!==void 0&&KeystoreError.encode(tr.error,er.uint32(10).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseInitKeystoreResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.error=KeystoreError.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{error:isSet$1(tr.error)?KeystoreError.fromJSON(tr.error):void 0}},toJSON(tr){const er={};return tr.error!==void 0&&(er.error=tr.error?KeystoreError.toJSON(tr.error):void 0),er},fromPartial(tr){const er=createBaseInitKeystoreResponse();return er.error=tr.error!==void 0&&tr.error!==null?KeystoreError.fromPartial(tr.error):void 0,er}};function createBaseSignDigestRequest(){return{digest:new Uint8Array,identityKey:void 0,prekeyIndex:void 0}}const SignDigestRequest={encode(tr,er=_m0.Writer.create()){return tr.digest.length!==0&&er.uint32(10).bytes(tr.digest),tr.identityKey!==void 0&&er.uint32(16).bool(tr.identityKey),tr.prekeyIndex!==void 0&&er.uint32(24).uint32(tr.prekeyIndex),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSignDigestRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.digest=rr.bytes();break;case 2:ir.identityKey=rr.bool();break;case 3:ir.prekeyIndex=rr.uint32();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{digest:isSet$1(tr.digest)?bytesFromBase64(tr.digest):new Uint8Array,identityKey:isSet$1(tr.identityKey)?!!tr.identityKey:void 0,prekeyIndex:isSet$1(tr.prekeyIndex)?Number(tr.prekeyIndex):void 0}},toJSON(tr){const er={};return tr.digest!==void 0&&(er.digest=base64FromBytes(tr.digest!==void 0?tr.digest:new Uint8Array)),tr.identityKey!==void 0&&(er.identityKey=tr.identityKey),tr.prekeyIndex!==void 0&&(er.prekeyIndex=Math.round(tr.prekeyIndex)),er},fromPartial(tr){var er,rr,nr;const ir=createBaseSignDigestRequest();return ir.digest=(er=tr.digest)!==null&&er!==void 0?er:new Uint8Array,ir.identityKey=(rr=tr.identityKey)!==null&&rr!==void 0?rr:void 0,ir.prekeyIndex=(nr=tr.prekeyIndex)!==null&&nr!==void 0?nr:void 0,ir}};function createBaseGetRefreshJobRequest(){return{jobType:0}}const GetRefreshJobRequest={encode(tr,er=_m0.Writer.create()){return tr.jobType!==0&&er.uint32(8).int32(tr.jobType),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetRefreshJobRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.jobType=rr.int32();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{jobType:isSet$1(tr.jobType)?jobTypeFromJSON(tr.jobType):0}},toJSON(tr){const er={};return tr.jobType!==void 0&&(er.jobType=jobTypeToJSON(tr.jobType)),er},fromPartial(tr){var er;const rr=createBaseGetRefreshJobRequest();return rr.jobType=(er=tr.jobType)!==null&&er!==void 0?er:0,rr}};function createBaseGetRefreshJobResponse(){return{lastRunNs:Long.ZERO}}const GetRefreshJobResponse={encode(tr,er=_m0.Writer.create()){return tr.lastRunNs.isZero()||er.uint32(8).int64(tr.lastRunNs),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetRefreshJobResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.lastRunNs=rr.int64();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{lastRunNs:isSet$1(tr.lastRunNs)?Long.fromValue(tr.lastRunNs):Long.ZERO}},toJSON(tr){const er={};return tr.lastRunNs!==void 0&&(er.lastRunNs=(tr.lastRunNs||Long.ZERO).toString()),er},fromPartial(tr){const er=createBaseGetRefreshJobResponse();return er.lastRunNs=tr.lastRunNs!==void 0&&tr.lastRunNs!==null?Long.fromValue(tr.lastRunNs):Long.ZERO,er}};function createBaseSetRefeshJobRequest(){return{jobType:0,lastRunNs:Long.ZERO}}const SetRefeshJobRequest={encode(tr,er=_m0.Writer.create()){return tr.jobType!==0&&er.uint32(8).int32(tr.jobType),tr.lastRunNs.isZero()||er.uint32(16).int64(tr.lastRunNs),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSetRefeshJobRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.jobType=rr.int32();break;case 2:ir.lastRunNs=rr.int64();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{jobType:isSet$1(tr.jobType)?jobTypeFromJSON(tr.jobType):0,lastRunNs:isSet$1(tr.lastRunNs)?Long.fromValue(tr.lastRunNs):Long.ZERO}},toJSON(tr){const er={};return tr.jobType!==void 0&&(er.jobType=jobTypeToJSON(tr.jobType)),tr.lastRunNs!==void 0&&(er.lastRunNs=(tr.lastRunNs||Long.ZERO).toString()),er},fromPartial(tr){var er;const rr=createBaseSetRefeshJobRequest();return rr.jobType=(er=tr.jobType)!==null&&er!==void 0?er:0,rr.lastRunNs=tr.lastRunNs!==void 0&&tr.lastRunNs!==null?Long.fromValue(tr.lastRunNs):Long.ZERO,rr}};function createBaseSetRefreshJobResponse(){return{}}const SetRefreshJobResponse={encode(tr,er=_m0.Writer.create()){return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseSetRefreshJobResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{}},toJSON(tr){return{}},fromPartial(tr){return createBaseSetRefreshJobResponse()}};function createBaseTopicMap(){return{topics:{}}}const TopicMap={encode(tr,er=_m0.Writer.create()){return Object.entries(tr.topics).forEach(([rr,nr])=>{TopicMap_TopicsEntry.encode({key:rr,value:nr},er.uint32(10).fork()).ldelim()}),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseTopicMap();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:const sr=TopicMap_TopicsEntry.decode(rr,rr.uint32());sr.value!==void 0&&(ir.topics[sr.key]=sr.value);break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{topics:isObject$4(tr.topics)?Object.entries(tr.topics).reduce((er,[rr,nr])=>(er[rr]=TopicMap_TopicData.fromJSON(nr),er),{}):{}}},toJSON(tr){const er={};return er.topics={},tr.topics&&Object.entries(tr.topics).forEach(([rr,nr])=>{er.topics[rr]=TopicMap_TopicData.toJSON(nr)}),er},fromPartial(tr){var er;const rr=createBaseTopicMap();return rr.topics=Object.entries((er=tr.topics)!==null&&er!==void 0?er:{}).reduce((nr,[ir,or])=>(or!==void 0&&(nr[ir]=TopicMap_TopicData.fromPartial(or)),nr),{}),rr}};function createBaseTopicMap_TopicData(){return{createdNs:Long.UZERO,peerAddress:"",invitation:void 0}}const TopicMap_TopicData={encode(tr,er=_m0.Writer.create()){return tr.createdNs.isZero()||er.uint32(8).uint64(tr.createdNs),tr.peerAddress!==""&&er.uint32(18).string(tr.peerAddress),tr.invitation!==void 0&&InvitationV1.encode(tr.invitation,er.uint32(26).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseTopicMap_TopicData();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.createdNs=rr.uint64();break;case 2:ir.peerAddress=rr.string();break;case 3:ir.invitation=InvitationV1.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{createdNs:isSet$1(tr.createdNs)?Long.fromValue(tr.createdNs):Long.UZERO,peerAddress:isSet$1(tr.peerAddress)?String(tr.peerAddress):"",invitation:isSet$1(tr.invitation)?InvitationV1.fromJSON(tr.invitation):void 0}},toJSON(tr){const er={};return tr.createdNs!==void 0&&(er.createdNs=(tr.createdNs||Long.UZERO).toString()),tr.peerAddress!==void 0&&(er.peerAddress=tr.peerAddress),tr.invitation!==void 0&&(er.invitation=tr.invitation?InvitationV1.toJSON(tr.invitation):void 0),er},fromPartial(tr){var er;const rr=createBaseTopicMap_TopicData();return rr.createdNs=tr.createdNs!==void 0&&tr.createdNs!==null?Long.fromValue(tr.createdNs):Long.UZERO,rr.peerAddress=(er=tr.peerAddress)!==null&&er!==void 0?er:"",rr.invitation=tr.invitation!==void 0&&tr.invitation!==null?InvitationV1.fromPartial(tr.invitation):void 0,rr}};function createBaseTopicMap_TopicsEntry(){return{key:"",value:void 0}}const TopicMap_TopicsEntry={encode(tr,er=_m0.Writer.create()){return tr.key!==""&&er.uint32(10).string(tr.key),tr.value!==void 0&&TopicMap_TopicData.encode(tr.value,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseTopicMap_TopicsEntry();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.key=rr.string();break;case 2:ir.value=TopicMap_TopicData.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{key:isSet$1(tr.key)?String(tr.key):"",value:isSet$1(tr.value)?TopicMap_TopicData.fromJSON(tr.value):void 0}},toJSON(tr){const er={};return tr.key!==void 0&&(er.key=tr.key),tr.value!==void 0&&(er.value=tr.value?TopicMap_TopicData.toJSON(tr.value):void 0),er},fromPartial(tr){var er;const rr=createBaseTopicMap_TopicsEntry();return rr.key=(er=tr.key)!==null&&er!==void 0?er:"",rr.value=tr.value!==void 0&&tr.value!==null?TopicMap_TopicData.fromPartial(tr.value):void 0,rr}};function createBaseGetConversationHmacKeysRequest(){return{topics:[]}}const GetConversationHmacKeysRequest={encode(tr,er=_m0.Writer.create()){for(const rr of tr.topics)er.uint32(10).string(rr);return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetConversationHmacKeysRequest();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.topics.push(rr.string());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{topics:Array.isArray(tr?.topics)?tr.topics.map(er=>String(er)):[]}},toJSON(tr){const er={};return tr.topics?er.topics=tr.topics.map(rr=>rr):er.topics=[],er},fromPartial(tr){var er;const rr=createBaseGetConversationHmacKeysRequest();return rr.topics=((er=tr.topics)===null||er===void 0?void 0:er.map(nr=>nr))||[],rr}};function createBaseGetConversationHmacKeysResponse(){return{hmacKeys:{}}}const GetConversationHmacKeysResponse={encode(tr,er=_m0.Writer.create()){return Object.entries(tr.hmacKeys).forEach(([rr,nr])=>{GetConversationHmacKeysResponse_HmacKeysEntry.encode({key:rr,value:nr},er.uint32(10).fork()).ldelim()}),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetConversationHmacKeysResponse();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:const sr=GetConversationHmacKeysResponse_HmacKeysEntry.decode(rr,rr.uint32());sr.value!==void 0&&(ir.hmacKeys[sr.key]=sr.value);break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{hmacKeys:isObject$4(tr.hmacKeys)?Object.entries(tr.hmacKeys).reduce((er,[rr,nr])=>(er[rr]=GetConversationHmacKeysResponse_HmacKeys.fromJSON(nr),er),{}):{}}},toJSON(tr){const er={};return er.hmacKeys={},tr.hmacKeys&&Object.entries(tr.hmacKeys).forEach(([rr,nr])=>{er.hmacKeys[rr]=GetConversationHmacKeysResponse_HmacKeys.toJSON(nr)}),er},fromPartial(tr){var er;const rr=createBaseGetConversationHmacKeysResponse();return rr.hmacKeys=Object.entries((er=tr.hmacKeys)!==null&&er!==void 0?er:{}).reduce((nr,[ir,or])=>(or!==void 0&&(nr[ir]=GetConversationHmacKeysResponse_HmacKeys.fromPartial(or)),nr),{}),rr}};function createBaseGetConversationHmacKeysResponse_HmacKeyData(){return{thirtyDayPeriodsSinceEpoch:0,hmacKey:new Uint8Array}}const GetConversationHmacKeysResponse_HmacKeyData={encode(tr,er=_m0.Writer.create()){return tr.thirtyDayPeriodsSinceEpoch!==0&&er.uint32(8).int32(tr.thirtyDayPeriodsSinceEpoch),tr.hmacKey.length!==0&&er.uint32(18).bytes(tr.hmacKey),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetConversationHmacKeysResponse_HmacKeyData();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.thirtyDayPeriodsSinceEpoch=rr.int32();break;case 2:ir.hmacKey=rr.bytes();break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{thirtyDayPeriodsSinceEpoch:isSet$1(tr.thirtyDayPeriodsSinceEpoch)?Number(tr.thirtyDayPeriodsSinceEpoch):0,hmacKey:isSet$1(tr.hmacKey)?bytesFromBase64(tr.hmacKey):new Uint8Array}},toJSON(tr){const er={};return tr.thirtyDayPeriodsSinceEpoch!==void 0&&(er.thirtyDayPeriodsSinceEpoch=Math.round(tr.thirtyDayPeriodsSinceEpoch)),tr.hmacKey!==void 0&&(er.hmacKey=base64FromBytes(tr.hmacKey!==void 0?tr.hmacKey:new Uint8Array)),er},fromPartial(tr){var er,rr;const nr=createBaseGetConversationHmacKeysResponse_HmacKeyData();return nr.thirtyDayPeriodsSinceEpoch=(er=tr.thirtyDayPeriodsSinceEpoch)!==null&&er!==void 0?er:0,nr.hmacKey=(rr=tr.hmacKey)!==null&&rr!==void 0?rr:new Uint8Array,nr}};function createBaseGetConversationHmacKeysResponse_HmacKeys(){return{values:[]}}const GetConversationHmacKeysResponse_HmacKeys={encode(tr,er=_m0.Writer.create()){for(const rr of tr.values)GetConversationHmacKeysResponse_HmacKeyData.encode(rr,er.uint32(10).fork()).ldelim();return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetConversationHmacKeysResponse_HmacKeys();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.values.push(GetConversationHmacKeysResponse_HmacKeyData.decode(rr,rr.uint32()));break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{values:Array.isArray(tr?.values)?tr.values.map(er=>GetConversationHmacKeysResponse_HmacKeyData.fromJSON(er)):[]}},toJSON(tr){const er={};return tr.values?er.values=tr.values.map(rr=>rr?GetConversationHmacKeysResponse_HmacKeyData.toJSON(rr):void 0):er.values=[],er},fromPartial(tr){var er;const rr=createBaseGetConversationHmacKeysResponse_HmacKeys();return rr.values=((er=tr.values)===null||er===void 0?void 0:er.map(nr=>GetConversationHmacKeysResponse_HmacKeyData.fromPartial(nr)))||[],rr}};function createBaseGetConversationHmacKeysResponse_HmacKeysEntry(){return{key:"",value:void 0}}const GetConversationHmacKeysResponse_HmacKeysEntry={encode(tr,er=_m0.Writer.create()){return tr.key!==""&&er.uint32(10).string(tr.key),tr.value!==void 0&&GetConversationHmacKeysResponse_HmacKeys.encode(tr.value,er.uint32(18).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBaseGetConversationHmacKeysResponse_HmacKeysEntry();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.key=rr.string();break;case 2:ir.value=GetConversationHmacKeysResponse_HmacKeys.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{key:isSet$1(tr.key)?String(tr.key):"",value:isSet$1(tr.value)?GetConversationHmacKeysResponse_HmacKeys.fromJSON(tr.value):void 0}},toJSON(tr){const er={};return tr.key!==void 0&&(er.key=tr.key),tr.value!==void 0&&(er.value=tr.value?GetConversationHmacKeysResponse_HmacKeys.toJSON(tr.value):void 0),er},fromPartial(tr){var er;const rr=createBaseGetConversationHmacKeysResponse_HmacKeysEntry();return rr.key=(er=tr.key)!==null&&er!==void 0?er:"",rr.value=tr.value!==void 0&&tr.value!==null?GetConversationHmacKeysResponse_HmacKeys.fromPartial(tr.value):void 0,rr}};var globalThis$p=(()=>{if(typeof globalThis$p<"u")return globalThis$p;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$p<"u")return globalThis$p;throw"Unable to locate global object"})();function bytesFromBase64(tr){if(globalThis$p.Buffer)return Uint8Array.from(globalThis$p.Buffer.from(tr,"base64"));{const er=globalThis$p.atob(tr),rr=new Uint8Array(er.length);for(let nr=0;nr<er.length;++nr)rr[nr]=er.charCodeAt(nr);return rr}}function base64FromBytes(tr){if(globalThis$p.Buffer)return globalThis$p.Buffer.from(tr).toString("base64");{const er=[];return tr.forEach(rr=>{er.push(String.fromCharCode(rr))}),globalThis$p.btoa(er.join(""))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isObject$4(tr){return typeof tr=="object"&&tr!==null}function isSet$1(tr){return tr!=null}const i$3=Object.freeze(Object.defineProperty({__proto__:null,CreateAuthTokenRequest,CreateInviteRequest,CreateInviteResponse,DecryptResponse,DecryptResponse_Response,DecryptResponse_Response_Success,DecryptV1Request,DecryptV1Request_Request,DecryptV2Request,DecryptV2Request_Request,EncryptResponse,EncryptResponse_Response,EncryptResponse_Response_Success,EncryptV1Request,EncryptV1Request_Request,EncryptV2Request,EncryptV2Request_Request,get ErrorCode(){return ErrorCode$1},GetConversationHmacKeysRequest,GetConversationHmacKeysResponse,GetConversationHmacKeysResponse_HmacKeyData,GetConversationHmacKeysResponse_HmacKeys,GetConversationHmacKeysResponse_HmacKeysEntry,GetConversationsResponse,GetKeystoreStatusRequest,GetKeystoreStatusResponse,get GetKeystoreStatusResponse_KeystoreStatus(){return GetKeystoreStatusResponse_KeystoreStatus$1},GetPrivatePreferencesTopicIdentifierResponse,GetRefreshJobRequest,GetRefreshJobResponse,InitKeystoreRequest,InitKeystoreResponse,get JobType(){return JobType$1},KeystoreError,SaveInvitesRequest,SaveInvitesRequest_Request,SaveInvitesResponse,SaveInvitesResponse_Response,SaveInvitesResponse_Response_Success,SaveV1ConversationsRequest,SaveV1ConversationsResponse,SelfDecryptRequest,SelfDecryptRequest_Request,SelfEncryptRequest,SelfEncryptRequest_Request,SelfEncryptResponse,SelfEncryptResponse_Response,SelfEncryptResponse_Response_Success,SetRefeshJobRequest,SetRefreshJobResponse,SignDigestRequest,TopicMap,TopicMap_TopicData,TopicMap_TopicsEntry,errorCodeFromJSON,errorCodeToJSON,getKeystoreStatusResponse_KeystoreStatusFromJSON,getKeystoreStatusResponse_KeystoreStatusToJSON,jobTypeFromJSON,jobTypeToJSON,protobufPackage},Symbol.toStringTag,{value:"Module"}));function createBasePrivatePreferencesAction(){return{allowAddress:void 0,denyAddress:void 0,allowGroup:void 0,denyGroup:void 0,allowInboxId:void 0,denyInboxId:void 0}}const PrivatePreferencesAction={encode(tr,er=_m0.Writer.create()){return tr.allowAddress!==void 0&&PrivatePreferencesAction_AllowAddress.encode(tr.allowAddress,er.uint32(10).fork()).ldelim(),tr.denyAddress!==void 0&&PrivatePreferencesAction_DenyAddress.encode(tr.denyAddress,er.uint32(18).fork()).ldelim(),tr.allowGroup!==void 0&&PrivatePreferencesAction_AllowGroup.encode(tr.allowGroup,er.uint32(26).fork()).ldelim(),tr.denyGroup!==void 0&&PrivatePreferencesAction_DenyGroup.encode(tr.denyGroup,er.uint32(34).fork()).ldelim(),tr.allowInboxId!==void 0&&PrivatePreferencesAction_AllowInboxId.encode(tr.allowInboxId,er.uint32(42).fork()).ldelim(),tr.denyInboxId!==void 0&&PrivatePreferencesAction_DenyInboxId.encode(tr.denyInboxId,er.uint32(50).fork()).ldelim(),er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivatePreferencesAction();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.allowAddress=PrivatePreferencesAction_AllowAddress.decode(rr,rr.uint32());break;case 2:ir.denyAddress=PrivatePreferencesAction_DenyAddress.decode(rr,rr.uint32());break;case 3:ir.allowGroup=PrivatePreferencesAction_AllowGroup.decode(rr,rr.uint32());break;case 4:ir.denyGroup=PrivatePreferencesAction_DenyGroup.decode(rr,rr.uint32());break;case 5:ir.allowInboxId=PrivatePreferencesAction_AllowInboxId.decode(rr,rr.uint32());break;case 6:ir.denyInboxId=PrivatePreferencesAction_DenyInboxId.decode(rr,rr.uint32());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{allowAddress:isSet(tr.allowAddress)?PrivatePreferencesAction_AllowAddress.fromJSON(tr.allowAddress):void 0,denyAddress:isSet(tr.denyAddress)?PrivatePreferencesAction_DenyAddress.fromJSON(tr.denyAddress):void 0,allowGroup:isSet(tr.allowGroup)?PrivatePreferencesAction_AllowGroup.fromJSON(tr.allowGroup):void 0,denyGroup:isSet(tr.denyGroup)?PrivatePreferencesAction_DenyGroup.fromJSON(tr.denyGroup):void 0,allowInboxId:isSet(tr.allowInboxId)?PrivatePreferencesAction_AllowInboxId.fromJSON(tr.allowInboxId):void 0,denyInboxId:isSet(tr.denyInboxId)?PrivatePreferencesAction_DenyInboxId.fromJSON(tr.denyInboxId):void 0}},toJSON(tr){const er={};return tr.allowAddress!==void 0&&(er.allowAddress=tr.allowAddress?PrivatePreferencesAction_AllowAddress.toJSON(tr.allowAddress):void 0),tr.denyAddress!==void 0&&(er.denyAddress=tr.denyAddress?PrivatePreferencesAction_DenyAddress.toJSON(tr.denyAddress):void 0),tr.allowGroup!==void 0&&(er.allowGroup=tr.allowGroup?PrivatePreferencesAction_AllowGroup.toJSON(tr.allowGroup):void 0),tr.denyGroup!==void 0&&(er.denyGroup=tr.denyGroup?PrivatePreferencesAction_DenyGroup.toJSON(tr.denyGroup):void 0),tr.allowInboxId!==void 0&&(er.allowInboxId=tr.allowInboxId?PrivatePreferencesAction_AllowInboxId.toJSON(tr.allowInboxId):void 0),tr.denyInboxId!==void 0&&(er.denyInboxId=tr.denyInboxId?PrivatePreferencesAction_DenyInboxId.toJSON(tr.denyInboxId):void 0),er},fromPartial(tr){const er=createBasePrivatePreferencesAction();return er.allowAddress=tr.allowAddress!==void 0&&tr.allowAddress!==null?PrivatePreferencesAction_AllowAddress.fromPartial(tr.allowAddress):void 0,er.denyAddress=tr.denyAddress!==void 0&&tr.denyAddress!==null?PrivatePreferencesAction_DenyAddress.fromPartial(tr.denyAddress):void 0,er.allowGroup=tr.allowGroup!==void 0&&tr.allowGroup!==null?PrivatePreferencesAction_AllowGroup.fromPartial(tr.allowGroup):void 0,er.denyGroup=tr.denyGroup!==void 0&&tr.denyGroup!==null?PrivatePreferencesAction_DenyGroup.fromPartial(tr.denyGroup):void 0,er.allowInboxId=tr.allowInboxId!==void 0&&tr.allowInboxId!==null?PrivatePreferencesAction_AllowInboxId.fromPartial(tr.allowInboxId):void 0,er.denyInboxId=tr.denyInboxId!==void 0&&tr.denyInboxId!==null?PrivatePreferencesAction_DenyInboxId.fromPartial(tr.denyInboxId):void 0,er}};function createBasePrivatePreferencesAction_AllowAddress(){return{walletAddresses:[]}}const PrivatePreferencesAction_AllowAddress={encode(tr,er=_m0.Writer.create()){for(const rr of tr.walletAddresses)er.uint32(10).string(rr);return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivatePreferencesAction_AllowAddress();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.walletAddresses.push(rr.string());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{walletAddresses:Array.isArray(tr?.walletAddresses)?tr.walletAddresses.map(er=>String(er)):[]}},toJSON(tr){const er={};return tr.walletAddresses?er.walletAddresses=tr.walletAddresses.map(rr=>rr):er.walletAddresses=[],er},fromPartial(tr){var er;const rr=createBasePrivatePreferencesAction_AllowAddress();return rr.walletAddresses=((er=tr.walletAddresses)===null||er===void 0?void 0:er.map(nr=>nr))||[],rr}};function createBasePrivatePreferencesAction_DenyAddress(){return{walletAddresses:[]}}const PrivatePreferencesAction_DenyAddress={encode(tr,er=_m0.Writer.create()){for(const rr of tr.walletAddresses)er.uint32(10).string(rr);return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivatePreferencesAction_DenyAddress();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.walletAddresses.push(rr.string());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{walletAddresses:Array.isArray(tr?.walletAddresses)?tr.walletAddresses.map(er=>String(er)):[]}},toJSON(tr){const er={};return tr.walletAddresses?er.walletAddresses=tr.walletAddresses.map(rr=>rr):er.walletAddresses=[],er},fromPartial(tr){var er;const rr=createBasePrivatePreferencesAction_DenyAddress();return rr.walletAddresses=((er=tr.walletAddresses)===null||er===void 0?void 0:er.map(nr=>nr))||[],rr}};function createBasePrivatePreferencesAction_AllowInboxId(){return{inboxIds:[]}}const PrivatePreferencesAction_AllowInboxId={encode(tr,er=_m0.Writer.create()){for(const rr of tr.inboxIds)er.uint32(10).string(rr);return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivatePreferencesAction_AllowInboxId();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.inboxIds.push(rr.string());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{inboxIds:Array.isArray(tr?.inboxIds)?tr.inboxIds.map(er=>String(er)):[]}},toJSON(tr){const er={};return tr.inboxIds?er.inboxIds=tr.inboxIds.map(rr=>rr):er.inboxIds=[],er},fromPartial(tr){var er;const rr=createBasePrivatePreferencesAction_AllowInboxId();return rr.inboxIds=((er=tr.inboxIds)===null||er===void 0?void 0:er.map(nr=>nr))||[],rr}};function createBasePrivatePreferencesAction_DenyInboxId(){return{inboxIds:[]}}const PrivatePreferencesAction_DenyInboxId={encode(tr,er=_m0.Writer.create()){for(const rr of tr.inboxIds)er.uint32(10).string(rr);return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivatePreferencesAction_DenyInboxId();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.inboxIds.push(rr.string());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{inboxIds:Array.isArray(tr?.inboxIds)?tr.inboxIds.map(er=>String(er)):[]}},toJSON(tr){const er={};return tr.inboxIds?er.inboxIds=tr.inboxIds.map(rr=>rr):er.inboxIds=[],er},fromPartial(tr){var er;const rr=createBasePrivatePreferencesAction_DenyInboxId();return rr.inboxIds=((er=tr.inboxIds)===null||er===void 0?void 0:er.map(nr=>nr))||[],rr}};function createBasePrivatePreferencesAction_AllowGroup(){return{groupIds:[]}}const PrivatePreferencesAction_AllowGroup={encode(tr,er=_m0.Writer.create()){for(const rr of tr.groupIds)er.uint32(10).string(rr);return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivatePreferencesAction_AllowGroup();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.groupIds.push(rr.string());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{groupIds:Array.isArray(tr?.groupIds)?tr.groupIds.map(er=>String(er)):[]}},toJSON(tr){const er={};return tr.groupIds?er.groupIds=tr.groupIds.map(rr=>rr):er.groupIds=[],er},fromPartial(tr){var er;const rr=createBasePrivatePreferencesAction_AllowGroup();return rr.groupIds=((er=tr.groupIds)===null||er===void 0?void 0:er.map(nr=>nr))||[],rr}};function createBasePrivatePreferencesAction_DenyGroup(){return{groupIds:[]}}const PrivatePreferencesAction_DenyGroup={encode(tr,er=_m0.Writer.create()){for(const rr of tr.groupIds)er.uint32(10).string(rr);return er},decode(tr,er){const rr=tr instanceof _m0.Reader?tr:new _m0.Reader(tr);let nr=er===void 0?rr.len:rr.pos+er;const ir=createBasePrivatePreferencesAction_DenyGroup();for(;rr.pos<nr;){const or=rr.uint32();switch(or>>>3){case 1:ir.groupIds.push(rr.string());break;default:rr.skipType(or&7);break}}return ir},fromJSON(tr){return{groupIds:Array.isArray(tr?.groupIds)?tr.groupIds.map(er=>String(er)):[]}},toJSON(tr){const er={};return tr.groupIds?er.groupIds=tr.groupIds.map(rr=>rr):er.groupIds=[],er},fromPartial(tr){var er;const rr=createBasePrivatePreferencesAction_DenyGroup();return rr.groupIds=((er=tr.groupIds)===null||er===void 0?void 0:er.map(nr=>nr))||[],rr}};_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet(tr){return tr!=null}var globalThis$o=(()=>{if(typeof globalThis$o<"u")return globalThis$o;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$o<"u")return globalThis$o;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$n=(()=>{if(typeof globalThis$n<"u")return globalThis$n;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$n<"u")return globalThis$n;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var SortDirection$1;(function(tr){tr[tr.SORT_DIRECTION_UNSPECIFIED=0]="SORT_DIRECTION_UNSPECIFIED",tr[tr.SORT_DIRECTION_ASCENDING=1]="SORT_DIRECTION_ASCENDING",tr[tr.SORT_DIRECTION_DESCENDING=2]="SORT_DIRECTION_DESCENDING",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(SortDirection$1||(SortDirection$1={}));var globalThis$m=(()=>{if(typeof globalThis$m<"u")return globalThis$m;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$m<"u")return globalThis$m;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var AdminListUpdateType;(function(tr){tr[tr.ADMIN_LIST_UPDATE_TYPE_UNSPECIFIED=0]="ADMIN_LIST_UPDATE_TYPE_UNSPECIFIED",tr[tr.ADMIN_LIST_UPDATE_TYPE_ADD_ADMIN=1]="ADMIN_LIST_UPDATE_TYPE_ADD_ADMIN",tr[tr.ADMIN_LIST_UPDATE_TYPE_REMOVE_ADMIN=2]="ADMIN_LIST_UPDATE_TYPE_REMOVE_ADMIN",tr[tr.ADMIN_LIST_UPDATE_TYPE_ADD_SUPER_ADMIN=3]="ADMIN_LIST_UPDATE_TYPE_ADD_SUPER_ADMIN",tr[tr.ADMIN_LIST_UPDATE_TYPE_REMOVE_SUPER_ADMIN=4]="ADMIN_LIST_UPDATE_TYPE_REMOVE_SUPER_ADMIN",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(AdminListUpdateType||(AdminListUpdateType={}));var PermissionUpdateType;(function(tr){tr[tr.PERMISSION_UPDATE_TYPE_UNSPECIFIED=0]="PERMISSION_UPDATE_TYPE_UNSPECIFIED",tr[tr.PERMISSION_UPDATE_TYPE_ADD_MEMBER=1]="PERMISSION_UPDATE_TYPE_ADD_MEMBER",tr[tr.PERMISSION_UPDATE_TYPE_REMOVE_MEMBER=2]="PERMISSION_UPDATE_TYPE_REMOVE_MEMBER",tr[tr.PERMISSION_UPDATE_TYPE_ADD_ADMIN=3]="PERMISSION_UPDATE_TYPE_ADD_ADMIN",tr[tr.PERMISSION_UPDATE_TYPE_REMOVE_ADMIN=4]="PERMISSION_UPDATE_TYPE_REMOVE_ADMIN",tr[tr.PERMISSION_UPDATE_TYPE_UPDATE_METADATA=5]="PERMISSION_UPDATE_TYPE_UPDATE_METADATA",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(PermissionUpdateType||(PermissionUpdateType={}));var PermissionPolicyOption;(function(tr){tr[tr.PERMISSION_POLICY_OPTION_UNSPECIFIED=0]="PERMISSION_POLICY_OPTION_UNSPECIFIED",tr[tr.PERMISSION_POLICY_OPTION_ALLOW=1]="PERMISSION_POLICY_OPTION_ALLOW",tr[tr.PERMISSION_POLICY_OPTION_DENY=2]="PERMISSION_POLICY_OPTION_DENY",tr[tr.PERMISSION_POLICY_OPTION_ADMIN_ONLY=3]="PERMISSION_POLICY_OPTION_ADMIN_ONLY",tr[tr.PERMISSION_POLICY_OPTION_SUPER_ADMIN_ONLY=4]="PERMISSION_POLICY_OPTION_SUPER_ADMIN_ONLY",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(PermissionPolicyOption||(PermissionPolicyOption={}));var globalThis$l=(()=>{if(typeof globalThis$l<"u")return globalThis$l;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$l<"u")return globalThis$l;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var AssociationTextVersion;(function(tr){tr[tr.ASSOCIATION_TEXT_VERSION_UNSPECIFIED=0]="ASSOCIATION_TEXT_VERSION_UNSPECIFIED",tr[tr.ASSOCIATION_TEXT_VERSION_1=1]="ASSOCIATION_TEXT_VERSION_1",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(AssociationTextVersion||(AssociationTextVersion={}));var globalThis$k=(()=>{if(typeof globalThis$k<"u")return globalThis$k;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$k<"u")return globalThis$k;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var Compression$1;(function(tr){tr[tr.COMPRESSION_DEFLATE=0]="COMPRESSION_DEFLATE",tr[tr.COMPRESSION_GZIP=1]="COMPRESSION_GZIP",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Compression$1||(Compression$1={}));var globalThis$j=(()=>{if(typeof globalThis$j<"u")return globalThis$j;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$j<"u")return globalThis$j;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$i=(()=>{if(typeof globalThis$i<"u")return globalThis$i;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$i<"u")return globalThis$i;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var ConversationType;(function(tr){tr[tr.CONVERSATION_TYPE_UNSPECIFIED=0]="CONVERSATION_TYPE_UNSPECIFIED",tr[tr.CONVERSATION_TYPE_GROUP=1]="CONVERSATION_TYPE_GROUP",tr[tr.CONVERSATION_TYPE_DM=2]="CONVERSATION_TYPE_DM",tr[tr.CONVERSATION_TYPE_SYNC=3]="CONVERSATION_TYPE_SYNC",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConversationType||(ConversationType={}));_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$h=(()=>{if(typeof globalThis$h<"u")return globalThis$h;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$h<"u")return globalThis$h;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$g=(()=>{if(typeof globalThis$g<"u")return globalThis$g;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$g<"u")return globalThis$g;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$f=(()=>{if(typeof globalThis$f<"u")return globalThis$f;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$f<"u")return globalThis$f;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$e=(()=>{if(typeof globalThis$e<"u")return globalThis$e;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$e<"u")return globalThis$e;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var emptyModule,hasRequiredEmptyModule;function requireEmptyModule(){return hasRequiredEmptyModule||(hasRequiredEmptyModule=1,emptyModule=null),emptyModule}var emptyModuleExports=requireEmptyModule();const nodeCrypto=getDefaultExportFromCjs(emptyModuleExports),nodeCrypto$1=_mergeNamespaces({__proto__:null,default:nodeCrypto},[emptyModuleExports]);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n$b=BigInt(0),_1n$c=BigInt(1),_2n$9=BigInt(2),_3n$4=BigInt(3),_8n$2=BigInt(8),CURVE=Object.freeze({a:_0n$b,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n$c,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),divNearest$2=(tr,er)=>(tr+er/_2n$9)/er,endo={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(tr){const{n:er}=CURVE,rr=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),nr=-_1n$c*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ir=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),or=rr,sr=BigInt("0x100000000000000000000000000000000"),ar=divNearest$2(or*tr,er),cr=divNearest$2(-nr*tr,er);let lr=mod$2(tr-ar*rr-cr*ir,er),ur=mod$2(-ar*nr-cr*or,er);const fr=lr>sr,dr=ur>sr;if(fr&&(lr=er-lr),dr&&(ur=er-ur),lr>sr||ur>sr)throw new Error("splitScalarEndo: Endomorphism failed, k="+tr);return{k1neg:fr,k1:lr,k2neg:dr,k2:ur}}},fieldLen=32,groupLen=32,hashLen=32,compressedLen=fieldLen+1,uncompressedLen=2*fieldLen+1;function weierstrass$2(tr){const{a:er,b:rr}=CURVE,nr=mod$2(tr*tr),ir=mod$2(nr*tr);return mod$2(ir+er*tr+rr)}const USE_ENDOMORPHISM=CURVE.a===_0n$b;class ShaError extends Error{constructor(er){super(er)}}function assertJacPoint(tr){if(!(tr instanceof JacobianPoint))throw new TypeError("JacobianPoint expected")}class JacobianPoint{constructor(er,rr,nr){this.x=er,this.y=rr,this.z=nr}static fromAffine(er){if(!(er instanceof Point$4))throw new TypeError("JacobianPoint#fromAffine: expected Point");return er.equals(Point$4.ZERO)?JacobianPoint.ZERO:new JacobianPoint(er.x,er.y,_1n$c)}static toAffineBatch(er){const rr=invertBatch(er.map(nr=>nr.z));return er.map((nr,ir)=>nr.toAffine(rr[ir]))}static normalizeZ(er){return JacobianPoint.toAffineBatch(er).map(JacobianPoint.fromAffine)}equals(er){assertJacPoint(er);const{x:rr,y:nr,z:ir}=this,{x:or,y:sr,z:ar}=er,cr=mod$2(ir*ir),lr=mod$2(ar*ar),ur=mod$2(rr*lr),fr=mod$2(or*cr),dr=mod$2(mod$2(nr*ar)*lr),gr=mod$2(mod$2(sr*ir)*cr);return ur===fr&&dr===gr}negate(){return new JacobianPoint(this.x,mod$2(-this.y),this.z)}double(){const{x:er,y:rr,z:nr}=this,ir=mod$2(er*er),or=mod$2(rr*rr),sr=mod$2(or*or),ar=er+or,cr=mod$2(_2n$9*(mod$2(ar*ar)-ir-sr)),lr=mod$2(_3n$4*ir),ur=mod$2(lr*lr),fr=mod$2(ur-_2n$9*cr),dr=mod$2(lr*(cr-fr)-_8n$2*sr),gr=mod$2(_2n$9*rr*nr);return new JacobianPoint(fr,dr,gr)}add(er){assertJacPoint(er);const{x:rr,y:nr,z:ir}=this,{x:or,y:sr,z:ar}=er;if(or===_0n$b||sr===_0n$b)return this;if(rr===_0n$b||nr===_0n$b)return er;const cr=mod$2(ir*ir),lr=mod$2(ar*ar),ur=mod$2(rr*lr),fr=mod$2(or*cr),dr=mod$2(mod$2(nr*ar)*lr),gr=mod$2(mod$2(sr*ir)*cr),br=mod$2(fr-ur),vr=mod$2(gr-dr);if(br===_0n$b)return vr===_0n$b?this.double():JacobianPoint.ZERO;const $r=mod$2(br*br),Er=mod$2(br*$r),_r=mod$2(ur*$r),xr=mod$2(vr*vr-Er-_2n$9*_r),Ir=mod$2(vr*(_r-xr)-dr*Er),Nr=mod$2(ir*ar*br);return new JacobianPoint(xr,Ir,Nr)}subtract(er){return this.add(er.negate())}multiplyUnsafe(er){const rr=JacobianPoint.ZERO;if(typeof er=="bigint"&&er===_0n$b)return rr;let nr=normalizeScalar(er);if(nr===_1n$c)return this;if(!USE_ENDOMORPHISM){let fr=rr,dr=this;for(;nr>_0n$b;)nr&_1n$c&&(fr=fr.add(dr)),dr=dr.double(),nr>>=_1n$c;return fr}let{k1neg:ir,k1:or,k2neg:sr,k2:ar}=endo.splitScalar(nr),cr=rr,lr=rr,ur=this;for(;or>_0n$b||ar>_0n$b;)or&_1n$c&&(cr=cr.add(ur)),ar&_1n$c&&(lr=lr.add(ur)),ur=ur.double(),or>>=_1n$c,ar>>=_1n$c;return ir&&(cr=cr.negate()),sr&&(lr=lr.negate()),lr=new JacobianPoint(mod$2(lr.x*endo.beta),lr.y,lr.z),cr.add(lr)}precomputeWindow(er){const rr=USE_ENDOMORPHISM?128/er+1:256/er+1,nr=[];let ir=this,or=ir;for(let sr=0;sr<rr;sr++){or=ir,nr.push(or);for(let ar=1;ar<2**(er-1);ar++)or=or.add(ir),nr.push(or);ir=or.double()}return nr}wNAF(er,rr){!rr&&this.equals(JacobianPoint.BASE)&&(rr=Point$4.BASE);const nr=rr&&rr._WINDOW_SIZE||1;if(256%nr)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let ir=rr&&pointPrecomputes.get(rr);ir||(ir=this.precomputeWindow(nr),rr&&nr!==1&&(ir=JacobianPoint.normalizeZ(ir),pointPrecomputes.set(rr,ir)));let or=JacobianPoint.ZERO,sr=JacobianPoint.BASE;const ar=1+(USE_ENDOMORPHISM?128/nr:256/nr),cr=2**(nr-1),lr=BigInt(2**nr-1),ur=2**nr,fr=BigInt(nr);for(let dr=0;dr<ar;dr++){const gr=dr*cr;let br=Number(er&lr);er>>=fr,br>cr&&(br-=ur,er+=_1n$c);const vr=gr,$r=gr+Math.abs(br)-1,Er=dr%2!==0,_r=br<0;br===0?sr=sr.add(constTimeNegate(Er,ir[vr])):or=or.add(constTimeNegate(_r,ir[$r]))}return{p:or,f:sr}}multiply(er,rr){let nr=normalizeScalar(er),ir,or;if(USE_ENDOMORPHISM){const{k1neg:sr,k1:ar,k2neg:cr,k2:lr}=endo.splitScalar(nr);let{p:ur,f:fr}=this.wNAF(ar,rr),{p:dr,f:gr}=this.wNAF(lr,rr);ur=constTimeNegate(sr,ur),dr=constTimeNegate(cr,dr),dr=new JacobianPoint(mod$2(dr.x*endo.beta),dr.y,dr.z),ir=ur.add(dr),or=fr.add(gr)}else{const{p:sr,f:ar}=this.wNAF(nr,rr);ir=sr,or=ar}return JacobianPoint.normalizeZ([ir,or])[0]}toAffine(er){const{x:rr,y:nr,z:ir}=this,or=this.equals(JacobianPoint.ZERO);er==null&&(er=or?_8n$2:invert$2(ir));const sr=er,ar=mod$2(sr*sr),cr=mod$2(ar*sr),lr=mod$2(rr*ar),ur=mod$2(nr*cr),fr=mod$2(ir*sr);if(or)return Point$4.ZERO;if(fr!==_1n$c)throw new Error("invZ was invalid");return new Point$4(lr,ur)}}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n$c);JacobianPoint.ZERO=new JacobianPoint(_0n$b,_1n$c,_0n$b);function constTimeNegate(tr,er){const rr=er.negate();return tr?rr:er}const pointPrecomputes=new WeakMap;let Point$4=class yl{constructor(er,rr){this.x=er,this.y=rr}_setWindowSize(er){this._WINDOW_SIZE=er,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n$9===_0n$b}static fromCompressedHex(er){const rr=er.length===32,nr=bytesToNumber(rr?er:er.subarray(1));if(!isValidFieldElement(nr))throw new Error("Point is not on curve");const ir=weierstrass$2(nr);let or=sqrtMod$2(ir);const sr=(or&_1n$c)===_1n$c;rr?sr&&(or=mod$2(-or)):(er[0]&1)===1!==sr&&(or=mod$2(-or));const ar=new yl(nr,or);return ar.assertValidity(),ar}static fromUncompressedHex(er){const rr=bytesToNumber(er.subarray(1,fieldLen+1)),nr=bytesToNumber(er.subarray(fieldLen+1,fieldLen*2+1)),ir=new yl(rr,nr);return ir.assertValidity(),ir}static fromHex(er){const rr=ensureBytes$2(er),nr=rr.length,ir=rr[0];if(nr===fieldLen)return this.fromCompressedHex(rr);if(nr===compressedLen&&(ir===2||ir===3))return this.fromCompressedHex(rr);if(nr===uncompressedLen&&ir===4)return this.fromUncompressedHex(rr);throw new Error(`Point.fromHex: received invalid point. Expected 32-${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes, not ${nr}`)}static fromPrivateKey(er){return yl.BASE.multiply(normalizePrivateKey(er))}static fromSignature(er,rr,nr){const{r:ir,s:or}=normalizeSignature(rr);if(![0,1,2,3].includes(nr))throw new Error("Cannot recover: invalid recovery bit");const sr=truncateHash(ensureBytes$2(er)),{n:ar}=CURVE,cr=nr===2||nr===3?ir+ar:ir,lr=invert$2(cr,ar),ur=mod$2(-sr*lr,ar),fr=mod$2(or*lr,ar),dr=nr&1?"03":"02",gr=yl.fromHex(dr+numTo32bStr(cr)),br=yl.BASE.multiplyAndAddUnsafe(gr,ur,fr);if(!br)throw new Error("Cannot recover signature: point at infinify");return br.assertValidity(),br}toRawBytes(er=!1){return hexToBytes$9(this.toHex(er))}toHex(er=!1){const rr=numTo32bStr(this.x);return er?`${this.hasEvenY()?"02":"03"}${rr}`:`04${rr}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const er="Point is not on elliptic curve",{x:rr,y:nr}=this;if(!isValidFieldElement(rr)||!isValidFieldElement(nr))throw new Error(er);const ir=mod$2(nr*nr),or=weierstrass$2(rr);if(mod$2(ir-or)!==_0n$b)throw new Error(er)}equals(er){return this.x===er.x&&this.y===er.y}negate(){return new yl(this.x,mod$2(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(er){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(er)).toAffine()}subtract(er){return this.add(er.negate())}multiply(er){return JacobianPoint.fromAffine(this).multiply(er,this).toAffine()}multiplyAndAddUnsafe(er,rr,nr){const ir=JacobianPoint.fromAffine(this),or=rr===_0n$b||rr===_1n$c||this!==yl.BASE?ir.multiplyUnsafe(rr):ir.multiply(rr),sr=JacobianPoint.fromAffine(er).multiplyUnsafe(nr),ar=or.add(sr);return ar.equals(JacobianPoint.ZERO)?void 0:ar.toAffine()}};Point$4.BASE=new Point$4(CURVE.Gx,CURVE.Gy);Point$4.ZERO=new Point$4(_0n$b,_0n$b);function sliceDER(tr){return Number.parseInt(tr[0],16)>=8?"00"+tr:tr}function parseDERInt(tr){if(tr.length<2||tr[0]!==2)throw new Error(`Invalid signature integer tag: ${bytesToHex$8(tr)}`);const er=tr[1],rr=tr.subarray(2,er+2);if(!er||rr.length!==er)throw new Error("Invalid signature integer: wrong length");if(rr[0]===0&&rr[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(rr),left:tr.subarray(er+2)}}function parseDERSignature(tr){if(tr.length<2||tr[0]!=48)throw new Error(`Invalid signature tag: ${bytesToHex$8(tr)}`);if(tr[1]!==tr.length-2)throw new Error("Invalid signature: incorrect length");const{data:er,left:rr}=parseDERInt(tr.subarray(2)),{data:nr,left:ir}=parseDERInt(rr);if(ir.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex$8(ir)}`);return{r:er,s:nr}}let Signature$4=class Ol{constructor(er,rr){this.r=er,this.s=rr,this.assertValidity()}static fromCompact(er){const rr=er instanceof Uint8Array,nr="Signature.fromCompact";if(typeof er!="string"&&!rr)throw new TypeError(`${nr}: Expected string or Uint8Array`);const ir=rr?bytesToHex$8(er):er;if(ir.length!==128)throw new Error(`${nr}: Expected 64-byte hex`);return new Ol(hexToNumber$5(ir.slice(0,64)),hexToNumber$5(ir.slice(64,128)))}static fromDER(er){const rr=er instanceof Uint8Array;if(typeof er!="string"&&!rr)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:nr,s:ir}=parseDERSignature(rr?er:hexToBytes$9(er));return new Ol(nr,ir)}static fromHex(er){return this.fromDER(er)}assertValidity(){const{r:er,s:rr}=this;if(!isWithinCurveOrder(er))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(rr))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const er=CURVE.n>>_1n$c;return this.s>er}normalizeS(){return this.hasHighS()?new Ol(this.r,mod$2(-this.s,CURVE.n)):this}toDERRawBytes(){return hexToBytes$9(this.toDERHex())}toDERHex(){const er=sliceDER(numberToHexUnpadded$2(this.s)),rr=sliceDER(numberToHexUnpadded$2(this.r)),nr=er.length/2,ir=rr.length/2,or=numberToHexUnpadded$2(nr),sr=numberToHexUnpadded$2(ir);return`30${numberToHexUnpadded$2(ir+nr+4)}02${sr}${rr}02${or}${er}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes$9(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}};function concatBytes$8(...tr){if(!tr.every(nr=>nr instanceof Uint8Array))throw new Error("Uint8Array list expected");if(tr.length===1)return tr[0];const er=tr.reduce((nr,ir)=>nr+ir.length,0),rr=new Uint8Array(er);for(let nr=0,ir=0;nr<tr.length;nr++){const or=tr[nr];rr.set(or,ir),ir+=or.length}return rr}const hexes$4=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));function bytesToHex$8(tr){if(!(tr instanceof Uint8Array))throw new Error("Expected Uint8Array");let er="";for(let rr=0;rr<tr.length;rr++)er+=hexes$4[tr[rr]];return er}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(tr){if(typeof tr!="bigint")throw new Error("Expected bigint");if(!(_0n$b<=tr&&tr<POW_2_256))throw new Error("Expected number 0 <= n < 2^256");return tr.toString(16).padStart(64,"0")}function numTo32b$1(tr){const er=hexToBytes$9(numTo32bStr(tr));if(er.length!==32)throw new Error("Error: expected 32 bytes");return er}function numberToHexUnpadded$2(tr){const er=tr.toString(16);return er.length&1?`0${er}`:er}function hexToNumber$5(tr){if(typeof tr!="string")throw new TypeError("hexToNumber: expected string, got "+typeof tr);return BigInt(`0x${tr}`)}function hexToBytes$9(tr){if(typeof tr!="string")throw new TypeError("hexToBytes: expected string, got "+typeof tr);if(tr.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+tr.length);const er=new Uint8Array(tr.length/2);for(let rr=0;rr<er.length;rr++){const nr=rr*2,ir=tr.slice(nr,nr+2),or=Number.parseInt(ir,16);if(Number.isNaN(or)||or<0)throw new Error("Invalid byte sequence");er[rr]=or}return er}function bytesToNumber(tr){return hexToNumber$5(bytesToHex$8(tr))}function ensureBytes$2(tr){return tr instanceof Uint8Array?Uint8Array.from(tr):hexToBytes$9(tr)}function normalizeScalar(tr){if(typeof tr=="number"&&Number.isSafeInteger(tr)&&tr>0)return BigInt(tr);if(typeof tr=="bigint"&&isWithinCurveOrder(tr))return tr;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod$2(tr,er=CURVE.P){const rr=tr%er;return rr>=_0n$b?rr:er+rr}function pow2$2(tr,er){const{P:rr}=CURVE;let nr=tr;for(;er-- >_0n$b;)nr*=nr,nr%=rr;return nr}function sqrtMod$2(tr){const{P:er}=CURVE,rr=BigInt(6),nr=BigInt(11),ir=BigInt(22),or=BigInt(23),sr=BigInt(44),ar=BigInt(88),cr=tr*tr*tr%er,lr=cr*cr*tr%er,ur=pow2$2(lr,_3n$4)*lr%er,fr=pow2$2(ur,_3n$4)*lr%er,dr=pow2$2(fr,_2n$9)*cr%er,gr=pow2$2(dr,nr)*dr%er,br=pow2$2(gr,ir)*gr%er,vr=pow2$2(br,sr)*br%er,$r=pow2$2(vr,ar)*vr%er,Er=pow2$2($r,sr)*br%er,_r=pow2$2(Er,_3n$4)*lr%er,xr=pow2$2(_r,or)*gr%er,Ir=pow2$2(xr,rr)*cr%er,Nr=pow2$2(Ir,_2n$9);if(Nr*Nr%er!==tr)throw new Error("Cannot find square root");return Nr}function invert$2(tr,er=CURVE.P){if(tr===_0n$b||er<=_0n$b)throw new Error(`invert: expected positive integers, got n=${tr} mod=${er}`);let rr=mod$2(tr,er),nr=er,ir=_0n$b,or=_1n$c;for(;rr!==_0n$b;){const ar=nr/rr,cr=nr%rr,lr=ir-or*ar;nr=rr,rr=cr,ir=or,or=lr}if(nr!==_1n$c)throw new Error("invert: does not exist");return mod$2(ir,er)}function invertBatch(tr,er=CURVE.P){const rr=new Array(tr.length),nr=tr.reduce((or,sr,ar)=>sr===_0n$b?or:(rr[ar]=or,mod$2(or*sr,er)),_1n$c),ir=invert$2(nr,er);return tr.reduceRight((or,sr,ar)=>sr===_0n$b?or:(rr[ar]=mod$2(or*rr[ar],er),mod$2(or*sr,er)),ir),rr}function bits2int_2(tr){const er=tr.length*8-groupLen*8,rr=bytesToNumber(tr);return er>0?rr>>BigInt(er):rr}function truncateHash(tr,er=!1){const rr=bits2int_2(tr);if(er)return rr;const{n:nr}=CURVE;return rr>=nr?rr-nr:rr}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(er,rr){if(this.hashLen=er,this.qByteLen=rr,typeof er!="number"||er<2)throw new Error("hashLen must be a number");if(typeof rr!="number"||rr<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(er).fill(1),this.k=new Uint8Array(er).fill(0),this.counter=0}hmac(...er){return utils$v.hmacSha256(this.k,...er)}hmacSync(...er){return _hmacSha256Sync(this.k,...er)}checkSync(){if(typeof _hmacSha256Sync!="function")throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(er=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),er),this.v=await this.hmac(this.v),er.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),er),this.v=await this.hmac(this.v))}reseedSync(er=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),er),this.v=this.hmacSync(this.v),er.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),er),this.v=this.hmacSync(this.v))}async generate(){this.incr();let er=0;const rr=[];for(;er<this.qByteLen;){this.v=await this.hmac(this.v);const nr=this.v.slice();rr.push(nr),er+=this.v.length}return concatBytes$8(...rr)}generateSync(){this.checkSync(),this.incr();let er=0;const rr=[];for(;er<this.qByteLen;){this.v=this.hmacSync(this.v);const nr=this.v.slice();rr.push(nr),er+=this.v.length}return concatBytes$8(...rr)}}function isWithinCurveOrder(tr){return _0n$b<tr&&tr<CURVE.n}function isValidFieldElement(tr){return _0n$b<tr&&tr<CURVE.P}function kmdToSig(tr,er,rr,nr=!0){const{n:ir}=CURVE,or=truncateHash(tr,!0);if(!isWithinCurveOrder(or))return;const sr=invert$2(or,ir),ar=Point$4.BASE.multiply(or),cr=mod$2(ar.x,ir);if(cr===_0n$b)return;const lr=mod$2(sr*mod$2(er+rr*cr,ir),ir);if(lr===_0n$b)return;let ur=new Signature$4(cr,lr),fr=(ar.x===ur.r?0:2)|Number(ar.y&_1n$c);return nr&&ur.hasHighS()&&(ur=ur.normalizeS(),fr^=1),{sig:ur,recovery:fr}}function normalizePrivateKey(tr){let er;if(typeof tr=="bigint")er=tr;else if(typeof tr=="number"&&Number.isSafeInteger(tr)&&tr>0)er=BigInt(tr);else if(typeof tr=="string"){if(tr.length!==2*groupLen)throw new Error("Expected 32 bytes of private key");er=hexToNumber$5(tr)}else if(tr instanceof Uint8Array){if(tr.length!==groupLen)throw new Error("Expected 32 bytes of private key");er=bytesToNumber(tr)}else throw new TypeError("Expected valid private key");if(!isWithinCurveOrder(er))throw new Error("Expected private key: 0 < key < n");return er}function normalizePublicKey(tr){return tr instanceof Point$4?(tr.assertValidity(),tr):Point$4.fromHex(tr)}function normalizeSignature(tr){if(tr instanceof Signature$4)return tr.assertValidity(),tr;try{return Signature$4.fromDER(tr)}catch{return Signature$4.fromCompact(tr)}}function getPublicKey(tr,er=!1){return Point$4.fromPrivateKey(tr).toRawBytes(er)}function recoverPublicKey$2(tr,er,rr,nr=!1){return Point$4.fromSignature(tr,er,rr).toRawBytes(nr)}function isProbPub(tr){const er=tr instanceof Uint8Array,rr=typeof tr=="string",nr=(er||rr)&&tr.length;return er?nr===compressedLen||nr===uncompressedLen:rr?nr===compressedLen*2||nr===uncompressedLen*2:tr instanceof Point$4}function getSharedSecret(tr,er,rr=!1){if(isProbPub(tr))throw new TypeError("getSharedSecret: first arg must be private key");if(!isProbPub(er))throw new TypeError("getSharedSecret: second arg must be public key");const nr=normalizePublicKey(er);return nr.assertValidity(),nr.multiply(normalizePrivateKey(tr)).toRawBytes(rr)}function bits2int(tr){const er=tr.length>fieldLen?tr.slice(0,fieldLen):tr;return bytesToNumber(er)}function bits2octets(tr){const er=bits2int(tr),rr=mod$2(er,CURVE.n);return int2octets(rr<_0n$b?er:rr)}function int2octets(tr){return numTo32b$1(tr)}function initSigArgs(tr,er,rr){if(tr==null)throw new Error(`sign: expected valid message hash, not "${tr}"`);const nr=ensureBytes$2(tr),ir=normalizePrivateKey(er),or=[int2octets(ir),bits2octets(nr)];if(rr!=null){rr===!0&&(rr=utils$v.randomBytes(fieldLen));const cr=ensureBytes$2(rr);if(cr.length!==fieldLen)throw new Error(`sign: Expected ${fieldLen} bytes of extra data`);or.push(cr)}const sr=concatBytes$8(...or),ar=bits2int(nr);return{seed:sr,m:ar,d:ir}}function finalizeSig(tr,er){const{sig:rr,recovery:nr}=tr,{der:ir,recovered:or}=Object.assign({canonical:!0,der:!0},er),sr=ir?rr.toDERRawBytes():rr.toCompactRawBytes();return or?[sr,nr]:sr}async function sign$1(tr,er,rr={}){const{seed:nr,m:ir,d:or}=initSigArgs(tr,er,rr.extraEntropy),sr=new HmacDrbg(hashLen,groupLen);await sr.reseed(nr);let ar;for(;!(ar=kmdToSig(await sr.generate(),ir,or,rr.canonical));)await sr.reseed();return finalizeSig(ar,rr)}const vopts={strict:!0};function verify(tr,er,rr,nr=vopts){let ir;try{ir=normalizeSignature(tr),er=ensureBytes$2(er)}catch{return!1}const{r:or,s:sr}=ir;if(nr.strict&&ir.hasHighS())return!1;const ar=truncateHash(er);let cr;try{cr=normalizePublicKey(rr)}catch{return!1}const{n:lr}=CURVE,ur=invert$2(sr,lr),fr=mod$2(ar*ur,lr),dr=mod$2(or*ur,lr),gr=Point$4.BASE.multiplyAndAddUnsafe(cr,fr,dr);return gr?mod$2(gr.x,lr)===or:!1}Point$4.BASE._setWindowSize(8);const crypto$5={node:nodeCrypto$1,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES$1={},utils$v={bytesToHex:bytesToHex$8,hexToBytes:hexToBytes$9,concatBytes:concatBytes$8,mod:mod$2,invert:invert$2,isValidPrivateKey(tr){try{return normalizePrivateKey(tr),!0}catch{return!1}},_bigintTo32Bytes:numTo32b$1,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:tr=>{tr=ensureBytes$2(tr);const er=groupLen+8;if(tr.length<er||tr.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const rr=mod$2(bytesToNumber(tr),CURVE.n-_1n$c)+_1n$c;return numTo32b$1(rr)},randomBytes:(tr=32)=>{if(crypto$5.web)return crypto$5.web.getRandomValues(new Uint8Array(tr));if(crypto$5.node){const{randomBytes:er}=crypto$5.node;return Uint8Array.from(er(tr))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils$v.hashToPrivateKey(utils$v.randomBytes(groupLen+8)),precompute(tr=8,er=Point$4.BASE){const rr=er===Point$4.BASE?er:new Point$4(er.x,er.y);return rr._setWindowSize(tr),rr.multiply(_3n$4),rr},sha256:async(...tr)=>{if(crypto$5.web){const er=await crypto$5.web.subtle.digest("SHA-256",concatBytes$8(...tr));return new Uint8Array(er)}else if(crypto$5.node){const{createHash:er}=crypto$5.node,rr=er("sha256");return tr.forEach(nr=>rr.update(nr)),Uint8Array.from(rr.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(tr,...er)=>{if(crypto$5.web){const rr=await crypto$5.web.subtle.importKey("raw",tr,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),nr=concatBytes$8(...er),ir=await crypto$5.web.subtle.sign("HMAC",rr,nr);return new Uint8Array(ir)}else if(crypto$5.node){const{createHmac:rr}=crypto$5.node,nr=rr("sha256",tr);return er.forEach(ir=>nr.update(ir)),Uint8Array.from(nr.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(tr,...er)=>{let rr=TAGGED_HASH_PREFIXES$1[tr];if(rr===void 0){const nr=await utils$v.sha256(Uint8Array.from(tr,ir=>ir.charCodeAt(0)));rr=concatBytes$8(nr,nr),TAGGED_HASH_PREFIXES$1[tr]=rr}return utils$v.sha256(rr,...er)},taggedHashSync:(tr,...er)=>{if(typeof _sha256Sync!="function")throw new ShaError("sha256Sync is undefined, you need to set it");let rr=TAGGED_HASH_PREFIXES$1[tr];if(rr===void 0){const nr=_sha256Sync(Uint8Array.from(tr,ir=>ir.charCodeAt(0)));rr=concatBytes$8(nr,nr),TAGGED_HASH_PREFIXES$1[tr]=rr}return _sha256Sync(rr,...er)},_JacobianPoint:JacobianPoint};Object.defineProperties(utils$v,{sha256Sync:{configurable:!1,get(){return _sha256Sync},set(tr){_sha256Sync||(_sha256Sync=tr)}},hmacSha256Sync:{configurable:!1,get(){return _hmacSha256Sync},set(tr){_hmacSha256Sync||(_hmacSha256Sync=tr)}}});function isHex(tr,{strict:er=!0}={}){return!tr||typeof tr!="string"?!1:er?/^0x[0-9a-fA-F]*$/.test(tr):tr.startsWith("0x")}function size$1(tr){return isHex(tr,{strict:!1})?Math.ceil((tr.length-2)/2):tr.length}const version$4="2.7.15",getVersion=()=>`viem@${version$4}`;class BaseError extends Error{constructor(er,rr={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const nr=rr.cause instanceof BaseError?rr.cause.details:rr.cause?.message?rr.cause.message:rr.details,ir=rr.cause instanceof BaseError&&rr.cause.docsPath||rr.docsPath;this.message=[er||"An error occurred.","",...rr.metaMessages?[...rr.metaMessages,""]:[],...ir?[`Docs: https://viem.sh${ir}${rr.docsSlug?`#${rr.docsSlug}`:""}`]:[],...nr?[`Details: ${nr}`]:[],`Version: ${this.version}`].join(`
`),rr.cause&&(this.cause=rr.cause),this.details=nr,this.docsPath=ir,this.metaMessages=rr.metaMessages,this.shortMessage=er}walk(er){return walk(this,er)}}function walk(tr,er){return er?.(tr)?tr:tr&&typeof tr=="object"&&"cause"in tr?walk(tr.cause,er):er?null:tr}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:er,targetSize:rr,type:nr}){super(`${nr.charAt(0).toUpperCase()}${nr.slice(1).toLowerCase()} size (${er}) exceeds padding size (${rr}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(tr,{dir:er,size:rr=32}={}){return typeof tr=="string"?padHex(tr,{dir:er,size:rr}):padBytes(tr,{dir:er,size:rr})}function padHex(tr,{dir:er,size:rr=32}={}){if(rr===null)return tr;const nr=tr.replace("0x","");if(nr.length>rr*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(nr.length/2),targetSize:rr,type:"hex"});return`0x${nr[er==="right"?"padEnd":"padStart"](rr*2,"0")}`}function padBytes(tr,{dir:er,size:rr=32}={}){if(rr===null)return tr;if(tr.length>rr)throw new SizeExceedsPaddingSizeError({size:tr.length,targetSize:rr,type:"bytes"});const nr=new Uint8Array(rr);for(let ir=0;ir<rr;ir++){const or=er==="right";nr[or?ir:rr-ir-1]=tr[or?ir:tr.length-ir-1]}return nr}class IntegerOutOfRangeError extends BaseError{constructor({max:er,min:rr,signed:nr,size:ir,value:or}){super(`Number "${or}" is not in safe ${ir?`${ir*8}-bit ${nr?"signed":"unsigned"} `:""}integer range ${er?`(${rr} to ${er})`:`(above ${rr})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:er,maxSize:rr}){super(`Size cannot exceed ${rr} bytes. Given size: ${er} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function assertSize(tr,{size:er}){if(size$1(tr)>er)throw new SizeOverflowError({givenSize:size$1(tr),maxSize:er})}function hexToBigInt$2(tr,er={}){const{signed:rr}=er;er.size&&assertSize(tr,{size:er.size});const nr=BigInt(tr);if(!rr)return nr;const ir=(tr.length-2)/2,or=(1n<<BigInt(ir)*8n-1n)-1n;return nr<=or?nr:nr-BigInt(`0x${"f".padStart(ir*2,"f")}`)-1n}function hexToNumber$4(tr,er={}){return Number(hexToBigInt$2(tr,er))}const hexes$3=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));function toHex$1(tr,er={}){return typeof tr=="number"||typeof tr=="bigint"?numberToHex$4(tr,er):typeof tr=="string"?stringToHex(tr,er):typeof tr=="boolean"?boolToHex(tr,er):bytesToHex$7(tr,er)}function boolToHex(tr,er={}){const rr=`0x${Number(tr)}`;return typeof er.size=="number"?(assertSize(rr,{size:er.size}),pad(rr,{size:er.size})):rr}function bytesToHex$7(tr,er={}){let rr="";for(let ir=0;ir<tr.length;ir++)rr+=hexes$3[tr[ir]];const nr=`0x${rr}`;return typeof er.size=="number"?(assertSize(nr,{size:er.size}),pad(nr,{dir:"right",size:er.size})):nr}function numberToHex$4(tr,er={}){const{signed:rr,size:nr}=er,ir=BigInt(tr);let or;nr?rr?or=(1n<<BigInt(nr)*8n-1n)-1n:or=2n**(BigInt(nr)*8n)-1n:typeof tr=="number"&&(or=BigInt(Number.MAX_SAFE_INTEGER));const sr=typeof or=="bigint"&&rr?-or-1n:0;if(or&&ir>or||ir<sr){const cr=typeof tr=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:or?`${or}${cr}`:void 0,min:`${sr}${cr}`,signed:rr,size:nr,value:`${tr}${cr}`})}const ar=`0x${(rr&&ir<0?(1n<<BigInt(nr*8))+BigInt(ir):ir).toString(16)}`;return nr?pad(ar,{size:nr}):ar}const encoder$1=new TextEncoder;function stringToHex(tr,er={}){const rr=encoder$1.encode(tr);return bytesToHex$7(rr,er)}const encoder=new TextEncoder;function toBytes$6(tr,er={}){return typeof tr=="number"||typeof tr=="bigint"?numberToBytes(tr,er):typeof tr=="boolean"?boolToBytes(tr,er):isHex(tr)?hexToBytes$8(tr,er):stringToBytes(tr,er)}function boolToBytes(tr,er={}){const rr=new Uint8Array(1);return rr[0]=Number(tr),typeof er.size=="number"?(assertSize(rr,{size:er.size}),pad(rr,{size:er.size})):rr}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(tr){if(tr>=charCodeMap.zero&&tr<=charCodeMap.nine)return tr-charCodeMap.zero;if(tr>=charCodeMap.A&&tr<=charCodeMap.F)return tr-(charCodeMap.A-10);if(tr>=charCodeMap.a&&tr<=charCodeMap.f)return tr-(charCodeMap.a-10)}function hexToBytes$8(tr,er={}){let rr=tr;er.size&&(assertSize(rr,{size:er.size}),rr=pad(rr,{dir:"right",size:er.size}));let nr=rr.slice(2);nr.length%2&&(nr=`0${nr}`);const ir=nr.length/2,or=new Uint8Array(ir);for(let sr=0,ar=0;sr<ir;sr++){const cr=charCodeToBase16(nr.charCodeAt(ar++)),lr=charCodeToBase16(nr.charCodeAt(ar++));if(cr===void 0||lr===void 0)throw new BaseError(`Invalid byte sequence ("${nr[ar-2]}${nr[ar-1]}" in "${nr}").`);or[sr]=cr*16+lr}return or}function numberToBytes(tr,er){const rr=numberToHex$4(tr,er);return hexToBytes$8(rr)}function stringToBytes(tr,er={}){const rr=encoder.encode(tr);return typeof er.size=="number"?(assertSize(rr,{size:er.size}),pad(rr,{dir:"right",size:er.size})):rr}function number$5(tr){if(!Number.isSafeInteger(tr)||tr<0)throw new Error(`Wrong positive integer: ${tr}`)}function bytes$6(tr,...er){if(!(tr instanceof Uint8Array))throw new Error("Expected Uint8Array");if(er.length>0&&!er.includes(tr.length))throw new Error(`Expected Uint8Array of length ${er}, not of length=${tr.length}`)}function hash$6(tr){if(typeof tr!="function"||typeof tr.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$5(tr.outputLen),number$5(tr.blockLen)}function exists$2(tr,er=!0){if(tr.destroyed)throw new Error("Hash instance has been destroyed");if(er&&tr.finished)throw new Error("Hash#digest() has already been called")}function output$2(tr,er){bytes$6(tr);const rr=er.outputLen;if(tr.length<rr)throw new Error(`digestInto() expects output buffer of length at least ${rr}`)}const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(tr,er=!1){return er?{h:Number(tr&U32_MASK64$1),l:Number(tr>>_32n$1&U32_MASK64$1)}:{h:Number(tr>>_32n$1&U32_MASK64$1)|0,l:Number(tr&U32_MASK64$1)|0}}function split$1(tr,er=!1){let rr=new Uint32Array(tr.length),nr=new Uint32Array(tr.length);for(let ir=0;ir<tr.length;ir++){const{h:or,l:sr}=fromBig$1(tr[ir],er);[rr[ir],nr[ir]]=[or,sr]}return[rr,nr]}const rotlSH$1=(tr,er,rr)=>tr<<rr|er>>>32-rr,rotlSL$1=(tr,er,rr)=>er<<rr|tr>>>32-rr,rotlBH$1=(tr,er,rr)=>er<<rr-32|tr>>>64-rr,rotlBL$1=(tr,er,rr)=>tr<<rr-32|er>>>64-rr,crypto$4=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=tr=>tr instanceof Uint8Array,u32$1=tr=>new Uint32Array(tr.buffer,tr.byteOffset,Math.floor(tr.byteLength/4)),createView$1=tr=>new DataView(tr.buffer,tr.byteOffset,tr.byteLength),rotr$1=(tr,er)=>tr<<32-er|tr>>>er,isLE$1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE$1)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$5(tr){if(typeof tr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof tr}`);return new Uint8Array(new TextEncoder().encode(tr))}function toBytes$5(tr){if(typeof tr=="string"&&(tr=utf8ToBytes$5(tr)),!u8a$1(tr))throw new Error(`expected Uint8Array, got ${typeof tr}`);return tr}function concatBytes$7(...tr){const er=new Uint8Array(tr.reduce((nr,ir)=>nr+ir.length,0));let rr=0;return tr.forEach(nr=>{if(!u8a$1(nr))throw new Error("Uint8Array expected");er.set(nr,rr),rr+=nr.length}),er}let Hash$8=class{clone(){return this._cloneInto()}};function wrapConstructor$1(tr){const er=nr=>tr().update(toBytes$5(nr)).digest(),rr=tr();return er.outputLen=rr.outputLen,er.blockLen=rr.blockLen,er.create=()=>tr(),er}function randomBytes$2(tr=32){if(crypto$4&&typeof crypto$4.getRandomValues=="function")return crypto$4.getRandomValues(new Uint8Array(tr));throw new Error("crypto.getRandomValues must be defined")}const[SHA3_PI$1,SHA3_ROTL$1,_SHA3_IOTA$1]=[[],[],[]],_0n$a=BigInt(0),_1n$b=BigInt(1),_2n$8=BigInt(2),_7n$1=BigInt(7),_256n$1=BigInt(256),_0x71n$1=BigInt(113);for(let tr=0,er=_1n$b,rr=1,nr=0;tr<24;tr++){[rr,nr]=[nr,(2*rr+3*nr)%5],SHA3_PI$1.push(2*(5*nr+rr)),SHA3_ROTL$1.push((tr+1)*(tr+2)/2%64);let ir=_0n$a;for(let or=0;or<7;or++)er=(er<<_1n$b^(er>>_7n$1)*_0x71n$1)%_256n$1,er&_2n$8&&(ir^=_1n$b<<(_1n$b<<BigInt(or))-_1n$b);_SHA3_IOTA$1.push(ir)}const[SHA3_IOTA_H$1,SHA3_IOTA_L$1]=split$1(_SHA3_IOTA$1,!0),rotlH$1=(tr,er,rr)=>rr>32?rotlBH$1(tr,er,rr):rotlSH$1(tr,er,rr),rotlL$1=(tr,er,rr)=>rr>32?rotlBL$1(tr,er,rr):rotlSL$1(tr,er,rr);function keccakP$1(tr,er=24){const rr=new Uint32Array(10);for(let nr=24-er;nr<24;nr++){for(let sr=0;sr<10;sr++)rr[sr]=tr[sr]^tr[sr+10]^tr[sr+20]^tr[sr+30]^tr[sr+40];for(let sr=0;sr<10;sr+=2){const ar=(sr+8)%10,cr=(sr+2)%10,lr=rr[cr],ur=rr[cr+1],fr=rotlH$1(lr,ur,1)^rr[ar],dr=rotlL$1(lr,ur,1)^rr[ar+1];for(let gr=0;gr<50;gr+=10)tr[sr+gr]^=fr,tr[sr+gr+1]^=dr}let ir=tr[2],or=tr[3];for(let sr=0;sr<24;sr++){const ar=SHA3_ROTL$1[sr],cr=rotlH$1(ir,or,ar),lr=rotlL$1(ir,or,ar),ur=SHA3_PI$1[sr];ir=tr[ur],or=tr[ur+1],tr[ur]=cr,tr[ur+1]=lr}for(let sr=0;sr<50;sr+=10){for(let ar=0;ar<10;ar++)rr[ar]=tr[sr+ar];for(let ar=0;ar<10;ar++)tr[sr+ar]^=~rr[(ar+2)%10]&rr[(ar+4)%10]}tr[0]^=SHA3_IOTA_H$1[nr],tr[1]^=SHA3_IOTA_L$1[nr]}rr.fill(0)}let Keccak$2=class Dl extends Hash$8{constructor(er,rr,nr,ir=!1,or=24){if(super(),this.blockLen=er,this.suffix=rr,this.outputLen=nr,this.enableXOF=ir,this.rounds=or,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$5(nr),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$1(this.state)}keccak(){keccakP$1(this.state32,this.rounds),this.posOut=0,this.pos=0}update(er){exists$2(this);const{blockLen:rr,state:nr}=this;er=toBytes$5(er);const ir=er.length;for(let or=0;or<ir;){const sr=Math.min(rr-this.pos,ir-or);for(let ar=0;ar<sr;ar++)nr[this.pos++]^=er[or++];this.pos===rr&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:er,suffix:rr,pos:nr,blockLen:ir}=this;er[nr]^=rr,rr&128&&nr===ir-1&&this.keccak(),er[ir-1]^=128,this.keccak()}writeInto(er){exists$2(this,!1),bytes$6(er),this.finish();const rr=this.state,{blockLen:nr}=this;for(let ir=0,or=er.length;ir<or;){this.posOut>=nr&&this.keccak();const sr=Math.min(nr-this.posOut,or-ir);er.set(rr.subarray(this.posOut,this.posOut+sr),ir),this.posOut+=sr,ir+=sr}return er}xofInto(er){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(er)}xof(er){return number$5(er),this.xofInto(new Uint8Array(er))}digestInto(er){if(output$2(er,this),this.finished)throw new Error("digest() was already called");return this.writeInto(er),this.destroy(),er}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(er){const{blockLen:rr,suffix:nr,outputLen:ir,rounds:or,enableXOF:sr}=this;return er||(er=new Dl(rr,nr,ir,sr,or)),er.state32.set(this.state32),er.pos=this.pos,er.posOut=this.posOut,er.finished=this.finished,er.rounds=or,er.suffix=nr,er.outputLen=ir,er.enableXOF=sr,er.destroyed=this.destroyed,er}};const gen$1=(tr,er,rr)=>wrapConstructor$1(()=>new Keccak$2(er,tr,rr)),keccak_256$1=gen$1(1,136,256/8);function keccak256$3(tr,er){const rr=er||"hex",nr=keccak_256$1(isHex(tr,{strict:!1})?toBytes$6(tr):tr);return rr==="bytes"?nr:toHex$1(nr)}class InvalidAddressError extends BaseError{constructor({address:er}){super(`Address "${er}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class LruMap extends Map{constructor(er){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=er}set(er,rr){return super.set(er,rr),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}function checksumAddress(tr,er){const rr=tr.substring(2).toLowerCase(),nr=keccak256$3(stringToBytes(rr),"bytes"),ir=rr.split("");for(let or=0;or<40;or+=2)nr[or>>1]>>4>=8&&ir[or]&&(ir[or]=ir[or].toUpperCase()),(nr[or>>1]&15)>=8&&ir[or+1]&&(ir[or+1]=ir[or+1].toUpperCase());return`0x${ir.join("")}`}function getAddress(tr,er){if(!isAddress(tr))throw new InvalidAddressError({address:tr});return checksumAddress(tr)}const addressRegex=/^0x[a-fA-F0-9]{40}$/,isAddressCache=new LruMap(8192);function isAddress(tr,{strict:er=!0}={}){if(isAddressCache.has(tr))return isAddressCache.get(tr);const rr=addressRegex.test(tr)?tr.toLowerCase()===tr?!0:er?checksumAddress(tr)===tr:!0:!1;return isAddressCache.set(tr,rr),rr}function concat$1(tr){return typeof tr[0]=="string"?concatHex(tr):concatBytes$6(tr)}function concatBytes$6(tr){let er=0;for(const ir of tr)er+=ir.length;const rr=new Uint8Array(er);let nr=0;for(const ir of tr)rr.set(ir,nr),nr+=ir.length;return rr}function concatHex(tr){return`0x${tr.reduce((er,rr)=>er+rr.replace("0x",""),"")}`}const scriptRel="modulepreload",assetsURL=function(tr){return"/"+tr},seen={},__vitePreload=function tr(er,rr,nr){let ir=Promise.resolve();if(rr&&rr.length>0){document.getElementsByTagName("link");const or=document.querySelector("meta[property=csp-nonce]"),sr=or?.nonce||or?.getAttribute("nonce");ir=Promise.all(rr.map(ar=>{if(ar=assetsURL(ar),ar in seen)return;seen[ar]=!0;const cr=ar.endsWith(".css"),lr=cr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ar}"]${lr}`))return;const ur=document.createElement("link");if(ur.rel=cr?"stylesheet":scriptRel,cr||(ur.as="script",ur.crossOrigin=""),ur.href=ar,sr&&ur.setAttribute("nonce",sr),document.head.appendChild(ur),cr)return new Promise((fr,dr)=>{ur.addEventListener("load",fr),ur.addEventListener("error",()=>dr(new Error(`Unable to preload CSS for ${ar}`)))})}))}return ir.then(()=>er()).catch(or=>{const sr=new Event("vite:preloadError",{cancelable:!0});if(sr.payload=or,window.dispatchEvent(sr),!sr.defaultPrevented)throw or})};function publicKeyToAddress(tr){const er=keccak256$3(`0x${tr.substring(4)}`).substring(26);return checksumAddress(`0x${er}`)}function isAddressEqual(tr,er){if(!isAddress(tr,{strict:!1}))throw new InvalidAddressError({address:tr});if(!isAddress(er,{strict:!1}))throw new InvalidAddressError({address:er});return tr.toLowerCase()===er.toLowerCase()}function setBigUint64$1(tr,er,rr,nr){if(typeof tr.setBigUint64=="function")return tr.setBigUint64(er,rr,nr);const ir=BigInt(32),or=BigInt(4294967295),sr=Number(rr>>ir&or),ar=Number(rr&or),cr=nr?4:0,lr=nr?0:4;tr.setUint32(er+cr,sr,nr),tr.setUint32(er+lr,ar,nr)}class SHA2 extends Hash$8{constructor(er,rr,nr,ir){super(),this.blockLen=er,this.outputLen=rr,this.padOffset=nr,this.isLE=ir,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(er),this.view=createView$1(this.buffer)}update(er){exists$2(this);const{view:rr,buffer:nr,blockLen:ir}=this;er=toBytes$5(er);const or=er.length;for(let sr=0;sr<or;){const ar=Math.min(ir-this.pos,or-sr);if(ar===ir){const cr=createView$1(er);for(;ir<=or-sr;sr+=ir)this.process(cr,sr);continue}nr.set(er.subarray(sr,sr+ar),this.pos),this.pos+=ar,sr+=ar,this.pos===ir&&(this.process(rr,0),this.pos=0)}return this.length+=er.length,this.roundClean(),this}digestInto(er){exists$2(this),output$2(er,this),this.finished=!0;const{buffer:rr,view:nr,blockLen:ir,isLE:or}=this;let{pos:sr}=this;rr[sr++]=128,this.buffer.subarray(sr).fill(0),this.padOffset>ir-sr&&(this.process(nr,0),sr=0);for(let fr=sr;fr<ir;fr++)rr[fr]=0;setBigUint64$1(nr,ir-8,BigInt(this.length*8),or),this.process(nr,0);const ar=createView$1(er),cr=this.outputLen;if(cr%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const lr=cr/4,ur=this.get();if(lr>ur.length)throw new Error("_sha2: outputLen bigger than state");for(let fr=0;fr<lr;fr++)ar.setUint32(4*fr,ur[fr],or)}digest(){const{buffer:er,outputLen:rr}=this;this.digestInto(er);const nr=er.slice(0,rr);return this.destroy(),nr}_cloneInto(er){er||(er=new this.constructor),er.set(...this.get());const{blockLen:rr,buffer:nr,length:ir,finished:or,destroyed:sr,pos:ar}=this;return er.length=ir,er.pos=ar,er.finished=or,er.destroyed=sr,ir%rr&&er.buffer.set(nr),er}}const Chi$1=(tr,er,rr)=>tr&er^~tr&rr,Maj$1=(tr,er,rr)=>tr&er^tr&rr^er&rr,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);let SHA256$3=class extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:er,B:rr,C:nr,D:ir,E:or,F:sr,G:ar,H:cr}=this;return[er,rr,nr,ir,or,sr,ar,cr]}set(er,rr,nr,ir,or,sr,ar,cr){this.A=er|0,this.B=rr|0,this.C=nr|0,this.D=ir|0,this.E=or|0,this.F=sr|0,this.G=ar|0,this.H=cr|0}process(er,rr){for(let fr=0;fr<16;fr++,rr+=4)SHA256_W$1[fr]=er.getUint32(rr,!1);for(let fr=16;fr<64;fr++){const dr=SHA256_W$1[fr-15],gr=SHA256_W$1[fr-2],br=rotr$1(dr,7)^rotr$1(dr,18)^dr>>>3,vr=rotr$1(gr,17)^rotr$1(gr,19)^gr>>>10;SHA256_W$1[fr]=vr+SHA256_W$1[fr-7]+br+SHA256_W$1[fr-16]|0}let{A:nr,B:ir,C:or,D:sr,E:ar,F:cr,G:lr,H:ur}=this;for(let fr=0;fr<64;fr++){const dr=rotr$1(ar,6)^rotr$1(ar,11)^rotr$1(ar,25),gr=ur+dr+Chi$1(ar,cr,lr)+SHA256_K$1[fr]+SHA256_W$1[fr]|0,vr=(rotr$1(nr,2)^rotr$1(nr,13)^rotr$1(nr,22))+Maj$1(nr,ir,or)|0;ur=lr,lr=cr,cr=ar,ar=sr+gr|0,sr=or,or=ir,ir=nr,nr=gr+vr|0}nr=nr+this.A|0,ir=ir+this.B|0,or=or+this.C|0,sr=sr+this.D|0,ar=ar+this.E|0,cr=cr+this.F|0,lr=lr+this.G|0,ur=ur+this.H|0,this.set(nr,ir,or,sr,ar,cr,lr,ur)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$2=wrapConstructor$1(()=>new SHA256$3);async function recoverPublicKey$1({hash:tr,signature:er}){const rr=isHex(er)?er:toHex$1(er),nr=isHex(tr)?tr:toHex$1(tr);let ir=hexToNumber$4(`0x${rr.slice(130)}`);(ir===0||ir===1)&&(ir+=27);const{secp256k1:or}=await __vitePreload(async()=>{const{secp256k1:ar}=await Promise.resolve().then(()=>secp256k1$5);return{secp256k1:ar}},void 0);return`0x${or.Signature.fromCompact(rr.substring(2,130)).addRecoveryBit(ir-27).recoverPublicKey(nr.substring(2)).toHex(!1)}`}async function recoverAddress({hash:tr,signature:er}){return publicKeyToAddress(await recoverPublicKey$1({hash:tr,signature:er}))}const presignMessagePrefix=`Ethereum Signed Message:
`;function hashMessage(tr,er){const rr=typeof tr=="string"?stringToBytes(tr):tr.raw instanceof Uint8Array?tr.raw:toBytes$6(tr.raw),nr=stringToBytes(`${presignMessagePrefix}${rr.length}`);return keccak256$3(concat$1([nr,rr]),er)}async function recoverMessageAddress({message:tr,signature:er}){return recoverAddress({hash:hashMessage(tr),signature:er})}async function verifyMessage({address:tr,message:er,signature:rr}){return isAddressEqual(getAddress(tr),await recoverMessageAddress({message:er,signature:rr}))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$9=BigInt(0),_1n$a=BigInt(1),_2n$7=BigInt(2),u8a=tr=>tr instanceof Uint8Array,hexes$2=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));function bytesToHex$6(tr){if(!u8a(tr))throw new Error("Uint8Array expected");let er="";for(let rr=0;rr<tr.length;rr++)er+=hexes$2[tr[rr]];return er}function numberToHexUnpadded$1(tr){const er=tr.toString(16);return er.length&1?`0${er}`:er}function hexToNumber$3(tr){if(typeof tr!="string")throw new Error("hex string expected, got "+typeof tr);return BigInt(tr===""?"0":`0x${tr}`)}function hexToBytes$7(tr){if(typeof tr!="string")throw new Error("hex string expected, got "+typeof tr);const er=tr.length;if(er%2)throw new Error("padded hex string expected, got unpadded hex of length "+er);const rr=new Uint8Array(er/2);for(let nr=0;nr<rr.length;nr++){const ir=nr*2,or=tr.slice(ir,ir+2),sr=Number.parseInt(or,16);if(Number.isNaN(sr)||sr<0)throw new Error("Invalid byte sequence");rr[nr]=sr}return rr}function bytesToNumberBE$1(tr){return hexToNumber$3(bytesToHex$6(tr))}function bytesToNumberLE$1(tr){if(!u8a(tr))throw new Error("Uint8Array expected");return hexToNumber$3(bytesToHex$6(Uint8Array.from(tr).reverse()))}function numberToBytesBE$1(tr,er){return hexToBytes$7(tr.toString(16).padStart(er*2,"0"))}function numberToBytesLE$1(tr,er){return numberToBytesBE$1(tr,er).reverse()}function numberToVarBytesBE$1(tr){return hexToBytes$7(numberToHexUnpadded$1(tr))}function ensureBytes$1(tr,er,rr){let nr;if(typeof er=="string")try{nr=hexToBytes$7(er)}catch(or){throw new Error(`${tr} must be valid hex string, got "${er}". Cause: ${or}`)}else if(u8a(er))nr=Uint8Array.from(er);else throw new Error(`${tr} must be hex string or Uint8Array`);const ir=nr.length;if(typeof rr=="number"&&ir!==rr)throw new Error(`${tr} expected ${rr} bytes, got ${ir}`);return nr}function concatBytes$5(...tr){const er=new Uint8Array(tr.reduce((nr,ir)=>nr+ir.length,0));let rr=0;return tr.forEach(nr=>{if(!u8a(nr))throw new Error("Uint8Array expected");er.set(nr,rr),rr+=nr.length}),er}function equalBytes$1(tr,er){if(tr.length!==er.length)return!1;for(let rr=0;rr<tr.length;rr++)if(tr[rr]!==er[rr])return!1;return!0}function utf8ToBytes$4(tr){if(typeof tr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof tr}`);return new Uint8Array(new TextEncoder().encode(tr))}function bitLen$1(tr){let er;for(er=0;tr>_0n$9;tr>>=_1n$a,er+=1);return er}function bitGet$1(tr,er){return tr>>BigInt(er)&_1n$a}const bitSet$1=(tr,er,rr)=>tr|(rr?_1n$a:_0n$9)<<BigInt(er),bitMask$1=tr=>(_2n$7<<BigInt(tr-1))-_1n$a,u8n$1=tr=>new Uint8Array(tr),u8fr$1=tr=>Uint8Array.from(tr);function createHmacDrbg$1(tr,er,rr){if(typeof tr!="number"||tr<2)throw new Error("hashLen must be a number");if(typeof er!="number"||er<2)throw new Error("qByteLen must be a number");if(typeof rr!="function")throw new Error("hmacFn must be a function");let nr=u8n$1(tr),ir=u8n$1(tr),or=0;const sr=()=>{nr.fill(1),ir.fill(0),or=0},ar=(...fr)=>rr(ir,nr,...fr),cr=(fr=u8n$1())=>{ir=ar(u8fr$1([0]),fr),nr=ar(),fr.length!==0&&(ir=ar(u8fr$1([1]),fr),nr=ar())},lr=()=>{if(or++>=1e3)throw new Error("drbg: tried 1000 values");let fr=0;const dr=[];for(;fr<er;){nr=ar();const gr=nr.slice();dr.push(gr),fr+=nr.length}return concatBytes$5(...dr)};return(fr,dr)=>{sr(),cr(fr);let gr;for(;!(gr=dr(lr()));)cr();return sr(),gr}}const validatorFns$1={bigint:tr=>typeof tr=="bigint",function:tr=>typeof tr=="function",boolean:tr=>typeof tr=="boolean",string:tr=>typeof tr=="string",stringOrUint8Array:tr=>typeof tr=="string"||tr instanceof Uint8Array,isSafeInteger:tr=>Number.isSafeInteger(tr),array:tr=>Array.isArray(tr),field:(tr,er)=>er.Fp.isValid(tr),hash:tr=>typeof tr=="function"&&Number.isSafeInteger(tr.outputLen)};function validateObject$4(tr,er,rr={}){const nr=(ir,or,sr)=>{const ar=validatorFns$1[or];if(typeof ar!="function")throw new Error(`Invalid validator "${or}", expected function`);const cr=tr[ir];if(!(sr&&cr===void 0)&&!ar(cr,tr))throw new Error(`Invalid param ${String(ir)}=${cr} (${typeof cr}), expected ${or}`)};for(const[ir,or]of Object.entries(er))nr(ir,or,!1);for(const[ir,or]of Object.entries(rr))nr(ir,or,!0);return tr}const ut$2=Object.freeze(Object.defineProperty({__proto__:null,bitGet:bitGet$1,bitLen:bitLen$1,bitMask:bitMask$1,bitSet:bitSet$1,bytesToHex:bytesToHex$6,bytesToNumberBE:bytesToNumberBE$1,bytesToNumberLE:bytesToNumberLE$1,concatBytes:concatBytes$5,createHmacDrbg:createHmacDrbg$1,ensureBytes:ensureBytes$1,equalBytes:equalBytes$1,hexToBytes:hexToBytes$7,hexToNumber:hexToNumber$3,numberToBytesBE:numberToBytesBE$1,numberToBytesLE:numberToBytesLE$1,numberToHexUnpadded:numberToHexUnpadded$1,numberToVarBytesBE:numberToVarBytesBE$1,utf8ToBytes:utf8ToBytes$4,validateObject:validateObject$4},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$8=BigInt(0),_1n$9=BigInt(1),_2n$6=BigInt(2),_3n$3=BigInt(3),_4n$2=BigInt(4),_5n$1=BigInt(5),_8n$1=BigInt(8);BigInt(9);BigInt(16);function mod$1(tr,er){const rr=tr%er;return rr>=_0n$8?rr:er+rr}function pow$1(tr,er,rr){if(rr<=_0n$8||er<_0n$8)throw new Error("Expected power/modulo > 0");if(rr===_1n$9)return _0n$8;let nr=_1n$9;for(;er>_0n$8;)er&_1n$9&&(nr=nr*tr%rr),tr=tr*tr%rr,er>>=_1n$9;return nr}function pow2$1(tr,er,rr){let nr=tr;for(;er-- >_0n$8;)nr*=nr,nr%=rr;return nr}function invert$1(tr,er){if(tr===_0n$8||er<=_0n$8)throw new Error(`invert: expected positive integers, got n=${tr} mod=${er}`);let rr=mod$1(tr,er),nr=er,ir=_0n$8,or=_1n$9;for(;rr!==_0n$8;){const ar=nr/rr,cr=nr%rr,lr=ir-or*ar;nr=rr,rr=cr,ir=or,or=lr}if(nr!==_1n$9)throw new Error("invert: does not exist");return mod$1(ir,er)}function tonelliShanks$1(tr){const er=(tr-_1n$9)/_2n$6;let rr,nr,ir;for(rr=tr-_1n$9,nr=0;rr%_2n$6===_0n$8;rr/=_2n$6,nr++);for(ir=_2n$6;ir<tr&&pow$1(ir,er,tr)!==tr-_1n$9;ir++);if(nr===1){const sr=(tr+_1n$9)/_4n$2;return function(cr,lr){const ur=cr.pow(lr,sr);if(!cr.eql(cr.sqr(ur),lr))throw new Error("Cannot find square root");return ur}}const or=(rr+_1n$9)/_2n$6;return function(ar,cr){if(ar.pow(cr,er)===ar.neg(ar.ONE))throw new Error("Cannot find square root");let lr=nr,ur=ar.pow(ar.mul(ar.ONE,ir),rr),fr=ar.pow(cr,or),dr=ar.pow(cr,rr);for(;!ar.eql(dr,ar.ONE);){if(ar.eql(dr,ar.ZERO))return ar.ZERO;let gr=1;for(let vr=ar.sqr(dr);gr<lr&&!ar.eql(vr,ar.ONE);gr++)vr=ar.sqr(vr);const br=ar.pow(ur,_1n$9<<BigInt(lr-gr-1));ur=ar.sqr(br),fr=ar.mul(fr,br),dr=ar.mul(dr,ur),lr=gr}return fr}}function FpSqrt$1(tr){if(tr%_4n$2===_3n$3){const er=(tr+_1n$9)/_4n$2;return function(nr,ir){const or=nr.pow(ir,er);if(!nr.eql(nr.sqr(or),ir))throw new Error("Cannot find square root");return or}}if(tr%_8n$1===_5n$1){const er=(tr-_5n$1)/_8n$1;return function(nr,ir){const or=nr.mul(ir,_2n$6),sr=nr.pow(or,er),ar=nr.mul(ir,sr),cr=nr.mul(nr.mul(ar,_2n$6),sr),lr=nr.mul(ar,nr.sub(cr,nr.ONE));if(!nr.eql(nr.sqr(lr),ir))throw new Error("Cannot find square root");return lr}}return tonelliShanks$1(tr)}const FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(tr){const er={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},rr=FIELD_FIELDS$1.reduce((nr,ir)=>(nr[ir]="function",nr),er);return validateObject$4(tr,rr)}function FpPow$1(tr,er,rr){if(rr<_0n$8)throw new Error("Expected power > 0");if(rr===_0n$8)return tr.ONE;if(rr===_1n$9)return er;let nr=tr.ONE,ir=er;for(;rr>_0n$8;)rr&_1n$9&&(nr=tr.mul(nr,ir)),ir=tr.sqr(ir),rr>>=_1n$9;return nr}function FpInvertBatch$1(tr,er){const rr=new Array(er.length),nr=er.reduce((or,sr,ar)=>tr.is0(sr)?or:(rr[ar]=or,tr.mul(or,sr)),tr.ONE),ir=tr.inv(nr);return er.reduceRight((or,sr,ar)=>tr.is0(sr)?or:(rr[ar]=tr.mul(or,rr[ar]),tr.mul(or,sr)),ir),rr}function nLength$1(tr,er){const rr=er!==void 0?er:tr.toString(2).length,nr=Math.ceil(rr/8);return{nBitLength:rr,nByteLength:nr}}function Field$1(tr,er,rr=!1,nr={}){if(tr<=_0n$8)throw new Error(`Expected Field ORDER > 0, got ${tr}`);const{nBitLength:ir,nByteLength:or}=nLength$1(tr,er);if(or>2048)throw new Error("Field lengths over 2048 bytes are not supported");const sr=FpSqrt$1(tr),ar=Object.freeze({ORDER:tr,BITS:ir,BYTES:or,MASK:bitMask$1(ir),ZERO:_0n$8,ONE:_1n$9,create:cr=>mod$1(cr,tr),isValid:cr=>{if(typeof cr!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof cr}`);return _0n$8<=cr&&cr<tr},is0:cr=>cr===_0n$8,isOdd:cr=>(cr&_1n$9)===_1n$9,neg:cr=>mod$1(-cr,tr),eql:(cr,lr)=>cr===lr,sqr:cr=>mod$1(cr*cr,tr),add:(cr,lr)=>mod$1(cr+lr,tr),sub:(cr,lr)=>mod$1(cr-lr,tr),mul:(cr,lr)=>mod$1(cr*lr,tr),pow:(cr,lr)=>FpPow$1(ar,cr,lr),div:(cr,lr)=>mod$1(cr*invert$1(lr,tr),tr),sqrN:cr=>cr*cr,addN:(cr,lr)=>cr+lr,subN:(cr,lr)=>cr-lr,mulN:(cr,lr)=>cr*lr,inv:cr=>invert$1(cr,tr),sqrt:nr.sqrt||(cr=>sr(ar,cr)),invertBatch:cr=>FpInvertBatch$1(ar,cr),cmov:(cr,lr,ur)=>ur?lr:cr,toBytes:cr=>rr?numberToBytesLE$1(cr,or):numberToBytesBE$1(cr,or),fromBytes:cr=>{if(cr.length!==or)throw new Error(`Fp.fromBytes: expected ${or}, got ${cr.length}`);return rr?bytesToNumberLE$1(cr):bytesToNumberBE$1(cr)}});return Object.freeze(ar)}function getFieldBytesLength$1(tr){if(typeof tr!="bigint")throw new Error("field order must be bigint");const er=tr.toString(2).length;return Math.ceil(er/8)}function getMinHashLength$1(tr){const er=getFieldBytesLength$1(tr);return er+Math.ceil(er/2)}function mapHashToField$1(tr,er,rr=!1){const nr=tr.length,ir=getFieldBytesLength$1(er),or=getMinHashLength$1(er);if(nr<16||nr<or||nr>1024)throw new Error(`expected ${or}-1024 bytes of input, got ${nr}`);const sr=rr?bytesToNumberBE$1(tr):bytesToNumberLE$1(tr),ar=mod$1(sr,er-_1n$9)+_1n$9;return rr?numberToBytesLE$1(ar,ir):numberToBytesBE$1(ar,ir)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$7=BigInt(0),_1n$8=BigInt(1);function wNAF$1(tr,er){const rr=(ir,or)=>{const sr=or.negate();return ir?sr:or},nr=ir=>{const or=Math.ceil(er/ir)+1,sr=2**(ir-1);return{windows:or,windowSize:sr}};return{constTimeNegate:rr,unsafeLadder(ir,or){let sr=tr.ZERO,ar=ir;for(;or>_0n$7;)or&_1n$8&&(sr=sr.add(ar)),ar=ar.double(),or>>=_1n$8;return sr},precomputeWindow(ir,or){const{windows:sr,windowSize:ar}=nr(or),cr=[];let lr=ir,ur=lr;for(let fr=0;fr<sr;fr++){ur=lr,cr.push(ur);for(let dr=1;dr<ar;dr++)ur=ur.add(lr),cr.push(ur);lr=ur.double()}return cr},wNAF(ir,or,sr){const{windows:ar,windowSize:cr}=nr(ir);let lr=tr.ZERO,ur=tr.BASE;const fr=BigInt(2**ir-1),dr=2**ir,gr=BigInt(ir);for(let br=0;br<ar;br++){const vr=br*cr;let $r=Number(sr&fr);sr>>=gr,$r>cr&&($r-=dr,sr+=_1n$8);const Er=vr,_r=vr+Math.abs($r)-1,xr=br%2!==0,Ir=$r<0;$r===0?ur=ur.add(rr(xr,or[Er])):lr=lr.add(rr(Ir,or[_r]))}return{p:lr,f:ur}},wNAFCached(ir,or,sr,ar){const cr=ir._WINDOW_SIZE||1;let lr=or.get(ir);return lr||(lr=this.precomputeWindow(ir,cr),cr!==1&&or.set(ir,ar(lr))),this.wNAF(cr,lr,sr)}}}function validateBasic$1(tr){return validateField$1(tr.Fp),validateObject$4(tr,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$1(tr.n,tr.nBitLength),...tr,p:tr.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts$1(tr){const er=validateBasic$1(tr);validateObject$4(er,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:rr,Fp:nr,a:ir}=er;if(rr){if(!nr.eql(ir,nr.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof rr!="object"||typeof rr.beta!="bigint"||typeof rr.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...er})}const{bytesToNumberBE:b2n$1,hexToBytes:h2b$1}=ut$2,DER$1={Err:class extends Error{constructor(er=""){super(er)}},_parseInt(tr){const{Err:er}=DER$1;if(tr.length<2||tr[0]!==2)throw new er("Invalid signature integer tag");const rr=tr[1],nr=tr.subarray(2,rr+2);if(!rr||nr.length!==rr)throw new er("Invalid signature integer: wrong length");if(nr[0]&128)throw new er("Invalid signature integer: negative");if(nr[0]===0&&!(nr[1]&128))throw new er("Invalid signature integer: unnecessary leading zero");return{d:b2n$1(nr),l:tr.subarray(rr+2)}},toSig(tr){const{Err:er}=DER$1,rr=typeof tr=="string"?h2b$1(tr):tr;if(!(rr instanceof Uint8Array))throw new Error("ui8a expected");let nr=rr.length;if(nr<2||rr[0]!=48)throw new er("Invalid signature tag");if(rr[1]!==nr-2)throw new er("Invalid signature: incorrect length");const{d:ir,l:or}=DER$1._parseInt(rr.subarray(2)),{d:sr,l:ar}=DER$1._parseInt(or);if(ar.length)throw new er("Invalid signature: left bytes after parsing");return{r:ir,s:sr}},hexFromSig(tr){const er=lr=>Number.parseInt(lr[0],16)&8?"00"+lr:lr,rr=lr=>{const ur=lr.toString(16);return ur.length&1?`0${ur}`:ur},nr=er(rr(tr.s)),ir=er(rr(tr.r)),or=nr.length/2,sr=ir.length/2,ar=rr(or),cr=rr(sr);return`30${rr(sr+or+4)}02${cr}${ir}02${ar}${nr}`}},_0n$6=BigInt(0),_1n$7=BigInt(1);BigInt(2);const _3n$2=BigInt(3);BigInt(4);function weierstrassPoints$1(tr){const er=validatePointOpts$1(tr),{Fp:rr}=er,nr=er.toBytes||((br,vr,$r)=>{const Er=vr.toAffine();return concatBytes$5(Uint8Array.from([4]),rr.toBytes(Er.x),rr.toBytes(Er.y))}),ir=er.fromBytes||(br=>{const vr=br.subarray(1),$r=rr.fromBytes(vr.subarray(0,rr.BYTES)),Er=rr.fromBytes(vr.subarray(rr.BYTES,2*rr.BYTES));return{x:$r,y:Er}});function or(br){const{a:vr,b:$r}=er,Er=rr.sqr(br),_r=rr.mul(Er,br);return rr.add(rr.add(_r,rr.mul(br,vr)),$r)}if(!rr.eql(rr.sqr(er.Gy),or(er.Gx)))throw new Error("bad generator point: equation left != right");function sr(br){return typeof br=="bigint"&&_0n$6<br&&br<er.n}function ar(br){if(!sr(br))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function cr(br){const{allowedPrivateKeyLengths:vr,nByteLength:$r,wrapPrivateKey:Er,n:_r}=er;if(vr&&typeof br!="bigint"){if(br instanceof Uint8Array&&(br=bytesToHex$6(br)),typeof br!="string"||!vr.includes(br.length))throw new Error("Invalid key");br=br.padStart($r*2,"0")}let xr;try{xr=typeof br=="bigint"?br:bytesToNumberBE$1(ensureBytes$1("private key",br,$r))}catch{throw new Error(`private key must be ${$r} bytes, hex or bigint, not ${typeof br}`)}return Er&&(xr=mod$1(xr,_r)),ar(xr),xr}const lr=new Map;function ur(br){if(!(br instanceof fr))throw new Error("ProjectivePoint expected")}class fr{constructor(vr,$r,Er){if(this.px=vr,this.py=$r,this.pz=Er,vr==null||!rr.isValid(vr))throw new Error("x required");if($r==null||!rr.isValid($r))throw new Error("y required");if(Er==null||!rr.isValid(Er))throw new Error("z required")}static fromAffine(vr){const{x:$r,y:Er}=vr||{};if(!vr||!rr.isValid($r)||!rr.isValid(Er))throw new Error("invalid affine point");if(vr instanceof fr)throw new Error("projective point not allowed");const _r=xr=>rr.eql(xr,rr.ZERO);return _r($r)&&_r(Er)?fr.ZERO:new fr($r,Er,rr.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(vr){const $r=rr.invertBatch(vr.map(Er=>Er.pz));return vr.map((Er,_r)=>Er.toAffine($r[_r])).map(fr.fromAffine)}static fromHex(vr){const $r=fr.fromAffine(ir(ensureBytes$1("pointHex",vr)));return $r.assertValidity(),$r}static fromPrivateKey(vr){return fr.BASE.multiply(cr(vr))}_setWindowSize(vr){this._WINDOW_SIZE=vr,lr.delete(this)}assertValidity(){if(this.is0()){if(er.allowInfinityPoint&&!rr.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:vr,y:$r}=this.toAffine();if(!rr.isValid(vr)||!rr.isValid($r))throw new Error("bad point: x or y not FE");const Er=rr.sqr($r),_r=or(vr);if(!rr.eql(Er,_r))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:vr}=this.toAffine();if(rr.isOdd)return!rr.isOdd(vr);throw new Error("Field doesn't support isOdd")}equals(vr){ur(vr);const{px:$r,py:Er,pz:_r}=this,{px:xr,py:Ir,pz:Nr}=vr,Lr=rr.eql(rr.mul($r,Nr),rr.mul(xr,_r)),jr=rr.eql(rr.mul(Er,Nr),rr.mul(Ir,_r));return Lr&&jr}negate(){return new fr(this.px,rr.neg(this.py),this.pz)}double(){const{a:vr,b:$r}=er,Er=rr.mul($r,_3n$2),{px:_r,py:xr,pz:Ir}=this;let Nr=rr.ZERO,Lr=rr.ZERO,jr=rr.ZERO,Or=rr.mul(_r,_r),Dr=rr.mul(xr,xr),Cr=rr.mul(Ir,Ir),Tr=rr.mul(_r,xr);return Tr=rr.add(Tr,Tr),jr=rr.mul(_r,Ir),jr=rr.add(jr,jr),Nr=rr.mul(vr,jr),Lr=rr.mul(Er,Cr),Lr=rr.add(Nr,Lr),Nr=rr.sub(Dr,Lr),Lr=rr.add(Dr,Lr),Lr=rr.mul(Nr,Lr),Nr=rr.mul(Tr,Nr),jr=rr.mul(Er,jr),Cr=rr.mul(vr,Cr),Tr=rr.sub(Or,Cr),Tr=rr.mul(vr,Tr),Tr=rr.add(Tr,jr),jr=rr.add(Or,Or),Or=rr.add(jr,Or),Or=rr.add(Or,Cr),Or=rr.mul(Or,Tr),Lr=rr.add(Lr,Or),Cr=rr.mul(xr,Ir),Cr=rr.add(Cr,Cr),Or=rr.mul(Cr,Tr),Nr=rr.sub(Nr,Or),jr=rr.mul(Cr,Dr),jr=rr.add(jr,jr),jr=rr.add(jr,jr),new fr(Nr,Lr,jr)}add(vr){ur(vr);const{px:$r,py:Er,pz:_r}=this,{px:xr,py:Ir,pz:Nr}=vr;let Lr=rr.ZERO,jr=rr.ZERO,Or=rr.ZERO;const Dr=er.a,Cr=rr.mul(er.b,_3n$2);let Tr=rr.mul($r,xr),yr=rr.mul(Er,Ir),mr=rr.mul(_r,Nr),hr=rr.add($r,Er),pr=rr.add(xr,Ir);hr=rr.mul(hr,pr),pr=rr.add(Tr,yr),hr=rr.sub(hr,pr),pr=rr.add($r,_r);let wr=rr.add(xr,Nr);return pr=rr.mul(pr,wr),wr=rr.add(Tr,mr),pr=rr.sub(pr,wr),wr=rr.add(Er,_r),Lr=rr.add(Ir,Nr),wr=rr.mul(wr,Lr),Lr=rr.add(yr,mr),wr=rr.sub(wr,Lr),Or=rr.mul(Dr,pr),Lr=rr.mul(Cr,mr),Or=rr.add(Lr,Or),Lr=rr.sub(yr,Or),Or=rr.add(yr,Or),jr=rr.mul(Lr,Or),yr=rr.add(Tr,Tr),yr=rr.add(yr,Tr),mr=rr.mul(Dr,mr),pr=rr.mul(Cr,pr),yr=rr.add(yr,mr),mr=rr.sub(Tr,mr),mr=rr.mul(Dr,mr),pr=rr.add(pr,mr),Tr=rr.mul(yr,pr),jr=rr.add(jr,Tr),Tr=rr.mul(wr,pr),Lr=rr.mul(hr,Lr),Lr=rr.sub(Lr,Tr),Tr=rr.mul(hr,yr),Or=rr.mul(wr,Or),Or=rr.add(Or,Tr),new fr(Lr,jr,Or)}subtract(vr){return this.add(vr.negate())}is0(){return this.equals(fr.ZERO)}wNAF(vr){return gr.wNAFCached(this,lr,vr,$r=>{const Er=rr.invertBatch($r.map(_r=>_r.pz));return $r.map((_r,xr)=>_r.toAffine(Er[xr])).map(fr.fromAffine)})}multiplyUnsafe(vr){const $r=fr.ZERO;if(vr===_0n$6)return $r;if(ar(vr),vr===_1n$7)return this;const{endo:Er}=er;if(!Er)return gr.unsafeLadder(this,vr);let{k1neg:_r,k1:xr,k2neg:Ir,k2:Nr}=Er.splitScalar(vr),Lr=$r,jr=$r,Or=this;for(;xr>_0n$6||Nr>_0n$6;)xr&_1n$7&&(Lr=Lr.add(Or)),Nr&_1n$7&&(jr=jr.add(Or)),Or=Or.double(),xr>>=_1n$7,Nr>>=_1n$7;return _r&&(Lr=Lr.negate()),Ir&&(jr=jr.negate()),jr=new fr(rr.mul(jr.px,Er.beta),jr.py,jr.pz),Lr.add(jr)}multiply(vr){ar(vr);let $r=vr,Er,_r;const{endo:xr}=er;if(xr){const{k1neg:Ir,k1:Nr,k2neg:Lr,k2:jr}=xr.splitScalar($r);let{p:Or,f:Dr}=this.wNAF(Nr),{p:Cr,f:Tr}=this.wNAF(jr);Or=gr.constTimeNegate(Ir,Or),Cr=gr.constTimeNegate(Lr,Cr),Cr=new fr(rr.mul(Cr.px,xr.beta),Cr.py,Cr.pz),Er=Or.add(Cr),_r=Dr.add(Tr)}else{const{p:Ir,f:Nr}=this.wNAF($r);Er=Ir,_r=Nr}return fr.normalizeZ([Er,_r])[0]}multiplyAndAddUnsafe(vr,$r,Er){const _r=fr.BASE,xr=(Nr,Lr)=>Lr===_0n$6||Lr===_1n$7||!Nr.equals(_r)?Nr.multiplyUnsafe(Lr):Nr.multiply(Lr),Ir=xr(this,$r).add(xr(vr,Er));return Ir.is0()?void 0:Ir}toAffine(vr){const{px:$r,py:Er,pz:_r}=this,xr=this.is0();vr==null&&(vr=xr?rr.ONE:rr.inv(_r));const Ir=rr.mul($r,vr),Nr=rr.mul(Er,vr),Lr=rr.mul(_r,vr);if(xr)return{x:rr.ZERO,y:rr.ZERO};if(!rr.eql(Lr,rr.ONE))throw new Error("invZ was invalid");return{x:Ir,y:Nr}}isTorsionFree(){const{h:vr,isTorsionFree:$r}=er;if(vr===_1n$7)return!0;if($r)return $r(fr,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:vr,clearCofactor:$r}=er;return vr===_1n$7?this:$r?$r(fr,this):this.multiplyUnsafe(er.h)}toRawBytes(vr=!0){return this.assertValidity(),nr(fr,this,vr)}toHex(vr=!0){return bytesToHex$6(this.toRawBytes(vr))}}fr.BASE=new fr(er.Gx,er.Gy,rr.ONE),fr.ZERO=new fr(rr.ZERO,rr.ONE,rr.ZERO);const dr=er.nBitLength,gr=wNAF$1(fr,er.endo?Math.ceil(dr/2):dr);return{CURVE:er,ProjectivePoint:fr,normPrivateKeyToScalar:cr,weierstrassEquation:or,isWithinCurveOrder:sr}}function validateOpts$1(tr){const er=validateBasic$1(tr);return validateObject$4(er,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...er})}function weierstrass$1(tr){const er=validateOpts$1(tr),{Fp:rr,n:nr}=er,ir=rr.BYTES+1,or=2*rr.BYTES+1;function sr(pr){return _0n$6<pr&&pr<rr.ORDER}function ar(pr){return mod$1(pr,nr)}function cr(pr){return invert$1(pr,nr)}const{ProjectivePoint:lr,normPrivateKeyToScalar:ur,weierstrassEquation:fr,isWithinCurveOrder:dr}=weierstrassPoints$1({...er,toBytes(pr,wr,Ar){const Rr=wr.toAffine(),Pr=rr.toBytes(Rr.x),Sr=concatBytes$5;return Ar?Sr(Uint8Array.from([wr.hasEvenY()?2:3]),Pr):Sr(Uint8Array.from([4]),Pr,rr.toBytes(Rr.y))},fromBytes(pr){const wr=pr.length,Ar=pr[0],Rr=pr.subarray(1);if(wr===ir&&(Ar===2||Ar===3)){const Pr=bytesToNumberBE$1(Rr);if(!sr(Pr))throw new Error("Point is not on curve");const Sr=fr(Pr);let Mr=rr.sqrt(Sr);const Br=(Mr&_1n$7)===_1n$7;return(Ar&1)===1!==Br&&(Mr=rr.neg(Mr)),{x:Pr,y:Mr}}else if(wr===or&&Ar===4){const Pr=rr.fromBytes(Rr.subarray(0,rr.BYTES)),Sr=rr.fromBytes(Rr.subarray(rr.BYTES,2*rr.BYTES));return{x:Pr,y:Sr}}else throw new Error(`Point of length ${wr} was invalid. Expected ${ir} compressed bytes or ${or} uncompressed bytes`)}}),gr=pr=>bytesToHex$6(numberToBytesBE$1(pr,er.nByteLength));function br(pr){const wr=nr>>_1n$7;return pr>wr}function vr(pr){return br(pr)?ar(-pr):pr}const $r=(pr,wr,Ar)=>bytesToNumberBE$1(pr.slice(wr,Ar));class Er{constructor(wr,Ar,Rr){this.r=wr,this.s=Ar,this.recovery=Rr,this.assertValidity()}static fromCompact(wr){const Ar=er.nByteLength;return wr=ensureBytes$1("compactSignature",wr,Ar*2),new Er($r(wr,0,Ar),$r(wr,Ar,2*Ar))}static fromDER(wr){const{r:Ar,s:Rr}=DER$1.toSig(ensureBytes$1("DER",wr));return new Er(Ar,Rr)}assertValidity(){if(!dr(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!dr(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(wr){return new Er(this.r,this.s,wr)}recoverPublicKey(wr){const{r:Ar,s:Rr,recovery:Pr}=this,Sr=jr(ensureBytes$1("msgHash",wr));if(Pr==null||![0,1,2,3].includes(Pr))throw new Error("recovery id invalid");const Mr=Pr===2||Pr===3?Ar+er.n:Ar;if(Mr>=rr.ORDER)throw new Error("recovery id 2 or 3 invalid");const Br=Pr&1?"03":"02",Ur=lr.fromHex(Br+gr(Mr)),Jr=cr(Mr),qr=ar(-Sr*Jr),zr=ar(Rr*Jr),sn=lr.BASE.multiplyAndAddUnsafe(Ur,qr,zr);if(!sn)throw new Error("point at infinify");return sn.assertValidity(),sn}hasHighS(){return br(this.s)}normalizeS(){return this.hasHighS()?new Er(this.r,ar(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$7(this.toDERHex())}toDERHex(){return DER$1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$7(this.toCompactHex())}toCompactHex(){return gr(this.r)+gr(this.s)}}const _r={isValidPrivateKey(pr){try{return ur(pr),!0}catch{return!1}},normPrivateKeyToScalar:ur,randomPrivateKey:()=>{const pr=getMinHashLength$1(er.n);return mapHashToField$1(er.randomBytes(pr),er.n)},precompute(pr=8,wr=lr.BASE){return wr._setWindowSize(pr),wr.multiply(BigInt(3)),wr}};function xr(pr,wr=!0){return lr.fromPrivateKey(pr).toRawBytes(wr)}function Ir(pr){const wr=pr instanceof Uint8Array,Ar=typeof pr=="string",Rr=(wr||Ar)&&pr.length;return wr?Rr===ir||Rr===or:Ar?Rr===2*ir||Rr===2*or:pr instanceof lr}function Nr(pr,wr,Ar=!0){if(Ir(pr))throw new Error("first arg must be private key");if(!Ir(wr))throw new Error("second arg must be public key");return lr.fromHex(wr).multiply(ur(pr)).toRawBytes(Ar)}const Lr=er.bits2int||function(pr){const wr=bytesToNumberBE$1(pr),Ar=pr.length*8-er.nBitLength;return Ar>0?wr>>BigInt(Ar):wr},jr=er.bits2int_modN||function(pr){return ar(Lr(pr))},Or=bitMask$1(er.nBitLength);function Dr(pr){if(typeof pr!="bigint")throw new Error("bigint expected");if(!(_0n$6<=pr&&pr<Or))throw new Error(`bigint expected < 2^${er.nBitLength}`);return numberToBytesBE$1(pr,er.nByteLength)}function Cr(pr,wr,Ar=Tr){if(["recovered","canonical"].some(tn=>tn in Ar))throw new Error("sign() legacy options not supported");const{hash:Rr,randomBytes:Pr}=er;let{lowS:Sr,prehash:Mr,extraEntropy:Br}=Ar;Sr==null&&(Sr=!0),pr=ensureBytes$1("msgHash",pr),Mr&&(pr=ensureBytes$1("prehashed msgHash",Rr(pr)));const Ur=jr(pr),Jr=ur(wr),qr=[Dr(Jr),Dr(Ur)];if(Br!=null){const tn=Br===!0?Pr(rr.BYTES):Br;qr.push(ensureBytes$1("extraEntropy",tn))}const zr=concatBytes$5(...qr),sn=Ur;function rn(tn){const dn=Lr(tn);if(!dr(dn))return;const Yr=cr(dn),Vr=lr.BASE.multiply(dn).toAffine(),Qr=ar(Vr.x);if(Qr===_0n$6)return;const un=ar(Yr*ar(sn+Qr*Jr));if(un===_0n$6)return;let yn=(Vr.x===Qr?0:2)|Number(Vr.y&_1n$7),An=un;return Sr&&br(un)&&(An=vr(un),yn^=1),new Er(Qr,An,yn)}return{seed:zr,k2sig:rn}}const Tr={lowS:er.lowS,prehash:!1},yr={lowS:er.lowS,prehash:!1};function mr(pr,wr,Ar=Tr){const{seed:Rr,k2sig:Pr}=Cr(pr,wr,Ar),Sr=er;return createHmacDrbg$1(Sr.hash.outputLen,Sr.nByteLength,Sr.hmac)(Rr,Pr)}lr.BASE._setWindowSize(8);function hr(pr,wr,Ar,Rr=yr){const Pr=pr;if(wr=ensureBytes$1("msgHash",wr),Ar=ensureBytes$1("publicKey",Ar),"strict"in Rr)throw new Error("options.strict was renamed to lowS");const{lowS:Sr,prehash:Mr}=Rr;let Br,Ur;try{if(typeof Pr=="string"||Pr instanceof Uint8Array)try{Br=Er.fromDER(Pr)}catch(Vr){if(!(Vr instanceof DER$1.Err))throw Vr;Br=Er.fromCompact(Pr)}else if(typeof Pr=="object"&&typeof Pr.r=="bigint"&&typeof Pr.s=="bigint"){const{r:Vr,s:Qr}=Pr;Br=new Er(Vr,Qr)}else throw new Error("PARSE");Ur=lr.fromHex(Ar)}catch(Vr){if(Vr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Sr&&Br.hasHighS())return!1;Mr&&(wr=er.hash(wr));const{r:Jr,s:qr}=Br,zr=jr(wr),sn=cr(qr),rn=ar(zr*sn),tn=ar(Jr*sn),dn=lr.BASE.multiplyAndAddUnsafe(Ur,rn,tn)?.toAffine();return dn?ar(dn.x)===Jr:!1}return{CURVE:er,getPublicKey:xr,getSharedSecret:Nr,sign:mr,verify:hr,ProjectivePoint:lr,Signature:Er,utils:_r}}let HMAC$1=class extends Hash$8{constructor(er,rr){super(),this.finished=!1,this.destroyed=!1,hash$6(er);const nr=toBytes$5(rr);if(this.iHash=er.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ir=this.blockLen,or=new Uint8Array(ir);or.set(nr.length>ir?er.create().update(nr).digest():nr);for(let sr=0;sr<or.length;sr++)or[sr]^=54;this.iHash.update(or),this.oHash=er.create();for(let sr=0;sr<or.length;sr++)or[sr]^=106;this.oHash.update(or),or.fill(0)}update(er){return exists$2(this),this.iHash.update(er),this}digestInto(er){exists$2(this),bytes$6(er,this.outputLen),this.finished=!0,this.iHash.digestInto(er),this.oHash.update(er),this.oHash.digestInto(er),this.destroy()}digest(){const er=new Uint8Array(this.oHash.outputLen);return this.digestInto(er),er}_cloneInto(er){er||(er=Object.create(Object.getPrototypeOf(this),{}));const{oHash:rr,iHash:nr,finished:ir,destroyed:or,blockLen:sr,outputLen:ar}=this;return er=er,er.finished=ir,er.destroyed=or,er.blockLen=sr,er.outputLen=ar,er.oHash=rr._cloneInto(er.oHash),er.iHash=nr._cloneInto(er.iHash),er}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const hmac$2=(tr,er,rr)=>new HMAC$1(tr,er).update(rr).digest();hmac$2.create=(tr,er)=>new HMAC$1(tr,er);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(tr){return{hash:tr,hmac:(er,...rr)=>hmac$2(tr,er,concatBytes$7(...rr)),randomBytes:randomBytes$2}}function createCurve$1(tr,er){const rr=nr=>weierstrass$1({...tr,...getHash$1(nr)});return Object.freeze({...rr(er),create:rr})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$6=BigInt(1),_2n$5=BigInt(2),divNearest$1=(tr,er)=>(tr+er/_2n$5)/er;function sqrtMod$1(tr){const er=secp256k1P$1,rr=BigInt(3),nr=BigInt(6),ir=BigInt(11),or=BigInt(22),sr=BigInt(23),ar=BigInt(44),cr=BigInt(88),lr=tr*tr*tr%er,ur=lr*lr*tr%er,fr=pow2$1(ur,rr,er)*ur%er,dr=pow2$1(fr,rr,er)*ur%er,gr=pow2$1(dr,_2n$5,er)*lr%er,br=pow2$1(gr,ir,er)*gr%er,vr=pow2$1(br,or,er)*br%er,$r=pow2$1(vr,ar,er)*vr%er,Er=pow2$1($r,cr,er)*$r%er,_r=pow2$1(Er,ar,er)*vr%er,xr=pow2$1(_r,rr,er)*ur%er,Ir=pow2$1(xr,sr,er)*br%er,Nr=pow2$1(Ir,nr,er)*lr%er,Lr=pow2$1(Nr,_2n$5,er);if(!Fp$1.eql(Fp$1.sqr(Lr),tr))throw new Error("Cannot find square root");return Lr}const Fp$1=Field$1(secp256k1P$1,void 0,void 0,{sqrt:sqrtMod$1}),secp256k1$4=createCurve$1({a:BigInt(0),b:BigInt(7),Fp:Fp$1,n:secp256k1N$1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:tr=>{const er=secp256k1N$1,rr=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),nr=-_1n$6*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ir=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),or=rr,sr=BigInt("0x100000000000000000000000000000000"),ar=divNearest$1(or*tr,er),cr=divNearest$1(-nr*tr,er);let lr=mod$1(tr-ar*rr-cr*ir,er),ur=mod$1(-ar*nr-cr*or,er);const fr=lr>sr,dr=ur>sr;if(fr&&(lr=er-lr),dr&&(ur=er-ur),lr>sr||ur>sr)throw new Error("splitScalar: Endomorphism failed, k="+tr);return{k1neg:fr,k1:lr,k2neg:dr,k2:ur}}}},sha256$2);BigInt(0);secp256k1$4.ProjectivePoint;const secp256k1$5=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:secp256k1$4},Symbol.toStringTag,{value:"Module"}));function hexToSignature(tr){const{r:er,s:rr}=secp256k1$4.Signature.fromCompact(tr.slice(2,130)),nr=BigInt(`0x${tr.slice(130)}`);return{r:numberToHex$4(er,{size:32}),s:numberToHex$4(rr,{size:32}),v:nr}}let t$7=class Ul{authorityId;typeId;versionMajor;versionMinor;constructor(er){this.authorityId=er.authorityId,this.typeId=er.typeId,this.versionMajor=er.versionMajor,this.versionMinor=er.versionMinor}toString(){return`${this.authorityId}/${this.typeId}:${this.versionMajor}.${this.versionMinor}`}static fromString(er){const[rr,nr]=er.split(":"),[ir,or]=rr.split("/"),[sr,ar]=nr.split(".");return new Ul({authorityId:ir,typeId:or,versionMajor:Number(sr),versionMinor:Number(ar)})}sameAs(er){return this.authorityId===er.authorityId&&this.typeId===er.typeId}};const t$6=new t$7({authorityId:"xmtp.org",typeId:"text",versionMajor:1,versionMinor:0});var n$1;(function(tr){tr.utf8="UTF-8"})(n$1||(n$1={}));let r$5=class{get contentType(){return t$6}encode(er){return{type:t$6,parameters:{encoding:n$1.utf8},content:new TextEncoder().encode(er)}}decode(er){const{encoding:rr}=er.parameters;if(rr!==n$1.utf8)throw new Error(`unrecognized encoding ${rr}`);return new TextDecoder().decode(er.content)}fallback(){}shouldPush(){return!0}};const E_CANCELED=new Error("request for lock canceled");var __awaiter$2=function(tr,er,rr,nr){function ir(or){return or instanceof rr?or:new rr(function(sr){sr(or)})}return new(rr||(rr=Promise))(function(or,sr){function ar(ur){try{lr(nr.next(ur))}catch(fr){sr(fr)}}function cr(ur){try{lr(nr.throw(ur))}catch(fr){sr(fr)}}function lr(ur){ur.done?or(ur.value):ir(ur.value).then(ar,cr)}lr((nr=nr.apply(tr,er||[])).next())})};class Semaphore{constructor(er,rr=E_CANCELED){this._value=er,this._cancelError=rr,this._queue=[],this._weightedWaiters=[]}acquire(er=1,rr=0){if(er<=0)throw new Error(`invalid weight ${er}: must be positive`);return new Promise((nr,ir)=>{const or={resolve:nr,reject:ir,weight:er,priority:rr},sr=findIndexFromEnd(this._queue,ar=>rr<=ar.priority);sr===-1&&er<=this._value?this._dispatchItem(or):this._queue.splice(sr+1,0,or)})}runExclusive(er){return __awaiter$2(this,arguments,void 0,function*(rr,nr=1,ir=0){const[or,sr]=yield this.acquire(nr,ir);try{return yield rr(or)}finally{sr()}})}waitForUnlock(er=1,rr=0){if(er<=0)throw new Error(`invalid weight ${er}: must be positive`);return this._couldLockImmediately(er,rr)?Promise.resolve():new Promise(nr=>{this._weightedWaiters[er-1]||(this._weightedWaiters[er-1]=[]),insertSorted(this._weightedWaiters[er-1],{resolve:nr,priority:rr})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(er){this._value=er,this._dispatchQueue()}release(er=1){if(er<=0)throw new Error(`invalid weight ${er}: must be positive`);this._value+=er,this._dispatchQueue()}cancel(){this._queue.forEach(er=>er.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(er){const rr=this._value;this._value-=er.weight,er.resolve([rr,this._newReleaser(er.weight)])}_newReleaser(er){let rr=!1;return()=>{rr||(rr=!0,this.release(er))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let er=this._value;er>0;er--){const rr=this._weightedWaiters[er-1];rr&&(rr.forEach(nr=>nr.resolve()),this._weightedWaiters[er-1]=[])}else{const er=this._queue[0].priority;for(let rr=this._value;rr>0;rr--){const nr=this._weightedWaiters[rr-1];if(!nr)continue;const ir=nr.findIndex(or=>or.priority<=er);(ir===-1?nr:nr.splice(0,ir)).forEach(or=>or.resolve())}}}_couldLockImmediately(er,rr){return(this._queue.length===0||this._queue[0].priority<rr)&&er<=this._value}}function insertSorted(tr,er){const rr=findIndexFromEnd(tr,nr=>er.priority<=nr.priority);tr.splice(rr+1,0,er)}function findIndexFromEnd(tr,er){for(let rr=tr.length-1;rr>=0;rr--)if(er(tr[rr]))return rr;return-1}var __awaiter$1=function(tr,er,rr,nr){function ir(or){return or instanceof rr?or:new rr(function(sr){sr(or)})}return new(rr||(rr=Promise))(function(or,sr){function ar(ur){try{lr(nr.next(ur))}catch(fr){sr(fr)}}function cr(ur){try{lr(nr.throw(ur))}catch(fr){sr(fr)}}function lr(ur){ur.done?or(ur.value):ir(ur.value).then(ar,cr)}lr((nr=nr.apply(tr,er||[])).next())})};class Mutex{constructor(er){this._semaphore=new Semaphore(1,er)}acquire(){return __awaiter$1(this,arguments,void 0,function*(er=0){const[,rr]=yield this._semaphore.acquire(1,er);return rr})}runExclusive(er,rr=0){return this._semaphore.runExclusive(()=>er(),1,rr)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(er=0){return this._semaphore.waitForUnlock(1,er)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}var elliptic={};const name$1="elliptic",version$3="6.5.5",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$4={name:name$1,version:version$3,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$u={},bn$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1);bn$1.exports;(function(tr){(function(er,rr){function nr(Tr,yr){if(!Tr)throw new Error(yr||"Assertion failed")}function ir(Tr,yr){Tr.super_=yr;var mr=function(){};mr.prototype=yr.prototype,Tr.prototype=new mr,Tr.prototype.constructor=Tr}function or(Tr,yr,mr){if(or.isBN(Tr))return Tr;this.negative=0,this.words=null,this.length=0,this.red=null,Tr!==null&&((yr==="le"||yr==="be")&&(mr=yr,yr=10),this._init(Tr||0,yr||10,mr||"be"))}typeof er=="object"?er.exports=or:rr.BN=or,or.BN=or,or.wordSize=26;var sr;try{typeof window<"u"&&typeof window.Buffer<"u"?sr=window.Buffer:sr=require$$3.Buffer}catch{}or.isBN=function(yr){return yr instanceof or?!0:yr!==null&&typeof yr=="object"&&yr.constructor.wordSize===or.wordSize&&Array.isArray(yr.words)},or.max=function(yr,mr){return yr.cmp(mr)>0?yr:mr},or.min=function(yr,mr){return yr.cmp(mr)<0?yr:mr},or.prototype._init=function(yr,mr,hr){if(typeof yr=="number")return this._initNumber(yr,mr,hr);if(typeof yr=="object")return this._initArray(yr,mr,hr);mr==="hex"&&(mr=16),nr(mr===(mr|0)&&mr>=2&&mr<=36),yr=yr.toString().replace(/\s+/g,"");var pr=0;yr[0]==="-"&&(pr++,this.negative=1),pr<yr.length&&(mr===16?this._parseHex(yr,pr,hr):(this._parseBase(yr,mr,pr),hr==="le"&&this._initArray(this.toArray(),mr,hr)))},or.prototype._initNumber=function(yr,mr,hr){yr<0&&(this.negative=1,yr=-yr),yr<67108864?(this.words=[yr&67108863],this.length=1):yr<4503599627370496?(this.words=[yr&67108863,yr/67108864&67108863],this.length=2):(nr(yr<9007199254740992),this.words=[yr&67108863,yr/67108864&67108863,1],this.length=3),hr==="le"&&this._initArray(this.toArray(),mr,hr)},or.prototype._initArray=function(yr,mr,hr){if(nr(typeof yr.length=="number"),yr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(yr.length/3),this.words=new Array(this.length);for(var pr=0;pr<this.length;pr++)this.words[pr]=0;var wr,Ar,Rr=0;if(hr==="be")for(pr=yr.length-1,wr=0;pr>=0;pr-=3)Ar=yr[pr]|yr[pr-1]<<8|yr[pr-2]<<16,this.words[wr]|=Ar<<Rr&67108863,this.words[wr+1]=Ar>>>26-Rr&67108863,Rr+=24,Rr>=26&&(Rr-=26,wr++);else if(hr==="le")for(pr=0,wr=0;pr<yr.length;pr+=3)Ar=yr[pr]|yr[pr+1]<<8|yr[pr+2]<<16,this.words[wr]|=Ar<<Rr&67108863,this.words[wr+1]=Ar>>>26-Rr&67108863,Rr+=24,Rr>=26&&(Rr-=26,wr++);return this.strip()};function ar(Tr,yr){var mr=Tr.charCodeAt(yr);return mr>=65&&mr<=70?mr-55:mr>=97&&mr<=102?mr-87:mr-48&15}function cr(Tr,yr,mr){var hr=ar(Tr,mr);return mr-1>=yr&&(hr|=ar(Tr,mr-1)<<4),hr}or.prototype._parseHex=function(yr,mr,hr){this.length=Math.ceil((yr.length-mr)/6),this.words=new Array(this.length);for(var pr=0;pr<this.length;pr++)this.words[pr]=0;var wr=0,Ar=0,Rr;if(hr==="be")for(pr=yr.length-1;pr>=mr;pr-=2)Rr=cr(yr,mr,pr)<<wr,this.words[Ar]|=Rr&67108863,wr>=18?(wr-=18,Ar+=1,this.words[Ar]|=Rr>>>26):wr+=8;else{var Pr=yr.length-mr;for(pr=Pr%2===0?mr+1:mr;pr<yr.length;pr+=2)Rr=cr(yr,mr,pr)<<wr,this.words[Ar]|=Rr&67108863,wr>=18?(wr-=18,Ar+=1,this.words[Ar]|=Rr>>>26):wr+=8}this.strip()};function lr(Tr,yr,mr,hr){for(var pr=0,wr=Math.min(Tr.length,mr),Ar=yr;Ar<wr;Ar++){var Rr=Tr.charCodeAt(Ar)-48;pr*=hr,Rr>=49?pr+=Rr-49+10:Rr>=17?pr+=Rr-17+10:pr+=Rr}return pr}or.prototype._parseBase=function(yr,mr,hr){this.words=[0],this.length=1;for(var pr=0,wr=1;wr<=67108863;wr*=mr)pr++;pr--,wr=wr/mr|0;for(var Ar=yr.length-hr,Rr=Ar%pr,Pr=Math.min(Ar,Ar-Rr)+hr,Sr=0,Mr=hr;Mr<Pr;Mr+=pr)Sr=lr(yr,Mr,Mr+pr,mr),this.imuln(wr),this.words[0]+Sr<67108864?this.words[0]+=Sr:this._iaddn(Sr);if(Rr!==0){var Br=1;for(Sr=lr(yr,Mr,yr.length,mr),Mr=0;Mr<Rr;Mr++)Br*=mr;this.imuln(Br),this.words[0]+Sr<67108864?this.words[0]+=Sr:this._iaddn(Sr)}this.strip()},or.prototype.copy=function(yr){yr.words=new Array(this.length);for(var mr=0;mr<this.length;mr++)yr.words[mr]=this.words[mr];yr.length=this.length,yr.negative=this.negative,yr.red=this.red},or.prototype.clone=function(){var yr=new or(null);return this.copy(yr),yr},or.prototype._expand=function(yr){for(;this.length<yr;)this.words[this.length++]=0;return this},or.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},or.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},or.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ur=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],fr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],dr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];or.prototype.toString=function(yr,mr){yr=yr||10,mr=mr|0||1;var hr;if(yr===16||yr==="hex"){hr="";for(var pr=0,wr=0,Ar=0;Ar<this.length;Ar++){var Rr=this.words[Ar],Pr=((Rr<<pr|wr)&16777215).toString(16);wr=Rr>>>24-pr&16777215,wr!==0||Ar!==this.length-1?hr=ur[6-Pr.length]+Pr+hr:hr=Pr+hr,pr+=2,pr>=26&&(pr-=26,Ar--)}for(wr!==0&&(hr=wr.toString(16)+hr);hr.length%mr!==0;)hr="0"+hr;return this.negative!==0&&(hr="-"+hr),hr}if(yr===(yr|0)&&yr>=2&&yr<=36){var Sr=fr[yr],Mr=dr[yr];hr="";var Br=this.clone();for(Br.negative=0;!Br.isZero();){var Ur=Br.modn(Mr).toString(yr);Br=Br.idivn(Mr),Br.isZero()?hr=Ur+hr:hr=ur[Sr-Ur.length]+Ur+hr}for(this.isZero()&&(hr="0"+hr);hr.length%mr!==0;)hr="0"+hr;return this.negative!==0&&(hr="-"+hr),hr}nr(!1,"Base should be between 2 and 36")},or.prototype.toNumber=function(){var yr=this.words[0];return this.length===2?yr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?yr+=4503599627370496+this.words[1]*67108864:this.length>2&&nr(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-yr:yr},or.prototype.toJSON=function(){return this.toString(16)},or.prototype.toBuffer=function(yr,mr){return nr(typeof sr<"u"),this.toArrayLike(sr,yr,mr)},or.prototype.toArray=function(yr,mr){return this.toArrayLike(Array,yr,mr)},or.prototype.toArrayLike=function(yr,mr,hr){var pr=this.byteLength(),wr=hr||Math.max(1,pr);nr(pr<=wr,"byte array longer than desired length"),nr(wr>0,"Requested array length <= 0"),this.strip();var Ar=mr==="le",Rr=new yr(wr),Pr,Sr,Mr=this.clone();if(Ar){for(Sr=0;!Mr.isZero();Sr++)Pr=Mr.andln(255),Mr.iushrn(8),Rr[Sr]=Pr;for(;Sr<wr;Sr++)Rr[Sr]=0}else{for(Sr=0;Sr<wr-pr;Sr++)Rr[Sr]=0;for(Sr=0;!Mr.isZero();Sr++)Pr=Mr.andln(255),Mr.iushrn(8),Rr[wr-Sr-1]=Pr}return Rr},Math.clz32?or.prototype._countBits=function(yr){return 32-Math.clz32(yr)}:or.prototype._countBits=function(yr){var mr=yr,hr=0;return mr>=4096&&(hr+=13,mr>>>=13),mr>=64&&(hr+=7,mr>>>=7),mr>=8&&(hr+=4,mr>>>=4),mr>=2&&(hr+=2,mr>>>=2),hr+mr},or.prototype._zeroBits=function(yr){if(yr===0)return 26;var mr=yr,hr=0;return mr&8191||(hr+=13,mr>>>=13),mr&127||(hr+=7,mr>>>=7),mr&15||(hr+=4,mr>>>=4),mr&3||(hr+=2,mr>>>=2),mr&1||hr++,hr},or.prototype.bitLength=function(){var yr=this.words[this.length-1],mr=this._countBits(yr);return(this.length-1)*26+mr};function gr(Tr){for(var yr=new Array(Tr.bitLength()),mr=0;mr<yr.length;mr++){var hr=mr/26|0,pr=mr%26;yr[mr]=(Tr.words[hr]&1<<pr)>>>pr}return yr}or.prototype.zeroBits=function(){if(this.isZero())return 0;for(var yr=0,mr=0;mr<this.length;mr++){var hr=this._zeroBits(this.words[mr]);if(yr+=hr,hr!==26)break}return yr},or.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},or.prototype.toTwos=function(yr){return this.negative!==0?this.abs().inotn(yr).iaddn(1):this.clone()},or.prototype.fromTwos=function(yr){return this.testn(yr-1)?this.notn(yr).iaddn(1).ineg():this.clone()},or.prototype.isNeg=function(){return this.negative!==0},or.prototype.neg=function(){return this.clone().ineg()},or.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},or.prototype.iuor=function(yr){for(;this.length<yr.length;)this.words[this.length++]=0;for(var mr=0;mr<yr.length;mr++)this.words[mr]=this.words[mr]|yr.words[mr];return this.strip()},or.prototype.ior=function(yr){return nr((this.negative|yr.negative)===0),this.iuor(yr)},or.prototype.or=function(yr){return this.length>yr.length?this.clone().ior(yr):yr.clone().ior(this)},or.prototype.uor=function(yr){return this.length>yr.length?this.clone().iuor(yr):yr.clone().iuor(this)},or.prototype.iuand=function(yr){var mr;this.length>yr.length?mr=yr:mr=this;for(var hr=0;hr<mr.length;hr++)this.words[hr]=this.words[hr]&yr.words[hr];return this.length=mr.length,this.strip()},or.prototype.iand=function(yr){return nr((this.negative|yr.negative)===0),this.iuand(yr)},or.prototype.and=function(yr){return this.length>yr.length?this.clone().iand(yr):yr.clone().iand(this)},or.prototype.uand=function(yr){return this.length>yr.length?this.clone().iuand(yr):yr.clone().iuand(this)},or.prototype.iuxor=function(yr){var mr,hr;this.length>yr.length?(mr=this,hr=yr):(mr=yr,hr=this);for(var pr=0;pr<hr.length;pr++)this.words[pr]=mr.words[pr]^hr.words[pr];if(this!==mr)for(;pr<mr.length;pr++)this.words[pr]=mr.words[pr];return this.length=mr.length,this.strip()},or.prototype.ixor=function(yr){return nr((this.negative|yr.negative)===0),this.iuxor(yr)},or.prototype.xor=function(yr){return this.length>yr.length?this.clone().ixor(yr):yr.clone().ixor(this)},or.prototype.uxor=function(yr){return this.length>yr.length?this.clone().iuxor(yr):yr.clone().iuxor(this)},or.prototype.inotn=function(yr){nr(typeof yr=="number"&&yr>=0);var mr=Math.ceil(yr/26)|0,hr=yr%26;this._expand(mr),hr>0&&mr--;for(var pr=0;pr<mr;pr++)this.words[pr]=~this.words[pr]&67108863;return hr>0&&(this.words[pr]=~this.words[pr]&67108863>>26-hr),this.strip()},or.prototype.notn=function(yr){return this.clone().inotn(yr)},or.prototype.setn=function(yr,mr){nr(typeof yr=="number"&&yr>=0);var hr=yr/26|0,pr=yr%26;return this._expand(hr+1),mr?this.words[hr]=this.words[hr]|1<<pr:this.words[hr]=this.words[hr]&~(1<<pr),this.strip()},or.prototype.iadd=function(yr){var mr;if(this.negative!==0&&yr.negative===0)return this.negative=0,mr=this.isub(yr),this.negative^=1,this._normSign();if(this.negative===0&&yr.negative!==0)return yr.negative=0,mr=this.isub(yr),yr.negative=1,mr._normSign();var hr,pr;this.length>yr.length?(hr=this,pr=yr):(hr=yr,pr=this);for(var wr=0,Ar=0;Ar<pr.length;Ar++)mr=(hr.words[Ar]|0)+(pr.words[Ar]|0)+wr,this.words[Ar]=mr&67108863,wr=mr>>>26;for(;wr!==0&&Ar<hr.length;Ar++)mr=(hr.words[Ar]|0)+wr,this.words[Ar]=mr&67108863,wr=mr>>>26;if(this.length=hr.length,wr!==0)this.words[this.length]=wr,this.length++;else if(hr!==this)for(;Ar<hr.length;Ar++)this.words[Ar]=hr.words[Ar];return this},or.prototype.add=function(yr){var mr;return yr.negative!==0&&this.negative===0?(yr.negative=0,mr=this.sub(yr),yr.negative^=1,mr):yr.negative===0&&this.negative!==0?(this.negative=0,mr=yr.sub(this),this.negative=1,mr):this.length>yr.length?this.clone().iadd(yr):yr.clone().iadd(this)},or.prototype.isub=function(yr){if(yr.negative!==0){yr.negative=0;var mr=this.iadd(yr);return yr.negative=1,mr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(yr),this.negative=1,this._normSign();var hr=this.cmp(yr);if(hr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var pr,wr;hr>0?(pr=this,wr=yr):(pr=yr,wr=this);for(var Ar=0,Rr=0;Rr<wr.length;Rr++)mr=(pr.words[Rr]|0)-(wr.words[Rr]|0)+Ar,Ar=mr>>26,this.words[Rr]=mr&67108863;for(;Ar!==0&&Rr<pr.length;Rr++)mr=(pr.words[Rr]|0)+Ar,Ar=mr>>26,this.words[Rr]=mr&67108863;if(Ar===0&&Rr<pr.length&&pr!==this)for(;Rr<pr.length;Rr++)this.words[Rr]=pr.words[Rr];return this.length=Math.max(this.length,Rr),pr!==this&&(this.negative=1),this.strip()},or.prototype.sub=function(yr){return this.clone().isub(yr)};function br(Tr,yr,mr){mr.negative=yr.negative^Tr.negative;var hr=Tr.length+yr.length|0;mr.length=hr,hr=hr-1|0;var pr=Tr.words[0]|0,wr=yr.words[0]|0,Ar=pr*wr,Rr=Ar&67108863,Pr=Ar/67108864|0;mr.words[0]=Rr;for(var Sr=1;Sr<hr;Sr++){for(var Mr=Pr>>>26,Br=Pr&67108863,Ur=Math.min(Sr,yr.length-1),Jr=Math.max(0,Sr-Tr.length+1);Jr<=Ur;Jr++){var qr=Sr-Jr|0;pr=Tr.words[qr]|0,wr=yr.words[Jr]|0,Ar=pr*wr+Br,Mr+=Ar/67108864|0,Br=Ar&67108863}mr.words[Sr]=Br|0,Pr=Mr|0}return Pr!==0?mr.words[Sr]=Pr|0:mr.length--,mr.strip()}var vr=function(yr,mr,hr){var pr=yr.words,wr=mr.words,Ar=hr.words,Rr=0,Pr,Sr,Mr,Br=pr[0]|0,Ur=Br&8191,Jr=Br>>>13,qr=pr[1]|0,zr=qr&8191,sn=qr>>>13,rn=pr[2]|0,tn=rn&8191,dn=rn>>>13,Yr=pr[3]|0,Vr=Yr&8191,Qr=Yr>>>13,un=pr[4]|0,yn=un&8191,An=un>>>13,Rn=pr[5]|0,On=Rn&8191,xn=Rn>>>13,Wn=pr[6]|0,zn=Wn&8191,Fn=Wn>>>13,so=pr[7]|0,wn=so&8191,Sn=so>>>13,Dn=pr[8]|0,Xr=Dn&8191,Hr=Dn>>>13,Kr=pr[9]|0,fn=Kr&8191,vn=Kr>>>13,$n=wr[0]|0,Tn=$n&8191,Jn=$n>>>13,io=wr[1]|0,Yn=io&8191,lo=io>>>13,ro=wr[2]|0,ao=ro&8191,Mo=ro>>>13,Co=wr[3]|0,mo=Co&8191,No=Co>>>13,Po=wr[4]|0,fo=Po&8191,ko=Po>>>13,pn=wr[5]|0,gn=pn&8191,Bn=pn>>>13,Ln=wr[6]|0,Mn=Ln&8191,So=Ln>>>13,Zr=wr[7]|0,an=Zr&8191,cn=Zr>>>13,Fr=wr[8]|0,hn=Fr&8191,En=Fr>>>13,Pn=wr[9]|0,In=Pn&8191,kn=Pn>>>13;hr.negative=yr.negative^mr.negative,hr.length=19,Pr=Math.imul(Ur,Tn),Sr=Math.imul(Ur,Jn),Sr=Sr+Math.imul(Jr,Tn)|0,Mr=Math.imul(Jr,Jn);var Hn=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,Pr=Math.imul(zr,Tn),Sr=Math.imul(zr,Jn),Sr=Sr+Math.imul(sn,Tn)|0,Mr=Math.imul(sn,Jn),Pr=Pr+Math.imul(Ur,Yn)|0,Sr=Sr+Math.imul(Ur,lo)|0,Sr=Sr+Math.imul(Jr,Yn)|0,Mr=Mr+Math.imul(Jr,lo)|0;var Kn=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,Pr=Math.imul(tn,Tn),Sr=Math.imul(tn,Jn),Sr=Sr+Math.imul(dn,Tn)|0,Mr=Math.imul(dn,Jn),Pr=Pr+Math.imul(zr,Yn)|0,Sr=Sr+Math.imul(zr,lo)|0,Sr=Sr+Math.imul(sn,Yn)|0,Mr=Mr+Math.imul(sn,lo)|0,Pr=Pr+Math.imul(Ur,ao)|0,Sr=Sr+Math.imul(Ur,Mo)|0,Sr=Sr+Math.imul(Jr,ao)|0,Mr=Mr+Math.imul(Jr,Mo)|0;var _o=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(_o>>>26)|0,_o&=67108863,Pr=Math.imul(Vr,Tn),Sr=Math.imul(Vr,Jn),Sr=Sr+Math.imul(Qr,Tn)|0,Mr=Math.imul(Qr,Jn),Pr=Pr+Math.imul(tn,Yn)|0,Sr=Sr+Math.imul(tn,lo)|0,Sr=Sr+Math.imul(dn,Yn)|0,Mr=Mr+Math.imul(dn,lo)|0,Pr=Pr+Math.imul(zr,ao)|0,Sr=Sr+Math.imul(zr,Mo)|0,Sr=Sr+Math.imul(sn,ao)|0,Mr=Mr+Math.imul(sn,Mo)|0,Pr=Pr+Math.imul(Ur,mo)|0,Sr=Sr+Math.imul(Ur,No)|0,Sr=Sr+Math.imul(Jr,mo)|0,Mr=Mr+Math.imul(Jr,No)|0;var Zn=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,Pr=Math.imul(yn,Tn),Sr=Math.imul(yn,Jn),Sr=Sr+Math.imul(An,Tn)|0,Mr=Math.imul(An,Jn),Pr=Pr+Math.imul(Vr,Yn)|0,Sr=Sr+Math.imul(Vr,lo)|0,Sr=Sr+Math.imul(Qr,Yn)|0,Mr=Mr+Math.imul(Qr,lo)|0,Pr=Pr+Math.imul(tn,ao)|0,Sr=Sr+Math.imul(tn,Mo)|0,Sr=Sr+Math.imul(dn,ao)|0,Mr=Mr+Math.imul(dn,Mo)|0,Pr=Pr+Math.imul(zr,mo)|0,Sr=Sr+Math.imul(zr,No)|0,Sr=Sr+Math.imul(sn,mo)|0,Mr=Mr+Math.imul(sn,No)|0,Pr=Pr+Math.imul(Ur,fo)|0,Sr=Sr+Math.imul(Ur,ko)|0,Sr=Sr+Math.imul(Jr,fo)|0,Mr=Mr+Math.imul(Jr,ko)|0;var ho=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(ho>>>26)|0,ho&=67108863,Pr=Math.imul(On,Tn),Sr=Math.imul(On,Jn),Sr=Sr+Math.imul(xn,Tn)|0,Mr=Math.imul(xn,Jn),Pr=Pr+Math.imul(yn,Yn)|0,Sr=Sr+Math.imul(yn,lo)|0,Sr=Sr+Math.imul(An,Yn)|0,Mr=Mr+Math.imul(An,lo)|0,Pr=Pr+Math.imul(Vr,ao)|0,Sr=Sr+Math.imul(Vr,Mo)|0,Sr=Sr+Math.imul(Qr,ao)|0,Mr=Mr+Math.imul(Qr,Mo)|0,Pr=Pr+Math.imul(tn,mo)|0,Sr=Sr+Math.imul(tn,No)|0,Sr=Sr+Math.imul(dn,mo)|0,Mr=Mr+Math.imul(dn,No)|0,Pr=Pr+Math.imul(zr,fo)|0,Sr=Sr+Math.imul(zr,ko)|0,Sr=Sr+Math.imul(sn,fo)|0,Mr=Mr+Math.imul(sn,ko)|0,Pr=Pr+Math.imul(Ur,gn)|0,Sr=Sr+Math.imul(Ur,Bn)|0,Sr=Sr+Math.imul(Jr,gn)|0,Mr=Mr+Math.imul(Jr,Bn)|0;var go=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(go>>>26)|0,go&=67108863,Pr=Math.imul(zn,Tn),Sr=Math.imul(zn,Jn),Sr=Sr+Math.imul(Fn,Tn)|0,Mr=Math.imul(Fn,Jn),Pr=Pr+Math.imul(On,Yn)|0,Sr=Sr+Math.imul(On,lo)|0,Sr=Sr+Math.imul(xn,Yn)|0,Mr=Mr+Math.imul(xn,lo)|0,Pr=Pr+Math.imul(yn,ao)|0,Sr=Sr+Math.imul(yn,Mo)|0,Sr=Sr+Math.imul(An,ao)|0,Mr=Mr+Math.imul(An,Mo)|0,Pr=Pr+Math.imul(Vr,mo)|0,Sr=Sr+Math.imul(Vr,No)|0,Sr=Sr+Math.imul(Qr,mo)|0,Mr=Mr+Math.imul(Qr,No)|0,Pr=Pr+Math.imul(tn,fo)|0,Sr=Sr+Math.imul(tn,ko)|0,Sr=Sr+Math.imul(dn,fo)|0,Mr=Mr+Math.imul(dn,ko)|0,Pr=Pr+Math.imul(zr,gn)|0,Sr=Sr+Math.imul(zr,Bn)|0,Sr=Sr+Math.imul(sn,gn)|0,Mr=Mr+Math.imul(sn,Bn)|0,Pr=Pr+Math.imul(Ur,Mn)|0,Sr=Sr+Math.imul(Ur,So)|0,Sr=Sr+Math.imul(Jr,Mn)|0,Mr=Mr+Math.imul(Jr,So)|0;var co=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(co>>>26)|0,co&=67108863,Pr=Math.imul(wn,Tn),Sr=Math.imul(wn,Jn),Sr=Sr+Math.imul(Sn,Tn)|0,Mr=Math.imul(Sn,Jn),Pr=Pr+Math.imul(zn,Yn)|0,Sr=Sr+Math.imul(zn,lo)|0,Sr=Sr+Math.imul(Fn,Yn)|0,Mr=Mr+Math.imul(Fn,lo)|0,Pr=Pr+Math.imul(On,ao)|0,Sr=Sr+Math.imul(On,Mo)|0,Sr=Sr+Math.imul(xn,ao)|0,Mr=Mr+Math.imul(xn,Mo)|0,Pr=Pr+Math.imul(yn,mo)|0,Sr=Sr+Math.imul(yn,No)|0,Sr=Sr+Math.imul(An,mo)|0,Mr=Mr+Math.imul(An,No)|0,Pr=Pr+Math.imul(Vr,fo)|0,Sr=Sr+Math.imul(Vr,ko)|0,Sr=Sr+Math.imul(Qr,fo)|0,Mr=Mr+Math.imul(Qr,ko)|0,Pr=Pr+Math.imul(tn,gn)|0,Sr=Sr+Math.imul(tn,Bn)|0,Sr=Sr+Math.imul(dn,gn)|0,Mr=Mr+Math.imul(dn,Bn)|0,Pr=Pr+Math.imul(zr,Mn)|0,Sr=Sr+Math.imul(zr,So)|0,Sr=Sr+Math.imul(sn,Mn)|0,Mr=Mr+Math.imul(sn,So)|0,Pr=Pr+Math.imul(Ur,an)|0,Sr=Sr+Math.imul(Ur,cn)|0,Sr=Sr+Math.imul(Jr,an)|0,Mr=Mr+Math.imul(Jr,cn)|0;var bo=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(bo>>>26)|0,bo&=67108863,Pr=Math.imul(Xr,Tn),Sr=Math.imul(Xr,Jn),Sr=Sr+Math.imul(Hr,Tn)|0,Mr=Math.imul(Hr,Jn),Pr=Pr+Math.imul(wn,Yn)|0,Sr=Sr+Math.imul(wn,lo)|0,Sr=Sr+Math.imul(Sn,Yn)|0,Mr=Mr+Math.imul(Sn,lo)|0,Pr=Pr+Math.imul(zn,ao)|0,Sr=Sr+Math.imul(zn,Mo)|0,Sr=Sr+Math.imul(Fn,ao)|0,Mr=Mr+Math.imul(Fn,Mo)|0,Pr=Pr+Math.imul(On,mo)|0,Sr=Sr+Math.imul(On,No)|0,Sr=Sr+Math.imul(xn,mo)|0,Mr=Mr+Math.imul(xn,No)|0,Pr=Pr+Math.imul(yn,fo)|0,Sr=Sr+Math.imul(yn,ko)|0,Sr=Sr+Math.imul(An,fo)|0,Mr=Mr+Math.imul(An,ko)|0,Pr=Pr+Math.imul(Vr,gn)|0,Sr=Sr+Math.imul(Vr,Bn)|0,Sr=Sr+Math.imul(Qr,gn)|0,Mr=Mr+Math.imul(Qr,Bn)|0,Pr=Pr+Math.imul(tn,Mn)|0,Sr=Sr+Math.imul(tn,So)|0,Sr=Sr+Math.imul(dn,Mn)|0,Mr=Mr+Math.imul(dn,So)|0,Pr=Pr+Math.imul(zr,an)|0,Sr=Sr+Math.imul(zr,cn)|0,Sr=Sr+Math.imul(sn,an)|0,Mr=Mr+Math.imul(sn,cn)|0,Pr=Pr+Math.imul(Ur,hn)|0,Sr=Sr+Math.imul(Ur,En)|0,Sr=Sr+Math.imul(Jr,hn)|0,Mr=Mr+Math.imul(Jr,En)|0;var uo=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(uo>>>26)|0,uo&=67108863,Pr=Math.imul(fn,Tn),Sr=Math.imul(fn,Jn),Sr=Sr+Math.imul(vn,Tn)|0,Mr=Math.imul(vn,Jn),Pr=Pr+Math.imul(Xr,Yn)|0,Sr=Sr+Math.imul(Xr,lo)|0,Sr=Sr+Math.imul(Hr,Yn)|0,Mr=Mr+Math.imul(Hr,lo)|0,Pr=Pr+Math.imul(wn,ao)|0,Sr=Sr+Math.imul(wn,Mo)|0,Sr=Sr+Math.imul(Sn,ao)|0,Mr=Mr+Math.imul(Sn,Mo)|0,Pr=Pr+Math.imul(zn,mo)|0,Sr=Sr+Math.imul(zn,No)|0,Sr=Sr+Math.imul(Fn,mo)|0,Mr=Mr+Math.imul(Fn,No)|0,Pr=Pr+Math.imul(On,fo)|0,Sr=Sr+Math.imul(On,ko)|0,Sr=Sr+Math.imul(xn,fo)|0,Mr=Mr+Math.imul(xn,ko)|0,Pr=Pr+Math.imul(yn,gn)|0,Sr=Sr+Math.imul(yn,Bn)|0,Sr=Sr+Math.imul(An,gn)|0,Mr=Mr+Math.imul(An,Bn)|0,Pr=Pr+Math.imul(Vr,Mn)|0,Sr=Sr+Math.imul(Vr,So)|0,Sr=Sr+Math.imul(Qr,Mn)|0,Mr=Mr+Math.imul(Qr,So)|0,Pr=Pr+Math.imul(tn,an)|0,Sr=Sr+Math.imul(tn,cn)|0,Sr=Sr+Math.imul(dn,an)|0,Mr=Mr+Math.imul(dn,cn)|0,Pr=Pr+Math.imul(zr,hn)|0,Sr=Sr+Math.imul(zr,En)|0,Sr=Sr+Math.imul(sn,hn)|0,Mr=Mr+Math.imul(sn,En)|0,Pr=Pr+Math.imul(Ur,In)|0,Sr=Sr+Math.imul(Ur,kn)|0,Sr=Sr+Math.imul(Jr,In)|0,Mr=Mr+Math.imul(Jr,kn)|0;var po=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(po>>>26)|0,po&=67108863,Pr=Math.imul(fn,Yn),Sr=Math.imul(fn,lo),Sr=Sr+Math.imul(vn,Yn)|0,Mr=Math.imul(vn,lo),Pr=Pr+Math.imul(Xr,ao)|0,Sr=Sr+Math.imul(Xr,Mo)|0,Sr=Sr+Math.imul(Hr,ao)|0,Mr=Mr+Math.imul(Hr,Mo)|0,Pr=Pr+Math.imul(wn,mo)|0,Sr=Sr+Math.imul(wn,No)|0,Sr=Sr+Math.imul(Sn,mo)|0,Mr=Mr+Math.imul(Sn,No)|0,Pr=Pr+Math.imul(zn,fo)|0,Sr=Sr+Math.imul(zn,ko)|0,Sr=Sr+Math.imul(Fn,fo)|0,Mr=Mr+Math.imul(Fn,ko)|0,Pr=Pr+Math.imul(On,gn)|0,Sr=Sr+Math.imul(On,Bn)|0,Sr=Sr+Math.imul(xn,gn)|0,Mr=Mr+Math.imul(xn,Bn)|0,Pr=Pr+Math.imul(yn,Mn)|0,Sr=Sr+Math.imul(yn,So)|0,Sr=Sr+Math.imul(An,Mn)|0,Mr=Mr+Math.imul(An,So)|0,Pr=Pr+Math.imul(Vr,an)|0,Sr=Sr+Math.imul(Vr,cn)|0,Sr=Sr+Math.imul(Qr,an)|0,Mr=Mr+Math.imul(Qr,cn)|0,Pr=Pr+Math.imul(tn,hn)|0,Sr=Sr+Math.imul(tn,En)|0,Sr=Sr+Math.imul(dn,hn)|0,Mr=Mr+Math.imul(dn,En)|0,Pr=Pr+Math.imul(zr,In)|0,Sr=Sr+Math.imul(zr,kn)|0,Sr=Sr+Math.imul(sn,In)|0,Mr=Mr+Math.imul(sn,kn)|0;var yo=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(yo>>>26)|0,yo&=67108863,Pr=Math.imul(fn,ao),Sr=Math.imul(fn,Mo),Sr=Sr+Math.imul(vn,ao)|0,Mr=Math.imul(vn,Mo),Pr=Pr+Math.imul(Xr,mo)|0,Sr=Sr+Math.imul(Xr,No)|0,Sr=Sr+Math.imul(Hr,mo)|0,Mr=Mr+Math.imul(Hr,No)|0,Pr=Pr+Math.imul(wn,fo)|0,Sr=Sr+Math.imul(wn,ko)|0,Sr=Sr+Math.imul(Sn,fo)|0,Mr=Mr+Math.imul(Sn,ko)|0,Pr=Pr+Math.imul(zn,gn)|0,Sr=Sr+Math.imul(zn,Bn)|0,Sr=Sr+Math.imul(Fn,gn)|0,Mr=Mr+Math.imul(Fn,Bn)|0,Pr=Pr+Math.imul(On,Mn)|0,Sr=Sr+Math.imul(On,So)|0,Sr=Sr+Math.imul(xn,Mn)|0,Mr=Mr+Math.imul(xn,So)|0,Pr=Pr+Math.imul(yn,an)|0,Sr=Sr+Math.imul(yn,cn)|0,Sr=Sr+Math.imul(An,an)|0,Mr=Mr+Math.imul(An,cn)|0,Pr=Pr+Math.imul(Vr,hn)|0,Sr=Sr+Math.imul(Vr,En)|0,Sr=Sr+Math.imul(Qr,hn)|0,Mr=Mr+Math.imul(Qr,En)|0,Pr=Pr+Math.imul(tn,In)|0,Sr=Sr+Math.imul(tn,kn)|0,Sr=Sr+Math.imul(dn,In)|0,Mr=Mr+Math.imul(dn,kn)|0;var to=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(to>>>26)|0,to&=67108863,Pr=Math.imul(fn,mo),Sr=Math.imul(fn,No),Sr=Sr+Math.imul(vn,mo)|0,Mr=Math.imul(vn,No),Pr=Pr+Math.imul(Xr,fo)|0,Sr=Sr+Math.imul(Xr,ko)|0,Sr=Sr+Math.imul(Hr,fo)|0,Mr=Mr+Math.imul(Hr,ko)|0,Pr=Pr+Math.imul(wn,gn)|0,Sr=Sr+Math.imul(wn,Bn)|0,Sr=Sr+Math.imul(Sn,gn)|0,Mr=Mr+Math.imul(Sn,Bn)|0,Pr=Pr+Math.imul(zn,Mn)|0,Sr=Sr+Math.imul(zn,So)|0,Sr=Sr+Math.imul(Fn,Mn)|0,Mr=Mr+Math.imul(Fn,So)|0,Pr=Pr+Math.imul(On,an)|0,Sr=Sr+Math.imul(On,cn)|0,Sr=Sr+Math.imul(xn,an)|0,Mr=Mr+Math.imul(xn,cn)|0,Pr=Pr+Math.imul(yn,hn)|0,Sr=Sr+Math.imul(yn,En)|0,Sr=Sr+Math.imul(An,hn)|0,Mr=Mr+Math.imul(An,En)|0,Pr=Pr+Math.imul(Vr,In)|0,Sr=Sr+Math.imul(Vr,kn)|0,Sr=Sr+Math.imul(Qr,In)|0,Mr=Mr+Math.imul(Qr,kn)|0;var oo=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(oo>>>26)|0,oo&=67108863,Pr=Math.imul(fn,fo),Sr=Math.imul(fn,ko),Sr=Sr+Math.imul(vn,fo)|0,Mr=Math.imul(vn,ko),Pr=Pr+Math.imul(Xr,gn)|0,Sr=Sr+Math.imul(Xr,Bn)|0,Sr=Sr+Math.imul(Hr,gn)|0,Mr=Mr+Math.imul(Hr,Bn)|0,Pr=Pr+Math.imul(wn,Mn)|0,Sr=Sr+Math.imul(wn,So)|0,Sr=Sr+Math.imul(Sn,Mn)|0,Mr=Mr+Math.imul(Sn,So)|0,Pr=Pr+Math.imul(zn,an)|0,Sr=Sr+Math.imul(zn,cn)|0,Sr=Sr+Math.imul(Fn,an)|0,Mr=Mr+Math.imul(Fn,cn)|0,Pr=Pr+Math.imul(On,hn)|0,Sr=Sr+Math.imul(On,En)|0,Sr=Sr+Math.imul(xn,hn)|0,Mr=Mr+Math.imul(xn,En)|0,Pr=Pr+Math.imul(yn,In)|0,Sr=Sr+Math.imul(yn,kn)|0,Sr=Sr+Math.imul(An,In)|0,Mr=Mr+Math.imul(An,kn)|0;var _i=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(_i>>>26)|0,_i&=67108863,Pr=Math.imul(fn,gn),Sr=Math.imul(fn,Bn),Sr=Sr+Math.imul(vn,gn)|0,Mr=Math.imul(vn,Bn),Pr=Pr+Math.imul(Xr,Mn)|0,Sr=Sr+Math.imul(Xr,So)|0,Sr=Sr+Math.imul(Hr,Mn)|0,Mr=Mr+Math.imul(Hr,So)|0,Pr=Pr+Math.imul(wn,an)|0,Sr=Sr+Math.imul(wn,cn)|0,Sr=Sr+Math.imul(Sn,an)|0,Mr=Mr+Math.imul(Sn,cn)|0,Pr=Pr+Math.imul(zn,hn)|0,Sr=Sr+Math.imul(zn,En)|0,Sr=Sr+Math.imul(Fn,hn)|0,Mr=Mr+Math.imul(Fn,En)|0,Pr=Pr+Math.imul(On,In)|0,Sr=Sr+Math.imul(On,kn)|0,Sr=Sr+Math.imul(xn,In)|0,Mr=Mr+Math.imul(xn,kn)|0;var no=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(no>>>26)|0,no&=67108863,Pr=Math.imul(fn,Mn),Sr=Math.imul(fn,So),Sr=Sr+Math.imul(vn,Mn)|0,Mr=Math.imul(vn,So),Pr=Pr+Math.imul(Xr,an)|0,Sr=Sr+Math.imul(Xr,cn)|0,Sr=Sr+Math.imul(Hr,an)|0,Mr=Mr+Math.imul(Hr,cn)|0,Pr=Pr+Math.imul(wn,hn)|0,Sr=Sr+Math.imul(wn,En)|0,Sr=Sr+Math.imul(Sn,hn)|0,Mr=Mr+Math.imul(Sn,En)|0,Pr=Pr+Math.imul(zn,In)|0,Sr=Sr+Math.imul(zn,kn)|0,Sr=Sr+Math.imul(Fn,In)|0,Mr=Mr+Math.imul(Fn,kn)|0;var eo=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(eo>>>26)|0,eo&=67108863,Pr=Math.imul(fn,an),Sr=Math.imul(fn,cn),Sr=Sr+Math.imul(vn,an)|0,Mr=Math.imul(vn,cn),Pr=Pr+Math.imul(Xr,hn)|0,Sr=Sr+Math.imul(Xr,En)|0,Sr=Sr+Math.imul(Hr,hn)|0,Mr=Mr+Math.imul(Hr,En)|0,Pr=Pr+Math.imul(wn,In)|0,Sr=Sr+Math.imul(wn,kn)|0,Sr=Sr+Math.imul(Sn,In)|0,Mr=Mr+Math.imul(Sn,kn)|0;var Qn=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,Pr=Math.imul(fn,hn),Sr=Math.imul(fn,En),Sr=Sr+Math.imul(vn,hn)|0,Mr=Math.imul(vn,En),Pr=Pr+Math.imul(Xr,In)|0,Sr=Sr+Math.imul(Xr,kn)|0,Sr=Sr+Math.imul(Hr,In)|0,Mr=Mr+Math.imul(Hr,kn)|0;var Cn=(Rr+Pr|0)+((Sr&8191)<<13)|0;Rr=(Mr+(Sr>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,Pr=Math.imul(fn,In),Sr=Math.imul(fn,kn),Sr=Sr+Math.imul(vn,In)|0,Mr=Math.imul(vn,kn);var Nn=(Rr+Pr|0)+((Sr&8191)<<13)|0;return Rr=(Mr+(Sr>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,Ar[0]=Hn,Ar[1]=Kn,Ar[2]=_o,Ar[3]=Zn,Ar[4]=ho,Ar[5]=go,Ar[6]=co,Ar[7]=bo,Ar[8]=uo,Ar[9]=po,Ar[10]=yo,Ar[11]=to,Ar[12]=oo,Ar[13]=_i,Ar[14]=no,Ar[15]=eo,Ar[16]=Qn,Ar[17]=Cn,Ar[18]=Nn,Rr!==0&&(Ar[19]=Rr,hr.length++),hr};Math.imul||(vr=br);function $r(Tr,yr,mr){mr.negative=yr.negative^Tr.negative,mr.length=Tr.length+yr.length;for(var hr=0,pr=0,wr=0;wr<mr.length-1;wr++){var Ar=pr;pr=0;for(var Rr=hr&67108863,Pr=Math.min(wr,yr.length-1),Sr=Math.max(0,wr-Tr.length+1);Sr<=Pr;Sr++){var Mr=wr-Sr,Br=Tr.words[Mr]|0,Ur=yr.words[Sr]|0,Jr=Br*Ur,qr=Jr&67108863;Ar=Ar+(Jr/67108864|0)|0,qr=qr+Rr|0,Rr=qr&67108863,Ar=Ar+(qr>>>26)|0,pr+=Ar>>>26,Ar&=67108863}mr.words[wr]=Rr,hr=Ar,Ar=pr}return hr!==0?mr.words[wr]=hr:mr.length--,mr.strip()}function Er(Tr,yr,mr){var hr=new _r;return hr.mulp(Tr,yr,mr)}or.prototype.mulTo=function(yr,mr){var hr,pr=this.length+yr.length;return this.length===10&&yr.length===10?hr=vr(this,yr,mr):pr<63?hr=br(this,yr,mr):pr<1024?hr=$r(this,yr,mr):hr=Er(this,yr,mr),hr};function _r(Tr,yr){this.x=Tr,this.y=yr}_r.prototype.makeRBT=function(yr){for(var mr=new Array(yr),hr=or.prototype._countBits(yr)-1,pr=0;pr<yr;pr++)mr[pr]=this.revBin(pr,hr,yr);return mr},_r.prototype.revBin=function(yr,mr,hr){if(yr===0||yr===hr-1)return yr;for(var pr=0,wr=0;wr<mr;wr++)pr|=(yr&1)<<mr-wr-1,yr>>=1;return pr},_r.prototype.permute=function(yr,mr,hr,pr,wr,Ar){for(var Rr=0;Rr<Ar;Rr++)pr[Rr]=mr[yr[Rr]],wr[Rr]=hr[yr[Rr]]},_r.prototype.transform=function(yr,mr,hr,pr,wr,Ar){this.permute(Ar,yr,mr,hr,pr,wr);for(var Rr=1;Rr<wr;Rr<<=1)for(var Pr=Rr<<1,Sr=Math.cos(2*Math.PI/Pr),Mr=Math.sin(2*Math.PI/Pr),Br=0;Br<wr;Br+=Pr)for(var Ur=Sr,Jr=Mr,qr=0;qr<Rr;qr++){var zr=hr[Br+qr],sn=pr[Br+qr],rn=hr[Br+qr+Rr],tn=pr[Br+qr+Rr],dn=Ur*rn-Jr*tn;tn=Ur*tn+Jr*rn,rn=dn,hr[Br+qr]=zr+rn,pr[Br+qr]=sn+tn,hr[Br+qr+Rr]=zr-rn,pr[Br+qr+Rr]=sn-tn,qr!==Pr&&(dn=Sr*Ur-Mr*Jr,Jr=Sr*Jr+Mr*Ur,Ur=dn)}},_r.prototype.guessLen13b=function(yr,mr){var hr=Math.max(mr,yr)|1,pr=hr&1,wr=0;for(hr=hr/2|0;hr;hr=hr>>>1)wr++;return 1<<wr+1+pr},_r.prototype.conjugate=function(yr,mr,hr){if(!(hr<=1))for(var pr=0;pr<hr/2;pr++){var wr=yr[pr];yr[pr]=yr[hr-pr-1],yr[hr-pr-1]=wr,wr=mr[pr],mr[pr]=-mr[hr-pr-1],mr[hr-pr-1]=-wr}},_r.prototype.normalize13b=function(yr,mr){for(var hr=0,pr=0;pr<mr/2;pr++){var wr=Math.round(yr[2*pr+1]/mr)*8192+Math.round(yr[2*pr]/mr)+hr;yr[pr]=wr&67108863,wr<67108864?hr=0:hr=wr/67108864|0}return yr},_r.prototype.convert13b=function(yr,mr,hr,pr){for(var wr=0,Ar=0;Ar<mr;Ar++)wr=wr+(yr[Ar]|0),hr[2*Ar]=wr&8191,wr=wr>>>13,hr[2*Ar+1]=wr&8191,wr=wr>>>13;for(Ar=2*mr;Ar<pr;++Ar)hr[Ar]=0;nr(wr===0),nr((wr&-8192)===0)},_r.prototype.stub=function(yr){for(var mr=new Array(yr),hr=0;hr<yr;hr++)mr[hr]=0;return mr},_r.prototype.mulp=function(yr,mr,hr){var pr=2*this.guessLen13b(yr.length,mr.length),wr=this.makeRBT(pr),Ar=this.stub(pr),Rr=new Array(pr),Pr=new Array(pr),Sr=new Array(pr),Mr=new Array(pr),Br=new Array(pr),Ur=new Array(pr),Jr=hr.words;Jr.length=pr,this.convert13b(yr.words,yr.length,Rr,pr),this.convert13b(mr.words,mr.length,Mr,pr),this.transform(Rr,Ar,Pr,Sr,pr,wr),this.transform(Mr,Ar,Br,Ur,pr,wr);for(var qr=0;qr<pr;qr++){var zr=Pr[qr]*Br[qr]-Sr[qr]*Ur[qr];Sr[qr]=Pr[qr]*Ur[qr]+Sr[qr]*Br[qr],Pr[qr]=zr}return this.conjugate(Pr,Sr,pr),this.transform(Pr,Sr,Jr,Ar,pr,wr),this.conjugate(Jr,Ar,pr),this.normalize13b(Jr,pr),hr.negative=yr.negative^mr.negative,hr.length=yr.length+mr.length,hr.strip()},or.prototype.mul=function(yr){var mr=new or(null);return mr.words=new Array(this.length+yr.length),this.mulTo(yr,mr)},or.prototype.mulf=function(yr){var mr=new or(null);return mr.words=new Array(this.length+yr.length),Er(this,yr,mr)},or.prototype.imul=function(yr){return this.clone().mulTo(yr,this)},or.prototype.imuln=function(yr){nr(typeof yr=="number"),nr(yr<67108864);for(var mr=0,hr=0;hr<this.length;hr++){var pr=(this.words[hr]|0)*yr,wr=(pr&67108863)+(mr&67108863);mr>>=26,mr+=pr/67108864|0,mr+=wr>>>26,this.words[hr]=wr&67108863}return mr!==0&&(this.words[hr]=mr,this.length++),this},or.prototype.muln=function(yr){return this.clone().imuln(yr)},or.prototype.sqr=function(){return this.mul(this)},or.prototype.isqr=function(){return this.imul(this.clone())},or.prototype.pow=function(yr){var mr=gr(yr);if(mr.length===0)return new or(1);for(var hr=this,pr=0;pr<mr.length&&mr[pr]===0;pr++,hr=hr.sqr());if(++pr<mr.length)for(var wr=hr.sqr();pr<mr.length;pr++,wr=wr.sqr())mr[pr]!==0&&(hr=hr.mul(wr));return hr},or.prototype.iushln=function(yr){nr(typeof yr=="number"&&yr>=0);var mr=yr%26,hr=(yr-mr)/26,pr=67108863>>>26-mr<<26-mr,wr;if(mr!==0){var Ar=0;for(wr=0;wr<this.length;wr++){var Rr=this.words[wr]&pr,Pr=(this.words[wr]|0)-Rr<<mr;this.words[wr]=Pr|Ar,Ar=Rr>>>26-mr}Ar&&(this.words[wr]=Ar,this.length++)}if(hr!==0){for(wr=this.length-1;wr>=0;wr--)this.words[wr+hr]=this.words[wr];for(wr=0;wr<hr;wr++)this.words[wr]=0;this.length+=hr}return this.strip()},or.prototype.ishln=function(yr){return nr(this.negative===0),this.iushln(yr)},or.prototype.iushrn=function(yr,mr,hr){nr(typeof yr=="number"&&yr>=0);var pr;mr?pr=(mr-mr%26)/26:pr=0;var wr=yr%26,Ar=Math.min((yr-wr)/26,this.length),Rr=67108863^67108863>>>wr<<wr,Pr=hr;if(pr-=Ar,pr=Math.max(0,pr),Pr){for(var Sr=0;Sr<Ar;Sr++)Pr.words[Sr]=this.words[Sr];Pr.length=Ar}if(Ar!==0)if(this.length>Ar)for(this.length-=Ar,Sr=0;Sr<this.length;Sr++)this.words[Sr]=this.words[Sr+Ar];else this.words[0]=0,this.length=1;var Mr=0;for(Sr=this.length-1;Sr>=0&&(Mr!==0||Sr>=pr);Sr--){var Br=this.words[Sr]|0;this.words[Sr]=Mr<<26-wr|Br>>>wr,Mr=Br&Rr}return Pr&&Mr!==0&&(Pr.words[Pr.length++]=Mr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},or.prototype.ishrn=function(yr,mr,hr){return nr(this.negative===0),this.iushrn(yr,mr,hr)},or.prototype.shln=function(yr){return this.clone().ishln(yr)},or.prototype.ushln=function(yr){return this.clone().iushln(yr)},or.prototype.shrn=function(yr){return this.clone().ishrn(yr)},or.prototype.ushrn=function(yr){return this.clone().iushrn(yr)},or.prototype.testn=function(yr){nr(typeof yr=="number"&&yr>=0);var mr=yr%26,hr=(yr-mr)/26,pr=1<<mr;if(this.length<=hr)return!1;var wr=this.words[hr];return!!(wr&pr)},or.prototype.imaskn=function(yr){nr(typeof yr=="number"&&yr>=0);var mr=yr%26,hr=(yr-mr)/26;if(nr(this.negative===0,"imaskn works only with positive numbers"),this.length<=hr)return this;if(mr!==0&&hr++,this.length=Math.min(hr,this.length),mr!==0){var pr=67108863^67108863>>>mr<<mr;this.words[this.length-1]&=pr}return this.strip()},or.prototype.maskn=function(yr){return this.clone().imaskn(yr)},or.prototype.iaddn=function(yr){return nr(typeof yr=="number"),nr(yr<67108864),yr<0?this.isubn(-yr):this.negative!==0?this.length===1&&(this.words[0]|0)<yr?(this.words[0]=yr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(yr),this.negative=1,this):this._iaddn(yr)},or.prototype._iaddn=function(yr){this.words[0]+=yr;for(var mr=0;mr<this.length&&this.words[mr]>=67108864;mr++)this.words[mr]-=67108864,mr===this.length-1?this.words[mr+1]=1:this.words[mr+1]++;return this.length=Math.max(this.length,mr+1),this},or.prototype.isubn=function(yr){if(nr(typeof yr=="number"),nr(yr<67108864),yr<0)return this.iaddn(-yr);if(this.negative!==0)return this.negative=0,this.iaddn(yr),this.negative=1,this;if(this.words[0]-=yr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var mr=0;mr<this.length&&this.words[mr]<0;mr++)this.words[mr]+=67108864,this.words[mr+1]-=1;return this.strip()},or.prototype.addn=function(yr){return this.clone().iaddn(yr)},or.prototype.subn=function(yr){return this.clone().isubn(yr)},or.prototype.iabs=function(){return this.negative=0,this},or.prototype.abs=function(){return this.clone().iabs()},or.prototype._ishlnsubmul=function(yr,mr,hr){var pr=yr.length+hr,wr;this._expand(pr);var Ar,Rr=0;for(wr=0;wr<yr.length;wr++){Ar=(this.words[wr+hr]|0)+Rr;var Pr=(yr.words[wr]|0)*mr;Ar-=Pr&67108863,Rr=(Ar>>26)-(Pr/67108864|0),this.words[wr+hr]=Ar&67108863}for(;wr<this.length-hr;wr++)Ar=(this.words[wr+hr]|0)+Rr,Rr=Ar>>26,this.words[wr+hr]=Ar&67108863;if(Rr===0)return this.strip();for(nr(Rr===-1),Rr=0,wr=0;wr<this.length;wr++)Ar=-(this.words[wr]|0)+Rr,Rr=Ar>>26,this.words[wr]=Ar&67108863;return this.negative=1,this.strip()},or.prototype._wordDiv=function(yr,mr){var hr=this.length-yr.length,pr=this.clone(),wr=yr,Ar=wr.words[wr.length-1]|0,Rr=this._countBits(Ar);hr=26-Rr,hr!==0&&(wr=wr.ushln(hr),pr.iushln(hr),Ar=wr.words[wr.length-1]|0);var Pr=pr.length-wr.length,Sr;if(mr!=="mod"){Sr=new or(null),Sr.length=Pr+1,Sr.words=new Array(Sr.length);for(var Mr=0;Mr<Sr.length;Mr++)Sr.words[Mr]=0}var Br=pr.clone()._ishlnsubmul(wr,1,Pr);Br.negative===0&&(pr=Br,Sr&&(Sr.words[Pr]=1));for(var Ur=Pr-1;Ur>=0;Ur--){var Jr=(pr.words[wr.length+Ur]|0)*67108864+(pr.words[wr.length+Ur-1]|0);for(Jr=Math.min(Jr/Ar|0,67108863),pr._ishlnsubmul(wr,Jr,Ur);pr.negative!==0;)Jr--,pr.negative=0,pr._ishlnsubmul(wr,1,Ur),pr.isZero()||(pr.negative^=1);Sr&&(Sr.words[Ur]=Jr)}return Sr&&Sr.strip(),pr.strip(),mr!=="div"&&hr!==0&&pr.iushrn(hr),{div:Sr||null,mod:pr}},or.prototype.divmod=function(yr,mr,hr){if(nr(!yr.isZero()),this.isZero())return{div:new or(0),mod:new or(0)};var pr,wr,Ar;return this.negative!==0&&yr.negative===0?(Ar=this.neg().divmod(yr,mr),mr!=="mod"&&(pr=Ar.div.neg()),mr!=="div"&&(wr=Ar.mod.neg(),hr&&wr.negative!==0&&wr.iadd(yr)),{div:pr,mod:wr}):this.negative===0&&yr.negative!==0?(Ar=this.divmod(yr.neg(),mr),mr!=="mod"&&(pr=Ar.div.neg()),{div:pr,mod:Ar.mod}):this.negative&yr.negative?(Ar=this.neg().divmod(yr.neg(),mr),mr!=="div"&&(wr=Ar.mod.neg(),hr&&wr.negative!==0&&wr.isub(yr)),{div:Ar.div,mod:wr}):yr.length>this.length||this.cmp(yr)<0?{div:new or(0),mod:this}:yr.length===1?mr==="div"?{div:this.divn(yr.words[0]),mod:null}:mr==="mod"?{div:null,mod:new or(this.modn(yr.words[0]))}:{div:this.divn(yr.words[0]),mod:new or(this.modn(yr.words[0]))}:this._wordDiv(yr,mr)},or.prototype.div=function(yr){return this.divmod(yr,"div",!1).div},or.prototype.mod=function(yr){return this.divmod(yr,"mod",!1).mod},or.prototype.umod=function(yr){return this.divmod(yr,"mod",!0).mod},or.prototype.divRound=function(yr){var mr=this.divmod(yr);if(mr.mod.isZero())return mr.div;var hr=mr.div.negative!==0?mr.mod.isub(yr):mr.mod,pr=yr.ushrn(1),wr=yr.andln(1),Ar=hr.cmp(pr);return Ar<0||wr===1&&Ar===0?mr.div:mr.div.negative!==0?mr.div.isubn(1):mr.div.iaddn(1)},or.prototype.modn=function(yr){nr(yr<=67108863);for(var mr=(1<<26)%yr,hr=0,pr=this.length-1;pr>=0;pr--)hr=(mr*hr+(this.words[pr]|0))%yr;return hr},or.prototype.idivn=function(yr){nr(yr<=67108863);for(var mr=0,hr=this.length-1;hr>=0;hr--){var pr=(this.words[hr]|0)+mr*67108864;this.words[hr]=pr/yr|0,mr=pr%yr}return this.strip()},or.prototype.divn=function(yr){return this.clone().idivn(yr)},or.prototype.egcd=function(yr){nr(yr.negative===0),nr(!yr.isZero());var mr=this,hr=yr.clone();mr.negative!==0?mr=mr.umod(yr):mr=mr.clone();for(var pr=new or(1),wr=new or(0),Ar=new or(0),Rr=new or(1),Pr=0;mr.isEven()&&hr.isEven();)mr.iushrn(1),hr.iushrn(1),++Pr;for(var Sr=hr.clone(),Mr=mr.clone();!mr.isZero();){for(var Br=0,Ur=1;!(mr.words[0]&Ur)&&Br<26;++Br,Ur<<=1);if(Br>0)for(mr.iushrn(Br);Br-- >0;)(pr.isOdd()||wr.isOdd())&&(pr.iadd(Sr),wr.isub(Mr)),pr.iushrn(1),wr.iushrn(1);for(var Jr=0,qr=1;!(hr.words[0]&qr)&&Jr<26;++Jr,qr<<=1);if(Jr>0)for(hr.iushrn(Jr);Jr-- >0;)(Ar.isOdd()||Rr.isOdd())&&(Ar.iadd(Sr),Rr.isub(Mr)),Ar.iushrn(1),Rr.iushrn(1);mr.cmp(hr)>=0?(mr.isub(hr),pr.isub(Ar),wr.isub(Rr)):(hr.isub(mr),Ar.isub(pr),Rr.isub(wr))}return{a:Ar,b:Rr,gcd:hr.iushln(Pr)}},or.prototype._invmp=function(yr){nr(yr.negative===0),nr(!yr.isZero());var mr=this,hr=yr.clone();mr.negative!==0?mr=mr.umod(yr):mr=mr.clone();for(var pr=new or(1),wr=new or(0),Ar=hr.clone();mr.cmpn(1)>0&&hr.cmpn(1)>0;){for(var Rr=0,Pr=1;!(mr.words[0]&Pr)&&Rr<26;++Rr,Pr<<=1);if(Rr>0)for(mr.iushrn(Rr);Rr-- >0;)pr.isOdd()&&pr.iadd(Ar),pr.iushrn(1);for(var Sr=0,Mr=1;!(hr.words[0]&Mr)&&Sr<26;++Sr,Mr<<=1);if(Sr>0)for(hr.iushrn(Sr);Sr-- >0;)wr.isOdd()&&wr.iadd(Ar),wr.iushrn(1);mr.cmp(hr)>=0?(mr.isub(hr),pr.isub(wr)):(hr.isub(mr),wr.isub(pr))}var Br;return mr.cmpn(1)===0?Br=pr:Br=wr,Br.cmpn(0)<0&&Br.iadd(yr),Br},or.prototype.gcd=function(yr){if(this.isZero())return yr.abs();if(yr.isZero())return this.abs();var mr=this.clone(),hr=yr.clone();mr.negative=0,hr.negative=0;for(var pr=0;mr.isEven()&&hr.isEven();pr++)mr.iushrn(1),hr.iushrn(1);do{for(;mr.isEven();)mr.iushrn(1);for(;hr.isEven();)hr.iushrn(1);var wr=mr.cmp(hr);if(wr<0){var Ar=mr;mr=hr,hr=Ar}else if(wr===0||hr.cmpn(1)===0)break;mr.isub(hr)}while(!0);return hr.iushln(pr)},or.prototype.invm=function(yr){return this.egcd(yr).a.umod(yr)},or.prototype.isEven=function(){return(this.words[0]&1)===0},or.prototype.isOdd=function(){return(this.words[0]&1)===1},or.prototype.andln=function(yr){return this.words[0]&yr},or.prototype.bincn=function(yr){nr(typeof yr=="number");var mr=yr%26,hr=(yr-mr)/26,pr=1<<mr;if(this.length<=hr)return this._expand(hr+1),this.words[hr]|=pr,this;for(var wr=pr,Ar=hr;wr!==0&&Ar<this.length;Ar++){var Rr=this.words[Ar]|0;Rr+=wr,wr=Rr>>>26,Rr&=67108863,this.words[Ar]=Rr}return wr!==0&&(this.words[Ar]=wr,this.length++),this},or.prototype.isZero=function(){return this.length===1&&this.words[0]===0},or.prototype.cmpn=function(yr){var mr=yr<0;if(this.negative!==0&&!mr)return-1;if(this.negative===0&&mr)return 1;this.strip();var hr;if(this.length>1)hr=1;else{mr&&(yr=-yr),nr(yr<=67108863,"Number is too big");var pr=this.words[0]|0;hr=pr===yr?0:pr<yr?-1:1}return this.negative!==0?-hr|0:hr},or.prototype.cmp=function(yr){if(this.negative!==0&&yr.negative===0)return-1;if(this.negative===0&&yr.negative!==0)return 1;var mr=this.ucmp(yr);return this.negative!==0?-mr|0:mr},or.prototype.ucmp=function(yr){if(this.length>yr.length)return 1;if(this.length<yr.length)return-1;for(var mr=0,hr=this.length-1;hr>=0;hr--){var pr=this.words[hr]|0,wr=yr.words[hr]|0;if(pr!==wr){pr<wr?mr=-1:pr>wr&&(mr=1);break}}return mr},or.prototype.gtn=function(yr){return this.cmpn(yr)===1},or.prototype.gt=function(yr){return this.cmp(yr)===1},or.prototype.gten=function(yr){return this.cmpn(yr)>=0},or.prototype.gte=function(yr){return this.cmp(yr)>=0},or.prototype.ltn=function(yr){return this.cmpn(yr)===-1},or.prototype.lt=function(yr){return this.cmp(yr)===-1},or.prototype.lten=function(yr){return this.cmpn(yr)<=0},or.prototype.lte=function(yr){return this.cmp(yr)<=0},or.prototype.eqn=function(yr){return this.cmpn(yr)===0},or.prototype.eq=function(yr){return this.cmp(yr)===0},or.red=function(yr){return new Dr(yr)},or.prototype.toRed=function(yr){return nr(!this.red,"Already a number in reduction context"),nr(this.negative===0,"red works only with positives"),yr.convertTo(this)._forceRed(yr)},or.prototype.fromRed=function(){return nr(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},or.prototype._forceRed=function(yr){return this.red=yr,this},or.prototype.forceRed=function(yr){return nr(!this.red,"Already a number in reduction context"),this._forceRed(yr)},or.prototype.redAdd=function(yr){return nr(this.red,"redAdd works only with red numbers"),this.red.add(this,yr)},or.prototype.redIAdd=function(yr){return nr(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,yr)},or.prototype.redSub=function(yr){return nr(this.red,"redSub works only with red numbers"),this.red.sub(this,yr)},or.prototype.redISub=function(yr){return nr(this.red,"redISub works only with red numbers"),this.red.isub(this,yr)},or.prototype.redShl=function(yr){return nr(this.red,"redShl works only with red numbers"),this.red.shl(this,yr)},or.prototype.redMul=function(yr){return nr(this.red,"redMul works only with red numbers"),this.red._verify2(this,yr),this.red.mul(this,yr)},or.prototype.redIMul=function(yr){return nr(this.red,"redMul works only with red numbers"),this.red._verify2(this,yr),this.red.imul(this,yr)},or.prototype.redSqr=function(){return nr(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},or.prototype.redISqr=function(){return nr(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},or.prototype.redSqrt=function(){return nr(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},or.prototype.redInvm=function(){return nr(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},or.prototype.redNeg=function(){return nr(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},or.prototype.redPow=function(yr){return nr(this.red&&!yr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,yr)};var xr={k256:null,p224:null,p192:null,p25519:null};function Ir(Tr,yr){this.name=Tr,this.p=new or(yr,16),this.n=this.p.bitLength(),this.k=new or(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Ir.prototype._tmp=function(){var yr=new or(null);return yr.words=new Array(Math.ceil(this.n/13)),yr},Ir.prototype.ireduce=function(yr){var mr=yr,hr;do this.split(mr,this.tmp),mr=this.imulK(mr),mr=mr.iadd(this.tmp),hr=mr.bitLength();while(hr>this.n);var pr=hr<this.n?-1:mr.ucmp(this.p);return pr===0?(mr.words[0]=0,mr.length=1):pr>0?mr.isub(this.p):mr.strip!==void 0?mr.strip():mr._strip(),mr},Ir.prototype.split=function(yr,mr){yr.iushrn(this.n,0,mr)},Ir.prototype.imulK=function(yr){return yr.imul(this.k)};function Nr(){Ir.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ir(Nr,Ir),Nr.prototype.split=function(yr,mr){for(var hr=4194303,pr=Math.min(yr.length,9),wr=0;wr<pr;wr++)mr.words[wr]=yr.words[wr];if(mr.length=pr,yr.length<=9){yr.words[0]=0,yr.length=1;return}var Ar=yr.words[9];for(mr.words[mr.length++]=Ar&hr,wr=10;wr<yr.length;wr++){var Rr=yr.words[wr]|0;yr.words[wr-10]=(Rr&hr)<<4|Ar>>>22,Ar=Rr}Ar>>>=22,yr.words[wr-10]=Ar,Ar===0&&yr.length>10?yr.length-=10:yr.length-=9},Nr.prototype.imulK=function(yr){yr.words[yr.length]=0,yr.words[yr.length+1]=0,yr.length+=2;for(var mr=0,hr=0;hr<yr.length;hr++){var pr=yr.words[hr]|0;mr+=pr*977,yr.words[hr]=mr&67108863,mr=pr*64+(mr/67108864|0)}return yr.words[yr.length-1]===0&&(yr.length--,yr.words[yr.length-1]===0&&yr.length--),yr};function Lr(){Ir.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ir(Lr,Ir);function jr(){Ir.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ir(jr,Ir);function Or(){Ir.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ir(Or,Ir),Or.prototype.imulK=function(yr){for(var mr=0,hr=0;hr<yr.length;hr++){var pr=(yr.words[hr]|0)*19+mr,wr=pr&67108863;pr>>>=26,yr.words[hr]=wr,mr=pr}return mr!==0&&(yr.words[yr.length++]=mr),yr},or._prime=function(yr){if(xr[yr])return xr[yr];var mr;if(yr==="k256")mr=new Nr;else if(yr==="p224")mr=new Lr;else if(yr==="p192")mr=new jr;else if(yr==="p25519")mr=new Or;else throw new Error("Unknown prime "+yr);return xr[yr]=mr,mr};function Dr(Tr){if(typeof Tr=="string"){var yr=or._prime(Tr);this.m=yr.p,this.prime=yr}else nr(Tr.gtn(1),"modulus must be greater than 1"),this.m=Tr,this.prime=null}Dr.prototype._verify1=function(yr){nr(yr.negative===0,"red works only with positives"),nr(yr.red,"red works only with red numbers")},Dr.prototype._verify2=function(yr,mr){nr((yr.negative|mr.negative)===0,"red works only with positives"),nr(yr.red&&yr.red===mr.red,"red works only with red numbers")},Dr.prototype.imod=function(yr){return this.prime?this.prime.ireduce(yr)._forceRed(this):yr.umod(this.m)._forceRed(this)},Dr.prototype.neg=function(yr){return yr.isZero()?yr.clone():this.m.sub(yr)._forceRed(this)},Dr.prototype.add=function(yr,mr){this._verify2(yr,mr);var hr=yr.add(mr);return hr.cmp(this.m)>=0&&hr.isub(this.m),hr._forceRed(this)},Dr.prototype.iadd=function(yr,mr){this._verify2(yr,mr);var hr=yr.iadd(mr);return hr.cmp(this.m)>=0&&hr.isub(this.m),hr},Dr.prototype.sub=function(yr,mr){this._verify2(yr,mr);var hr=yr.sub(mr);return hr.cmpn(0)<0&&hr.iadd(this.m),hr._forceRed(this)},Dr.prototype.isub=function(yr,mr){this._verify2(yr,mr);var hr=yr.isub(mr);return hr.cmpn(0)<0&&hr.iadd(this.m),hr},Dr.prototype.shl=function(yr,mr){return this._verify1(yr),this.imod(yr.ushln(mr))},Dr.prototype.imul=function(yr,mr){return this._verify2(yr,mr),this.imod(yr.imul(mr))},Dr.prototype.mul=function(yr,mr){return this._verify2(yr,mr),this.imod(yr.mul(mr))},Dr.prototype.isqr=function(yr){return this.imul(yr,yr.clone())},Dr.prototype.sqr=function(yr){return this.mul(yr,yr)},Dr.prototype.sqrt=function(yr){if(yr.isZero())return yr.clone();var mr=this.m.andln(3);if(nr(mr%2===1),mr===3){var hr=this.m.add(new or(1)).iushrn(2);return this.pow(yr,hr)}for(var pr=this.m.subn(1),wr=0;!pr.isZero()&&pr.andln(1)===0;)wr++,pr.iushrn(1);nr(!pr.isZero());var Ar=new or(1).toRed(this),Rr=Ar.redNeg(),Pr=this.m.subn(1).iushrn(1),Sr=this.m.bitLength();for(Sr=new or(2*Sr*Sr).toRed(this);this.pow(Sr,Pr).cmp(Rr)!==0;)Sr.redIAdd(Rr);for(var Mr=this.pow(Sr,pr),Br=this.pow(yr,pr.addn(1).iushrn(1)),Ur=this.pow(yr,pr),Jr=wr;Ur.cmp(Ar)!==0;){for(var qr=Ur,zr=0;qr.cmp(Ar)!==0;zr++)qr=qr.redSqr();nr(zr<Jr);var sn=this.pow(Mr,new or(1).iushln(Jr-zr-1));Br=Br.redMul(sn),Mr=sn.redSqr(),Ur=Ur.redMul(Mr),Jr=zr}return Br},Dr.prototype.invm=function(yr){var mr=yr._invmp(this.m);return mr.negative!==0?(mr.negative=0,this.imod(mr).redNeg()):this.imod(mr)},Dr.prototype.pow=function(yr,mr){if(mr.isZero())return new or(1).toRed(this);if(mr.cmpn(1)===0)return yr.clone();var hr=4,pr=new Array(1<<hr);pr[0]=new or(1).toRed(this),pr[1]=yr;for(var wr=2;wr<pr.length;wr++)pr[wr]=this.mul(pr[wr-1],yr);var Ar=pr[0],Rr=0,Pr=0,Sr=mr.bitLength()%26;for(Sr===0&&(Sr=26),wr=mr.length-1;wr>=0;wr--){for(var Mr=mr.words[wr],Br=Sr-1;Br>=0;Br--){var Ur=Mr>>Br&1;if(Ar!==pr[0]&&(Ar=this.sqr(Ar)),Ur===0&&Rr===0){Pr=0;continue}Rr<<=1,Rr|=Ur,Pr++,!(Pr!==hr&&(wr!==0||Br!==0))&&(Ar=this.mul(Ar,pr[Rr]),Pr=0,Rr=0)}Sr=26}return Ar},Dr.prototype.convertTo=function(yr){var mr=yr.umod(this.m);return mr===yr?mr.clone():mr},Dr.prototype.convertFrom=function(yr){var mr=yr.clone();return mr.red=null,mr},or.mont=function(yr){return new Cr(yr)};function Cr(Tr){Dr.call(this,Tr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new or(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ir(Cr,Dr),Cr.prototype.convertTo=function(yr){return this.imod(yr.ushln(this.shift))},Cr.prototype.convertFrom=function(yr){var mr=this.imod(yr.mul(this.rinv));return mr.red=null,mr},Cr.prototype.imul=function(yr,mr){if(yr.isZero()||mr.isZero())return yr.words[0]=0,yr.length=1,yr;var hr=yr.imul(mr),pr=hr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wr=hr.isub(pr).iushrn(this.shift),Ar=wr;return wr.cmp(this.m)>=0?Ar=wr.isub(this.m):wr.cmpn(0)<0&&(Ar=wr.iadd(this.m)),Ar._forceRed(this)},Cr.prototype.mul=function(yr,mr){if(yr.isZero()||mr.isZero())return new or(0)._forceRed(this);var hr=yr.mul(mr),pr=hr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wr=hr.isub(pr).iushrn(this.shift),Ar=wr;return wr.cmp(this.m)>=0?Ar=wr.isub(this.m):wr.cmpn(0)<0&&(Ar=wr.iadd(this.m)),Ar._forceRed(this)},Cr.prototype.invm=function(yr){var mr=this.imod(yr._invmp(this.m).mul(this.r2));return mr._forceRed(this)}})(tr,commonjsGlobal)})(bn$1);var bnExports$1=bn$1.exports,minimalisticAssert=assert$q;function assert$q(tr,er){if(!tr)throw new Error(er||"Assertion failed")}assert$q.equal=function tr(er,rr,nr){if(er!=rr)throw new Error(nr||"Assertion failed: "+er+" != "+rr)};var utils$t={};(function(tr){var er=tr;function rr(or,sr){if(Array.isArray(or))return or.slice();if(!or)return[];var ar=[];if(typeof or!="string"){for(var cr=0;cr<or.length;cr++)ar[cr]=or[cr]|0;return ar}if(sr==="hex"){or=or.replace(/[^a-z0-9]+/ig,""),or.length%2!==0&&(or="0"+or);for(var cr=0;cr<or.length;cr+=2)ar.push(parseInt(or[cr]+or[cr+1],16))}else for(var cr=0;cr<or.length;cr++){var lr=or.charCodeAt(cr),ur=lr>>8,fr=lr&255;ur?ar.push(ur,fr):ar.push(fr)}return ar}er.toArray=rr;function nr(or){return or.length===1?"0"+or:or}er.zero2=nr;function ir(or){for(var sr="",ar=0;ar<or.length;ar++)sr+=nr(or[ar].toString(16));return sr}er.toHex=ir,er.encode=function(sr,ar){return ar==="hex"?ir(sr):sr}})(utils$t);(function(tr){var er=tr,rr=bnExports$1,nr=minimalisticAssert,ir=utils$t;er.assert=nr,er.toArray=ir.toArray,er.zero2=ir.zero2,er.toHex=ir.toHex,er.encode=ir.encode;function or(ur,fr,dr){var gr=new Array(Math.max(ur.bitLength(),dr)+1),br;for(br=0;br<gr.length;br+=1)gr[br]=0;var vr=1<<fr+1,$r=ur.clone();for(br=0;br<gr.length;br++){var Er,_r=$r.andln(vr-1);$r.isOdd()?(_r>(vr>>1)-1?Er=(vr>>1)-_r:Er=_r,$r.isubn(Er)):Er=0,gr[br]=Er,$r.iushrn(1)}return gr}er.getNAF=or;function sr(ur,fr){var dr=[[],[]];ur=ur.clone(),fr=fr.clone();for(var gr=0,br=0,vr;ur.cmpn(-gr)>0||fr.cmpn(-br)>0;){var $r=ur.andln(3)+gr&3,Er=fr.andln(3)+br&3;$r===3&&($r=-1),Er===3&&(Er=-1);var _r;$r&1?(vr=ur.andln(7)+gr&7,(vr===3||vr===5)&&Er===2?_r=-$r:_r=$r):_r=0,dr[0].push(_r);var xr;Er&1?(vr=fr.andln(7)+br&7,(vr===3||vr===5)&&$r===2?xr=-Er:xr=Er):xr=0,dr[1].push(xr),2*gr===_r+1&&(gr=1-gr),2*br===xr+1&&(br=1-br),ur.iushrn(1),fr.iushrn(1)}return dr}er.getJSF=sr;function ar(ur,fr,dr){var gr="_"+fr;ur.prototype[fr]=function(){return this[gr]!==void 0?this[gr]:this[gr]=dr.call(this)}}er.cachedProperty=ar;function cr(ur){return typeof ur=="string"?er.toArray(ur,"hex"):ur}er.parseBytes=cr;function lr(ur){return new rr(ur,"hex","le")}er.intFromLE=lr})(utils$u);var brorand={exports:{}},r$4;brorand.exports=function tr(er){return r$4||(r$4=new Rand(null)),r$4.generate(er)};function Rand(tr){this.rand=tr}brorand.exports.Rand=Rand;Rand.prototype.generate=function tr(er){return this._rand(er)};Rand.prototype._rand=function tr(er){if(this.rand.getBytes)return this.rand.getBytes(er);for(var rr=new Uint8Array(er),nr=0;nr<rr.length;nr++)rr[nr]=this.rand.getByte();return rr};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(er){var rr=new Uint8Array(er);return self.crypto.getRandomValues(rr),rr}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(er){var rr=new Uint8Array(er);return self.msCrypto.getRandomValues(rr),rr}:typeof window=="object"&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$3=requireEmptyModule();if(typeof crypto$3.randomBytes!="function")throw new Error("Not supported");Rand.prototype._rand=function(er){return crypto$3.randomBytes(er)}}catch{}var brorandExports=brorand.exports,curve={},BN$8=bnExports$1,utils$s=utils$u,getNAF=utils$s.getNAF,getJSF=utils$s.getJSF,assert$p=utils$s.assert;function BaseCurve(tr,er){this.type=tr,this.p=new BN$8(er.p,16),this.red=er.prime?BN$8.red(er.prime):BN$8.mont(this.p),this.zero=new BN$8(0).toRed(this.red),this.one=new BN$8(1).toRed(this.red),this.two=new BN$8(2).toRed(this.red),this.n=er.n&&new BN$8(er.n,16),this.g=er.g&&this.pointFromJSON(er.g,er.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var rr=this.n&&this.p.div(this.n);!rr||rr.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base=BaseCurve;BaseCurve.prototype.point=function tr(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function tr(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function tr(er,rr){assert$p(er.precomputed);var nr=er._getDoubles(),ir=getNAF(rr,1,this._bitLength),or=(1<<nr.step+1)-(nr.step%2===0?2:1);or/=3;var sr=[],ar,cr;for(ar=0;ar<ir.length;ar+=nr.step){cr=0;for(var lr=ar+nr.step-1;lr>=ar;lr--)cr=(cr<<1)+ir[lr];sr.push(cr)}for(var ur=this.jpoint(null,null,null),fr=this.jpoint(null,null,null),dr=or;dr>0;dr--){for(ar=0;ar<sr.length;ar++)cr=sr[ar],cr===dr?fr=fr.mixedAdd(nr.points[ar]):cr===-dr&&(fr=fr.mixedAdd(nr.points[ar].neg()));ur=ur.add(fr)}return ur.toP()};BaseCurve.prototype._wnafMul=function tr(er,rr){var nr=4,ir=er._getNAFPoints(nr);nr=ir.wnd;for(var or=ir.points,sr=getNAF(rr,nr,this._bitLength),ar=this.jpoint(null,null,null),cr=sr.length-1;cr>=0;cr--){for(var lr=0;cr>=0&&sr[cr]===0;cr--)lr++;if(cr>=0&&lr++,ar=ar.dblp(lr),cr<0)break;var ur=sr[cr];assert$p(ur!==0),er.type==="affine"?ur>0?ar=ar.mixedAdd(or[ur-1>>1]):ar=ar.mixedAdd(or[-ur-1>>1].neg()):ur>0?ar=ar.add(or[ur-1>>1]):ar=ar.add(or[-ur-1>>1].neg())}return er.type==="affine"?ar.toP():ar};BaseCurve.prototype._wnafMulAdd=function tr(er,rr,nr,ir,or){var sr=this._wnafT1,ar=this._wnafT2,cr=this._wnafT3,lr=0,ur,fr,dr;for(ur=0;ur<ir;ur++){dr=rr[ur];var gr=dr._getNAFPoints(er);sr[ur]=gr.wnd,ar[ur]=gr.points}for(ur=ir-1;ur>=1;ur-=2){var br=ur-1,vr=ur;if(sr[br]!==1||sr[vr]!==1){cr[br]=getNAF(nr[br],sr[br],this._bitLength),cr[vr]=getNAF(nr[vr],sr[vr],this._bitLength),lr=Math.max(cr[br].length,lr),lr=Math.max(cr[vr].length,lr);continue}var $r=[rr[br],null,null,rr[vr]];rr[br].y.cmp(rr[vr].y)===0?($r[1]=rr[br].add(rr[vr]),$r[2]=rr[br].toJ().mixedAdd(rr[vr].neg())):rr[br].y.cmp(rr[vr].y.redNeg())===0?($r[1]=rr[br].toJ().mixedAdd(rr[vr]),$r[2]=rr[br].add(rr[vr].neg())):($r[1]=rr[br].toJ().mixedAdd(rr[vr]),$r[2]=rr[br].toJ().mixedAdd(rr[vr].neg()));var Er=[-3,-1,-5,-7,0,7,5,1,3],_r=getJSF(nr[br],nr[vr]);for(lr=Math.max(_r[0].length,lr),cr[br]=new Array(lr),cr[vr]=new Array(lr),fr=0;fr<lr;fr++){var xr=_r[0][fr]|0,Ir=_r[1][fr]|0;cr[br][fr]=Er[(xr+1)*3+(Ir+1)],cr[vr][fr]=0,ar[br]=$r}}var Nr=this.jpoint(null,null,null),Lr=this._wnafT4;for(ur=lr;ur>=0;ur--){for(var jr=0;ur>=0;){var Or=!0;for(fr=0;fr<ir;fr++)Lr[fr]=cr[fr][ur]|0,Lr[fr]!==0&&(Or=!1);if(!Or)break;jr++,ur--}if(ur>=0&&jr++,Nr=Nr.dblp(jr),ur<0)break;for(fr=0;fr<ir;fr++){var Dr=Lr[fr];Dr!==0&&(Dr>0?dr=ar[fr][Dr-1>>1]:Dr<0&&(dr=ar[fr][-Dr-1>>1].neg()),dr.type==="affine"?Nr=Nr.mixedAdd(dr):Nr=Nr.add(dr))}}for(ur=0;ur<ir;ur++)ar[ur]=null;return or?Nr:Nr.toP()};function BasePoint(tr,er){this.curve=tr,this.type=er,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function tr(){throw new Error("Not implemented")};BasePoint.prototype.validate=function tr(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function tr(er,rr){er=utils$s.toArray(er,rr);var nr=this.p.byteLength();if((er[0]===4||er[0]===6||er[0]===7)&&er.length-1===2*nr){er[0]===6?assert$p(er[er.length-1]%2===0):er[0]===7&&assert$p(er[er.length-1]%2===1);var ir=this.point(er.slice(1,1+nr),er.slice(1+nr,1+2*nr));return ir}else if((er[0]===2||er[0]===3)&&er.length-1===nr)return this.pointFromX(er.slice(1,1+nr),er[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function tr(er){return this.encode(er,!0)};BasePoint.prototype._encode=function tr(er){var rr=this.curve.p.byteLength(),nr=this.getX().toArray("be",rr);return er?[this.getY().isEven()?2:3].concat(nr):[4].concat(nr,this.getY().toArray("be",rr))};BasePoint.prototype.encode=function tr(er,rr){return utils$s.encode(this._encode(rr),er)};BasePoint.prototype.precompute=function tr(er){if(this.precomputed)return this;var rr={doubles:null,naf:null,beta:null};return rr.naf=this._getNAFPoints(8),rr.doubles=this._getDoubles(4,er),rr.beta=this._getBeta(),this.precomputed=rr,this};BasePoint.prototype._hasDoubles=function tr(er){if(!this.precomputed)return!1;var rr=this.precomputed.doubles;return rr?rr.points.length>=Math.ceil((er.bitLength()+1)/rr.step):!1};BasePoint.prototype._getDoubles=function tr(er,rr){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var nr=[this],ir=this,or=0;or<rr;or+=er){for(var sr=0;sr<er;sr++)ir=ir.dbl();nr.push(ir)}return{step:er,points:nr}};BasePoint.prototype._getNAFPoints=function tr(er){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var rr=[this],nr=(1<<er)-1,ir=nr===1?null:this.dbl(),or=1;or<nr;or++)rr[or]=rr[or-1].add(ir);return{wnd:er,points:rr}};BasePoint.prototype._getBeta=function tr(){return null};BasePoint.prototype.dblp=function tr(er){for(var rr=this,nr=0;nr<er;nr++)rr=rr.dbl();return rr};var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(er,rr){rr&&(er.super_=rr,er.prototype=Object.create(rr.prototype,{constructor:{value:er,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(er,rr){if(rr){er.super_=rr;var nr=function(){};nr.prototype=rr.prototype,er.prototype=new nr,er.prototype.constructor=er}};var inherits_browserExports=inherits_browser.exports,utils$r=utils$u,BN$7=bnExports$1,inherits$9=inherits_browserExports,Base$2=base,assert$o=utils$r.assert;function ShortCurve(tr){Base$2.call(this,"short",tr),this.a=new BN$7(tr.a,16).toRed(this.red),this.b=new BN$7(tr.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(tr),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$9(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function tr(er){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var rr,nr;if(er.beta)rr=new BN$7(er.beta,16).toRed(this.red);else{var ir=this._getEndoRoots(this.p);rr=ir[0].cmp(ir[1])<0?ir[0]:ir[1],rr=rr.toRed(this.red)}if(er.lambda)nr=new BN$7(er.lambda,16);else{var or=this._getEndoRoots(this.n);this.g.mul(or[0]).x.cmp(this.g.x.redMul(rr))===0?nr=or[0]:(nr=or[1],assert$o(this.g.mul(nr).x.cmp(this.g.x.redMul(rr))===0))}var sr;return er.basis?sr=er.basis.map(function(ar){return{a:new BN$7(ar.a,16),b:new BN$7(ar.b,16)}}):sr=this._getEndoBasis(nr),{beta:rr,lambda:nr,basis:sr}}};ShortCurve.prototype._getEndoRoots=function tr(er){var rr=er===this.p?this.red:BN$7.mont(er),nr=new BN$7(2).toRed(rr).redInvm(),ir=nr.redNeg(),or=new BN$7(3).toRed(rr).redNeg().redSqrt().redMul(nr),sr=ir.redAdd(or).fromRed(),ar=ir.redSub(or).fromRed();return[sr,ar]};ShortCurve.prototype._getEndoBasis=function tr(er){for(var rr=this.n.ushrn(Math.floor(this.n.bitLength()/2)),nr=er,ir=this.n.clone(),or=new BN$7(1),sr=new BN$7(0),ar=new BN$7(0),cr=new BN$7(1),lr,ur,fr,dr,gr,br,vr,$r=0,Er,_r;nr.cmpn(0)!==0;){var xr=ir.div(nr);Er=ir.sub(xr.mul(nr)),_r=ar.sub(xr.mul(or));var Ir=cr.sub(xr.mul(sr));if(!fr&&Er.cmp(rr)<0)lr=vr.neg(),ur=or,fr=Er.neg(),dr=_r;else if(fr&&++$r===2)break;vr=Er,ir=nr,nr=Er,ar=or,or=_r,cr=sr,sr=Ir}gr=Er.neg(),br=_r;var Nr=fr.sqr().add(dr.sqr()),Lr=gr.sqr().add(br.sqr());return Lr.cmp(Nr)>=0&&(gr=lr,br=ur),fr.negative&&(fr=fr.neg(),dr=dr.neg()),gr.negative&&(gr=gr.neg(),br=br.neg()),[{a:fr,b:dr},{a:gr,b:br}]};ShortCurve.prototype._endoSplit=function tr(er){var rr=this.endo.basis,nr=rr[0],ir=rr[1],or=ir.b.mul(er).divRound(this.n),sr=nr.b.neg().mul(er).divRound(this.n),ar=or.mul(nr.a),cr=sr.mul(ir.a),lr=or.mul(nr.b),ur=sr.mul(ir.b),fr=er.sub(ar).sub(cr),dr=lr.add(ur).neg();return{k1:fr,k2:dr}};ShortCurve.prototype.pointFromX=function tr(er,rr){er=new BN$7(er,16),er.red||(er=er.toRed(this.red));var nr=er.redSqr().redMul(er).redIAdd(er.redMul(this.a)).redIAdd(this.b),ir=nr.redSqrt();if(ir.redSqr().redSub(nr).cmp(this.zero)!==0)throw new Error("invalid point");var or=ir.fromRed().isOdd();return(rr&&!or||!rr&&or)&&(ir=ir.redNeg()),this.point(er,ir)};ShortCurve.prototype.validate=function tr(er){if(er.inf)return!0;var rr=er.x,nr=er.y,ir=this.a.redMul(rr),or=rr.redSqr().redMul(rr).redIAdd(ir).redIAdd(this.b);return nr.redSqr().redISub(or).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function tr(er,rr,nr){for(var ir=this._endoWnafT1,or=this._endoWnafT2,sr=0;sr<er.length;sr++){var ar=this._endoSplit(rr[sr]),cr=er[sr],lr=cr._getBeta();ar.k1.negative&&(ar.k1.ineg(),cr=cr.neg(!0)),ar.k2.negative&&(ar.k2.ineg(),lr=lr.neg(!0)),ir[sr*2]=cr,ir[sr*2+1]=lr,or[sr*2]=ar.k1,or[sr*2+1]=ar.k2}for(var ur=this._wnafMulAdd(1,ir,or,sr*2,nr),fr=0;fr<sr*2;fr++)ir[fr]=null,or[fr]=null;return ur};function Point$3(tr,er,rr,nr){Base$2.BasePoint.call(this,tr,"affine"),er===null&&rr===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$7(er,16),this.y=new BN$7(rr,16),nr&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$9(Point$3,Base$2.BasePoint);ShortCurve.prototype.point=function tr(er,rr,nr){return new Point$3(this,er,rr,nr)};ShortCurve.prototype.pointFromJSON=function tr(er,rr){return Point$3.fromJSON(this,er,rr)};Point$3.prototype._getBeta=function tr(){if(this.curve.endo){var er=this.precomputed;if(er&&er.beta)return er.beta;var rr=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(er){var nr=this.curve,ir=function(or){return nr.point(or.x.redMul(nr.endo.beta),or.y)};er.beta=rr,rr.precomputed={beta:null,naf:er.naf&&{wnd:er.naf.wnd,points:er.naf.points.map(ir)},doubles:er.doubles&&{step:er.doubles.step,points:er.doubles.points.map(ir)}}}return rr}};Point$3.prototype.toJSON=function tr(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$3.fromJSON=function tr(er,rr,nr){typeof rr=="string"&&(rr=JSON.parse(rr));var ir=er.point(rr[0],rr[1],nr);if(!rr[2])return ir;function or(ar){return er.point(ar[0],ar[1],nr)}var sr=rr[2];return ir.precomputed={beta:null,doubles:sr.doubles&&{step:sr.doubles.step,points:[ir].concat(sr.doubles.points.map(or))},naf:sr.naf&&{wnd:sr.naf.wnd,points:[ir].concat(sr.naf.points.map(or))}},ir};Point$3.prototype.inspect=function tr(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$3.prototype.isInfinity=function tr(){return this.inf};Point$3.prototype.add=function tr(er){if(this.inf)return er;if(er.inf)return this;if(this.eq(er))return this.dbl();if(this.neg().eq(er))return this.curve.point(null,null);if(this.x.cmp(er.x)===0)return this.curve.point(null,null);var rr=this.y.redSub(er.y);rr.cmpn(0)!==0&&(rr=rr.redMul(this.x.redSub(er.x).redInvm()));var nr=rr.redSqr().redISub(this.x).redISub(er.x),ir=rr.redMul(this.x.redSub(nr)).redISub(this.y);return this.curve.point(nr,ir)};Point$3.prototype.dbl=function tr(){if(this.inf)return this;var er=this.y.redAdd(this.y);if(er.cmpn(0)===0)return this.curve.point(null,null);var rr=this.curve.a,nr=this.x.redSqr(),ir=er.redInvm(),or=nr.redAdd(nr).redIAdd(nr).redIAdd(rr).redMul(ir),sr=or.redSqr().redISub(this.x.redAdd(this.x)),ar=or.redMul(this.x.redSub(sr)).redISub(this.y);return this.curve.point(sr,ar)};Point$3.prototype.getX=function tr(){return this.x.fromRed()};Point$3.prototype.getY=function tr(){return this.y.fromRed()};Point$3.prototype.mul=function tr(er){return er=new BN$7(er,16),this.isInfinity()?this:this._hasDoubles(er)?this.curve._fixedNafMul(this,er):this.curve.endo?this.curve._endoWnafMulAdd([this],[er]):this.curve._wnafMul(this,er)};Point$3.prototype.mulAdd=function tr(er,rr,nr){var ir=[this,rr],or=[er,nr];return this.curve.endo?this.curve._endoWnafMulAdd(ir,or):this.curve._wnafMulAdd(1,ir,or,2)};Point$3.prototype.jmulAdd=function tr(er,rr,nr){var ir=[this,rr],or=[er,nr];return this.curve.endo?this.curve._endoWnafMulAdd(ir,or,!0):this.curve._wnafMulAdd(1,ir,or,2,!0)};Point$3.prototype.eq=function tr(er){return this===er||this.inf===er.inf&&(this.inf||this.x.cmp(er.x)===0&&this.y.cmp(er.y)===0)};Point$3.prototype.neg=function tr(er){if(this.inf)return this;var rr=this.curve.point(this.x,this.y.redNeg());if(er&&this.precomputed){var nr=this.precomputed,ir=function(or){return or.neg()};rr.precomputed={naf:nr.naf&&{wnd:nr.naf.wnd,points:nr.naf.points.map(ir)},doubles:nr.doubles&&{step:nr.doubles.step,points:nr.doubles.points.map(ir)}}}return rr};Point$3.prototype.toJ=function tr(){if(this.inf)return this.curve.jpoint(null,null,null);var er=this.curve.jpoint(this.x,this.y,this.curve.one);return er};function JPoint(tr,er,rr,nr){Base$2.BasePoint.call(this,tr,"jacobian"),er===null&&rr===null&&nr===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$7(0)):(this.x=new BN$7(er,16),this.y=new BN$7(rr,16),this.z=new BN$7(nr,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$9(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function tr(er,rr,nr){return new JPoint(this,er,rr,nr)};JPoint.prototype.toP=function tr(){if(this.isInfinity())return this.curve.point(null,null);var er=this.z.redInvm(),rr=er.redSqr(),nr=this.x.redMul(rr),ir=this.y.redMul(rr).redMul(er);return this.curve.point(nr,ir)};JPoint.prototype.neg=function tr(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function tr(er){if(this.isInfinity())return er;if(er.isInfinity())return this;var rr=er.z.redSqr(),nr=this.z.redSqr(),ir=this.x.redMul(rr),or=er.x.redMul(nr),sr=this.y.redMul(rr.redMul(er.z)),ar=er.y.redMul(nr.redMul(this.z)),cr=ir.redSub(or),lr=sr.redSub(ar);if(cr.cmpn(0)===0)return lr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ur=cr.redSqr(),fr=ur.redMul(cr),dr=ir.redMul(ur),gr=lr.redSqr().redIAdd(fr).redISub(dr).redISub(dr),br=lr.redMul(dr.redISub(gr)).redISub(sr.redMul(fr)),vr=this.z.redMul(er.z).redMul(cr);return this.curve.jpoint(gr,br,vr)};JPoint.prototype.mixedAdd=function tr(er){if(this.isInfinity())return er.toJ();if(er.isInfinity())return this;var rr=this.z.redSqr(),nr=this.x,ir=er.x.redMul(rr),or=this.y,sr=er.y.redMul(rr).redMul(this.z),ar=nr.redSub(ir),cr=or.redSub(sr);if(ar.cmpn(0)===0)return cr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var lr=ar.redSqr(),ur=lr.redMul(ar),fr=nr.redMul(lr),dr=cr.redSqr().redIAdd(ur).redISub(fr).redISub(fr),gr=cr.redMul(fr.redISub(dr)).redISub(or.redMul(ur)),br=this.z.redMul(ar);return this.curve.jpoint(dr,gr,br)};JPoint.prototype.dblp=function tr(er){if(er===0)return this;if(this.isInfinity())return this;if(!er)return this.dbl();var rr;if(this.curve.zeroA||this.curve.threeA){var nr=this;for(rr=0;rr<er;rr++)nr=nr.dbl();return nr}var ir=this.curve.a,or=this.curve.tinv,sr=this.x,ar=this.y,cr=this.z,lr=cr.redSqr().redSqr(),ur=ar.redAdd(ar);for(rr=0;rr<er;rr++){var fr=sr.redSqr(),dr=ur.redSqr(),gr=dr.redSqr(),br=fr.redAdd(fr).redIAdd(fr).redIAdd(ir.redMul(lr)),vr=sr.redMul(dr),$r=br.redSqr().redISub(vr.redAdd(vr)),Er=vr.redISub($r),_r=br.redMul(Er);_r=_r.redIAdd(_r).redISub(gr);var xr=ur.redMul(cr);rr+1<er&&(lr=lr.redMul(gr)),sr=$r,cr=xr,ur=_r}return this.curve.jpoint(sr,ur.redMul(or),cr)};JPoint.prototype.dbl=function tr(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function tr(){var er,rr,nr;if(this.zOne){var ir=this.x.redSqr(),or=this.y.redSqr(),sr=or.redSqr(),ar=this.x.redAdd(or).redSqr().redISub(ir).redISub(sr);ar=ar.redIAdd(ar);var cr=ir.redAdd(ir).redIAdd(ir),lr=cr.redSqr().redISub(ar).redISub(ar),ur=sr.redIAdd(sr);ur=ur.redIAdd(ur),ur=ur.redIAdd(ur),er=lr,rr=cr.redMul(ar.redISub(lr)).redISub(ur),nr=this.y.redAdd(this.y)}else{var fr=this.x.redSqr(),dr=this.y.redSqr(),gr=dr.redSqr(),br=this.x.redAdd(dr).redSqr().redISub(fr).redISub(gr);br=br.redIAdd(br);var vr=fr.redAdd(fr).redIAdd(fr),$r=vr.redSqr(),Er=gr.redIAdd(gr);Er=Er.redIAdd(Er),Er=Er.redIAdd(Er),er=$r.redISub(br).redISub(br),rr=vr.redMul(br.redISub(er)).redISub(Er),nr=this.y.redMul(this.z),nr=nr.redIAdd(nr)}return this.curve.jpoint(er,rr,nr)};JPoint.prototype._threeDbl=function tr(){var er,rr,nr;if(this.zOne){var ir=this.x.redSqr(),or=this.y.redSqr(),sr=or.redSqr(),ar=this.x.redAdd(or).redSqr().redISub(ir).redISub(sr);ar=ar.redIAdd(ar);var cr=ir.redAdd(ir).redIAdd(ir).redIAdd(this.curve.a),lr=cr.redSqr().redISub(ar).redISub(ar);er=lr;var ur=sr.redIAdd(sr);ur=ur.redIAdd(ur),ur=ur.redIAdd(ur),rr=cr.redMul(ar.redISub(lr)).redISub(ur),nr=this.y.redAdd(this.y)}else{var fr=this.z.redSqr(),dr=this.y.redSqr(),gr=this.x.redMul(dr),br=this.x.redSub(fr).redMul(this.x.redAdd(fr));br=br.redAdd(br).redIAdd(br);var vr=gr.redIAdd(gr);vr=vr.redIAdd(vr);var $r=vr.redAdd(vr);er=br.redSqr().redISub($r),nr=this.y.redAdd(this.z).redSqr().redISub(dr).redISub(fr);var Er=dr.redSqr();Er=Er.redIAdd(Er),Er=Er.redIAdd(Er),Er=Er.redIAdd(Er),rr=br.redMul(vr.redISub(er)).redISub(Er)}return this.curve.jpoint(er,rr,nr)};JPoint.prototype._dbl=function tr(){var er=this.curve.a,rr=this.x,nr=this.y,ir=this.z,or=ir.redSqr().redSqr(),sr=rr.redSqr(),ar=nr.redSqr(),cr=sr.redAdd(sr).redIAdd(sr).redIAdd(er.redMul(or)),lr=rr.redAdd(rr);lr=lr.redIAdd(lr);var ur=lr.redMul(ar),fr=cr.redSqr().redISub(ur.redAdd(ur)),dr=ur.redISub(fr),gr=ar.redSqr();gr=gr.redIAdd(gr),gr=gr.redIAdd(gr),gr=gr.redIAdd(gr);var br=cr.redMul(dr).redISub(gr),vr=nr.redAdd(nr).redMul(ir);return this.curve.jpoint(fr,br,vr)};JPoint.prototype.trpl=function tr(){if(!this.curve.zeroA)return this.dbl().add(this);var er=this.x.redSqr(),rr=this.y.redSqr(),nr=this.z.redSqr(),ir=rr.redSqr(),or=er.redAdd(er).redIAdd(er),sr=or.redSqr(),ar=this.x.redAdd(rr).redSqr().redISub(er).redISub(ir);ar=ar.redIAdd(ar),ar=ar.redAdd(ar).redIAdd(ar),ar=ar.redISub(sr);var cr=ar.redSqr(),lr=ir.redIAdd(ir);lr=lr.redIAdd(lr),lr=lr.redIAdd(lr),lr=lr.redIAdd(lr);var ur=or.redIAdd(ar).redSqr().redISub(sr).redISub(cr).redISub(lr),fr=rr.redMul(ur);fr=fr.redIAdd(fr),fr=fr.redIAdd(fr);var dr=this.x.redMul(cr).redISub(fr);dr=dr.redIAdd(dr),dr=dr.redIAdd(dr);var gr=this.y.redMul(ur.redMul(lr.redISub(ur)).redISub(ar.redMul(cr)));gr=gr.redIAdd(gr),gr=gr.redIAdd(gr),gr=gr.redIAdd(gr);var br=this.z.redAdd(ar).redSqr().redISub(nr).redISub(cr);return this.curve.jpoint(dr,gr,br)};JPoint.prototype.mul=function tr(er,rr){return er=new BN$7(er,rr),this.curve._wnafMul(this,er)};JPoint.prototype.eq=function tr(er){if(er.type==="affine")return this.eq(er.toJ());if(this===er)return!0;var rr=this.z.redSqr(),nr=er.z.redSqr();if(this.x.redMul(nr).redISub(er.x.redMul(rr)).cmpn(0)!==0)return!1;var ir=rr.redMul(this.z),or=nr.redMul(er.z);return this.y.redMul(or).redISub(er.y.redMul(ir)).cmpn(0)===0};JPoint.prototype.eqXToP=function tr(er){var rr=this.z.redSqr(),nr=er.toRed(this.curve.red).redMul(rr);if(this.x.cmp(nr)===0)return!0;for(var ir=er.clone(),or=this.curve.redN.redMul(rr);;){if(ir.iadd(this.curve.n),ir.cmp(this.curve.p)>=0)return!1;if(nr.redIAdd(or),this.x.cmp(nr)===0)return!0}};JPoint.prototype.inspect=function tr(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function tr(){return this.z.cmpn(0)===0};var BN$6=bnExports$1,inherits$8=inherits_browserExports,Base$1=base,utils$q=utils$u;function MontCurve(tr){Base$1.call(this,"mont",tr),this.a=new BN$6(tr.a,16).toRed(this.red),this.b=new BN$6(tr.b,16).toRed(this.red),this.i4=new BN$6(4).toRed(this.red).redInvm(),this.two=new BN$6(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$8(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function tr(er){var rr=er.normalize().x,nr=rr.redSqr(),ir=nr.redMul(rr).redAdd(nr.redMul(this.a)).redAdd(rr),or=ir.redSqrt();return or.redSqr().cmp(ir)===0};function Point$2(tr,er,rr){Base$1.BasePoint.call(this,tr,"projective"),er===null&&rr===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$6(er,16),this.z=new BN$6(rr,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$8(Point$2,Base$1.BasePoint);MontCurve.prototype.decodePoint=function tr(er,rr){return this.point(utils$q.toArray(er,rr),1)};MontCurve.prototype.point=function tr(er,rr){return new Point$2(this,er,rr)};MontCurve.prototype.pointFromJSON=function tr(er){return Point$2.fromJSON(this,er)};Point$2.prototype.precompute=function tr(){};Point$2.prototype._encode=function tr(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$2.fromJSON=function tr(er,rr){return new Point$2(er,rr[0],rr[1]||er.one)};Point$2.prototype.inspect=function tr(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function tr(){return this.z.cmpn(0)===0};Point$2.prototype.dbl=function tr(){var er=this.x.redAdd(this.z),rr=er.redSqr(),nr=this.x.redSub(this.z),ir=nr.redSqr(),or=rr.redSub(ir),sr=rr.redMul(ir),ar=or.redMul(ir.redAdd(this.curve.a24.redMul(or)));return this.curve.point(sr,ar)};Point$2.prototype.add=function tr(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.diffAdd=function tr(er,rr){var nr=this.x.redAdd(this.z),ir=this.x.redSub(this.z),or=er.x.redAdd(er.z),sr=er.x.redSub(er.z),ar=sr.redMul(nr),cr=or.redMul(ir),lr=rr.z.redMul(ar.redAdd(cr).redSqr()),ur=rr.x.redMul(ar.redISub(cr).redSqr());return this.curve.point(lr,ur)};Point$2.prototype.mul=function tr(er){for(var rr=er.clone(),nr=this,ir=this.curve.point(null,null),or=this,sr=[];rr.cmpn(0)!==0;rr.iushrn(1))sr.push(rr.andln(1));for(var ar=sr.length-1;ar>=0;ar--)sr[ar]===0?(nr=nr.diffAdd(ir,or),ir=ir.dbl()):(ir=nr.diffAdd(ir,or),nr=nr.dbl());return ir};Point$2.prototype.mulAdd=function tr(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.jumlAdd=function tr(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.eq=function tr(er){return this.getX().cmp(er.getX())===0};Point$2.prototype.normalize=function tr(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$2.prototype.getX=function tr(){return this.normalize(),this.x.fromRed()};var utils$p=utils$u,BN$5=bnExports$1,inherits$7=inherits_browserExports,Base=base,assert$n=utils$p.assert;function EdwardsCurve(tr){this.twisted=(tr.a|0)!==1,this.mOneA=this.twisted&&(tr.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",tr),this.a=new BN$5(tr.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$5(tr.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$5(tr.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$n(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(tr.c|0)===1}inherits$7(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function tr(er){return this.mOneA?er.redNeg():this.a.redMul(er)};EdwardsCurve.prototype._mulC=function tr(er){return this.oneC?er:this.c.redMul(er)};EdwardsCurve.prototype.jpoint=function tr(er,rr,nr,ir){return this.point(er,rr,nr,ir)};EdwardsCurve.prototype.pointFromX=function tr(er,rr){er=new BN$5(er,16),er.red||(er=er.toRed(this.red));var nr=er.redSqr(),ir=this.c2.redSub(this.a.redMul(nr)),or=this.one.redSub(this.c2.redMul(this.d).redMul(nr)),sr=ir.redMul(or.redInvm()),ar=sr.redSqrt();if(ar.redSqr().redSub(sr).cmp(this.zero)!==0)throw new Error("invalid point");var cr=ar.fromRed().isOdd();return(rr&&!cr||!rr&&cr)&&(ar=ar.redNeg()),this.point(er,ar)};EdwardsCurve.prototype.pointFromY=function tr(er,rr){er=new BN$5(er,16),er.red||(er=er.toRed(this.red));var nr=er.redSqr(),ir=nr.redSub(this.c2),or=nr.redMul(this.d).redMul(this.c2).redSub(this.a),sr=ir.redMul(or.redInvm());if(sr.cmp(this.zero)===0){if(rr)throw new Error("invalid point");return this.point(this.zero,er)}var ar=sr.redSqrt();if(ar.redSqr().redSub(sr).cmp(this.zero)!==0)throw new Error("invalid point");return ar.fromRed().isOdd()!==rr&&(ar=ar.redNeg()),this.point(ar,er)};EdwardsCurve.prototype.validate=function tr(er){if(er.isInfinity())return!0;er.normalize();var rr=er.x.redSqr(),nr=er.y.redSqr(),ir=rr.redMul(this.a).redAdd(nr),or=this.c2.redMul(this.one.redAdd(this.d.redMul(rr).redMul(nr)));return ir.cmp(or)===0};function Point$1(tr,er,rr,nr,ir){Base.BasePoint.call(this,tr,"projective"),er===null&&rr===null&&nr===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$5(er,16),this.y=new BN$5(rr,16),this.z=nr?new BN$5(nr,16):this.curve.one,this.t=ir&&new BN$5(ir,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$7(Point$1,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function tr(er){return Point$1.fromJSON(this,er)};EdwardsCurve.prototype.point=function tr(er,rr,nr,ir){return new Point$1(this,er,rr,nr,ir)};Point$1.fromJSON=function tr(er,rr){return new Point$1(er,rr[0],rr[1],rr[2])};Point$1.prototype.inspect=function tr(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function tr(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point$1.prototype._extDbl=function tr(){var er=this.x.redSqr(),rr=this.y.redSqr(),nr=this.z.redSqr();nr=nr.redIAdd(nr);var ir=this.curve._mulA(er),or=this.x.redAdd(this.y).redSqr().redISub(er).redISub(rr),sr=ir.redAdd(rr),ar=sr.redSub(nr),cr=ir.redSub(rr),lr=or.redMul(ar),ur=sr.redMul(cr),fr=or.redMul(cr),dr=ar.redMul(sr);return this.curve.point(lr,ur,dr,fr)};Point$1.prototype._projDbl=function tr(){var er=this.x.redAdd(this.y).redSqr(),rr=this.x.redSqr(),nr=this.y.redSqr(),ir,or,sr,ar,cr,lr;if(this.curve.twisted){ar=this.curve._mulA(rr);var ur=ar.redAdd(nr);this.zOne?(ir=er.redSub(rr).redSub(nr).redMul(ur.redSub(this.curve.two)),or=ur.redMul(ar.redSub(nr)),sr=ur.redSqr().redSub(ur).redSub(ur)):(cr=this.z.redSqr(),lr=ur.redSub(cr).redISub(cr),ir=er.redSub(rr).redISub(nr).redMul(lr),or=ur.redMul(ar.redSub(nr)),sr=ur.redMul(lr))}else ar=rr.redAdd(nr),cr=this.curve._mulC(this.z).redSqr(),lr=ar.redSub(cr).redSub(cr),ir=this.curve._mulC(er.redISub(ar)).redMul(lr),or=this.curve._mulC(ar).redMul(rr.redISub(nr)),sr=ar.redMul(lr);return this.curve.point(ir,or,sr)};Point$1.prototype.dbl=function tr(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point$1.prototype._extAdd=function tr(er){var rr=this.y.redSub(this.x).redMul(er.y.redSub(er.x)),nr=this.y.redAdd(this.x).redMul(er.y.redAdd(er.x)),ir=this.t.redMul(this.curve.dd).redMul(er.t),or=this.z.redMul(er.z.redAdd(er.z)),sr=nr.redSub(rr),ar=or.redSub(ir),cr=or.redAdd(ir),lr=nr.redAdd(rr),ur=sr.redMul(ar),fr=cr.redMul(lr),dr=sr.redMul(lr),gr=ar.redMul(cr);return this.curve.point(ur,fr,gr,dr)};Point$1.prototype._projAdd=function tr(er){var rr=this.z.redMul(er.z),nr=rr.redSqr(),ir=this.x.redMul(er.x),or=this.y.redMul(er.y),sr=this.curve.d.redMul(ir).redMul(or),ar=nr.redSub(sr),cr=nr.redAdd(sr),lr=this.x.redAdd(this.y).redMul(er.x.redAdd(er.y)).redISub(ir).redISub(or),ur=rr.redMul(ar).redMul(lr),fr,dr;return this.curve.twisted?(fr=rr.redMul(cr).redMul(or.redSub(this.curve._mulA(ir))),dr=ar.redMul(cr)):(fr=rr.redMul(cr).redMul(or.redSub(ir)),dr=this.curve._mulC(ar).redMul(cr)),this.curve.point(ur,fr,dr)};Point$1.prototype.add=function tr(er){return this.isInfinity()?er:er.isInfinity()?this:this.curve.extended?this._extAdd(er):this._projAdd(er)};Point$1.prototype.mul=function tr(er){return this._hasDoubles(er)?this.curve._fixedNafMul(this,er):this.curve._wnafMul(this,er)};Point$1.prototype.mulAdd=function tr(er,rr,nr){return this.curve._wnafMulAdd(1,[this,rr],[er,nr],2,!1)};Point$1.prototype.jmulAdd=function tr(er,rr,nr){return this.curve._wnafMulAdd(1,[this,rr],[er,nr],2,!0)};Point$1.prototype.normalize=function tr(){if(this.zOne)return this;var er=this.z.redInvm();return this.x=this.x.redMul(er),this.y=this.y.redMul(er),this.t&&(this.t=this.t.redMul(er)),this.z=this.curve.one,this.zOne=!0,this};Point$1.prototype.neg=function tr(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point$1.prototype.getX=function tr(){return this.normalize(),this.x.fromRed()};Point$1.prototype.getY=function tr(){return this.normalize(),this.y.fromRed()};Point$1.prototype.eq=function tr(er){return this===er||this.getX().cmp(er.getX())===0&&this.getY().cmp(er.getY())===0};Point$1.prototype.eqXToP=function tr(er){var rr=er.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(rr)===0)return!0;for(var nr=er.clone(),ir=this.curve.redN.redMul(this.z);;){if(nr.iadd(this.curve.n),nr.cmp(this.curve.p)>=0)return!1;if(rr.redIAdd(ir),this.x.cmp(rr)===0)return!0}};Point$1.prototype.toP=Point$1.prototype.normalize;Point$1.prototype.mixedAdd=Point$1.prototype.add;(function(tr){var er=tr;er.base=base,er.short=short,er.mont=mont,er.edwards=edwards})(curve);var curves$2={},hash$5={},utils$o={},assert$m=minimalisticAssert,inherits$6=inherits_browserExports;utils$o.inherits=inherits$6;function isSurrogatePair(tr,er){return(tr.charCodeAt(er)&64512)!==55296||er<0||er+1>=tr.length?!1:(tr.charCodeAt(er+1)&64512)===56320}function toArray$2(tr,er){if(Array.isArray(tr))return tr.slice();if(!tr)return[];var rr=[];if(typeof tr=="string")if(er){if(er==="hex")for(tr=tr.replace(/[^a-z0-9]+/ig,""),tr.length%2!==0&&(tr="0"+tr),ir=0;ir<tr.length;ir+=2)rr.push(parseInt(tr[ir]+tr[ir+1],16))}else for(var nr=0,ir=0;ir<tr.length;ir++){var or=tr.charCodeAt(ir);or<128?rr[nr++]=or:or<2048?(rr[nr++]=or>>6|192,rr[nr++]=or&63|128):isSurrogatePair(tr,ir)?(or=65536+((or&1023)<<10)+(tr.charCodeAt(++ir)&1023),rr[nr++]=or>>18|240,rr[nr++]=or>>12&63|128,rr[nr++]=or>>6&63|128,rr[nr++]=or&63|128):(rr[nr++]=or>>12|224,rr[nr++]=or>>6&63|128,rr[nr++]=or&63|128)}else for(ir=0;ir<tr.length;ir++)rr[ir]=tr[ir]|0;return rr}utils$o.toArray=toArray$2;function toHex(tr){for(var er="",rr=0;rr<tr.length;rr++)er+=zero2(tr[rr].toString(16));return er}utils$o.toHex=toHex;function htonl(tr){var er=tr>>>24|tr>>>8&65280|tr<<8&16711680|(tr&255)<<24;return er>>>0}utils$o.htonl=htonl;function toHex32(tr,er){for(var rr="",nr=0;nr<tr.length;nr++){var ir=tr[nr];er==="little"&&(ir=htonl(ir)),rr+=zero8(ir.toString(16))}return rr}utils$o.toHex32=toHex32;function zero2(tr){return tr.length===1?"0"+tr:tr}utils$o.zero2=zero2;function zero8(tr){return tr.length===7?"0"+tr:tr.length===6?"00"+tr:tr.length===5?"000"+tr:tr.length===4?"0000"+tr:tr.length===3?"00000"+tr:tr.length===2?"000000"+tr:tr.length===1?"0000000"+tr:tr}utils$o.zero8=zero8;function join32(tr,er,rr,nr){var ir=rr-er;assert$m(ir%4===0);for(var or=new Array(ir/4),sr=0,ar=er;sr<or.length;sr++,ar+=4){var cr;nr==="big"?cr=tr[ar]<<24|tr[ar+1]<<16|tr[ar+2]<<8|tr[ar+3]:cr=tr[ar+3]<<24|tr[ar+2]<<16|tr[ar+1]<<8|tr[ar],or[sr]=cr>>>0}return or}utils$o.join32=join32;function split32(tr,er){for(var rr=new Array(tr.length*4),nr=0,ir=0;nr<tr.length;nr++,ir+=4){var or=tr[nr];er==="big"?(rr[ir]=or>>>24,rr[ir+1]=or>>>16&255,rr[ir+2]=or>>>8&255,rr[ir+3]=or&255):(rr[ir+3]=or>>>24,rr[ir+2]=or>>>16&255,rr[ir+1]=or>>>8&255,rr[ir]=or&255)}return rr}utils$o.split32=split32;function rotr32$1(tr,er){return tr>>>er|tr<<32-er}utils$o.rotr32=rotr32$1;function rotl32$2(tr,er){return tr<<er|tr>>>32-er}utils$o.rotl32=rotl32$2;function sum32$3(tr,er){return tr+er>>>0}utils$o.sum32=sum32$3;function sum32_3$1(tr,er,rr){return tr+er+rr>>>0}utils$o.sum32_3=sum32_3$1;function sum32_4$2(tr,er,rr,nr){return tr+er+rr+nr>>>0}utils$o.sum32_4=sum32_4$2;function sum32_5$2(tr,er,rr,nr,ir){return tr+er+rr+nr+ir>>>0}utils$o.sum32_5=sum32_5$2;function sum64$1(tr,er,rr,nr){var ir=tr[er],or=tr[er+1],sr=nr+or>>>0,ar=(sr<nr?1:0)+rr+ir;tr[er]=ar>>>0,tr[er+1]=sr}utils$o.sum64=sum64$1;function sum64_hi$1(tr,er,rr,nr){var ir=er+nr>>>0,or=(ir<er?1:0)+tr+rr;return or>>>0}utils$o.sum64_hi=sum64_hi$1;function sum64_lo$1(tr,er,rr,nr){var ir=er+nr;return ir>>>0}utils$o.sum64_lo=sum64_lo$1;function sum64_4_hi$1(tr,er,rr,nr,ir,or,sr,ar){var cr=0,lr=er;lr=lr+nr>>>0,cr+=lr<er?1:0,lr=lr+or>>>0,cr+=lr<or?1:0,lr=lr+ar>>>0,cr+=lr<ar?1:0;var ur=tr+rr+ir+sr+cr;return ur>>>0}utils$o.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(tr,er,rr,nr,ir,or,sr,ar){var cr=er+nr+or+ar;return cr>>>0}utils$o.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(tr,er,rr,nr,ir,or,sr,ar,cr,lr){var ur=0,fr=er;fr=fr+nr>>>0,ur+=fr<er?1:0,fr=fr+or>>>0,ur+=fr<or?1:0,fr=fr+ar>>>0,ur+=fr<ar?1:0,fr=fr+lr>>>0,ur+=fr<lr?1:0;var dr=tr+rr+ir+sr+cr+ur;return dr>>>0}utils$o.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(tr,er,rr,nr,ir,or,sr,ar,cr,lr){var ur=er+nr+or+ar+lr;return ur>>>0}utils$o.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(tr,er,rr){var nr=er<<32-rr|tr>>>rr;return nr>>>0}utils$o.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(tr,er,rr){var nr=tr<<32-rr|er>>>rr;return nr>>>0}utils$o.rotr64_lo=rotr64_lo$1;function shr64_hi$1(tr,er,rr){return tr>>>rr}utils$o.shr64_hi=shr64_hi$1;function shr64_lo$1(tr,er,rr){var nr=tr<<32-rr|er>>>rr;return nr>>>0}utils$o.shr64_lo=shr64_lo$1;var common$6={},utils$n=utils$o,assert$l=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$6.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function tr(er,rr){if(er=utils$n.toArray(er,rr),this.pending?this.pending=this.pending.concat(er):this.pending=er,this.pendingTotal+=er.length,this.pending.length>=this._delta8){er=this.pending;var nr=er.length%this._delta8;this.pending=er.slice(er.length-nr,er.length),this.pending.length===0&&(this.pending=null),er=utils$n.join32(er,0,er.length-nr,this.endian);for(var ir=0;ir<er.length;ir+=this._delta32)this._update(er,ir,ir+this._delta32)}return this};BlockHash$4.prototype.digest=function tr(er){return this.update(this._pad()),assert$l(this.pending===null),this._digest(er)};BlockHash$4.prototype._pad=function tr(){var er=this.pendingTotal,rr=this._delta8,nr=rr-(er+this.padLength)%rr,ir=new Array(nr+this.padLength);ir[0]=128;for(var or=1;or<nr;or++)ir[or]=0;if(er<<=3,this.endian==="big"){for(var sr=8;sr<this.padLength;sr++)ir[or++]=0;ir[or++]=0,ir[or++]=0,ir[or++]=0,ir[or++]=0,ir[or++]=er>>>24&255,ir[or++]=er>>>16&255,ir[or++]=er>>>8&255,ir[or++]=er&255}else for(ir[or++]=er&255,ir[or++]=er>>>8&255,ir[or++]=er>>>16&255,ir[or++]=er>>>24&255,ir[or++]=0,ir[or++]=0,ir[or++]=0,ir[or++]=0,sr=8;sr<this.padLength;sr++)ir[or++]=0;return ir};var sha$1={},common$5={},utils$m=utils$o,rotr32=utils$m.rotr32;function ft_1$1(tr,er,rr,nr){if(tr===0)return ch32$1(er,rr,nr);if(tr===1||tr===3)return p32(er,rr,nr);if(tr===2)return maj32$1(er,rr,nr)}common$5.ft_1=ft_1$1;function ch32$1(tr,er,rr){return tr&er^~tr&rr}common$5.ch32=ch32$1;function maj32$1(tr,er,rr){return tr&er^tr&rr^er&rr}common$5.maj32=maj32$1;function p32(tr,er,rr){return tr^er^rr}common$5.p32=p32;function s0_256$1(tr){return rotr32(tr,2)^rotr32(tr,13)^rotr32(tr,22)}common$5.s0_256=s0_256$1;function s1_256$1(tr){return rotr32(tr,6)^rotr32(tr,11)^rotr32(tr,25)}common$5.s1_256=s1_256$1;function g0_256$1(tr){return rotr32(tr,7)^rotr32(tr,18)^tr>>>3}common$5.g0_256=g0_256$1;function g1_256$1(tr){return rotr32(tr,17)^rotr32(tr,19)^tr>>>10}common$5.g1_256=g1_256$1;var utils$l=utils$o,common$4=common$6,shaCommon$1=common$5,rotl32$1=utils$l.rotl32,sum32$2=utils$l.sum32,sum32_5$1=utils$l.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$4.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$l.inherits(SHA1,BlockHash$3);var _1$1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function tr(er,rr){for(var nr=this.W,ir=0;ir<16;ir++)nr[ir]=er[rr+ir];for(;ir<nr.length;ir++)nr[ir]=rotl32$1(nr[ir-3]^nr[ir-8]^nr[ir-14]^nr[ir-16],1);var or=this.h[0],sr=this.h[1],ar=this.h[2],cr=this.h[3],lr=this.h[4];for(ir=0;ir<nr.length;ir++){var ur=~~(ir/20),fr=sum32_5$1(rotl32$1(or,5),ft_1(ur,sr,ar,cr),lr,nr[ir],sha1_K[ur]);lr=cr,cr=ar,ar=rotl32$1(sr,30),sr=or,or=fr}this.h[0]=sum32$2(this.h[0],or),this.h[1]=sum32$2(this.h[1],sr),this.h[2]=sum32$2(this.h[2],ar),this.h[3]=sum32$2(this.h[3],cr),this.h[4]=sum32$2(this.h[4],lr)};SHA1.prototype._digest=function tr(er){return er==="hex"?utils$l.toHex32(this.h,"big"):utils$l.split32(this.h,"big")};var utils$k=utils$o,common$3=common$6,shaCommon=common$5,assert$k=minimalisticAssert,sum32$1=utils$k.sum32,sum32_4$1=utils$k.sum32_4,sum32_5=utils$k.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$3.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$2(){if(!(this instanceof SHA256$2))return new SHA256$2;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$k.inherits(SHA256$2,BlockHash$2);var _256=SHA256$2;SHA256$2.blockSize=512;SHA256$2.outSize=256;SHA256$2.hmacStrength=192;SHA256$2.padLength=64;SHA256$2.prototype._update=function tr(er,rr){for(var nr=this.W,ir=0;ir<16;ir++)nr[ir]=er[rr+ir];for(;ir<nr.length;ir++)nr[ir]=sum32_4$1(g1_256(nr[ir-2]),nr[ir-7],g0_256(nr[ir-15]),nr[ir-16]);var or=this.h[0],sr=this.h[1],ar=this.h[2],cr=this.h[3],lr=this.h[4],ur=this.h[5],fr=this.h[6],dr=this.h[7];for(assert$k(this.k.length===nr.length),ir=0;ir<nr.length;ir++){var gr=sum32_5(dr,s1_256(lr),ch32(lr,ur,fr),this.k[ir],nr[ir]),br=sum32$1(s0_256(or),maj32(or,sr,ar));dr=fr,fr=ur,ur=lr,lr=sum32$1(cr,gr),cr=ar,ar=sr,sr=or,or=sum32$1(gr,br)}this.h[0]=sum32$1(this.h[0],or),this.h[1]=sum32$1(this.h[1],sr),this.h[2]=sum32$1(this.h[2],ar),this.h[3]=sum32$1(this.h[3],cr),this.h[4]=sum32$1(this.h[4],lr),this.h[5]=sum32$1(this.h[5],ur),this.h[6]=sum32$1(this.h[6],fr),this.h[7]=sum32$1(this.h[7],dr)};SHA256$2.prototype._digest=function tr(er){return er==="hex"?utils$k.toHex32(this.h,"big"):utils$k.split32(this.h,"big")};var utils$j=utils$o,SHA256$1=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256$1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$j.inherits(SHA224,SHA256$1);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function tr(er){return er==="hex"?utils$j.toHex32(this.h.slice(0,7),"big"):utils$j.split32(this.h.slice(0,7),"big")};var utils$i=utils$o,common$2=common$6,assert$j=minimalisticAssert,rotr64_hi=utils$i.rotr64_hi,rotr64_lo=utils$i.rotr64_lo,shr64_hi=utils$i.shr64_hi,shr64_lo=utils$i.shr64_lo,sum64=utils$i.sum64,sum64_hi=utils$i.sum64_hi,sum64_lo=utils$i.sum64_lo,sum64_4_hi=utils$i.sum64_4_hi,sum64_4_lo=utils$i.sum64_4_lo,sum64_5_hi=utils$i.sum64_5_hi,sum64_5_lo=utils$i.sum64_5_lo,BlockHash$1=common$2.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$2(){if(!(this instanceof SHA512$2))return new SHA512$2;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$i.inherits(SHA512$2,BlockHash$1);var _512=SHA512$2;SHA512$2.blockSize=1024;SHA512$2.outSize=512;SHA512$2.hmacStrength=192;SHA512$2.padLength=128;SHA512$2.prototype._prepareBlock=function tr(er,rr){for(var nr=this.W,ir=0;ir<32;ir++)nr[ir]=er[rr+ir];for(;ir<nr.length;ir+=2){var or=g1_512_hi(nr[ir-4],nr[ir-3]),sr=g1_512_lo(nr[ir-4],nr[ir-3]),ar=nr[ir-14],cr=nr[ir-13],lr=g0_512_hi(nr[ir-30],nr[ir-29]),ur=g0_512_lo(nr[ir-30],nr[ir-29]),fr=nr[ir-32],dr=nr[ir-31];nr[ir]=sum64_4_hi(or,sr,ar,cr,lr,ur,fr,dr),nr[ir+1]=sum64_4_lo(or,sr,ar,cr,lr,ur,fr,dr)}};SHA512$2.prototype._update=function tr(er,rr){this._prepareBlock(er,rr);var nr=this.W,ir=this.h[0],or=this.h[1],sr=this.h[2],ar=this.h[3],cr=this.h[4],lr=this.h[5],ur=this.h[6],fr=this.h[7],dr=this.h[8],gr=this.h[9],br=this.h[10],vr=this.h[11],$r=this.h[12],Er=this.h[13],_r=this.h[14],xr=this.h[15];assert$j(this.k.length===nr.length);for(var Ir=0;Ir<nr.length;Ir+=2){var Nr=_r,Lr=xr,jr=s1_512_hi(dr,gr),Or=s1_512_lo(dr,gr),Dr=ch64_hi(dr,gr,br,vr,$r),Cr=ch64_lo(dr,gr,br,vr,$r,Er),Tr=this.k[Ir],yr=this.k[Ir+1],mr=nr[Ir],hr=nr[Ir+1],pr=sum64_5_hi(Nr,Lr,jr,Or,Dr,Cr,Tr,yr,mr,hr),wr=sum64_5_lo(Nr,Lr,jr,Or,Dr,Cr,Tr,yr,mr,hr);Nr=s0_512_hi(ir,or),Lr=s0_512_lo(ir,or),jr=maj64_hi(ir,or,sr,ar,cr),Or=maj64_lo(ir,or,sr,ar,cr,lr);var Ar=sum64_hi(Nr,Lr,jr,Or),Rr=sum64_lo(Nr,Lr,jr,Or);_r=$r,xr=Er,$r=br,Er=vr,br=dr,vr=gr,dr=sum64_hi(ur,fr,pr,wr),gr=sum64_lo(fr,fr,pr,wr),ur=cr,fr=lr,cr=sr,lr=ar,sr=ir,ar=or,ir=sum64_hi(pr,wr,Ar,Rr),or=sum64_lo(pr,wr,Ar,Rr)}sum64(this.h,0,ir,or),sum64(this.h,2,sr,ar),sum64(this.h,4,cr,lr),sum64(this.h,6,ur,fr),sum64(this.h,8,dr,gr),sum64(this.h,10,br,vr),sum64(this.h,12,$r,Er),sum64(this.h,14,_r,xr)};SHA512$2.prototype._digest=function tr(er){return er==="hex"?utils$i.toHex32(this.h,"big"):utils$i.split32(this.h,"big")};function ch64_hi(tr,er,rr,nr,ir){var or=tr&rr^~tr&ir;return or<0&&(or+=4294967296),or}function ch64_lo(tr,er,rr,nr,ir,or){var sr=er&nr^~er&or;return sr<0&&(sr+=4294967296),sr}function maj64_hi(tr,er,rr,nr,ir){var or=tr&rr^tr&ir^rr&ir;return or<0&&(or+=4294967296),or}function maj64_lo(tr,er,rr,nr,ir,or){var sr=er&nr^er&or^nr&or;return sr<0&&(sr+=4294967296),sr}function s0_512_hi(tr,er){var rr=rotr64_hi(tr,er,28),nr=rotr64_hi(er,tr,2),ir=rotr64_hi(er,tr,7),or=rr^nr^ir;return or<0&&(or+=4294967296),or}function s0_512_lo(tr,er){var rr=rotr64_lo(tr,er,28),nr=rotr64_lo(er,tr,2),ir=rotr64_lo(er,tr,7),or=rr^nr^ir;return or<0&&(or+=4294967296),or}function s1_512_hi(tr,er){var rr=rotr64_hi(tr,er,14),nr=rotr64_hi(tr,er,18),ir=rotr64_hi(er,tr,9),or=rr^nr^ir;return or<0&&(or+=4294967296),or}function s1_512_lo(tr,er){var rr=rotr64_lo(tr,er,14),nr=rotr64_lo(tr,er,18),ir=rotr64_lo(er,tr,9),or=rr^nr^ir;return or<0&&(or+=4294967296),or}function g0_512_hi(tr,er){var rr=rotr64_hi(tr,er,1),nr=rotr64_hi(tr,er,8),ir=shr64_hi(tr,er,7),or=rr^nr^ir;return or<0&&(or+=4294967296),or}function g0_512_lo(tr,er){var rr=rotr64_lo(tr,er,1),nr=rotr64_lo(tr,er,8),ir=shr64_lo(tr,er,7),or=rr^nr^ir;return or<0&&(or+=4294967296),or}function g1_512_hi(tr,er){var rr=rotr64_hi(tr,er,19),nr=rotr64_hi(er,tr,29),ir=shr64_hi(tr,er,6),or=rr^nr^ir;return or<0&&(or+=4294967296),or}function g1_512_lo(tr,er){var rr=rotr64_lo(tr,er,19),nr=rotr64_lo(er,tr,29),ir=shr64_lo(tr,er,6),or=rr^nr^ir;return or<0&&(or+=4294967296),or}var utils$h=utils$o,SHA512$1=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$h.inherits(SHA384,SHA512$1);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function tr(er){return er==="hex"?utils$h.toHex32(this.h.slice(0,12),"big"):utils$h.split32(this.h.slice(0,12),"big")};sha$1.sha1=_1$1;sha$1.sha224=_224;sha$1.sha256=_256;sha$1.sha384=_384;sha$1.sha512=_512;var ripemd={},utils$g=utils$o,common$1=common$6,rotl32=utils$g.rotl32,sum32=utils$g.sum32,sum32_3=utils$g.sum32_3,sum32_4=utils$g.sum32_4,BlockHash=common$1.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$g.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function tr(er,rr){for(var nr=this.h[0],ir=this.h[1],or=this.h[2],sr=this.h[3],ar=this.h[4],cr=nr,lr=ir,ur=or,fr=sr,dr=ar,gr=0;gr<80;gr++){var br=sum32(rotl32(sum32_4(nr,f$2(gr,ir,or,sr),er[r$3[gr]+rr],K$4(gr)),s$2[gr]),ar);nr=ar,ar=sr,sr=rotl32(or,10),or=ir,ir=br,br=sum32(rotl32(sum32_4(cr,f$2(79-gr,lr,ur,fr),er[rh[gr]+rr],Kh(gr)),sh[gr]),dr),cr=dr,dr=fr,fr=rotl32(ur,10),ur=lr,lr=br}br=sum32_3(this.h[1],or,fr),this.h[1]=sum32_3(this.h[2],sr,dr),this.h[2]=sum32_3(this.h[3],ar,cr),this.h[3]=sum32_3(this.h[4],nr,lr),this.h[4]=sum32_3(this.h[0],ir,ur),this.h[0]=br};RIPEMD160.prototype._digest=function tr(er){return er==="hex"?utils$g.toHex32(this.h,"little"):utils$g.split32(this.h,"little")};function f$2(tr,er,rr,nr){return tr<=15?er^rr^nr:tr<=31?er&rr|~er&nr:tr<=47?(er|~rr)^nr:tr<=63?er&nr|rr&~nr:er^(rr|~nr)}function K$4(tr){return tr<=15?0:tr<=31?1518500249:tr<=47?1859775393:tr<=63?2400959708:2840853838}function Kh(tr){return tr<=15?1352829926:tr<=31?1548603684:tr<=47?1836072691:tr<=63?2053994217:0}var r$3=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$2=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$f=utils$o,assert$i=minimalisticAssert;function Hmac(tr,er,rr){if(!(this instanceof Hmac))return new Hmac(tr,er,rr);this.Hash=tr,this.blockSize=tr.blockSize/8,this.outSize=tr.outSize/8,this.inner=null,this.outer=null,this._init(utils$f.toArray(er,rr))}var hmac$1=Hmac;Hmac.prototype._init=function tr(er){er.length>this.blockSize&&(er=new this.Hash().update(er).digest()),assert$i(er.length<=this.blockSize);for(var rr=er.length;rr<this.blockSize;rr++)er.push(0);for(rr=0;rr<er.length;rr++)er[rr]^=54;for(this.inner=new this.Hash().update(er),rr=0;rr<er.length;rr++)er[rr]^=106;this.outer=new this.Hash().update(er)};Hmac.prototype.update=function tr(er,rr){return this.inner.update(er,rr),this};Hmac.prototype.digest=function tr(er){return this.outer.update(this.inner.digest()),this.outer.digest(er)};(function(tr){var er=tr;er.utils=utils$o,er.common=common$6,er.sha=sha$1,er.ripemd=ripemd,er.hmac=hmac$1,er.sha1=er.sha.sha1,er.sha256=er.sha.sha256,er.sha224=er.sha.sha224,er.sha384=er.sha.sha384,er.sha512=er.sha.sha512,er.ripemd160=er.ripemd.ripemd160})(hash$5);var secp256k1$3,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1$3={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$3}(function(tr){var er=tr,rr=hash$5,nr=curve,ir=utils$u,or=ir.assert;function sr(lr){lr.type==="short"?this.curve=new nr.short(lr):lr.type==="edwards"?this.curve=new nr.edwards(lr):this.curve=new nr.mont(lr),this.g=this.curve.g,this.n=this.curve.n,this.hash=lr.hash,or(this.g.validate(),"Invalid curve"),or(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}er.PresetCurve=sr;function ar(lr,ur){Object.defineProperty(er,lr,{configurable:!0,enumerable:!0,get:function(){var fr=new sr(ur);return Object.defineProperty(er,lr,{configurable:!0,enumerable:!0,value:fr}),fr}})}ar("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:rr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),ar("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:rr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),ar("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:rr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),ar("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:rr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),ar("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:rr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),ar("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rr.sha256,gRed:!1,g:["9"]}),ar("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var cr;try{cr=requireSecp256k1()}catch{cr=void 0}ar("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:rr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",cr]})})(curves$2);var hash$4=hash$5,utils$e=utils$t,assert$h=minimalisticAssert;function HmacDRBG$1(tr){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(tr);this.hash=tr.hash,this.predResist=!!tr.predResist,this.outLen=this.hash.outSize,this.minEntropy=tr.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var er=utils$e.toArray(tr.entropy,tr.entropyEnc||"hex"),rr=utils$e.toArray(tr.nonce,tr.nonceEnc||"hex"),nr=utils$e.toArray(tr.pers,tr.persEnc||"hex");assert$h(er.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(er,rr,nr)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function tr(er,rr,nr){var ir=er.concat(rr).concat(nr);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var or=0;or<this.V.length;or++)this.K[or]=0,this.V[or]=1;this._update(ir),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$1.prototype._hmac=function tr(){return new hash$4.hmac(this.hash,this.K)};HmacDRBG$1.prototype._update=function tr(er){var rr=this._hmac().update(this.V).update([0]);er&&(rr=rr.update(er)),this.K=rr.digest(),this.V=this._hmac().update(this.V).digest(),er&&(this.K=this._hmac().update(this.V).update([1]).update(er).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$1.prototype.reseed=function tr(er,rr,nr,ir){typeof rr!="string"&&(ir=nr,nr=rr,rr=null),er=utils$e.toArray(er,rr),nr=utils$e.toArray(nr,ir),assert$h(er.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(er.concat(nr||[])),this._reseed=1};HmacDRBG$1.prototype.generate=function tr(er,rr,nr,ir){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof rr!="string"&&(ir=nr,nr=rr,rr=null),nr&&(nr=utils$e.toArray(nr,ir||"hex"),this._update(nr));for(var or=[];or.length<er;)this.V=this._hmac().update(this.V).digest(),or=or.concat(this.V);var sr=or.slice(0,er);return this._update(nr),this._reseed++,utils$e.encode(sr,rr)};var BN$4=bnExports$1,utils$d=utils$u,assert$g=utils$d.assert;function KeyPair$3(tr,er){this.ec=tr,this.priv=null,this.pub=null,er.priv&&this._importPrivate(er.priv,er.privEnc),er.pub&&this._importPublic(er.pub,er.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function tr(er,rr,nr){return rr instanceof KeyPair$3?rr:new KeyPair$3(er,{pub:rr,pubEnc:nr})};KeyPair$3.fromPrivate=function tr(er,rr,nr){return rr instanceof KeyPair$3?rr:new KeyPair$3(er,{priv:rr,privEnc:nr})};KeyPair$3.prototype.validate=function tr(){var er=this.getPublic();return er.isInfinity()?{result:!1,reason:"Invalid public key"}:er.validate()?er.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$3.prototype.getPublic=function tr(er,rr){return typeof er=="string"&&(rr=er,er=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),rr?this.pub.encode(rr,er):this.pub};KeyPair$3.prototype.getPrivate=function tr(er){return er==="hex"?this.priv.toString(16,2):this.priv};KeyPair$3.prototype._importPrivate=function tr(er,rr){this.priv=new BN$4(er,rr||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$3.prototype._importPublic=function tr(er,rr){if(er.x||er.y){this.ec.curve.type==="mont"?assert$g(er.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$g(er.x&&er.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(er.x,er.y);return}this.pub=this.ec.curve.decodePoint(er,rr)};KeyPair$3.prototype.derive=function tr(er){return er.validate()||assert$g(er.validate(),"public point not validated"),er.mul(this.priv).getX()};KeyPair$3.prototype.sign=function tr(er,rr,nr){return this.ec.sign(er,this,rr,nr)};KeyPair$3.prototype.verify=function tr(er,rr){return this.ec.verify(er,rr,this)};KeyPair$3.prototype.inspect=function tr(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$3=bnExports$1,utils$c=utils$u,assert$f=utils$c.assert;function Signature$3(tr,er){if(tr instanceof Signature$3)return tr;this._importDER(tr,er)||(assert$f(tr.r&&tr.s,"Signature without r or s"),this.r=new BN$3(tr.r,16),this.s=new BN$3(tr.s,16),tr.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=tr.recoveryParam)}var signature$2=Signature$3;function Position(){this.place=0}function getLength(tr,er){var rr=tr[er.place++];if(!(rr&128))return rr;var nr=rr&15;if(nr===0||nr>4)return!1;for(var ir=0,or=0,sr=er.place;or<nr;or++,sr++)ir<<=8,ir|=tr[sr],ir>>>=0;return ir<=127?!1:(er.place=sr,ir)}function rmPadding(tr){for(var er=0,rr=tr.length-1;!tr[er]&&!(tr[er+1]&128)&&er<rr;)er++;return er===0?tr:tr.slice(er)}Signature$3.prototype._importDER=function tr(er,rr){er=utils$c.toArray(er,rr);var nr=new Position;if(er[nr.place++]!==48)return!1;var ir=getLength(er,nr);if(ir===!1||ir+nr.place!==er.length||er[nr.place++]!==2)return!1;var or=getLength(er,nr);if(or===!1)return!1;var sr=er.slice(nr.place,or+nr.place);if(nr.place+=or,er[nr.place++]!==2)return!1;var ar=getLength(er,nr);if(ar===!1||er.length!==ar+nr.place)return!1;var cr=er.slice(nr.place,ar+nr.place);if(sr[0]===0)if(sr[1]&128)sr=sr.slice(1);else return!1;if(cr[0]===0)if(cr[1]&128)cr=cr.slice(1);else return!1;return this.r=new BN$3(sr),this.s=new BN$3(cr),this.recoveryParam=null,!0};function constructLength(tr,er){if(er<128){tr.push(er);return}var rr=1+(Math.log(er)/Math.LN2>>>3);for(tr.push(rr|128);--rr;)tr.push(er>>>(rr<<3)&255);tr.push(er)}Signature$3.prototype.toDER=function tr(er){var rr=this.r.toArray(),nr=this.s.toArray();for(rr[0]&128&&(rr=[0].concat(rr)),nr[0]&128&&(nr=[0].concat(nr)),rr=rmPadding(rr),nr=rmPadding(nr);!nr[0]&&!(nr[1]&128);)nr=nr.slice(1);var ir=[2];constructLength(ir,rr.length),ir=ir.concat(rr),ir.push(2),constructLength(ir,nr.length);var or=ir.concat(nr),sr=[48];return constructLength(sr,or.length),sr=sr.concat(or),utils$c.encode(sr,er)};var BN$2=bnExports$1,HmacDRBG=hmacDrbg,utils$b=utils$u,curves$1=curves$2,rand=brorandExports,assert$e=utils$b.assert,KeyPair$2=key$1,Signature$2=signature$2;function EC(tr){if(!(this instanceof EC))return new EC(tr);typeof tr=="string"&&(assert$e(Object.prototype.hasOwnProperty.call(curves$1,tr),"Unknown curve "+tr),tr=curves$1[tr]),tr instanceof curves$1.PresetCurve&&(tr={curve:tr}),this.curve=tr.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=tr.curve.g,this.g.precompute(tr.curve.n.bitLength()+1),this.hash=tr.hash||tr.curve.hash}var ec$2=EC;EC.prototype.keyPair=function tr(er){return new KeyPair$2(this,er)};EC.prototype.keyFromPrivate=function tr(er,rr){return KeyPair$2.fromPrivate(this,er,rr)};EC.prototype.keyFromPublic=function tr(er,rr){return KeyPair$2.fromPublic(this,er,rr)};EC.prototype.genKeyPair=function tr(er){er||(er={});for(var rr=new HmacDRBG({hash:this.hash,pers:er.pers,persEnc:er.persEnc||"utf8",entropy:er.entropy||rand(this.hash.hmacStrength),entropyEnc:er.entropy&&er.entropyEnc||"utf8",nonce:this.n.toArray()}),nr=this.n.byteLength(),ir=this.n.sub(new BN$2(2));;){var or=new BN$2(rr.generate(nr));if(!(or.cmp(ir)>0))return or.iaddn(1),this.keyFromPrivate(or)}};EC.prototype._truncateToN=function tr(er,rr){var nr=er.byteLength()*8-this.n.bitLength();return nr>0&&(er=er.ushrn(nr)),!rr&&er.cmp(this.n)>=0?er.sub(this.n):er};EC.prototype.sign=function tr(er,rr,nr,ir){typeof nr=="object"&&(ir=nr,nr=null),ir||(ir={}),rr=this.keyFromPrivate(rr,nr),er=this._truncateToN(new BN$2(er,16));for(var or=this.n.byteLength(),sr=rr.getPrivate().toArray("be",or),ar=er.toArray("be",or),cr=new HmacDRBG({hash:this.hash,entropy:sr,nonce:ar,pers:ir.pers,persEnc:ir.persEnc||"utf8"}),lr=this.n.sub(new BN$2(1)),ur=0;;ur++){var fr=ir.k?ir.k(ur):new BN$2(cr.generate(this.n.byteLength()));if(fr=this._truncateToN(fr,!0),!(fr.cmpn(1)<=0||fr.cmp(lr)>=0)){var dr=this.g.mul(fr);if(!dr.isInfinity()){var gr=dr.getX(),br=gr.umod(this.n);if(br.cmpn(0)!==0){var vr=fr.invm(this.n).mul(br.mul(rr.getPrivate()).iadd(er));if(vr=vr.umod(this.n),vr.cmpn(0)!==0){var $r=(dr.getY().isOdd()?1:0)|(gr.cmp(br)!==0?2:0);return ir.canonical&&vr.cmp(this.nh)>0&&(vr=this.n.sub(vr),$r^=1),new Signature$2({r:br,s:vr,recoveryParam:$r})}}}}}};EC.prototype.verify=function tr(er,rr,nr,ir){er=this._truncateToN(new BN$2(er,16)),nr=this.keyFromPublic(nr,ir),rr=new Signature$2(rr,"hex");var or=rr.r,sr=rr.s;if(or.cmpn(1)<0||or.cmp(this.n)>=0||sr.cmpn(1)<0||sr.cmp(this.n)>=0)return!1;var ar=sr.invm(this.n),cr=ar.mul(er).umod(this.n),lr=ar.mul(or).umod(this.n),ur;return this.curve._maxwellTrick?(ur=this.g.jmulAdd(cr,nr.getPublic(),lr),ur.isInfinity()?!1:ur.eqXToP(or)):(ur=this.g.mulAdd(cr,nr.getPublic(),lr),ur.isInfinity()?!1:ur.getX().umod(this.n).cmp(or)===0)};EC.prototype.recoverPubKey=function(tr,er,rr,nr){assert$e((3&rr)===rr,"The recovery param is more than two bits"),er=new Signature$2(er,nr);var ir=this.n,or=new BN$2(tr),sr=er.r,ar=er.s,cr=rr&1,lr=rr>>1;if(sr.cmp(this.curve.p.umod(this.curve.n))>=0&&lr)throw new Error("Unable to find sencond key candinate");lr?sr=this.curve.pointFromX(sr.add(this.curve.n),cr):sr=this.curve.pointFromX(sr,cr);var ur=er.r.invm(ir),fr=ir.sub(or).mul(ur).umod(ir),dr=ar.mul(ur).umod(ir);return this.g.mulAdd(fr,sr,dr)};EC.prototype.getKeyRecoveryParam=function(tr,er,rr,nr){if(er=new Signature$2(er,nr),er.recoveryParam!==null)return er.recoveryParam;for(var ir=0;ir<4;ir++){var or;try{or=this.recoverPubKey(tr,er,ir)}catch{continue}if(or.eq(rr))return ir}throw new Error("Unable to find valid recovery factor")};var utils$a=utils$u,assert$d=utils$a.assert,parseBytes$2=utils$a.parseBytes,cachedProperty$1=utils$a.cachedProperty;function KeyPair$1(tr,er){this.eddsa=tr,this._secret=parseBytes$2(er.secret),tr.isPoint(er.pub)?this._pub=er.pub:this._pubBytes=parseBytes$2(er.pub)}KeyPair$1.fromPublic=function tr(er,rr){return rr instanceof KeyPair$1?rr:new KeyPair$1(er,{pub:rr})};KeyPair$1.fromSecret=function tr(er,rr){return rr instanceof KeyPair$1?rr:new KeyPair$1(er,{secret:rr})};KeyPair$1.prototype.secret=function tr(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function tr(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function tr(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function tr(){var er=this.eddsa,rr=this.hash(),nr=er.encodingLength-1,ir=rr.slice(0,er.encodingLength);return ir[0]&=248,ir[nr]&=127,ir[nr]|=64,ir});cachedProperty$1(KeyPair$1,"priv",function tr(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function tr(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function tr(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function tr(er){return assert$d(this._secret,"KeyPair can only verify"),this.eddsa.sign(er,this)};KeyPair$1.prototype.verify=function tr(er,rr){return this.eddsa.verify(er,rr,this)};KeyPair$1.prototype.getSecret=function tr(er){return assert$d(this._secret,"KeyPair is public only"),utils$a.encode(this.secret(),er)};KeyPair$1.prototype.getPublic=function tr(er){return utils$a.encode(this.pubBytes(),er)};var key=KeyPair$1,BN$1=bnExports$1,utils$9=utils$u,assert$c=utils$9.assert,cachedProperty=utils$9.cachedProperty,parseBytes$1=utils$9.parseBytes;function Signature$1(tr,er){this.eddsa=tr,typeof er!="object"&&(er=parseBytes$1(er)),Array.isArray(er)&&(er={R:er.slice(0,tr.encodingLength),S:er.slice(tr.encodingLength)}),assert$c(er.R&&er.S,"Signature without R or S"),tr.isPoint(er.R)&&(this._R=er.R),er.S instanceof BN$1&&(this._S=er.S),this._Rencoded=Array.isArray(er.R)?er.R:er.Rencoded,this._Sencoded=Array.isArray(er.S)?er.S:er.Sencoded}cachedProperty(Signature$1,"S",function tr(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function tr(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function tr(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function tr(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function tr(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function tr(){return utils$9.encode(this.toBytes(),"hex").toUpperCase()};var signature$1=Signature$1,hash$3=hash$5,curves=curves$2,utils$8=utils$u,assert$b=utils$8.assert,parseBytes=utils$8.parseBytes,KeyPair=key,Signature=signature$1;function EDDSA(tr){if(assert$b(tr==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(tr);tr=curves[tr].curve,this.curve=tr,this.g=tr.g,this.g.precompute(tr.n.bitLength()+1),this.pointClass=tr.point().constructor,this.encodingLength=Math.ceil(tr.n.bitLength()/8),this.hash=hash$3.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function tr(er,rr){er=parseBytes(er);var nr=this.keyFromSecret(rr),ir=this.hashInt(nr.messagePrefix(),er),or=this.g.mul(ir),sr=this.encodePoint(or),ar=this.hashInt(sr,nr.pubBytes(),er).mul(nr.priv()),cr=ir.add(ar).umod(this.curve.n);return this.makeSignature({R:or,S:cr,Rencoded:sr})};EDDSA.prototype.verify=function tr(er,rr,nr){er=parseBytes(er),rr=this.makeSignature(rr);var ir=this.keyFromPublic(nr),or=this.hashInt(rr.Rencoded(),ir.pubBytes(),er),sr=this.g.mul(rr.S()),ar=rr.R().add(ir.pub().mul(or));return ar.eq(sr)};EDDSA.prototype.hashInt=function tr(){for(var er=this.hash(),rr=0;rr<arguments.length;rr++)er.update(arguments[rr]);return utils$8.intFromLE(er.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function tr(er){return KeyPair.fromPublic(this,er)};EDDSA.prototype.keyFromSecret=function tr(er){return KeyPair.fromSecret(this,er)};EDDSA.prototype.makeSignature=function tr(er){return er instanceof Signature?er:new Signature(this,er)};EDDSA.prototype.encodePoint=function tr(er){var rr=er.getY().toArray("le",this.encodingLength);return rr[this.encodingLength-1]|=er.getX().isOdd()?128:0,rr};EDDSA.prototype.decodePoint=function tr(er){er=utils$8.parseBytes(er);var rr=er.length-1,nr=er.slice(0,rr).concat(er[rr]&-129),ir=(er[rr]&128)!==0,or=utils$8.intFromLE(nr);return this.curve.pointFromY(or,ir)};EDDSA.prototype.encodeInt=function tr(er){return er.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function tr(er){return utils$8.intFromLE(er)};EDDSA.prototype.isPoint=function tr(er){return er instanceof this.pointClass};(function(tr){var er=tr;er.version=require$$0$4.version,er.utils=utils$u,er.rand=brorandExports,er.curve=curve,er.curves=curves$2,er.ec=ec$2,er.eddsa=eddsa})(elliptic);const T$2=getDefaultExportFromCjs(elliptic);let wasm;const cachedTextDecoder=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&cachedTextDecoder.decode();let cachedUint8Memory0=null;function getUint8Memory0(){return(cachedUint8Memory0===null||cachedUint8Memory0.byteLength===0)&&(cachedUint8Memory0=new Uint8Array(wasm.memory.buffer)),cachedUint8Memory0}function getStringFromWasm0(tr,er){return tr=tr>>>0,cachedTextDecoder.decode(getUint8Memory0().subarray(tr,tr+er))}const heap=new Array(128).fill(void 0);heap.push(void 0,null,!0,!1);let heap_next=heap.length;function addHeapObject(tr){heap_next===heap.length&&heap.push(heap.length+1);const er=heap_next;return heap_next=heap[er],heap[er]=tr,er}function getObject(tr){return heap[tr]}function dropObject(tr){tr<132||(heap[tr]=heap_next,heap_next=tr)}function takeObject(tr){const er=getObject(tr);return dropObject(tr),er}let WASM_VECTOR_LEN=0;function passArray8ToWasm0(tr,er){const rr=er(tr.length*1,1)>>>0;return getUint8Memory0().set(tr,rr/1),WASM_VECTOR_LEN=tr.length,rr}let cachedInt32Memory0=null;function getInt32Memory0(){return(cachedInt32Memory0===null||cachedInt32Memory0.byteLength===0)&&(cachedInt32Memory0=new Int32Array(wasm.memory.buffer)),cachedInt32Memory0}function getArrayU8FromWasm0(tr,er){return tr=tr>>>0,getUint8Memory0().subarray(tr/1,tr/1+er)}function user_preferences_encrypt(tr,er,rr){try{const cr=wasm.__wbindgen_add_to_stack_pointer(-16),lr=passArray8ToWasm0(tr,wasm.__wbindgen_malloc),ur=WASM_VECTOR_LEN,fr=passArray8ToWasm0(er,wasm.__wbindgen_malloc),dr=WASM_VECTOR_LEN,gr=passArray8ToWasm0(rr,wasm.__wbindgen_malloc),br=WASM_VECTOR_LEN;wasm.user_preferences_encrypt(cr,lr,ur,fr,dr,gr,br);var nr=getInt32Memory0()[cr/4+0],ir=getInt32Memory0()[cr/4+1],or=getInt32Memory0()[cr/4+2],sr=getInt32Memory0()[cr/4+3];if(sr)throw takeObject(or);var ar=getArrayU8FromWasm0(nr,ir).slice();return wasm.__wbindgen_free(nr,ir*1,1),ar}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}function user_preferences_decrypt(tr,er,rr){try{const cr=wasm.__wbindgen_add_to_stack_pointer(-16),lr=passArray8ToWasm0(tr,wasm.__wbindgen_malloc),ur=WASM_VECTOR_LEN,fr=passArray8ToWasm0(er,wasm.__wbindgen_malloc),dr=WASM_VECTOR_LEN,gr=passArray8ToWasm0(rr,wasm.__wbindgen_malloc),br=WASM_VECTOR_LEN;wasm.user_preferences_decrypt(cr,lr,ur,fr,dr,gr,br);var nr=getInt32Memory0()[cr/4+0],ir=getInt32Memory0()[cr/4+1],or=getInt32Memory0()[cr/4+2],sr=getInt32Memory0()[cr/4+3];if(sr)throw takeObject(or);var ar=getArrayU8FromWasm0(nr,ir).slice();return wasm.__wbindgen_free(nr,ir*1,1),ar}finally{wasm.__wbindgen_add_to_stack_pointer(16)}}function generate_private_preferences_topic(tr){let er,rr;try{const lr=wasm.__wbindgen_add_to_stack_pointer(-16),ur=passArray8ToWasm0(tr,wasm.__wbindgen_malloc),fr=WASM_VECTOR_LEN;wasm.generate_private_preferences_topic(lr,ur,fr);var nr=getInt32Memory0()[lr/4+0],ir=getInt32Memory0()[lr/4+1],or=getInt32Memory0()[lr/4+2],sr=getInt32Memory0()[lr/4+3],ar=nr,cr=ir;if(sr)throw ar=0,cr=0,takeObject(or);return er=ar,rr=cr,getStringFromWasm0(ar,cr)}finally{wasm.__wbindgen_add_to_stack_pointer(16),wasm.__wbindgen_free(er,rr,1)}}function handleError(tr,er){try{return tr.apply(this,er)}catch(rr){wasm.__wbindgen_exn_store(addHeapObject(rr))}}async function __wbg_load(tr,er){if(typeof Response=="function"&&tr instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(tr,er)}catch(nr){if(tr.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",nr);else throw nr}const rr=await tr.arrayBuffer();return await WebAssembly.instantiate(rr,er)}else{const rr=await WebAssembly.instantiate(tr,er);return rr instanceof WebAssembly.Instance?{instance:rr,module:tr}:rr}}function __wbg_get_imports(){const tr={};return tr.wbg={},tr.wbg.__wbindgen_string_new=function(er,rr){const nr=getStringFromWasm0(er,rr);return addHeapObject(nr)},tr.wbg.__wbindgen_object_drop_ref=function(er){takeObject(er)},tr.wbg.__wbg_crypto_d05b68a3572bb8ca=function(er){const rr=getObject(er).crypto;return addHeapObject(rr)},tr.wbg.__wbindgen_is_object=function(er){const rr=getObject(er);return typeof rr=="object"&&rr!==null},tr.wbg.__wbg_process_b02b3570280d0366=function(er){const rr=getObject(er).process;return addHeapObject(rr)},tr.wbg.__wbg_versions_c1cb42213cedf0f5=function(er){const rr=getObject(er).versions;return addHeapObject(rr)},tr.wbg.__wbg_node_43b1089f407e4ec2=function(er){const rr=getObject(er).node;return addHeapObject(rr)},tr.wbg.__wbindgen_is_string=function(er){return typeof getObject(er)=="string"},tr.wbg.__wbg_require_9a7e0f667ead4995=function(){return handleError(function(){const er=module.require;return addHeapObject(er)},arguments)},tr.wbg.__wbg_msCrypto_10fc94afee92bd76=function(er){const rr=getObject(er).msCrypto;return addHeapObject(rr)},tr.wbg.__wbg_randomFillSync_b70ccbdf4926a99d=function(){return handleError(function(er,rr){getObject(er).randomFillSync(takeObject(rr))},arguments)},tr.wbg.__wbg_getRandomValues_7e42b4fb8779dc6d=function(){return handleError(function(er,rr){getObject(er).getRandomValues(getObject(rr))},arguments)},tr.wbg.__wbindgen_is_function=function(er){return typeof getObject(er)=="function"},tr.wbg.__wbg_newnoargs_cfecb3965268594c=function(er,rr){const nr=new Function(getStringFromWasm0(er,rr));return addHeapObject(nr)},tr.wbg.__wbg_call_3f093dd26d5569f8=function(){return handleError(function(er,rr){const nr=getObject(er).call(getObject(rr));return addHeapObject(nr)},arguments)},tr.wbg.__wbg_self_05040bd9523805b9=function(){return handleError(function(){const er=self.self;return addHeapObject(er)},arguments)},tr.wbg.__wbg_window_adc720039f2cb14f=function(){return handleError(function(){const er=window.window;return addHeapObject(er)},arguments)},tr.wbg.__wbg_globalThis_622105db80c1457d=function(){return handleError(function(){const er=globalThis.globalThis;return addHeapObject(er)},arguments)},tr.wbg.__wbg_global_f56b013ed9bcf359=function(){return handleError(function(){const er=globalThis.global;return addHeapObject(er)},arguments)},tr.wbg.__wbindgen_is_undefined=function(er){return getObject(er)===void 0},tr.wbg.__wbg_call_67f2111acd2dfdb6=function(){return handleError(function(er,rr,nr){const ir=getObject(er).call(getObject(rr),getObject(nr));return addHeapObject(ir)},arguments)},tr.wbg.__wbg_buffer_b914fb8b50ebbc3e=function(er){const rr=getObject(er).buffer;return addHeapObject(rr)},tr.wbg.__wbg_newwithbyteoffsetandlength_0de9ee56e9f6ee6e=function(er,rr,nr){const ir=new Uint8Array(getObject(er),rr>>>0,nr>>>0);return addHeapObject(ir)},tr.wbg.__wbg_new_b1f2d6842d615181=function(er){const rr=new Uint8Array(getObject(er));return addHeapObject(rr)},tr.wbg.__wbg_set_7d988c98e6ced92d=function(er,rr,nr){getObject(er).set(getObject(rr),nr>>>0)},tr.wbg.__wbg_newwithlength_0d03cef43b68a530=function(er){const rr=new Uint8Array(er>>>0);return addHeapObject(rr)},tr.wbg.__wbg_subarray_adc418253d76e2f1=function(er,rr,nr){const ir=getObject(er).subarray(rr>>>0,nr>>>0);return addHeapObject(ir)},tr.wbg.__wbindgen_object_clone_ref=function(er){const rr=getObject(er);return addHeapObject(rr)},tr.wbg.__wbindgen_throw=function(er,rr){throw new Error(getStringFromWasm0(er,rr))},tr.wbg.__wbindgen_memory=function(){const er=wasm.memory;return addHeapObject(er)},tr}function __wbg_finalize_init(tr,er){return wasm=tr.exports,__wbg_init.__wbindgen_wasm_module=er,cachedInt32Memory0=null,cachedUint8Memory0=null,wasm}async function __wbg_init(tr){if(wasm!==void 0)return wasm;typeof tr>"u"&&(tr=new URL("/assets/user_preferences_bindings_wasm_bg-CCaStjan.wasm",import.meta.url));const er=__wbg_get_imports();(typeof tr=="string"||typeof Request=="function"&&tr instanceof Request||typeof URL=="function"&&tr instanceof URL)&&(tr=fetch(tr));const{instance:rr,module:nr}=await __wbg_load(await tr,er);return __wbg_finalize_init(rr,nr)}const b64=new Array(64),s64=new Array(123);for(let tr=0;tr<64;)s64[b64[tr]=tr<26?tr+65:tr<52?tr+71:tr<62?tr-4:tr-59|43]=tr++;var SortDirection;(function(tr){tr.SORT_DIRECTION_UNSPECIFIED="SORT_DIRECTION_UNSPECIFIED",tr.SORT_DIRECTION_ASCENDING="SORT_DIRECTION_ASCENDING",tr.SORT_DIRECTION_DESCENDING="SORT_DIRECTION_DESCENDING"})(SortDirection||(SortDirection={}));var globalThis$d=(()=>{if(typeof globalThis$d<"u")return globalThis$d;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$d<"u")return globalThis$d;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$c=(()=>{if(typeof globalThis$c<"u")return globalThis$c;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$c<"u")return globalThis$c;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$b=(()=>{if(typeof globalThis$b<"u")return globalThis$b;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$b<"u")return globalThis$b;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$a=(()=>{if(typeof globalThis$a<"u")return globalThis$a;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$a<"u")return globalThis$a;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var ConsentProofPayloadVersion;(function(tr){tr[tr.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED=0]="CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED",tr[tr.CONSENT_PROOF_PAYLOAD_VERSION_1=1]="CONSENT_PROOF_PAYLOAD_VERSION_1",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConsentProofPayloadVersion||(ConsentProofPayloadVersion={}));var globalThis$9=(()=>{if(typeof globalThis$9<"u")return globalThis$9;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$9<"u")return globalThis$9;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$8=(()=>{if(typeof globalThis$8<"u")return globalThis$8;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$8<"u")return globalThis$8;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var Compression;(function(tr){tr[tr.COMPRESSION_DEFLATE=0]="COMPRESSION_DEFLATE",tr[tr.COMPRESSION_GZIP=1]="COMPRESSION_GZIP",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Compression||(Compression={}));var globalThis$7=(()=>{if(typeof globalThis$7<"u")return globalThis$7;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$7<"u")return globalThis$7;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$6=(()=>{if(typeof globalThis$6<"u")return globalThis$6;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$6<"u")return globalThis$6;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$5=(()=>{if(typeof globalThis$5<"u")return globalThis$5;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$5<"u")return globalThis$5;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var ErrorCode;(function(tr){tr[tr.ERROR_CODE_UNSPECIFIED=0]="ERROR_CODE_UNSPECIFIED",tr[tr.ERROR_CODE_INVALID_INPUT=1]="ERROR_CODE_INVALID_INPUT",tr[tr.ERROR_CODE_NO_MATCHING_PREKEY=2]="ERROR_CODE_NO_MATCHING_PREKEY",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ErrorCode||(ErrorCode={}));var JobType;(function(tr){tr[tr.JOB_TYPE_UNSPECIFIED=0]="JOB_TYPE_UNSPECIFIED",tr[tr.JOB_TYPE_REFRESH_V1=1]="JOB_TYPE_REFRESH_V1",tr[tr.JOB_TYPE_REFRESH_V2=2]="JOB_TYPE_REFRESH_V2",tr[tr.JOB_TYPE_REFRESH_PPPP=3]="JOB_TYPE_REFRESH_PPPP",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(JobType||(JobType={}));var GetKeystoreStatusResponse_KeystoreStatus;(function(tr){tr[tr.KEYSTORE_STATUS_UNSPECIFIED=0]="KEYSTORE_STATUS_UNSPECIFIED",tr[tr.KEYSTORE_STATUS_UNINITIALIZED=1]="KEYSTORE_STATUS_UNINITIALIZED",tr[tr.KEYSTORE_STATUS_INITIALIZED=2]="KEYSTORE_STATUS_INITIALIZED",tr[tr.UNRECOGNIZED=-1]="UNRECOGNIZED"})(GetKeystoreStatusResponse_KeystoreStatus||(GetKeystoreStatusResponse_KeystoreStatus={}));var globalThis$4=(()=>{if(typeof globalThis$4<"u")return globalThis$4;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$4<"u")return globalThis$4;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$3=(()=>{if(typeof globalThis$3<"u")return globalThis$3;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$3<"u")return globalThis$3;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$2=(()=>{if(typeof globalThis$2<"u")return globalThis$2;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$2<"u")return globalThis$2;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var globalThis$1=(()=>{if(typeof globalThis$1<"u")return globalThis$1;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis$1<"u")return globalThis$1;throw"Unable to locate global object"})();_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());const createConsentMessage=(tr,er)=>`XMTP : Grant inbox consent to sender

Current Time: ${new Date(er).toUTCString()}
From Address: ${tr}

For more info: https://xmtp.org/signatures/`;let N$1=class Fl{constructor(er){if(!er.aes256GcmHkdfSha256)throw new Error("invalid ciphertext");if(er.aes256GcmHkdfSha256.payload.length<16)throw new Error(`invalid ciphertext ciphertext length: ${er.aes256GcmHkdfSha256.payload.length}`);if(er.aes256GcmHkdfSha256.hkdfSalt.length!==32)throw new Error(`invalid ciphertext salt length: ${er.aes256GcmHkdfSha256.hkdfSalt.length}`);if(er.aes256GcmHkdfSha256.gcmNonce.length!==12)throw new Error(`invalid ciphertext nonce length: ${er.aes256GcmHkdfSha256.gcmNonce.length}`);this.aes256GcmHkdfSha256=er.aes256GcmHkdfSha256}toBytes(){return Ciphertext.encode(this).finish()}static fromBytes(er){return new Fl(Ciphertext.decode(er))}};const D$2=window.crypto,x$2=new Uint8Array().buffer,M$1=new Uint8Array().buffer;async function _$2(tr){return new Uint8Array(await D$2.subtle.digest("SHA-256",tr))}async function V$1(tr,er,rr){const nr=D$2.getRandomValues(new Uint8Array(32)),ir=D$2.getRandomValues(new Uint8Array(12)),or=await q$2(er,nr),sr=await D$2.subtle.encrypt(L$1(ir,rr),or,tr);return new N$1({aes256GcmHkdfSha256:{payload:new Uint8Array(sr),hkdfSalt:nr,gcmNonce:ir}})}async function U(tr,er,rr){if(!tr.aes256GcmHkdfSha256)throw new Error("invalid payload ciphertext");const nr=await q$2(er,tr.aes256GcmHkdfSha256.hkdfSalt),ir=await D$2.subtle.decrypt(L$1(tr.aes256GcmHkdfSha256.gcmNonce,rr),nr,tr.aes256GcmHkdfSha256.payload);return new Uint8Array(ir)}function L$1(tr,er){const rr={name:"AES-GCM",iv:tr};return er&&(rr.additionalData=er),rr}async function q$2(tr,er){const rr=await D$2.subtle.importKey("raw",tr,"HKDF",!1,["deriveKey"]);return D$2.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:er,info:x$2},rr,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function O$1(tr,er){const rr=await D$2.subtle.importKey("raw",tr,"HKDF",!1,["deriveKey"]);return D$2.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:M$1,info:er},rr,{name:"HMAC",hash:"SHA-256",length:256},!0,["sign","verify"])}async function G$1(tr,er,rr){const nr=await O$1(tr,er),ir=await D$2.subtle.sign("HMAC",nr,rr);return new Uint8Array(ir)}async function F$2(tr){const er=await D$2.subtle.exportKey("raw",tr);return new Uint8Array(er)}const j$2=utils$v.bytesToHex;function X(tr,er){if(tr.length!==er.length)return!1;for(let rr=0;rr<tr.length;rr++)if(tr[rr]!==er[rr])return!1;return!0}function J(tr){const er=hexToSignature(tr),rr=hexToBytes$8(er.r),nr=hexToBytes$8(er.s);let ir=Number(er.v);ir!==0&&ir!==1||(ir+=27);const or=1-ir%2,sr=new Uint8Array(64);return sr.set(rr),sr.set(nr,rr.length),{bytes:sr,recovery:or}}function z$2(tr){if(tr.bytes.length!==32)throw new Error(`invalid private key length: ${tr.bytes.length}`)}class Y{constructor(er){if(!er.secp256k1)throw new Error("invalid private key");if(z$2(er.secp256k1),this.secp256k1=er.secp256k1,this.createdNs=er.createdNs,!er.publicKey)throw new Error("missing public key");this.publicKey=new oe(er.publicKey)}static async generate(er){const rr={bytes:utils$v.randomPrivateKey()},nr=Long.fromNumber(new Date().getTime()).mul(1e6),ir=new ie({secp256k1Uncompressed:{bytes:getPublicKey(rr.bytes)},createdNs:nr}),or=await er.signKey(ir);return new Y({secp256k1:rr,createdNs:nr,publicKey:or})}generated(){return new Date(this.createdNs.div(1e6).toNumber())}async sign(er){const[rr,nr]=await sign$1(er,this.secp256k1.bytes,{recovered:!0,der:!1});return new te({ecdsaCompact:{bytes:rr,recovery:nr}})}async signKey(er){const rr=er.toBytes(),nr=await _$2(rr),ir=await this.sign(nr);return new oe({keyBytes:rr,signature:ir})}static async signerKey(er,rr){return ee(await _$2(er.bytesToSign()),rr)}sharedSecret(er){return getSharedSecret(this.secp256k1.bytes,er.secp256k1Uncompressed.bytes,!1)}encrypt(er,rr,nr){return V$1(er,this.sharedSecret(rr),nr)}decrypt(er,rr,nr){return U(er,this.sharedSecret(rr),nr)}matches(er){return this.publicKey.equals(er)}equals(er){return X(this.secp256k1.bytes,er.secp256k1.bytes)&&this.publicKey.equals(er.publicKey)}toBytes(){return SignedPrivateKey.encode(this).finish()}validatePublicKey(){return X(getPublicKey(this.secp256k1.bytes),this.publicKey.secp256k1Uncompressed.bytes)}static fromBytes(er){return new Y(SignedPrivateKey.decode(er))}static fromLegacyKey(er,rr){return new Y({createdNs:er.timestamp.mul(1e6),secp256k1:er.secp256k1,publicKey:oe.fromLegacyKey(er.publicKey,rr)})}}let W$6=class Nl{constructor(er){if(!er.secp256k1)throw new Error("invalid private key");if(z$2(er.secp256k1),this.timestamp=er.timestamp,this.secp256k1=er.secp256k1,!er.publicKey)throw new Error("missing public key");this.publicKey=new ae(er.publicKey)}static generate(){const er={bytes:utils$v.randomPrivateKey()},rr=Long.fromNumber(new Date().getTime());return new Nl({secp256k1:er,timestamp:rr,publicKey:new ae({secp256k1Uncompressed:{bytes:getPublicKey(er.bytes)},timestamp:rr})})}generated(){return new Date(this.timestamp.toNumber())}async sign(er){const[rr,nr]=await sign$1(er,this.secp256k1.bytes,{recovered:!0,der:!1});return new te({ecdsaCompact:{bytes:rr,recovery:nr}})}async signKey(er){const rr=await _$2(er.bytesToSign());return er.signature=await this.sign(rr),er}sharedSecret(er){return getSharedSecret(this.secp256k1.bytes,er.secp256k1Uncompressed.bytes,!1)}encrypt(er,rr,nr){return V$1(er,this.sharedSecret(rr),nr)}decrypt(er,rr,nr){return U(er,this.sharedSecret(rr),nr)}matches(er){return this.publicKey.equals(er)}validatePublicKey(){return X(getPublicKey(this.secp256k1.bytes),this.publicKey.secp256k1Uncompressed.bytes)}toBytes(){return PrivateKey.encode(this).finish()}static fromBytes(er){return new Nl(PrivateKey.decode(er))}};function Q(tr){if(tr.bytes.length!==64)throw new Error(`invalid signature length: ${tr.bytes.length}`);if(tr.recovery!==0&&tr.recovery!==1)throw new Error(`invalid recovery bit: ${tr.recovery}`)}function Z(tr,er){return tr.recovery===er.recovery&&X(tr.bytes,er.bytes)}function ee(tr,er){const rr=recoverPublicKey$2(tr,er.bytes,er.recovery);return rr?new ie({secp256k1Uncompressed:{bytes:rr},createdNs:Long.fromNumber(0)}):void 0}class te{constructor(er){if(er.ecdsaCompact)Q(er.ecdsaCompact),this.ecdsaCompact=er.ecdsaCompact;else{if(!er.walletEcdsaCompact)throw new Error("invalid signature");Q(er.walletEcdsaCompact),this.walletEcdsaCompact=er.walletEcdsaCompact}}async signerKey(er){return this.ecdsaCompact?Y.signerKey(er,this.ecdsaCompact):this.walletEcdsaCompact?ne.signerKey(er,this.walletEcdsaCompact):void 0}getPublicKey(er){let rr;if(this.ecdsaCompact)rr=recoverPublicKey$2(er,this.ecdsaCompact.bytes,this.ecdsaCompact.recovery);else{if(!this.walletEcdsaCompact)throw new Error("invalid v1 signature");rr=recoverPublicKey$2(er,this.walletEcdsaCompact.bytes,this.walletEcdsaCompact.recovery)}return rr?new ae({secp256k1Uncompressed:{bytes:rr},timestamp:Long.fromNumber(0)}):void 0}equals(er){return this.ecdsaCompact&&er.ecdsaCompact?Z(this.ecdsaCompact,er.ecdsaCompact):!(!this.walletEcdsaCompact||!er.walletEcdsaCompact)&&Z(this.walletEcdsaCompact,er.walletEcdsaCompact)}toBytes(){return Signature$5.encode(this).finish()}static fromBytes(er){return new te(Signature$5.decode(er))}}var se;(function(tr){tr[tr.INBOX_KEY=0]="INBOX_KEY",tr[tr.SEND_KEY=1]="SEND_KEY"})(se||(se={}));class ne{constructor(er){this.wallet=er}static identitySigRequestText(er){return`XMTP : Create Identity
${j$2(er)}

For more info: https://xmtp.org/signatures/`}static signerKey(er,rr){return ee(hexToBytes$8(hashMessage(this.identitySigRequestText(er.bytesToSign()))),rr)}async signKey(er){const rr=er.toBytes(),nr=await this.wallet.signMessage(ne.identitySigRequestText(rr)),{bytes:ir,recovery:or}=J(nr),sr=new te({walletEcdsaCompact:{bytes:ir,recovery:or}});return new oe({keyBytes:rr,signature:sr})}}const re$7=new Long(10**9).mul(10**9);class ie{constructor(er){if(!er?.secp256k1Uncompressed)throw new Error("invalid public key");(function(rr){if(rr.bytes.length!==65)throw new Error(`invalid public key length: ${rr.bytes.length}`);if(rr.bytes[0]!==4)throw new Error(`unrecognized public key prefix: ${rr.bytes[0]}`)})(er.secp256k1Uncompressed),this.secp256k1Uncompressed=er.secp256k1Uncompressed,this.createdNs=er.createdNs.toUnsigned()}generated(){return new Date(this.timestamp.toNumber())}isFromLegacyKey(){return this.createdNs.lessThan(re$7)}get timestamp(){return(this.isFromLegacyKey()?this.createdNs:this.createdNs.div(1e6)).toUnsigned()}verify(er,rr){return!!er.ecdsaCompact&&verify(er.ecdsaCompact.bytes,rr,this.secp256k1Uncompressed.bytes)}async verifyKey(er){if(!er.signature)return!1;const rr=await _$2(er.bytesToSign());return this.verify(er.signature,rr)}equals(er){return X(this.secp256k1Uncompressed.bytes,er.secp256k1Uncompressed.bytes)}getEthereumAddress(){return function(er){const rr=bytesToHex$7(er.slice(1)),nr=keccak256$3(rr),ir=nr.substring(nr.length-40);return getAddress(`0x${ir}`)}(this.secp256k1Uncompressed.bytes)}toBytes(){return UnsignedPublicKey.encode(this).finish()}static fromBytes(er){return new ie(UnsignedPublicKey.decode(er))}}class oe extends ie{constructor(er){if(!er.keyBytes)throw new Error("missing key bytes");if(super(UnsignedPublicKey.decode(er.keyBytes)),this.keyBytes=er.keyBytes,!er.signature)throw new Error("missing key signature");this.signature=new te(er.signature)}get unsignedKey(){return new ie({createdNs:this.createdNs,secp256k1Uncompressed:this.secp256k1Uncompressed})}signerKey(){return this.signature.signerKey(this)}async walletSignatureAddress(){if(!this.signature.walletEcdsaCompact)throw new Error("key was not signed by a wallet");const er=await this.signerKey();if(!er)throw new Error("key signature not valid");return er.getEthereumAddress()}equals(er){return this.unsignedKey.equals(er.unsignedKey)&&this.signature.equals(er.signature)}bytesToSign(){return this.keyBytes}toBytes(){return SignedPublicKey.encode(this).finish()}static fromBytes(er){return new oe(SignedPublicKey.decode(er))}toLegacyKey(){if(!this.isFromLegacyKey())throw new Error("cannot be converted to legacy key");let er=this.signature;return er.walletEcdsaCompact&&(er=new te({ecdsaCompact:er.walletEcdsaCompact})),new ae({timestamp:this.timestamp,secp256k1Uncompressed:this.secp256k1Uncompressed,signature:er})}static fromLegacyKey(er,rr){if(!er.signature)throw new Error("key is not signed");let nr=er.signature;return rr&&(nr=new te({walletEcdsaCompact:nr.ecdsaCompact})),new oe({keyBytes:er.bytesToSign(),signature:nr})}}class ae extends ie{constructor(er){super({createdNs:er.timestamp.mul(1e6),secp256k1Uncompressed:er.secp256k1Uncompressed}),er.signature&&(!er.signature.ecdsaCompact&&er.signature.walletEcdsaCompact?this.signature=new te({ecdsaCompact:{bytes:er.signature.walletEcdsaCompact.bytes,recovery:er.signature.walletEcdsaCompact.recovery}}):this.signature=new te(er.signature))}get timestamp(){return this.createdNs.div(1e6)}bytesToSign(){return PublicKey.encode({timestamp:this.timestamp,secp256k1Uncompressed:this.secp256k1Uncompressed}).finish()}async signWithWallet(er){const rr=await er.signMessage(ne.identitySigRequestText(this.bytesToSign())),{bytes:nr,recovery:ir}=J(rr);this.signature=new te({ecdsaCompact:{bytes:nr,recovery:ir}})}walletSignatureAddress(){if(!this.signature)throw new Error("key is not signed");const er=hexToBytes$8(hashMessage(ne.identitySigRequestText(this.bytesToSign()))),rr=this.signature.getPublicKey(er);if(!rr)throw new Error("key signature is malformed");return rr.getEthereumAddress()}toBytes(){return PublicKey.encode(this).finish()}static fromBytes(er){return new ae(PublicKey.decode(er))}}class ce{constructor(er){if(!er.identityKey)throw new Error("missing identity key");if(!er.preKey)throw new Error("missing pre-key");this.identityKey=new oe(er.identityKey),this.preKey=new oe(er.preKey)}walletSignatureAddress(){return this.identityKey.walletSignatureAddress()}equals(er){return this.identityKey.equals(er.identityKey)&&this.preKey.equals(er.preKey)}toBytes(){return SignedPublicKeyBundle.encode(this).finish()}isFromLegacyBundle(){return this.identityKey.isFromLegacyKey()&&this.preKey.isFromLegacyKey()}toLegacyBundle(){return new de({identityKey:this.identityKey.toLegacyKey(),preKey:this.preKey.toLegacyKey()})}static fromBytes(er){const rr=SignedPublicKeyBundle.decode(er);return new ce(rr)}static fromLegacyBundle(er){return new ce({identityKey:oe.fromLegacyKey(er.identityKey,!0),preKey:oe.fromLegacyKey(er.preKey)})}}class de{constructor(er){if(!er.identityKey)throw new Error("missing identity key");if(!er.preKey)throw new Error("missing pre-key");this.identityKey=new ae(er.identityKey),this.preKey=new ae(er.preKey)}equals(er){return this.identityKey.equals(er.identityKey)&&this.preKey.equals(er.preKey)}walletSignatureAddress(){return this.identityKey.walletSignatureAddress()}toBytes(){return PublicKeyBundle.encode(this).finish()}static fromBytes(er){const rr=PublicKeyBundle.decode(er);return new de(rr)}}class he{constructor(er,rr){this.messageEnvelope=er,this.onSend=rr}async messageID(){if(!this.messageEnvelope.message)throw new Error("no envelope message");return j$2(await _$2(this.messageEnvelope.message))}async send(){return this.onSend()}}class ye{constructor(er,rr,nr,ir,or){this.messages=[],this.resolvers=[],this.topics=rr,this.client=er,this.callback=this.newMessageCallback(nr,ir),this.onConnectionLost=or}newMessageCallback(er,rr){return async nr=>{if(nr.message)try{const ir=await er(nr);if(!ir)return;if(rr){const sr=rr(ir);sr&&this.resubscribeToTopics(sr)}const or=this.resolvers.pop();or?or({value:ir}):this.messages.unshift(ir)}catch(ir){console.warn(ir)}}}async start(){if(!this.callback)throw new Error("Missing callback for stream");this.subscriptionManager=this.client.apiClient.subscribe({contentTopics:this.topics},async er=>{this.callback&&await this?.callback(er)},this.onConnectionLost)}static async create(er,rr,nr,ir,or){const sr=new ye(er,rr,nr,ir,or);return await sr.start(),sr}[Symbol.asyncIterator](){return this}async return(){return this.subscriptionManager&&await this.subscriptionManager.unsubscribe(),this.callback?(this.callback=void 0,this.resolvers.forEach(er=>er({value:void 0,done:!0})),{value:void 0,done:!0}):{value:void 0,done:!0}}next(){const er=this.messages.pop();return er?Promise.resolve({value:er}):this.callback?new Promise(rr=>this.resolvers.unshift(rr)):Promise.resolve({value:void 0,done:!0})}async resubscribeToTopics(er){if(!this.callback||!this.subscriptionManager)throw new Error("Missing callback for stream");if(typeof this.subscriptionManager?.updateContentTopics=="function")return this.subscriptionManager.updateContentTopics(er);await this.subscriptionManager.unsubscribe(),this.topics=er,this.subscriptionManager=this.client.apiClient.subscribe({contentTopics:this.topics},async rr=>{this.callback&&await this?.callback(rr)},this.onConnectionLost)}}const{b64Decode:ue,b64Encode:le}=r$6;function pe(tr,er){const rr=new Uint8Array(tr.length+er.length);return rr.set(tr),rr.set(er,tr.length),rr}function we(tr){return Long.fromNumber(tr.valueOf()).multiply(1e6)}function fe$1(tr){return new Date(tr.divide(1e6).toNumber())}const me=tr=>tr&&we(tr).toString(),ge$1=tr=>{if(tr)return fe$1(Long.fromString(tr))};class ve extends Error{constructor(er,rr){super(rr),this.code=er}}const be=tr=>{if(tr.error)throw new ve(tr.error.code,tr.error.message);if(!tr.result)throw new ve(ErrorCode$1.ERROR_CODE_UNSPECIFIED,"No result from Keystore");if("encrypted"in tr.result&&!tr.result.encrypted)throw new Error("Missing ciphertext");if("decrypted"in tr.result&&!tr.result.decrypted)throw new Error("Missing decrypted result");return tr.result},Ee=(tr,er)=>({requests:tr.map(rr=>{const nr=new de({identityKey:rr.header.sender?.identityKey,preKey:rr.header.sender?.preKey}),ir=er.equals(nr);return{payload:rr.ciphertext,peerKeys:ir?new de({identityKey:rr.header.recipient?.identityKey,preKey:rr.header.recipient?.preKey}):nr,headerBytes:rr.headerBytes,isSender:ir}})}),Ke=tr=>`/xmtp/0/${tr}/proto`,ke=(tr,er)=>{const rr=[getAddress(tr),getAddress(er)];return rr.sort(),Ke(`dm-${rr.join("-")}`)},Ae=tr=>Ke(`m-${tr}`),Se=tr=>Ke(`contact-${getAddress(tr)}`),Te=tr=>Ke(`intro-${getAddress(tr)}`),Ce=tr=>Ke(`invite-${getAddress(tr)}`),Pe=tr=>Ke(`privatestore-${tr}`),Ie=tr=>Ke(`userpreferences-${tr}`),Be=tr=>{const er=/^[\x21-\x7F]+$/,rr=tr.indexOf("0/");if(rr!==-1){const nr=tr.substring(rr+2,tr.lastIndexOf("/proto"));return er.test(nr)}return!1};class Re{constructor(er,rr,nr){this.conversationVersion="v1",this.context=void 0,this.peerAddress=getAddress(rr),this.client=er,this.createdAt=nr}get clientAddress(){return this.client.address}async allow(){await this.client.contacts.allow([this.peerAddress])}async deny(){await this.client.contacts.deny([this.peerAddress])}get isAllowed(){return this.client.contacts.isAllowed(this.peerAddress)}get isDenied(){return this.client.contacts.isDenied(this.peerAddress)}get consentState(){return this.client.contacts.consentState(this.peerAddress)}get topic(){return ke(this.peerAddress,this.client.address)}get ephemeralTopic(){return ke(this.peerAddress,this.client.address).replace("/xmtp/0/dm-","/xmtp/0/dmE-")}async messages(er){const rr=ke(this.peerAddress,this.client.address),nr=await this.client.listEnvelopes(rr,this.processEnvelope.bind(this),er);return this.decryptBatch(nr,rr,!1)}messagesPaginated(er){return this.client.listEnvelopesPaginated(this.topic,this.decodeMessage.bind(this),er)}async decodeMessage(er){if(!er.contentTopic)throw new Error("Missing content topic");const rr=await this.processEnvelope(er),nr=await this.decryptBatch([rr],er.contentTopic,!0);if(!nr.length)throw new Error("No results");return nr[0]}async prepareMessage(er,rr){let nr,ir=await this.client.getUserContact(this.peerAddress);if(!ir)throw new Error(`recipient ${this.peerAddress} is not registered`);ir instanceof de||(ir=ir.toLegacyBundle());const or=rr?.ephemeral?this.ephemeralTopic:this.topic;this.client.contacts.addresses.has(this.peerAddress)?nr=[or]:(nr=[Te(this.peerAddress),Te(this.client.address),or],this.client.contacts.addresses.add(this.peerAddress));const{payload:sr}=await this.client.encodeContent(er,rr),ar=await this.createMessage(sr,ir,rr?.timestamp),cr=ar.toBytes(),lr={contentTopic:or,message:cr,timestampNs:me(ar.sent)};return new he(lr,async()=>(await this.client.publishEnvelopes(nr.map(ur=>({contentTopic:ur,message:cr,timestamp:ar.sent}))),Ve.fromV1Message(ar,er,rr?.contentType||t$6,sr,or,this)))}streamMessages(er){return ye.create(this.client,[this.topic],async rr=>this.decodeMessage(rr),void 0,er)}async processEnvelope({message:er,contentTopic:rr}){if(!er||!er.length)throw new Error("empty envelope");const nr=await Me.fromBytes(er),{senderAddress:ir,recipientAddress:or}=nr;if(!ir||!or||!rr||ke(ir,or)!==this.topic)throw new Error("Headers do not match intended recipient");return nr}streamEphemeral(er){return ye.create(this.client,[this.ephemeralTopic],this.decodeMessage.bind(this),void 0,er)}async send(er,rr){let nr,ir=await this.client.getUserContact(this.peerAddress);if(!ir)throw new Error(`recipient ${this.peerAddress} is not registered`);ir instanceof de||(ir=ir.toLegacyBundle());const or=rr?.ephemeral?this.ephemeralTopic:this.topic;this.client.contacts.addresses.has(this.peerAddress)?nr=[or]:(nr=[Te(this.peerAddress),Te(this.client.address),or],this.client.contacts.addresses.add(this.peerAddress));const sr=rr?.contentType||t$6,{payload:ar}=await this.client.encodeContent(er,rr),cr=await this.createMessage(ar,ir,rr?.timestamp);return await this.client.publishEnvelopes(nr.map(lr=>({contentTopic:lr,message:cr.toBytes(),timestamp:cr.sent}))),this.consentState==="unknown"&&await this.allow(),Ve.fromV1Message(cr,er,sr,ar,or,this)}async decryptBatch(er,rr,nr=!1){const ir=(await this.client.keystore.decryptV1(Ee(er,this.client.publicKeyBundle))).responses,or=[];for(let sr=0;sr<ir.length;sr++){const ar=ir[sr],cr=er[sr];try{const{decrypted:lr}=be(ar);or.push(await this.buildDecodedMessage(cr,lr,rr))}catch(lr){if(nr)throw lr;console.warn("Error decoding content",lr)}}return or}async buildDecodedMessage(er,rr,nr){const{content:ir,contentType:or,error:sr,contentFallback:ar}=await this.client.decodeContent(rr);return Ve.fromV1Message(er,ir,or,rr,nr,this,sr,ar)}async createMessage(er,rr,nr){return nr=nr||new Date,Me.encode(this.client.keystore,er,this.client.publicKeyBundle,rr,nr)}}class Ne{constructor(er,rr,nr,ir,or,sr){this.conversationVersion="v2",this.topic=rr,this.createdAt=ir,this.context=or,this.client=er,this.peerAddress=nr,this.consentProof=sr}get clientAddress(){return this.client.address}async allow(){await this.client.contacts.allow([this.peerAddress])}async deny(){await this.client.contacts.deny([this.peerAddress])}get isAllowed(){return this.client.contacts.isAllowed(this.peerAddress)}get isDenied(){return this.client.contacts.isDenied(this.peerAddress)}get consentState(){return this.client.contacts.consentState(this.peerAddress)}get consentProofPayload(){return this.consentProof}async messages(er){const rr=await this.client.listEnvelopes(this.topic,this.processEnvelope.bind(this),er);return this.decryptBatch(rr,!1)}messagesPaginated(er){return this.client.listEnvelopesPaginated(this.topic,this.decodeMessage.bind(this),er)}get ephemeralTopic(){return this.topic.replace("/xmtp/0/m","/xmtp/0/mE")}streamEphemeral(er){return ye.create(this.client,[this.ephemeralTopic],this.decodeMessage.bind(this),void 0,er)}streamMessages(er){return ye.create(this.client,[this.topic],this.decodeMessage.bind(this),void 0,er)}async send(er,rr){const{payload:nr,shouldPush:ir}=await this.client.encodeContent(er,rr),or=await this.createMessage(nr,ir,rr?.timestamp),sr=rr?.ephemeral?this.ephemeralTopic:this.topic;await this.client.publishEnvelopes([{contentTopic:sr,message:or.toBytes(),timestamp:or.sent}]);const ar=rr?.contentType||t$6;return this.consentState==="unknown"&&await this.allow(),Ve.fromV2Message(or,er,ar,sr,nr,this,this.client.address)}async createMessage(er,rr,nr){const ir={topic:this.topic,createdNs:we(nr||new Date)},or=MessageHeaderV2.encode(ir).finish(),sr=await _$2(pe(or,er)),ar={payload:er,sender:this.client.signedPublicKeyBundle,signature:await this.client.keystore.signDigest({digest:sr,prekeyIndex:0,identityKey:void 0})},cr=SignedContent.encode(ar).finish(),{encrypted:lr,senderHmac:ur}=await this.encryptMessage(cr,or),fr={v1:void 0,v2:{headerBytes:or,ciphertext:lr,senderHmac:ur,shouldPush:rr}},dr=Message.encode(fr).finish();return _e.create(fr,ir,dr,ur,rr)}async decryptBatch(er,rr=!1){const nr=(await this.client.keystore.decryptV2(this.buildDecryptRequest(er))).responses,ir=[];for(let or=0;or<nr.length;or++){const sr=nr[or],ar=er[or];try{const{decrypted:cr}=be(sr);ir.push(await this.buildDecodedMessage(ar,cr))}catch(cr){if(rr)throw cr;console.warn("Error decoding content",cr)}}return ir}buildDecryptRequest(er){return{requests:er.map(rr=>({payload:rr.ciphertext,headerBytes:rr.headerBytes,contentTopic:this.topic}))}}async encryptMessage(er,rr){const{responses:nr}=await this.client.keystore.encryptV2({requests:[{payload:er,headerBytes:rr,contentTopic:this.topic}]});if(nr.length!==1)throw new Error("Invalid response length");const{encrypted:ir,senderHmac:or}=be(nr[0]);return{encrypted:ir,senderHmac:or}}async buildDecodedMessage(er,rr){const nr=SignedContent.decode(rr);if(!nr.sender?.identityKey||!nr.sender?.preKey||!nr.signature)throw new Error("incomplete signed content");await async function(ur){const fr=ur.sender?.preKey;if(!fr||!fr.signature||!fr.keyBytes)throw new Error("missing pre-key or pre-key signature");const dr=ur.sender?.identityKey;if(!dr)throw new Error("missing identity key in bundle");if(!await new oe(dr).verifyKey(new oe(fr)))throw new Error("pre key not signed by identity key")}(nr);const ir=await _$2(pe(er.headerBytes,nr.payload));if(!new oe(nr.sender?.preKey).verify(new te(nr.signature),ir))throw new Error("invalid signature");const or=await new ce(nr.sender).walletSignatureAddress(),{content:sr,contentType:ar,error:cr,contentFallback:lr}=await this.client.decodeContent(nr.payload);return Ve.fromV2Message(er,sr,ar,this.topic,nr.payload,this,or,cr,lr)}async prepareMessage(er,rr){const{payload:nr,shouldPush:ir}=await this.client.encodeContent(er,rr),or=await this.createMessage(nr,ir,rr?.timestamp),sr=or.toBytes(),ar=rr?.ephemeral?this.ephemeralTopic:this.topic,cr={contentTopic:ar,message:sr,timestampNs:me(or.sent)};return new he(cr,async()=>(await this.client.publishEnvelopes([{contentTopic:ar,message:sr,timestamp:or.sent}]),Ve.fromV2Message(or,er,rr?.contentType||t$6,ar,nr,this,this.client.address)))}async processEnvelope(er){if(!er.message||!er.contentTopic)throw new Error("empty envelope");const rr=Message.decode(er.message);if(!rr.v2)throw new Error("unknown message version");const nr=MessageHeaderV2.decode(rr.v2.headerBytes);if(nr.topic!==this.topic)throw new Error("topic mismatch");return _e.create(rr,nr,er.message,rr.v2.senderHmac,rr.v2.shouldPush)}async decodeMessage(er){if(!er.contentTopic)throw new Error("Missing content topic");const rr=await this.processEnvelope(er),nr=await this.decryptBatch([rr],!0);if(!nr.length)throw new Error("No results");return nr[0]}}const De=tr=>{if(tr.v1?.ciphertext)return[tr.v1.headerBytes,new N$1(tr.v1.ciphertext)];if(tr.v2?.ciphertext)return[tr.v2.headerBytes,new N$1(tr.v2.ciphertext)];throw new Error("unknown message version")};class xe{constructor(er,rr,nr){[this.headerBytes,this.ciphertext]=De(nr),this.id=er,this.bytes=rr}toBytes(){return this.bytes}}class Me extends xe{constructor(er,rr,nr,ir,or){super(er,rr,nr),this.conversation=void 0,this.senderAddress=or,this.header=ir}static async create(er,rr,nr){if(!rr.sender)throw new Error("missing message sender");const ir=new de(rr.sender).walletSignatureAddress(),or=j$2(await _$2(nr));return new Me(or,nr,er,rr,ir)}get sent(){return new Date(this.header.timestamp.toNumber())}get recipientAddress(){if(this.header?.recipient?.identityKey)return new ae(this.header.recipient.identityKey).walletSignatureAddress()}async decrypt(er,rr){const nr=(await er.decryptV1(Ee([this],rr))).responses;if(!nr.length)throw new Error("No response from Keystore");const{decrypted:ir}=be(nr[0]);return ir}static fromBytes(er){const rr=Message.decode(er),[nr]=De(rr),ir=MessageHeaderV1.decode(nr);if(!ir)throw new Error("missing message header");if(!ir.sender)throw new Error("missing message sender");if(!ir.sender.identityKey)throw new Error("missing message sender identity key");if(!ir.sender.preKey)throw new Error("missing message sender pre-key");if(!ir.recipient)throw new Error("missing message recipient");if(!ir.recipient.identityKey)throw new Error("missing message recipient identity-key");if(!ir.recipient.preKey)throw new Error("missing message recipient pre-key");return Me.create(rr,ir,er)}static async encode(er,rr,nr,ir,or){const sr={sender:nr,recipient:ir,timestamp:Long.fromNumber(or.getTime())},ar=MessageHeaderV1.encode(sr).finish(),cr=await er.encryptV1({requests:[{recipient:ir,headerBytes:ar,payload:rr}]});if(!cr.responses.length)throw new Error("No response from Keystore");const{encrypted:lr}=be(cr.responses[0]),ur={v1:{headerBytes:ar,ciphertext:lr},v2:void 0},fr=Message.encode(ur).finish();return Me.create(ur,sr,fr)}}class _e extends xe{constructor(er,rr,nr,ir,or,sr){super(er,rr,nr),this.header=ir,this.senderHmac=or,this.shouldPush=sr}static async create(er,rr,nr,ir,or){const sr=j$2(await _$2(nr));return new _e(sr,nr,er,rr,ir,or)}get sent(){return fe$1(this.header.createdNs)}}class Ve{constructor({id:er,messageVersion:rr,senderAddress:nr,recipientAddress:ir,conversation:or,contentBytes:sr,contentType:ar,contentTopic:cr,content:lr,sent:ur,error:fr,contentFallback:dr}){this.id=er,this.messageVersion=rr,this.senderAddress=nr,this.recipientAddress=ir,this.conversation=or,this.contentType=ar,this.sent=ur,this.error=fr,this.content=lr,this.contentTopic=cr,this.contentBytes=sr,this.contentFallback=dr}toBytes(){return DecodedMessage.encode({...this,conversation:{topic:this.conversation.topic,context:this.conversation.context??void 0,createdNs:we(this.conversation.createdAt),peerAddress:this.conversation.peerAddress,consentProofPayload:this.conversation.consentProof??void 0},sentNs:we(this.sent)}).finish()}static async fromBytes(er,rr){const nr=DecodedMessage.decode(er),ir=nr.messageVersion;if(ir!=="v1"&&ir!=="v2")throw new Error("Invalid message version");if(!nr.conversation)throw new Error("No conversation reference found");const{content:or,contentType:sr,error:ar,contentFallback:cr}=await rr.decodeContent(nr.contentBytes);return new Ve({...nr,content:or,contentType:sr,error:ar,messageVersion:ir,sent:fe$1(nr.sentNs),conversation:Ue(nr.conversation,rr,ir),contentFallback:cr})}static fromV1Message(er,rr,nr,ir,or,sr,ar,cr){const{id:lr,senderAddress:ur,recipientAddress:fr,sent:dr}=er;if(!ur)throw new Error("Sender address is required");return new Ve({id:lr,messageVersion:"v1",senderAddress:ur,recipientAddress:fr,sent:dr,content:rr,contentBytes:ir,contentType:nr,contentTopic:or,conversation:sr,error:ar,contentFallback:cr})}static fromV2Message(er,rr,nr,ir,or,sr,ar,cr,lr){const{id:ur,sent:fr}=er;return new Ve({id:ur,messageVersion:"v2",senderAddress:ar,sent:fr,content:rr,contentBytes:or,contentType:nr,contentTopic:ir,conversation:sr,error:cr,contentFallback:lr})}}function Ue(tr,er,rr){if(rr==="v1")return new Re(er,tr.peerAddress,fe$1(tr.createdNs));if(rr==="v2")return new Ne(er,tr.topic,tr.peerAddress,fe$1(tr.createdNs),tr.context,tr.consentProofPayload);throw new Error(`Unknown conversation version ${rr}`)}class qe extends Error{constructor(er){super(`no pre-key matches: ${j$2(er.secp256k1Uncompressed.bytes)}`)}}class Oe{constructor(er){if(this.version=2,!er.identityKey)throw new Error("missing identity key");this.identityKey=new Y(er.identityKey),this.preKeys=(er.preKeys||[]).map(rr=>new Y(rr))}static async generate(er){const rr=await Y.generate(new ne(er)),nr=new Oe({identityKey:rr,preKeys:[]});return await nr.addPreKey(),nr}getCurrentPreKey(){return this.preKeys[0]}findPreKey(er){const rr=this.preKeys.find(nr=>nr.matches(er));if(!rr)throw new qe(er);return rr}async addPreKey(){this._publicKeyBundle=void 0;const er=await Y.generate(this.identityKey);this.preKeys.unshift(er)}getPublicKeyBundle(){return this._publicKeyBundle||(this._publicKeyBundle=new ce({identityKey:this.identityKey.publicKey,preKey:this.getCurrentPreKey().publicKey})),this._publicKeyBundle}async sharedSecret(er,rr,nr){if(!er.identityKey||!er.preKey)throw new Error("invalid peer key bundle");if(!await er.identityKey.verifyKey(er.preKey))throw new Error("peer preKey signature invalid");if(!this.identityKey)throw new Error("missing identity key");let ir,or,sr;nr?(sr=this.findPreKey(rr),ir=sr.sharedSecret(er.identityKey),or=this.identityKey.sharedSecret(er.preKey)):(sr=this.findPreKey(rr),ir=this.identityKey.sharedSecret(er.preKey),or=sr.sharedSecret(er.identityKey));const ar=sr.sharedSecret(er.preKey),cr=new Uint8Array(ir.length+or.length+ar.length);return cr.set(ir,0),cr.set(or,ir.length),cr.set(ar,ir.length+or.length),cr}encode(){return PrivateKeyBundle.encode({v1:void 0,v2:this}).finish()}validatePublicKeys(){return!!this.identityKey.validatePublicKey()&&this.preKeys.every(er=>er.validatePublicKey())}equals(er){if(this.preKeys.length!==er.preKeys.length)return!1;for(let rr=0;rr<this.preKeys.length;rr++)if(!this.preKeys[rr].equals(er.preKeys[rr]))return!1;return this.identityKey.equals(er.identityKey)}static fromLegacyBundle(er){return new Oe({identityKey:Y.fromLegacyKey(er.identityKey,!0),preKeys:er.preKeys.map(rr=>Y.fromLegacyKey(rr))})}}class Ge{constructor(er){if(this.version=1,!er.identityKey)throw new Error("missing identity key");this.identityKey=new W$6(er.identityKey),this.preKeys=(er.preKeys||[]).map(rr=>new W$6(rr))}static async generate(er){const rr=W$6.generate();er&&await rr.publicKey.signWithWallet(er);const nr=new Ge({identityKey:rr,preKeys:[]});return await nr.addPreKey(),nr}getCurrentPreKey(){return this.preKeys[0]}findPreKey(er){const rr=this.preKeys.find(nr=>nr.matches(er));if(!rr)throw new qe(er);return rr}async addPreKey(){this._publicKeyBundle=void 0;const er=W$6.generate();await this.identityKey.signKey(er.publicKey),this.preKeys.unshift(er)}getPublicKeyBundle(){return this._publicKeyBundle||(this._publicKeyBundle=new de({identityKey:this.identityKey.publicKey,preKey:this.getCurrentPreKey().publicKey})),this._publicKeyBundle}validatePublicKeys(){return!!this.identityKey.validatePublicKey()&&this.preKeys.every(er=>er.validatePublicKey())}async sharedSecret(er,rr,nr){if(!er.identityKey||!er.preKey)throw new Error("invalid peer key bundle");if(!await er.identityKey.verifyKey(er.preKey))throw new Error("peer preKey signature invalid");if(!this.identityKey)throw new Error("missing identity key");let ir,or,sr;nr?(sr=this.findPreKey(rr),ir=sr.sharedSecret(er.identityKey),or=this.identityKey.sharedSecret(er.preKey)):(sr=this.findPreKey(rr),ir=this.identityKey.sharedSecret(er.preKey),or=sr.sharedSecret(er.identityKey));const ar=sr.sharedSecret(er.preKey),cr=new Uint8Array(ir.length+or.length+ar.length);return cr.set(ir,0),cr.set(or,ir.length),cr.set(ar,ir.length+or.length),cr}encode(){return PrivateKeyBundle.encode({v1:this,v2:void 0}).finish()}}function He(tr){const er=PrivateKeyBundle.decode(tr);if(er.v1)return new Ge(er.v1);if(er.v2)return new Oe(er.v2);throw new Error("unknown private key bundle version")}class Fe{constructor({walletAddr:er,createdNs:rr}){this.walletAddr=er,this.createdNs=rr}static create(er,rr){return rr=rr||new Date,new Fe({walletAddr:er,createdNs:we(rr)})}static fromBytes(er){const rr=AuthData.decode(er);return new Fe(rr)}toBytes(){return AuthData.encode(this).finish()}}class $e{constructor({identityKey:er,authDataBytes:rr,authDataSignature:nr}){if(!er)throw new Error("Missing identity key in token");if(!nr)throw new Error("Missing authDataSignature in token");this.identityKey=er,this.authDataBytes=rr,this.authDataSignature=nr}get authData(){return this._authData||(this._authData=Fe.fromBytes(this.authDataBytes)),this._authData}get ageMs(){return new Date().valueOf()-this.authData.createdNs.div(1e6).toNumber()}toBytes(){return Token.encode(this).finish()}static fromBytes(er){return new $e(Token.decode(er))}toBase64(){return Buffer.from(this.toBytes()).toString("base64")}}class je{constructor(er){this.keystore=er}async createToken(er){return(rr=>rr instanceof $e?rr:new $e(rr))(await this.keystore.createAuthToken({timestampNs:er?we(er):void 0}))}}const Xe=tr=>new Promise(er=>setTimeout(er,tr)),Je=tr=>!!tr;async function ze(tr,er,rr,nr,ir=Je,or=1){const sr=typeof or=="number"?or:1;try{return await tr(...er)}catch(ar){if(!ir(ar)||sr>rr)throw ar;return await Xe(nr),ze(tr,er,rr,nr,ir,sr+1)}}async function*Ye(tr,er){for await(const rr of tr){const nr=await Promise.allSettled(rr.map(er)),ir=[];for(const or of nr)or.status==="fulfilled"?ir.push(or.value):console.warn("Failed to process envelope due to reason: ",or.reason);yield ir}}class We{constructor(er,rr=3590){this.authenticator=er,this.maxAgeMs=1e3*rr}async getToken(){return(!this.token||this.token.ageMs>this.maxAgeMs)&&await this.refresh(),this.token.toBase64()}async refresh(){this.token=await this.authenticator.createToken()}}const{MessageApi:Qe,SortDirection:Ze}=d$2,et={local:"http://localhost:5555",dev:"https://dev.xmtp.network",production:"https://production.xmtp.network"};var tt;(function(tr){tr[tr.OK=0]="OK",tr[tr.CANCELLED=1]="CANCELLED",tr[tr.UNKNOWN=2]="UNKNOWN",tr[tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tr[tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tr[tr.NOT_FOUND=5]="NOT_FOUND",tr[tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",tr[tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",tr[tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tr[tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tr[tr.ABORTED=10]="ABORTED",tr[tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",tr[tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",tr[tr.INTERNAL=13]="INTERNAL",tr[tr.UNAVAILABLE=14]="UNAVAILABLE",tr[tr.DATA_LOSS=15]="DATA_LOSS",tr[tr.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(tt||(tt={}));class st extends Error{constructor(er,rr){super(er),this.code=rr}static fromObject(er){return new st(er.message,er.code)}}const nt=tr=>!!tr&&!(tr.name!=="AbortError"&&!tr.message.includes("aborted")),rt=tr=>!(er=>!(!er||!("code"in er)||er.code!==16))(tr),it=tr=>(tr.message&&tr.message.length&&typeof tr.message=="string"&&(tr.message=ue(tr.message)),tr);class ot{constructor(er,rr){this.pathPrefix=er,this.maxRetries=rr?.maxRetries||5,this.appVersion=rr?.appVersion,this.version="xmtp-js/12.1.0",er===et.dev&&console.info(`
XX    XX MM    MM TTTTTT PPPPPP   DDDDD   EEEEEEE VV     VV 
 XX  XX  MMM  MMM   TT   PP   PP  DD  DD  EE      VV     VV 
  XXXX   MM MM MM   TT   PPPPPP   DD   DD EEEEE    VV   VV  
 XX  XX  MM    MM   TT   PP       DD   DD EE        VV VV   
XX    XX MM    MM   TT   PP       DDDDDD  EEEEEEE    VVV    

Connected to the XMTP 'dev' network. Use 'production' for production messages.
https://github.com/xmtp/xmtp-js#xmtp-production-and-dev-network-environments
`)}async _query(er){try{return await ze(Qe.Query,[er,{pathPrefix:this.pathPrefix,mode:"cors",headers:this.headers()}],this.maxRetries,100)}catch(rr){throw st.fromObject(rr)}}_batchQuery(er){return ze(Qe.BatchQuery,[er,{pathPrefix:this.pathPrefix,mode:"cors",headers:this.headers()}],this.maxRetries,100)}async _publish(er,rr=0){const nr=await this.getToken(),ir=this.headers();ir.set("Authorization",`Bearer ${nr}`);try{return await ze(Qe.Publish,[er,{pathPrefix:this.pathPrefix,mode:"cors",headers:ir}],this.maxRetries,100,rt)}catch(or){if(rt(or)||rr>=1)throw st.fromObject(or);return await this.authCache?.refresh(),this._publish(er,rr+1)}}_subscribe(er,rr,nr){const ir=new AbortController;return(async()=>{for(;;){const or=new Date().getTime();try{if(await Qe.Subscribe(er,rr,{pathPrefix:this.pathPrefix,signal:ir.signal,mode:"cors",headers:this.headers()}),ir.signal.aborted)return;console.info("Stream connection closed. Resubscribing"),new Date().getTime()-or<1e3&&await Xe(1e3),nr?.()}catch(sr){if(nt(sr)||ir.signal.aborted)return;console.info("Stream connection closed. Resubscribing"),new Date().getTime()-or<1e3&&await Xe(1e3),nr?.()}}})(),{unsubscribe:async()=>{ir?.abort()}}}async query(er,{direction:rr=Ze.SORT_DIRECTION_ASCENDING,limit:nr}){const ir=[];for await(const or of this.queryIteratePages(er,{direction:rr,pageSize:nr&&nr<100?nr:100}))for(const sr of or)if(ir.push(sr),nr&&ir.length===nr)return ir;return ir}async*queryIterator(er,rr){for await(const nr of this.queryIteratePages(er,rr))for(const ir of nr)yield ir}async*queryIteratePages({contentTopic:er,startTime:rr,endTime:nr},{direction:ir,pageSize:or=10}){if(!er||!er.length)throw new Error("Must specify content topics");const sr=me(rr),ar=me(nr);let cr;for(;;){const lr={limit:or,direction:ir,cursor:cr},ur=await this._query({contentTopics:[er],startTimeNs:sr,endTimeNs:ar,pagingInfo:lr});if(!ur.envelopes?.length||(yield ur.envelopes.map(it),!ur.pagingInfo?.cursor))return;cr=ur.pagingInfo?.cursor}}async batchQuery(er){const rr=[];for(let or=0;or<er.length;or+=50){const sr=er.slice(or,or+50),ar=[];for(const lr of sr)ar.push({contentTopics:[lr.contentTopic],startTimeNs:me(lr.startTime),endTimeNs:me(lr.endTime),pagingInfo:{limit:lr.pageSize||10,direction:lr.direction||Ze.SORT_DIRECTION_ASCENDING}});const cr={requests:ar};rr.push(cr)}const nr=await Promise.all(rr.map(async or=>this._batchQuery(or))),ir=[];for(const or of nr){if(!or.responses)throw new Error("BatchQueryResponse missing responses");for(const sr of or.responses)sr.envelopes?ir.push(sr.envelopes.map(it)):ir.push([])}return ir}async publish(er){const rr=[];for(const{contentTopic:nr,message:ir,timestamp:or}of er){if(!nr.length)throw new Error("Content topic cannot be empty string");if(!ir.length)throw new Error("0 length messages not allowed");const sr=or||new Date;rr.push({contentTopic:nr,timestampNs:me(sr),message:Uint8Array.from(ir)})}return this._publish({envelopes:rr})}subscribe(er,rr,nr){if(!er.contentTopics.length)throw new Error("Must provide list of contentTopics to subscribe to");return this._subscribe(er,ir=>rr(it(ir)),nr)}getToken(){if(!this.authCache)throw new Error("AuthCache is not set on API Client");return this.authCache.getToken()}setAuthenticator(er,rr){this.authCache=new We(er,rr)}headers(){const er=new Headers;return er.set("X-Client-Version",this.version),this.appVersion&&er.set("X-App-Version",this.appVersion),er}}class at{constructor(er,rr){this.disableOffset=!1,this.jobType=er,this.mutex=new Mutex,this.keystore=rr}get protoJobType(){return function(er){const rr={v1:JobType$1.JOB_TYPE_REFRESH_V1,v2:JobType$1.JOB_TYPE_REFRESH_V2,"user-preferences":JobType$1.JOB_TYPE_REFRESH_PPPP}[er];if(!rr)throw new Error(`unknown job type: ${er}`);return rr}(this.jobType)}async run(er){return this.mutex.runExclusive(async()=>{const rr=await this.getLastRunTime(),nr=new Date,ir=await er(rr?this.disableOffset?rr:new Date(rr.getTime()-1e4):void 0);return await this.setLastRunTime(nr),ir})}async resetLastRunTime(){await this.keystore.setRefreshJob({jobType:this.protoJobType,lastRunNs:we(new Date(0))})}async getLastRunTime(){const{lastRunNs:er}=await this.keystore.getRefreshJob(GetRefreshJobRequest.fromPartial({jobType:this.protoJobType}));if(!er.equals(Long.fromNumber(0)))return fe$1(er)}async setLastRunTime(er){await this.keystore.setRefreshJob({jobType:this.protoJobType,lastRunNs:we(er)})}}const ct=tr=>!!(tr.recipientAddress&&tr.senderAddress);class dt{constructor(er){this.client=er,this.v1JobRunner=new at("v1",er.keystore),this.v2JobRunner=new at("v2",er.keystore)}async list(){const[er,rr]=await Promise.all([this.listV1Conversations(),this.listV2Conversations()]),nr=er.concat(rr);return nr.sort((ir,or)=>ir.createdAt.getTime()-or.createdAt.getTime()),nr}async listFromCache(){const[er,rr]=await Promise.all([this.getV1ConversationsFromKeystore(),this.getV2ConversationsFromKeystore()]),nr=er.concat(rr);return nr.sort((ir,or)=>ir.createdAt.getTime()-or.createdAt.getTime()),nr}async listV1Conversations(){return this.v1JobRunner.run(async er=>{const rr=await this.getIntroductionPeers({startTime:er,direction:Ze.SORT_DIRECTION_ASCENDING});return await this.client.keystore.saveV1Conversations({conversations:Array.from(rr).map(([nr,ir])=>({peerAddress:nr,createdNs:we(ir),topic:ke(nr,this.client.address),context:void 0,consentProofPayload:void 0})).filter(nr=>Be(nr.topic))}),(await this.client.keystore.getV1Conversations()).conversations.map(this.conversationReferenceToV1.bind(this))})}async listV2Conversations(){return this.v2JobRunner.run(async er=>{const rr=await this.getV2ConversationsFromKeystore(),nr=await this.updateV2Conversations(er),ir=new Set(rr.map(or=>or.topic));for(const or of nr)ir.has(or.topic)||(rr.push(or),ir.add(or.topic));return rr.sort((or,sr)=>or.createdAt.getTime()-sr.createdAt.getTime()),rr})}async getV2ConversationsFromKeystore(){return(await this.client.keystore.getV2Conversations()).conversations.map(this.conversationReferenceToV2.bind(this))}async getV1ConversationsFromKeystore(){return(await this.client.keystore.getV1Conversations()).conversations.map(this.conversationReferenceToV1.bind(this))}async updateV2Conversations(er){const rr=await this.client.listInvitations({startTime:er,direction:Ze.SORT_DIRECTION_ASCENDING});return this.decodeInvites(rr)}async decodeInvites(er,rr=!1){const{responses:nr}=await this.client.keystore.saveInvites({requests:er.map(or=>({payload:or.message,timestampNs:Long.fromString(or.timestampNs),contentTopic:or.contentTopic})).filter(or=>Be(or.contentTopic))}),ir=[];for(const or of nr)try{ir.push(this.saveInviteResponseToConversation(or))}catch(sr){if(console.warn("Error saving invite response to conversation: ",sr),rr)throw sr}return ir}saveInviteResponseToConversation({result:er,error:rr}){if(rr||!er||!er.conversation)throw new Error(`Error from keystore: ${rr?.code} ${rr?.message}}`);return this.conversationReferenceToV2(er.conversation)}conversationReferenceToV2(er){return new Ne(this.client,er.topic,er.peerAddress,fe$1(er.createdNs),er.context,er.consentProofPayload)}conversationReferenceToV1(er){return new Re(this.client,er.peerAddress,fe$1(er.createdNs))}async stream(er){const rr=new Set,nr=Te(this.client.address),ir=Ce(this.client.address),or=[nr,ir];return ye.create(this.client,or,(async sr=>{if(sr.contentTopic===nr){if(!sr.message)throw new Error("empty envelope");const ar=await Me.fromBytes(sr.message),cr=this.getPeerAddress(ar);return(lr=>!rr.has(lr)&&(rr.add(lr),!0))(cr)?(await ar.decrypt(this.client.keystore,this.client.publicKeyBundle),new Re(this.client,cr,ar.sent)):void 0}if(sr.contentTopic===ir){const ar=await this.decodeInvites([sr],!0);if(ar.length)return ar[0]}throw new Error("unrecognized invite topic")}).bind(this),void 0,er)}async streamAllMessages(er){const rr=Te(this.client.address),nr=Ce(this.client.address),ir=new Set([rr,nr]),or=new Map;for(const lr of await this.list())ir.add(lr.topic),or.set(lr.topic,lr);const sr=(lr,ur)=>!ir.has(lr)&&(or.set(lr,ur),ir.add(lr),!0),ar=await ye.create(this.client,Array.from(ir.values()),async lr=>{const ur=lr.contentTopic;if(!ur||!lr.message)return null;if(ur===rr){const dr=await Me.fromBytes(lr.message);if(!ct(dr))return null;const gr=this.getPeerAddress(dr);return new Re(this.client,gr,dr.sent).decodeMessage(lr)}if(ur===nr)return(await this.decodeInvites([lr],!0))[0];const fr=or.get(ur);if(fr instanceof Re||fr instanceof Ne)return fr.decodeMessage(lr);throw console.log("Unknown topic"),new Error("Unknown topic")},lr=>{if(lr instanceof Ve&&lr.contentTopic===rr){const ur=new Re(this.client,lr.recipientAddress?.toLowerCase()===this.client.address.toLowerCase()?lr.senderAddress:lr.recipientAddress,lr.sent);return sr(ur.topic,ur)?Array.from(ir.values()):void 0}if(lr instanceof Ne)return sr(lr.topic,lr)?Array.from(ir.values()):void 0},er),cr=async function*(){for await(const lr of ar)if(lr instanceof Ve&&(yield lr),lr instanceof Ne)for(const ur of await lr.messages())yield ur}();return cr.return=async()=>(await ar?.return(),{value:void 0,done:!0}),cr}async getIntroductionPeers(er){const rr=Te(this.client.address),nr=await this.client.listEnvelopes(rr,or=>{if(!or.message)throw new Error("empty envelope");return Me.fromBytes(or.message)},er),ir=new Map;for(const or of nr){if(!ct(or))continue;const sr=this.getPeerAddress(or);if(sr){const ar=ir.get(sr);if(!ar||ar>or.sent)try{await or.decrypt(this.client.keystore,this.client.publicKeyBundle),ir.set(sr,or.sent)}catch{continue}}}return ir}async newConversation(er,rr,nr){const ir=ar=>{return ar.peerAddress.toLowerCase()===er.toLowerCase()&&(cr=rr,lr=ar.context??void 0,cr?.conversationId===lr?.conversationId);var cr,lr},or=(await this.getV2ConversationsFromKeystore()).find(ir);if(or)return or;let sr=await this.client.getUserContact(er);if(!sr)throw new Error(`Recipient ${er} is not on the XMTP network`);if(er.toLowerCase()===this.client.address.toLowerCase())throw new Error("self messaging not supported");if(sr instanceof de&&!rr?.conversationId)return new Re(this.client,er,new Date);if(!rr?.conversationId){const ar=(await this.listV1Conversations()).find(cr=>cr.peerAddress.toLowerCase()===er.toLowerCase());if(ar){if(!this.client.signedPublicKeyBundle.isFromLegacyBundle())throw new Error("cannot resume pre-existing V1 conversation; client keys not compatible");if(!(sr instanceof de||sr.isFromLegacyBundle()))throw new Error("cannot resume pre-existing V1 conversation; peer keys not compatible");return ar}}return sr instanceof de&&(sr=ce.fromLegacyBundle(sr)),this.v2JobRunner.run(async ar=>(await this.updateV2Conversations(ar)).find(ir)||this.createV2Convo(sr,rr,nr))}async createV2Convo(er,rr,nr){const ir=new Date,{payload:or,conversation:sr}=await this.client.keystore.createInvite({recipient:er,context:rr,createdNs:we(ir),consentProof:nr});if(!or||!sr)throw new Error("Required field not returned from Keystore");const ar=await er.walletSignatureAddress();return await this.client.publishEnvelopes([{contentTopic:Ce(ar),message:or,timestamp:ir},{contentTopic:Ce(this.client.address),message:or,timestamp:ir}]),await this.client.contacts.allow([ar]),this.conversationReferenceToV2(sr)}getPeerAddress(er){return er.recipientAddress?.toLowerCase()===this.client.address.toLowerCase()?er.senderAddress:er.recipientAddress}}class ht{constructor(er){this.storage=er}static create(){if(typeof localStorage>"u")throw new Error("Missing LocalStorage. Use ephemeralPersistence instead");return new ht(localStorage)}async getItem(er){const rr=this.storage.getItem(er);return rr===null?null:Uint8Array.from(Buffer.from(rr,"binary"))}async setItem(er,rr){this.storage.setItem(er,Buffer.from(rr).toString("binary"))}}class yt{constructor(){this.store=new Map}get length(){return this.store.size}clear(){this.store=new Map}getItem(er){return this.validateString(er),this.store.has(er)?String(this.store.get(er)):null}key(er){if(er===void 0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");const rr=[...this.store.keys()];return er>=rr.length?null:rr[er]}removeItem(er){this.validateString(er),this.store.delete(er)}setItem(er,rr){this.validateString(er),this.validateString(rr),this.store.set(String(er),String(rr))}validateString(er){if(typeof er!="string")throw new TypeError("Key must be a string")}}let ut$1=class extends ht{static create(){return new ht(new yt)}},lt$8=class extends Error{};class pt{constructor(er){if(!er.publicKey.signature)throw new Error("Provided public key is not signed");this.identityKey=er}async createToken(er){const rr=Fe.create(this.identityKey.publicKey.walletSignatureAddress(),er||new Date).toBytes(),nr=keccak256$3(rr),ir=await this.identityKey.sign(hexToBytes$8(nr));return new $e(Token.fromPartial({identityKey:PublicKey.fromPartial(this.identityKey.publicKey),authDataBytes:rr,authDataSignature:Signature$5.fromPartial(ir)}))}}const wt=new T$2.ec("secp256k1"),ft$2=D$2.subtle,mt=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),gt$a=Buffer.alloc(32,0);function vt(tr,er){if(!tr)throw new Error(er||"Assertion failed")}function bt(tr){return er=tr,!(!Buffer.isBuffer(er)||er.length!==32)&&tr.compare(gt$a)>0&&tr.compare(mt)<0;var er}function Et(tr){const er=new Uint8Array(tr);return D$2.getRandomValues(er),Buffer.from(er)}async function Kt(tr){const er=await ft$2.digest("SHA-512",tr);return Buffer.from(er)}function kt(tr){return function(er,rr,nr){return new Promise(function(ir){return ft$2.importKey("raw",rr,{name:"AES-CBC"},!1,[tr]).then(function(or){const sr={name:"AES-CBC",iv:er};return ft$2[tr](sr,or,nr)}).then(function(or){ir(Buffer.from(new Uint8Array(or)))})})}}const At=kt("encrypt"),St=kt("decrypt");async function Tt(tr,er){const rr=await ft$2.importKey("raw",tr,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return Buffer.from(await ft$2.sign({name:"HMAC",hash:"SHA-256"},rr,er))}function Ct(tr){return vt(tr.length===32,"Bad private key"),vt(bt(tr),"Bad private key"),Buffer.from(wt.keyFromPrivate(tr).getPublic("array"))}function Pt(tr,er){return new Promise(function(rr){vt(Buffer.isBuffer(tr),"Bad private key"),vt(Buffer.isBuffer(er),"Bad public key"),vt(tr.length===32,"Bad private key"),vt(bt(tr),"Bad private key"),vt(er.length===65||er.length===33,"Bad public key"),er.length===65&&vt(er[0]===4,"Bad public key"),er.length===33&&vt(er[0]===2||er[0]===3,"Bad public key");const nr=wt.keyFromPrivate(tr),ir=wt.keyFromPublic(er),or=nr.derive(ir.getPublic());rr(Buffer.from(or.toArray()))})}async function It(tr,er){const rr=await Pt(tr,er.ephemeralPublicKey),nr=await Kt(rr),ir=nr.slice(0,32),or=nr.slice(32),sr=Buffer.concat([er.iv,er.ephemeralPublicKey,er.ciphertext]);return vt(await async function(ar,cr,lr){return function(ur,fr){if(ur.length!==fr.length)return!1;let dr=0;for(let gr=0;gr<ur.length;gr++)dr|=ur[gr]^fr[gr];return dr===0}(await Tt(ar,cr),lr)}(or,sr,er.mac),"Bad mac"),St(er.iv,ir,er.ciphertext)}async function Bt(tr,er){await __wbg_init();const rr=tr.publicKey.secp256k1Uncompressed.bytes,nr=tr.secp256k1.bytes;return user_preferences_encrypt(rr,nr,er)}async function Rt(tr,er){await __wbg_init();const rr=tr.publicKey.secp256k1Uncompressed.bytes,nr=tr.secp256k1.bytes;return user_preferences_decrypt(rr,nr,er)}class Nt{constructor({topic:er,context:rr,aes256GcmHkdfSha256:nr,consentProof:ir}){if(!er||!er.length)throw new Error("Missing topic");if(!nr||!nr.keyMaterial||!nr.keyMaterial.length)throw new Error("Missing key material");this.topic=er,this.context=rr,this.aes256GcmHkdfSha256=nr,this.consentProof=ir}static createRandom(er,rr){const nr=Ae(Buffer.from(D$2.getRandomValues(new Uint8Array(32))).toString("base64").replace(/=*$/g,"").replace(/\//g,"-")),ir=D$2.getRandomValues(new Uint8Array(32));return new Nt({topic:nr,aes256GcmHkdfSha256:{keyMaterial:ir},context:er,consentProof:rr})}toBytes(){return InvitationV1.encode(this).finish()}static fromBytes(er){return new Nt(InvitationV1.decode(er))}}class Dt{constructor({sender:er,recipient:rr,createdNs:nr}){if(!er)throw new Error("Missing sender");if(!rr)throw new Error("Missing recipient");this.sender=new ce(er),this.recipient=new ce(rr),this.createdNs=nr}toBytes(){return SealedInvitationHeaderV1.encode(this).finish()}static fromBytes(er){return new Dt(SealedInvitationHeaderV1.decode(er))}}class xt{constructor({headerBytes:er,ciphertext:rr}){if(!er||!er.length)throw new Error("Missing header bytes");if(!rr)throw new Error("Missing ciphertext");this.headerBytes=er,this.ciphertext=new N$1(rr)}get header(){return this._header||(this._header=Dt.fromBytes(this.headerBytes)),this._header}async getInvitation(er){if(this._invitation)return this._invitation;const rr=this.header;let nr;nr=er.identityKey.matches(this.header.sender.identityKey)?await er.sharedSecret(rr.recipient,rr.sender.preKey,!1):await er.sharedSecret(rr.sender,rr.recipient.preKey,!0);const ir=await U(this.ciphertext,nr,this.headerBytes);return this._invitation=Nt.fromBytes(ir),this._invitation}toBytes(){return SealedInvitationV1.encode(this).finish()}static fromBytes(er){return new xt(SealedInvitationV1.decode(er))}}class Mt{constructor({v1:er}){if(!er)throw new Error("Missing v1 or v2 invitation");this.v1=new xt(er)}toBytes(){return SealedInvitation.encode(this).finish()}static fromBytes(er){return new Mt(SealedInvitation.decode(er))}static async fromEnvelope(er){if(!er.message||!er.timestampNs)throw new Error("invalid invitation envelope");const rr=Mt.fromBytes(er.message),nr=Long.fromString(er.timestampNs),ir=rr.v1?.header.createdNs;if(!ir||!ir.equals(nr))throw new Error("envelope and header timestamp mistmatch");return rr}static async createV1({sender:er,recipient:rr,created:nr,invitation:ir}){const or=new Dt({sender:er.getPublicKeyBundle(),recipient:rr,createdNs:we(nr)}).toBytes(),sr=await er.sharedSecret(rr,er.getCurrentPreKey().publicKey,!1),ar=ir.toBytes(),cr=await V$1(ar,sr,or);return new Mt({v1:{headerBytes:or,ciphertext:cr}})}}const _t=(tr,er)=>tr instanceof ve?tr:new ve(er,tr.message),Vt=(tr,er,rr)=>Promise.all(tr.map(async nr=>{try{return{result:await er(nr)}}catch(ir){return{error:_t(ir,rr)}}})),Ut=tr=>tr instanceof de?tr:new de(tr),Lt=(tr,er,rr)=>{for(const nr of er)if(!tr[nr])throw new ve(ErrorCode$1.ERROR_CODE_INVALID_INPUT,`Missing field ${String(nr)}`);for(const nr of rr){const ir=tr[nr];if(!ir||!ir?.length)throw new ve(ErrorCode$1.ERROR_CODE_INVALID_INPUT,`Missing field ${String(nr)}`)}return!0},qt=tr=>{if(!tr?.aes256GcmHkdfSha256?.keyMaterial)throw new ve(ErrorCode$1.ERROR_CODE_INVALID_INPUT,"Missing key material");return tr.aes256GcmHkdfSha256.keyMaterial},Ot=({invitation:tr,createdNs:er,peerAddress:rr})=>({context:tr.context,topic:tr.topic,peerAddress:rr,createdNs:er,consentProofPayload:tr.consentProof});class Gt{constructor(er,rr,nr=new Map){this.persistenceKey=rr,this.persistence=er,this.revision=0,this.mutex=new Mutex,this.topicMap=nr}get revisionKey(){return this.persistenceKey+"/revision"}static async create(er){const rr=new Gt(er,"invitations/v1");return await rr.refresh(),rr}validate(er){return!!er.topic&&er.topic.length>0&&!!er.invitation}async refresh(){const er=await this.getRevision();if(er>this.revision)for(const[rr,nr]of await this.loadFromPersistence())this.topicMap.set(rr,nr);this.revision=er}async getRevision(){const er=await this.persistence.getItem(this.revisionKey);return er?function(rr){const nr=rr.buffer;return new DataView(nr).getInt32(0,!0)}(er):0}async setRevision(er){await this.persistence.setItem(this.revisionKey,function(rr){const nr=new ArrayBuffer(4);return new DataView(nr).setInt32(0,rr,!0),new Uint8Array(nr)}(er))}async loadFromPersistence(){const er=await this.persistence.getItem(this.persistenceKey);return er?(rr=>{const nr=new Map;for(const[ir,or]of Object.entries(rr.topics))nr.set(ir,or);return nr})(TopicMap.decode(er)):new Map}async store(){await this.persistence.setItem(this.persistenceKey,this.toBytes()),this.revision++,await this.setRevision(this.revision)}async add(er){await this.mutex.runExclusive(async()=>{await this.refresh();let rr=!1;for(const nr of er){if(!this.validate(nr)){console.warn("Invalid topic data",nr.topic);continue}const{topic:ir,...or}=nr;this.topicMap.has(ir)||(this.topicMap.set(ir,or),rr=!0)}rr&&await this.store()})}get topics(){return[...this.topicMap.values()]}lookup(er){return this.topicMap.get(er)}toBytes(){return TopicMap.encode({topics:Object.fromEntries(this.topicMap)}).finish()}}class Ht extends Gt{static async create(er){const rr=new Ht(er,"conversation-v1/v1");return await rr.refresh(),rr}validate(er){return!!(er.topic&&er.topic.length&&er.peerAddress?.length>0)}}const Ft=async(tr,er,rr,nr)=>V$1(rr,await tr.sharedSecret(er,tr.getCurrentPreKey().publicKey,!1),nr),{ErrorCode:$t}=i$3,jt=new TextEncoder().encode("__XMTP__INVITATION__SALT__XMTP__");class Xt{constructor(er,rr,nr,ir){this.v1Keys=er,this.v2Keys=Oe.fromLegacyBundle(er),this.v1Store=rr,this.v2Store=nr,this.authenticator=new pt(er.identityKey),this.jobStatePersistence=ir}static async create(er,rr){return new Xt(er,await Ht.create(rr),await Gt.create(rr),rr)}get walletAddress(){return this.v1Keys.identityKey.publicKey.walletSignatureAddress()}async decryptV1(er){const rr=await Vt(er.requests,async nr=>{Lt(nr,["payload","peerKeys"],["headerBytes"]);const{payload:ir,peerKeys:or,headerBytes:sr,isSender:ar}=nr;return{decrypted:await(async(lr,ur,fr,dr,gr)=>U(fr,await lr.sharedSecret(ur,lr.getCurrentPreKey().publicKey,!gr),dr))(this.v1Keys,Ut(or),ir,sr,ar)}},ErrorCode$1.ERROR_CODE_UNSPECIFIED);return DecryptResponse.fromPartial({responses:rr})}async decryptV2(er){const rr=await Vt(er.requests,async nr=>{Lt(nr,["payload"],["headerBytes"]);const{payload:ir,headerBytes:or,contentTopic:sr}=nr,ar=this.v2Store.lookup(sr);if(!ar)throw new ve(ErrorCode$1.ERROR_CODE_NO_MATCHING_PREKEY,"no topic key");return{decrypted:await((lr,ur,fr)=>U(lr,ur,fr))(ir,qt(ar.invitation),or)}},$t.ERROR_CODE_UNSPECIFIED);return DecryptResponse.fromPartial({responses:rr})}async encryptV1(er){const rr=await Vt(er.requests,async nr=>{Lt(nr,["payload","recipient"],["headerBytes"]);const{recipient:ir,payload:or,headerBytes:sr}=nr;return{encrypted:await Ft(this.v1Keys,Ut(ir),or,sr)}},$t.ERROR_CODE_UNSPECIFIED);return EncryptResponse.fromPartial({responses:rr})}async createAuthToken({timestampNs:er}){return this.authenticator.createToken(er?fe$1(er):void 0)}async selfEncrypt(er){const rr=await Vt(er.requests,async nr=>{const{payload:ir}=nr;if(!ir)throw new ve($t.ERROR_CODE_INVALID_INPUT,"Missing field payload");return{encrypted:await Bt(this.v1Keys.identityKey,ir)}},$t.ERROR_CODE_INVALID_INPUT);return SelfEncryptResponse.fromPartial({responses:rr})}async selfDecrypt(er){const rr=await Vt(er.requests,async nr=>{const{payload:ir}=nr;if(!ir)throw new ve($t.ERROR_CODE_INVALID_INPUT,"Missing field payload");return{decrypted:await Rt(this.v1Keys.identityKey,ir)}},$t.ERROR_CODE_INVALID_INPUT);return DecryptResponse.fromPartial({responses:rr})}async getPrivatePreferencesTopicIdentifier(){const er=await async function(rr){await __wbg_init();const nr=rr.secp256k1.bytes;return generate_private_preferences_topic(nr)}(this.v1Keys.identityKey);return GetPrivatePreferencesTopicIdentifierResponse.fromPartial({identifier:er})}async encryptV2(er){const rr=await Vt(er.requests,async nr=>{Lt(nr,["payload"],["headerBytes"]);const{payload:ir,headerBytes:or,contentTopic:sr}=nr,ar=this.v2Store.lookup(sr);if(!ar)throw new ve($t.ERROR_CODE_NO_MATCHING_PREKEY,"no topic key");const cr=qt(ar.invitation),lr=await((fr,dr,gr)=>V$1(fr,dr,gr))(ir,cr,or),ur=`${Math.floor(Date.now()/1e3/60/60/24/30)}-${await this.getAccountAddress()}`;return{encrypted:lr,senderHmac:await G$1(cr,new TextEncoder().encode(ur),or)}},$t.ERROR_CODE_INVALID_INPUT);return EncryptResponse.fromPartial({responses:rr})}async saveInvites(er){const rr=[],nr=await Vt(er.requests,async({payload:ir,timestampNs:or})=>{const sr=Mt.fromBytes(ir);if(sr.v1){if(!sr.v1.header.createdNs.equals(or))throw new Error("envelope and header timestamp mismatch");const ar=sr.v1.header.sender.equals(this.v2Keys.getPublicKeyBundle()),cr=await sr.v1.getInvitation(this.v2Keys),lr={invitation:cr,createdNs:sr.v1.header.createdNs,peerAddress:ar?await sr.v1.header.recipient.walletSignatureAddress():await sr.v1.header.sender.walletSignatureAddress()};return rr.push({...lr,topic:cr.topic}),{conversation:Ot(lr)}}},$t.ERROR_CODE_INVALID_INPUT);return await this.v2Store.add(rr),SaveInvitesResponse.fromPartial({responses:nr})}async createInvite(er){try{Lt(er,["recipient"],[]);const nr=fe$1(er.createdNs),ir=(rr=er.recipient)instanceof ce?rr:new ce(rr),or=await this.getAccountAddress(),sr=await ir.walletSignatureAddress(),ar=await this.v2Keys.sharedSecret(ir,this.v2Keys.getCurrentPreKey().publicKey,or<sr),cr=[or,sr].sort(),lr=(er.context?.conversationId||"")+cr.join(),ur=new TextEncoder().encode(lr),fr=j$2(await Tt(Buffer.from(ar),Buffer.from(ur))),dr=["0",...cr].join("|"),gr=new TextEncoder().encode(dr),br=await async function(xr,Ir){const Nr=await D$2.subtle.importKey("raw",xr,"HKDF",!1,["deriveKey"]);return D$2.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:jt,info:Ir},Nr,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}(ar,gr),vr=new Uint8Array(await D$2.subtle.exportKey("raw",br)),$r=new Nt({topic:Ae(fr),aes256GcmHkdfSha256:{keyMaterial:vr},context:er.context,consentProof:er.consentProof}),Er=await Mt.createV1({sender:this.v2Keys,recipient:ir,created:nr,invitation:$r}),_r={invitation:$r,topic:$r.topic,createdNs:er.createdNs,peerAddress:await ir.walletSignatureAddress()};return await this.v2Store.add([_r]),CreateInviteResponse.fromPartial({conversation:Ot(_r),payload:Er.toBytes()})}catch(nr){throw _t(nr,$t.ERROR_CODE_INVALID_INPUT)}var rr}async signDigest(er){Lt(er,["digest"],[]);const{digest:rr,identityKey:nr,prekeyIndex:ir}=er;let or;if(nr)or=this.v1Keys.identityKey;else{if(ir===void 0||!Number.isInteger(ir))throw new ve($t.ERROR_CODE_INVALID_INPUT,"must specifify identityKey or prekeyIndex");if(or=this.v1Keys.preKeys[ir],!or)throw new ve($t.ERROR_CODE_NO_MATCHING_PREKEY,"no prekey found")}return or.sign(rr)}async saveV1Conversations({conversations:er}){return await this.v1Store.add(er.map(rr=>({topic:ke(rr.peerAddress,this.walletAddress),peerAddress:rr.peerAddress,createdNs:rr.createdNs,invitation:void 0}))),{}}async getV1Conversations(){return{conversations:this.v1Store.topics.map(this.topicDataToV1ConversationReference.bind(this))}}async getV2Conversations(){const er=this.v2Store.topics.map(rr=>Ot(rr));return er.sort((rr,nr)=>rr.createdNs.div(1e6).sub(nr.createdNs.div(1e6)).toNumber()),GetConversationsResponse.fromPartial({conversations:er})}async getPublicKeyBundle(){return this.v1Keys.getPublicKeyBundle()}async getPrivateKeyBundle(){return this.v1Keys}async getAccountAddress(){return this.accountAddress||(this.accountAddress=await this.v2Keys.getPublicKeyBundle().walletSignatureAddress()),this.accountAddress}async getRefreshJob({jobType:er}){if(er===JobType$1.JOB_TYPE_UNSPECIFIED)throw new ve($t.ERROR_CODE_INVALID_INPUT,"invalid job type");const rr=await this.getLastRunTime(er);return GetRefreshJobResponse.fromPartial({lastRunNs:rr||Long.fromNumber(0)})}async setRefreshJob({jobType:er,lastRunNs:rr}){const nr=await this.buildJobStorageKey(er);return await this.jobStatePersistence.setItem(nr,Uint8Array.from(rr.toBytes())),{}}topicDataToV1ConversationReference(er){return{peerAddress:er.peerAddress,createdNs:er.createdNs,topic:ke(er.peerAddress,this.walletAddress),context:void 0,consentProofPayload:void 0}}buildJobStorageKey(er){return`refreshJob/${er.toString()}`}async getLastRunTime(er){const rr=await this.jobStatePersistence.getItem(this.buildJobStorageKey(er));if(rr&&rr.length)return Long.fromBytes([...rr])}lookupTopic(er){return this.v2Store.lookup(er)}async getV2ConversationHmacKeys(er){const rr=Math.floor(Date.now()/1e3/60/60/24/30),nr={};let ir=this.v2Store.topics;return er?.topics&&(ir=ir.filter(or=>or.invitation!==void 0&&er.topics.includes(or.invitation.topic))),await Promise.all(ir.map(async or=>{if(or.invitation?.topic){const sr=qt(or.invitation),ar=await Promise.all([rr-1,rr,rr+1].map(async cr=>{const lr=`${cr}-${await this.getAccountAddress()}`,ur=await O$1(sr,new TextEncoder().encode(lr));return{thirtyDayPeriodsSinceEpoch:cr,hmacKey:await F$2(ur)}}));nr[or.invitation.topic]={values:ar}}})),{hmacKeys:nr}}}class Jt{constructor(er){this.apiClient=er}async getItem(er){for await(const rr of this.apiClient.queryIterator({contentTopic:this.buildTopic(er)},{pageSize:1,direction:SortDirection$2.SORT_DIRECTION_DESCENDING}))if(rr.message)try{return Uint8Array.from(rr.message)}catch(nr){console.log(nr)}return null}async setItem(er,rr){const nr=Uint8Array.from(rr);await this.apiClient.publish([{contentTopic:this.buildTopic(er),message:nr}])}setAuthenticator(er){this.apiClient.setAuthenticator(er)}buildTopic(er){return Pe(er)}}class zt{constructor({eciesBytes:er,signature:rr}){if(!er||!er.length)throw new Error("eciesBytes is empty");if(!rr)throw new Error("signature is undefined");this.eciesBytes=er,this.signature=new te(rr),this.ciphertext=SignedEciesCiphertext_Ecies.decode(er)}toBytes(){return SignedEciesCiphertext.encode(this).finish()}async verify(er){return er.verify(this.signature,await _$2(this.eciesBytes))}static fromBytes(er){const rr=SignedEciesCiphertext.decode(er);return new zt(rr)}static async create(er,rr){(or=>{if(or.iv.length!==16)throw new Error("Invalid iv length");if(or.ephemeralPublicKey.length!==65)throw new Error("Invalid ephemPublicKey length");if(or.ciphertext.length<1||or.ciphertext.length%16!=0)throw new Error("Invalid ciphertext length");if(or.mac.length!==32)throw new Error("Invalid mac length")})(er);const nr=SignedEciesCiphertext_Ecies.encode(er).finish(),ir=await rr.sign(await _$2(nr));return new zt({eciesBytes:nr,signature:ir})}}class Yt{constructor(er,rr){this.persistence=er,this.privateKey=rr,this.privateKeyBytes=Buffer.from(rr.secp256k1.bytes),this.publicKey=Ct(this.privateKeyBytes)}async getItem(er){const rr=await this.persistence.getItem(er);return rr?this.decrypt(rr):null}async setItem(er,rr){const nr=await this.encrypt(rr);await this.persistence.setItem(er,nr)}async encrypt(er){const rr=await async function(nr,ir,or){or=or||{};const sr=or?.iv||Et(16);let ar=or?.ephemPrivateKey||Et(32);for(;!bt(ar);){if(or?.ephemPrivateKey)throw new Error("ephemPrivateKey is not valid");ar=Et(32)}const cr=Ct(ar),lr=await Kt(await Pt(ar,nr)),ur=lr.slice(0,32),fr=lr.slice(32),dr=await At(sr,ur,ir),gr=Buffer.concat([sr,cr,dr]);return{iv:sr,ephemeralPublicKey:cr,ciphertext:dr,mac:await Tt(fr,gr)}}(this.publicKey,Buffer.from(er));return this.serializeEcies(rr)}async decrypt(er){const rr=await this.deserializeEcies(er),nr=await It(this.privateKeyBytes,rr);return Uint8Array.from(nr)}async serializeEcies(er){return(await zt.create(er,this.privateKey)).toBytes()}async deserializeEcies(er){const rr=zt.fromBytes(er);if(!await rr.verify(this.privateKey.publicKey))throw new Error("signature validation failed");const nr=rr.ciphertext;return{ciphertext:Buffer.from(nr.ciphertext),mac:Buffer.from(nr.mac),iv:Buffer.from(nr.iv),ephemeralPublicKey:Buffer.from(nr.ephemeralPublicKey)}}}class Wt{constructor(er,rr){this.prefix=er,this.persistence=rr}getItem(er){return this.persistence.getItem(this.buildKey(er))}setItem(er,rr){return this.persistence.setItem(this.buildKey(er),rr)}buildKey(er){return this.prefix+er}}const Qt=async(tr,er)=>{if(!tr.persistConversations)return ut$1.create();const rr=await er.identityKey.publicKey.walletSignatureAddress(),nr=`xmtp/${tr.env}/${rr}/`,ir=tr.basePersistence,or=!tr.disablePersistenceEncryption;return new Wt(nr,or?new Yt(ir,er.identityKey):ir)},Zt="key_bundle";class es{constructor(er,rr,nr){this.signer=er,this.persistence=rr,this.preEnableIdentityCallback=nr}async getStorageAddress(er){let rr=await this.signer.getAddress();return rr=getAddress(rr),`${rr}/${er}`}async loadPrivateKeyBundle(){const er=await this.persistence.getItem(await this.getStorageAddress(Zt));if(!er)return null;const[rr,nr]=await this.fromEncryptedBytes(this.signer,Uint8Array.from(er));return nr&&await this.storePrivateKeyBundle(rr),rr}async storePrivateKeyBundle(er){const rr=await this.getStorageAddress(Zt),nr=await this.toEncryptedBytes(er,this.signer);typeof this.persistence.setAuthenticator=="function"&&this.persistence.setAuthenticator(new pt(er.identityKey)),await this.persistence.setItem(rr,nr)}async toEncryptedBytes(er,rr){const nr=er.encode(),ir=D$2.getRandomValues(new Uint8Array(32)),or=ss(ir),sr=await rr.getAddress();this.preEnableIdentityCallback&&await this.preEnableIdentityCallback();const ar=await rr.signMessage(or);if(!verifyMessage({address:sr,message:or,signature:ar}))throw new Error("invalid signature");const cr=hexToBytes$8(ar),lr=await V$1(nr,cr);return EncryptedPrivateKeyBundle.encode({v1:{walletPreKey:ir,ciphertext:lr}}).finish()}async fromEncryptedBytes(er,rr){const[nr,ir]=function(sr){try{const ar=EncryptedPrivateKeyBundle.decode(sr);if(ar.v1)return[ar.v1,!1]}catch{return[EncryptedPrivateKeyBundleV1.decode(sr),!0]}throw new Error("unrecognized encrypted private key bundle version")}(rr);if(!nr.walletPreKey)throw new Error("missing wallet pre-key");if(!nr.ciphertext?.aes256GcmHkdfSha256)throw new Error("missing bundle ciphertext");this.preEnableIdentityCallback&&await this.preEnableIdentityCallback();const or=hexToBytes$8(await er.signMessage(ss(nr.walletPreKey)));try{const sr=new N$1(nr.ciphertext),ar=await U(sr,or),[cr,lr]=ts(ar);return[cr,ir||lr]}catch{if(or.length!==65)throw new Error("Expected 65 bytes before trying a different recovery byte");const ar=or[or.length-1];let cr=or.slice(0,or.length-1);cr=ar<27?new Uint8Array([...cr,ar+27]):new Uint8Array([...cr,ar-27]);const lr=new N$1(nr.ciphertext),ur=await U(lr,cr),[fr,dr]=ts(ur);return[fr,ir||dr]}}}function ts(tr){try{const er=He(tr);if(er instanceof Oe)throw new Error("V2 bundles not supported yet");return[er,!1]}catch{const rr=PrivateKeyBundleV1.decode(tr);return[new Ge(rr),!0]}}function ss(tr){return`XMTP : Enable Identity
${j$2(tr)}

For more info: https://xmtp.org/signatures/`}class ns{async newKeystore(er,rr,nr){if(!nr)throw new lt$8("Wallet required to generate new keys");er.preCreateIdentityCallback&&await er.preCreateIdentityCallback();const ir=await Ge.generate(nr);return await new es(nr,new Jt(rr),er.preEnableIdentityCallback).storePrivateKeyBundle(ir),Xt.create(ir,await Qt(er,ir))}}class rs{async newKeystore(er,rr,nr){if(!nr)throw new lt$8("No wallet provided");const ir=new es(nr,new Jt(rr),er.preEnableIdentityCallback),or=await ir.loadPrivateKeyBundle();if(!or)throw new lt$8("No keys found");return Xt.create(or,await Qt(er,or))}}function is$1(){return window.ethereum}function os(tr){const[er,rr,...nr]=tr.split(".");return{major:Number(er),minor:Number(rr),patch:nr.join(".")}}function as(tr,er){if(!tr||!er)return!1;const rr=os(tr),nr=os(er);return rr.major!==nr.major?rr.major>nr.major:rr.minor!==nr.minor?rr.minor>nr.minor:!(!rr.patch||!nr.patch)&&function(ir,or){const[sr,ar]=ir.split("-"),[cr,lr]=or.split("-");if(Number(sr)!==Number(cr))return Number(sr)>Number(cr);if(!ar||!lr)return!1;const[ur,fr]=ar.split("."),[dr,gr]=lr.split(".");return ur!==dr?!0:Number(fr)>Number(gr)}(rr.patch,nr.patch)}const{GetKeystoreStatusResponse_KeystoreStatus:cs$1,InitKeystoreRequest:ds,InitKeystoreResponse:hs,GetKeystoreStatusRequest:ys,GetKeystoreStatusResponse:us}=i$3;async function ls(tr,er,rr,nr,ir){let or=null;if(er.req){const ar=(0,er.req.encode)(rr).finish();or=le(ar,0,ar.length)}const sr=await async function(ar,cr,lr,ur){const fr={meta:lr};typeof cr=="string"&&(fr.req=cr);const dr=await is$1()?.request({method:"wallet_invokeSnap",params:{snapId:ur,request:{method:ar,params:fr}}});if(!dr||typeof dr!="object")throw new Error("No response value");return dr.res}(tr,or,nr,ir);if(Array.isArray(sr))throw new Error("Unexpected array response");return er.res.decode(ue(sr))}async function ps(){const tr=is$1();if(tr?.isMetaMask)try{return await tr.request({method:"wallet_getSnaps"}),!0}catch{}if(tr?.detected!==void 0&&Array.isArray(tr.detected))for(const er of tr.detected)try{return await er.request({method:"wallet_getSnaps"}),tr?.setProvider?.(er),!0}catch{}if(tr?.providers!==void 0&&Array.isArray(tr.providers))for(const er of tr.providers)try{return await er.request({method:"wallet_getSnaps"}),window.ethereum=er,!0}catch{}return!1}async function ws(tr,er){try{const rr=await async function(){return await is$1()?.request({method:"wallet_getSnaps"})}();return rr?Object.values(rr).find(nr=>{return nr&&nr.id===tr&&(!er||(ir=nr.version,or=er,!ir||!or||os(ir).major===os(or).major));var ir,or}):void 0}catch(rr){return void console.warn("Failed to obtain installed snap",rr)}}const fs$1={req:ys,res:us},ms$1={req:ds,res:hs},gs={decryptV1:{req:DecryptV1Request,res:DecryptResponse},decryptV2:{req:DecryptV2Request,res:DecryptResponse},encryptV1:{req:EncryptV1Request,res:EncryptResponse},encryptV2:{req:EncryptV2Request,res:EncryptResponse},saveInvites:{req:SaveInvitesRequest,res:SaveInvitesResponse},createInvite:{req:CreateInviteRequest,res:CreateInviteResponse},createAuthToken:{req:CreateAuthTokenRequest,res:Token},signDigest:{req:SignDigestRequest,res:Signature$5},getPublicKeyBundle:{req:null,res:PublicKeyBundle},getPrivateKeyBundle:{req:null,res:PrivateKeyBundleV1},saveV1Conversations:{req:SaveV1ConversationsRequest,res:SaveV1ConversationsResponse},getV1Conversations:{req:null,res:GetConversationsResponse},getV2Conversations:{req:null,res:GetConversationsResponse},getRefreshJob:{req:GetRefreshJobRequest,res:GetRefreshJobResponse},setRefreshJob:{req:SetRefeshJobRequest,res:SetRefreshJobResponse},selfEncrypt:{req:SelfEncryptRequest,res:SelfEncryptResponse},selfDecrypt:{req:SelfDecryptRequest,res:DecryptResponse},getPrivatePreferencesTopicIdentifier:{req:null,res:GetPrivatePreferencesTopicIdentifierResponse},getV2ConversationHmacKeys:{req:GetConversationHmacKeysRequest,res:GetConversationHmacKeysResponse}},vs={...gs,getKeystoreStatus:{req:GetKeystoreStatusRequest,res:GetKeystoreStatusResponse},initKeystore:{req:InitKeystoreRequest,res:InitKeystoreResponse}},{GetKeystoreStatusResponse_KeystoreStatus:bs}=i$3;class Es{constructor(er="local:http://localhost:8080",rr){this.snapId=er,this.snapVersion=rr}async newKeystore(er,rr,nr){if(!nr)throw new lt$8("No wallet provided");if(!await ps())throw new lt$8("MetaMask with Snaps not detected");const ir=await nr.getAddress(),or=er.env,sr=await ws(this.snapId,this.snapVersion);if(sr&&!as(this.snapVersion,sr.version)||await async function(ar,cr={}){await is$1()?.request({method:"wallet_requestSnaps",params:{[ar]:cr}})}(this.snapId,this.snapVersion?{version:this.snapVersion}:{}),!await async function(ar,cr,lr){return await async function(fr,dr){const gr=await ls("getKeystoreStatus",fs$1,{walletAddress:fr.walletAddress},fr,dr);if([cs$1.KEYSTORE_STATUS_UNSPECIFIED,cs$1.UNRECOGNIZED].includes(gr.status))throw new Error("No status specified in response");return gr.status}({walletAddress:ar,env:cr},lr)===bs.KEYSTORE_STATUS_INITIALIZED}(ir,or,this.snapId)){const ar=await async function(cr,lr,ur){if(cr.privateKeyOverride){const fr=He(cr.privateKeyOverride);if(!(fr instanceof Ge))throw new Error("Unsupported private key bundle version");return fr}if(!ur)throw new Error("No privateKeyOverride or wallet");return async function(fr,dr,gr){const br=new rs;try{const vr=await br.newKeystore(fr,dr,gr);return new Ge(await vr.getPrivateKeyBundle())}catch(vr){if(vr instanceof lt$8)return async function($r,Er,_r){const xr=new ns,Ir=await xr.newKeystore($r,Er,_r);return new Ge(await Ir.getPrivateKeyBundle())}(fr,dr,gr);throw vr}}(cr,lr,ur)}(er,rr,nr);await async function(cr,lr,ur){const fr=cr.identityKey.publicKey.walletSignatureAddress(),dr=await ls("initKeystore",ms$1,{v1:cr},{walletAddress:fr,env:lr},ur);if(dr.error)throw new ve(dr.error.code,dr.error.message)}(ar,or,this.snapId)}return function(ar,cr,lr){const ur={},fr={walletAddress:ar,env:cr};for(const[dr,gr]of Object.entries(vs))ur[dr]=async br=>gr.req?ls(dr,gr,br,fr,lr):ls(dr,gr,void 0,fr,lr);return{...ur,getAccountAddress:async()=>ar}}(ir,or,this.snapId)}}class Ks{async newKeystore(er){const{privateKeyOverride:rr}=er;if(!rr)throw new lt$8("No private key override provided");const nr=He(rr);if(nr instanceof Oe)throw new Error("V2 private key bundle found. Only V1 supported");return Xt.create(nr,await Qt(er,nr))}}function ks(tr){if(!tr)return null;if(function(er){return"type"in er&&(er.type==="walletClient"||er.type==="base")}(tr))return function(er){const{account:rr}=er;if(!rr||!rr.address)throw new Error("WalletClient is not configured");return{getAddress:async()=>rr.address,signMessage:async nr=>er.signMessage({message:typeof nr=="string"?nr:{raw:nr},account:rr})}}(tr);if(typeof tr.getAddress!="function")throw new Error("Unknown wallet type");return tr}function As(tr){if(tr===Compression$2.COMPRESSION_GZIP)return"gzip";if(tr===Compression$2.COMPRESSION_DEFLATE)return"deflate";throw new Error("unrecognized compression algorithm")}function Ss(tr,er=1024){let rr=0;return new ReadableStream({pull(nr){if(rr>=tr.length)return nr.close();let ir=rr+er;ir=ir<=tr.length?ir:tr.length,nr.enqueue(tr.subarray(rr,ir)),rr=ir}})}function Ts(tr,er){let rr=0;return new WritableStream({write(nr){const ir=rr+nr.length;if(ir>er)throw new Error("maximum output size exceeded");for(;tr.bytes.length<ir;)tr.bytes=Cs(tr.bytes,er);tr.bytes.set(nr,rr),rr=ir},close(){rr<tr.bytes.length&&(tr.bytes=tr.bytes.subarray(0,rr))}})}function Cs(tr,er){let rr=2*tr.length;rr>er&&(rr=er);const nr=new Uint8Array(rr);return nr.set(tr),nr}function Ps(tr){let er;try{er=ContactBundle.decode(tr)}catch{const nr=PublicKeyBundle.decode(tr);er={v1:{keyBundle:new de(nr)},v2:void 0}}if(er.v1?.keyBundle)return new de(er.v1.keyBundle);if(er.v2?.keyBundle)return new ce(er.v2.keyBundle);throw new Error("unknown or invalid contact bundle")}function Is(tr){return tr instanceof de?ContactBundle.encode({v1:{keyBundle:tr},v2:void 0}).finish():ContactBundle.encode({v1:void 0,v2:{keyBundle:tr}}).finish()}class Bs{constructor(er,rr,nr){this.value=er,this.entryType=rr,this.permissionType=nr}get key(){return`${this.entryType}-${this.value}`}static fromAddress(er,rr="unknown"){return new Bs(er,"address",rr)}static fromGroupId(er,rr="unknown"){return new Bs(er,"groupId",rr)}static fromInboxId(er,rr="unknown"){return new Bs(er,"inboxId",rr)}}class Rs{constructor(er){this.entries=new Map,this.client=er}allow(er){const rr=Bs.fromAddress(er,"allowed");return this.entries.set(rr.key,"allowed"),rr}deny(er){const rr=Bs.fromAddress(er,"denied");return this.entries.set(rr.key,"denied"),rr}allowGroup(er){const rr=Bs.fromGroupId(er,"allowed");return this.entries.set(rr.key,"allowed"),rr}denyGroup(er){const rr=Bs.fromGroupId(er,"denied");return this.entries.set(rr.key,"denied"),rr}allowInboxId(er){const rr=Bs.fromInboxId(er,"allowed");return this.entries.set(rr.key,"allowed"),rr}denyInboxId(er){const rr=Bs.fromInboxId(er,"denied");return this.entries.set(rr.key,"denied"),rr}state(er){const rr=Bs.fromAddress(er);return this.entries.get(rr.key)??"unknown"}groupState(er){const rr=Bs.fromGroupId(er);return this.entries.get(rr.key)??"unknown"}inboxIdState(er){const rr=Bs.fromInboxId(er);return this.entries.get(rr.key)??"unknown"}async getIdentifier(){if(!this._identifier){const{identifier:er}=await this.client.keystore.getPrivatePreferencesTopicIdentifier();this._identifier=er}return this._identifier}async decodeMessages(er){const{responses:rr}=await this.client.keystore.selfDecrypt({requests:er.map(nr=>({payload:nr}))});return rr.reduce((nr,ir)=>ir.result?.decrypted?nr.concat(PrivatePreferencesAction.decode(ir.result.decrypted)):nr,[])}processActions(er,rr){const nr=[];return er.forEach(ir=>{ir.allowAddress?.walletAddresses.forEach(or=>{nr.push(this.allow(or))}),ir.denyAddress?.walletAddresses.forEach(or=>{nr.push(this.deny(or))}),ir.allowGroup?.groupIds.forEach(or=>{nr.push(this.allowGroup(or))}),ir.denyGroup?.groupIds.forEach(or=>{nr.push(this.denyGroup(or))}),ir.allowInboxId?.inboxIds.forEach(or=>{nr.push(this.allowInboxId(or))}),ir.denyInboxId?.inboxIds.forEach(or=>{nr.push(this.denyInboxId(or))})}),rr&&(this.lastEntryTimestamp=ge$1(rr)),nr}async stream(er){const rr=await this.getIdentifier(),nr=Ie(rr);return ye.create(this.client,[nr],async ir=>{if(!ir.message)return;const or=await this.decodeMessages([ir.message]);return this.processActions(or,ir.timestampNs),or[0]},void 0,er)}reset(){this.entries.clear()}async load(er){const rr=await this.getIdentifier(),nr=Ie(rr);let ir;const or=await this.client.listEnvelopes(nr,async({message:ar,timestampNs:cr})=>(cr&&(ir=cr),ar),{startTime:er}),sr=await this.decodeMessages(or);return this.processActions(sr,ir)}async publish(er){const rr=await this.getIdentifier(),nr=er.reduce((ur,fr)=>{let dr,gr,br;if(fr.permissionType==="unknown")return ur;switch(fr.entryType){case"address":dr=fr.permissionType==="allowed"?"allowAddress":"denyAddress",gr="walletAddresses",br=ur[dr]?.[gr]??[];break;case"groupId":dr=fr.permissionType==="allowed"?"allowGroup":"denyGroup",gr="groupIds",br=ur[dr]?.[gr]??[];break;case"inboxId":dr=fr.permissionType==="allowed"?"allowInboxId":"denyInboxId",gr="inboxIds",br=ur[dr]?.[gr]??[];break;default:return ur}return{...ur,[dr]:{[gr]:[...br,fr.value]}}},{}),ir=PrivatePreferencesAction.encode(nr).finish(),{responses:or}=await this.client.keystore.selfEncrypt({requests:[{payload:ir}]}),sr=or.reduce((ur,fr)=>fr.result?.encrypted?ur.concat(fr.result?.encrypted):ur,[]),ar=Ie(rr),cr=new Date,lr=sr.map(ur=>({contentTopic:ar,message:ur,timestamp:cr}));await this.client.publishEnvelopes(lr),er.forEach(ur=>{this.entries.set(ur.key,ur.permissionType)})}}class Ns{constructor(er){this.addresses=new Set,this.consentList=new Rs(er),this.client=er,this.jobRunner=new at("user-preferences",er.keystore)}validateConsentSignature({signature:er,timestamp:rr},nr){const ir=Number(rr);if(!er||!ir||ir>Date.now()||ir<Date.now()-2592e6)return!1;const or=J(er),sr=createConsentMessage(nr,ir);return ee(hexToBytes$8(hashMessage(sr)),or)?.getEthereumAddress()===this.client.address}async loadConsentList(er){return this.jobRunner.run(async rr=>{const nr=await this.consentList.load(er??rr);try{const ir=(await this.client.conversations.list()).reduce((or,sr)=>sr.consentProof&&this.consentState(sr.peerAddress)==="unknown"&&this.validateConsentSignature(sr.consentProof,sr.peerAddress)?or.concat(sr.peerAddress):or,[]);ir.length&&await this.client.contacts.allow(ir)}catch(ir){console.log(ir)}return nr})}async refreshConsentList(){return this.consentList.reset(),await this.jobRunner.resetLastRunTime(),this.loadConsentList()}async streamConsentList(er){return this.consentList.stream(er)}get lastConsentListEntryTimestamp(){return this.consentList.lastEntryTimestamp}setConsentListEntries(er){er.length&&(this.consentList.reset(),er.forEach(rr=>{rr.permissionType==="allowed"&&this.consentList.allow(rr.value),rr.permissionType==="denied"&&this.consentList.deny(rr.value)}))}isAllowed(er){return this.consentList.state(er)==="allowed"}isDenied(er){return this.consentList.state(er)==="denied"}isGroupAllowed(er){return this.consentList.groupState(er)==="allowed"}isGroupDenied(er){return this.consentList.groupState(er)==="denied"}isInboxAllowed(er){return this.consentList.inboxIdState(er)==="allowed"}isInboxDenied(er){return this.consentList.inboxIdState(er)==="denied"}consentState(er){return this.consentList.state(er)}groupConsentState(er){return this.consentList.groupState(er)}inboxConsentState(er){return this.consentList.inboxIdState(er)}async allow(er){await this.consentList.publish(er.map(rr=>Bs.fromAddress(rr,"allowed")))}async deny(er){await this.consentList.publish(er.map(rr=>Bs.fromAddress(rr,"denied")))}async allowGroups(er){await this.consentList.publish(er.map(rr=>Bs.fromGroupId(rr,"allowed")))}async denyGroups(er){await this.consentList.publish(er.map(rr=>Bs.fromGroupId(rr,"denied")))}async allowInboxes(er){await this.consentList.publish(er.map(rr=>Bs.fromInboxId(rr,"allowed")))}async denyInboxes(er){await this.consentList.publish(er.map(rr=>Bs.fromInboxId(rr,"denied")))}}var Ds;(function(tr){tr[tr.none=0]="none",tr[tr.xmtpTopicStore=1]="xmtpTopicStore"})(Ds||(Ds={}));const xs=Ds.none;class Ms{static createConfiguration(){return{type:xs,version:0}}constructor(er){this.configuration=er}get backupType(){return xs}}const _s=Ds.xmtpTopicStore;class Vs{static createConfiguration(er){return{type:_s,version:0,topic:"history-v0:"+er}}constructor(er){this.configuration=er}get backupType(){return _s}}async function Us(tr,er){const rr=await async function(nr,ir){let or;switch((await ir()).type){case Ds.none:or=Ms.createConfiguration();break;case Ds.xmtpTopicStore:or=Vs.createConfiguration(nr)}return or}(tr,er);switch(rr.type){case Ds.none:return new Ms(rr);case Ds.xmtpTopicStore:return new Vs(rr)}}const qs=104857600;class Os{constructor(er,rr,nr,ir){this.knownPublicKeyBundles=new Map,this.keystore=ir,this.publicKeyBundle=er,this.address=er.walletSignatureAddress(),this._conversations=new dt(this),this._codecs=new Map,this._maxContentSize=qs,this.apiClient=rr,this._backupClient=nr,this.contacts=new Ns(this)}get conversations(){return this._conversations}get backupType(){return this._backupClient.backupType}get signedPublicKeyBundle(){return ce.fromLegacyBundle(this.publicKeyBundle)}static async create(er,rr){const nr=ks(er),ir=function(fr){const dr={privateKeyOverride:void 0,env:"dev",apiUrl:void 0,codecs:[new r$5],maxContentSize:qs,persistConversations:!0,skipContactPublishing:!1,useSnaps:!1,basePersistence:typeof window<"u"&&window.document!==void 0?ht.create():ut$1.create(),disablePersistenceEncryption:!1,keystoreProviders:$s(),apiClientFactory:Gs};return fr?.codecs&&(fr.codecs=dr.codecs.concat(fr.codecs)),fr?.useSnaps&&(fr.keystoreProviders=[new Es("npm:@xmtp/snap","1.3.6"),...dr.keystoreProviders]),{...dr,...fr}}(rr),or=ir.apiClientFactory(ir),sr=await async function(fr,dr,gr){for(const br of fr.keystoreProviders)try{return await br.newKeystore(fr,dr,gr??void 0)}catch(vr){if(vr instanceof lt$8)continue;throw vr}throw new Error("No keystore providers available")}(ir,or,nr),ar=new de(await sr.getPublicKeyBundle()),cr=ar.walletSignatureAddress();or.setAuthenticator(new je(sr));const lr=await Os.setupBackupClient(cr,ir.env),ur=new Os(ar,or,lr,sr);return await ur.init(ir),ur}static async getKeys(er,rr){const nr=await Os.create(ks(er),rr),ir=await nr.keystore.getPrivateKeyBundle();return new Ge(ir).encode()}static isSnapsReady(){return ps()}static async setupBackupClient(er,rr){return Us(er,async()=>Promise.resolve({type:rr==="local"?Ds.xmtpTopicStore:Ds.none}))}async init(er){er.codecs.forEach(rr=>{this.registerCodec(rr)}),this._maxContentSize=er.maxContentSize,er.skipContactPublishing||await this.ensureUserContactPublished(er.publishLegacyContact)}async close(){}async ensureUserContactPublished(er=!1){const rr=await Hs(this.apiClient,this.address);rr&&rr instanceof ce&&this.signedPublicKeyBundle.equals(rr)||(await this.publishUserContact(!0),er||await this.publishUserContact(er))}async publishUserContact(er=!1){const rr=er?this.publicKeyBundle:this.signedPublicKeyBundle;await this.publishEnvelopes([{contentTopic:Se(this.address),message:Is(rr)}])}async getUserContact(er){er=getAddress(er);const rr=this.knownPublicKeyBundles.get(er);if(rr)return rr;const nr=await Hs(this.apiClient,er);return nr&&this.knownPublicKeyBundles.set(er,nr),nr}async getUserContacts(er){const rr=er.map(sr=>getAddress(sr)),nr=new Map,ir=[];for(const sr of rr){const ar=this.knownPublicKeyBundles.get(sr);ar?nr.set(sr,ar):(nr.set(sr,void 0),ir.push(sr))}const or=await Fs(this.apiClient,ir);for(let sr=0;sr<or.length;sr++){const ar=ir[sr],cr=or[sr];nr.set(ar,cr),cr&&this.knownPublicKeyBundles.set(ar,cr)}return rr.map(sr=>nr.get(sr))}forgetContact(er){er=getAddress(er),this.knownPublicKeyBundles.delete(er)}async canMessage(er){try{return Array.isArray(er)?(await this.getUserContacts(er)).map(rr=>!!rr):await this.getUserContact(er)!==void 0}catch{return!1}}static async canMessage(er,rr){const nr=rr?.apiUrl||et[rr?.env||"dev"],ir=new ot(nr,{appVersion:rr?.appVersion});if(Array.isArray(er)){const or=er.map(sr=>getAddress(sr));return(await Fs(ir,or)).map(sr=>!!sr)}try{er=getAddress(er)}catch{return!1}return await Hs(ir,er)!==void 0}validateEnvelope(er){const rr=er.message;if(!er.contentTopic)throw new Error("Missing content topic");if(!rr||!rr.length)throw new Error("Cannot publish empty message")}async publishEnvelopes(er){for(const rr of er)this.validateEnvelope(rr);await this.apiClient.publish(er)}registerCodec(er){const rr=er.contentType,nr=`${rr.authorityId}/${rr.typeId}`;return this._codecs.set(nr,er),this}codecFor(er){const rr=`${er.authorityId}/${er.typeId}`,nr=this._codecs.get(rr);if(nr&&!(er.versionMajor>nr.contentType.versionMajor))return nr}async encodeContent(er,rr){const nr=rr?.contentType||t$6,ir=this.codecFor(nr);if(!ir)throw new Error("unknown content type "+nr);const or=ir.encode(er,this),sr=ir.fallback(er);return sr&&(or.fallback=sr),typeof rr?.compression=="number"&&or.content.length>=10&&(or.compression=rr.compression),await async function(ar){if(ar.compression===void 0)return;const cr={bytes:new Uint8Array(ar.content.length/10)};await Ss(ar.content).pipeThrough(new CompressionStream(As(ar.compression))).pipeTo(Ts(cr,ar.content.length+1e3)),ar.content=cr.bytes}(or),{payload:EncodedContent.encode(or).finish(),shouldPush:ir.shouldPush(er)}}async decodeContent(er){const rr=EncodedContent.decode(er);if(!rr.type)throw new Error("missing content type");let nr;const ir=new t$7(rr.type);let or;await async function(ar,cr){if(ar.compression===void 0)return;const lr={bytes:new Uint8Array(ar.content.length)};await Ss(ar.content).pipeThrough(new DecompressionStream(As(ar.compression))).pipeTo(Ts(lr,cr)),ar.content=lr.bytes}(rr,1e3);const sr=this.codecFor(ir);return sr?nr=sr.decode(rr,this):or=new Error("unknown content type "+ir),{content:nr,contentType:ir,error:or,contentFallback:rr.fallback}}listInvitations(er){return this.listEnvelopes(Ce(this.address),async rr=>rr,er)}async listEnvelopes(er,rr,nr){nr||(nr={});const{startTime:ir,endTime:or,limit:sr}=nr,ar=await this.apiClient.query({contentTopic:er,startTime:ir,endTime:or},{direction:nr.direction||SortDirection$2.SORT_DIRECTION_ASCENDING,limit:sr}),cr=[];for(const lr of ar)if(lr.message)try{const ur=await rr(lr);cr.push(ur)}catch(ur){console.warn("Error in listEnvelopes mapper",ur)}return cr}listEnvelopesPaginated(er,rr,nr){return Ye(this.apiClient.queryIteratePages({contentTopic:er,startTime:nr?.startTime,endTime:nr?.endTime},{direction:nr?.direction,pageSize:nr?.pageSize||100}),rr)}}function Gs(tr){const er=tr.apiUrl||et[tr.env];return new ot(er,{appVersion:tr.appVersion})}async function Hs(tr,er){const rr=tr.queryIterator({contentTopic:Se(er)},{pageSize:5,direction:Ze.SORT_DIRECTION_DESCENDING});for await(const nr of rr){if(!nr.message)continue;const ir=Ps(nr.message);let or;try{or=await ir?.walletSignatureAddress()}catch{or=void 0}if(or?.toLowerCase()===er.toLowerCase())return ir}}async function Fs(tr,er){const rr=er.map(Se),nr=await tr.batchQuery(rr.map(ir=>({contentTopic:ir,pageSize:5,direction:Ze.SORT_DIRECTION_DESCENDING})));return Promise.all(er.map(async(ir,or)=>{const sr=nr[or];if(sr){for(const ar of sr)if(ar.message)try{const cr=Ps(ar.message),lr=await cr?.walletSignatureAddress();if(ir.toLowerCase()===lr.toLowerCase())return cr;console.info("Received contact bundle with incorrect address")}catch(cr){console.info("Invalid contact bundle",cr)}}}))}function $s(){return[new Ks,new rs,new ns]}const Chat=()=>{const[tr,er]=reactExports.useState(null),[rr,nr]=reactExports.useState(null),[ir,or]=reactExports.useState(null),[sr,ar]=reactExports.useState([]),[cr,lr]=reactExports.useState(""),ur="0xeDa8DC4e12032eAc035b542dBAF336a8700172cb";reactExports.useEffect(()=>{(async()=>{try{if(window.ethereum){await window.ethereum.request({method:"eth_requestAccounts"});const vr=new(void 0).Web3Provider(window.ethereum).getSigner(),$r=await vr.getAddress();er(vr);const Er=await Os.create(vr,{env:"dev"});nr(Er),await fr(Er)}else console.error("MetaMask is not installed!")}catch(br){console.error("Error initializing wallet and client:",br)}})()},[]);const fr=async gr=>{if(await gr.canMessage(ur)){const vr=await gr.conversations.newConversation(ur);or(vr);const $r=await vr.messages();ar($r)}else console.log("Recipient is not XMTP enabled")},dr=async()=>{if(ir&&cr){const gr=await ir.send(cr);ar([...sr,gr]),lr("")}};return reactExports.useEffect(()=>{(async()=>{if(rr&&ir)for await(const br of await rr.conversations.streamAllMessages())ar(vr=>[...vr,br])})()},[rr,ir]),jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"chat-header bg-blue-500 text-white p-4 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold",children:"Live Chat"}),jsxRuntimeExports.jsxs("span",{className:"flex items-center text-sm",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.212 7.762c0 2.644-2.163 4.763-4.863 4.763-2.698 0-4.863-2.119-4.863-4.763C4.486 5.12 6.651 3 9.35 3c2.7 0 4.863 2.119 4.863 4.762zM2 17.917c0-2.447 3.386-3.06 7.35-3.06 3.985 0 7.349.634 7.349 3.083 0 2.448-3.386 3.06-7.35 3.06C5.364 21 2 20.367 2 17.917zM16.173 7.85a6.368 6.368 0 01-1.137 3.646c-.075.107-.008.252.123.275.182.03.369.048.56.052 1.898.048 3.601-1.148 4.072-2.95.697-2.675-1.35-5.077-3.957-5.077a4.16 4.16 0 00-.818.082c-.036.008-.075.025-.095.055-.025.04-.007.09.019.124a6.414 6.414 0 011.233 3.793zm3.144 5.853c1.276.245 2.115.742 2.462 1.467a2.107 2.107 0 010 1.878c-.531 1.123-2.245 1.485-2.912 1.578a.207.207 0 01-.234-.232c.34-3.113-2.367-4.588-3.067-4.927-.03-.017-.036-.04-.034-.055.002-.01.015-.025.038-.028 1.515-.028 3.145.176 3.747.32z"})}),"15,988 people"]})]}),jsxRuntimeExports.jsx("div",{className:"chat-messages p-4 h-96 overflow-y-auto",children:sr.map((gr,br)=>jsxRuntimeExports.jsxs("div",{className:`mb-4 ${gr.senderAddress===tr?.address?"text-right":"text-left"}`,children:[jsxRuntimeExports.jsx("div",{className:`inline-block p-2 rounded-lg ${gr.senderAddress===tr?.address?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:jsxRuntimeExports.jsx("p",{className:"text-sm",children:gr.content})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(gr.sent).toLocaleTimeString()})]},br))}),jsxRuntimeExports.jsx("div",{className:"chat-input border-t p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("input",{type:"text",value:cr,onChange:gr=>lr(gr.target.value),className:"flex-grow mr-2 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type your message..."}),jsxRuntimeExports.jsx("button",{onClick:dr,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Send"})]})})]})},Votes=()=>{const[tr,er]=reactExports.useState(30),[rr,nr]=reactExports.useState({yes:20,no:10}),ir=sr=>{er(tr+1),nr({...rr,[sr]:rr[sr]+1})},or=sr=>tr===0?0:Math.round(sr/tr*100);return jsxRuntimeExports.jsxs("div",{className:"chat",children:[jsxRuntimeExports.jsxs("div",{className:"chat-header anim",children:["Daily Votes",jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.212 7.762c0 2.644-2.163 4.763-4.863 4.763-2.698 0-4.863-2.119-4.863-4.763C4.486 5.12 6.651 3 9.35 3c2.7 0 4.863 2.119 4.863 4.762zM2 17.917c0-2.447 3.386-3.06 7.35-3.06 3.985 0 7.349.634 7.349 3.083 0 2.448-3.386 3.06-7.35 3.06C5.364 21 2 20.367 2 17.917zM16.173 7.85a6.368 6.368 0 01-1.137 3.646c-.075.107-.008.252.123.275.182.03.369.048.56.052 1.898.048 3.601-1.148 4.072-2.95.697-2.675-1.35-5.077-3.957-5.077a4.16 4.16 0 00-.818.082c-.036.008-.075.025-.095.055-.025.04-.007.09.019.124a6.414 6.414 0 011.233 3.793zm3.144 5.853c1.276.245 2.115.742 2.462 1.467a2.107 2.107 0 010 1.878c-.531 1.123-2.245 1.485-2.912 1.578a.207.207 0 01-.234-.232c.34-3.113-2.367-4.588-3.067-4.927-.03-.017-.036-.04-.034-.055.002-.01.015-.025.038-.028 1.515-.028 3.145.176 3.747.32z"})}),tr]})]}),jsxRuntimeExports.jsx("div",{className:"question",children:jsxRuntimeExports.jsx("p",{children:"Sign contract with WestHan?"})}),jsxRuntimeExports.jsx("div",{className:"poll",children:jsxRuntimeExports.jsxs("div",{className:"poll-content",children:[jsxRuntimeExports.jsxs("div",{className:"ans1",children:[jsxRuntimeExports.jsxs("h4",{className:"percentage-1",children:[or(rr.yes),"%"]}),jsxRuntimeExports.jsx("div",{className:"line1 bar",style:{width:`${or(rr.yes)}%`}}),jsxRuntimeExports.jsx("h3",{className:"ans-text",onClick:()=>ir("yes"),children:"YES"})]}),jsxRuntimeExports.jsxs("div",{className:"ans2",children:[jsxRuntimeExports.jsxs("h4",{className:"percentage-2",children:[or(rr.no),"%"]}),jsxRuntimeExports.jsx("div",{className:"line2 bar",style:{width:`${or(rr.no)}%`}}),jsxRuntimeExports.jsx("h3",{className:"ans-text",onClick:()=>ir("no"),children:"NO"})]})]})})]})},Posts=({posts:tr,clubAddress:er})=>{const[rr,nr]=reactExports.useState(!0);return reactExports.useEffect(()=>{(()=>{const or=`minted_${er}`,sr=localStorage.getItem(or);if(sr)try{const{minted:ar}=JSON.parse(sr);nr(!ar)}catch(ar){console.error("Error parsing minted status:",ar),nr(!0)}else nr(!0)})()},[er]),!tr||tr.length===0?jsxRuntimeExports.jsx("div",{children:"No posts available."}):jsxRuntimeExports.jsxs("div",{style:{"--delay":".2s"},className:`posts-container anim ${rr?"blurred":""}`,children:[rr&&jsxRuntimeExports.jsxs("div",{className:"overlay",children:[jsxRuntimeExports.jsx("div",{className:"lock-icon",children:"🔒"}),jsxRuntimeExports.jsx("div",{className:"lock-message",children:"Join to 👀"})]}),tr.map(ir=>jsxRuntimeExports.jsxs("div",{className:"post",style:{backgroundColor:"#252836"},children:[jsxRuntimeExports.jsx("div",{className:"post-header",children:ir.author&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:ir.author.avatar||"https://via.placeholder.com/40",alt:ir.author.name,className:"author-avatar"}),jsxRuntimeExports.jsxs("div",{className:"post-info",children:[jsxRuntimeExports.jsx("h3",{className:"author-name",children:ir.author.name}),ir.date&&jsxRuntimeExports.jsx("span",{className:"post-date",children:ir.date})]})]})}),jsxRuntimeExports.jsx("h4",{className:"post-title",children:ir.title}),jsxRuntimeExports.jsx("p",{className:"post-content",children:ir.content}),jsxRuntimeExports.jsxs("div",{className:"post-footer",children:[jsxRuntimeExports.jsxs("button",{className:"like-button",children:["👍 ",ir.likes??62]}),jsxRuntimeExports.jsxs("button",{className:"comment-button",children:["💬 ",ir.comments??71]})]})]},ir.id))]})},Events=({clubAddress:tr})=>{const er=[{id:1,title:"Fan Meetup",date:"2024-09-15",description:"Meet your favorite players!"},{id:2,title:"Charity Game",date:"2024-10-01",description:"Annual charity match for the community"},{id:3,title:"Training Session",date:"2024-10-10",description:"Watch a live training session"}];return jsxRuntimeExports.jsxs("div",{className:"events-container",children:[jsxRuntimeExports.jsx("h2",{className:"events-title",children:"Upcoming Events"}),jsxRuntimeExports.jsx("div",{className:"events-list",children:er.map(rr=>jsxRuntimeExports.jsxs("div",{className:"event-item",children:[jsxRuntimeExports.jsx("h3",{className:"event-title",children:rr.title}),jsxRuntimeExports.jsxs("p",{className:"event-date",children:["Date: ",rr.date]}),jsxRuntimeExports.jsx("p",{className:"event-description",children:rr.description})]},rr.id))})]})},FNSTokenABI=[{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"initialOwner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],FNS_TOKEN_ADDRESS="0x100F4B8dE640603520a3CFc73FdEc63Eadff70C2",MERCHANT_ADDRESS="0xEf52a2D973Bb13dd21Cb8c1F95F5312Aa5d18B44",Artifacts=({clubAddress:tr,provider:er})=>{const[rr,nr]=reactExports.useState(!1),[ir,or]=reactExports.useState(null),[sr,ar]=reactExports.useState("0"),cr=[{id:1,name:"Signed Jersey",description:"Authentic jersey signed by the player",price:5,image:"/placeholder/signed-jersey.jpg"},{id:2,name:"Game-worn Cleats",description:"Cleats worn during a memorable match",price:6,image:"/placeholder/game-worn-cleats.jpg"},{id:3,name:"Autographed Photo",description:"Exclusive autographed photo from a recent game",price:3,image:"/placeholder/autographed-photo.jpg"},{id:4,name:"Limited Edition Fan Shirt",description:"Special edition shirt designed by the player",price:2,image:"/placeholder/limited-edition-shirt.jpg"}];reactExports.useEffect(()=>{lr()},[er]);const lr=async()=>{try{const gr=await new BrowserProvider(er).getSigner(),vr=await new Contract(FNS_TOKEN_ADDRESS,FNSTokenABI,gr).balanceOf(await gr.getAddress());ar(formatEther(vr))}catch(dr){console.error("Error fetching user balance:",dr)}},ur=async dr=>{nr(!0),or(null);try{const gr=new BrowserProvider(er),br=await gr.getSigner(),vr=new Contract(FNS_TOKEN_ADDRESS,FNSTokenABI,br),$r=await br.getAddress(),Er=parseEther(dr.price.toString()),_r=await vr.balanceOf($r);if(console.log("User balance:",formatEther(_r),"FNS"),_r<Er)throw new Error("Insufficient FNS balance");console.log("Initiating transfer...");const xr=await fr(async Nr=>{const Lr=await gr.getFeeData();return await vr.transfer(MERCHANT_ADDRESS,Er,{nonce:Nr,maxFeePerGas:Lr.maxFeePerGas,maxPriorityFeePerGas:Lr.maxPriorityFeePerGas})},gr,br);console.log("Transfer transaction sent:",xr.hash);const Ir=await xr.wait();if(console.log("Transfer transaction mined. Receipt:",Ir),Ir.status===0)throw new Error("Transaction failed");console.log("Transfer successful"),alert(`Successfully purchased ${dr.name}!`),await lr()}catch(gr){console.error("Error buying artifact:",gr),or(`Failed to buy artifact: ${gr.message||"Unknown error"}`)}finally{nr(!1)}},fr=async(dr,gr,br,vr=3)=>{let $r=await gr.getTransactionCount(await br.getAddress(),"pending");for(let Er=0;Er<vr;Er++)try{return await dr($r)}catch(_r){if(console.log(`Attempt ${Er+1} failed:`,_r),_r.message.includes("already known"))console.log("Transaction already known, incrementing nonce and retrying..."),$r++;else if(_r.message.includes("replacement fee too low"))console.log("Replacement fee too low, increasing gas price and retrying...");else throw _r;if(Er===vr-1)throw new Error("Max retries reached");await new Promise(xr=>setTimeout(xr,1e3))}throw new Error("Failed to send transaction after retries")};return jsxRuntimeExports.jsxs("div",{className:"artifacts-container",children:[jsxRuntimeExports.jsx("h2",{children:"Player Artifacts"}),jsxRuntimeExports.jsxs("p",{children:["Your FNS Balance: ",parseFloat(sr).toFixed(2)," FNS"]}),ir&&jsxRuntimeExports.jsx("p",{className:"error-message",children:ir}),jsxRuntimeExports.jsx("div",{className:"artifacts-grid",children:cr.map(dr=>jsxRuntimeExports.jsxs("div",{className:"artifact-item",children:[jsxRuntimeExports.jsx("h3",{children:dr.name}),jsxRuntimeExports.jsx("p",{children:dr.description}),jsxRuntimeExports.jsxs("p",{className:"artifact-price",children:["FNS ",dr.price.toFixed(2)]}),jsxRuntimeExports.jsx("button",{className:"buy-button",onClick:()=>ur(dr),disabled:rr||parseFloat(sr)<dr.price,children:rr?"Processing...":"Buy Now"})]},dr.id))})]})},DetailsContainer=({selectedVideo:tr,onBack:er,provider:rr})=>{const[nr,ir]=reactExports.useState(null),[or,sr]=reactExports.useState(null),[ar,cr]=reactExports.useState(!1),[lr,ur]=reactExports.useState(null),[fr,dr]=reactExports.useState(!1),[gr,br]=reactExports.useState("fanfeed");reactExports.useEffect(()=>{tr?.clubInfo&&(vr(),$r())},[tr,rr]);const vr=async()=>{if(tr?.clubInfo)try{const Ir=new JsonRpcProvider("https://spicy-rpc.chiliz.com/"),Lr=await new Contract(tr.clubInfo.clubAddress,FanClubABI,Ir).getPassesSold();ir(Lr);const Or=tr.clubInfo.price*Lr;sr(formatEther(Or))}catch(Ir){console.error("Error fetching club data:",Ir),ir(null),sr(null)}},$r=async()=>{if(!(!rr||!tr?.clubInfo))try{const Ir=new BrowserProvider(rr),Lr=await(await Ir.getSigner()).getAddress(),Dr=await new Contract(tr.clubInfo.clubAddress,FanClubABI,Ir).balanceOf(Lr)>0;dr(Dr);const Cr=`minted_${tr.clubInfo.clubAddress}`,Tr=JSON.stringify({minted:Dr,name:tr.clubInfo.name});localStorage.setItem(Cr,Tr)}catch(Ir){console.error("Error checking mint status:",Ir)}},Er=async()=>{if(!(!rr||!tr?.clubInfo)){cr(!0),ur(null);try{const Ir=new BrowserProvider(rr),Nr=await Ir.getSigner(),Lr=new Contract(tr.clubInfo.clubAddress,FanClubABI,Nr),jr=await Ir.getFeeData(),Or=jr.maxFeePerGas||jr.gasPrice;if(!Or)throw new Error("Unable to determine gas price");const Dr=Or*BigInt(120)/BigInt(100),Tr=await Lr.mint.estimateGas({value:tr.clubInfo.price})*BigInt(120)/BigInt(100),yr=await Lr.mint({value:tr.clubInfo.price,gasLimit:Tr,maxFeePerGas:Dr,maxPriorityFeePerGas:jr.maxPriorityFeePerGas});console.log("Minting transaction sent:",yr.hash),await yr.wait(),console.log("Successfully minted a pass!"),vr(),$r()}catch(Ir){console.error("Error minting pass:",Ir),Ir.code==="REPLACEMENT_UNDERPRICED"?ur("Transaction failed due to network congestion. Please try again with a higher gas price."):Ir.message.includes("insufficient funds")?ur("Insufficient funds to complete the transaction. Please check your balance."):ur("Failed to mint a pass. Please try again. Error: "+Ir.message)}finally{cr(!1)}}};if(!tr)return null;const _r=[{id:"1",author:{name:"FanClub",avatar:"https://hips.hearstapps.com/hmg-prod/images/travis-kelce-of-the-kansas-city-chiefs-looks-on-prior-to-news-photo-1722867303.jpg?crop=0.660xw:0.986xh;0.325xw,0.0144xh&resize=1200:*"},title:"Hello Everyone!",content:"I wanted to share with you reasons....",date:"2023-05-15T10:30:00Z",likes:95,comments:35},{id:"2",author:{name:"FanClub",avatar:"https://hips.hearstapps.com/hmg-prod/images/travis-kelce-of-the-kansas-city-chiefs-looks-on-prior-to-news-photo-1722867303.jpg?crop=0.660xw:0.986xh;0.325xw,0.0144xh&resize=1200:*"},title:"My secret Diet",content:"My special nutricional advice....",date:"2023-05-15T10:30:00Z",likes:15,comments:3}],xr=()=>{switch(gr){case"fanfeed":return jsxRuntimeExports.jsx(Posts,{posts:_r,clubAddress:tr?.clubInfo?.clubAddress??""});case"events":return jsxRuntimeExports.jsx(Events,{clubAddress:tr?.clubInfo?.clubAddress??""});case"artifacts":return jsxRuntimeExports.jsx(Artifacts,{clubAddress:tr?.clubInfo?.clubAddress??"",provider:rr})}};return tr?jsxRuntimeExports.jsx("div",{className:"details-container",children:jsxRuntimeExports.jsxs("div",{className:"video-and-chat",children:[jsxRuntimeExports.jsxs("div",{className:"PlayerALL",children:[jsxRuntimeExports.jsx(Player,{selectedVideo:tr,currentPassesSold:nr,marketCap:or,onMint:Er,isMinting:ar,mintError:lr,onBack:er,hasMinted:fr,clubAddress:tr.clubInfo?.clubAddress??""}),jsxRuntimeExports.jsxs("div",{className:"tab-selection",children:[jsxRuntimeExports.jsx("button",{onClick:()=>br("fanfeed"),className:`tab-button ${gr==="fanfeed"?"active":""}`,children:"Fan Feed"}),jsxRuntimeExports.jsx("button",{onClick:()=>br("events"),className:`tab-button ${gr==="events"?"active":""}`,children:"Events"}),jsxRuntimeExports.jsx("button",{onClick:()=>br("artifacts"),className:`tab-button ${gr==="artifacts"?"active":""}`,children:"Artifacts"})]}),jsxRuntimeExports.jsx("div",{className:"tab-content",children:xr()})]}),jsxRuntimeExports.jsxs("div",{className:"chat-and-votes",children:[jsxRuntimeExports.jsx(Votes,{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Chat,{provider:rr})]})]})}):null},FanClubFactoryABI=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_ticker",type:"string"},{internalType:"string",name:"_sport",type:"string"},{internalType:"string",name:"_team",type:"string"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_maxSupply",type:"uint256"}],name:"createFanClub",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"fanClubAddress",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"FanClubCreated",type:"event"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"fanClubs",outputs:[{internalType:"address",name:"clubAddress",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"ticker",type:"string"},{internalType:"string",name:"sport",type:"string"},{internalType:"string",name:"team",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"uint256",name:"passesSold",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllFanClubs",outputs:[{components:[{internalType:"address",name:"clubAddress",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"ticker",type:"string"},{internalType:"string",name:"sport",type:"string"},{internalType:"string",name:"team",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"uint256",name:"passesSold",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct FanClubFactory.FanClubInfo[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFanClubCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"ownerToFanClubs",outputs:[{internalType:"address",name:"clubAddress",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"ticker",type:"string"},{internalType:"string",name:"sport",type:"string"},{internalType:"string",name:"team",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"uint256",name:"passesSold",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"}],walletIcon="/assets/wallet-BqZ5hvj5.png",logoutIcon="/assets/power-off-GdQCofVd.png",Header$1=({onLogoClick:tr,isLoggedIn:er,onLoginClick:rr,logout:nr,provider:ir})=>{const[or,sr]=reactExports.useState(!1),[ar,cr]=reactExports.useState(""),[lr,ur]=reactExports.useState(""),[fr,dr]=reactExports.useState(""),[gr,br]=reactExports.useState(""),[vr,$r]=reactExports.useState(""),[Er,_r]=reactExports.useState(""),[xr,Ir]=reactExports.useState(""),Nr=()=>{sr(!or)},Lr=async()=>{if(!window.ethereum){alert("Please install MetaMask to create a club");return}try{await window.ethereum.request({method:"eth_requestAccounts"});const Or=await new BrowserProvider(window.ethereum).getSigner(),Cr=await new Contract("0x079BD4E1aA2Edd6A1Fab24C9bc2a2383A24876C0",FanClubFactoryABI,Or).createFanClub(ar,lr,fr,gr,parseEther(vr),Er);console.log("Transaction sent:",Cr.hash),await Cr.wait(),alert("Club created successfully!"),Nr()}catch(jr){console.error("Error creating club:",jr),alert("Error creating club: "+jr.message)}};return jsxRuntimeExports.jsxs("div",{className:"header",children:[jsxRuntimeExports.jsx("div",{className:"search-bar",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search"})}),jsxRuntimeExports.jsxs("div",{className:"user-settings",children:[jsxRuntimeExports.jsx("button",{className:"create-club-button",onClick:Nr,children:"Create Club"}),jsxRuntimeExports.jsx("div",{className:"icon-button",onClick:rr,children:jsxRuntimeExports.jsx("img",{src:walletIcon,alt:"Wallet"})}),er&&jsxRuntimeExports.jsx("div",{className:"icon-button",onClick:nr,children:jsxRuntimeExports.jsx("img",{src:logoutIcon,alt:"Logout"})})]}),or&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"modal-overlay",onClick:Nr}),jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsx("h2",{children:"Create Your FanClub"}),jsxRuntimeExports.jsxs("div",{className:"profile-pic-container",children:[jsxRuntimeExports.jsx("img",{src:xr||"https://via.placeholder.com/100",alt:"Profile Preview",className:"profile-pic-preview"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Profile Picture URL",value:xr,onChange:jr=>Ir(jr.target.value)})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Club Name",value:ar,onChange:jr=>cr(jr.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Symbol",value:lr,onChange:jr=>ur(jr.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Sport",value:fr,onChange:jr=>dr(jr.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Team",value:gr,onChange:jr=>br(jr.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Price (ETH)",value:vr,onChange:jr=>$r(jr.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Max Supply",value:Er,onChange:jr=>_r(jr.target.value)}),jsxRuntimeExports.jsx("button",{onClick:Lr,children:"Create"}),jsxRuntimeExports.jsx("button",{onClick:Nr,children:"Cancel"})]})]})]})},Main=({provider:tr,walletServicesPlugin:er,logout:rr})=>{const[nr,ir]=reactExports.useState("discover"),[or,sr]=reactExports.useState(null),[ar,cr]=reactExports.useState(!1),[lr,ur]=reactExports.useState(!1),[fr,dr]=reactExports.useState([]),[gr,br]=reactExports.useState(null),[vr,$r]=reactExports.useState([]);reactExports.useEffect(()=>{tr&&(ur(!0),Er())},[tr]);const Er=async()=>{try{const jr=new JsonRpcProvider("https://spicy-rpc.chiliz.com/"),Dr=await new Contract("0x079BD4E1aA2Edd6A1Fab24C9bc2a2383A24876C0",FanClubFactoryABI,jr).getAllFanClubs();console.log("Fan clubs:",Dr);const Cr=Dr.map(Tr=>({clubAddress:Tr.clubAddress,name:Tr.name,ticker:Tr.ticker,sport:Tr.sport,team:Tr.team,price:BigInt(Tr.price),maxSupply:BigInt(Tr.maxSupply),passesSold:BigInt(Tr.passesSold),owner:Tr.owner}));dr(Cr),br(null)}catch(jr){console.error("Error fetching fan clubs:",jr),br(`Error fetching fan clubs: ${jr.message}`),dr([])}},_r=()=>{cr(!1)},xr=()=>{cr(!1),ir("discover")},Ir=()=>{cr(!1),ir("discover")},Nr=async()=>{if(er)try{await er.showWalletUi()}catch(jr){console.error("Error showing Wallet UI:",jr)}else console.log("WalletServicesPlugin is not available")},Lr=jr=>{console.log("Video data received in handleCardClick:",jr);const Or=fr.find(Dr=>Dr.clubAddress===jr.clubAddress);if(console.log("Club info found:",Or),Or){const Dr={...jr,clubInfo:Or};console.log("Updated video data to be set as selectedVideo:",Dr),sr(Dr)}else console.log("No matching club info found, setting original video data"),sr(jr);cr(!0)};return console.log("Current selectedVideo state:",or),jsxRuntimeExports.jsxs("div",{className:"container",children:[jsxRuntimeExports.jsx(Sidebar,{activeSection:nr,setActiveSection:xr,clubMemberships:vr}),jsxRuntimeExports.jsxs("div",{className:"wrapper",children:[jsxRuntimeExports.jsx(Header$1,{onLogoClick:Ir,isLoggedIn:lr,onLoginClick:Nr,logout:rr,provider:tr}),ar?jsxRuntimeExports.jsx(DetailsContainer,{selectedVideo:or,onBack:_r,provider:tr}):jsxRuntimeExports.jsx(MainContainer,{fanClubs:fr,error:gr,setSelectedVideo:Lr})]})]})},Login=({onLogin:tr})=>jsxRuntimeExports.jsxs("div",{className:"login-container",children:[jsxRuntimeExports.jsx("div",{className:"login-text",children:"Follow your Athletes."}),jsxRuntimeExports.jsx("button",{onClick:tr,className:"login-button",children:"Login"})]});function _typeof(tr){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(er){return typeof er}:function(er){return er&&typeof Symbol=="function"&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},_typeof(tr)}function toPrimitive(tr,er){if(_typeof(tr)!="object"||!tr)return tr;var rr=tr[Symbol.toPrimitive];if(rr!==void 0){var nr=rr.call(tr,er||"default");if(_typeof(nr)!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(er==="string"?String:Number)(tr)}function toPropertyKey(tr){var er=toPrimitive(tr,"string");return _typeof(er)=="symbol"?er:er+""}function _defineProperty(tr,er,rr){return(er=toPropertyKey(er))in tr?Object.defineProperty(tr,er,{value:rr,enumerable:!0,configurable:!0,writable:!0}):tr[er]=rr,tr}function ownKeys(tr,er){var rr=Object.keys(tr);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(tr);er&&(nr=nr.filter(function(ir){return Object.getOwnPropertyDescriptor(tr,ir).enumerable})),rr.push.apply(rr,nr)}return rr}function _objectSpread2(tr){for(var er=1;er<arguments.length;er++){var rr=arguments[er]!=null?arguments[er]:{};er%2?ownKeys(Object(rr),!0).forEach(function(nr){_defineProperty(tr,nr,rr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tr,Object.getOwnPropertyDescriptors(rr)):ownKeys(Object(rr)).forEach(function(nr){Object.defineProperty(tr,nr,Object.getOwnPropertyDescriptor(rr,nr))})}return tr}var browser$3={exports:{}},stream={exports:{}},primordials={ArrayIsArray(tr){return Array.isArray(tr)},ArrayPrototypeIncludes(tr,er){return tr.includes(er)},ArrayPrototypeIndexOf(tr,er){return tr.indexOf(er)},ArrayPrototypeJoin(tr,er){return tr.join(er)},ArrayPrototypeMap(tr,er){return tr.map(er)},ArrayPrototypePop(tr,er){return tr.pop(er)},ArrayPrototypePush(tr,er){return tr.push(er)},ArrayPrototypeSlice(tr,er,rr){return tr.slice(er,rr)},Error,FunctionPrototypeCall(tr,er,...rr){return tr.call(er,...rr)},FunctionPrototypeSymbolHasInstance(tr,er){return Function.prototype[Symbol.hasInstance].call(tr,er)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(tr,er){return Object.defineProperties(tr,er)},ObjectDefineProperty(tr,er,rr){return Object.defineProperty(tr,er,rr)},ObjectGetOwnPropertyDescriptor(tr,er){return Object.getOwnPropertyDescriptor(tr,er)},ObjectKeys(tr){return Object.keys(tr)},ObjectSetPrototypeOf(tr,er){return Object.setPrototypeOf(tr,er)},Promise,PromisePrototypeCatch(tr,er){return tr.catch(er)},PromisePrototypeThen(tr,er,rr){return tr.then(er,rr)},PromiseReject(tr){return Promise.reject(tr)},PromiseResolve(tr){return Promise.resolve(tr)},ReflectApply:Reflect.apply,RegExpPrototypeTest(tr,er){return tr.test(er)},SafeSet:Set,String,StringPrototypeSlice(tr,er,rr){return tr.slice(er,rr)},StringPrototypeToLowerCase(tr){return tr.toLowerCase()},StringPrototypeToUpperCase(tr){return tr.toUpperCase()},StringPrototypeTrim(tr){return tr.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(tr,er,rr){return tr.set(er,rr)},Boolean,Uint8Array},util$8={exports:{}},browser$2={exports:{}},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2.exports;hasRequiredBrowser=1;const{AbortController:tr,AbortSignal:er}=typeof self<"u"?self:typeof window<"u"?window:void 0;return browser$2.exports=tr,browser$2.exports.AbortSignal=er,browser$2.exports.default=tr,browser$2.exports}var events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function tr(er,rr,nr){return Function.prototype.apply.call(er,rr,nr)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(er){return Object.getOwnPropertyNames(er).concat(Object.getOwnPropertySymbols(er))}:ReflectOwnKeys=function(er){return Object.getOwnPropertyNames(er)};function ProcessEmitWarning(tr){console&&console.warn&&console.warn(tr)}var NumberIsNaN$2=Number.isNaN||function tr(er){return er!==er};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1;events.exports.once=once$9;EventEmitter$1.EventEmitter=EventEmitter$1;EventEmitter$1.prototype._events=void 0;EventEmitter$1.prototype._eventsCount=0;EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(tr){if(typeof tr!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof tr)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(tr){if(typeof tr!="number"||tr<0||NumberIsNaN$2(tr))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+tr+".");defaultMaxListeners=tr}});EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$1.prototype.setMaxListeners=function tr(er){if(typeof er!="number"||er<0||NumberIsNaN$2(er))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+er+".");return this._maxListeners=er,this};function _getMaxListeners(tr){return tr._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:tr._maxListeners}EventEmitter$1.prototype.getMaxListeners=function tr(){return _getMaxListeners(this)};EventEmitter$1.prototype.emit=function tr(er){for(var rr=[],nr=1;nr<arguments.length;nr++)rr.push(arguments[nr]);var ir=er==="error",or=this._events;if(or!==void 0)ir=ir&&or.error===void 0;else if(!ir)return!1;if(ir){var sr;if(rr.length>0&&(sr=rr[0]),sr instanceof Error)throw sr;var ar=new Error("Unhandled error."+(sr?" ("+sr.message+")":""));throw ar.context=sr,ar}var cr=or[er];if(cr===void 0)return!1;if(typeof cr=="function")ReflectApply(cr,this,rr);else for(var lr=cr.length,ur=arrayClone$1(cr,lr),nr=0;nr<lr;++nr)ReflectApply(ur[nr],this,rr);return!0};function _addListener(tr,er,rr,nr){var ir,or,sr;if(checkListener(rr),or=tr._events,or===void 0?(or=tr._events=Object.create(null),tr._eventsCount=0):(or.newListener!==void 0&&(tr.emit("newListener",er,rr.listener?rr.listener:rr),or=tr._events),sr=or[er]),sr===void 0)sr=or[er]=rr,++tr._eventsCount;else if(typeof sr=="function"?sr=or[er]=nr?[rr,sr]:[sr,rr]:nr?sr.unshift(rr):sr.push(rr),ir=_getMaxListeners(tr),ir>0&&sr.length>ir&&!sr.warned){sr.warned=!0;var ar=new Error("Possible EventEmitter memory leak detected. "+sr.length+" "+String(er)+" listeners added. Use emitter.setMaxListeners() to increase limit");ar.name="MaxListenersExceededWarning",ar.emitter=tr,ar.type=er,ar.count=sr.length,ProcessEmitWarning(ar)}return tr}EventEmitter$1.prototype.addListener=function tr(er,rr){return _addListener(this,er,rr,!1)};EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener;EventEmitter$1.prototype.prependListener=function tr(er,rr){return _addListener(this,er,rr,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(tr,er,rr){var nr={fired:!1,wrapFn:void 0,target:tr,type:er,listener:rr},ir=onceWrapper.bind(nr);return ir.listener=rr,nr.wrapFn=ir,ir}EventEmitter$1.prototype.once=function tr(er,rr){return checkListener(rr),this.on(er,_onceWrap(this,er,rr)),this};EventEmitter$1.prototype.prependOnceListener=function tr(er,rr){return checkListener(rr),this.prependListener(er,_onceWrap(this,er,rr)),this};EventEmitter$1.prototype.removeListener=function tr(er,rr){var nr,ir,or,sr,ar;if(checkListener(rr),ir=this._events,ir===void 0)return this;if(nr=ir[er],nr===void 0)return this;if(nr===rr||nr.listener===rr)--this._eventsCount===0?this._events=Object.create(null):(delete ir[er],ir.removeListener&&this.emit("removeListener",er,nr.listener||rr));else if(typeof nr!="function"){for(or=-1,sr=nr.length-1;sr>=0;sr--)if(nr[sr]===rr||nr[sr].listener===rr){ar=nr[sr].listener,or=sr;break}if(or<0)return this;or===0?nr.shift():spliceOne(nr,or),nr.length===1&&(ir[er]=nr[0]),ir.removeListener!==void 0&&this.emit("removeListener",er,ar||rr)}return this};EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener;EventEmitter$1.prototype.removeAllListeners=function tr(er){var rr,nr,ir;if(nr=this._events,nr===void 0)return this;if(nr.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):nr[er]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete nr[er]),this;if(arguments.length===0){var or=Object.keys(nr),sr;for(ir=0;ir<or.length;++ir)sr=or[ir],sr!=="removeListener"&&this.removeAllListeners(sr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(rr=nr[er],typeof rr=="function")this.removeListener(er,rr);else if(rr!==void 0)for(ir=rr.length-1;ir>=0;ir--)this.removeListener(er,rr[ir]);return this};function _listeners(tr,er,rr){var nr=tr._events;if(nr===void 0)return[];var ir=nr[er];return ir===void 0?[]:typeof ir=="function"?rr?[ir.listener||ir]:[ir]:rr?unwrapListeners(ir):arrayClone$1(ir,ir.length)}EventEmitter$1.prototype.listeners=function tr(er){return _listeners(this,er,!0)};EventEmitter$1.prototype.rawListeners=function tr(er){return _listeners(this,er,!1)};EventEmitter$1.listenerCount=function(tr,er){return typeof tr.listenerCount=="function"?tr.listenerCount(er):listenerCount.call(tr,er)};EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(tr){var er=this._events;if(er!==void 0){var rr=er[tr];if(typeof rr=="function")return 1;if(rr!==void 0)return rr.length}return 0}EventEmitter$1.prototype.eventNames=function tr(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone$1(tr,er){for(var rr=new Array(er),nr=0;nr<er;++nr)rr[nr]=tr[nr];return rr}function spliceOne(tr,er){for(;er+1<tr.length;er++)tr[er]=tr[er+1];tr.pop()}function unwrapListeners(tr){for(var er=new Array(tr.length),rr=0;rr<er.length;++rr)er[rr]=tr[rr].listener||tr[rr];return er}function once$9(tr,er){return new Promise(function(rr,nr){function ir(sr){tr.removeListener(er,or),nr(sr)}function or(){typeof tr.removeListener=="function"&&tr.removeListener("error",ir),rr([].slice.call(arguments))}eventTargetAgnosticAddListener(tr,er,or,{once:!0}),er!=="error"&&addErrorHandlerIfEventEmitter(tr,ir,{once:!0})})}function addErrorHandlerIfEventEmitter(tr,er,rr){typeof tr.on=="function"&&eventTargetAgnosticAddListener(tr,"error",er,rr)}function eventTargetAgnosticAddListener(tr,er,rr,nr){if(typeof tr.on=="function")nr.once?tr.once(er,rr):tr.on(er,rr);else if(typeof tr.addEventListener=="function")tr.addEventListener(er,function ir(or){nr.once&&tr.removeEventListener(er,ir),rr(or)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof tr)}var eventsExports=events.exports;(function(tr){const er=buffer$1,{kResistStopPropagation:rr,SymbolDispose:nr}=primordials,ir=globalThis.AbortSignal||requireBrowser().AbortSignal,or=globalThis.AbortController||requireBrowser().AbortController,sr=Object.getPrototypeOf(async function(){}).constructor,ar=globalThis.Blob||er.Blob,cr=typeof ar<"u"?function(gr){return gr instanceof ar}:function(gr){return!1},lr=(dr,gr)=>{if(dr!==void 0&&(dr===null||typeof dr!="object"||!("aborted"in dr)))throw new ERR_INVALID_ARG_TYPE(gr,"AbortSignal",dr)},ur=(dr,gr)=>{if(typeof dr!="function")throw new ERR_INVALID_ARG_TYPE(gr,"Function",dr)};class fr extends Error{constructor(gr){if(!Array.isArray(gr))throw new TypeError(`Expected input to be an Array, got ${typeof gr}`);let br="";for(let vr=0;vr<gr.length;vr++)br+=`    ${gr[vr].stack}
`;super(br),this.name="AggregateError",this.errors=gr}}tr.exports={AggregateError:fr,kEmptyObject:Object.freeze({}),once(dr){let gr=!1;return function(...br){gr||(gr=!0,dr.apply(this,br))}},createDeferredPromise:function(){let dr,gr;return{promise:new Promise((vr,$r)=>{dr=vr,gr=$r}),resolve:dr,reject:gr}},promisify(dr){return new Promise((gr,br)=>{dr((vr,...$r)=>vr?br(vr):gr(...$r))})},debuglog(){return function(){}},format(dr,...gr){return dr.replace(/%([sdifj])/g,function(...[br,vr]){const $r=gr.shift();return vr==="f"?$r.toFixed(6):vr==="j"?JSON.stringify($r):vr==="s"&&typeof $r=="object"?`${$r.constructor!==Object?$r.constructor.name:""} {}`.trim():$r.toString()})},inspect(dr){switch(typeof dr){case"string":if(dr.includes("'"))if(dr.includes('"')){if(!dr.includes("`")&&!dr.includes("${"))return`\`${dr}\``}else return`"${dr}"`;return`'${dr}'`;case"number":return isNaN(dr)?"NaN":Object.is(dr,-0)?String(dr):dr;case"bigint":return`${String(dr)}n`;case"boolean":case"undefined":return String(dr);case"object":return"{}"}},types:{isAsyncFunction(dr){return dr instanceof sr},isArrayBufferView(dr){return ArrayBuffer.isView(dr)}},isBlob:cr,deprecate(dr,gr){return dr},addAbortListener:eventsExports.addAbortListener||function(gr,br){if(gr===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",gr);lr(gr,"signal"),ur(br,"listener");let vr;return gr.aborted?queueMicrotask(()=>br()):(gr.addEventListener("abort",br,{__proto__:null,once:!0,[rr]:!0}),vr=()=>{gr.removeEventListener("abort",br)}),{__proto__:null,[nr](){var $r;($r=vr)===null||$r===void 0||$r()}}},AbortSignalAny:ir.any||function(gr){if(gr.length===1)return gr[0];const br=new or,vr=()=>br.abort();return gr.forEach($r=>{lr($r,"signals"),$r.addEventListener("abort",vr,{once:!0})}),br.signal.addEventListener("abort",()=>{gr.forEach($r=>$r.removeEventListener("abort",vr))},{once:!0}),br.signal}},tr.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(util$8);var utilExports=util$8.exports,operators={};const{format:format$1,inspect:inspect$1,AggregateError:CustomAggregateError}=utilExports,AggregateError$1=globalThis.AggregateError||CustomAggregateError,kIsNodeError=Symbol("kIsNodeError"),kTypes=["string","function","number","object","Function","Object","boolean","bigint","symbol"],classRegExp=/^([A-Z][a-z0-9]*)+$/,nodeInternalPrefix="__node_internal_",codes$2={};function assert$a(tr,er){if(!tr)throw new codes$2.ERR_INTERNAL_ASSERTION(er)}function addNumericalSeparator(tr){let er="",rr=tr.length;const nr=tr[0]==="-"?1:0;for(;rr>=nr+4;rr-=3)er=`_${tr.slice(rr-3,rr)}${er}`;return`${tr.slice(0,rr)}${er}`}function getMessage(tr,er,rr){if(typeof er=="function")return assert$a(er.length<=rr.length,`Code: ${tr}; The provided arguments length (${rr.length}) does not match the required ones (${er.length}).`),er(...rr);const nr=(er.match(/%[dfijoOs]/g)||[]).length;return assert$a(nr===rr.length,`Code: ${tr}; The provided arguments length (${rr.length}) does not match the required ones (${nr}).`),rr.length===0?er:format$1(er,...rr)}function E$1(tr,er,rr){rr||(rr=Error);class nr extends rr{constructor(...or){super(getMessage(tr,er,or))}toString(){return`${this.name} [${tr}]: ${this.message}`}}Object.defineProperties(nr.prototype,{name:{value:rr.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${tr}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),nr.prototype.code=tr,nr.prototype[kIsNodeError]=!0,codes$2[tr]=nr}function hideStackFrames$1(tr){const er=nodeInternalPrefix+tr.name;return Object.defineProperty(tr,"name",{value:er}),tr}function aggregateTwoErrors$2(tr,er){if(tr&&er&&tr!==er){if(Array.isArray(er.errors))return er.errors.push(tr),er;const rr=new AggregateError$1([er,tr],er.message);return rr.code=er.code,rr}return tr||er}let AbortError$5=class extends Error{constructor(er="The operation was aborted",rr=void 0){if(rr!==void 0&&typeof rr!="object")throw new codes$2.ERR_INVALID_ARG_TYPE("options","Object",rr);super(er,rr),this.code="ABORT_ERR",this.name="AbortError"}};E$1("ERR_ASSERTION","%s",Error);E$1("ERR_INVALID_ARG_TYPE",(tr,er,rr)=>{assert$a(typeof tr=="string","'name' must be a string"),Array.isArray(er)||(er=[er]);let nr="The ";tr.endsWith(" argument")?nr+=`${tr} `:nr+=`"${tr}" ${tr.includes(".")?"property":"argument"} `,nr+="must be ";const ir=[],or=[],sr=[];for(const cr of er)assert$a(typeof cr=="string","All expected entries have to be of type string"),kTypes.includes(cr)?ir.push(cr.toLowerCase()):classRegExp.test(cr)?or.push(cr):(assert$a(cr!=="object",'The value "object" should be written as "Object"'),sr.push(cr));if(or.length>0){const cr=ir.indexOf("object");cr!==-1&&(ir.splice(ir,cr,1),or.push("Object"))}if(ir.length>0){switch(ir.length){case 1:nr+=`of type ${ir[0]}`;break;case 2:nr+=`one of type ${ir[0]} or ${ir[1]}`;break;default:{const cr=ir.pop();nr+=`one of type ${ir.join(", ")}, or ${cr}`}}(or.length>0||sr.length>0)&&(nr+=" or ")}if(or.length>0){switch(or.length){case 1:nr+=`an instance of ${or[0]}`;break;case 2:nr+=`an instance of ${or[0]} or ${or[1]}`;break;default:{const cr=or.pop();nr+=`an instance of ${or.join(", ")}, or ${cr}`}}sr.length>0&&(nr+=" or ")}switch(sr.length){case 0:break;case 1:sr[0].toLowerCase()!==sr[0]&&(nr+="an "),nr+=`${sr[0]}`;break;case 2:nr+=`one of ${sr[0]} or ${sr[1]}`;break;default:{const cr=sr.pop();nr+=`one of ${sr.join(", ")}, or ${cr}`}}if(rr==null)nr+=`. Received ${rr}`;else if(typeof rr=="function"&&rr.name)nr+=`. Received function ${rr.name}`;else if(typeof rr=="object"){var ar;if((ar=rr.constructor)!==null&&ar!==void 0&&ar.name)nr+=`. Received an instance of ${rr.constructor.name}`;else{const cr=inspect$1(rr,{depth:-1});nr+=`. Received ${cr}`}}else{let cr=inspect$1(rr,{colors:!1});cr.length>25&&(cr=`${cr.slice(0,25)}...`),nr+=`. Received type ${typeof rr} (${cr})`}return nr},TypeError);E$1("ERR_INVALID_ARG_VALUE",(tr,er,rr="is invalid")=>{let nr=inspect$1(er);return nr.length>128&&(nr=nr.slice(0,128)+"..."),`The ${tr.includes(".")?"property":"argument"} '${tr}' ${rr}. Received ${nr}`},TypeError);E$1("ERR_INVALID_RETURN_VALUE",(tr,er,rr)=>{var nr;const ir=rr!=null&&(nr=rr.constructor)!==null&&nr!==void 0&&nr.name?`instance of ${rr.constructor.name}`:`type ${typeof rr}`;return`Expected ${tr} to be returned from the "${er}" function but got ${ir}.`},TypeError);E$1("ERR_MISSING_ARGS",(...tr)=>{assert$a(tr.length>0,"At least one arg needs to be specified");let er;const rr=tr.length;switch(tr=(Array.isArray(tr)?tr:[tr]).map(nr=>`"${nr}"`).join(" or "),rr){case 1:er+=`The ${tr[0]} argument`;break;case 2:er+=`The ${tr[0]} and ${tr[1]} arguments`;break;default:{const nr=tr.pop();er+=`The ${tr.join(", ")}, and ${nr} arguments`}break}return`${er} must be specified`},TypeError);E$1("ERR_OUT_OF_RANGE",(tr,er,rr)=>{assert$a(er,'Missing "range" argument');let nr;return Number.isInteger(rr)&&Math.abs(rr)>2**32?nr=addNumericalSeparator(String(rr)):typeof rr=="bigint"?(nr=String(rr),(rr>2n**32n||rr<-(2n**32n))&&(nr=addNumericalSeparator(nr)),nr+="n"):nr=inspect$1(rr),`The value of "${tr}" is out of range. It must be ${er}. Received ${nr}`},RangeError);E$1("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);E$1("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);E$1("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);E$1("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);E$1("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);E$1("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);E$1("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);E$1("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);E$1("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);E$1("ERR_STREAM_WRITE_AFTER_END","write after end",Error);E$1("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var errors$5={AbortError:AbortError$5,aggregateTwoErrors:hideStackFrames$1(aggregateTwoErrors$2),hideStackFrames:hideStackFrames$1,codes:codes$2};const{ArrayIsArray:ArrayIsArray$2,ArrayPrototypeIncludes,ArrayPrototypeJoin,ArrayPrototypeMap,NumberIsInteger:NumberIsInteger$1,NumberIsNaN:NumberIsNaN$1,NumberMAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER,NumberParseInt,ObjectPrototypeHasOwnProperty,RegExpPrototypeExec,String:String$1,StringPrototypeToUpperCase,StringPrototypeTrim}=primordials,{hideStackFrames,codes:{ERR_SOCKET_BAD_PORT,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$5,ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$3,ERR_OUT_OF_RANGE:ERR_OUT_OF_RANGE$1,ERR_UNKNOWN_SIGNAL}}=errors$5,{normalizeEncoding:normalizeEncoding$1}=utilExports,{isAsyncFunction,isArrayBufferView}=utilExports.types,signals={};function isInt32(tr){return tr===(tr|0)}function isUint32(tr){return tr===tr>>>0}const octalReg=/^[0-7]+$/,modeDesc="must be a 32-bit unsigned integer or an octal string";function parseFileMode(tr,er,rr){if(typeof tr>"u"&&(tr=rr),typeof tr=="string"){if(RegExpPrototypeExec(octalReg,tr)===null)throw new ERR_INVALID_ARG_VALUE$3(er,tr,modeDesc);tr=NumberParseInt(tr,8)}return validateUint32(tr,er),tr}const validateInteger$2=hideStackFrames((tr,er,rr=NumberMIN_SAFE_INTEGER,nr=NumberMAX_SAFE_INTEGER)=>{if(typeof tr!="number")throw new ERR_INVALID_ARG_TYPE$5(er,"number",tr);if(!NumberIsInteger$1(tr))throw new ERR_OUT_OF_RANGE$1(er,"an integer",tr);if(tr<rr||tr>nr)throw new ERR_OUT_OF_RANGE$1(er,`>= ${rr} && <= ${nr}`,tr)}),validateInt32=hideStackFrames((tr,er,rr=-2147483648,nr=2147483647)=>{if(typeof tr!="number")throw new ERR_INVALID_ARG_TYPE$5(er,"number",tr);if(!NumberIsInteger$1(tr))throw new ERR_OUT_OF_RANGE$1(er,"an integer",tr);if(tr<rr||tr>nr)throw new ERR_OUT_OF_RANGE$1(er,`>= ${rr} && <= ${nr}`,tr)}),validateUint32=hideStackFrames((tr,er,rr=!1)=>{if(typeof tr!="number")throw new ERR_INVALID_ARG_TYPE$5(er,"number",tr);if(!NumberIsInteger$1(tr))throw new ERR_OUT_OF_RANGE$1(er,"an integer",tr);const nr=rr?1:0,ir=4294967295;if(tr<nr||tr>ir)throw new ERR_OUT_OF_RANGE$1(er,`>= ${nr} && <= ${ir}`,tr)});function validateString(tr,er){if(typeof tr!="string")throw new ERR_INVALID_ARG_TYPE$5(er,"string",tr)}function validateNumber(tr,er,rr=void 0,nr){if(typeof tr!="number")throw new ERR_INVALID_ARG_TYPE$5(er,"number",tr);if(rr!=null&&tr<rr||nr!=null&&tr>nr||(rr!=null||nr!=null)&&NumberIsNaN$1(tr))throw new ERR_OUT_OF_RANGE$1(er,`${rr!=null?`>= ${rr}`:""}${rr!=null&&nr!=null?" && ":""}${nr!=null?`<= ${nr}`:""}`,tr)}const validateOneOf=hideStackFrames((tr,er,rr)=>{if(!ArrayPrototypeIncludes(rr,tr)){const ir="must be one of: "+ArrayPrototypeJoin(ArrayPrototypeMap(rr,or=>typeof or=="string"?`'${or}'`:String$1(or)),", ");throw new ERR_INVALID_ARG_VALUE$3(er,tr,ir)}});function validateBoolean$1(tr,er){if(typeof tr!="boolean")throw new ERR_INVALID_ARG_TYPE$5(er,"boolean",tr)}function getOwnPropertyValueOrDefault(tr,er,rr){return tr==null||!ObjectPrototypeHasOwnProperty(tr,er)?rr:tr[er]}const validateObject$3=hideStackFrames((tr,er,rr=null)=>{const nr=getOwnPropertyValueOrDefault(rr,"allowArray",!1),ir=getOwnPropertyValueOrDefault(rr,"allowFunction",!1);if(!getOwnPropertyValueOrDefault(rr,"nullable",!1)&&tr===null||!nr&&ArrayIsArray$2(tr)||typeof tr!="object"&&(!ir||typeof tr!="function"))throw new ERR_INVALID_ARG_TYPE$5(er,"Object",tr)}),validateDictionary=hideStackFrames((tr,er)=>{if(tr!=null&&typeof tr!="object"&&typeof tr!="function")throw new ERR_INVALID_ARG_TYPE$5(er,"a dictionary",tr)}),validateArray=hideStackFrames((tr,er,rr=0)=>{if(!ArrayIsArray$2(tr))throw new ERR_INVALID_ARG_TYPE$5(er,"Array",tr);if(tr.length<rr){const nr=`must be longer than ${rr}`;throw new ERR_INVALID_ARG_VALUE$3(er,tr,nr)}});function validateStringArray(tr,er){validateArray(tr,er);for(let rr=0;rr<tr.length;rr++)validateString(tr[rr],`${er}[${rr}]`)}function validateBooleanArray(tr,er){validateArray(tr,er);for(let rr=0;rr<tr.length;rr++)validateBoolean$1(tr[rr],`${er}[${rr}]`)}function validateAbortSignalArray(tr,er){validateArray(tr,er);for(let rr=0;rr<tr.length;rr++){const nr=tr[rr],ir=`${er}[${rr}]`;if(nr==null)throw new ERR_INVALID_ARG_TYPE$5(ir,"AbortSignal",nr);validateAbortSignal$3(nr,ir)}}function validateSignalName(tr,er="signal"){if(validateString(tr,er),signals[tr]===void 0)throw signals[StringPrototypeToUpperCase(tr)]!==void 0?new ERR_UNKNOWN_SIGNAL(tr+" (signals must use all capital letters)"):new ERR_UNKNOWN_SIGNAL(tr)}const validateBuffer=hideStackFrames((tr,er="buffer")=>{if(!isArrayBufferView(tr))throw new ERR_INVALID_ARG_TYPE$5(er,["Buffer","TypedArray","DataView"],tr)});function validateEncoding(tr,er){const rr=normalizeEncoding$1(er),nr=tr.length;if(rr==="hex"&&nr%2!==0)throw new ERR_INVALID_ARG_VALUE$3("encoding",er,`is invalid for data of length ${nr}`)}function validatePort(tr,er="Port",rr=!0){if(typeof tr!="number"&&typeof tr!="string"||typeof tr=="string"&&StringPrototypeTrim(tr).length===0||+tr!==+tr>>>0||tr>65535||tr===0&&!rr)throw new ERR_SOCKET_BAD_PORT(er,tr,rr);return tr|0}const validateAbortSignal$3=hideStackFrames((tr,er)=>{if(tr!==void 0&&(tr===null||typeof tr!="object"||!("aborted"in tr)))throw new ERR_INVALID_ARG_TYPE$5(er,"AbortSignal",tr)}),validateFunction$2=hideStackFrames((tr,er)=>{if(typeof tr!="function")throw new ERR_INVALID_ARG_TYPE$5(er,"Function",tr)}),validatePlainFunction=hideStackFrames((tr,er)=>{if(typeof tr!="function"||isAsyncFunction(tr))throw new ERR_INVALID_ARG_TYPE$5(er,"Function",tr)}),validateUndefined=hideStackFrames((tr,er)=>{if(tr!==void 0)throw new ERR_INVALID_ARG_TYPE$5(er,"undefined",tr)});function validateUnion(tr,er,rr){if(!ArrayPrototypeIncludes(rr,tr))throw new ERR_INVALID_ARG_TYPE$5(er,`('${ArrayPrototypeJoin(rr,"|")}')`,tr)}const linkValueRegExp=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function validateLinkHeaderFormat(tr,er){if(typeof tr>"u"||!RegExpPrototypeExec(linkValueRegExp,tr))throw new ERR_INVALID_ARG_VALUE$3(er,tr,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function validateLinkHeaderValue(tr){if(typeof tr=="string")return validateLinkHeaderFormat(tr,"hints"),tr;if(ArrayIsArray$2(tr)){const er=tr.length;let rr="";if(er===0)return rr;for(let nr=0;nr<er;nr++){const ir=tr[nr];validateLinkHeaderFormat(ir,"hints"),rr+=ir,nr!==er-1&&(rr+=", ")}return rr}throw new ERR_INVALID_ARG_VALUE$3("hints",tr,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var validators$1={isInt32,isUint32,parseFileMode,validateArray,validateStringArray,validateBooleanArray,validateAbortSignalArray,validateBoolean:validateBoolean$1,validateBuffer,validateDictionary,validateEncoding,validateFunction:validateFunction$2,validateInt32,validateInteger:validateInteger$2,validateNumber,validateObject:validateObject$3,validateOneOf,validatePlainFunction,validatePort,validateSignalName,validateString,validateUint32,validateUndefined,validateUnion,validateAbortSignal:validateAbortSignal$3,validateLinkHeaderValue},endOfStream$2={exports:{}};const{SymbolAsyncIterator:SymbolAsyncIterator$2,SymbolIterator:SymbolIterator$2,SymbolFor}=primordials,kIsDestroyed$1=SymbolFor("nodejs.stream.destroyed"),kIsErrored=SymbolFor("nodejs.stream.errored"),kIsReadable=SymbolFor("nodejs.stream.readable"),kIsWritable=SymbolFor("nodejs.stream.writable"),kIsDisturbed=SymbolFor("nodejs.stream.disturbed"),kIsClosedPromise$1=SymbolFor("nodejs.webstream.isClosedPromise"),kControllerErrorFunction=SymbolFor("nodejs.webstream.controllerErrorFunction");function isReadableNodeStream$2(tr,er=!1){var rr;return!!(tr&&typeof tr.pipe=="function"&&typeof tr.on=="function"&&(!er||typeof tr.pause=="function"&&typeof tr.resume=="function")&&(!tr._writableState||((rr=tr._readableState)===null||rr===void 0?void 0:rr.readable)!==!1)&&(!tr._writableState||tr._readableState))}function isWritableNodeStream$1(tr){var er;return!!(tr&&typeof tr.write=="function"&&typeof tr.on=="function"&&(!tr._readableState||((er=tr._writableState)===null||er===void 0?void 0:er.writable)!==!1))}function isDuplexNodeStream(tr){return!!(tr&&typeof tr.pipe=="function"&&tr._readableState&&typeof tr.on=="function"&&typeof tr.write=="function")}function isNodeStream$4(tr){return tr&&(tr._readableState||tr._writableState||typeof tr.write=="function"&&typeof tr.on=="function"||typeof tr.pipe=="function"&&typeof tr.on=="function")}function isReadableStream$4(tr){return!!(tr&&!isNodeStream$4(tr)&&typeof tr.pipeThrough=="function"&&typeof tr.getReader=="function"&&typeof tr.cancel=="function")}function isWritableStream$3(tr){return!!(tr&&!isNodeStream$4(tr)&&typeof tr.getWriter=="function"&&typeof tr.abort=="function")}function isTransformStream$2(tr){return!!(tr&&!isNodeStream$4(tr)&&typeof tr.readable=="object"&&typeof tr.writable=="object")}function isWebStream$2(tr){return isReadableStream$4(tr)||isWritableStream$3(tr)||isTransformStream$2(tr)}function isIterable$2(tr,er){return tr==null?!1:er===!0?typeof tr[SymbolAsyncIterator$2]=="function":er===!1?typeof tr[SymbolIterator$2]=="function":typeof tr[SymbolAsyncIterator$2]=="function"||typeof tr[SymbolIterator$2]=="function"}function isDestroyed$1(tr){if(!isNodeStream$4(tr))return null;const er=tr._writableState,rr=tr._readableState,nr=er||rr;return!!(tr.destroyed||tr[kIsDestroyed$1]||nr!=null&&nr.destroyed)}function isWritableEnded(tr){if(!isWritableNodeStream$1(tr))return null;if(tr.writableEnded===!0)return!0;const er=tr._writableState;return er!=null&&er.errored?!1:typeof er?.ended!="boolean"?null:er.ended}function isWritableFinished$1(tr,er){if(!isWritableNodeStream$1(tr))return null;if(tr.writableFinished===!0)return!0;const rr=tr._writableState;return rr!=null&&rr.errored?!1:typeof rr?.finished!="boolean"?null:!!(rr.finished||er===!1&&rr.ended===!0&&rr.length===0)}function isReadableEnded(tr){if(!isReadableNodeStream$2(tr))return null;if(tr.readableEnded===!0)return!0;const er=tr._readableState;return!er||er.errored?!1:typeof er?.ended!="boolean"?null:er.ended}function isReadableFinished$2(tr,er){if(!isReadableNodeStream$2(tr))return null;const rr=tr._readableState;return rr!=null&&rr.errored?!1:typeof rr?.endEmitted!="boolean"?null:!!(rr.endEmitted||er===!1&&rr.ended===!0&&rr.length===0)}function isReadable$3(tr){return tr&&tr[kIsReadable]!=null?tr[kIsReadable]:typeof tr?.readable!="boolean"?null:isDestroyed$1(tr)?!1:isReadableNodeStream$2(tr)&&tr.readable&&!isReadableFinished$2(tr)}function isWritable$3(tr){return tr&&tr[kIsWritable]!=null?tr[kIsWritable]:typeof tr?.writable!="boolean"?null:isDestroyed$1(tr)?!1:isWritableNodeStream$1(tr)&&tr.writable&&!isWritableEnded(tr)}function isFinished$1(tr,er){return isNodeStream$4(tr)?isDestroyed$1(tr)?!0:!(er?.readable!==!1&&isReadable$3(tr)||er?.writable!==!1&&isWritable$3(tr)):null}function isWritableErrored$1(tr){var er,rr;return isNodeStream$4(tr)?tr.writableErrored?tr.writableErrored:(er=(rr=tr._writableState)===null||rr===void 0?void 0:rr.errored)!==null&&er!==void 0?er:null:null}function isReadableErrored$1(tr){var er,rr;return isNodeStream$4(tr)?tr.readableErrored?tr.readableErrored:(er=(rr=tr._readableState)===null||rr===void 0?void 0:rr.errored)!==null&&er!==void 0?er:null:null}function isClosed$1(tr){if(!isNodeStream$4(tr))return null;if(typeof tr.closed=="boolean")return tr.closed;const er=tr._writableState,rr=tr._readableState;return typeof er?.closed=="boolean"||typeof rr?.closed=="boolean"?er?.closed||rr?.closed:typeof tr._closed=="boolean"&&isOutgoingMessage(tr)?tr._closed:null}function isOutgoingMessage(tr){return typeof tr._closed=="boolean"&&typeof tr._defaultKeepAlive=="boolean"&&typeof tr._removedConnection=="boolean"&&typeof tr._removedContLen=="boolean"}function isServerResponse(tr){return typeof tr._sent100=="boolean"&&isOutgoingMessage(tr)}function isServerRequest$1(tr){var er;return typeof tr._consuming=="boolean"&&typeof tr._dumped=="boolean"&&((er=tr.req)===null||er===void 0?void 0:er.upgradeOrConnect)===void 0}function willEmitClose(tr){if(!isNodeStream$4(tr))return null;const er=tr._writableState,rr=tr._readableState,nr=er||rr;return!nr&&isServerResponse(tr)||!!(nr&&nr.autoDestroy&&nr.emitClose&&nr.closed===!1)}function isDisturbed(tr){var er;return!!(tr&&((er=tr[kIsDisturbed])!==null&&er!==void 0?er:tr.readableDidRead||tr.readableAborted))}function isErrored(tr){var er,rr,nr,ir,or,sr,ar,cr,lr,ur;return!!(tr&&((er=(rr=(nr=(ir=(or=(sr=tr[kIsErrored])!==null&&sr!==void 0?sr:tr.readableErrored)!==null&&or!==void 0?or:tr.writableErrored)!==null&&ir!==void 0?ir:(ar=tr._readableState)===null||ar===void 0?void 0:ar.errorEmitted)!==null&&nr!==void 0?nr:(cr=tr._writableState)===null||cr===void 0?void 0:cr.errorEmitted)!==null&&rr!==void 0?rr:(lr=tr._readableState)===null||lr===void 0?void 0:lr.errored)!==null&&er!==void 0?er:!((ur=tr._writableState)===null||ur===void 0)&&ur.errored))}var utils$7={isDestroyed:isDestroyed$1,kIsDestroyed:kIsDestroyed$1,isDisturbed,kIsDisturbed,isErrored,kIsErrored,isReadable:isReadable$3,kIsReadable,kIsClosedPromise:kIsClosedPromise$1,kControllerErrorFunction,kIsWritable,isClosed:isClosed$1,isDuplexNodeStream,isFinished:isFinished$1,isIterable:isIterable$2,isReadableNodeStream:isReadableNodeStream$2,isReadableStream:isReadableStream$4,isReadableEnded,isReadableFinished:isReadableFinished$2,isReadableErrored:isReadableErrored$1,isNodeStream:isNodeStream$4,isWebStream:isWebStream$2,isWritable:isWritable$3,isWritableNodeStream:isWritableNodeStream$1,isWritableStream:isWritableStream$3,isWritableEnded,isWritableFinished:isWritableFinished$1,isWritableErrored:isWritableErrored$1,isServerRequest:isServerRequest$1,isServerResponse,willEmitClose,isTransformStream:isTransformStream$2};const process$4=browserExports$2,{AbortError:AbortError$4,codes:codes$1}=errors$5,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$4,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$2}=codes$1,{kEmptyObject,once:once$8}=utilExports,{validateAbortSignal:validateAbortSignal$2,validateFunction:validateFunction$1,validateObject:validateObject$2,validateBoolean}=validators$1,{Promise:Promise$3,PromisePrototypeThen:PromisePrototypeThen$2,SymbolDispose:SymbolDispose$1}=primordials,{isClosed,isReadable:isReadable$2,isReadableNodeStream:isReadableNodeStream$1,isReadableStream:isReadableStream$3,isReadableFinished:isReadableFinished$1,isReadableErrored,isWritable:isWritable$2,isWritableNodeStream,isWritableStream:isWritableStream$2,isWritableFinished,isWritableErrored,isNodeStream:isNodeStream$3,willEmitClose:_willEmitClose,kIsClosedPromise}=utils$7;let addAbortListener$1;function isRequest$5(tr){return tr.setHeader&&typeof tr.abort=="function"}const nop=()=>{};function eos$7(tr,er,rr){var nr,ir;if(arguments.length===2?(rr=er,er=kEmptyObject):er==null?er=kEmptyObject:validateObject$2(er,"options"),validateFunction$1(rr,"callback"),validateAbortSignal$2(er.signal,"options.signal"),rr=once$8(rr),isReadableStream$3(tr)||isWritableStream$2(tr))return eosWeb(tr,er,rr);if(!isNodeStream$3(tr))throw new ERR_INVALID_ARG_TYPE$4("stream",["ReadableStream","WritableStream","Stream"],tr);const or=(nr=er.readable)!==null&&nr!==void 0?nr:isReadableNodeStream$1(tr),sr=(ir=er.writable)!==null&&ir!==void 0?ir:isWritableNodeStream(tr),ar=tr._writableState,cr=tr._readableState,lr=()=>{tr.writable||dr()};let ur=_willEmitClose(tr)&&isReadableNodeStream$1(tr)===or&&isWritableNodeStream(tr)===sr,fr=isWritableFinished(tr,!1);const dr=()=>{fr=!0,tr.destroyed&&(ur=!1),!(ur&&(!tr.readable||or))&&(!or||gr)&&rr.call(tr)};let gr=isReadableFinished$1(tr,!1);const br=()=>{gr=!0,tr.destroyed&&(ur=!1),!(ur&&(!tr.writable||sr))&&(!sr||fr)&&rr.call(tr)},vr=Nr=>{rr.call(tr,Nr)};let $r=isClosed(tr);const Er=()=>{$r=!0;const Nr=isWritableErrored(tr)||isReadableErrored(tr);if(Nr&&typeof Nr!="boolean")return rr.call(tr,Nr);if(or&&!gr&&isReadableNodeStream$1(tr,!0)&&!isReadableFinished$1(tr,!1))return rr.call(tr,new ERR_STREAM_PREMATURE_CLOSE$2);if(sr&&!fr&&!isWritableFinished(tr,!1))return rr.call(tr,new ERR_STREAM_PREMATURE_CLOSE$2);rr.call(tr)},_r=()=>{$r=!0;const Nr=isWritableErrored(tr)||isReadableErrored(tr);if(Nr&&typeof Nr!="boolean")return rr.call(tr,Nr);rr.call(tr)},xr=()=>{tr.req.on("finish",dr)};isRequest$5(tr)?(tr.on("complete",dr),ur||tr.on("abort",Er),tr.req?xr():tr.on("request",xr)):sr&&!ar&&(tr.on("end",lr),tr.on("close",lr)),!ur&&typeof tr.aborted=="boolean"&&tr.on("aborted",Er),tr.on("end",br),tr.on("finish",dr),er.error!==!1&&tr.on("error",vr),tr.on("close",Er),$r?process$4.nextTick(Er):ar!=null&&ar.errorEmitted||cr!=null&&cr.errorEmitted?ur||process$4.nextTick(_r):(!or&&(!ur||isReadable$2(tr))&&(fr||isWritable$2(tr)===!1)||!sr&&(!ur||isWritable$2(tr))&&(gr||isReadable$2(tr)===!1)||cr&&tr.req&&tr.aborted)&&process$4.nextTick(_r);const Ir=()=>{rr=nop,tr.removeListener("aborted",Er),tr.removeListener("complete",dr),tr.removeListener("abort",Er),tr.removeListener("request",xr),tr.req&&tr.req.removeListener("finish",dr),tr.removeListener("end",lr),tr.removeListener("close",lr),tr.removeListener("finish",dr),tr.removeListener("end",br),tr.removeListener("error",vr),tr.removeListener("close",Er)};if(er.signal&&!$r){const Nr=()=>{const Lr=rr;Ir(),Lr.call(tr,new AbortError$4(void 0,{cause:er.signal.reason}))};if(er.signal.aborted)process$4.nextTick(Nr);else{addAbortListener$1=addAbortListener$1||utilExports.addAbortListener;const Lr=addAbortListener$1(er.signal,Nr),jr=rr;rr=once$8((...Or)=>{Lr[SymbolDispose$1](),jr.apply(tr,Or)})}}return Ir}function eosWeb(tr,er,rr){let nr=!1,ir=nop;if(er.signal)if(ir=()=>{nr=!0,rr.call(tr,new AbortError$4(void 0,{cause:er.signal.reason}))},er.signal.aborted)process$4.nextTick(ir);else{addAbortListener$1=addAbortListener$1||utilExports.addAbortListener;const sr=addAbortListener$1(er.signal,ir),ar=rr;rr=once$8((...cr)=>{sr[SymbolDispose$1](),ar.apply(tr,cr)})}const or=(...sr)=>{nr||process$4.nextTick(()=>rr.apply(tr,sr))};return PromisePrototypeThen$2(tr[kIsClosedPromise].promise,or,or),nop}function finished$1(tr,er){var rr;let nr=!1;return er===null&&(er=kEmptyObject),(rr=er)!==null&&rr!==void 0&&rr.cleanup&&(validateBoolean(er.cleanup,"cleanup"),nr=er.cleanup),new Promise$3((ir,or)=>{const sr=eos$7(tr,er,ar=>{nr&&sr(),ar?or(ar):ir()})})}endOfStream$2.exports=eos$7;endOfStream$2.exports.finished=finished$1;var endOfStreamExports=endOfStream$2.exports;const process$3=browserExports$2,{aggregateTwoErrors:aggregateTwoErrors$1,codes:{ERR_MULTIPLE_CALLBACK:ERR_MULTIPLE_CALLBACK$1},AbortError:AbortError$3}=errors$5,{Symbol:Symbol$3}=primordials,{kIsDestroyed,isDestroyed,isFinished,isServerRequest}=utils$7,kDestroy=Symbol$3("kDestroy"),kConstruct=Symbol$3("kConstruct");function checkError(tr,er,rr){tr&&(tr.stack,er&&!er.errored&&(er.errored=tr),rr&&!rr.errored&&(rr.errored=tr))}function destroy$1(tr,er){const rr=this._readableState,nr=this._writableState,ir=nr||rr;return nr!=null&&nr.destroyed||rr!=null&&rr.destroyed?(typeof er=="function"&&er(),this):(checkError(tr,nr,rr),nr&&(nr.destroyed=!0),rr&&(rr.destroyed=!0),ir.constructed?_destroy(this,tr,er):this.once(kDestroy,function(or){_destroy(this,aggregateTwoErrors$1(or,tr),er)}),this)}function _destroy(tr,er,rr){let nr=!1;function ir(or){if(nr)return;nr=!0;const sr=tr._readableState,ar=tr._writableState;checkError(or,ar,sr),ar&&(ar.closed=!0),sr&&(sr.closed=!0),typeof rr=="function"&&rr(or),or?process$3.nextTick(emitErrorCloseNT,tr,or):process$3.nextTick(emitCloseNT$1,tr)}try{tr._destroy(er||null,ir)}catch(or){ir(or)}}function emitErrorCloseNT(tr,er){emitErrorNT$1(tr,er),emitCloseNT$1(tr)}function emitCloseNT$1(tr){const er=tr._readableState,rr=tr._writableState;rr&&(rr.closeEmitted=!0),er&&(er.closeEmitted=!0),(rr!=null&&rr.emitClose||er!=null&&er.emitClose)&&tr.emit("close")}function emitErrorNT$1(tr,er){const rr=tr._readableState,nr=tr._writableState;nr!=null&&nr.errorEmitted||rr!=null&&rr.errorEmitted||(nr&&(nr.errorEmitted=!0),rr&&(rr.errorEmitted=!0),tr.emit("error",er))}function undestroy$1(){const tr=this._readableState,er=this._writableState;tr&&(tr.constructed=!0,tr.closed=!1,tr.closeEmitted=!1,tr.destroyed=!1,tr.errored=null,tr.errorEmitted=!1,tr.reading=!1,tr.ended=tr.readable===!1,tr.endEmitted=tr.readable===!1),er&&(er.constructed=!0,er.destroyed=!1,er.closed=!1,er.closeEmitted=!1,er.errored=null,er.errorEmitted=!1,er.finalCalled=!1,er.prefinished=!1,er.ended=er.writable===!1,er.ending=er.writable===!1,er.finished=er.writable===!1)}function errorOrDestroy$1(tr,er,rr){const nr=tr._readableState,ir=tr._writableState;if(ir!=null&&ir.destroyed||nr!=null&&nr.destroyed)return this;nr!=null&&nr.autoDestroy||ir!=null&&ir.autoDestroy?tr.destroy(er):er&&(er.stack,ir&&!ir.errored&&(ir.errored=er),nr&&!nr.errored&&(nr.errored=er),rr?process$3.nextTick(emitErrorNT$1,tr,er):emitErrorNT$1(tr,er))}function construct(tr,er){if(typeof tr._construct!="function")return;const rr=tr._readableState,nr=tr._writableState;rr&&(rr.constructed=!1),nr&&(nr.constructed=!1),tr.once(kConstruct,er),!(tr.listenerCount(kConstruct)>1)&&process$3.nextTick(constructNT,tr)}function constructNT(tr){let er=!1;function rr(nr){if(er){errorOrDestroy$1(tr,nr??new ERR_MULTIPLE_CALLBACK$1);return}er=!0;const ir=tr._readableState,or=tr._writableState,sr=or||ir;ir&&(ir.constructed=!0),or&&(or.constructed=!0),sr.destroyed?tr.emit(kDestroy,nr):nr?errorOrDestroy$1(tr,nr,!0):process$3.nextTick(emitConstructNT,tr)}try{tr._construct(nr=>{process$3.nextTick(rr,nr)})}catch(nr){process$3.nextTick(rr,nr)}}function emitConstructNT(tr){tr.emit(kConstruct)}function isRequest$4(tr){return tr?.setHeader&&typeof tr.abort=="function"}function emitCloseLegacy(tr){tr.emit("close")}function emitErrorCloseLegacy(tr,er){tr.emit("error",er),process$3.nextTick(emitCloseLegacy,tr)}function destroyer$4(tr,er){!tr||isDestroyed(tr)||(!er&&!isFinished(tr)&&(er=new AbortError$3),isServerRequest(tr)?(tr.socket=null,tr.destroy(er)):isRequest$4(tr)?tr.abort():isRequest$4(tr.req)?tr.req.abort():typeof tr.destroy=="function"?tr.destroy(er):typeof tr.close=="function"?tr.close():er?process$3.nextTick(emitErrorCloseLegacy,tr,er):process$3.nextTick(emitCloseLegacy,tr),tr.destroyed||(tr[kIsDestroyed]=!0))}var destroy_1$1={construct,destroyer:destroyer$4,destroy:destroy$1,undestroy:undestroy$1,errorOrDestroy:errorOrDestroy$1};const{ArrayIsArray:ArrayIsArray$1,ObjectSetPrototypeOf:ObjectSetPrototypeOf$2}=primordials,{EventEmitter:EE}=eventsExports;function Stream(tr){EE.call(this,tr)}ObjectSetPrototypeOf$2(Stream.prototype,EE.prototype);ObjectSetPrototypeOf$2(Stream,EE);Stream.prototype.pipe=function(tr,er){const rr=this;function nr(ur){tr.writable&&tr.write(ur)===!1&&rr.pause&&rr.pause()}rr.on("data",nr);function ir(){rr.readable&&rr.resume&&rr.resume()}tr.on("drain",ir),!tr._isStdio&&(!er||er.end!==!1)&&(rr.on("end",sr),rr.on("close",ar));let or=!1;function sr(){or||(or=!0,tr.end())}function ar(){or||(or=!0,typeof tr.destroy=="function"&&tr.destroy())}function cr(ur){lr(),EE.listenerCount(this,"error")===0&&this.emit("error",ur)}prependListener(rr,"error",cr),prependListener(tr,"error",cr);function lr(){rr.removeListener("data",nr),tr.removeListener("drain",ir),rr.removeListener("end",sr),rr.removeListener("close",ar),rr.removeListener("error",cr),tr.removeListener("error",cr),rr.removeListener("end",lr),rr.removeListener("close",lr),tr.removeListener("close",lr)}return rr.on("end",lr),rr.on("close",lr),tr.on("close",lr),tr.emit("pipe",rr),tr};function prependListener(tr,er,rr){if(typeof tr.prependListener=="function")return tr.prependListener(er,rr);!tr._events||!tr._events[er]?tr.on(er,rr):ArrayIsArray$1(tr._events[er])?tr._events[er].unshift(rr):tr._events[er]=[rr,tr._events[er]]}var legacy={Stream,prependListener},addAbortSignal={exports:{}};(function(tr){const{SymbolDispose:er}=primordials,{AbortError:rr,codes:nr}=errors$5,{isNodeStream:ir,isWebStream:or,kControllerErrorFunction:sr}=utils$7,ar=endOfStreamExports,{ERR_INVALID_ARG_TYPE:cr}=nr;let lr;const ur=(fr,dr)=>{if(typeof fr!="object"||!("aborted"in fr))throw new cr(dr,"AbortSignal",fr)};tr.exports.addAbortSignal=function(dr,gr){if(ur(dr,"signal"),!ir(gr)&&!or(gr))throw new cr("stream",["ReadableStream","WritableStream","Stream"],gr);return tr.exports.addAbortSignalNoValidate(dr,gr)},tr.exports.addAbortSignalNoValidate=function(fr,dr){if(typeof fr!="object"||!("aborted"in fr))return dr;const gr=ir(dr)?()=>{dr.destroy(new rr(void 0,{cause:fr.reason}))}:()=>{dr[sr](new rr(void 0,{cause:fr.reason}))};if(fr.aborted)gr();else{lr=lr||utilExports.addAbortListener;const br=lr(fr,gr);ar(dr,br[er])}return dr}})(addAbortSignal);var addAbortSignalExports=addAbortSignal.exports;const{StringPrototypeSlice,SymbolIterator:SymbolIterator$1,TypedArrayPrototypeSet,Uint8Array:Uint8Array$1}=primordials,{Buffer:Buffer$a}=buffer$1,{inspect}=utilExports;var buffer_list$1=class{constructor(){this.head=null,this.tail=null,this.length=0}push(er){const rr={data:er,next:null};this.length>0?this.tail.next=rr:this.head=rr,this.tail=rr,++this.length}unshift(er){const rr={data:er,next:this.head};this.length===0&&(this.tail=rr),this.head=rr,++this.length}shift(){if(this.length===0)return;const er=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,er}clear(){this.head=this.tail=null,this.length=0}join(er){if(this.length===0)return"";let rr=this.head,nr=""+rr.data;for(;(rr=rr.next)!==null;)nr+=er+rr.data;return nr}concat(er){if(this.length===0)return Buffer$a.alloc(0);const rr=Buffer$a.allocUnsafe(er>>>0);let nr=this.head,ir=0;for(;nr;)TypedArrayPrototypeSet(rr,nr.data,ir),ir+=nr.data.length,nr=nr.next;return rr}consume(er,rr){const nr=this.head.data;if(er<nr.length){const ir=nr.slice(0,er);return this.head.data=nr.slice(er),ir}return er===nr.length?this.shift():rr?this._getString(er):this._getBuffer(er)}first(){return this.head.data}*[SymbolIterator$1](){for(let er=this.head;er;er=er.next)yield er.data}_getString(er){let rr="",nr=this.head,ir=0;do{const or=nr.data;if(er>or.length)rr+=or,er-=or.length;else{er===or.length?(rr+=or,++ir,nr.next?this.head=nr.next:this.head=this.tail=null):(rr+=StringPrototypeSlice(or,0,er),this.head=nr,nr.data=StringPrototypeSlice(or,er));break}++ir}while((nr=nr.next)!==null);return this.length-=ir,rr}_getBuffer(er){const rr=Buffer$a.allocUnsafe(er),nr=er;let ir=this.head,or=0;do{const sr=ir.data;if(er>sr.length)TypedArrayPrototypeSet(rr,sr,nr-er),er-=sr.length;else{er===sr.length?(TypedArrayPrototypeSet(rr,sr,nr-er),++or,ir.next?this.head=ir.next:this.head=this.tail=null):(TypedArrayPrototypeSet(rr,new Uint8Array$1(sr.buffer,sr.byteOffset,er),nr-er),this.head=ir,ir.data=sr.slice(er));break}++or}while((ir=ir.next)!==null);return this.length-=or,rr}[Symbol.for("nodejs.util.inspect.custom")](er,rr){return inspect(this,{...rr,depth:0,customInspect:!1})}};const{MathFloor:MathFloor$1,NumberIsInteger}=primordials,{validateInteger:validateInteger$1}=validators$1,{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$2}=errors$5.codes;let defaultHighWaterMarkBytes=16*1024,defaultHighWaterMarkObjectMode=16;function highWaterMarkFrom$1(tr,er,rr){return tr.highWaterMark!=null?tr.highWaterMark:er?tr[rr]:null}function getDefaultHighWaterMark(tr){return tr?defaultHighWaterMarkObjectMode:defaultHighWaterMarkBytes}function setDefaultHighWaterMark(tr,er){validateInteger$1(er,"value",0),tr?defaultHighWaterMarkObjectMode=er:defaultHighWaterMarkBytes=er}function getHighWaterMark$2(tr,er,rr,nr){const ir=highWaterMarkFrom$1(er,nr,rr);if(ir!=null){if(!NumberIsInteger(ir)||ir<0){const or=nr?`options.${rr}`:"options.highWaterMark";throw new ERR_INVALID_ARG_VALUE$2(or,ir)}return MathFloor$1(ir)}return getDefaultHighWaterMark(tr.objectMode)}var state$1={getHighWaterMark:getHighWaterMark$2,getDefaultHighWaterMark,setDefaultHighWaterMark},string_decoder={},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(tr,er){var rr=buffer$1,nr=rr.Buffer;function ir(sr,ar){for(var cr in sr)ar[cr]=sr[cr]}nr.from&&nr.alloc&&nr.allocUnsafe&&nr.allocUnsafeSlow?tr.exports=rr:(ir(rr,er),er.Buffer=or);function or(sr,ar,cr){return nr(sr,ar,cr)}or.prototype=Object.create(nr.prototype),ir(nr,or),or.from=function(sr,ar,cr){if(typeof sr=="number")throw new TypeError("Argument must not be a number");return nr(sr,ar,cr)},or.alloc=function(sr,ar,cr){if(typeof sr!="number")throw new TypeError("Argument must be a number");var lr=nr(sr);return ar!==void 0?typeof cr=="string"?lr.fill(ar,cr):lr.fill(ar):lr.fill(0),lr},or.allocUnsafe=function(sr){if(typeof sr!="number")throw new TypeError("Argument must be a number");return nr(sr)},or.allocUnsafeSlow=function(sr){if(typeof sr!="number")throw new TypeError("Argument must be a number");return rr.SlowBuffer(sr)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,Buffer$9=safeBufferExports.Buffer,isEncoding=Buffer$9.isEncoding||function(tr){switch(tr=""+tr,tr&&tr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(tr){if(!tr)return"utf8";for(var er;;)switch(tr){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return tr;default:if(er)return;tr=(""+tr).toLowerCase(),er=!0}}function normalizeEncoding(tr){var er=_normalizeEncoding(tr);if(typeof er!="string"&&(Buffer$9.isEncoding===isEncoding||!isEncoding(tr)))throw new Error("Unknown encoding: "+tr);return er||tr}string_decoder.StringDecoder=StringDecoder;function StringDecoder(tr){this.encoding=normalizeEncoding(tr);var er;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,er=4;break;case"utf8":this.fillLast=utf8FillLast,er=4;break;case"base64":this.text=base64Text,this.end=base64End,er=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$9.allocUnsafe(er)}StringDecoder.prototype.write=function(tr){if(tr.length===0)return"";var er,rr;if(this.lastNeed){if(er=this.fillLast(tr),er===void 0)return"";rr=this.lastNeed,this.lastNeed=0}else rr=0;return rr<tr.length?er?er+this.text(tr,rr):this.text(tr,rr):er||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(tr){if(this.lastNeed<=tr.length)return tr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);tr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,tr.length),this.lastNeed-=tr.length};function utf8CheckByte(tr){return tr<=127?0:tr>>5===6?2:tr>>4===14?3:tr>>3===30?4:tr>>6===2?-1:-2}function utf8CheckIncomplete(tr,er,rr){var nr=er.length-1;if(nr<rr)return 0;var ir=utf8CheckByte(er[nr]);return ir>=0?(ir>0&&(tr.lastNeed=ir-1),ir):--nr<rr||ir===-2?0:(ir=utf8CheckByte(er[nr]),ir>=0?(ir>0&&(tr.lastNeed=ir-2),ir):--nr<rr||ir===-2?0:(ir=utf8CheckByte(er[nr]),ir>=0?(ir>0&&(ir===2?ir=0:tr.lastNeed=ir-3),ir):0))}function utf8CheckExtraBytes(tr,er,rr){if((er[0]&192)!==128)return tr.lastNeed=0,"�";if(tr.lastNeed>1&&er.length>1){if((er[1]&192)!==128)return tr.lastNeed=1,"�";if(tr.lastNeed>2&&er.length>2&&(er[2]&192)!==128)return tr.lastNeed=2,"�"}}function utf8FillLast(tr){var er=this.lastTotal-this.lastNeed,rr=utf8CheckExtraBytes(this,tr);if(rr!==void 0)return rr;if(this.lastNeed<=tr.length)return tr.copy(this.lastChar,er,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);tr.copy(this.lastChar,er,0,tr.length),this.lastNeed-=tr.length}function utf8Text(tr,er){var rr=utf8CheckIncomplete(this,tr,er);if(!this.lastNeed)return tr.toString("utf8",er);this.lastTotal=rr;var nr=tr.length-(rr-this.lastNeed);return tr.copy(this.lastChar,0,nr),tr.toString("utf8",er,nr)}function utf8End(tr){var er=tr&&tr.length?this.write(tr):"";return this.lastNeed?er+"�":er}function utf16Text(tr,er){if((tr.length-er)%2===0){var rr=tr.toString("utf16le",er);if(rr){var nr=rr.charCodeAt(rr.length-1);if(nr>=55296&&nr<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=tr[tr.length-2],this.lastChar[1]=tr[tr.length-1],rr.slice(0,-1)}return rr}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=tr[tr.length-1],tr.toString("utf16le",er,tr.length-1)}function utf16End(tr){var er=tr&&tr.length?this.write(tr):"";if(this.lastNeed){var rr=this.lastTotal-this.lastNeed;return er+this.lastChar.toString("utf16le",0,rr)}return er}function base64Text(tr,er){var rr=(tr.length-er)%3;return rr===0?tr.toString("base64",er):(this.lastNeed=3-rr,this.lastTotal=3,rr===1?this.lastChar[0]=tr[tr.length-1]:(this.lastChar[0]=tr[tr.length-2],this.lastChar[1]=tr[tr.length-1]),tr.toString("base64",er,tr.length-rr))}function base64End(tr){var er=tr&&tr.length?this.write(tr):"";return this.lastNeed?er+this.lastChar.toString("base64",0,3-this.lastNeed):er}function simpleWrite(tr){return tr.toString(this.encoding)}function simpleEnd(tr){return tr&&tr.length?this.write(tr):""}const process$2=browserExports$2,{PromisePrototypeThen:PromisePrototypeThen$1,SymbolAsyncIterator:SymbolAsyncIterator$1,SymbolIterator}=primordials,{Buffer:Buffer$8}=buffer$1,{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$3,ERR_STREAM_NULL_VALUES}=errors$5.codes;function from(tr,er,rr){let nr;if(typeof er=="string"||er instanceof Buffer$8)return new tr({objectMode:!0,...rr,read(){this.push(er),this.push(null)}});let ir;if(er&&er[SymbolAsyncIterator$1])ir=!0,nr=er[SymbolAsyncIterator$1]();else if(er&&er[SymbolIterator])ir=!1,nr=er[SymbolIterator]();else throw new ERR_INVALID_ARG_TYPE$3("iterable",["Iterable"],er);const or=new tr({objectMode:!0,highWaterMark:1,...rr});let sr=!1;or._read=function(){sr||(sr=!0,cr())},or._destroy=function(lr,ur){PromisePrototypeThen$1(ar(lr),()=>process$2.nextTick(ur,lr),fr=>process$2.nextTick(ur,fr||lr))};async function ar(lr){const ur=lr!=null,fr=typeof nr.throw=="function";if(ur&&fr){const{value:dr,done:gr}=await nr.throw(lr);if(await dr,gr)return}if(typeof nr.return=="function"){const{value:dr}=await nr.return();await dr}}async function cr(){for(;;){try{const{value:lr,done:ur}=ir?await nr.next():nr.next();if(ur)or.push(null);else{const fr=lr&&typeof lr.then=="function"?await lr:lr;if(fr===null)throw sr=!1,new ERR_STREAM_NULL_VALUES;if(or.push(fr))continue;sr=!1}}catch(lr){or.destroy(lr)}break}}return or}var from_1=from,readable,hasRequiredReadable;function requireReadable(){if(hasRequiredReadable)return readable;hasRequiredReadable=1;const tr=browserExports$2,{ArrayPrototypeIndexOf:er,NumberIsInteger:rr,NumberIsNaN:nr,NumberParseInt:ir,ObjectDefineProperties:or,ObjectKeys:sr,ObjectSetPrototypeOf:ar,Promise:cr,SafeSet:lr,SymbolAsyncDispose:ur,SymbolAsyncIterator:fr,Symbol:dr}=primordials;readable=Fn,Fn.ReadableState=zn;const{EventEmitter:gr}=eventsExports,{Stream:br,prependListener:vr}=legacy,{Buffer:$r}=buffer$1,{addAbortSignal:Er}=addAbortSignalExports,_r=endOfStreamExports;let xr=utilExports.debuglog("stream",pn=>{xr=pn});const Ir=buffer_list$1,Nr=destroy_1$1,{getHighWaterMark:Lr,getDefaultHighWaterMark:jr}=state$1,{aggregateTwoErrors:Or,codes:{ERR_INVALID_ARG_TYPE:Dr,ERR_METHOD_NOT_IMPLEMENTED:Cr,ERR_OUT_OF_RANGE:Tr,ERR_STREAM_PUSH_AFTER_EOF:yr,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:mr},AbortError:hr}=errors$5,{validateObject:pr}=validators$1,wr=dr("kPaused"),{StringDecoder:Ar}=string_decoder,Rr=from_1;ar(Fn.prototype,br.prototype),ar(Fn,br);const Pr=()=>{},{errorOrDestroy:Sr}=Nr,Mr=1,Br=2,Ur=4,Jr=8,qr=16,zr=32,sn=64,rn=128,tn=256,dn=512,Yr=1024,Vr=2048,Qr=4096,un=8192,yn=16384,An=32768,Rn=65536,On=1<<17,xn=1<<18;function Wn(pn){return{enumerable:!1,get(){return(this.state&pn)!==0},set(gn){gn?this.state|=pn:this.state&=~pn}}}or(zn.prototype,{objectMode:Wn(Mr),ended:Wn(Br),endEmitted:Wn(Ur),reading:Wn(Jr),constructed:Wn(qr),sync:Wn(zr),needReadable:Wn(sn),emittedReadable:Wn(rn),readableListening:Wn(tn),resumeScheduled:Wn(dn),errorEmitted:Wn(Yr),emitClose:Wn(Vr),autoDestroy:Wn(Qr),destroyed:Wn(un),closed:Wn(yn),closeEmitted:Wn(An),multiAwaitDrain:Wn(Rn),readingMore:Wn(On),dataEmitted:Wn(xn)});function zn(pn,gn,Bn){typeof Bn!="boolean"&&(Bn=gn instanceof requireDuplex()),this.state=Vr|Qr|qr|zr,pn&&pn.objectMode&&(this.state|=Mr),Bn&&pn&&pn.readableObjectMode&&(this.state|=Mr),this.highWaterMark=pn?Lr(this,pn,"readableHighWaterMark",Bn):jr(!1),this.buffer=new Ir,this.length=0,this.pipes=[],this.flowing=null,this[wr]=null,pn&&pn.emitClose===!1&&(this.state&=~Vr),pn&&pn.autoDestroy===!1&&(this.state&=~Qr),this.errored=null,this.defaultEncoding=pn&&pn.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,pn&&pn.encoding&&(this.decoder=new Ar(pn.encoding),this.encoding=pn.encoding)}function Fn(pn){if(!(this instanceof Fn))return new Fn(pn);const gn=this instanceof requireDuplex();this._readableState=new zn(pn,this,gn),pn&&(typeof pn.read=="function"&&(this._read=pn.read),typeof pn.destroy=="function"&&(this._destroy=pn.destroy),typeof pn.construct=="function"&&(this._construct=pn.construct),pn.signal&&!gn&&Er(pn.signal,this)),br.call(this,pn),Nr.construct(this,()=>{this._readableState.needReadable&&vn(this,this._readableState)})}Fn.prototype.destroy=Nr.destroy,Fn.prototype._undestroy=Nr.undestroy,Fn.prototype._destroy=function(pn,gn){gn(pn)},Fn.prototype[gr.captureRejectionSymbol]=function(pn){this.destroy(pn)},Fn.prototype[ur]=function(){let pn;return this.destroyed||(pn=this.readableEnded?null:new hr,this.destroy(pn)),new cr((gn,Bn)=>_r(this,Ln=>Ln&&Ln!==pn?Bn(Ln):gn(null)))},Fn.prototype.push=function(pn,gn){return so(this,pn,gn,!1)},Fn.prototype.unshift=function(pn,gn){return so(this,pn,gn,!0)};function so(pn,gn,Bn,Ln){xr("readableAddChunk",gn);const Mn=pn._readableState;let So;if(Mn.state&Mr||(typeof gn=="string"?(Bn=Bn||Mn.defaultEncoding,Mn.encoding!==Bn&&(Ln&&Mn.encoding?gn=$r.from(gn,Bn).toString(Mn.encoding):(gn=$r.from(gn,Bn),Bn=""))):gn instanceof $r?Bn="":br._isUint8Array(gn)?(gn=br._uint8ArrayToBuffer(gn),Bn=""):gn!=null&&(So=new Dr("chunk",["string","Buffer","Uint8Array"],gn))),So)Sr(pn,So);else if(gn===null)Mn.state&=~Jr,Hr(pn,Mn);else if(Mn.state&Mr||gn&&gn.length>0)if(Ln)if(Mn.state&Ur)Sr(pn,new mr);else{if(Mn.destroyed||Mn.errored)return!1;wn(pn,Mn,gn,!0)}else if(Mn.ended)Sr(pn,new yr);else{if(Mn.destroyed||Mn.errored)return!1;Mn.state&=~Jr,Mn.decoder&&!Bn?(gn=Mn.decoder.write(gn),Mn.objectMode||gn.length!==0?wn(pn,Mn,gn,!1):vn(pn,Mn)):wn(pn,Mn,gn,!1)}else Ln||(Mn.state&=~Jr,vn(pn,Mn));return!Mn.ended&&(Mn.length<Mn.highWaterMark||Mn.length===0)}function wn(pn,gn,Bn,Ln){gn.flowing&&gn.length===0&&!gn.sync&&pn.listenerCount("data")>0?(gn.state&Rn?gn.awaitDrainWriters.clear():gn.awaitDrainWriters=null,gn.dataEmitted=!0,pn.emit("data",Bn)):(gn.length+=gn.objectMode?1:Bn.length,Ln?gn.buffer.unshift(Bn):gn.buffer.push(Bn),gn.state&sn&&Kr(pn)),vn(pn,gn)}Fn.prototype.isPaused=function(){const pn=this._readableState;return pn[wr]===!0||pn.flowing===!1},Fn.prototype.setEncoding=function(pn){const gn=new Ar(pn);this._readableState.decoder=gn,this._readableState.encoding=this._readableState.decoder.encoding;const Bn=this._readableState.buffer;let Ln="";for(const Mn of Bn)Ln+=gn.write(Mn);return Bn.clear(),Ln!==""&&Bn.push(Ln),this._readableState.length=Ln.length,this};const Sn=1073741824;function Dn(pn){if(pn>Sn)throw new Tr("size","<= 1GiB",pn);return pn--,pn|=pn>>>1,pn|=pn>>>2,pn|=pn>>>4,pn|=pn>>>8,pn|=pn>>>16,pn++,pn}function Xr(pn,gn){return pn<=0||gn.length===0&&gn.ended?0:gn.state&Mr?1:nr(pn)?gn.flowing&&gn.length?gn.buffer.first().length:gn.length:pn<=gn.length?pn:gn.ended?gn.length:0}Fn.prototype.read=function(pn){xr("read",pn),pn===void 0?pn=NaN:rr(pn)||(pn=ir(pn,10));const gn=this._readableState,Bn=pn;if(pn>gn.highWaterMark&&(gn.highWaterMark=Dn(pn)),pn!==0&&(gn.state&=~rn),pn===0&&gn.needReadable&&((gn.highWaterMark!==0?gn.length>=gn.highWaterMark:gn.length>0)||gn.ended))return xr("read: emitReadable",gn.length,gn.ended),gn.length===0&&gn.ended?mo(this):Kr(this),null;if(pn=Xr(pn,gn),pn===0&&gn.ended)return gn.length===0&&mo(this),null;let Ln=(gn.state&sn)!==0;if(xr("need readable",Ln),(gn.length===0||gn.length-pn<gn.highWaterMark)&&(Ln=!0,xr("length less than watermark",Ln)),gn.ended||gn.reading||gn.destroyed||gn.errored||!gn.constructed)Ln=!1,xr("reading, ended or constructing",Ln);else if(Ln){xr("do read"),gn.state|=Jr|zr,gn.length===0&&(gn.state|=sn);try{this._read(gn.highWaterMark)}catch(So){Sr(this,So)}gn.state&=~zr,gn.reading||(pn=Xr(Bn,gn))}let Mn;return pn>0?Mn=Co(pn,gn):Mn=null,Mn===null?(gn.needReadable=gn.length<=gn.highWaterMark,pn=0):(gn.length-=pn,gn.multiAwaitDrain?gn.awaitDrainWriters.clear():gn.awaitDrainWriters=null),gn.length===0&&(gn.ended||(gn.needReadable=!0),Bn!==pn&&gn.ended&&mo(this)),Mn!==null&&!gn.errorEmitted&&!gn.closeEmitted&&(gn.dataEmitted=!0,this.emit("data",Mn)),Mn};function Hr(pn,gn){if(xr("onEofChunk"),!gn.ended){if(gn.decoder){const Bn=gn.decoder.end();Bn&&Bn.length&&(gn.buffer.push(Bn),gn.length+=gn.objectMode?1:Bn.length)}gn.ended=!0,gn.sync?Kr(pn):(gn.needReadable=!1,gn.emittedReadable=!0,fn(pn))}}function Kr(pn){const gn=pn._readableState;xr("emitReadable",gn.needReadable,gn.emittedReadable),gn.needReadable=!1,gn.emittedReadable||(xr("emitReadable",gn.flowing),gn.emittedReadable=!0,tr.nextTick(fn,pn))}function fn(pn){const gn=pn._readableState;xr("emitReadable_",gn.destroyed,gn.length,gn.ended),!gn.destroyed&&!gn.errored&&(gn.length||gn.ended)&&(pn.emit("readable"),gn.emittedReadable=!1),gn.needReadable=!gn.flowing&&!gn.ended&&gn.length<=gn.highWaterMark,ro(pn)}function vn(pn,gn){!gn.readingMore&&gn.constructed&&(gn.readingMore=!0,tr.nextTick($n,pn,gn))}function $n(pn,gn){for(;!gn.reading&&!gn.ended&&(gn.length<gn.highWaterMark||gn.flowing&&gn.length===0);){const Bn=gn.length;if(xr("maybeReadMore read 0"),pn.read(0),Bn===gn.length)break}gn.readingMore=!1}Fn.prototype._read=function(pn){throw new Cr("_read()")},Fn.prototype.pipe=function(pn,gn){const Bn=this,Ln=this._readableState;Ln.pipes.length===1&&(Ln.multiAwaitDrain||(Ln.multiAwaitDrain=!0,Ln.awaitDrainWriters=new lr(Ln.awaitDrainWriters?[Ln.awaitDrainWriters]:[]))),Ln.pipes.push(pn),xr("pipe count=%d opts=%j",Ln.pipes.length,gn);const So=(!gn||gn.end!==!1)&&pn!==tr.stdout&&pn!==tr.stderr?an:Kn;Ln.endEmitted?tr.nextTick(So):Bn.once("end",So),pn.on("unpipe",Zr);function Zr(_o,Zn){xr("onunpipe"),_o===Bn&&Zn&&Zn.hasUnpiped===!1&&(Zn.hasUnpiped=!0,hn())}function an(){xr("onend"),pn.end()}let cn,Fr=!1;function hn(){xr("cleanup"),pn.removeListener("close",kn),pn.removeListener("finish",Hn),cn&&pn.removeListener("drain",cn),pn.removeListener("error",In),pn.removeListener("unpipe",Zr),Bn.removeListener("end",an),Bn.removeListener("end",Kn),Bn.removeListener("data",Pn),Fr=!0,cn&&Ln.awaitDrainWriters&&(!pn._writableState||pn._writableState.needDrain)&&cn()}function En(){Fr||(Ln.pipes.length===1&&Ln.pipes[0]===pn?(xr("false write response, pause",0),Ln.awaitDrainWriters=pn,Ln.multiAwaitDrain=!1):Ln.pipes.length>1&&Ln.pipes.includes(pn)&&(xr("false write response, pause",Ln.awaitDrainWriters.size),Ln.awaitDrainWriters.add(pn)),Bn.pause()),cn||(cn=Tn(Bn,pn),pn.on("drain",cn))}Bn.on("data",Pn);function Pn(_o){xr("ondata");const Zn=pn.write(_o);xr("dest.write",Zn),Zn===!1&&En()}function In(_o){if(xr("onerror",_o),Kn(),pn.removeListener("error",In),pn.listenerCount("error")===0){const Zn=pn._writableState||pn._readableState;Zn&&!Zn.errorEmitted?Sr(pn,_o):pn.emit("error",_o)}}vr(pn,"error",In);function kn(){pn.removeListener("finish",Hn),Kn()}pn.once("close",kn);function Hn(){xr("onfinish"),pn.removeListener("close",kn),Kn()}pn.once("finish",Hn);function Kn(){xr("unpipe"),Bn.unpipe(pn)}return pn.emit("pipe",Bn),pn.writableNeedDrain===!0?En():Ln.flowing||(xr("pipe resume"),Bn.resume()),pn};function Tn(pn,gn){return function(){const Ln=pn._readableState;Ln.awaitDrainWriters===gn?(xr("pipeOnDrain",1),Ln.awaitDrainWriters=null):Ln.multiAwaitDrain&&(xr("pipeOnDrain",Ln.awaitDrainWriters.size),Ln.awaitDrainWriters.delete(gn)),(!Ln.awaitDrainWriters||Ln.awaitDrainWriters.size===0)&&pn.listenerCount("data")&&pn.resume()}}Fn.prototype.unpipe=function(pn){const gn=this._readableState,Bn={hasUnpiped:!1};if(gn.pipes.length===0)return this;if(!pn){const Mn=gn.pipes;gn.pipes=[],this.pause();for(let So=0;So<Mn.length;So++)Mn[So].emit("unpipe",this,{hasUnpiped:!1});return this}const Ln=er(gn.pipes,pn);return Ln===-1?this:(gn.pipes.splice(Ln,1),gn.pipes.length===0&&this.pause(),pn.emit("unpipe",this,Bn),this)},Fn.prototype.on=function(pn,gn){const Bn=br.prototype.on.call(this,pn,gn),Ln=this._readableState;return pn==="data"?(Ln.readableListening=this.listenerCount("readable")>0,Ln.flowing!==!1&&this.resume()):pn==="readable"&&!Ln.endEmitted&&!Ln.readableListening&&(Ln.readableListening=Ln.needReadable=!0,Ln.flowing=!1,Ln.emittedReadable=!1,xr("on readable",Ln.length,Ln.reading),Ln.length?Kr(this):Ln.reading||tr.nextTick(io,this)),Bn},Fn.prototype.addListener=Fn.prototype.on,Fn.prototype.removeListener=function(pn,gn){const Bn=br.prototype.removeListener.call(this,pn,gn);return pn==="readable"&&tr.nextTick(Jn,this),Bn},Fn.prototype.off=Fn.prototype.removeListener,Fn.prototype.removeAllListeners=function(pn){const gn=br.prototype.removeAllListeners.apply(this,arguments);return(pn==="readable"||pn===void 0)&&tr.nextTick(Jn,this),gn};function Jn(pn){const gn=pn._readableState;gn.readableListening=pn.listenerCount("readable")>0,gn.resumeScheduled&&gn[wr]===!1?gn.flowing=!0:pn.listenerCount("data")>0?pn.resume():gn.readableListening||(gn.flowing=null)}function io(pn){xr("readable nexttick read 0"),pn.read(0)}Fn.prototype.resume=function(){const pn=this._readableState;return pn.flowing||(xr("resume"),pn.flowing=!pn.readableListening,Yn(this,pn)),pn[wr]=!1,this};function Yn(pn,gn){gn.resumeScheduled||(gn.resumeScheduled=!0,tr.nextTick(lo,pn,gn))}function lo(pn,gn){xr("resume",gn.reading),gn.reading||pn.read(0),gn.resumeScheduled=!1,pn.emit("resume"),ro(pn),gn.flowing&&!gn.reading&&pn.read(0)}Fn.prototype.pause=function(){return xr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[wr]=!0,this};function ro(pn){const gn=pn._readableState;for(xr("flow",gn.flowing);gn.flowing&&pn.read()!==null;);}Fn.prototype.wrap=function(pn){let gn=!1;pn.on("data",Ln=>{!this.push(Ln)&&pn.pause&&(gn=!0,pn.pause())}),pn.on("end",()=>{this.push(null)}),pn.on("error",Ln=>{Sr(this,Ln)}),pn.on("close",()=>{this.destroy()}),pn.on("destroy",()=>{this.destroy()}),this._read=()=>{gn&&pn.resume&&(gn=!1,pn.resume())};const Bn=sr(pn);for(let Ln=1;Ln<Bn.length;Ln++){const Mn=Bn[Ln];this[Mn]===void 0&&typeof pn[Mn]=="function"&&(this[Mn]=pn[Mn].bind(pn))}return this},Fn.prototype[fr]=function(){return ao(this)},Fn.prototype.iterator=function(pn){return pn!==void 0&&pr(pn,"options"),ao(this,pn)};function ao(pn,gn){typeof pn.read!="function"&&(pn=Fn.wrap(pn,{objectMode:!0}));const Bn=Mo(pn,gn);return Bn.stream=pn,Bn}async function*Mo(pn,gn){let Bn=Pr;function Ln(Zr){this===pn?(Bn(),Bn=Pr):Bn=Zr}pn.on("readable",Ln);let Mn;const So=_r(pn,{writable:!1},Zr=>{Mn=Zr?Or(Mn,Zr):null,Bn(),Bn=Pr});try{for(;;){const Zr=pn.destroyed?null:pn.read();if(Zr!==null)yield Zr;else{if(Mn)throw Mn;if(Mn===null)return;await new cr(Ln)}}}catch(Zr){throw Mn=Or(Mn,Zr),Mn}finally{(Mn||gn?.destroyOnReturn!==!1)&&(Mn===void 0||pn._readableState.autoDestroy)?Nr.destroyer(pn,null):(pn.off("readable",Ln),So())}}or(Fn.prototype,{readable:{__proto__:null,get(){const pn=this._readableState;return!!pn&&pn.readable!==!1&&!pn.destroyed&&!pn.errorEmitted&&!pn.endEmitted},set(pn){this._readableState&&(this._readableState.readable=!!pn)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(pn){this._readableState&&(this._readableState.flowing=pn)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(pn){this._readableState&&(this._readableState.destroyed=pn)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),or(zn.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[wr]!==!1},set(pn){this[wr]=!!pn}}}),Fn._fromList=Co;function Co(pn,gn){if(gn.length===0)return null;let Bn;return gn.objectMode?Bn=gn.buffer.shift():!pn||pn>=gn.length?(gn.decoder?Bn=gn.buffer.join(""):gn.buffer.length===1?Bn=gn.buffer.first():Bn=gn.buffer.concat(gn.length),gn.buffer.clear()):Bn=gn.buffer.consume(pn,gn.decoder),Bn}function mo(pn){const gn=pn._readableState;xr("endReadable",gn.endEmitted),gn.endEmitted||(gn.ended=!0,tr.nextTick(No,gn,pn))}function No(pn,gn){if(xr("endReadableNT",pn.endEmitted,pn.length),!pn.errored&&!pn.closeEmitted&&!pn.endEmitted&&pn.length===0){if(pn.endEmitted=!0,gn.emit("end"),gn.writable&&gn.allowHalfOpen===!1)tr.nextTick(Po,gn);else if(pn.autoDestroy){const Bn=gn._writableState;(!Bn||Bn.autoDestroy&&(Bn.finished||Bn.writable===!1))&&gn.destroy()}}}function Po(pn){pn.writable&&!pn.writableEnded&&!pn.destroyed&&pn.end()}Fn.from=function(pn,gn){return Rr(Fn,pn,gn)};let fo;function ko(){return fo===void 0&&(fo={}),fo}return Fn.fromWeb=function(pn,gn){return ko().newStreamReadableFromReadableStream(pn,gn)},Fn.toWeb=function(pn,gn){return ko().newReadableStreamFromStreamReadable(pn,gn)},Fn.wrap=function(pn,gn){var Bn,Ln;return new Fn({objectMode:(Bn=(Ln=pn.readableObjectMode)!==null&&Ln!==void 0?Ln:pn.objectMode)!==null&&Bn!==void 0?Bn:!0,...gn,destroy(Mn,So){Nr.destroyer(pn,Mn),So(Mn)}}).wrap(pn)},readable}var writable,hasRequiredWritable;function requireWritable(){if(hasRequiredWritable)return writable;hasRequiredWritable=1;const tr=browserExports$2,{ArrayPrototypeSlice:er,Error:rr,FunctionPrototypeSymbolHasInstance:nr,ObjectDefineProperty:ir,ObjectDefineProperties:or,ObjectSetPrototypeOf:sr,StringPrototypeToLowerCase:ar,Symbol:cr,SymbolHasInstance:lr}=primordials;writable=pr,pr.WritableState=mr;const{EventEmitter:ur}=eventsExports,fr=legacy.Stream,{Buffer:dr}=buffer$1,gr=destroy_1$1,{addAbortSignal:br}=addAbortSignalExports,{getHighWaterMark:vr,getDefaultHighWaterMark:$r}=state$1,{ERR_INVALID_ARG_TYPE:Er,ERR_METHOD_NOT_IMPLEMENTED:_r,ERR_MULTIPLE_CALLBACK:xr,ERR_STREAM_CANNOT_PIPE:Ir,ERR_STREAM_DESTROYED:Nr,ERR_STREAM_ALREADY_FINISHED:Lr,ERR_STREAM_NULL_VALUES:jr,ERR_STREAM_WRITE_AFTER_END:Or,ERR_UNKNOWN_ENCODING:Dr}=errors$5.codes,{errorOrDestroy:Cr}=gr;sr(pr.prototype,fr.prototype),sr(pr,fr);function Tr(){}const yr=cr("kOnFinished");function mr(Qr,un,yn){typeof yn!="boolean"&&(yn=un instanceof requireDuplex()),this.objectMode=!!(Qr&&Qr.objectMode),yn&&(this.objectMode=this.objectMode||!!(Qr&&Qr.writableObjectMode)),this.highWaterMark=Qr?vr(this,Qr,"writableHighWaterMark",yn):$r(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const An=!!(Qr&&Qr.decodeStrings===!1);this.decodeStrings=!An,this.defaultEncoding=Qr&&Qr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Sr.bind(void 0,un),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,hr(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!Qr||Qr.emitClose!==!1,this.autoDestroy=!Qr||Qr.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[yr]=[]}function hr(Qr){Qr.buffered=[],Qr.bufferedIndex=0,Qr.allBuffers=!0,Qr.allNoop=!0}mr.prototype.getBuffer=function(){return er(this.buffered,this.bufferedIndex)},ir(mr.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pr(Qr){const un=this instanceof requireDuplex();if(!un&&!nr(pr,this))return new pr(Qr);this._writableState=new mr(Qr,this,un),Qr&&(typeof Qr.write=="function"&&(this._write=Qr.write),typeof Qr.writev=="function"&&(this._writev=Qr.writev),typeof Qr.destroy=="function"&&(this._destroy=Qr.destroy),typeof Qr.final=="function"&&(this._final=Qr.final),typeof Qr.construct=="function"&&(this._construct=Qr.construct),Qr.signal&&br(Qr.signal,this)),fr.call(this,Qr),gr.construct(this,()=>{const yn=this._writableState;yn.writing||Jr(this,yn),rn(this,yn)})}ir(pr,lr,{__proto__:null,value:function(Qr){return nr(this,Qr)?!0:this!==pr?!1:Qr&&Qr._writableState instanceof mr}}),pr.prototype.pipe=function(){Cr(this,new Ir)};function wr(Qr,un,yn,An){const Rn=Qr._writableState;if(typeof yn=="function")An=yn,yn=Rn.defaultEncoding;else{if(!yn)yn=Rn.defaultEncoding;else if(yn!=="buffer"&&!dr.isEncoding(yn))throw new Dr(yn);typeof An!="function"&&(An=Tr)}if(un===null)throw new jr;if(!Rn.objectMode)if(typeof un=="string")Rn.decodeStrings!==!1&&(un=dr.from(un,yn),yn="buffer");else if(un instanceof dr)yn="buffer";else if(fr._isUint8Array(un))un=fr._uint8ArrayToBuffer(un),yn="buffer";else throw new Er("chunk",["string","Buffer","Uint8Array"],un);let On;return Rn.ending?On=new Or:Rn.destroyed&&(On=new Nr("write")),On?(tr.nextTick(An,On),Cr(Qr,On,!0),On):(Rn.pendingcb++,Ar(Qr,Rn,un,yn,An))}pr.prototype.write=function(Qr,un,yn){return wr(this,Qr,un,yn)===!0},pr.prototype.cork=function(){this._writableState.corked++},pr.prototype.uncork=function(){const Qr=this._writableState;Qr.corked&&(Qr.corked--,Qr.writing||Jr(this,Qr))},pr.prototype.setDefaultEncoding=function(un){if(typeof un=="string"&&(un=ar(un)),!dr.isEncoding(un))throw new Dr(un);return this._writableState.defaultEncoding=un,this};function Ar(Qr,un,yn,An,Rn){const On=un.objectMode?1:yn.length;un.length+=On;const xn=un.length<un.highWaterMark;return xn||(un.needDrain=!0),un.writing||un.corked||un.errored||!un.constructed?(un.buffered.push({chunk:yn,encoding:An,callback:Rn}),un.allBuffers&&An!=="buffer"&&(un.allBuffers=!1),un.allNoop&&Rn!==Tr&&(un.allNoop=!1)):(un.writelen=On,un.writecb=Rn,un.writing=!0,un.sync=!0,Qr._write(yn,An,un.onwrite),un.sync=!1),xn&&!un.errored&&!un.destroyed}function Rr(Qr,un,yn,An,Rn,On,xn){un.writelen=An,un.writecb=xn,un.writing=!0,un.sync=!0,un.destroyed?un.onwrite(new Nr("write")):yn?Qr._writev(Rn,un.onwrite):Qr._write(Rn,On,un.onwrite),un.sync=!1}function Pr(Qr,un,yn,An){--un.pendingcb,An(yn),Ur(un),Cr(Qr,yn)}function Sr(Qr,un){const yn=Qr._writableState,An=yn.sync,Rn=yn.writecb;if(typeof Rn!="function"){Cr(Qr,new xr);return}yn.writing=!1,yn.writecb=null,yn.length-=yn.writelen,yn.writelen=0,un?(un.stack,yn.errored||(yn.errored=un),Qr._readableState&&!Qr._readableState.errored&&(Qr._readableState.errored=un),An?tr.nextTick(Pr,Qr,yn,un,Rn):Pr(Qr,yn,un,Rn)):(yn.buffered.length>yn.bufferedIndex&&Jr(Qr,yn),An?yn.afterWriteTickInfo!==null&&yn.afterWriteTickInfo.cb===Rn?yn.afterWriteTickInfo.count++:(yn.afterWriteTickInfo={count:1,cb:Rn,stream:Qr,state:yn},tr.nextTick(Mr,yn.afterWriteTickInfo)):Br(Qr,yn,1,Rn))}function Mr({stream:Qr,state:un,count:yn,cb:An}){return un.afterWriteTickInfo=null,Br(Qr,un,yn,An)}function Br(Qr,un,yn,An){for(!un.ending&&!Qr.destroyed&&un.length===0&&un.needDrain&&(un.needDrain=!1,Qr.emit("drain"));yn-- >0;)un.pendingcb--,An();un.destroyed&&Ur(un),rn(Qr,un)}function Ur(Qr){if(Qr.writing)return;for(let Rn=Qr.bufferedIndex;Rn<Qr.buffered.length;++Rn){var un;const{chunk:On,callback:xn}=Qr.buffered[Rn],Wn=Qr.objectMode?1:On.length;Qr.length-=Wn,xn((un=Qr.errored)!==null&&un!==void 0?un:new Nr("write"))}const yn=Qr[yr].splice(0);for(let Rn=0;Rn<yn.length;Rn++){var An;yn[Rn]((An=Qr.errored)!==null&&An!==void 0?An:new Nr("end"))}hr(Qr)}function Jr(Qr,un){if(un.corked||un.bufferProcessing||un.destroyed||!un.constructed)return;const{buffered:yn,bufferedIndex:An,objectMode:Rn}=un,On=yn.length-An;if(!On)return;let xn=An;if(un.bufferProcessing=!0,On>1&&Qr._writev){un.pendingcb-=On-1;const Wn=un.allNoop?Tr:Fn=>{for(let so=xn;so<yn.length;++so)yn[so].callback(Fn)},zn=un.allNoop&&xn===0?yn:er(yn,xn);zn.allBuffers=un.allBuffers,Rr(Qr,un,!0,un.length,zn,"",Wn),hr(un)}else{do{const{chunk:Wn,encoding:zn,callback:Fn}=yn[xn];yn[xn++]=null;const so=Rn?1:Wn.length;Rr(Qr,un,!1,so,Wn,zn,Fn)}while(xn<yn.length&&!un.writing);xn===yn.length?hr(un):xn>256?(yn.splice(0,xn),un.bufferedIndex=0):un.bufferedIndex=xn}un.bufferProcessing=!1}pr.prototype._write=function(Qr,un,yn){if(this._writev)this._writev([{chunk:Qr,encoding:un}],yn);else throw new _r("_write()")},pr.prototype._writev=null,pr.prototype.end=function(Qr,un,yn){const An=this._writableState;typeof Qr=="function"?(yn=Qr,Qr=null,un=null):typeof un=="function"&&(yn=un,un=null);let Rn;if(Qr!=null){const On=wr(this,Qr,un);On instanceof rr&&(Rn=On)}return An.corked&&(An.corked=1,this.uncork()),Rn||(!An.errored&&!An.ending?(An.ending=!0,rn(this,An,!0),An.ended=!0):An.finished?Rn=new Lr("end"):An.destroyed&&(Rn=new Nr("end"))),typeof yn=="function"&&(Rn||An.finished?tr.nextTick(yn,Rn):An[yr].push(yn)),this};function qr(Qr){return Qr.ending&&!Qr.destroyed&&Qr.constructed&&Qr.length===0&&!Qr.errored&&Qr.buffered.length===0&&!Qr.finished&&!Qr.writing&&!Qr.errorEmitted&&!Qr.closeEmitted}function zr(Qr,un){let yn=!1;function An(Rn){if(yn){Cr(Qr,Rn??xr());return}if(yn=!0,un.pendingcb--,Rn){const On=un[yr].splice(0);for(let xn=0;xn<On.length;xn++)On[xn](Rn);Cr(Qr,Rn,un.sync)}else qr(un)&&(un.prefinished=!0,Qr.emit("prefinish"),un.pendingcb++,tr.nextTick(tn,Qr,un))}un.sync=!0,un.pendingcb++;try{Qr._final(An)}catch(Rn){An(Rn)}un.sync=!1}function sn(Qr,un){!un.prefinished&&!un.finalCalled&&(typeof Qr._final=="function"&&!un.destroyed?(un.finalCalled=!0,zr(Qr,un)):(un.prefinished=!0,Qr.emit("prefinish")))}function rn(Qr,un,yn){qr(un)&&(sn(Qr,un),un.pendingcb===0&&(yn?(un.pendingcb++,tr.nextTick((An,Rn)=>{qr(Rn)?tn(An,Rn):Rn.pendingcb--},Qr,un)):qr(un)&&(un.pendingcb++,tn(Qr,un))))}function tn(Qr,un){un.pendingcb--,un.finished=!0;const yn=un[yr].splice(0);for(let An=0;An<yn.length;An++)yn[An]();if(Qr.emit("finish"),un.autoDestroy){const An=Qr._readableState;(!An||An.autoDestroy&&(An.endEmitted||An.readable===!1))&&Qr.destroy()}}or(pr.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(Qr){this._writableState&&(this._writableState.destroyed=Qr)}},writable:{__proto__:null,get(){const Qr=this._writableState;return!!Qr&&Qr.writable!==!1&&!Qr.destroyed&&!Qr.errored&&!Qr.ending&&!Qr.ended},set(Qr){this._writableState&&(this._writableState.writable=!!Qr)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const Qr=this._writableState;return Qr?!Qr.destroyed&&!Qr.ending&&Qr.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const dn=gr.destroy;pr.prototype.destroy=function(Qr,un){const yn=this._writableState;return!yn.destroyed&&(yn.bufferedIndex<yn.buffered.length||yn[yr].length)&&tr.nextTick(Ur,yn),dn.call(this,Qr,un),this},pr.prototype._undestroy=gr.undestroy,pr.prototype._destroy=function(Qr,un){un(Qr)},pr.prototype[ur.captureRejectionSymbol]=function(Qr){this.destroy(Qr)};let Yr;function Vr(){return Yr===void 0&&(Yr={}),Yr}return pr.fromWeb=function(Qr,un){return Vr().newStreamWritableFromWritableStream(Qr,un)},pr.toWeb=function(Qr){return Vr().newWritableStreamFromStreamWritable(Qr)},writable}var duplexify,hasRequiredDuplexify;function requireDuplexify(){if(hasRequiredDuplexify)return duplexify;hasRequiredDuplexify=1;const tr=browserExports$2,er=buffer$1,{isReadable:rr,isWritable:nr,isIterable:ir,isNodeStream:or,isReadableNodeStream:sr,isWritableNodeStream:ar,isDuplexNodeStream:cr,isReadableStream:lr,isWritableStream:ur}=utils$7,fr=endOfStreamExports,{AbortError:dr,codes:{ERR_INVALID_ARG_TYPE:gr,ERR_INVALID_RETURN_VALUE:br}}=errors$5,{destroyer:vr}=destroy_1$1,$r=requireDuplex(),Er=requireReadable(),_r=requireWritable(),{createDeferredPromise:xr}=utilExports,Ir=from_1,Nr=globalThis.Blob||er.Blob,Lr=typeof Nr<"u"?function(mr){return mr instanceof Nr}:function(mr){return!1},jr=globalThis.AbortController||requireBrowser().AbortController,{FunctionPrototypeCall:Or}=primordials;class Dr extends $r{constructor(mr){super(mr),mr?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),mr?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}duplexify=function yr(mr,hr){if(cr(mr))return mr;if(sr(mr))return Tr({readable:mr});if(ar(mr))return Tr({writable:mr});if(or(mr))return Tr({writable:!1,readable:!1});if(lr(mr))return Tr({readable:Er.fromWeb(mr)});if(ur(mr))return Tr({writable:_r.fromWeb(mr)});if(typeof mr=="function"){const{value:wr,write:Ar,final:Rr,destroy:Pr}=Cr(mr);if(ir(wr))return Ir(Dr,wr,{objectMode:!0,write:Ar,final:Rr,destroy:Pr});const Sr=wr?.then;if(typeof Sr=="function"){let Mr;const Br=Or(Sr,wr,Ur=>{if(Ur!=null)throw new br("nully","body",Ur)},Ur=>{vr(Mr,Ur)});return Mr=new Dr({objectMode:!0,readable:!1,write:Ar,final(Ur){Rr(async()=>{try{await Br,tr.nextTick(Ur,null)}catch(Jr){tr.nextTick(Ur,Jr)}})},destroy:Pr})}throw new br("Iterable, AsyncIterable or AsyncFunction",hr,wr)}if(Lr(mr))return yr(mr.arrayBuffer());if(ir(mr))return Ir(Dr,mr,{objectMode:!0,writable:!1});if(lr(mr?.readable)&&ur(mr?.writable))return Dr.fromWeb(mr);if(typeof mr?.writable=="object"||typeof mr?.readable=="object"){const wr=mr!=null&&mr.readable?sr(mr?.readable)?mr?.readable:yr(mr.readable):void 0,Ar=mr!=null&&mr.writable?ar(mr?.writable)?mr?.writable:yr(mr.writable):void 0;return Tr({readable:wr,writable:Ar})}const pr=mr?.then;if(typeof pr=="function"){let wr;return Or(pr,mr,Ar=>{Ar!=null&&wr.push(Ar),wr.push(null)},Ar=>{vr(wr,Ar)}),wr=new Dr({objectMode:!0,writable:!1,read(){}})}throw new gr(hr,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],mr)};function Cr(yr){let{promise:mr,resolve:hr}=xr();const pr=new jr,wr=pr.signal;return{value:yr(async function*(){for(;;){const Rr=mr;mr=null;const{chunk:Pr,done:Sr,cb:Mr}=await Rr;if(tr.nextTick(Mr),Sr)return;if(wr.aborted)throw new dr(void 0,{cause:wr.reason});({promise:mr,resolve:hr}=xr()),yield Pr}}(),{signal:wr}),write(Rr,Pr,Sr){const Mr=hr;hr=null,Mr({chunk:Rr,done:!1,cb:Sr})},final(Rr){const Pr=hr;hr=null,Pr({done:!0,cb:Rr})},destroy(Rr,Pr){pr.abort(),Pr(Rr)}}}function Tr(yr){const mr=yr.readable&&typeof yr.readable.read!="function"?Er.wrap(yr.readable):yr.readable,hr=yr.writable;let pr=!!rr(mr),wr=!!nr(hr),Ar,Rr,Pr,Sr,Mr;function Br(Ur){const Jr=Sr;Sr=null,Jr?Jr(Ur):Ur&&Mr.destroy(Ur)}return Mr=new Dr({readableObjectMode:!!(mr!=null&&mr.readableObjectMode),writableObjectMode:!!(hr!=null&&hr.writableObjectMode),readable:pr,writable:wr}),wr&&(fr(hr,Ur=>{wr=!1,Ur&&vr(mr,Ur),Br(Ur)}),Mr._write=function(Ur,Jr,qr){hr.write(Ur,Jr)?qr():Ar=qr},Mr._final=function(Ur){hr.end(),Rr=Ur},hr.on("drain",function(){if(Ar){const Ur=Ar;Ar=null,Ur()}}),hr.on("finish",function(){if(Rr){const Ur=Rr;Rr=null,Ur()}})),pr&&(fr(mr,Ur=>{pr=!1,Ur&&vr(mr,Ur),Br(Ur)}),mr.on("readable",function(){if(Pr){const Ur=Pr;Pr=null,Ur()}}),mr.on("end",function(){Mr.push(null)}),Mr._read=function(){for(;;){const Ur=mr.read();if(Ur===null){Pr=Mr._read;return}if(!Mr.push(Ur))return}}),Mr._destroy=function(Ur,Jr){!Ur&&Sr!==null&&(Ur=new dr),Pr=null,Ar=null,Rr=null,Sr===null?Jr(Ur):(Sr=Jr,vr(hr,Ur),vr(mr,Ur))},Mr}return duplexify}var duplex$1,hasRequiredDuplex;function requireDuplex(){if(hasRequiredDuplex)return duplex$1;hasRequiredDuplex=1;const{ObjectDefineProperties:tr,ObjectGetOwnPropertyDescriptor:er,ObjectKeys:rr,ObjectSetPrototypeOf:nr}=primordials;duplex$1=sr;const ir=requireReadable(),or=requireWritable();nr(sr.prototype,ir.prototype),nr(sr,ir);{const ur=rr(or.prototype);for(let fr=0;fr<ur.length;fr++){const dr=ur[fr];sr.prototype[dr]||(sr.prototype[dr]=or.prototype[dr])}}function sr(ur){if(!(this instanceof sr))return new sr(ur);ir.call(this,ur),or.call(this,ur),ur?(this.allowHalfOpen=ur.allowHalfOpen!==!1,ur.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),ur.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}tr(sr.prototype,{writable:{__proto__:null,...er(or.prototype,"writable")},writableHighWaterMark:{__proto__:null,...er(or.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...er(or.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...er(or.prototype,"writableBuffer")},writableLength:{__proto__:null,...er(or.prototype,"writableLength")},writableFinished:{__proto__:null,...er(or.prototype,"writableFinished")},writableCorked:{__proto__:null,...er(or.prototype,"writableCorked")},writableEnded:{__proto__:null,...er(or.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...er(or.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(ur){this._readableState&&this._writableState&&(this._readableState.destroyed=ur,this._writableState.destroyed=ur)}}});let ar;function cr(){return ar===void 0&&(ar={}),ar}sr.fromWeb=function(ur,fr){return cr().newStreamDuplexFromReadableWritablePair(ur,fr)},sr.toWeb=function(ur){return cr().newReadableWritablePairFromDuplex(ur)};let lr;return sr.from=function(ur){return lr||(lr=requireDuplexify()),lr(ur,"body")},duplex$1}const{ObjectSetPrototypeOf:ObjectSetPrototypeOf$1,Symbol:Symbol$2}=primordials;var transform=Transform$5;const{ERR_METHOD_NOT_IMPLEMENTED:ERR_METHOD_NOT_IMPLEMENTED$1}=errors$5.codes,Duplex$3=requireDuplex(),{getHighWaterMark:getHighWaterMark$1}=state$1;ObjectSetPrototypeOf$1(Transform$5.prototype,Duplex$3.prototype);ObjectSetPrototypeOf$1(Transform$5,Duplex$3);const kCallback=Symbol$2("kCallback");function Transform$5(tr){if(!(this instanceof Transform$5))return new Transform$5(tr);const er=tr?getHighWaterMark$1(this,tr,"readableHighWaterMark",!0):null;er===0&&(tr={...tr,highWaterMark:null,readableHighWaterMark:er,writableHighWaterMark:tr.writableHighWaterMark||0}),Duplex$3.call(this,tr),this._readableState.sync=!1,this[kCallback]=null,tr&&(typeof tr.transform=="function"&&(this._transform=tr.transform),typeof tr.flush=="function"&&(this._flush=tr.flush)),this.on("prefinish",prefinish$1)}function final(tr){typeof this._flush=="function"&&!this.destroyed?this._flush((er,rr)=>{if(er){tr?tr(er):this.destroy(er);return}rr!=null&&this.push(rr),this.push(null),tr&&tr()}):(this.push(null),tr&&tr())}function prefinish$1(){this._final!==final&&final.call(this)}Transform$5.prototype._final=final;Transform$5.prototype._transform=function(tr,er,rr){throw new ERR_METHOD_NOT_IMPLEMENTED$1("_transform()")};Transform$5.prototype._write=function(tr,er,rr){const nr=this._readableState,ir=this._writableState,or=nr.length;this._transform(tr,er,(sr,ar)=>{if(sr){rr(sr);return}ar!=null&&this.push(ar),ir.ended||or===nr.length||nr.length<nr.highWaterMark?rr():this[kCallback]=rr})};Transform$5.prototype._read=function(){if(this[kCallback]){const tr=this[kCallback];this[kCallback]=null,tr()}};const{ObjectSetPrototypeOf}=primordials;var passthrough=PassThrough$2;const Transform$4=transform;ObjectSetPrototypeOf(PassThrough$2.prototype,Transform$4.prototype);ObjectSetPrototypeOf(PassThrough$2,Transform$4);function PassThrough$2(tr){if(!(this instanceof PassThrough$2))return new PassThrough$2(tr);Transform$4.call(this,tr)}PassThrough$2.prototype._transform=function(tr,er,rr){rr(null,tr)};const process$1=browserExports$2,{ArrayIsArray,Promise:Promise$2,SymbolAsyncIterator,SymbolDispose}=primordials,eos$6=endOfStreamExports,{once:once$7}=utilExports,destroyImpl=destroy_1$1,Duplex$2=requireDuplex(),{aggregateTwoErrors,codes:{ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$2,ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS:ERR_MISSING_ARGS$3,ERR_STREAM_DESTROYED:ERR_STREAM_DESTROYED$1,ERR_STREAM_PREMATURE_CLOSE:ERR_STREAM_PREMATURE_CLOSE$1},AbortError:AbortError$2}=errors$5,{validateFunction,validateAbortSignal:validateAbortSignal$1}=validators$1,{isIterable:isIterable$1,isReadable:isReadable$1,isReadableNodeStream,isNodeStream:isNodeStream$2,isTransformStream:isTransformStream$1,isWebStream:isWebStream$1,isReadableStream:isReadableStream$2,isReadableFinished}=utils$7,AbortController$2=globalThis.AbortController||requireBrowser().AbortController;let PassThrough$1,Readable,addAbortListener;function destroyer$3(tr,er,rr){let nr=!1;tr.on("close",()=>{nr=!0});const ir=eos$6(tr,{readable:er,writable:rr},or=>{nr=!or});return{destroy:or=>{nr||(nr=!0,destroyImpl.destroyer(tr,or||new ERR_STREAM_DESTROYED$1("pipe")))},cleanup:ir}}function popCallback$1(tr){return validateFunction(tr[tr.length-1],"streams[stream.length - 1]"),tr.pop()}function makeAsyncIterable(tr){if(isIterable$1(tr))return tr;if(isReadableNodeStream(tr))return fromReadable(tr);throw new ERR_INVALID_ARG_TYPE$2("val",["Readable","Iterable","AsyncIterable"],tr)}async function*fromReadable(tr){Readable||(Readable=requireReadable()),yield*Readable.prototype[SymbolAsyncIterator].call(tr)}async function pumpToNode(tr,er,rr,{end:nr}){let ir,or=null;const sr=lr=>{if(lr&&(ir=lr),or){const ur=or;or=null,ur()}},ar=()=>new Promise$2((lr,ur)=>{ir?ur(ir):or=()=>{ir?ur(ir):lr()}});er.on("drain",sr);const cr=eos$6(er,{readable:!1},sr);try{er.writableNeedDrain&&await ar();for await(const lr of tr)er.write(lr)||await ar();nr&&(er.end(),await ar()),rr()}catch(lr){rr(ir!==lr?aggregateTwoErrors(ir,lr):lr)}finally{cr(),er.off("drain",sr)}}async function pumpToWeb(tr,er,rr,{end:nr}){isTransformStream$1(er)&&(er=er.writable);const ir=er.getWriter();try{for await(const or of tr)await ir.ready,ir.write(or).catch(()=>{});await ir.ready,nr&&await ir.close(),rr()}catch(or){try{await ir.abort(or),rr(or)}catch(sr){rr(sr)}}}function pipeline$2(...tr){return pipelineImpl(tr,once$7(popCallback$1(tr)))}function pipelineImpl(tr,er,rr){if(tr.length===1&&ArrayIsArray(tr[0])&&(tr=tr[0]),tr.length<2)throw new ERR_MISSING_ARGS$3("streams");const nr=new AbortController$2,ir=nr.signal,or=rr?.signal,sr=[];validateAbortSignal$1(or,"options.signal");function ar(){br(new AbortError$2)}addAbortListener=addAbortListener||utilExports.addAbortListener;let cr;or&&(cr=addAbortListener(or,ar));let lr,ur;const fr=[];let dr=0;function gr(_r){br(_r,--dr===0)}function br(_r,xr){var Ir;if(_r&&(!lr||lr.code==="ERR_STREAM_PREMATURE_CLOSE")&&(lr=_r),!(!lr&&!xr)){for(;fr.length;)fr.shift()(lr);(Ir=cr)===null||Ir===void 0||Ir[SymbolDispose](),nr.abort(),xr&&(lr||sr.forEach(Nr=>Nr()),process$1.nextTick(er,lr,ur))}}let vr;for(let _r=0;_r<tr.length;_r++){const xr=tr[_r],Ir=_r<tr.length-1,Nr=_r>0,Lr=Ir||rr?.end!==!1,jr=_r===tr.length-1;if(isNodeStream$2(xr)){let Or=function(Dr){Dr&&Dr.name!=="AbortError"&&Dr.code!=="ERR_STREAM_PREMATURE_CLOSE"&&gr(Dr)};if(Lr){const{destroy:Dr,cleanup:Cr}=destroyer$3(xr,Ir,Nr);fr.push(Dr),isReadable$1(xr)&&jr&&sr.push(Cr)}xr.on("error",Or),isReadable$1(xr)&&jr&&sr.push(()=>{xr.removeListener("error",Or)})}if(_r===0)if(typeof xr=="function"){if(vr=xr({signal:ir}),!isIterable$1(vr))throw new ERR_INVALID_RETURN_VALUE("Iterable, AsyncIterable or Stream","source",vr)}else isIterable$1(xr)||isReadableNodeStream(xr)||isTransformStream$1(xr)?vr=xr:vr=Duplex$2.from(xr);else if(typeof xr=="function"){if(isTransformStream$1(vr)){var $r;vr=makeAsyncIterable(($r=vr)===null||$r===void 0?void 0:$r.readable)}else vr=makeAsyncIterable(vr);if(vr=xr(vr,{signal:ir}),Ir){if(!isIterable$1(vr,!0))throw new ERR_INVALID_RETURN_VALUE("AsyncIterable",`transform[${_r-1}]`,vr)}else{var Er;PassThrough$1||(PassThrough$1=passthrough);const Or=new PassThrough$1({objectMode:!0}),Dr=(Er=vr)===null||Er===void 0?void 0:Er.then;if(typeof Dr=="function")dr++,Dr.call(vr,yr=>{ur=yr,yr!=null&&Or.write(yr),Lr&&Or.end(),process$1.nextTick(gr)},yr=>{Or.destroy(yr),process$1.nextTick(gr,yr)});else if(isIterable$1(vr,!0))dr++,pumpToNode(vr,Or,gr,{end:Lr});else if(isReadableStream$2(vr)||isTransformStream$1(vr)){const yr=vr.readable||vr;dr++,pumpToNode(yr,Or,gr,{end:Lr})}else throw new ERR_INVALID_RETURN_VALUE("AsyncIterable or Promise","destination",vr);vr=Or;const{destroy:Cr,cleanup:Tr}=destroyer$3(vr,!1,!0);fr.push(Cr),jr&&sr.push(Tr)}}else if(isNodeStream$2(xr)){if(isReadableNodeStream(vr)){dr+=2;const Or=pipe$2(vr,xr,gr,{end:Lr});isReadable$1(xr)&&jr&&sr.push(Or)}else if(isTransformStream$1(vr)||isReadableStream$2(vr)){const Or=vr.readable||vr;dr++,pumpToNode(Or,xr,gr,{end:Lr})}else if(isIterable$1(vr))dr++,pumpToNode(vr,xr,gr,{end:Lr});else throw new ERR_INVALID_ARG_TYPE$2("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],vr);vr=xr}else if(isWebStream$1(xr)){if(isReadableNodeStream(vr))dr++,pumpToWeb(makeAsyncIterable(vr),xr,gr,{end:Lr});else if(isReadableStream$2(vr)||isIterable$1(vr))dr++,pumpToWeb(vr,xr,gr,{end:Lr});else if(isTransformStream$1(vr))dr++,pumpToWeb(vr.readable,xr,gr,{end:Lr});else throw new ERR_INVALID_ARG_TYPE$2("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],vr);vr=xr}else vr=Duplex$2.from(xr)}return(ir!=null&&ir.aborted||or!=null&&or.aborted)&&process$1.nextTick(ar),vr}function pipe$2(tr,er,rr,{end:nr}){let ir=!1;if(er.on("close",()=>{ir||rr(new ERR_STREAM_PREMATURE_CLOSE$1)}),tr.pipe(er,{end:!1}),nr){let or=function(){ir=!0,er.end()};isReadableFinished(tr)?process$1.nextTick(or):tr.once("end",or)}else rr();return eos$6(tr,{readable:!0,writable:!1},or=>{const sr=tr._readableState;or&&or.code==="ERR_STREAM_PREMATURE_CLOSE"&&sr&&sr.ended&&!sr.errored&&!sr.errorEmitted?tr.once("end",rr).once("error",rr):rr(or)}),eos$6(er,{readable:!1,writable:!0},rr)}var pipeline_1$1={pipelineImpl,pipeline:pipeline$2};const{pipeline:pipeline$1}=pipeline_1$1,Duplex$1=requireDuplex(),{destroyer:destroyer$2}=destroy_1$1,{isNodeStream:isNodeStream$1,isReadable,isWritable:isWritable$1,isWebStream,isTransformStream,isWritableStream:isWritableStream$1,isReadableStream:isReadableStream$1}=utils$7,{AbortError:AbortError$1,codes:{ERR_INVALID_ARG_VALUE:ERR_INVALID_ARG_VALUE$1,ERR_MISSING_ARGS:ERR_MISSING_ARGS$2}}=errors$5,eos$5=endOfStreamExports;var compose$1=function tr(...er){if(er.length===0)throw new ERR_MISSING_ARGS$2("streams");if(er.length===1)return Duplex$1.from(er[0]);const rr=[...er];if(typeof er[0]=="function"&&(er[0]=Duplex$1.from(er[0])),typeof er[er.length-1]=="function"){const gr=er.length-1;er[gr]=Duplex$1.from(er[gr])}for(let gr=0;gr<er.length;++gr)if(!(!isNodeStream$1(er[gr])&&!isWebStream(er[gr]))){if(gr<er.length-1&&!(isReadable(er[gr])||isReadableStream$1(er[gr])||isTransformStream(er[gr])))throw new ERR_INVALID_ARG_VALUE$1(`streams[${gr}]`,rr[gr],"must be readable");if(gr>0&&!(isWritable$1(er[gr])||isWritableStream$1(er[gr])||isTransformStream(er[gr])))throw new ERR_INVALID_ARG_VALUE$1(`streams[${gr}]`,rr[gr],"must be writable")}let nr,ir,or,sr,ar;function cr(gr){const br=sr;sr=null,br?br(gr):gr?ar.destroy(gr):!dr&&!fr&&ar.destroy()}const lr=er[0],ur=pipeline$1(er,cr),fr=!!(isWritable$1(lr)||isWritableStream$1(lr)||isTransformStream(lr)),dr=!!(isReadable(ur)||isReadableStream$1(ur)||isTransformStream(ur));if(ar=new Duplex$1({writableObjectMode:!!(lr!=null&&lr.writableObjectMode),readableObjectMode:!!(ur!=null&&ur.readableObjectMode),writable:fr,readable:dr}),fr){if(isNodeStream$1(lr))ar._write=function(br,vr,$r){lr.write(br,vr)?$r():nr=$r},ar._final=function(br){lr.end(),ir=br},lr.on("drain",function(){if(nr){const br=nr;nr=null,br()}});else if(isWebStream(lr)){const vr=(isTransformStream(lr)?lr.writable:lr).getWriter();ar._write=async function($r,Er,_r){try{await vr.ready,vr.write($r).catch(()=>{}),_r()}catch(xr){_r(xr)}},ar._final=async function($r){try{await vr.ready,vr.close().catch(()=>{}),ir=$r}catch(Er){$r(Er)}}}const gr=isTransformStream(ur)?ur.readable:ur;eos$5(gr,()=>{if(ir){const br=ir;ir=null,br()}})}if(dr){if(isNodeStream$1(ur))ur.on("readable",function(){if(or){const gr=or;or=null,gr()}}),ur.on("end",function(){ar.push(null)}),ar._read=function(){for(;;){const gr=ur.read();if(gr===null){or=ar._read;return}if(!ar.push(gr))return}};else if(isWebStream(ur)){const br=(isTransformStream(ur)?ur.readable:ur).getReader();ar._read=async function(){for(;;)try{const{value:vr,done:$r}=await br.read();if(!ar.push(vr))return;if($r){ar.push(null);return}}catch{return}}}}return ar._destroy=function(gr,br){!gr&&sr!==null&&(gr=new AbortError$1),or=null,nr=null,ir=null,sr===null?br(gr):(sr=br,isNodeStream$1(ur)&&destroyer$2(ur,gr))},ar};const AbortController$1=globalThis.AbortController||requireBrowser().AbortController,{codes:{ERR_INVALID_ARG_VALUE,ERR_INVALID_ARG_TYPE:ERR_INVALID_ARG_TYPE$1,ERR_MISSING_ARGS:ERR_MISSING_ARGS$1,ERR_OUT_OF_RANGE},AbortError}=errors$5,{validateAbortSignal,validateInteger,validateObject:validateObject$1}=validators$1,kWeakHandler=primordials.Symbol("kWeak"),kResistStopPropagation=primordials.Symbol("kResistStopPropagation"),{finished}=endOfStreamExports,staticCompose=compose$1,{addAbortSignalNoValidate}=addAbortSignalExports,{isWritable,isNodeStream}=utils$7,{deprecate:deprecate$1}=utilExports,{ArrayPrototypePush,Boolean:Boolean$1,MathFloor,Number:Number$1,NumberIsNaN,Promise:Promise$1,PromiseReject,PromiseResolve,PromisePrototypeThen,Symbol:Symbol$1}=primordials,kEmpty=Symbol$1("kEmpty"),kEof=Symbol$1("kEof");function compose(tr,er){if(er!=null&&validateObject$1(er,"options"),er?.signal!=null&&validateAbortSignal(er.signal,"options.signal"),isNodeStream(tr)&&!isWritable(tr))throw new ERR_INVALID_ARG_VALUE("stream",tr,"must be writable");const rr=staticCompose(this,tr);return er!=null&&er.signal&&addAbortSignalNoValidate(er.signal,rr),rr}function map$1(tr,er){if(typeof tr!="function")throw new ERR_INVALID_ARG_TYPE$1("fn",["Function","AsyncFunction"],tr);er!=null&&validateObject$1(er,"options"),er?.signal!=null&&validateAbortSignal(er.signal,"options.signal");let rr=1;er?.concurrency!=null&&(rr=MathFloor(er.concurrency));let nr=rr-1;return er?.highWaterMark!=null&&(nr=MathFloor(er.highWaterMark)),validateInteger(rr,"options.concurrency",1),validateInteger(nr,"options.highWaterMark",0),nr+=rr,async function*(){const or=utilExports.AbortSignalAny([er?.signal].filter(Boolean$1)),sr=this,ar=[],cr={signal:or};let lr,ur,fr=!1,dr=0;function gr(){fr=!0,br()}function br(){dr-=1,vr()}function vr(){ur&&!fr&&dr<rr&&ar.length<nr&&(ur(),ur=null)}async function $r(){try{for await(let Er of sr){if(fr)return;if(or.aborted)throw new AbortError;try{if(Er=tr(Er,cr),Er===kEmpty)continue;Er=PromiseResolve(Er)}catch(_r){Er=PromiseReject(_r)}dr+=1,PromisePrototypeThen(Er,br,gr),ar.push(Er),lr&&(lr(),lr=null),!fr&&(ar.length>=nr||dr>=rr)&&await new Promise$1(_r=>{ur=_r})}ar.push(kEof)}catch(Er){const _r=PromiseReject(Er);PromisePrototypeThen(_r,br,gr),ar.push(_r)}finally{fr=!0,lr&&(lr(),lr=null)}}$r();try{for(;;){for(;ar.length>0;){const Er=await ar[0];if(Er===kEof)return;if(or.aborted)throw new AbortError;Er!==kEmpty&&(yield Er),ar.shift(),vr()}await new Promise$1(Er=>{lr=Er})}}finally{fr=!0,ur&&(ur(),ur=null)}}.call(this)}function asIndexedPairs(tr=void 0){return tr!=null&&validateObject$1(tr,"options"),tr?.signal!=null&&validateAbortSignal(tr.signal,"options.signal"),async function*(){let rr=0;for await(const ir of this){var nr;if(tr!=null&&(nr=tr.signal)!==null&&nr!==void 0&&nr.aborted)throw new AbortError({cause:tr.signal.reason});yield[rr++,ir]}}.call(this)}async function some(tr,er=void 0){for await(const rr of filter.call(this,tr,er))return!0;return!1}async function every(tr,er=void 0){if(typeof tr!="function")throw new ERR_INVALID_ARG_TYPE$1("fn",["Function","AsyncFunction"],tr);return!await some.call(this,async(...rr)=>!await tr(...rr),er)}async function find(tr,er){for await(const rr of filter.call(this,tr,er))return rr}async function forEach$2(tr,er){if(typeof tr!="function")throw new ERR_INVALID_ARG_TYPE$1("fn",["Function","AsyncFunction"],tr);async function rr(nr,ir){return await tr(nr,ir),kEmpty}for await(const nr of map$1.call(this,rr,er));}function filter(tr,er){if(typeof tr!="function")throw new ERR_INVALID_ARG_TYPE$1("fn",["Function","AsyncFunction"],tr);async function rr(nr,ir){return await tr(nr,ir)?nr:kEmpty}return map$1.call(this,rr,er)}class ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS$1{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function reduce(tr,er,rr){var nr;if(typeof tr!="function")throw new ERR_INVALID_ARG_TYPE$1("reducer",["Function","AsyncFunction"],tr);rr!=null&&validateObject$1(rr,"options"),rr?.signal!=null&&validateAbortSignal(rr.signal,"options.signal");let ir=arguments.length>1;if(rr!=null&&(nr=rr.signal)!==null&&nr!==void 0&&nr.aborted){const lr=new AbortError(void 0,{cause:rr.signal.reason});throw this.once("error",()=>{}),await finished(this.destroy(lr)),lr}const or=new AbortController$1,sr=or.signal;if(rr!=null&&rr.signal){const lr={once:!0,[kWeakHandler]:this,[kResistStopPropagation]:!0};rr.signal.addEventListener("abort",()=>or.abort(),lr)}let ar=!1;try{for await(const lr of this){var cr;if(ar=!0,rr!=null&&(cr=rr.signal)!==null&&cr!==void 0&&cr.aborted)throw new AbortError;ir?er=await tr(er,lr,{signal:sr}):(er=lr,ir=!0)}if(!ar&&!ir)throw new ReduceAwareErrMissingArgs}finally{or.abort()}return er}async function toArray$1(tr){tr!=null&&validateObject$1(tr,"options"),tr?.signal!=null&&validateAbortSignal(tr.signal,"options.signal");const er=[];for await(const nr of this){var rr;if(tr!=null&&(rr=tr.signal)!==null&&rr!==void 0&&rr.aborted)throw new AbortError(void 0,{cause:tr.signal.reason});ArrayPrototypePush(er,nr)}return er}function flatMap(tr,er){const rr=map$1.call(this,tr,er);return async function*(){for await(const ir of rr)yield*ir}.call(this)}function toIntegerOrInfinity(tr){if(tr=Number$1(tr),NumberIsNaN(tr))return 0;if(tr<0)throw new ERR_OUT_OF_RANGE("number",">= 0",tr);return tr}function drop(tr,er=void 0){return er!=null&&validateObject$1(er,"options"),er?.signal!=null&&validateAbortSignal(er.signal,"options.signal"),tr=toIntegerOrInfinity(tr),async function*(){var nr;if(er!=null&&(nr=er.signal)!==null&&nr!==void 0&&nr.aborted)throw new AbortError;for await(const or of this){var ir;if(er!=null&&(ir=er.signal)!==null&&ir!==void 0&&ir.aborted)throw new AbortError;tr--<=0&&(yield or)}}.call(this)}function take(tr,er=void 0){return er!=null&&validateObject$1(er,"options"),er?.signal!=null&&validateAbortSignal(er.signal,"options.signal"),tr=toIntegerOrInfinity(tr),async function*(){var nr;if(er!=null&&(nr=er.signal)!==null&&nr!==void 0&&nr.aborted)throw new AbortError;for await(const or of this){var ir;if(er!=null&&(ir=er.signal)!==null&&ir!==void 0&&ir.aborted)throw new AbortError;if(tr-- >0&&(yield or),tr<=0)return}}.call(this)}operators.streamReturningOperators={asIndexedPairs:deprecate$1(asIndexedPairs,"readable.asIndexedPairs will be removed in a future version."),drop,filter,flatMap,map:map$1,take,compose};operators.promiseReturningOperators={every,forEach:forEach$2,reduce,toArray:toArray$1,some,find};var promises,hasRequiredPromises;function requirePromises(){if(hasRequiredPromises)return promises;hasRequiredPromises=1;const{ArrayPrototypePop:tr,Promise:er}=primordials,{isIterable:rr,isNodeStream:nr,isWebStream:ir}=utils$7,{pipelineImpl:or}=pipeline_1$1,{finished:sr}=endOfStreamExports;requireStream();function ar(...cr){return new er((lr,ur)=>{let fr,dr;const gr=cr[cr.length-1];if(gr&&typeof gr=="object"&&!nr(gr)&&!rr(gr)&&!ir(gr)){const br=tr(cr);fr=br.signal,dr=br.end}or(cr,(br,vr)=>{br?ur(br):lr(vr)},{signal:fr,end:dr})})}return promises={finished:sr,pipeline:ar},promises}var hasRequiredStream;function requireStream(){if(hasRequiredStream)return stream.exports;hasRequiredStream=1;const{Buffer:tr}=buffer$1,{ObjectDefineProperty:er,ObjectKeys:rr,ReflectApply:nr}=primordials,{promisify:{custom:ir}}=utilExports,{streamReturningOperators:or,promiseReturningOperators:sr}=operators,{codes:{ERR_ILLEGAL_CONSTRUCTOR:ar}}=errors$5,cr=compose$1,{setDefaultHighWaterMark:lr,getDefaultHighWaterMark:ur}=state$1,{pipeline:fr}=pipeline_1$1,{destroyer:dr}=destroy_1$1,gr=endOfStreamExports,br=requirePromises(),vr=utils$7,$r=stream.exports=legacy.Stream;$r.isDestroyed=vr.isDestroyed,$r.isDisturbed=vr.isDisturbed,$r.isErrored=vr.isErrored,$r.isReadable=vr.isReadable,$r.isWritable=vr.isWritable,$r.Readable=requireReadable();for(const _r of rr(or)){let Ir=function(...Nr){if(new.target)throw ar();return $r.Readable.from(nr(xr,this,Nr))};const xr=or[_r];er(Ir,"name",{__proto__:null,value:xr.name}),er(Ir,"length",{__proto__:null,value:xr.length}),er($r.Readable.prototype,_r,{__proto__:null,value:Ir,enumerable:!1,configurable:!0,writable:!0})}for(const _r of rr(sr)){let Ir=function(...Nr){if(new.target)throw ar();return nr(xr,this,Nr)};const xr=sr[_r];er(Ir,"name",{__proto__:null,value:xr.name}),er(Ir,"length",{__proto__:null,value:xr.length}),er($r.Readable.prototype,_r,{__proto__:null,value:Ir,enumerable:!1,configurable:!0,writable:!0})}$r.Writable=requireWritable(),$r.Duplex=requireDuplex(),$r.Transform=transform,$r.PassThrough=passthrough,$r.pipeline=fr;const{addAbortSignal:Er}=addAbortSignalExports;return $r.addAbortSignal=Er,$r.finished=gr,$r.destroy=dr,$r.compose=cr,$r.setDefaultHighWaterMark=lr,$r.getDefaultHighWaterMark=ur,er($r,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return br}}),er(fr,ir,{__proto__:null,enumerable:!0,get(){return br.pipeline}}),er(gr,ir,{__proto__:null,enumerable:!0,get(){return br.finished}}),$r.Stream=$r,$r._isUint8Array=function(xr){return xr instanceof Uint8Array},$r._uint8ArrayToBuffer=function(xr){return tr.from(xr.buffer,xr.byteOffset,xr.byteLength)},stream.exports}(function(tr){const er=requireStream(),rr=requirePromises(),nr=er.Readable.destroy;tr.exports=er.Readable,tr.exports._uint8ArrayToBuffer=er._uint8ArrayToBuffer,tr.exports._isUint8Array=er._isUint8Array,tr.exports.isDisturbed=er.isDisturbed,tr.exports.isErrored=er.isErrored,tr.exports.isReadable=er.isReadable,tr.exports.Readable=er.Readable,tr.exports.Writable=er.Writable,tr.exports.Duplex=er.Duplex,tr.exports.Transform=er.Transform,tr.exports.PassThrough=er.PassThrough,tr.exports.addAbortSignal=er.addAbortSignal,tr.exports.finished=er.finished,tr.exports.destroy=er.destroy,tr.exports.destroy=nr,tr.exports.pipeline=er.pipeline,tr.exports.compose=er.compose,Object.defineProperty(er,"promises",{configurable:!0,enumerable:!0,get(){return rr}}),tr.exports.Stream=er.Stream,tr.exports.default=tr.exports})(browser$3);var browserExports$1=browser$3.exports,fastSafeStringify=stringify$1;stringify$1.default=stringify$1;stringify$1.stable=deterministicStringify;stringify$1.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions$1(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$1(tr,er,rr,nr){typeof nr>"u"&&(nr=defaultOptions$1()),decirc(tr,"",0,[],void 0,0,nr);var ir;try{replacerStack.length===0?ir=JSON.stringify(tr,er,rr):ir=JSON.stringify(tr,replaceGetterValues(er),rr)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var or=arr.pop();or.length===4?Object.defineProperty(or[0],or[1],or[3]):or[0][or[1]]=or[2]}}return ir}function setReplace(tr,er,rr,nr){var ir=Object.getOwnPropertyDescriptor(nr,rr);ir.get!==void 0?ir.configurable?(Object.defineProperty(nr,rr,{value:tr}),arr.push([nr,rr,er,ir])):replacerStack.push([er,rr,tr]):(nr[rr]=tr,arr.push([nr,rr,er]))}function decirc(tr,er,rr,nr,ir,or,sr){or+=1;var ar;if(typeof tr=="object"&&tr!==null){for(ar=0;ar<nr.length;ar++)if(nr[ar]===tr){setReplace(CIRCULAR_REPLACE_NODE,tr,er,ir);return}if(typeof sr.depthLimit<"u"&&or>sr.depthLimit){setReplace(LIMIT_REPLACE_NODE,tr,er,ir);return}if(typeof sr.edgesLimit<"u"&&rr+1>sr.edgesLimit){setReplace(LIMIT_REPLACE_NODE,tr,er,ir);return}if(nr.push(tr),Array.isArray(tr))for(ar=0;ar<tr.length;ar++)decirc(tr[ar],ar,ar,nr,tr,or,sr);else{var cr=Object.keys(tr);for(ar=0;ar<cr.length;ar++){var lr=cr[ar];decirc(tr[lr],lr,ar,nr,tr,or,sr)}}nr.pop()}}function compareFunction(tr,er){return tr<er?-1:tr>er?1:0}function deterministicStringify(tr,er,rr,nr){typeof nr>"u"&&(nr=defaultOptions$1());var ir=deterministicDecirc(tr,"",0,[],void 0,0,nr)||tr,or;try{replacerStack.length===0?or=JSON.stringify(ir,er,rr):or=JSON.stringify(ir,replaceGetterValues(er),rr)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var sr=arr.pop();sr.length===4?Object.defineProperty(sr[0],sr[1],sr[3]):sr[0][sr[1]]=sr[2]}}return or}function deterministicDecirc(tr,er,rr,nr,ir,or,sr){or+=1;var ar;if(typeof tr=="object"&&tr!==null){for(ar=0;ar<nr.length;ar++)if(nr[ar]===tr){setReplace(CIRCULAR_REPLACE_NODE,tr,er,ir);return}try{if(typeof tr.toJSON=="function")return}catch{return}if(typeof sr.depthLimit<"u"&&or>sr.depthLimit){setReplace(LIMIT_REPLACE_NODE,tr,er,ir);return}if(typeof sr.edgesLimit<"u"&&rr+1>sr.edgesLimit){setReplace(LIMIT_REPLACE_NODE,tr,er,ir);return}if(nr.push(tr),Array.isArray(tr))for(ar=0;ar<tr.length;ar++)deterministicDecirc(tr[ar],ar,ar,nr,tr,or,sr);else{var cr={},lr=Object.keys(tr).sort(compareFunction);for(ar=0;ar<lr.length;ar++){var ur=lr[ar];deterministicDecirc(tr[ur],ur,ar,nr,tr,or,sr),cr[ur]=tr[ur]}if(typeof ir<"u")arr.push([ir,er,tr]),ir[er]=cr;else return cr}nr.pop()}}function replaceGetterValues(tr){return tr=typeof tr<"u"?tr:function(er,rr){return rr},function(er,rr){if(replacerStack.length>0)for(var nr=0;nr<replacerStack.length;nr++){var ir=replacerStack[nr];if(ir[1]===er&&ir[0]===rr){rr=ir[2],replacerStack.splice(nr,1);break}}return tr.call(this,er,rr)}}const stringify$2=getDefaultExportFromCjs(fastSafeStringify);var once$6={exports:{}},wrappy_1=wrappy$1;function wrappy$1(tr,er){if(tr&&er)return wrappy$1(tr)(er);if(typeof tr!="function")throw new TypeError("need wrapper function");return Object.keys(tr).forEach(function(nr){rr[nr]=tr[nr]}),rr;function rr(){for(var nr=new Array(arguments.length),ir=0;ir<nr.length;ir++)nr[ir]=arguments[ir];var or=tr.apply(this,nr),sr=nr[nr.length-1];return typeof or=="function"&&or!==sr&&Object.keys(sr).forEach(function(ar){or[ar]=sr[ar]}),or}}var wrappy=wrappy_1;once$6.exports=wrappy(once$4);once$6.exports.strict=wrappy(onceStrict);once$4.proto=once$4(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once$4(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})});function once$4(tr){var er=function(){return er.called?er.value:(er.called=!0,er.value=tr.apply(this,arguments))};return er.called=!1,er}function onceStrict(tr){var er=function(){if(er.called)throw new Error(er.onceError);return er.called=!0,er.value=tr.apply(this,arguments)},rr=tr.name||"Function wrapped with `once`";return er.onceError=rr+" shouldn't be called more than once",er.called=!1,er}var onceExports=once$6.exports;const once$5=getDefaultExportFromCjs(onceExports);var once$3=onceExports,noop$5=function(){},isRequest$3=function(tr){return tr.setHeader&&typeof tr.abort=="function"},isChildProcess=function(tr){return tr.stdio&&Array.isArray(tr.stdio)&&tr.stdio.length===3},eos$3=function(tr,er,rr){if(typeof er=="function")return eos$3(tr,null,er);er||(er={}),rr=once$3(rr||noop$5);var nr=tr._writableState,ir=tr._readableState,or=er.readable||er.readable!==!1&&tr.readable,sr=er.writable||er.writable!==!1&&tr.writable,ar=!1,cr=function(){tr.writable||lr()},lr=function(){sr=!1,or||rr.call(tr)},ur=function(){or=!1,sr||rr.call(tr)},fr=function($r){rr.call(tr,$r?new Error("exited with error code: "+$r):null)},dr=function($r){rr.call(tr,$r)},gr=function(){process.nextTick(br)},br=function(){if(!ar){if(or&&!(ir&&ir.ended&&!ir.destroyed))return rr.call(tr,new Error("premature close"));if(sr&&!(nr&&nr.ended&&!nr.destroyed))return rr.call(tr,new Error("premature close"))}},vr=function(){tr.req.on("finish",lr)};return isRequest$3(tr)?(tr.on("complete",lr),tr.on("abort",gr),tr.req?vr():tr.on("request",vr)):sr&&!nr&&(tr.on("end",cr),tr.on("close",cr)),isChildProcess(tr)&&tr.on("exit",fr),tr.on("end",ur),tr.on("finish",lr),er.error!==!1&&tr.on("error",dr),tr.on("close",gr),function(){ar=!0,tr.removeListener("complete",lr),tr.removeListener("abort",gr),tr.removeListener("request",vr),tr.req&&tr.req.removeListener("finish",lr),tr.removeListener("end",cr),tr.removeListener("close",cr),tr.removeListener("finish",lr),tr.removeListener("exit",fr),tr.removeListener("end",ur),tr.removeListener("error",dr),tr.removeListener("close",gr)}},endOfStream$1=eos$3;const eos$4=getDefaultExportFromCjs(endOfStream$1);var once$2=onceExports,eos$2=endOfStream$1,fs=require$$3,noop$4=function(){},ancient=/^v?\.0/.test(process.version),isFn=function(tr){return typeof tr=="function"},isFS=function(tr){return!ancient||!fs?!1:(tr instanceof(fs.ReadStream||noop$4)||tr instanceof(fs.WriteStream||noop$4))&&isFn(tr.close)},isRequest$2=function(tr){return tr.setHeader&&isFn(tr.abort)},destroyer$1=function(tr,er,rr,nr){nr=once$2(nr);var ir=!1;tr.on("close",function(){ir=!0}),eos$2(tr,{readable:er,writable:rr},function(sr){if(sr)return nr(sr);ir=!0,nr()});var or=!1;return function(sr){if(!ir&&!or){if(or=!0,isFS(tr))return tr.close(noop$4);if(isRequest$2(tr))return tr.abort();if(isFn(tr.destroy))return tr.destroy();nr(sr||new Error("stream was destroyed"))}}},call$2=function(tr){tr()},pipe$1=function(tr,er){return tr.pipe(er)},pump=function(){var tr=Array.prototype.slice.call(arguments),er=isFn(tr[tr.length-1]||noop$4)&&tr.pop()||noop$4;if(Array.isArray(tr[0])&&(tr=tr[0]),tr.length<2)throw new Error("pump requires two streams per minimum");var rr,nr=tr.map(function(ir,or){var sr=or<tr.length-1,ar=or>0;return destroyer$1(ir,sr,ar,function(cr){rr||(rr=cr),cr&&nr.forEach(call$2),!sr&&(nr.forEach(call$2),er(rr))})});return tr.reduce(pipe$1)},pump_1=pump;const pump$1=getDefaultExportFromCjs(pump_1);function noop$3(){}const SYN="SYN",ACK="ACK",BRK="BRK";class BasePostMessageStream extends browserExports$1.Duplex{constructor(er){let{name:rr,target:nr,targetWindow:ir=window,targetOrigin:or="*"}=er;if(super({objectMode:!0}),_defineProperty(this,"_init",void 0),_defineProperty(this,"_haveSyn",void 0),_defineProperty(this,"_name",void 0),_defineProperty(this,"_target",void 0),_defineProperty(this,"_targetWindow",void 0),_defineProperty(this,"_targetOrigin",void 0),_defineProperty(this,"_onMessage",void 0),_defineProperty(this,"_synIntervalId",void 0),!rr||!nr)throw new Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=rr,this._target=nr,this._targetWindow=ir,this._targetOrigin=or,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(BRK,null,noop$3),this._haveSyn=!1,this._init=!1}_handShake(){this._write(SYN,null,noop$3),this.cork()}_onData(er){if(!this._init)er===SYN?(this._haveSyn=!0,this._write(ACK,null,noop$3)):er===ACK&&(this._init=!0,this._haveSyn||this._write(ACK,null,noop$3),this.uncork());else if(er===BRK)this._break();else try{this.push(er)}catch(rr){this.emit("error",rr)}}_postMessage(er){const rr=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:er},rr)}onMessage(er){const rr=er.data;this._targetOrigin!=="*"&&er.origin!==this._targetOrigin||er.source!==this._targetWindow||typeof rr!="object"||rr.target!==this._name||!rr.data||this._onData(rr.data)}_read(){}_write(er,rr,nr){this._postMessage(er),nr()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}const errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},FALLBACK_ERROR_CODE=errorCodes.rpc.internal,FALLBACK_MESSAGE="Unspecified error message. This is a bug, please report it.",JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function isValidCode(tr){return Number.isInteger(tr)}function isValidString(tr){return typeof tr=="string"&&tr.length>0}function isObject$3(tr){return!!tr&&typeof tr=="object"&&!Array.isArray(tr)}function isPlainObject$1(tr){if(typeof tr!="object"||tr===null)return!1;try{let er=tr;for(;Object.getPrototypeOf(er)!==null;)er=Object.getPrototypeOf(er);return Object.getPrototypeOf(tr)===er}catch{return!1}}function isJsonRpcServerError(tr){return tr>=-32099&&tr<=-32e3}function isJsonRpcError(tr){const er=tr;return!(!er||!isValidCode(er.code)||!isValidString(er.message)||er.stack&&!isValidString(er.stack))}function getMessageFromCode(tr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FALLBACK_MESSAGE;if(isValidCode(tr)){const rr=tr.toString();if(Object.hasOwn(errorValues,rr))return errorValues[rr].message;if(isJsonRpcServerError(tr))return JSON_RPC_SERVER_ERROR_MESSAGE}return er}const FALLBACK_ERROR={code:FALLBACK_ERROR_CODE,message:getMessageFromCode(FALLBACK_ERROR_CODE)};function isValidJson(tr){try{JSON.parse(JSON.stringify(tr,(er,rr)=>{if(er==="__proto__"||er==="constructor")throw new Error("Not valid json");if(typeof rr=="function"||typeof rr=="symbol")throw new Error("Not valid json");return rr}),(er,rr)=>{if(!(er==="__proto__"||er==="constructor"))return rr})}catch{return!1}return!0}function serializeObject(tr){return Object.getOwnPropertyNames(tr).reduce((er,rr)=>{const nr=tr[rr];return isValidJson(nr)&&(er[rr]=nr),er},{})}function serializeCause(tr){return Array.isArray(tr)?tr.map(er=>isValidJson(er)?er:isObject$3(er)?serializeObject(er):null):isObject$3(tr)?serializeObject(tr):isValidJson(tr)?tr:null}function buildError(tr,er){if(tr&&typeof tr=="object"&&"serialize"in tr&&typeof tr.serialize=="function")return tr.serialize();if(isJsonRpcError(tr))return tr;const rr=serializeCause(tr);return _objectSpread2(_objectSpread2({},er),{},{data:{cause:rr}})}function serializeError$2(tr){let{fallbackError:er=FALLBACK_ERROR,shouldIncludeStack:rr=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!isJsonRpcError(er))throw new Error("Must provide fallback error with integer number code and string message.");const nr=buildError(tr,er);return rr||delete nr.stack,nr}function dataHasCause(tr){return isObject$3(tr)&&Object.hasOwn(tr,"cause")&&isObject$3(tr.cause)}function isValidEthProviderCode$1(tr){return Number.isInteger(tr)&&tr>=1e3&&tr<=4999}function stringifyReplacer(tr,er){if(er!=="[Circular]")return er}class JsonRpcError extends Error{constructor(er,rr,nr){if(!Number.isInteger(er))throw new Error('"code" must be an integer.');if(!rr||typeof rr!="string")throw new Error('"message" must be a non-empty string.');dataHasCause(nr)?(super(rr,{cause:nr.cause}),_defineProperty(this,"cause",void 0),_defineProperty(this,"code",void 0),_defineProperty(this,"data",void 0),Object.hasOwn(this,"cause")||Object.assign(this,{cause:nr.cause})):(super(rr),_defineProperty(this,"cause",void 0),_defineProperty(this,"code",void 0),_defineProperty(this,"data",void 0)),nr!==void 0&&(this.data=nr),this.code=er,this.cause=nr?.cause}serialize(){const er={code:this.code,message:this.message};return this.data!==void 0&&(er.data=this.data,isPlainObject$1(this.data)&&(er.data.cause=serializeCause(this.data.cause))),this.stack&&(er.stack=this.stack),er}toString(){return stringify$2(this.serialize(),stringifyReplacer,2)}}let EthereumProviderError$1=class extends JsonRpcError{constructor(er,rr,nr){if(!isValidEthProviderCode$1(er))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(er,rr,nr)}};function parseOpts$1(tr){if(tr){if(typeof tr=="string")return[tr];if(typeof tr=="object"&&!Array.isArray(tr)){const{message:er,data:rr}=tr;if(er&&typeof er!="string")throw new Error("Must specify string message.");return[er??void 0,rr]}}return[]}function getJsonRpcError(tr,er){const[rr,nr]=parseOpts$1(er);return new JsonRpcError(tr,rr??getMessageFromCode(tr),nr)}function getEthProviderError$1(tr,er){const[rr,nr]=parseOpts$1(er);return new EthereumProviderError$1(tr,rr??getMessageFromCode(tr),nr)}const rpcErrors={parse:tr=>getJsonRpcError(errorCodes.rpc.parse,tr),invalidRequest:tr=>getJsonRpcError(errorCodes.rpc.invalidRequest,tr),invalidParams:tr=>getJsonRpcError(errorCodes.rpc.invalidParams,tr),methodNotFound:tr=>getJsonRpcError(errorCodes.rpc.methodNotFound,tr),internal:tr=>getJsonRpcError(errorCodes.rpc.internal,tr),server:tr=>{if(!tr||typeof tr!="object"||Array.isArray(tr))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:er}=tr;if(!Number.isInteger(er)||er>-32005||er<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getJsonRpcError(er,tr)},invalidInput:tr=>getJsonRpcError(errorCodes.rpc.invalidInput,tr),resourceNotFound:tr=>getJsonRpcError(errorCodes.rpc.resourceNotFound,tr),resourceUnavailable:tr=>getJsonRpcError(errorCodes.rpc.resourceUnavailable,tr),transactionRejected:tr=>getJsonRpcError(errorCodes.rpc.transactionRejected,tr),methodNotSupported:tr=>getJsonRpcError(errorCodes.rpc.methodNotSupported,tr),limitExceeded:tr=>getJsonRpcError(errorCodes.rpc.limitExceeded,tr)},providerErrors={userRejectedRequest:tr=>getEthProviderError$1(errorCodes.provider.userRejectedRequest,tr),unauthorized:tr=>getEthProviderError$1(errorCodes.provider.unauthorized,tr),unsupportedMethod:tr=>getEthProviderError$1(errorCodes.provider.unsupportedMethod,tr),disconnected:tr=>getEthProviderError$1(errorCodes.provider.disconnected,tr),chainDisconnected:tr=>getEthProviderError$1(errorCodes.provider.chainDisconnected,tr),custom:tr=>{if(!tr||typeof tr!="object"||Array.isArray(tr))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:er,message:rr,data:nr}=tr;if(!rr||typeof rr!="string")throw new Error('"message" must be a nonempty string');return new EthereumProviderError$1(er,rr,nr)}};function safeApply(tr,er,rr){try{Reflect.apply(tr,er,rr)}catch(nr){setTimeout(()=>{throw nr})}}function arrayClone(tr){const er=tr.length,rr=new Array(er);for(let nr=0;nr<er;nr+=1)rr[nr]=tr[nr];return rr}class SafeEventEmitter extends eventsExports.EventEmitter{emit(er){let rr=er==="error";const nr=this._events;if(nr!==void 0)rr=rr&&nr.error===void 0;else if(!rr)return!1;for(var ir=arguments.length,or=new Array(ir>1?ir-1:0),sr=1;sr<ir;sr++)or[sr-1]=arguments[sr];if(rr){let cr;if(or.length>0&&([cr]=or),cr instanceof Error)throw cr;const lr=new Error(`Unhandled error.${cr?` (${cr.message})`:""}`);throw lr.context=cr,lr}const ar=nr[er];if(ar===void 0)return!1;if(typeof ar=="function")safeApply(ar,this,or);else{const cr=ar.length,lr=arrayClone(ar);for(let ur=0;ur<cr;ur+=1)safeApply(lr[ur],this,or)}return!0}}class SerializableError extends Error{constructor(er){let{code:rr,message:nr,data:ir}=er;if(!Number.isInteger(rr))throw new Error("code must be an integer");if(!nr||typeof nr!="string")throw new Error("message must be string");super(nr),_defineProperty(this,"code",void 0),_defineProperty(this,"data",void 0),this.code=rr,ir!==void 0&&(this.data=ir)}toString(){return stringify$2({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const getRpcPromiseCallback=function(tr,er){let rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(nr,ir)=>{nr||ir.error?er(nr||ir.error):!rr||Array.isArray(ir)?tr(ir):tr(ir.result)}};function createStreamMiddleware(){const tr={};function er(){return!1}const rr=new SafeEventEmitter;function nr(cr){const lr=tr[cr.id];if(!lr)throw new Error(`StreamMiddleware - Unknown response id "${cr.id}"`);delete tr[cr.id],Object.assign(lr.res,cr),setTimeout(lr.end)}function ir(cr){rr.emit("notification",cr)}function or(cr,lr,ur){let fr;try{!cr.id?ir(cr):nr(cr)}catch(dr){fr=dr}ur(fr)}const sr=new browserExports$1.Duplex({objectMode:!0,read:er,write:or});return{events:rr,middleware:(cr,lr,ur,fr)=>{sr.push(cr),tr[cr.id]={req:cr,res:lr,next:ur,end:fr}},stream:sr}}function createScaffoldMiddleware(tr){return(er,rr,nr,ir)=>{const or=tr[er.method];return or===void 0?nr():typeof or=="function"?or(er,rr,nr,ir):(rr.result=or,ir())}}function createIdRemapMiddleware(){return(tr,er,rr,nr)=>{const ir=tr.id,or=Math.random().toString(36).slice(2);tr.id=or,er.id=or,rr(sr=>{tr.id=ir,er.id=ir,sr()})}}function createAsyncMiddleware(tr){return async(er,rr,nr,ir)=>{let or;const sr=new Promise(ur=>{or=ur});let ar=null,cr=!1;const lr=async()=>{cr=!0,nr(ur=>{ar=ur,or()}),await sr};try{await tr(er,rr,lr),cr?(await sr,ar(null)):ir(null)}catch(ur){const fr=ur;ar?ar(fr):ir(fr)}}}class JRPCEngine extends SafeEventEmitter{constructor(){super(),_defineProperty(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(er,rr,nr){const ir=[];let or=null,sr=!1;for(const ar of nr)if([or,sr]=await JRPCEngine._runMiddleware(er,rr,ar,ir),sr)break;return[or,sr,ir.reverse()]}static _runMiddleware(er,rr,nr,ir){return new Promise(or=>{const sr=cr=>{const lr=cr||rr.error;lr&&(typeof lr=="object"&&Object.keys(lr).includes("stack")===!1&&(lr.stack="Stack trace is not available."),rr.error=serializeError$2(lr,{shouldIncludeStack:!0,fallbackError:{message:lr?.message||lr?.toString(),code:lr?.code||-32603,stack:lr?.stack||"Stack trace is not available.",data:lr?.data||lr?.message||lr?.toString()}})),or([lr,!0])},ar=cr=>{rr.error?sr(rr.error):(cr&&(typeof cr!="function"&&sr(new SerializableError({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),ir.push(cr)),or([null,!1]))};try{nr(er,rr,ar,sr)}catch(cr){sr(cr)}})}static async _runReturnHandlers(er){for(const rr of er)await new Promise((nr,ir)=>{rr(or=>or?ir(or):nr())})}static _checkForCompletion(er,rr,nr){if(!("result"in rr)&&!("error"in rr))throw new SerializableError({code:-32603,message:"Response has no error or result for request"});if(!nr)throw new SerializableError({code:-32603,message:"Nothing ended request"})}push(er){this._middleware.push(er)}handle(er,rr){if(rr&&typeof rr!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(er)?rr?this._handleBatch(er,rr):this._handleBatch(er):rr?this._handle(er,rr):this._promiseHandle(er)}asMiddleware(){return async(er,rr,nr,ir)=>{try{const[or,sr,ar]=await JRPCEngine._runAllMiddleware(er,rr,this._middleware);return sr?(await JRPCEngine._runReturnHandlers(ar),ir(or)):nr(async cr=>{try{await JRPCEngine._runReturnHandlers(ar)}catch(lr){return cr(lr)}return cr()})}catch(or){return ir(or)}}}async _handleBatch(er,rr){try{const nr=await Promise.all(er.map(this._promiseHandle.bind(this)));return rr?rr(null,nr):nr}catch(nr){if(rr)return rr(nr);throw nr}}_promiseHandle(er){return new Promise((rr,nr)=>{this._handle(er,(ir,or)=>{ir&&or===void 0?nr(ir):rr(or)}).catch(nr)})}async _handle(er,rr){if(!er||Array.isArray(er)||typeof er!="object"){const gr=new SerializableError({code:-32603,message:"request must be plain object"});return rr(gr,{id:void 0,jsonrpc:"2.0",error:gr})}if(typeof er.method!="string"){const gr=new SerializableError({code:-32603,message:"method must be string"});return rr(gr,{id:er.id,jsonrpc:"2.0",error:gr})}const nr=_objectSpread2({},er),ir={id:nr.id,jsonrpc:nr.jsonrpc};let or=null;try{await this._processRequest(nr,ir)}catch(gr){or=gr}if(or&&(delete ir.result,!ir.error)){var sr,ar,cr,lr,ur,fr,dr;typeof or=="object"&&Object.keys(or).includes("stack")===!1&&(or.stack="Stack trace is not available."),ir.error=serializeError$2(or,{shouldIncludeStack:!0,fallbackError:{message:((sr=or)===null||sr===void 0?void 0:sr.message)||((ar=or)===null||ar===void 0?void 0:ar.toString()),code:((cr=or)===null||cr===void 0?void 0:cr.code)||-32603,stack:((lr=or)===null||lr===void 0?void 0:lr.stack)||"Stack trace is not available.",data:((ur=or)===null||ur===void 0?void 0:ur.data)||((fr=or)===null||fr===void 0?void 0:fr.message)||((dr=or)===null||dr===void 0?void 0:dr.toString())}})}return rr(or,ir)}async _processRequest(er,rr){const[nr,ir,or]=await JRPCEngine._runAllMiddleware(er,rr,this._middleware);if(JRPCEngine._checkForCompletion(er,rr,ir),await JRPCEngine._runReturnHandlers(or),nr)throw nr}}function mergeMiddleware(tr){const er=new JRPCEngine;return tr.forEach(rr=>er.push(rr)),er.asMiddleware()}function providerFromEngine(tr){const er=new SafeEventEmitter;return er.sendAsync=async rr=>{const nr=await tr.handle(rr);if(nr.error){var ir,or,sr,ar,cr,lr,ur;typeof nr.error=="object"&&Object.keys(nr.error).includes("stack")===!1&&(nr.error.stack="Stack trace is not available.");const fr=serializeError$2(nr.error,{fallbackError:{message:((ir=nr.error)===null||ir===void 0?void 0:ir.message)||((or=nr.error)===null||or===void 0?void 0:or.toString()),code:((sr=nr.error)===null||sr===void 0?void 0:sr.code)||-32603,stack:((ar=nr.error)===null||ar===void 0?void 0:ar.stack)||"Stack trace is not available.",data:((cr=nr.error)===null||cr===void 0?void 0:cr.data)||((lr=nr.error)===null||lr===void 0?void 0:lr.message)||((ur=nr.error)===null||ur===void 0?void 0:ur.toString())},shouldIncludeStack:!0});throw rpcErrors.internal(fr)}return nr.result},er.send=(rr,nr)=>{if(typeof nr!="function")throw new Error('Must provide callback to "send" method.');tr.handle(rr,nr)},tr.on&&tr.on("notification",rr=>{er.emit("data",null,rr)}),er.request=async rr=>{const nr=_objectSpread2(_objectSpread2({},rr),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await er.sendAsync(nr)},er}class Substream extends browserExports$1.Duplex{constructor(er){let{parent:rr,name:nr}=er;super({objectMode:!0}),_defineProperty(this,"_parent",void 0),_defineProperty(this,"_name",void 0),this._parent=rr,this._name=nr}_read(){}_write(er,rr,nr){this._parent.push({name:this._name,data:er}),nr()}}const IGNORE_SUBSTREAM=Symbol("IGNORE_SUBSTREAM");class ObjectMultiplex extends browserExports$1.Duplex{constructor(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(_objectSpread2(_objectSpread2({},er),{},{objectMode:!0})),_defineProperty(this,"_substreams",void 0),_defineProperty(this,"getStream",void 0),this._substreams={}}createStream(er){if(!er)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[er])throw new Error(`ObjectMultiplex - Substream for name "${er}" already exists`);const rr=new Substream({parent:this,name:er});return this._substreams[er]=rr,anyStreamEnd(this,nr=>rr.destroy(nr||void 0)),rr}ignoreStream(er){if(!er)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[er])throw new Error(`ObjectMultiplex - Substream for name "${er}" already exists`);this._substreams[er]=IGNORE_SUBSTREAM}_read(){}_write(er,rr,nr){const{name:ir,data:or}=er;if(!ir)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${er}"`),nr();const sr=this._substreams[ir];return sr?(sr!==IGNORE_SUBSTREAM&&sr.push(or),nr()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${ir}"`),nr())}}function anyStreamEnd(tr,er){const rr=once$5(er);eos$4(tr,{readable:!1},rr),eos$4(tr,{writable:!1},rr)}var base64url$3={exports:{}},base64url$2={},padString$1={};Object.defineProperty(padString$1,"__esModule",{value:!0});function padString(tr){var er=4,rr=tr.length,nr=rr%er;if(!nr)return tr;var ir=rr,or=er-nr,sr=rr+or,ar=Buffer.alloc(sr);for(ar.write(tr);or--;)ar.write("=",ir++);return ar.toString()}padString$1.default=padString;Object.defineProperty(base64url$2,"__esModule",{value:!0});var pad_string_1=padString$1;function encode$4(tr,er){return er===void 0&&(er="utf8"),Buffer.isBuffer(tr)?fromBase64(tr.toString("base64")):fromBase64(Buffer.from(tr,er).toString("base64"))}function decode$4(tr,er){return er===void 0&&(er="utf8"),Buffer.from(toBase64(tr),"base64").toString(er)}function toBase64(tr){return tr=tr.toString(),pad_string_1.default(tr).replace(/\-/g,"+").replace(/_/g,"/")}function fromBase64(tr){return tr.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toBuffer$1(tr){return Buffer.from(toBase64(tr),"base64")}var base64url$1=encode$4;base64url$1.encode=encode$4;base64url$1.decode=decode$4;base64url$1.toBase64=toBase64;base64url$1.fromBase64=fromBase64;base64url$1.toBuffer=toBuffer$1;base64url$2.default=base64url$1;(function(tr){tr.exports=base64url$2.default,tr.exports.default=tr.exports})(base64url$3);var base64urlExports=base64url$3.exports;const base64urlLib=getDefaultExportFromCjs(base64urlExports),TORUS_LEGACY_NETWORK={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},TORUS_SAPPHIRE_NETWORK={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};TORUS_LEGACY_NETWORK.MAINNET+"",TORUS_LEGACY_NETWORK.TESTNET+"",TORUS_LEGACY_NETWORK.CYAN+"",TORUS_LEGACY_NETWORK.AQUA+"",TORUS_LEGACY_NETWORK.CELESTE+"";TORUS_LEGACY_NETWORK.AQUA+"",TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET,TORUS_LEGACY_NETWORK.CELESTE+"",TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET,TORUS_LEGACY_NETWORK.CYAN+"",TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET,TORUS_LEGACY_NETWORK.MAINNET+"",TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET,TORUS_LEGACY_NETWORK.TESTNET+"",TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET;TORUS_LEGACY_NETWORK.MAINNET+"",TORUS_LEGACY_NETWORK.TESTNET+"",TORUS_LEGACY_NETWORK.CYAN+"",TORUS_LEGACY_NETWORK.AQUA+"",TORUS_LEGACY_NETWORK.CELESTE+"";const SIGNER_MAP={[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_MAINNET]:"https://signer.web3auth.io",[TORUS_SAPPHIRE_NETWORK.SAPPHIRE_DEVNET]:"https://signer.web3auth.io",[TORUS_LEGACY_NETWORK.MAINNET]:"https://signer.web3auth.io",[TORUS_LEGACY_NETWORK.TESTNET]:"https://signer.web3auth.io",[TORUS_LEGACY_NETWORK.CYAN]:"https://signer-polygon.web3auth.io",[TORUS_LEGACY_NETWORK.AQUA]:"https://signer-polygon.web3auth.io",[TORUS_LEGACY_NETWORK.CELESTE]:"https://signer-polygon.web3auth.io"};TORUS_LEGACY_NETWORK.MAINNET+"",TORUS_LEGACY_NETWORK.TESTNET+"",TORUS_LEGACY_NETWORK.CYAN+"",TORUS_LEGACY_NETWORK.AQUA+"",TORUS_LEGACY_NETWORK.CELESTE+"";const SESSION_SERVER="https://session.web3auth.io";var colorString$1={exports:{}},colorName$1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function tr(er){return!er||typeof er=="string"?!1:er instanceof Array||Array.isArray(er)||er.length>=0&&(er.splice instanceof Function||Object.getOwnPropertyDescriptor(er,er.length-1)&&er.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice$1=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function tr(er){for(var rr=[],nr=0,ir=er.length;nr<ir;nr++){var or=er[nr];isArrayish(or)?rr=concat.call(rr,slice$1.call(or)):rr.push(or)}return rr};swizzle$1.wrap=function(tr){return function(){return tr(swizzle$1(arguments))}};var simpleSwizzleExports=simpleSwizzle.exports,colorNames=colorName$1,swizzle=simpleSwizzleExports,hasOwnProperty$2=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty$2.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(tr){var er=tr.substring(0,3).toLowerCase(),rr,nr;switch(er){case"hsl":rr=cs.get.hsl(tr),nr="hsl";break;case"hwb":rr=cs.get.hwb(tr),nr="hwb";break;default:rr=cs.get.rgb(tr),nr="rgb";break}return rr?{model:nr,value:rr}:null};cs.get.rgb=function(tr){if(!tr)return null;var er=/^#([a-f0-9]{3,4})$/i,rr=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,nr=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,ir=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,or=/^(\w+)$/,sr=[0,0,0,1],ar,cr,lr;if(ar=tr.match(rr)){for(lr=ar[2],ar=ar[1],cr=0;cr<3;cr++){var ur=cr*2;sr[cr]=parseInt(ar.slice(ur,ur+2),16)}lr&&(sr[3]=parseInt(lr,16)/255)}else if(ar=tr.match(er)){for(ar=ar[1],lr=ar[3],cr=0;cr<3;cr++)sr[cr]=parseInt(ar[cr]+ar[cr],16);lr&&(sr[3]=parseInt(lr+lr,16)/255)}else if(ar=tr.match(nr)){for(cr=0;cr<3;cr++)sr[cr]=parseInt(ar[cr+1],0);ar[4]&&(ar[5]?sr[3]=parseFloat(ar[4])*.01:sr[3]=parseFloat(ar[4]))}else if(ar=tr.match(ir)){for(cr=0;cr<3;cr++)sr[cr]=Math.round(parseFloat(ar[cr+1])*2.55);ar[4]&&(ar[5]?sr[3]=parseFloat(ar[4])*.01:sr[3]=parseFloat(ar[4]))}else return(ar=tr.match(or))?ar[1]==="transparent"?[0,0,0,0]:hasOwnProperty$2.call(colorNames,ar[1])?(sr=colorNames[ar[1]],sr[3]=1,sr):null:null;for(cr=0;cr<3;cr++)sr[cr]=clamp(sr[cr],0,255);return sr[3]=clamp(sr[3],0,1),sr};cs.get.hsl=function(tr){if(!tr)return null;var er=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,rr=tr.match(er);if(rr){var nr=parseFloat(rr[4]),ir=(parseFloat(rr[1])%360+360)%360,or=clamp(parseFloat(rr[2]),0,100),sr=clamp(parseFloat(rr[3]),0,100),ar=clamp(isNaN(nr)?1:nr,0,1);return[ir,or,sr,ar]}return null};cs.get.hwb=function(tr){if(!tr)return null;var er=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,rr=tr.match(er);if(rr){var nr=parseFloat(rr[4]),ir=(parseFloat(rr[1])%360+360)%360,or=clamp(parseFloat(rr[2]),0,100),sr=clamp(parseFloat(rr[3]),0,100),ar=clamp(isNaN(nr)?1:nr,0,1);return[ir,or,sr,ar]}return null};cs.to.hex=function(){var tr=swizzle(arguments);return"#"+hexDouble(tr[0])+hexDouble(tr[1])+hexDouble(tr[2])+(tr[3]<1?hexDouble(Math.round(tr[3]*255)):"")};cs.to.rgb=function(){var tr=swizzle(arguments);return tr.length<4||tr[3]===1?"rgb("+Math.round(tr[0])+", "+Math.round(tr[1])+", "+Math.round(tr[2])+")":"rgba("+Math.round(tr[0])+", "+Math.round(tr[1])+", "+Math.round(tr[2])+", "+tr[3]+")"};cs.to.rgb.percent=function(){var tr=swizzle(arguments),er=Math.round(tr[0]/255*100),rr=Math.round(tr[1]/255*100),nr=Math.round(tr[2]/255*100);return tr.length<4||tr[3]===1?"rgb("+er+"%, "+rr+"%, "+nr+"%)":"rgba("+er+"%, "+rr+"%, "+nr+"%, "+tr[3]+")"};cs.to.hsl=function(){var tr=swizzle(arguments);return tr.length<4||tr[3]===1?"hsl("+tr[0]+", "+tr[1]+"%, "+tr[2]+"%)":"hsla("+tr[0]+", "+tr[1]+"%, "+tr[2]+"%, "+tr[3]+")"};cs.to.hwb=function(){var tr=swizzle(arguments),er="";return tr.length>=4&&tr[3]!==1&&(er=", "+tr[3]),"hwb("+tr[0]+", "+tr[1]+"%, "+tr[2]+"%"+er+")"};cs.to.keyword=function(tr){return reverseNames[tr.slice(0,3)]};function clamp(tr,er,rr){return Math.min(Math.max(er,tr),rr)}function hexDouble(tr){var er=Math.round(tr).toString(16).toUpperCase();return er.length<2?"0"+er:er}var colorStringExports=colorString$1.exports,colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const cssKeywords=colorName,reverseKeywords={};for(const tr of Object.keys(cssKeywords))reverseKeywords[cssKeywords[tr]]=tr;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const tr of Object.keys(convert$2)){if(!("channels"in convert$2[tr]))throw new Error("missing channels property: "+tr);if(!("labels"in convert$2[tr]))throw new Error("missing channel labels property: "+tr);if(convert$2[tr].labels.length!==convert$2[tr].channels)throw new Error("channel and label counts mismatch: "+tr);const{channels:er,labels:rr}=convert$2[tr];delete convert$2[tr].channels,delete convert$2[tr].labels,Object.defineProperty(convert$2[tr],"channels",{value:er}),Object.defineProperty(convert$2[tr],"labels",{value:rr})}convert$2.rgb.hsl=function(tr){const er=tr[0]/255,rr=tr[1]/255,nr=tr[2]/255,ir=Math.min(er,rr,nr),or=Math.max(er,rr,nr),sr=or-ir;let ar,cr;or===ir?ar=0:er===or?ar=(rr-nr)/sr:rr===or?ar=2+(nr-er)/sr:nr===or&&(ar=4+(er-rr)/sr),ar=Math.min(ar*60,360),ar<0&&(ar+=360);const lr=(ir+or)/2;return or===ir?cr=0:lr<=.5?cr=sr/(or+ir):cr=sr/(2-or-ir),[ar,cr*100,lr*100]};convert$2.rgb.hsv=function(tr){let er,rr,nr,ir,or;const sr=tr[0]/255,ar=tr[1]/255,cr=tr[2]/255,lr=Math.max(sr,ar,cr),ur=lr-Math.min(sr,ar,cr),fr=function(dr){return(lr-dr)/6/ur+1/2};return ur===0?(ir=0,or=0):(or=ur/lr,er=fr(sr),rr=fr(ar),nr=fr(cr),sr===lr?ir=nr-rr:ar===lr?ir=1/3+er-nr:cr===lr&&(ir=2/3+rr-er),ir<0?ir+=1:ir>1&&(ir-=1)),[ir*360,or*100,lr*100]};convert$2.rgb.hwb=function(tr){const er=tr[0],rr=tr[1];let nr=tr[2];const ir=convert$2.rgb.hsl(tr)[0],or=1/255*Math.min(er,Math.min(rr,nr));return nr=1-1/255*Math.max(er,Math.max(rr,nr)),[ir,or*100,nr*100]};convert$2.rgb.cmyk=function(tr){const er=tr[0]/255,rr=tr[1]/255,nr=tr[2]/255,ir=Math.min(1-er,1-rr,1-nr),or=(1-er-ir)/(1-ir)||0,sr=(1-rr-ir)/(1-ir)||0,ar=(1-nr-ir)/(1-ir)||0;return[or*100,sr*100,ar*100,ir*100]};function comparativeDistance(tr,er){return(tr[0]-er[0])**2+(tr[1]-er[1])**2+(tr[2]-er[2])**2}convert$2.rgb.keyword=function(tr){const er=reverseKeywords[tr];if(er)return er;let rr=1/0,nr;for(const ir of Object.keys(cssKeywords)){const or=cssKeywords[ir],sr=comparativeDistance(tr,or);sr<rr&&(rr=sr,nr=ir)}return nr};convert$2.keyword.rgb=function(tr){return cssKeywords[tr]};convert$2.rgb.xyz=function(tr){let er=tr[0]/255,rr=tr[1]/255,nr=tr[2]/255;er=er>.04045?((er+.055)/1.055)**2.4:er/12.92,rr=rr>.04045?((rr+.055)/1.055)**2.4:rr/12.92,nr=nr>.04045?((nr+.055)/1.055)**2.4:nr/12.92;const ir=er*.4124+rr*.3576+nr*.1805,or=er*.2126+rr*.7152+nr*.0722,sr=er*.0193+rr*.1192+nr*.9505;return[ir*100,or*100,sr*100]};convert$2.rgb.lab=function(tr){const er=convert$2.rgb.xyz(tr);let rr=er[0],nr=er[1],ir=er[2];rr/=95.047,nr/=100,ir/=108.883,rr=rr>.008856?rr**(1/3):7.787*rr+16/116,nr=nr>.008856?nr**(1/3):7.787*nr+16/116,ir=ir>.008856?ir**(1/3):7.787*ir+16/116;const or=116*nr-16,sr=500*(rr-nr),ar=200*(nr-ir);return[or,sr,ar]};convert$2.hsl.rgb=function(tr){const er=tr[0]/360,rr=tr[1]/100,nr=tr[2]/100;let ir,or,sr;if(rr===0)return sr=nr*255,[sr,sr,sr];nr<.5?ir=nr*(1+rr):ir=nr+rr-nr*rr;const ar=2*nr-ir,cr=[0,0,0];for(let lr=0;lr<3;lr++)or=er+1/3*-(lr-1),or<0&&or++,or>1&&or--,6*or<1?sr=ar+(ir-ar)*6*or:2*or<1?sr=ir:3*or<2?sr=ar+(ir-ar)*(2/3-or)*6:sr=ar,cr[lr]=sr*255;return cr};convert$2.hsl.hsv=function(tr){const er=tr[0];let rr=tr[1]/100,nr=tr[2]/100,ir=rr;const or=Math.max(nr,.01);nr*=2,rr*=nr<=1?nr:2-nr,ir*=or<=1?or:2-or;const sr=(nr+rr)/2,ar=nr===0?2*ir/(or+ir):2*rr/(nr+rr);return[er,ar*100,sr*100]};convert$2.hsv.rgb=function(tr){const er=tr[0]/60,rr=tr[1]/100;let nr=tr[2]/100;const ir=Math.floor(er)%6,or=er-Math.floor(er),sr=255*nr*(1-rr),ar=255*nr*(1-rr*or),cr=255*nr*(1-rr*(1-or));switch(nr*=255,ir){case 0:return[nr,cr,sr];case 1:return[ar,nr,sr];case 2:return[sr,nr,cr];case 3:return[sr,ar,nr];case 4:return[cr,sr,nr];case 5:return[nr,sr,ar]}};convert$2.hsv.hsl=function(tr){const er=tr[0],rr=tr[1]/100,nr=tr[2]/100,ir=Math.max(nr,.01);let or,sr;sr=(2-rr)*nr;const ar=(2-rr)*ir;return or=rr*ir,or/=ar<=1?ar:2-ar,or=or||0,sr/=2,[er,or*100,sr*100]};convert$2.hwb.rgb=function(tr){const er=tr[0]/360;let rr=tr[1]/100,nr=tr[2]/100;const ir=rr+nr;let or;ir>1&&(rr/=ir,nr/=ir);const sr=Math.floor(6*er),ar=1-nr;or=6*er-sr,sr&1&&(or=1-or);const cr=rr+or*(ar-rr);let lr,ur,fr;switch(sr){default:case 6:case 0:lr=ar,ur=cr,fr=rr;break;case 1:lr=cr,ur=ar,fr=rr;break;case 2:lr=rr,ur=ar,fr=cr;break;case 3:lr=rr,ur=cr,fr=ar;break;case 4:lr=cr,ur=rr,fr=ar;break;case 5:lr=ar,ur=rr,fr=cr;break}return[lr*255,ur*255,fr*255]};convert$2.cmyk.rgb=function(tr){const er=tr[0]/100,rr=tr[1]/100,nr=tr[2]/100,ir=tr[3]/100,or=1-Math.min(1,er*(1-ir)+ir),sr=1-Math.min(1,rr*(1-ir)+ir),ar=1-Math.min(1,nr*(1-ir)+ir);return[or*255,sr*255,ar*255]};convert$2.xyz.rgb=function(tr){const er=tr[0]/100,rr=tr[1]/100,nr=tr[2]/100;let ir,or,sr;return ir=er*3.2406+rr*-1.5372+nr*-.4986,or=er*-.9689+rr*1.8758+nr*.0415,sr=er*.0557+rr*-.204+nr*1.057,ir=ir>.0031308?1.055*ir**(1/2.4)-.055:ir*12.92,or=or>.0031308?1.055*or**(1/2.4)-.055:or*12.92,sr=sr>.0031308?1.055*sr**(1/2.4)-.055:sr*12.92,ir=Math.min(Math.max(0,ir),1),or=Math.min(Math.max(0,or),1),sr=Math.min(Math.max(0,sr),1),[ir*255,or*255,sr*255]};convert$2.xyz.lab=function(tr){let er=tr[0],rr=tr[1],nr=tr[2];er/=95.047,rr/=100,nr/=108.883,er=er>.008856?er**(1/3):7.787*er+16/116,rr=rr>.008856?rr**(1/3):7.787*rr+16/116,nr=nr>.008856?nr**(1/3):7.787*nr+16/116;const ir=116*rr-16,or=500*(er-rr),sr=200*(rr-nr);return[ir,or,sr]};convert$2.lab.xyz=function(tr){const er=tr[0],rr=tr[1],nr=tr[2];let ir,or,sr;or=(er+16)/116,ir=rr/500+or,sr=or-nr/200;const ar=or**3,cr=ir**3,lr=sr**3;return or=ar>.008856?ar:(or-16/116)/7.787,ir=cr>.008856?cr:(ir-16/116)/7.787,sr=lr>.008856?lr:(sr-16/116)/7.787,ir*=95.047,or*=100,sr*=108.883,[ir,or,sr]};convert$2.lab.lch=function(tr){const er=tr[0],rr=tr[1],nr=tr[2];let ir;ir=Math.atan2(nr,rr)*360/2/Math.PI,ir<0&&(ir+=360);const sr=Math.sqrt(rr*rr+nr*nr);return[er,sr,ir]};convert$2.lch.lab=function(tr){const er=tr[0],rr=tr[1],ir=tr[2]/360*2*Math.PI,or=rr*Math.cos(ir),sr=rr*Math.sin(ir);return[er,or,sr]};convert$2.rgb.ansi16=function(tr,er=null){const[rr,nr,ir]=tr;let or=er===null?convert$2.rgb.hsv(tr)[2]:er;if(or=Math.round(or/50),or===0)return 30;let sr=30+(Math.round(ir/255)<<2|Math.round(nr/255)<<1|Math.round(rr/255));return or===2&&(sr+=60),sr};convert$2.hsv.ansi16=function(tr){return convert$2.rgb.ansi16(convert$2.hsv.rgb(tr),tr[2])};convert$2.rgb.ansi256=function(tr){const er=tr[0],rr=tr[1],nr=tr[2];return er===rr&&rr===nr?er<8?16:er>248?231:Math.round((er-8)/247*24)+232:16+36*Math.round(er/255*5)+6*Math.round(rr/255*5)+Math.round(nr/255*5)};convert$2.ansi16.rgb=function(tr){let er=tr%10;if(er===0||er===7)return tr>50&&(er+=3.5),er=er/10.5*255,[er,er,er];const rr=(~~(tr>50)+1)*.5,nr=(er&1)*rr*255,ir=(er>>1&1)*rr*255,or=(er>>2&1)*rr*255;return[nr,ir,or]};convert$2.ansi256.rgb=function(tr){if(tr>=232){const or=(tr-232)*10+8;return[or,or,or]}tr-=16;let er;const rr=Math.floor(tr/36)/5*255,nr=Math.floor((er=tr%36)/6)/5*255,ir=er%6/5*255;return[rr,nr,ir]};convert$2.rgb.hex=function(tr){const rr=(((Math.round(tr[0])&255)<<16)+((Math.round(tr[1])&255)<<8)+(Math.round(tr[2])&255)).toString(16).toUpperCase();return"000000".substring(rr.length)+rr};convert$2.hex.rgb=function(tr){const er=tr.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!er)return[0,0,0];let rr=er[0];er[0].length===3&&(rr=rr.split("").map(ar=>ar+ar).join(""));const nr=parseInt(rr,16),ir=nr>>16&255,or=nr>>8&255,sr=nr&255;return[ir,or,sr]};convert$2.rgb.hcg=function(tr){const er=tr[0]/255,rr=tr[1]/255,nr=tr[2]/255,ir=Math.max(Math.max(er,rr),nr),or=Math.min(Math.min(er,rr),nr),sr=ir-or;let ar,cr;return sr<1?ar=or/(1-sr):ar=0,sr<=0?cr=0:ir===er?cr=(rr-nr)/sr%6:ir===rr?cr=2+(nr-er)/sr:cr=4+(er-rr)/sr,cr/=6,cr%=1,[cr*360,sr*100,ar*100]};convert$2.hsl.hcg=function(tr){const er=tr[1]/100,rr=tr[2]/100,nr=rr<.5?2*er*rr:2*er*(1-rr);let ir=0;return nr<1&&(ir=(rr-.5*nr)/(1-nr)),[tr[0],nr*100,ir*100]};convert$2.hsv.hcg=function(tr){const er=tr[1]/100,rr=tr[2]/100,nr=er*rr;let ir=0;return nr<1&&(ir=(rr-nr)/(1-nr)),[tr[0],nr*100,ir*100]};convert$2.hcg.rgb=function(tr){const er=tr[0]/360,rr=tr[1]/100,nr=tr[2]/100;if(rr===0)return[nr*255,nr*255,nr*255];const ir=[0,0,0],or=er%1*6,sr=or%1,ar=1-sr;let cr=0;switch(Math.floor(or)){case 0:ir[0]=1,ir[1]=sr,ir[2]=0;break;case 1:ir[0]=ar,ir[1]=1,ir[2]=0;break;case 2:ir[0]=0,ir[1]=1,ir[2]=sr;break;case 3:ir[0]=0,ir[1]=ar,ir[2]=1;break;case 4:ir[0]=sr,ir[1]=0,ir[2]=1;break;default:ir[0]=1,ir[1]=0,ir[2]=ar}return cr=(1-rr)*nr,[(rr*ir[0]+cr)*255,(rr*ir[1]+cr)*255,(rr*ir[2]+cr)*255]};convert$2.hcg.hsv=function(tr){const er=tr[1]/100,rr=tr[2]/100,nr=er+rr*(1-er);let ir=0;return nr>0&&(ir=er/nr),[tr[0],ir*100,nr*100]};convert$2.hcg.hsl=function(tr){const er=tr[1]/100,nr=tr[2]/100*(1-er)+.5*er;let ir=0;return nr>0&&nr<.5?ir=er/(2*nr):nr>=.5&&nr<1&&(ir=er/(2*(1-nr))),[tr[0],ir*100,nr*100]};convert$2.hcg.hwb=function(tr){const er=tr[1]/100,rr=tr[2]/100,nr=er+rr*(1-er);return[tr[0],(nr-er)*100,(1-nr)*100]};convert$2.hwb.hcg=function(tr){const er=tr[1]/100,nr=1-tr[2]/100,ir=nr-er;let or=0;return ir<1&&(or=(nr-ir)/(1-ir)),[tr[0],ir*100,or*100]};convert$2.apple.rgb=function(tr){return[tr[0]/65535*255,tr[1]/65535*255,tr[2]/65535*255]};convert$2.rgb.apple=function(tr){return[tr[0]/255*65535,tr[1]/255*65535,tr[2]/255*65535]};convert$2.gray.rgb=function(tr){return[tr[0]/100*255,tr[0]/100*255,tr[0]/100*255]};convert$2.gray.hsl=function(tr){return[0,0,tr[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(tr){return[0,100,tr[0]]};convert$2.gray.cmyk=function(tr){return[0,0,0,tr[0]]};convert$2.gray.lab=function(tr){return[tr[0],0,0]};convert$2.gray.hex=function(tr){const er=Math.round(tr[0]/100*255)&255,nr=((er<<16)+(er<<8)+er).toString(16).toUpperCase();return"000000".substring(nr.length)+nr};convert$2.rgb.gray=function(tr){return[(tr[0]+tr[1]+tr[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const tr={},er=Object.keys(conversions$1);for(let rr=er.length,nr=0;nr<rr;nr++)tr[er[nr]]={distance:-1,parent:null};return tr}function deriveBFS(tr){const er=buildGraph(),rr=[tr];for(er[tr].distance=0;rr.length;){const nr=rr.pop(),ir=Object.keys(conversions$1[nr]);for(let or=ir.length,sr=0;sr<or;sr++){const ar=ir[sr],cr=er[ar];cr.distance===-1&&(cr.distance=er[nr].distance+1,cr.parent=nr,rr.unshift(ar))}}return er}function link(tr,er){return function(rr){return er(tr(rr))}}function wrapConversion(tr,er){const rr=[er[tr].parent,tr];let nr=conversions$1[er[tr].parent][tr],ir=er[tr].parent;for(;er[ir].parent;)rr.unshift(er[ir].parent),nr=link(conversions$1[er[ir].parent][ir],nr),ir=er[ir].parent;return nr.conversion=rr,nr}var route$1=function(tr){const er=deriveBFS(tr),rr={},nr=Object.keys(er);for(let ir=nr.length,or=0;or<ir;or++){const sr=nr[or];er[sr].parent!==null&&(rr[sr]=wrapConversion(sr,er))}return rr};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(tr){const er=function(...rr){const nr=rr[0];return nr==null?nr:(nr.length>1&&(rr=nr),tr(rr))};return"conversion"in tr&&(er.conversion=tr.conversion),er}function wrapRounded(tr){const er=function(...rr){const nr=rr[0];if(nr==null)return nr;nr.length>1&&(rr=nr);const ir=tr(rr);if(typeof ir=="object")for(let or=ir.length,sr=0;sr<or;sr++)ir[sr]=Math.round(ir[sr]);return ir};return"conversion"in tr&&(er.conversion=tr.conversion),er}models.forEach(tr=>{convert$1[tr]={},Object.defineProperty(convert$1[tr],"channels",{value:conversions[tr].channels}),Object.defineProperty(convert$1[tr],"labels",{value:conversions[tr].labels});const er=route(tr);Object.keys(er).forEach(nr=>{const ir=er[nr];convert$1[tr][nr]=wrapRounded(ir),convert$1[tr][nr].raw=wrapRaw(ir)})});var colorConvert=convert$1;const colorString=colorStringExports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const tr of Object.keys(convert))hashedModelKeys[[...convert[tr].labels].sort().join("")]=tr;const limiters={};function Color(tr,er){if(!(this instanceof Color))return new Color(tr,er);if(er&&er in skippedModels&&(er=null),er&&!(er in convert))throw new Error("Unknown model: "+er);let rr,nr;if(tr==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(tr instanceof Color)this.model=tr.model,this.color=[...tr.color],this.valpha=tr.valpha;else if(typeof tr=="string"){const ir=colorString.get(tr);if(ir===null)throw new Error("Unable to parse color from string: "+tr);this.model=ir.model,nr=convert[this.model].channels,this.color=ir.value.slice(0,nr),this.valpha=typeof ir.value[nr]=="number"?ir.value[nr]:1}else if(tr.length>0){this.model=er||"rgb",nr=convert[this.model].channels;const ir=Array.prototype.slice.call(tr,0,nr);this.color=zeroArray(ir,nr),this.valpha=typeof tr[nr]=="number"?tr[nr]:1}else if(typeof tr=="number")this.model="rgb",this.color=[tr>>16&255,tr>>8&255,tr&255],this.valpha=1;else{this.valpha=1;const ir=Object.keys(tr);"alpha"in tr&&(ir.splice(ir.indexOf("alpha"),1),this.valpha=typeof tr.alpha=="number"?tr.alpha:0);const or=ir.sort().join("");if(!(or in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(tr));this.model=hashedModelKeys[or];const{labels:sr}=convert[this.model],ar=[];for(rr=0;rr<sr.length;rr++)ar.push(tr[sr[rr]]);this.color=zeroArray(ar)}if(limiters[this.model])for(nr=convert[this.model].channels,rr=0;rr<nr;rr++){const ir=limiters[this.model][rr];ir&&(this.color[rr]=ir(this.color[rr]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(tr){let er=this.model in colorString.to?this:this.rgb();er=er.round(typeof tr=="number"?tr:1);const rr=er.valpha===1?er.color:[...er.color,this.valpha];return colorString.to[er.model](rr)},percentString(tr){const er=this.rgb().round(typeof tr=="number"?tr:1),rr=er.valpha===1?er.color:[...er.color,this.valpha];return colorString.to.rgb.percent(rr)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const tr={},{channels:er}=convert[this.model],{labels:rr}=convert[this.model];for(let nr=0;nr<er;nr++)tr[rr[nr]]=this.color[nr];return this.valpha!==1&&(tr.alpha=this.valpha),tr},unitArray(){const tr=this.rgb().color;return tr[0]/=255,tr[1]/=255,tr[2]/=255,this.valpha!==1&&tr.push(this.valpha),tr},unitObject(){const tr=this.rgb().object();return tr.r/=255,tr.g/=255,tr.b/=255,this.valpha!==1&&(tr.alpha=this.valpha),tr},round(tr){return tr=Math.max(tr||0,0),new Color([...this.color.map(roundToPlace(tr)),this.valpha],this.model)},alpha(tr){return tr!==void 0?new Color([...this.color,Math.max(0,Math.min(1,tr))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,tr=>(tr%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(tr){return tr!==void 0?new Color(tr):convert[this.model].keyword(this.color)},hex(tr){return tr!==void 0?new Color(tr):colorString.to.hex(this.rgb().round().color)},hexa(tr){if(tr!==void 0)return new Color(tr);const er=this.rgb().round().color;let rr=Math.round(this.valpha*255).toString(16).toUpperCase();return rr.length===1&&(rr="0"+rr),colorString.to.hex(er)+rr},rgbNumber(){const tr=this.rgb().color;return(tr[0]&255)<<16|(tr[1]&255)<<8|tr[2]&255},luminosity(){const tr=this.rgb().color,er=[];for(const[rr,nr]of tr.entries()){const ir=nr/255;er[rr]=ir<=.04045?ir/12.92:((ir+.055)/1.055)**2.4}return .2126*er[0]+.7152*er[1]+.0722*er[2]},contrast(tr){const er=this.luminosity(),rr=tr.luminosity();return er>rr?(er+.05)/(rr+.05):(rr+.05)/(er+.05)},level(tr){const er=this.contrast(tr);return er>=7?"AAA":er>=4.5?"AA":""},isDark(){const tr=this.rgb().color;return(tr[0]*2126+tr[1]*7152+tr[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const tr=this.rgb();for(let er=0;er<3;er++)tr.color[er]=255-tr.color[er];return tr},lighten(tr){const er=this.hsl();return er.color[2]+=er.color[2]*tr,er},darken(tr){const er=this.hsl();return er.color[2]-=er.color[2]*tr,er},saturate(tr){const er=this.hsl();return er.color[1]+=er.color[1]*tr,er},desaturate(tr){const er=this.hsl();return er.color[1]-=er.color[1]*tr,er},whiten(tr){const er=this.hwb();return er.color[1]+=er.color[1]*tr,er},blacken(tr){const er=this.hwb();return er.color[2]+=er.color[2]*tr,er},grayscale(){const tr=this.rgb().color,er=tr[0]*.3+tr[1]*.59+tr[2]*.11;return Color.rgb(er,er,er)},fade(tr){return this.alpha(this.valpha-this.valpha*tr)},opaquer(tr){return this.alpha(this.valpha+this.valpha*tr)},rotate(tr){const er=this.hsl();let rr=er.color[0];return rr=(rr+tr)%360,rr=rr<0?360+rr:rr,er.color[0]=rr,er},mix(tr,er){if(!tr||!tr.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof tr);const rr=tr.rgb(),nr=this.rgb(),ir=er===void 0?.5:er,or=2*ir-1,sr=rr.alpha()-nr.alpha(),ar=((or*sr===-1?or:(or+sr)/(1+or*sr))+1)/2,cr=1-ar;return Color.rgb(ar*rr.red()+cr*nr.red(),ar*rr.green()+cr*nr.green(),ar*rr.blue()+cr*nr.blue(),rr.alpha()*ir+nr.alpha()*(1-ir))}};for(const tr of Object.keys(convert)){if(skippedModels.includes(tr))continue;const{channels:er}=convert[tr];Color.prototype[tr]=function(...rr){return this.model===tr?new Color(this):rr.length>0?new Color(rr,tr):new Color([...assertArray(convert[this.model][tr].raw(this.color)),this.valpha],tr)},Color[tr]=function(...rr){let nr=rr[0];return typeof nr=="number"&&(nr=zeroArray(rr,er)),new Color(nr,tr)}}function roundTo(tr,er){return Number(tr.toFixed(er))}function roundToPlace(tr){return function(er){return roundTo(er,tr)}}function getset(tr,er,rr){tr=Array.isArray(tr)?tr:[tr];for(const nr of tr)(limiters[nr]||(limiters[nr]=[]))[er]=rr;return tr=tr[0],function(nr){let ir;return nr!==void 0?(rr&&(nr=rr(nr)),ir=this[tr](),ir.color[er]=nr,ir):(ir=this[tr]().color[er],rr&&(ir=rr(ir)),ir)}}function maxfn(tr){return function(er){return Math.max(0,Math.min(tr,er))}}function assertArray(tr){return Array.isArray(tr)?tr:[tr]}function zeroArray(tr,er){for(let rr=0;rr<er;rr++)typeof tr[rr]!="number"&&(tr[rr]=0);return tr}var color=Color;const Color$1=getDefaultExportFromCjs(color),base64url=base64urlLib;function safeatob(tr){return base64url.decode(tr)}function jsonToBase64(tr){return base64url.encode(JSON.stringify(tr))}function storageAvailable$1(tr){let er=!1,rr=0,nr;try{nr=window[tr],er=!0,rr=nr.length;const ir="__storage_test__";return nr.setItem(ir,ir),nr.removeItem(ir),!0}catch(ir){const or=ir;return or&&(or.code===22||or.code===1014||or.name==="QuotaExceededError"||or.name==="NS_ERROR_DOM_QUOTA_REACHED")&&er&&rr!==0}}class MemoryStore{constructor(){_defineProperty(this,"store",new Map)}getItem(er){return this.store.get(er)||null}setItem(er,rr){this.store.set(er,rr)}removeItem(er){this.store.delete(er)}}class BrowserStorage{constructor(er,rr){_defineProperty(this,"storage",void 0),_defineProperty(this,"_storeKey",void 0),this.storage=rr,this._storeKey=er;try{rr.getItem(er)||this.resetStore()}catch{}}static getInstance(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"local";if(!this.instanceMap.has(er)){let nr;rr==="local"&&storageAvailable$1("localStorage")?nr=window.localStorage:rr==="session"&&storageAvailable$1("sessionStorage")?nr=window.sessionStorage:nr=new MemoryStore,this.instanceMap.set(er,new this(er,nr))}return this.instanceMap.get(er)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const er=this.getStore();return this.storage.removeItem(this._storeKey),er}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(er){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[er]}set(er,rr){const nr=JSON.parse(this.storage.getItem(this._storeKey)||"{}");nr[er]=rr,this.storage.setItem(this._storeKey,JSON.stringify(nr))}}_defineProperty(BrowserStorage,"instanceMap",new Map);const UX_MODE={POPUP:"popup",REDIRECT:"redirect"},OPENLOGIN_NETWORK=_objectSpread2(_objectSpread2({},TORUS_SAPPHIRE_NETWORK),TORUS_LEGACY_NETWORK),SUPPORTED_KEY_CURVES={SECP256K1:"secp256k1",ED25519:"ed25519"},LOGIN_PROVIDER={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",FARCASTER:"farcaster",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",WEBAUTHN:"webauthn",JWT:"jwt"},OPENLOGIN_ACTIONS={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",MODIFY_SOCIAL_FACTOR:"modify_social_factor"},BUILD_ENV={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},LANGUAGES={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},LANGUAGE_MAP={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"},THEME_MODES={light:"light",dark:"dark",auto:"auto"};function getColorsList(){let tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"black",nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ir=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,or=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#0346ff";const sr=[];let ar;for(ar=0;ar<tr;ar+=1)sr.push(Color$1(or).rotate((ar+1)/tr*-nr).saturate((ar+1)/tr*(ir/100)).mix(Color$1(rr),er/100*(ar+1)/tr).hex());return sr}function generateWhiteLabelTheme(tr){const er=getColorsList(3,50,"black",0,20,tr),rr=getColorsList(6,85,"white",0,20,tr);return[...er.reverse(),tr,...rr]}function applyWhiteLabelTheme(tr,er){if(er.primary){const rr=generateWhiteLabelTheme(er.primary);tr.style.setProperty("--app-primary-900",rr[0]),tr.style.setProperty("--app-primary-800",rr[1]),tr.style.setProperty("--app-primary-700",rr[2]),tr.style.setProperty("--app-primary-600",rr[3]),tr.style.setProperty("--app-primary-500",rr[4]),tr.style.setProperty("--app-primary-400",rr[5]),tr.style.setProperty("--app-primary-300",rr[6]),tr.style.setProperty("--app-primary-200",rr[7]),tr.style.setProperty("--app-primary-100",rr[8]),tr.style.setProperty("--app-primary-50",rr[9])}er.onPrimary&&tr.style.setProperty("--app-on-primary",er.onPrimary)}function fixProto(tr,er){var rr=Object.setPrototypeOf;rr?rr(tr,er):tr.__proto__=er}function fixStack(tr,er){er===void 0&&(er=tr.constructor);var rr=Error.captureStackTrace;rr&&rr(tr,er)}var __extends$2=function(){var tr=function(rr,nr){return tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ir,or){ir.__proto__=or}||function(ir,or){for(var sr in or)Object.prototype.hasOwnProperty.call(or,sr)&&(ir[sr]=or[sr])},tr(rr,nr)};return function(er,rr){if(typeof rr!="function"&&rr!==null)throw new TypeError("Class extends value "+String(rr)+" is not a constructor or null");tr(er,rr);function nr(){this.constructor=er}er.prototype=rr===null?Object.create(rr):(nr.prototype=rr.prototype,new nr)}}(),CustomError=function(tr){__extends$2(er,tr);function er(rr,nr){var ir=this.constructor,or=tr.call(this,rr,nr)||this;return Object.defineProperty(or,"name",{value:ir.name,enumerable:!1,configurable:!0}),fixProto(or,ir.prototype),fixStack(or),or}return er}(Error);class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode(tr){return decodeURIComponent(atob(tr).replace(/(.)/g,(er,rr)=>{let nr=rr.charCodeAt(0).toString(16).toUpperCase();return nr.length<2&&(nr="0"+nr),"%"+nr}))}function base64UrlDecode(tr){let er=tr.replace(/-/g,"+").replace(/_/g,"/");switch(er.length%4){case 0:break;case 2:er+="==";break;case 3:er+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode(er)}catch{return atob(er)}}function jwtDecode(tr,er){if(typeof tr!="string")throw new InvalidTokenError("Invalid token specified: must be a string");er||(er={});const rr=er.header===!0?0:1,nr=tr.split(".")[rr];if(typeof nr!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${rr+1}`);let ir;try{ir=base64UrlDecode(nr)}catch(or){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${rr+1} (${or.message})`)}try{return JSON.parse(ir)}catch(or){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${rr+1} (${or.message})`)}}var lodash_merge={exports:{}};lodash_merge.exports;(function(tr,er){var rr=200,nr="__lodash_hash_undefined__",ir=800,or=16,sr=9007199254740991,ar="[object Arguments]",cr="[object Array]",lr="[object AsyncFunction]",ur="[object Boolean]",fr="[object Date]",dr="[object Error]",gr="[object Function]",br="[object GeneratorFunction]",vr="[object Map]",$r="[object Number]",Er="[object Null]",_r="[object Object]",xr="[object Proxy]",Ir="[object RegExp]",Nr="[object Set]",Lr="[object String]",jr="[object Undefined]",Or="[object WeakMap]",Dr="[object ArrayBuffer]",Cr="[object DataView]",Tr="[object Float32Array]",yr="[object Float64Array]",mr="[object Int8Array]",hr="[object Int16Array]",pr="[object Int32Array]",wr="[object Uint8Array]",Ar="[object Uint8ClampedArray]",Rr="[object Uint16Array]",Pr="[object Uint32Array]",Sr=/[\\^$.*+?()[\]{}|]/g,Mr=/^\[object .+?Constructor\]$/,Br=/^(?:0|[1-9]\d*)$/,Ur={};Ur[Tr]=Ur[yr]=Ur[mr]=Ur[hr]=Ur[pr]=Ur[wr]=Ur[Ar]=Ur[Rr]=Ur[Pr]=!0,Ur[ar]=Ur[cr]=Ur[Dr]=Ur[ur]=Ur[Cr]=Ur[fr]=Ur[dr]=Ur[gr]=Ur[vr]=Ur[$r]=Ur[_r]=Ur[Ir]=Ur[Nr]=Ur[Lr]=Ur[Or]=!1;var Jr=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,qr=typeof self=="object"&&self&&self.Object===Object&&self,zr=Jr||qr||Function("return this")(),sn=er&&!er.nodeType&&er,rn=sn&&!0&&tr&&!tr.nodeType&&tr,tn=rn&&rn.exports===sn,dn=tn&&Jr.process,Yr=function(){try{var Wr=rn&&rn.require&&rn.require("util").types;return Wr||dn&&dn.binding&&dn.binding("util")}catch{}}(),Vr=Yr&&Yr.isTypedArray;function Qr(Wr,nn,mn){switch(mn.length){case 0:return Wr.call(nn);case 1:return Wr.call(nn,mn[0]);case 2:return Wr.call(nn,mn[0],mn[1]);case 3:return Wr.call(nn,mn[0],mn[1],mn[2])}return Wr.apply(nn,mn)}function un(Wr,nn){for(var mn=-1,qn=Array(Wr);++mn<Wr;)qn[mn]=nn(mn);return qn}function yn(Wr){return function(nn){return Wr(nn)}}function An(Wr,nn){return Wr?.[nn]}function Rn(Wr,nn){return function(mn){return Wr(nn(mn))}}var On=Array.prototype,xn=Function.prototype,Wn=Object.prototype,zn=zr["__core-js_shared__"],Fn=xn.toString,so=Wn.hasOwnProperty,wn=function(){var Wr=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||"");return Wr?"Symbol(src)_1."+Wr:""}(),Sn=Wn.toString,Dn=Fn.call(Object),Xr=RegExp("^"+Fn.call(so).replace(Sr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hr=tn?zr.Buffer:void 0,Kr=zr.Symbol,fn=zr.Uint8Array;Hr&&Hr.allocUnsafe;var vn=Rn(Object.getPrototypeOf,Object),$n=Object.create,Tn=Wn.propertyIsEnumerable,Jn=On.splice,io=Kr?Kr.toStringTag:void 0,Yn=function(){try{var Wr=Oo(Object,"defineProperty");return Wr({},"",{}),Wr}catch{}}(),lo=Hr?Hr.isBuffer:void 0,ro=Math.max,ao=Date.now,Mo=Oo(zr,"Map"),Co=Oo(Object,"create"),mo=function(){function Wr(){}return function(nn){if(!zs(nn))return{};if($n)return $n(nn);Wr.prototype=nn;var mn=new Wr;return Wr.prototype=void 0,mn}}();function No(Wr){var nn=-1,mn=Wr==null?0:Wr.length;for(this.clear();++nn<mn;){var qn=Wr[nn];this.set(qn[0],qn[1])}}function Po(){this.__data__=Co?Co(null):{},this.size=0}function fo(Wr){var nn=this.has(Wr)&&delete this.__data__[Wr];return this.size-=nn?1:0,nn}function ko(Wr){var nn=this.__data__;if(Co){var mn=nn[Wr];return mn===nr?void 0:mn}return so.call(nn,Wr)?nn[Wr]:void 0}function pn(Wr){var nn=this.__data__;return Co?nn[Wr]!==void 0:so.call(nn,Wr)}function gn(Wr,nn){var mn=this.__data__;return this.size+=this.has(Wr)?0:1,mn[Wr]=Co&&nn===void 0?nr:nn,this}No.prototype.clear=Po,No.prototype.delete=fo,No.prototype.get=ko,No.prototype.has=pn,No.prototype.set=gn;function Bn(Wr){var nn=-1,mn=Wr==null?0:Wr.length;for(this.clear();++nn<mn;){var qn=Wr[nn];this.set(qn[0],qn[1])}}function Ln(){this.__data__=[],this.size=0}function Mn(Wr){var nn=this.__data__,mn=uo(nn,Wr);if(mn<0)return!1;var qn=nn.length-1;return mn==qn?nn.pop():Jn.call(nn,mn,1),--this.size,!0}function So(Wr){var nn=this.__data__,mn=uo(nn,Wr);return mn<0?void 0:nn[mn][1]}function Zr(Wr){return uo(this.__data__,Wr)>-1}function an(Wr,nn){var mn=this.__data__,qn=uo(mn,Wr);return qn<0?(++this.size,mn.push([Wr,nn])):mn[qn][1]=nn,this}Bn.prototype.clear=Ln,Bn.prototype.delete=Mn,Bn.prototype.get=So,Bn.prototype.has=Zr,Bn.prototype.set=an;function cn(Wr){var nn=-1,mn=Wr==null?0:Wr.length;for(this.clear();++nn<mn;){var qn=Wr[nn];this.set(qn[0],qn[1])}}function Fr(){this.size=0,this.__data__={hash:new No,map:new(Mo||Bn),string:new No}}function hn(Wr){var nn=_n(this,Wr).delete(Wr);return this.size-=nn?1:0,nn}function En(Wr){return _n(this,Wr).get(Wr)}function Pn(Wr){return _n(this,Wr).has(Wr)}function In(Wr,nn){var mn=_n(this,Wr),qn=mn.size;return mn.set(Wr,nn),this.size+=mn.size==qn?0:1,this}cn.prototype.clear=Fr,cn.prototype.delete=hn,cn.prototype.get=En,cn.prototype.has=Pn,cn.prototype.set=In;function kn(Wr){var nn=this.__data__=new Bn(Wr);this.size=nn.size}function Hn(){this.__data__=new Bn,this.size=0}function Kn(Wr){var nn=this.__data__,mn=nn.delete(Wr);return this.size=nn.size,mn}function _o(Wr){return this.__data__.get(Wr)}function Zn(Wr){return this.__data__.has(Wr)}function ho(Wr,nn){var mn=this.__data__;if(mn instanceof Bn){var qn=mn.__data__;if(!Mo||qn.length<rr-1)return qn.push([Wr,nn]),this.size=++mn.size,this;mn=this.__data__=new cn(qn)}return mn.set(Wr,nn),this.size=mn.size,this}kn.prototype.clear=Hn,kn.prototype.delete=Kn,kn.prototype.get=_o,kn.prototype.has=Zn,kn.prototype.set=ho;function go(Wr,nn){var mn=Ls(Wr),qn=!mn&&xa(Wr),Xn=!mn&&!qn&&na(Wr),wo=!mn&&!qn&&!Xn&&_l(Wr),$o=mn||qn||Xn||wo,xo=$o?un(Wr.length,String):[],Eo=xo.length;for(var Go in Wr)$o&&(Go=="length"||Xn&&(Go=="offset"||Go=="parent")||wo&&(Go=="buffer"||Go=="byteLength"||Go=="byteOffset")||Ro(Go,Eo))||xo.push(Go);return xo}function co(Wr,nn,mn){(mn!==void 0&&!$a(Wr[nn],mn)||mn===void 0&&!(nn in Wr))&&po(Wr,nn,mn)}function bo(Wr,nn,mn){var qn=Wr[nn];(!(so.call(Wr,nn)&&$a(qn,mn))||mn===void 0&&!(nn in Wr))&&po(Wr,nn,mn)}function uo(Wr,nn){for(var mn=Wr.length;mn--;)if($a(Wr[mn][0],nn))return mn;return-1}function po(Wr,nn,mn){nn=="__proto__"&&Yn?Yn(Wr,nn,{configurable:!0,enumerable:!0,value:mn,writable:!0}):Wr[nn]=mn}var yo=To();function to(Wr){return Wr==null?Wr===void 0?jr:Er:io&&io in Object(Wr)?jo(Wr):Ho(Wr)}function oo(Wr){return Ys(Wr)&&to(Wr)==ar}function _i(Wr){if(!zs(Wr)||Vo(Wr))return!1;var nn=ga(Wr)?Xr:Mr;return nn.test(Zo(Wr))}function no(Wr){return Ys(Wr)&&ba(Wr.length)&&!!Ur[to(Wr)]}function eo(Wr){if(!zs(Wr))return Fo(Wr);var nn=Bo(Wr),mn=[];for(var qn in Wr)qn=="constructor"&&(nn||!so.call(Wr,qn))||mn.push(qn);return mn}function Qn(Wr,nn,mn,qn,Xn){Wr!==nn&&yo(nn,function(wo,$o){if(Xn||(Xn=new kn),zs(wo))Cn(Wr,nn,$o,mn,Qn,qn,Xn);else{var xo=qn?qn(Ko(Wr,$o),wo,$o+"",Wr,nn,Xn):void 0;xo===void 0&&(xo=wo),co(Wr,$o,xo)}},$l)}function Cn(Wr,nn,mn,qn,Xn,wo,$o){var xo=Ko(Wr,mn),Eo=Ko(nn,mn),Go=$o.get(Eo);if(Go){co(Wr,mn,Go);return}var qo=wo?wo(xo,Eo,mn+"",Wr,nn,$o):void 0,zo=qo===void 0;if(zo){var Qo=Ls(Eo),Xo=!Qo&&na(Eo),Js=!Qo&&!Xo&&_l(Eo);qo=Eo,Qo||Xo||Js?Ls(xo)?qo=xo:Al(xo)?qo=vo(xo):Xo?(zo=!1,qo=jn(Eo)):Js?(zo=!1,qo=Gn(Eo)):qo=[]:wl(Eo)||xa(Eo)?(qo=xo,xa(xo)?qo=Ws(xo):(!zs(xo)||ga(xo))&&(qo=Uo(Eo))):zo=!1}zo&&($o.set(Eo,qo),Xn(qo,Eo,qn,wo,$o),$o.delete(Eo)),co(Wr,mn,qo)}function Nn(Wr,nn){return Jo(Wo(Wr,nn,xl),Wr+"")}var Vn=Yn?function(Wr,nn){return Yn(Wr,"toString",{configurable:!0,enumerable:!1,value:Tl(nn),writable:!0})}:xl;function jn(Wr,nn){return Wr.slice()}function Un(Wr){var nn=new Wr.constructor(Wr.byteLength);return new fn(nn).set(new fn(Wr)),nn}function Gn(Wr,nn){var mn=Un(Wr.buffer);return new Wr.constructor(mn,Wr.byteOffset,Wr.length)}function vo(Wr,nn){var mn=-1,qn=Wr.length;for(nn||(nn=Array(qn));++mn<qn;)nn[mn]=Wr[mn];return nn}function Ao(Wr,nn,mn,qn){var Xn=!mn;mn||(mn={});for(var wo=-1,$o=nn.length;++wo<$o;){var xo=nn[wo],Eo=void 0;Eo===void 0&&(Eo=Wr[xo]),Xn?po(mn,xo,Eo):bo(mn,xo,Eo)}return mn}function Io(Wr){return Nn(function(nn,mn){var qn=-1,Xn=mn.length,wo=Xn>1?mn[Xn-1]:void 0,$o=Xn>2?mn[2]:void 0;for(wo=Wr.length>3&&typeof wo=="function"?(Xn--,wo):void 0,$o&&Lo(mn[0],mn[1],$o)&&(wo=Xn<3?void 0:wo,Xn=1),nn=Object(nn);++qn<Xn;){var xo=mn[qn];xo&&Wr(nn,xo,qn,wo)}return nn})}function To(Wr){return function(nn,mn,qn){for(var Xn=-1,wo=Object(nn),$o=qn(nn),xo=$o.length;xo--;){var Eo=$o[++Xn];if(mn(wo[Eo],Eo,wo)===!1)break}return nn}}function _n(Wr,nn){var mn=Wr.__data__;return Do(nn)?mn[typeof nn=="string"?"string":"hash"]:mn.map}function Oo(Wr,nn){var mn=An(Wr,nn);return _i(mn)?mn:void 0}function jo(Wr){var nn=so.call(Wr,io),mn=Wr[io];try{Wr[io]=void 0;var qn=!0}catch{}var Xn=Sn.call(Wr);return qn&&(nn?Wr[io]=mn:delete Wr[io]),Xn}function Uo(Wr){return typeof Wr.constructor=="function"&&!Bo(Wr)?mo(vn(Wr)):{}}function Ro(Wr,nn){var mn=typeof Wr;return nn=nn??sr,!!nn&&(mn=="number"||mn!="symbol"&&Br.test(Wr))&&Wr>-1&&Wr%1==0&&Wr<nn}function Lo(Wr,nn,mn){if(!zs(mn))return!1;var qn=typeof nn;return(qn=="number"?_c(mn)&&Ro(nn,mn.length):qn=="string"&&nn in mn)?$a(mn[nn],Wr):!1}function Do(Wr){var nn=typeof Wr;return nn=="string"||nn=="number"||nn=="symbol"||nn=="boolean"?Wr!=="__proto__":Wr===null}function Vo(Wr){return!!wn&&wn in Wr}function Bo(Wr){var nn=Wr&&Wr.constructor,mn=typeof nn=="function"&&nn.prototype||Wn;return Wr===mn}function Fo(Wr){var nn=[];if(Wr!=null)for(var mn in Object(Wr))nn.push(mn);return nn}function Ho(Wr){return Sn.call(Wr)}function Wo(Wr,nn,mn){return nn=ro(nn===void 0?Wr.length-1:nn,0),function(){for(var qn=arguments,Xn=-1,wo=ro(qn.length-nn,0),$o=Array(wo);++Xn<wo;)$o[Xn]=qn[nn+Xn];Xn=-1;for(var xo=Array(nn+1);++Xn<nn;)xo[Xn]=qn[Xn];return xo[nn]=mn($o),Qr(Wr,this,xo)}}function Ko(Wr,nn){if(!(nn==="constructor"&&typeof Wr[nn]=="function")&&nn!="__proto__")return Wr[nn]}var Jo=Yo(Vn);function Yo(Wr){var nn=0,mn=0;return function(){var qn=ao(),Xn=or-(qn-mn);if(mn=qn,Xn>0){if(++nn>=ir)return arguments[0]}else nn=0;return Wr.apply(void 0,arguments)}}function Zo(Wr){if(Wr!=null){try{return Fn.call(Wr)}catch{}try{return Wr+""}catch{}}return""}function $a(Wr,nn){return Wr===nn||Wr!==Wr&&nn!==nn}var xa=oo(function(){return arguments}())?oo:function(Wr){return Ys(Wr)&&so.call(Wr,"callee")&&!Tn.call(Wr,"callee")},Ls=Array.isArray;function _c(Wr){return Wr!=null&&ba(Wr.length)&&!ga(Wr)}function Al(Wr){return Ys(Wr)&&_c(Wr)}var na=lo||Gr;function ga(Wr){if(!zs(Wr))return!1;var nn=to(Wr);return nn==gr||nn==br||nn==lr||nn==xr}function ba(Wr){return typeof Wr=="number"&&Wr>-1&&Wr%1==0&&Wr<=sr}function zs(Wr){var nn=typeof Wr;return Wr!=null&&(nn=="object"||nn=="function")}function Ys(Wr){return Wr!=null&&typeof Wr=="object"}function wl(Wr){if(!Ys(Wr)||to(Wr)!=_r)return!1;var nn=vn(Wr);if(nn===null)return!0;var mn=so.call(nn,"constructor")&&nn.constructor;return typeof mn=="function"&&mn instanceof mn&&Fn.call(mn)==Dn}var _l=Vr?yn(Vr):no;function Ws(Wr){return Ao(Wr,$l(Wr))}function $l(Wr){return _c(Wr)?go(Wr):eo(Wr)}var El=Io(function(Wr,nn,mn){Qn(Wr,nn,mn)});function Tl(Wr){return function(){return Wr}}function xl(Wr){return Wr}function Gr(){return!1}tr.exports=El})(lodash_merge,lodash_merge.exports);var lodash_mergeExports=lodash_merge.exports;const merge=getDefaultExportFromCjs(lodash_mergeExports);var loglevel$2={exports:{}};(function(tr){(function(er,rr){tr.exports?tr.exports=rr():er.log=rr()})(commonjsGlobal,function(){var er=function(){},rr="undefined",nr=typeof window!==rr&&typeof window.navigator!==rr&&/Trident\/|MSIE /.test(window.navigator.userAgent),ir=["trace","debug","info","warn","error"],or={},sr=null;function ar(vr,$r){var Er=vr[$r];if(typeof Er.bind=="function")return Er.bind(vr);try{return Function.prototype.bind.call(Er,vr)}catch{return function(){return Function.prototype.apply.apply(Er,[vr,arguments])}}}function cr(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function lr(vr){return vr==="debug"&&(vr="log"),typeof console===rr?!1:vr==="trace"&&nr?cr:console[vr]!==void 0?ar(console,vr):console.log!==void 0?ar(console,"log"):er}function ur(){for(var vr=this.getLevel(),$r=0;$r<ir.length;$r++){var Er=ir[$r];this[Er]=$r<vr?er:this.methodFactory(Er,vr,this.name)}if(this.log=this.debug,typeof console===rr&&vr<this.levels.SILENT)return"No console available for logging"}function fr(vr){return function(){typeof console!==rr&&(ur.call(this),this[vr].apply(this,arguments))}}function dr(vr,$r,Er){return lr(vr)||fr.apply(this,arguments)}function gr(vr,$r){var Er=this,_r,xr,Ir,Nr="loglevel";typeof vr=="string"?Nr+=":"+vr:typeof vr=="symbol"&&(Nr=void 0);function Lr(Tr){var yr=(ir[Tr]||"silent").toUpperCase();if(!(typeof window===rr||!Nr)){try{window.localStorage[Nr]=yr;return}catch{}try{window.document.cookie=encodeURIComponent(Nr)+"="+yr+";"}catch{}}}function jr(){var Tr;if(!(typeof window===rr||!Nr)){try{Tr=window.localStorage[Nr]}catch{}if(typeof Tr===rr)try{var yr=window.document.cookie,mr=encodeURIComponent(Nr),hr=yr.indexOf(mr+"=");hr!==-1&&(Tr=/^([^;]+)/.exec(yr.slice(hr+mr.length+1))[1])}catch{}return Er.levels[Tr]===void 0&&(Tr=void 0),Tr}}function Or(){if(!(typeof window===rr||!Nr)){try{window.localStorage.removeItem(Nr)}catch{}try{window.document.cookie=encodeURIComponent(Nr)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function Dr(Tr){var yr=Tr;if(typeof yr=="string"&&Er.levels[yr.toUpperCase()]!==void 0&&(yr=Er.levels[yr.toUpperCase()]),typeof yr=="number"&&yr>=0&&yr<=Er.levels.SILENT)return yr;throw new TypeError("log.setLevel() called with invalid level: "+Tr)}Er.name=vr,Er.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},Er.methodFactory=$r||dr,Er.getLevel=function(){return Ir??xr??_r},Er.setLevel=function(Tr,yr){return Ir=Dr(Tr),yr!==!1&&Lr(Ir),ur.call(Er)},Er.setDefaultLevel=function(Tr){xr=Dr(Tr),jr()||Er.setLevel(Tr,!1)},Er.resetLevel=function(){Ir=null,Or(),ur.call(Er)},Er.enableAll=function(Tr){Er.setLevel(Er.levels.TRACE,Tr)},Er.disableAll=function(Tr){Er.setLevel(Er.levels.SILENT,Tr)},Er.rebuild=function(){if(sr!==Er&&(_r=Dr(sr.getLevel())),ur.call(Er),sr===Er)for(var Tr in or)or[Tr].rebuild()},_r=Dr(sr?sr.getLevel():"WARN");var Cr=jr();Cr!=null&&(Ir=Dr(Cr)),ur.call(Er)}sr=new gr,sr.getLogger=function($r){if(typeof $r!="symbol"&&typeof $r!="string"||$r==="")throw new TypeError("You must supply a name when creating a logger.");var Er=or[$r];return Er||(Er=or[$r]=new gr($r,sr.methodFactory)),Er};var br=typeof window!==rr?window.log:void 0;return sr.noConflict=function(){return typeof window!==rr&&window.log===sr&&(window.log=br),sr},sr.getLoggers=function(){return or},sr.default=sr,sr})})(loglevel$2);var loglevelExports=loglevel$2.exports;const log$3=getDefaultExportFromCjs(loglevelExports),log$2=log$3.getLogger("http-helpers");log$2.setLevel(loglevelExports.levels.INFO);let apiKey="torus-default";const gatewayAuthHeader="x-api-key";function setLogLevel(tr){log$2.setLevel(tr)}async function fetchAndTrace(tr,er){let rr=null;try{rr=new URL(tr)}catch{}return fetch(tr,er)}function getApiKeyHeaders(){const tr={};return tr[gatewayAuthHeader]=apiKey,tr}function debugLogResponse(tr){log$2.info(`Response: ${tr.status} ${tr.statusText}`),log$2.info(`Url: ${tr.url}`)}function logTracingHeader(tr){const er=tr.headers.get("x-web3-correlation-id");er&&log$2.info(`Request tracing with traceID = ${er}`)}const promiseTimeout=async(tr,er)=>{let rr=null;try{const nr=new Promise((or,sr)=>{rr=setTimeout(()=>{sr(new Error(`Timed out in ${tr}ms`))},tr)}),ir=await Promise.race([er,nr]);return rr!=null&&clearTimeout(rr),ir}catch(nr){throw rr!=null&&clearTimeout(rr),nr}},get$1=async function(tr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const nr={mode:"cors",headers:{}};rr.useAPIKey&&(nr.headers=_objectSpread2(_objectSpread2({},nr.headers),getApiKeyHeaders()));const ir=merge(nr,er,{method:"GET"}),or=await fetchAndTrace(tr,ir);if(or.ok){const sr=or.headers.get("content-type");return sr!=null&&sr.includes("application/json")?or.json():or.text()}throw debugLogResponse(or),or},post=function(tr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const ir={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};nr.useAPIKey&&(ir.headers=_objectSpread2(_objectSpread2({},ir.headers),getApiKeyHeaders()));const or=merge(ir,rr,{method:"POST"});return nr.isUrlEncodedData?(or.body=er,or.headers["Content-Type"]==="application/json; charset=utf-8"&&delete or.headers["Content-Type"]):or.body=JSON.stringify(er),promiseTimeout(nr.timeout||6e4,fetchAndTrace(tr,or).then(sr=>{if(nr.logTracingHeader&&logTracingHeader(sr),sr.ok){const ar=sr.headers.get("content-type");return ar!=null&&ar.includes("application/json")?sr.json():sr.text()}throw debugLogResponse(sr),sr}))},patch$4=async function(tr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const ir={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};nr.useAPIKey&&(ir.headers=_objectSpread2(_objectSpread2({},ir.headers),getApiKeyHeaders()));const or=merge(ir,rr,{method:"PATCH"});nr.isUrlEncodedData?(or.body=er,or.headers["Content-Type"]==="application/json; charset=utf-8"&&delete or.headers["Content-Type"]):or.body=JSON.stringify(er);const sr=await fetchAndTrace(tr,or);if(sr.ok){const ar=sr.headers.get("content-type");return ar!=null&&ar.includes("application/json")?sr.json():sr.text()}throw debugLogResponse(sr),sr},put=async function(tr){let er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const ir={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};nr.useAPIKey&&(ir.headers=_objectSpread2(_objectSpread2({},ir.headers),getApiKeyHeaders()));const or=merge(ir,rr,{method:"PUT"});nr.isUrlEncodedData?(or.body=er,or.headers["Content-Type"]==="application/json; charset=utf-8"&&delete or.headers["Content-Type"]):or.body=JSON.stringify(er);const sr=await fetchAndTrace(tr,or);if(sr.ok){const ar=sr.headers.get("content-type");return ar!=null&&ar.includes("application/json")?sr.json():sr.text()}throw debugLogResponse(sr),sr};function serializeError$1(tr){const er=tr.findIndex(or=>or instanceof Error),rr=tr.findIndex(or=>typeof or=="string"),nr=tr.findIndex(or=>or&&typeof or=="object"&&"status"in or&&"type"in or);let ir;if(nr!==-1){const or=tr[nr];ir=new Error(`${or.status} ${or.type.toString()} ${or.statusText}`)}else er!==-1?ir=tr.splice(er,1)[0]:rr!==-1?ir=new Error(tr.splice(rr,1)[0]):ir=new Error("Unknown error");return[ir,tr]}class Web3AuthError extends CustomError{constructor(er,rr,nr){super(rr),_defineProperty(this,"code",void 0),_defineProperty(this,"message",void 0),_defineProperty(this,"cause",void 0),this.code=er,this.message=rr||"",this.cause=nr,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:serializeError$1([this.cause])}}toString(){return JSON.stringify(this.toJSON())}}class WalletInitializationError extends Web3AuthError{constructor(er,rr,nr){super(er,rr,nr),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(er,rr="",nr){return new WalletInitializationError(er,`${WalletInitializationError.messages[er]}, ${rr}`,nr)}static notFound(er="",rr){return WalletInitializationError.fromCode(5001,er,rr)}static notInstalled(er="",rr){return WalletInitializationError.fromCode(5002,er,rr)}static notReady(er="",rr){return WalletInitializationError.fromCode(5003,er,rr)}static windowBlocked(er="",rr){return WalletInitializationError.fromCode(5004,er,rr)}static windowClosed(er="",rr){return WalletInitializationError.fromCode(5005,er,rr)}static incompatibleChainNameSpace(er="",rr){return WalletInitializationError.fromCode(5006,er,rr)}static duplicateAdapterError(er="",rr){return WalletInitializationError.fromCode(5007,er,rr)}static invalidProviderConfigError(er="",rr){return WalletInitializationError.fromCode(5008,er,rr)}static providerNotReadyError(er="",rr){return WalletInitializationError.fromCode(5009,er,rr)}static rpcConnectionError(er="",rr){return WalletInitializationError.fromCode(5010,er,rr)}static invalidParams(er="",rr){return WalletInitializationError.fromCode(5011,er,rr)}static invalidNetwork(er="",rr){return WalletInitializationError.fromCode(5013,er,rr)}}_defineProperty(WalletInitializationError,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class WalletLoginError extends Web3AuthError{constructor(er,rr,nr){super(er,rr,nr),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(er,rr="",nr){return new WalletLoginError(er,`${WalletLoginError.messages[er]}. ${rr}`,nr)}static connectionError(er="",rr){return WalletLoginError.fromCode(5111,er,rr)}static disconnectionError(er="",rr){return WalletLoginError.fromCode(5112,er,rr)}static notConnectedError(er="",rr){return WalletLoginError.fromCode(5113,er,rr)}static popupClosed(er="",rr){return WalletLoginError.fromCode(5114,er,rr)}static mfaEnabled(er="",rr){return WalletLoginError.fromCode(5115,er,rr)}static chainConfigNotAdded(er="",rr){return WalletLoginError.fromCode(5116,er,rr)}static unsupportedOperation(er="",rr){return WalletLoginError.fromCode(5117,er,rr)}static coreKitKeyNotFound(er="",rr){return WalletLoginError.fromCode(5118,er,rr)}static userNotLoggedIn(er="",rr){return WalletLoginError.fromCode(5119,er,rr)}}_defineProperty(WalletLoginError,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class WalletOperationsError extends Web3AuthError{constructor(er,rr,nr){super(er,rr,nr),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(er,rr="",nr){return new WalletOperationsError(er,`${WalletOperationsError.messages[er]}, ${rr}`,nr)}static chainIDNotAllowed(er="",rr){return WalletOperationsError.fromCode(5201,er,rr)}static operationNotAllowed(er="",rr){return WalletOperationsError.fromCode(5202,er,rr)}static chainNamespaceNotAllowed(er="",rr){return WalletOperationsError.fromCode(5203,er,rr)}}_defineProperty(WalletOperationsError,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class WalletProviderError extends Web3AuthError{constructor(er,rr,nr){super(er,rr,nr),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(er,rr="",nr){return new WalletOperationsError(er,`${WalletProviderError.messages[er]}, ${rr}`,nr)}static invalidRequestArgs(er="",rr){return WalletOperationsError.fromCode(5301,er,rr)}static invalidRequestMethod(er="",rr){return WalletOperationsError.fromCode(5302,er,rr)}static invalidRequestParams(er="",rr){return WalletOperationsError.fromCode(5303,er,rr)}}_defineProperty(WalletProviderError,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const CHAIN_NAMESPACES={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},ADAPTER_NAMESPACES={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",MULTICHAIN:"multichain"},getDefaultNetworkId=tr=>{if(tr===CHAIN_NAMESPACES.EIP155)return 1;if(tr===CHAIN_NAMESPACES.SOLANA)return 1;if(tr===CHAIN_NAMESPACES.XRPL)return 1;throw WalletInitializationError.invalidParams(`Chain namespace ${tr} is not supported`)},getEvmChainConfig=tr=>{const er=CHAIN_NAMESPACES.EIP155;return tr===1?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:er,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorerUrl:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:tr===5?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:er,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorerUrl:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:tr===11155111?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:er,chainId:"0xaa36a7",rpcTarget:"https://rpc.ankr.com/eth_sepolia",displayName:"Sepolia Testnet",blockExplorerUrl:"https://sepolia.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:tr===137?{logo:"https://images.toruswallet.io/polygon.svg",chainNamespace:er,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorerUrl:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:tr===80002?{logo:"https://images.toruswallet.io/polygon.svg",chainNamespace:er,chainId:"0x13882",rpcTarget:"https://rpc.ankr.com/polygon_amoy",displayName:"Polygon Amoy Testnet",blockExplorerUrl:"https://www.oklink.com/amoy",ticker:"MATIC",tickerName:"Polygon",decimals:18}:tr===56?{logo:"https://images.toruswallet.io/bnb.png",chainNamespace:er,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorerUrl:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:tr===97?{logo:"https://images.toruswallet.io/bnb.png",chainNamespace:er,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorerUrl:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:tr===25?{logo:"https://images.toruswallet.io/cro.svg",chainNamespace:er,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorerUrl:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:tr===338?{logo:"https://images.toruswallet.io/cro.svg",chainNamespace:er,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorerUrl:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:tr===8217?{logo:"https://images.toruswallet.io/klay.svg",chainNamespace:er,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorerUrl:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:null},getSolanaChainConfig=tr=>{const er=CHAIN_NAMESPACES.SOLANA;return tr===1?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:er,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorerUrl:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:tr===2?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:er,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorerUrl:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:tr===3?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:er,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorerUrl:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null},getXrplChainConfig=tr=>{const er=CHAIN_NAMESPACES.XRPL;return tr===1?{chainNamespace:er,decimals:15,chainId:"0x1",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://ripple-node.tor.us",wsTarget:"wss://s2.ripple.com",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl mainnet",blockExplorerUrl:"https://livenet.xrpl.org"}:tr===2?{chainNamespace:er,decimals:15,chainId:"0x2",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://testnet-ripple-node.tor.us",wsTarget:"wss://s.altnet.rippletest.net",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl testnet",blockExplorerUrl:"https://testnet.xrpl.org",isTestnet:!0}:tr===3?{chainNamespace:er,decimals:15,chainId:"0x3",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://devnet-ripple-node.tor.us",wsTarget:"wss://s.devnet.rippletest.net/",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl devnet",blockExplorerUrl:"https://devnet.xrpl.org",isTestnet:!0}:null},getChainConfig=(tr,er)=>{if(tr===CHAIN_NAMESPACES.OTHER)return null;const rr=er?typeof er=="number"?er:parseInt(er,16):getDefaultNetworkId(tr);return tr===CHAIN_NAMESPACES.EIP155?getEvmChainConfig(rr):tr===CHAIN_NAMESPACES.SOLANA?getSolanaChainConfig(rr):tr===CHAIN_NAMESPACES.XRPL?getXrplChainConfig(rr):null},MULTI_CHAIN_ADAPTERS={OPENLOGIN:"openlogin",WALLET_CONNECT_V2:"wallet-connect-v2",SFA:"sfa"},SOLANA_ADAPTERS=_objectSpread2({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLFLARE:"solflare"},MULTI_CHAIN_ADAPTERS),EVM_ADAPTERS=_objectSpread2({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},MULTI_CHAIN_ADAPTERS),WALLET_ADAPTERS=_objectSpread2(_objectSpread2({},EVM_ADAPTERS),SOLANA_ADAPTERS),ADAPTER_NAMES={[MULTI_CHAIN_ADAPTERS.OPENLOGIN]:"OpenLogin",[MULTI_CHAIN_ADAPTERS.WALLET_CONNECT_V2]:"Wallet Connect v2",[MULTI_CHAIN_ADAPTERS.SFA]:"SFA",[SOLANA_ADAPTERS.TORUS_SOLANA]:"Torus",[SOLANA_ADAPTERS.PHANTOM]:"Phantom",[SOLANA_ADAPTERS.SOLFLARE]:"Solflare",[EVM_ADAPTERS.TORUS_EVM]:"Torus",[EVM_ADAPTERS.METAMASK]:"Metamask",[EVM_ADAPTERS.COINBASE]:"Coinbase"},WEB3AUTH_NETWORK=OPENLOGIN_NETWORK,ADAPTER_CATEGORY={EXTERNAL:"external",IN_APP:"in_app"},ADAPTER_STATUS={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},ADAPTER_EVENTS=_objectSpread2(_objectSpread2({},ADAPTER_STATUS),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});class BaseAdapter extends SafeEventEmitter{constructor(er={}){super(),_defineProperty(this,"adapterData",{}),_defineProperty(this,"sessionTime",86400),_defineProperty(this,"clientId",void 0),_defineProperty(this,"web3AuthNetwork",OPENLOGIN_NETWORK.MAINNET),_defineProperty(this,"useCoreKitKey",void 0),_defineProperty(this,"rehydrated",!1),_defineProperty(this,"chainConfig",null),_defineProperty(this,"knownChainConfigs",{}),_defineProperty(this,"adapterNamespace",void 0),_defineProperty(this,"currentChainNamespace",void 0),_defineProperty(this,"type",void 0),_defineProperty(this,"name",void 0),_defineProperty(this,"status",void 0),this.setAdapterSettings(er)}get chainConfigProxy(){return this.chainConfig?_objectSpread2({},this.chainConfig):null}get connnected(){return this.status===ADAPTER_STATUS.CONNECTED}setAdapterSettings(er){if(this.status===ADAPTER_STATUS.READY)return;er!=null&&er.sessionTime&&(this.sessionTime=er.sessionTime),er!=null&&er.clientId&&(this.clientId=er.clientId),er!=null&&er.web3AuthNetwork&&(this.web3AuthNetwork=er.web3AuthNetwork),er?.useCoreKitKey!==void 0&&(this.useCoreKitKey=er.useCoreKitKey);const rr=er.chainConfig;if(rr){if(!rr.chainNamespace)throw WalletInitializationError.notReady("ChainNamespace is required while setting chainConfig");this.currentChainNamespace=rr.chainNamespace;const nr=getChainConfig(rr.chainNamespace,rr.chainId),ir=_objectSpread2(_objectSpread2({},nr||{}),rr);this.chainConfig=ir,this.addChainConfig(ir)}}checkConnectionRequirements(){if(!(this.name===WALLET_ADAPTERS.WALLET_CONNECT_V2&&this.status===ADAPTER_STATUS.CONNECTING)){if(this.status===ADAPTER_STATUS.CONNECTING)throw WalletInitializationError.notReady("Already connecting");if(this.status===ADAPTER_STATUS.CONNECTED)throw WalletLoginError.connectionError("Already connected");if(this.status!==ADAPTER_STATUS.READY)throw WalletLoginError.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements(){if(!this.clientId)throw WalletInitializationError.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!this.chainConfig||!this.chainConfig.rpcTarget&&this.chainConfig.chainNamespace!==CHAIN_NAMESPACES.OTHER)throw WalletInitializationError.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.chainId&&this.chainConfig.chainNamespace!==CHAIN_NAMESPACES.OTHER)throw WalletInitializationError.invalidParams("chainID is required in chainConfig");if(this.status!==ADAPTER_STATUS.NOT_READY){if(this.status===ADAPTER_STATUS.CONNECTED)throw WalletInitializationError.notReady("Already connected");if(this.status===ADAPTER_STATUS.READY)throw WalletInitializationError.notReady("Adapter is already initialized")}}checkDisconnectionRequirements(){if(this.status!==ADAPTER_STATUS.CONNECTED)throw WalletLoginError.disconnectionError("Not connected with wallet")}checkAddChainRequirements(er,rr=!1){if(!rr&&!this.provider)throw WalletLoginError.notConnectedError("Not connected with wallet.");if(this.currentChainNamespace!==er.chainNamespace)throw WalletOperationsError.chainNamespaceNotAllowed("This adapter doesn't support this chainNamespace")}checkSwitchChainRequirements({chainId:er},rr=!1){if(!rr&&!this.provider)throw WalletLoginError.notConnectedError("Not connected with wallet.");if(!this.knownChainConfigs[er])throw WalletLoginError.chainConfigNotAdded("Invalid chainId")}updateAdapterData(er){this.adapterData=er,this.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:er})}addChainConfig(er){const rr=this.knownChainConfigs[er.chainId];this.knownChainConfigs[er.chainId]=_objectSpread2(_objectSpread2({},rr||{}),er)}getChainConfig(er){return this.knownChainConfigs[er]||null}}function storageAvailable(tr){let er=!1,rr=0,nr;try{nr=window[tr],er=!0,rr=nr.length;const ir="__storage_test__";return nr.setItem(ir,ir),nr.removeItem(ir),!0}catch(ir){const or=ir;return!!(or&&(or.code===22||or.code===1014||or.name==="QuotaExceededError"||or.name==="NS_ERROR_DOM_QUOTA_REACHED")&&er&&rr!==0)}}const isHexStrict=tr=>(typeof tr=="string"||typeof tr=="number")&&/^(-)?0x[0-9a-f]*$/i.test(tr),signerHost=tr=>SIGNER_MAP[tr??WEB3AUTH_NETWORK.SAPPHIRE_MAINNET],fetchProjectConfig=async(tr,er)=>{const rr=new URL(`${signerHost(er)}/api/configuration`);return rr.searchParams.append("project_id",tr),rr.searchParams.append("network",er),rr.searchParams.append("whitelist","true"),await get$1(rr.href)},checkIfTokenIsExpired=tr=>{const er=jwtDecode(tr);return!er.exp||er.exp<Math.floor(Date.now()/1e3)},getSavedToken=(tr,er)=>storageAvailable("localStorage")?localStorage.getItem(`${tr.toLowerCase()}_${er}`):null,saveToken=(tr,er,rr)=>storageAvailable("localStorage")?localStorage.setItem(`${tr.toLowerCase()}_${er}`,rr):null,clearToken=(tr,er)=>storageAvailable("localStorage")?localStorage.removeItem(`${tr.toLowerCase()}_${er}`):null;var loglevel$1=log$3.getLogger("web3auth-logger");class WalletServicesPluginError extends Web3AuthError{constructor(er,rr,nr){super(er,rr,nr),Object.defineProperty(this,"name",{value:"WalletServicesPluginError"})}static fromCode(er,rr="",nr){return new WalletServicesPluginError(er,`${WalletServicesPluginError.messages[er]}${rr}`,nr)}static notInitialized(er="",rr){return WalletServicesPluginError.fromCode(5210,er,rr)}static unsupportedAdapter(er="",rr){return WalletServicesPluginError.fromCode(5211,er,rr)}static providerRequired(er="",rr){return WalletServicesPluginError.fromCode(5212,er,rr)}static web3authRequired(er="",rr){return WalletServicesPluginError.fromCode(5213,er,rr)}static web3AuthNotConnected(er="",rr){return WalletServicesPluginError.fromCode(5214,er,rr)}static alreadyInitialized(er="",rr){return WalletServicesPluginError.fromCode(5216,er,rr)}static unsupportedChainNamespace(er="",rr){return WalletServicesPluginError.fromCode(5218,er,rr)}static differentWeb3AuthNetwork(er="",rr){return WalletServicesPluginError.fromCode(5219,er,rr)}static invalidParams(er="",rr){return WalletServicesPluginError.fromCode(5220,er,rr)}static web3authNotInitialized(er="",rr){return WalletServicesPluginError.fromCode(5221,er,rr)}static invalidSession(er="",rr){return WalletServicesPluginError.fromCode(5222,er,rr)}static walletPluginNotConnected(er="",rr){return WalletServicesPluginError.fromCode(5223,er,rr)}}_defineProperty(WalletServicesPluginError,"messages",{5210:"Wallet Services Plugin is not initialized",5211:"Web3Auth is connected to unsupported adapter. Wallet services connector plugin requires web3auth connected to openlogin adapter.",5212:"Provider is required..",5213:"Web3Auth instance is required while initialization.",5214:"Web3Auth is not connected.",5216:"Plugin is already initialized",5218:"Unsupported chain namespace.",5219:"Plugin network different than web3auth instance network.",5221:"Web3Auth is not initialized",5222:"Invalid session inside wallet services. Please report this issue.",5223:"Wallet plugin is not connected Yet. Please wait for plugin to connect and listen via `connected` event on the plugin"});const PLUGIN_NAMESPACES=_objectSpread2(_objectSpread2({},CHAIN_NAMESPACES),{},{MULTICHAIN:"multichain"}),PLUGIN_STATUS={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},PLUGIN_EVENTS=_objectSpread2({},PLUGIN_STATUS),EVM_PLUGINS={WALLET_SERVICES:"wallet-services"},SOLANA_PLUGINS={SOLANA:"solana"};_objectSpread2(_objectSpread2({},EVM_PLUGINS),SOLANA_PLUGINS);function number$4(tr){if(!Number.isSafeInteger(tr)||tr<0)throw new Error(`positive integer expected, not ${tr}`)}function bool$2(tr){if(typeof tr!="boolean")throw new Error(`boolean expected, not ${tr}`)}function isBytes$3(tr){return tr instanceof Uint8Array||tr!=null&&typeof tr=="object"&&tr.constructor.name==="Uint8Array"}function bytes$5(tr,...er){if(!isBytes$3(tr))throw new Error("Uint8Array expected");if(er.length>0&&!er.includes(tr.length))throw new Error(`Uint8Array expected of length ${er}, not of length=${tr.length}`)}function hash$2(tr){if(typeof tr!="function"||typeof tr.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$4(tr.outputLen),number$4(tr.blockLen)}function exists$1(tr,er=!0){if(tr.destroyed)throw new Error("Hash instance has been destroyed");if(er&&tr.finished)throw new Error("Hash#digest() has already been called")}function output$1(tr,er){bytes$5(tr);const rr=er.outputLen;if(tr.length<rr)throw new Error(`digestInto() expects output buffer of length at least ${rr}`)}const assert$9={number:number$4,bool:bool$2,bytes:bytes$5,hash:hash$2,exists:exists$1,output:output$1},_assert$1=Object.freeze(Object.defineProperty({__proto__:null,bool:bool$2,bytes:bytes$5,default:assert$9,exists:exists$1,hash:hash$2,isBytes:isBytes$3,number:number$4,output:output$1},Symbol.toStringTag,{value:"Module"})),crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$2(tr){return tr instanceof Uint8Array||tr!=null&&typeof tr=="object"&&tr.constructor.name==="Uint8Array"}const u8=tr=>new Uint8Array(tr.buffer,tr.byteOffset,tr.byteLength),u32=tr=>new Uint32Array(tr.buffer,tr.byteOffset,Math.floor(tr.byteLength/4)),createView=tr=>new DataView(tr.buffer,tr.byteOffset,tr.byteLength),rotr=(tr,er)=>tr<<32-er|tr>>>er,rotl=(tr,er)=>tr<<er|tr>>>32-er>>>0,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,byteSwap=tr=>tr<<24&4278190080|tr<<8&16711680|tr>>>8&65280|tr>>>24&255,byteSwapIfBE=isLE?tr=>tr:tr=>byteSwap(tr);function byteSwap32(tr){for(let er=0;er<tr.length;er++)tr[er]=byteSwap(tr[er])}const hexes$1=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));function bytesToHex$5(tr){bytes$5(tr);let er="";for(let rr=0;rr<tr.length;rr++)er+=hexes$1[tr[rr]];return er}const asciis$1={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16$1(tr){if(tr>=asciis$1._0&&tr<=asciis$1._9)return tr-asciis$1._0;if(tr>=asciis$1._A&&tr<=asciis$1._F)return tr-(asciis$1._A-10);if(tr>=asciis$1._a&&tr<=asciis$1._f)return tr-(asciis$1._a-10)}function hexToBytes$6(tr){if(typeof tr!="string")throw new Error("hex string expected, got "+typeof tr);const er=tr.length,rr=er/2;if(er%2)throw new Error("padded hex string expected, got unpadded hex of length "+er);const nr=new Uint8Array(rr);for(let ir=0,or=0;ir<rr;ir++,or+=2){const sr=asciiToBase16$1(tr.charCodeAt(or)),ar=asciiToBase16$1(tr.charCodeAt(or+1));if(sr===void 0||ar===void 0){const cr=tr[or]+tr[or+1];throw new Error('hex string expected, got non-hex character "'+cr+'" at index '+or)}nr[ir]=sr*16+ar}return nr}const nextTick$1=async()=>{};async function asyncLoop(tr,er,rr){let nr=Date.now();for(let ir=0;ir<tr;ir++){rr(ir);const or=Date.now()-nr;or>=0&&or<er||(await nextTick$1(),nr+=or)}}function utf8ToBytes$3(tr){if(typeof tr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof tr}`);return new Uint8Array(new TextEncoder().encode(tr))}function toBytes$4(tr){return typeof tr=="string"&&(tr=utf8ToBytes$3(tr)),bytes$5(tr),tr}function concatBytes$4(...tr){let er=0;for(let nr=0;nr<tr.length;nr++){const ir=tr[nr];bytes$5(ir),er+=ir.length}const rr=new Uint8Array(er);for(let nr=0,ir=0;nr<tr.length;nr++){const or=tr[nr];rr.set(or,ir),ir+=or.length}return rr}let Hash$7=class{clone(){return this._cloneInto()}};const toStr$5={}.toString;function checkOpts(tr,er){if(er!==void 0&&toStr$5.call(er)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(tr,er)}function wrapConstructor(tr){const er=nr=>tr().update(toBytes$4(nr)).digest(),rr=tr();return er.outputLen=rr.outputLen,er.blockLen=rr.blockLen,er.create=()=>tr(),er}function wrapConstructorWithOpts(tr){const er=(nr,ir)=>tr(ir).update(toBytes$4(nr)).digest(),rr=tr({});return er.outputLen=rr.outputLen,er.blockLen=rr.blockLen,er.create=nr=>tr(nr),er}function wrapXOFConstructorWithOpts(tr){const er=(nr,ir)=>tr(ir).update(toBytes$4(nr)).digest(),rr=tr({});return er.outputLen=rr.outputLen,er.blockLen=rr.blockLen,er.create=nr=>tr(nr),er}function randomBytes$1(tr=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(tr));throw new Error("crypto.getRandomValues must be defined")}const utils$6=Object.freeze(Object.defineProperty({__proto__:null,Hash:Hash$7,asyncLoop,byteSwap,byteSwap32,byteSwapIfBE,bytesToHex:bytesToHex$5,checkOpts,concatBytes:concatBytes$4,createView,hexToBytes:hexToBytes$6,isBytes:isBytes$2,isLE,nextTick:nextTick$1,randomBytes:randomBytes$1,rotl,rotr,toBytes:toBytes$4,u32,u8,utf8ToBytes:utf8ToBytes$3,wrapConstructor,wrapConstructorWithOpts,wrapXOFConstructorWithOpts},Symbol.toStringTag,{value:"Module"}));function setBigUint64(tr,er,rr,nr){if(typeof tr.setBigUint64=="function")return tr.setBigUint64(er,rr,nr);const ir=BigInt(32),or=BigInt(4294967295),sr=Number(rr>>ir&or),ar=Number(rr&or),cr=nr?4:0,lr=nr?0:4;tr.setUint32(er+cr,sr,nr),tr.setUint32(er+lr,ar,nr)}const Chi=(tr,er,rr)=>tr&er^~tr&rr,Maj=(tr,er,rr)=>tr&er^tr&rr^er&rr;class HashMD extends Hash$7{constructor(er,rr,nr,ir){super(),this.blockLen=er,this.outputLen=rr,this.padOffset=nr,this.isLE=ir,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(er),this.view=createView(this.buffer)}update(er){exists$1(this);const{view:rr,buffer:nr,blockLen:ir}=this;er=toBytes$4(er);const or=er.length;for(let sr=0;sr<or;){const ar=Math.min(ir-this.pos,or-sr);if(ar===ir){const cr=createView(er);for(;ir<=or-sr;sr+=ir)this.process(cr,sr);continue}nr.set(er.subarray(sr,sr+ar),this.pos),this.pos+=ar,sr+=ar,this.pos===ir&&(this.process(rr,0),this.pos=0)}return this.length+=er.length,this.roundClean(),this}digestInto(er){exists$1(this),output$1(er,this),this.finished=!0;const{buffer:rr,view:nr,blockLen:ir,isLE:or}=this;let{pos:sr}=this;rr[sr++]=128,this.buffer.subarray(sr).fill(0),this.padOffset>ir-sr&&(this.process(nr,0),sr=0);for(let fr=sr;fr<ir;fr++)rr[fr]=0;setBigUint64(nr,ir-8,BigInt(this.length*8),or),this.process(nr,0);const ar=createView(er),cr=this.outputLen;if(cr%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const lr=cr/4,ur=this.get();if(lr>ur.length)throw new Error("_sha2: outputLen bigger than state");for(let fr=0;fr<lr;fr++)ar.setUint32(4*fr,ur[fr],or)}digest(){const{buffer:er,outputLen:rr}=this;this.digestInto(er);const nr=er.slice(0,rr);return this.destroy(),nr}_cloneInto(er){er||(er=new this.constructor),er.set(...this.get());const{blockLen:rr,buffer:nr,length:ir,finished:or,destroyed:sr,pos:ar}=this;return er.length=ir,er.pos=ar,er.finished=or,er.destroyed=sr,ir%rr&&er.buffer.set(nr),er}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:er,B:rr,C:nr,D:ir,E:or,F:sr,G:ar,H:cr}=this;return[er,rr,nr,ir,or,sr,ar,cr]}set(er,rr,nr,ir,or,sr,ar,cr){this.A=er|0,this.B=rr|0,this.C=nr|0,this.D=ir|0,this.E=or|0,this.F=sr|0,this.G=ar|0,this.H=cr|0}process(er,rr){for(let fr=0;fr<16;fr++,rr+=4)SHA256_W[fr]=er.getUint32(rr,!1);for(let fr=16;fr<64;fr++){const dr=SHA256_W[fr-15],gr=SHA256_W[fr-2],br=rotr(dr,7)^rotr(dr,18)^dr>>>3,vr=rotr(gr,17)^rotr(gr,19)^gr>>>10;SHA256_W[fr]=vr+SHA256_W[fr-7]+br+SHA256_W[fr-16]|0}let{A:nr,B:ir,C:or,D:sr,E:ar,F:cr,G:lr,H:ur}=this;for(let fr=0;fr<64;fr++){const dr=rotr(ar,6)^rotr(ar,11)^rotr(ar,25),gr=ur+dr+Chi(ar,cr,lr)+SHA256_K[fr]+SHA256_W[fr]|0,vr=(rotr(nr,2)^rotr(nr,13)^rotr(nr,22))+Maj(nr,ir,or)|0;ur=lr,lr=cr,cr=ar,ar=sr+gr|0,sr=or,or=ir,ir=nr,nr=gr+vr|0}nr=nr+this.A|0,ir=ir+this.B|0,or=or+this.C|0,sr=sr+this.D|0,ar=ar+this.E|0,cr=cr+this.F|0,lr=lr+this.G|0,ur=ur+this.H|0,this.set(nr,ir,or,sr,ar,cr,lr,ur)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);class HMAC extends Hash$7{constructor(er,rr){super(),this.finished=!1,this.destroyed=!1,hash$2(er);const nr=toBytes$4(rr);if(this.iHash=er.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const ir=this.blockLen,or=new Uint8Array(ir);or.set(nr.length>ir?er.create().update(nr).digest():nr);for(let sr=0;sr<or.length;sr++)or[sr]^=54;this.iHash.update(or),this.oHash=er.create();for(let sr=0;sr<or.length;sr++)or[sr]^=106;this.oHash.update(or),or.fill(0)}update(er){return exists$1(this),this.iHash.update(er),this}digestInto(er){exists$1(this),bytes$5(er,this.outputLen),this.finished=!0,this.iHash.digestInto(er),this.oHash.update(er),this.oHash.digestInto(er),this.destroy()}digest(){const er=new Uint8Array(this.oHash.outputLen);return this.digestInto(er),er}_cloneInto(er){er||(er=Object.create(Object.getPrototypeOf(this),{}));const{oHash:rr,iHash:nr,finished:ir,destroyed:or,blockLen:sr,outputLen:ar}=this;return er=er,er.finished=ir,er.destroyed=or,er.blockLen=sr,er.outputLen=ar,er.oHash=rr._cloneInto(er.oHash),er.iHash=nr._cloneInto(er.iHash),er}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(tr,er,rr)=>new HMAC(tr,er).update(rr).digest();hmac.create=(tr,er)=>new HMAC(tr,er);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$5=BigInt(0),_1n$5=BigInt(1),_2n$4=BigInt(2);function isBytes$1(tr){return tr instanceof Uint8Array||tr!=null&&typeof tr=="object"&&tr.constructor.name==="Uint8Array"}function abytes(tr){if(!isBytes$1(tr))throw new Error("Uint8Array expected")}const hexes=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));function bytesToHex$4(tr){abytes(tr);let er="";for(let rr=0;rr<tr.length;rr++)er+=hexes[tr[rr]];return er}function numberToHexUnpadded(tr){const er=tr.toString(16);return er.length&1?`0${er}`:er}function hexToNumber$2(tr){if(typeof tr!="string")throw new Error("hex string expected, got "+typeof tr);return BigInt(tr===""?"0":`0x${tr}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(tr){if(tr>=asciis._0&&tr<=asciis._9)return tr-asciis._0;if(tr>=asciis._A&&tr<=asciis._F)return tr-(asciis._A-10);if(tr>=asciis._a&&tr<=asciis._f)return tr-(asciis._a-10)}function hexToBytes$5(tr){if(typeof tr!="string")throw new Error("hex string expected, got "+typeof tr);const er=tr.length,rr=er/2;if(er%2)throw new Error("padded hex string expected, got unpadded hex of length "+er);const nr=new Uint8Array(rr);for(let ir=0,or=0;ir<rr;ir++,or+=2){const sr=asciiToBase16(tr.charCodeAt(or)),ar=asciiToBase16(tr.charCodeAt(or+1));if(sr===void 0||ar===void 0){const cr=tr[or]+tr[or+1];throw new Error('hex string expected, got non-hex character "'+cr+'" at index '+or)}nr[ir]=sr*16+ar}return nr}function bytesToNumberBE(tr){return hexToNumber$2(bytesToHex$4(tr))}function bytesToNumberLE(tr){return abytes(tr),hexToNumber$2(bytesToHex$4(Uint8Array.from(tr).reverse()))}function numberToBytesBE(tr,er){return hexToBytes$5(tr.toString(16).padStart(er*2,"0"))}function numberToBytesLE(tr,er){return numberToBytesBE(tr,er).reverse()}function numberToVarBytesBE(tr){return hexToBytes$5(numberToHexUnpadded(tr))}function ensureBytes(tr,er,rr){let nr;if(typeof er=="string")try{nr=hexToBytes$5(er)}catch(or){throw new Error(`${tr} must be valid hex string, got "${er}". Cause: ${or}`)}else if(isBytes$1(er))nr=Uint8Array.from(er);else throw new Error(`${tr} must be hex string or Uint8Array`);const ir=nr.length;if(typeof rr=="number"&&ir!==rr)throw new Error(`${tr} expected ${rr} bytes, got ${ir}`);return nr}function concatBytes$3(...tr){let er=0;for(let nr=0;nr<tr.length;nr++){const ir=tr[nr];abytes(ir),er+=ir.length}const rr=new Uint8Array(er);for(let nr=0,ir=0;nr<tr.length;nr++){const or=tr[nr];rr.set(or,ir),ir+=or.length}return rr}function equalBytes(tr,er){if(tr.length!==er.length)return!1;let rr=0;for(let nr=0;nr<tr.length;nr++)rr|=tr[nr]^er[nr];return rr===0}function utf8ToBytes$2(tr){if(typeof tr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof tr}`);return new Uint8Array(new TextEncoder().encode(tr))}function bitLen(tr){let er;for(er=0;tr>_0n$5;tr>>=_1n$5,er+=1);return er}function bitGet(tr,er){return tr>>BigInt(er)&_1n$5}function bitSet(tr,er,rr){return tr|(rr?_1n$5:_0n$5)<<BigInt(er)}const bitMask=tr=>(_2n$4<<BigInt(tr-1))-_1n$5,u8n=tr=>new Uint8Array(tr),u8fr=tr=>Uint8Array.from(tr);function createHmacDrbg(tr,er,rr){if(typeof tr!="number"||tr<2)throw new Error("hashLen must be a number");if(typeof er!="number"||er<2)throw new Error("qByteLen must be a number");if(typeof rr!="function")throw new Error("hmacFn must be a function");let nr=u8n(tr),ir=u8n(tr),or=0;const sr=()=>{nr.fill(1),ir.fill(0),or=0},ar=(...fr)=>rr(ir,nr,...fr),cr=(fr=u8n())=>{ir=ar(u8fr([0]),fr),nr=ar(),fr.length!==0&&(ir=ar(u8fr([1]),fr),nr=ar())},lr=()=>{if(or++>=1e3)throw new Error("drbg: tried 1000 values");let fr=0;const dr=[];for(;fr<er;){nr=ar();const gr=nr.slice();dr.push(gr),fr+=nr.length}return concatBytes$3(...dr)};return(fr,dr)=>{sr(),cr(fr);let gr;for(;!(gr=dr(lr()));)cr();return sr(),gr}}const validatorFns={bigint:tr=>typeof tr=="bigint",function:tr=>typeof tr=="function",boolean:tr=>typeof tr=="boolean",string:tr=>typeof tr=="string",stringOrUint8Array:tr=>typeof tr=="string"||isBytes$1(tr),isSafeInteger:tr=>Number.isSafeInteger(tr),array:tr=>Array.isArray(tr),field:(tr,er)=>er.Fp.isValid(tr),hash:tr=>typeof tr=="function"&&Number.isSafeInteger(tr.outputLen)};function validateObject(tr,er,rr={}){const nr=(ir,or,sr)=>{const ar=validatorFns[or];if(typeof ar!="function")throw new Error(`Invalid validator "${or}", expected function`);const cr=tr[ir];if(!(sr&&cr===void 0)&&!ar(cr,tr))throw new Error(`Invalid param ${String(ir)}=${cr} (${typeof cr}), expected ${or}`)};for(const[ir,or]of Object.entries(er))nr(ir,or,!1);for(const[ir,or]of Object.entries(rr))nr(ir,or,!0);return tr}const ut=Object.freeze(Object.defineProperty({__proto__:null,abytes,bitGet,bitLen,bitMask,bitSet,bytesToHex:bytesToHex$4,bytesToNumberBE,bytesToNumberLE,concatBytes:concatBytes$3,createHmacDrbg,ensureBytes,equalBytes,hexToBytes:hexToBytes$5,hexToNumber:hexToNumber$2,isBytes:isBytes$1,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$2,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$4=BigInt(1),_2n$3=BigInt(2),_3n$1=BigInt(3),_4n$1=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(tr,er){const rr=tr%er;return rr>=_0n$4?rr:er+rr}function pow(tr,er,rr){if(rr<=_0n$4||er<_0n$4)throw new Error("Expected power/modulo > 0");if(rr===_1n$4)return _0n$4;let nr=_1n$4;for(;er>_0n$4;)er&_1n$4&&(nr=nr*tr%rr),tr=tr*tr%rr,er>>=_1n$4;return nr}function pow2(tr,er,rr){let nr=tr;for(;er-- >_0n$4;)nr*=nr,nr%=rr;return nr}function invert(tr,er){if(tr===_0n$4||er<=_0n$4)throw new Error(`invert: expected positive integers, got n=${tr} mod=${er}`);let rr=mod(tr,er),nr=er,ir=_0n$4,or=_1n$4;for(;rr!==_0n$4;){const ar=nr/rr,cr=nr%rr,lr=ir-or*ar;nr=rr,rr=cr,ir=or,or=lr}if(nr!==_1n$4)throw new Error("invert: does not exist");return mod(ir,er)}function tonelliShanks(tr){const er=(tr-_1n$4)/_2n$3;let rr,nr,ir;for(rr=tr-_1n$4,nr=0;rr%_2n$3===_0n$4;rr/=_2n$3,nr++);for(ir=_2n$3;ir<tr&&pow(ir,er,tr)!==tr-_1n$4;ir++);if(nr===1){const sr=(tr+_1n$4)/_4n$1;return function(cr,lr){const ur=cr.pow(lr,sr);if(!cr.eql(cr.sqr(ur),lr))throw new Error("Cannot find square root");return ur}}const or=(rr+_1n$4)/_2n$3;return function(ar,cr){if(ar.pow(cr,er)===ar.neg(ar.ONE))throw new Error("Cannot find square root");let lr=nr,ur=ar.pow(ar.mul(ar.ONE,ir),rr),fr=ar.pow(cr,or),dr=ar.pow(cr,rr);for(;!ar.eql(dr,ar.ONE);){if(ar.eql(dr,ar.ZERO))return ar.ZERO;let gr=1;for(let vr=ar.sqr(dr);gr<lr&&!ar.eql(vr,ar.ONE);gr++)vr=ar.sqr(vr);const br=ar.pow(ur,_1n$4<<BigInt(lr-gr-1));ur=ar.sqr(br),fr=ar.mul(fr,br),dr=ar.mul(dr,ur),lr=gr}return fr}}function FpSqrt(tr){if(tr%_4n$1===_3n$1){const er=(tr+_1n$4)/_4n$1;return function(nr,ir){const or=nr.pow(ir,er);if(!nr.eql(nr.sqr(or),ir))throw new Error("Cannot find square root");return or}}if(tr%_8n===_5n){const er=(tr-_5n)/_8n;return function(nr,ir){const or=nr.mul(ir,_2n$3),sr=nr.pow(or,er),ar=nr.mul(ir,sr),cr=nr.mul(nr.mul(ar,_2n$3),sr),lr=nr.mul(ar,nr.sub(cr,nr.ONE));if(!nr.eql(nr.sqr(lr),ir))throw new Error("Cannot find square root");return lr}}return tonelliShanks(tr)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(tr){const er={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},rr=FIELD_FIELDS.reduce((nr,ir)=>(nr[ir]="function",nr),er);return validateObject(tr,rr)}function FpPow(tr,er,rr){if(rr<_0n$4)throw new Error("Expected power > 0");if(rr===_0n$4)return tr.ONE;if(rr===_1n$4)return er;let nr=tr.ONE,ir=er;for(;rr>_0n$4;)rr&_1n$4&&(nr=tr.mul(nr,ir)),ir=tr.sqr(ir),rr>>=_1n$4;return nr}function FpInvertBatch(tr,er){const rr=new Array(er.length),nr=er.reduce((or,sr,ar)=>tr.is0(sr)?or:(rr[ar]=or,tr.mul(or,sr)),tr.ONE),ir=tr.inv(nr);return er.reduceRight((or,sr,ar)=>tr.is0(sr)?or:(rr[ar]=tr.mul(or,rr[ar]),tr.mul(or,sr)),ir),rr}function nLength(tr,er){const rr=er!==void 0?er:tr.toString(2).length,nr=Math.ceil(rr/8);return{nBitLength:rr,nByteLength:nr}}function Field(tr,er,rr=!1,nr={}){if(tr<=_0n$4)throw new Error(`Expected Field ORDER > 0, got ${tr}`);const{nBitLength:ir,nByteLength:or}=nLength(tr,er);if(or>2048)throw new Error("Field lengths over 2048 bytes are not supported");const sr=FpSqrt(tr),ar=Object.freeze({ORDER:tr,BITS:ir,BYTES:or,MASK:bitMask(ir),ZERO:_0n$4,ONE:_1n$4,create:cr=>mod(cr,tr),isValid:cr=>{if(typeof cr!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof cr}`);return _0n$4<=cr&&cr<tr},is0:cr=>cr===_0n$4,isOdd:cr=>(cr&_1n$4)===_1n$4,neg:cr=>mod(-cr,tr),eql:(cr,lr)=>cr===lr,sqr:cr=>mod(cr*cr,tr),add:(cr,lr)=>mod(cr+lr,tr),sub:(cr,lr)=>mod(cr-lr,tr),mul:(cr,lr)=>mod(cr*lr,tr),pow:(cr,lr)=>FpPow(ar,cr,lr),div:(cr,lr)=>mod(cr*invert(lr,tr),tr),sqrN:cr=>cr*cr,addN:(cr,lr)=>cr+lr,subN:(cr,lr)=>cr-lr,mulN:(cr,lr)=>cr*lr,inv:cr=>invert(cr,tr),sqrt:nr.sqrt||(cr=>sr(ar,cr)),invertBatch:cr=>FpInvertBatch(ar,cr),cmov:(cr,lr,ur)=>ur?lr:cr,toBytes:cr=>rr?numberToBytesLE(cr,or):numberToBytesBE(cr,or),fromBytes:cr=>{if(cr.length!==or)throw new Error(`Fp.fromBytes: expected ${or}, got ${cr.length}`);return rr?bytesToNumberLE(cr):bytesToNumberBE(cr)}});return Object.freeze(ar)}function getFieldBytesLength(tr){if(typeof tr!="bigint")throw new Error("field order must be bigint");const er=tr.toString(2).length;return Math.ceil(er/8)}function getMinHashLength(tr){const er=getFieldBytesLength(tr);return er+Math.ceil(er/2)}function mapHashToField(tr,er,rr=!1){const nr=tr.length,ir=getFieldBytesLength(er),or=getMinHashLength(er);if(nr<16||nr<or||nr>1024)throw new Error(`expected ${or}-1024 bytes of input, got ${nr}`);const sr=rr?bytesToNumberBE(tr):bytesToNumberLE(tr),ar=mod(sr,er-_1n$4)+_1n$4;return rr?numberToBytesLE(ar,ir):numberToBytesBE(ar,ir)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$3=BigInt(1);function wNAF(tr,er){const rr=(ir,or)=>{const sr=or.negate();return ir?sr:or},nr=ir=>{const or=Math.ceil(er/ir)+1,sr=2**(ir-1);return{windows:or,windowSize:sr}};return{constTimeNegate:rr,unsafeLadder(ir,or){let sr=tr.ZERO,ar=ir;for(;or>_0n$3;)or&_1n$3&&(sr=sr.add(ar)),ar=ar.double(),or>>=_1n$3;return sr},precomputeWindow(ir,or){const{windows:sr,windowSize:ar}=nr(or),cr=[];let lr=ir,ur=lr;for(let fr=0;fr<sr;fr++){ur=lr,cr.push(ur);for(let dr=1;dr<ar;dr++)ur=ur.add(lr),cr.push(ur);lr=ur.double()}return cr},wNAF(ir,or,sr){const{windows:ar,windowSize:cr}=nr(ir);let lr=tr.ZERO,ur=tr.BASE;const fr=BigInt(2**ir-1),dr=2**ir,gr=BigInt(ir);for(let br=0;br<ar;br++){const vr=br*cr;let $r=Number(sr&fr);sr>>=gr,$r>cr&&($r-=dr,sr+=_1n$3);const Er=vr,_r=vr+Math.abs($r)-1,xr=br%2!==0,Ir=$r<0;$r===0?ur=ur.add(rr(xr,or[Er])):lr=lr.add(rr(Ir,or[_r]))}return{p:lr,f:ur}},wNAFCached(ir,or,sr,ar){const cr=ir._WINDOW_SIZE||1;let lr=or.get(ir);return lr||(lr=this.precomputeWindow(ir,cr),cr!==1&&or.set(ir,ar(lr))),this.wNAF(cr,lr,sr)}}}function validateBasic(tr){return validateField(tr.Fp),validateObject(tr,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(tr.n,tr.nBitLength),...tr,p:tr.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(tr){const er=validateBasic(tr);validateObject(er,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:rr,Fp:nr,a:ir}=er;if(rr){if(!nr.eql(ir,nr.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof rr!="object"||typeof rr.beta!="bigint"||typeof rr.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...er})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(er=""){super(er)}},_parseInt(tr){const{Err:er}=DER;if(tr.length<2||tr[0]!==2)throw new er("Invalid signature integer tag");const rr=tr[1],nr=tr.subarray(2,rr+2);if(!rr||nr.length!==rr)throw new er("Invalid signature integer: wrong length");if(nr[0]&128)throw new er("Invalid signature integer: negative");if(nr[0]===0&&!(nr[1]&128))throw new er("Invalid signature integer: unnecessary leading zero");return{d:b2n(nr),l:tr.subarray(rr+2)}},toSig(tr){const{Err:er}=DER,rr=typeof tr=="string"?h2b(tr):tr;abytes(rr);let nr=rr.length;if(nr<2||rr[0]!=48)throw new er("Invalid signature tag");if(rr[1]!==nr-2)throw new er("Invalid signature: incorrect length");const{d:ir,l:or}=DER._parseInt(rr.subarray(2)),{d:sr,l:ar}=DER._parseInt(or);if(ar.length)throw new er("Invalid signature: left bytes after parsing");return{r:ir,s:sr}},hexFromSig(tr){const er=lr=>Number.parseInt(lr[0],16)&8?"00"+lr:lr,rr=lr=>{const ur=lr.toString(16);return ur.length&1?`0${ur}`:ur},nr=er(rr(tr.s)),ir=er(rr(tr.r)),or=nr.length/2,sr=ir.length/2,ar=rr(or),cr=rr(sr);return`30${rr(sr+or+4)}02${cr}${ir}02${ar}${nr}`}},_0n$2=BigInt(0),_1n$2=BigInt(1),_2n$2=BigInt(2),_3n=BigInt(3),_4n=BigInt(4);function weierstrassPoints(tr){const er=validatePointOpts(tr),{Fp:rr}=er,nr=er.toBytes||((br,vr,$r)=>{const Er=vr.toAffine();return concatBytes$3(Uint8Array.from([4]),rr.toBytes(Er.x),rr.toBytes(Er.y))}),ir=er.fromBytes||(br=>{const vr=br.subarray(1),$r=rr.fromBytes(vr.subarray(0,rr.BYTES)),Er=rr.fromBytes(vr.subarray(rr.BYTES,2*rr.BYTES));return{x:$r,y:Er}});function or(br){const{a:vr,b:$r}=er,Er=rr.sqr(br),_r=rr.mul(Er,br);return rr.add(rr.add(_r,rr.mul(br,vr)),$r)}if(!rr.eql(rr.sqr(er.Gy),or(er.Gx)))throw new Error("bad generator point: equation left != right");function sr(br){return typeof br=="bigint"&&_0n$2<br&&br<er.n}function ar(br){if(!sr(br))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function cr(br){const{allowedPrivateKeyLengths:vr,nByteLength:$r,wrapPrivateKey:Er,n:_r}=er;if(vr&&typeof br!="bigint"){if(isBytes$1(br)&&(br=bytesToHex$4(br)),typeof br!="string"||!vr.includes(br.length))throw new Error("Invalid key");br=br.padStart($r*2,"0")}let xr;try{xr=typeof br=="bigint"?br:bytesToNumberBE(ensureBytes("private key",br,$r))}catch{throw new Error(`private key must be ${$r} bytes, hex or bigint, not ${typeof br}`)}return Er&&(xr=mod(xr,_r)),ar(xr),xr}const lr=new Map;function ur(br){if(!(br instanceof fr))throw new Error("ProjectivePoint expected")}class fr{constructor(vr,$r,Er){if(this.px=vr,this.py=$r,this.pz=Er,vr==null||!rr.isValid(vr))throw new Error("x required");if($r==null||!rr.isValid($r))throw new Error("y required");if(Er==null||!rr.isValid(Er))throw new Error("z required")}static fromAffine(vr){const{x:$r,y:Er}=vr||{};if(!vr||!rr.isValid($r)||!rr.isValid(Er))throw new Error("invalid affine point");if(vr instanceof fr)throw new Error("projective point not allowed");const _r=xr=>rr.eql(xr,rr.ZERO);return _r($r)&&_r(Er)?fr.ZERO:new fr($r,Er,rr.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(vr){const $r=rr.invertBatch(vr.map(Er=>Er.pz));return vr.map((Er,_r)=>Er.toAffine($r[_r])).map(fr.fromAffine)}static fromHex(vr){const $r=fr.fromAffine(ir(ensureBytes("pointHex",vr)));return $r.assertValidity(),$r}static fromPrivateKey(vr){return fr.BASE.multiply(cr(vr))}_setWindowSize(vr){this._WINDOW_SIZE=vr,lr.delete(this)}assertValidity(){if(this.is0()){if(er.allowInfinityPoint&&!rr.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:vr,y:$r}=this.toAffine();if(!rr.isValid(vr)||!rr.isValid($r))throw new Error("bad point: x or y not FE");const Er=rr.sqr($r),_r=or(vr);if(!rr.eql(Er,_r))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:vr}=this.toAffine();if(rr.isOdd)return!rr.isOdd(vr);throw new Error("Field doesn't support isOdd")}equals(vr){ur(vr);const{px:$r,py:Er,pz:_r}=this,{px:xr,py:Ir,pz:Nr}=vr,Lr=rr.eql(rr.mul($r,Nr),rr.mul(xr,_r)),jr=rr.eql(rr.mul(Er,Nr),rr.mul(Ir,_r));return Lr&&jr}negate(){return new fr(this.px,rr.neg(this.py),this.pz)}double(){const{a:vr,b:$r}=er,Er=rr.mul($r,_3n),{px:_r,py:xr,pz:Ir}=this;let Nr=rr.ZERO,Lr=rr.ZERO,jr=rr.ZERO,Or=rr.mul(_r,_r),Dr=rr.mul(xr,xr),Cr=rr.mul(Ir,Ir),Tr=rr.mul(_r,xr);return Tr=rr.add(Tr,Tr),jr=rr.mul(_r,Ir),jr=rr.add(jr,jr),Nr=rr.mul(vr,jr),Lr=rr.mul(Er,Cr),Lr=rr.add(Nr,Lr),Nr=rr.sub(Dr,Lr),Lr=rr.add(Dr,Lr),Lr=rr.mul(Nr,Lr),Nr=rr.mul(Tr,Nr),jr=rr.mul(Er,jr),Cr=rr.mul(vr,Cr),Tr=rr.sub(Or,Cr),Tr=rr.mul(vr,Tr),Tr=rr.add(Tr,jr),jr=rr.add(Or,Or),Or=rr.add(jr,Or),Or=rr.add(Or,Cr),Or=rr.mul(Or,Tr),Lr=rr.add(Lr,Or),Cr=rr.mul(xr,Ir),Cr=rr.add(Cr,Cr),Or=rr.mul(Cr,Tr),Nr=rr.sub(Nr,Or),jr=rr.mul(Cr,Dr),jr=rr.add(jr,jr),jr=rr.add(jr,jr),new fr(Nr,Lr,jr)}add(vr){ur(vr);const{px:$r,py:Er,pz:_r}=this,{px:xr,py:Ir,pz:Nr}=vr;let Lr=rr.ZERO,jr=rr.ZERO,Or=rr.ZERO;const Dr=er.a,Cr=rr.mul(er.b,_3n);let Tr=rr.mul($r,xr),yr=rr.mul(Er,Ir),mr=rr.mul(_r,Nr),hr=rr.add($r,Er),pr=rr.add(xr,Ir);hr=rr.mul(hr,pr),pr=rr.add(Tr,yr),hr=rr.sub(hr,pr),pr=rr.add($r,_r);let wr=rr.add(xr,Nr);return pr=rr.mul(pr,wr),wr=rr.add(Tr,mr),pr=rr.sub(pr,wr),wr=rr.add(Er,_r),Lr=rr.add(Ir,Nr),wr=rr.mul(wr,Lr),Lr=rr.add(yr,mr),wr=rr.sub(wr,Lr),Or=rr.mul(Dr,pr),Lr=rr.mul(Cr,mr),Or=rr.add(Lr,Or),Lr=rr.sub(yr,Or),Or=rr.add(yr,Or),jr=rr.mul(Lr,Or),yr=rr.add(Tr,Tr),yr=rr.add(yr,Tr),mr=rr.mul(Dr,mr),pr=rr.mul(Cr,pr),yr=rr.add(yr,mr),mr=rr.sub(Tr,mr),mr=rr.mul(Dr,mr),pr=rr.add(pr,mr),Tr=rr.mul(yr,pr),jr=rr.add(jr,Tr),Tr=rr.mul(wr,pr),Lr=rr.mul(hr,Lr),Lr=rr.sub(Lr,Tr),Tr=rr.mul(hr,yr),Or=rr.mul(wr,Or),Or=rr.add(Or,Tr),new fr(Lr,jr,Or)}subtract(vr){return this.add(vr.negate())}is0(){return this.equals(fr.ZERO)}wNAF(vr){return gr.wNAFCached(this,lr,vr,$r=>{const Er=rr.invertBatch($r.map(_r=>_r.pz));return $r.map((_r,xr)=>_r.toAffine(Er[xr])).map(fr.fromAffine)})}multiplyUnsafe(vr){const $r=fr.ZERO;if(vr===_0n$2)return $r;if(ar(vr),vr===_1n$2)return this;const{endo:Er}=er;if(!Er)return gr.unsafeLadder(this,vr);let{k1neg:_r,k1:xr,k2neg:Ir,k2:Nr}=Er.splitScalar(vr),Lr=$r,jr=$r,Or=this;for(;xr>_0n$2||Nr>_0n$2;)xr&_1n$2&&(Lr=Lr.add(Or)),Nr&_1n$2&&(jr=jr.add(Or)),Or=Or.double(),xr>>=_1n$2,Nr>>=_1n$2;return _r&&(Lr=Lr.negate()),Ir&&(jr=jr.negate()),jr=new fr(rr.mul(jr.px,Er.beta),jr.py,jr.pz),Lr.add(jr)}multiply(vr){ar(vr);let $r=vr,Er,_r;const{endo:xr}=er;if(xr){const{k1neg:Ir,k1:Nr,k2neg:Lr,k2:jr}=xr.splitScalar($r);let{p:Or,f:Dr}=this.wNAF(Nr),{p:Cr,f:Tr}=this.wNAF(jr);Or=gr.constTimeNegate(Ir,Or),Cr=gr.constTimeNegate(Lr,Cr),Cr=new fr(rr.mul(Cr.px,xr.beta),Cr.py,Cr.pz),Er=Or.add(Cr),_r=Dr.add(Tr)}else{const{p:Ir,f:Nr}=this.wNAF($r);Er=Ir,_r=Nr}return fr.normalizeZ([Er,_r])[0]}multiplyAndAddUnsafe(vr,$r,Er){const _r=fr.BASE,xr=(Nr,Lr)=>Lr===_0n$2||Lr===_1n$2||!Nr.equals(_r)?Nr.multiplyUnsafe(Lr):Nr.multiply(Lr),Ir=xr(this,$r).add(xr(vr,Er));return Ir.is0()?void 0:Ir}toAffine(vr){const{px:$r,py:Er,pz:_r}=this,xr=this.is0();vr==null&&(vr=xr?rr.ONE:rr.inv(_r));const Ir=rr.mul($r,vr),Nr=rr.mul(Er,vr),Lr=rr.mul(_r,vr);if(xr)return{x:rr.ZERO,y:rr.ZERO};if(!rr.eql(Lr,rr.ONE))throw new Error("invZ was invalid");return{x:Ir,y:Nr}}isTorsionFree(){const{h:vr,isTorsionFree:$r}=er;if(vr===_1n$2)return!0;if($r)return $r(fr,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:vr,clearCofactor:$r}=er;return vr===_1n$2?this:$r?$r(fr,this):this.multiplyUnsafe(er.h)}toRawBytes(vr=!0){return this.assertValidity(),nr(fr,this,vr)}toHex(vr=!0){return bytesToHex$4(this.toRawBytes(vr))}}fr.BASE=new fr(er.Gx,er.Gy,rr.ONE),fr.ZERO=new fr(rr.ZERO,rr.ONE,rr.ZERO);const dr=er.nBitLength,gr=wNAF(fr,er.endo?Math.ceil(dr/2):dr);return{CURVE:er,ProjectivePoint:fr,normPrivateKeyToScalar:cr,weierstrassEquation:or,isWithinCurveOrder:sr}}function validateOpts(tr){const er=validateBasic(tr);return validateObject(er,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...er})}function weierstrass(tr){const er=validateOpts(tr),{Fp:rr,n:nr}=er,ir=rr.BYTES+1,or=2*rr.BYTES+1;function sr(pr){return _0n$2<pr&&pr<rr.ORDER}function ar(pr){return mod(pr,nr)}function cr(pr){return invert(pr,nr)}const{ProjectivePoint:lr,normPrivateKeyToScalar:ur,weierstrassEquation:fr,isWithinCurveOrder:dr}=weierstrassPoints({...er,toBytes(pr,wr,Ar){const Rr=wr.toAffine(),Pr=rr.toBytes(Rr.x),Sr=concatBytes$3;return Ar?Sr(Uint8Array.from([wr.hasEvenY()?2:3]),Pr):Sr(Uint8Array.from([4]),Pr,rr.toBytes(Rr.y))},fromBytes(pr){const wr=pr.length,Ar=pr[0],Rr=pr.subarray(1);if(wr===ir&&(Ar===2||Ar===3)){const Pr=bytesToNumberBE(Rr);if(!sr(Pr))throw new Error("Point is not on curve");const Sr=fr(Pr);let Mr;try{Mr=rr.sqrt(Sr)}catch(Jr){const qr=Jr instanceof Error?": "+Jr.message:"";throw new Error("Point is not on curve"+qr)}const Br=(Mr&_1n$2)===_1n$2;return(Ar&1)===1!==Br&&(Mr=rr.neg(Mr)),{x:Pr,y:Mr}}else if(wr===or&&Ar===4){const Pr=rr.fromBytes(Rr.subarray(0,rr.BYTES)),Sr=rr.fromBytes(Rr.subarray(rr.BYTES,2*rr.BYTES));return{x:Pr,y:Sr}}else throw new Error(`Point of length ${wr} was invalid. Expected ${ir} compressed bytes or ${or} uncompressed bytes`)}}),gr=pr=>bytesToHex$4(numberToBytesBE(pr,er.nByteLength));function br(pr){const wr=nr>>_1n$2;return pr>wr}function vr(pr){return br(pr)?ar(-pr):pr}const $r=(pr,wr,Ar)=>bytesToNumberBE(pr.slice(wr,Ar));class Er{constructor(wr,Ar,Rr){this.r=wr,this.s=Ar,this.recovery=Rr,this.assertValidity()}static fromCompact(wr){const Ar=er.nByteLength;return wr=ensureBytes("compactSignature",wr,Ar*2),new Er($r(wr,0,Ar),$r(wr,Ar,2*Ar))}static fromDER(wr){const{r:Ar,s:Rr}=DER.toSig(ensureBytes("DER",wr));return new Er(Ar,Rr)}assertValidity(){if(!dr(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!dr(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(wr){return new Er(this.r,this.s,wr)}recoverPublicKey(wr){const{r:Ar,s:Rr,recovery:Pr}=this,Sr=jr(ensureBytes("msgHash",wr));if(Pr==null||![0,1,2,3].includes(Pr))throw new Error("recovery id invalid");const Mr=Pr===2||Pr===3?Ar+er.n:Ar;if(Mr>=rr.ORDER)throw new Error("recovery id 2 or 3 invalid");const Br=Pr&1?"03":"02",Ur=lr.fromHex(Br+gr(Mr)),Jr=cr(Mr),qr=ar(-Sr*Jr),zr=ar(Rr*Jr),sn=lr.BASE.multiplyAndAddUnsafe(Ur,qr,zr);if(!sn)throw new Error("point at infinify");return sn.assertValidity(),sn}hasHighS(){return br(this.s)}normalizeS(){return this.hasHighS()?new Er(this.r,ar(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$5(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$5(this.toCompactHex())}toCompactHex(){return gr(this.r)+gr(this.s)}}const _r={isValidPrivateKey(pr){try{return ur(pr),!0}catch{return!1}},normPrivateKeyToScalar:ur,randomPrivateKey:()=>{const pr=getMinHashLength(er.n);return mapHashToField(er.randomBytes(pr),er.n)},precompute(pr=8,wr=lr.BASE){return wr._setWindowSize(pr),wr.multiply(BigInt(3)),wr}};function xr(pr,wr=!0){return lr.fromPrivateKey(pr).toRawBytes(wr)}function Ir(pr){const wr=isBytes$1(pr),Ar=typeof pr=="string",Rr=(wr||Ar)&&pr.length;return wr?Rr===ir||Rr===or:Ar?Rr===2*ir||Rr===2*or:pr instanceof lr}function Nr(pr,wr,Ar=!0){if(Ir(pr))throw new Error("first arg must be private key");if(!Ir(wr))throw new Error("second arg must be public key");return lr.fromHex(wr).multiply(ur(pr)).toRawBytes(Ar)}const Lr=er.bits2int||function(pr){const wr=bytesToNumberBE(pr),Ar=pr.length*8-er.nBitLength;return Ar>0?wr>>BigInt(Ar):wr},jr=er.bits2int_modN||function(pr){return ar(Lr(pr))},Or=bitMask(er.nBitLength);function Dr(pr){if(typeof pr!="bigint")throw new Error("bigint expected");if(!(_0n$2<=pr&&pr<Or))throw new Error(`bigint expected < 2^${er.nBitLength}`);return numberToBytesBE(pr,er.nByteLength)}function Cr(pr,wr,Ar=Tr){if(["recovered","canonical"].some(tn=>tn in Ar))throw new Error("sign() legacy options not supported");const{hash:Rr,randomBytes:Pr}=er;let{lowS:Sr,prehash:Mr,extraEntropy:Br}=Ar;Sr==null&&(Sr=!0),pr=ensureBytes("msgHash",pr),Mr&&(pr=ensureBytes("prehashed msgHash",Rr(pr)));const Ur=jr(pr),Jr=ur(wr),qr=[Dr(Jr),Dr(Ur)];if(Br!=null&&Br!==!1){const tn=Br===!0?Pr(rr.BYTES):Br;qr.push(ensureBytes("extraEntropy",tn))}const zr=concatBytes$3(...qr),sn=Ur;function rn(tn){const dn=Lr(tn);if(!dr(dn))return;const Yr=cr(dn),Vr=lr.BASE.multiply(dn).toAffine(),Qr=ar(Vr.x);if(Qr===_0n$2)return;const un=ar(Yr*ar(sn+Qr*Jr));if(un===_0n$2)return;let yn=(Vr.x===Qr?0:2)|Number(Vr.y&_1n$2),An=un;return Sr&&br(un)&&(An=vr(un),yn^=1),new Er(Qr,An,yn)}return{seed:zr,k2sig:rn}}const Tr={lowS:er.lowS,prehash:!1},yr={lowS:er.lowS,prehash:!1};function mr(pr,wr,Ar=Tr){const{seed:Rr,k2sig:Pr}=Cr(pr,wr,Ar),Sr=er;return createHmacDrbg(Sr.hash.outputLen,Sr.nByteLength,Sr.hmac)(Rr,Pr)}lr.BASE._setWindowSize(8);function hr(pr,wr,Ar,Rr=yr){const Pr=pr;if(wr=ensureBytes("msgHash",wr),Ar=ensureBytes("publicKey",Ar),"strict"in Rr)throw new Error("options.strict was renamed to lowS");const{lowS:Sr,prehash:Mr}=Rr;let Br,Ur;try{if(typeof Pr=="string"||isBytes$1(Pr))try{Br=Er.fromDER(Pr)}catch(Vr){if(!(Vr instanceof DER.Err))throw Vr;Br=Er.fromCompact(Pr)}else if(typeof Pr=="object"&&typeof Pr.r=="bigint"&&typeof Pr.s=="bigint"){const{r:Vr,s:Qr}=Pr;Br=new Er(Vr,Qr)}else throw new Error("PARSE");Ur=lr.fromHex(Ar)}catch(Vr){if(Vr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Sr&&Br.hasHighS())return!1;Mr&&(wr=er.hash(wr));const{r:Jr,s:qr}=Br,zr=jr(wr),sn=cr(qr),rn=ar(zr*sn),tn=ar(Jr*sn),dn=lr.BASE.multiplyAndAddUnsafe(Ur,rn,tn)?.toAffine();return dn?ar(dn.x)===Jr:!1}return{CURVE:er,getPublicKey:xr,getSharedSecret:Nr,sign:mr,verify:hr,ProjectivePoint:lr,Signature:Er,utils:_r}}function SWUFpSqrtRatio(tr,er){const rr=tr.ORDER;let nr=_0n$2;for(let br=rr-_1n$2;br%_2n$2===_0n$2;br/=_2n$2)nr+=_1n$2;const ir=nr,or=_2n$2<<ir-_1n$2-_1n$2,sr=or*_2n$2,ar=(rr-_1n$2)/sr,cr=(ar-_1n$2)/_2n$2,lr=sr-_1n$2,ur=or,fr=tr.pow(er,ar),dr=tr.pow(er,(ar+_1n$2)/_2n$2);let gr=(br,vr)=>{let $r=fr,Er=tr.pow(vr,lr),_r=tr.sqr(Er);_r=tr.mul(_r,vr);let xr=tr.mul(br,_r);xr=tr.pow(xr,cr),xr=tr.mul(xr,Er),Er=tr.mul(xr,vr),_r=tr.mul(xr,br);let Ir=tr.mul(_r,Er);xr=tr.pow(Ir,ur);let Nr=tr.eql(xr,tr.ONE);Er=tr.mul(_r,dr),xr=tr.mul(Ir,$r),_r=tr.cmov(Er,_r,Nr),Ir=tr.cmov(xr,Ir,Nr);for(let Lr=ir;Lr>_1n$2;Lr--){let jr=Lr-_2n$2;jr=_2n$2<<jr-_1n$2;let Or=tr.pow(Ir,jr);const Dr=tr.eql(Or,tr.ONE);Er=tr.mul(_r,$r),$r=tr.mul($r,$r),Or=tr.mul(Ir,$r),_r=tr.cmov(Er,_r,Dr),Ir=tr.cmov(Or,Ir,Dr)}return{isValid:Nr,value:_r}};if(tr.ORDER%_4n===_3n){const br=(tr.ORDER-_3n)/_4n,vr=tr.sqrt(tr.neg(er));gr=($r,Er)=>{let _r=tr.sqr(Er);const xr=tr.mul($r,Er);_r=tr.mul(_r,xr);let Ir=tr.pow(_r,br);Ir=tr.mul(Ir,xr);const Nr=tr.mul(Ir,vr),Lr=tr.mul(tr.sqr(Ir),Er),jr=tr.eql(Lr,$r);let Or=tr.cmov(Nr,Ir,jr);return{isValid:jr,value:Or}}}return gr}function mapToCurveSimpleSWU(tr,er){if(validateField(tr),!tr.isValid(er.A)||!tr.isValid(er.B)||!tr.isValid(er.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const rr=SWUFpSqrtRatio(tr,er.Z);if(!tr.isOdd)throw new Error("Fp.isOdd is not implemented!");return nr=>{let ir,or,sr,ar,cr,lr,ur,fr;ir=tr.sqr(nr),ir=tr.mul(ir,er.Z),or=tr.sqr(ir),or=tr.add(or,ir),sr=tr.add(or,tr.ONE),sr=tr.mul(sr,er.B),ar=tr.cmov(er.Z,tr.neg(or),!tr.eql(or,tr.ZERO)),ar=tr.mul(ar,er.A),or=tr.sqr(sr),lr=tr.sqr(ar),cr=tr.mul(lr,er.A),or=tr.add(or,cr),or=tr.mul(or,sr),lr=tr.mul(lr,ar),cr=tr.mul(lr,er.B),or=tr.add(or,cr),ur=tr.mul(ir,sr);const{isValid:dr,value:gr}=rr(or,lr);fr=tr.mul(ir,nr),fr=tr.mul(fr,gr),ur=tr.cmov(ur,sr,dr),fr=tr.cmov(fr,gr,dr);const br=tr.isOdd(nr)===tr.isOdd(fr);return fr=tr.cmov(tr.neg(fr),fr,br),ur=tr.div(ur,ar),{x:ur,y:fr}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(tr){return{hash:tr,hmac:(er,...rr)=>hmac(tr,er,concatBytes$4(...rr)),randomBytes:randomBytes$1}}function createCurve(tr,er){const rr=nr=>weierstrass({...tr,...getHash(nr)});return Object.freeze({...rr(er),create:rr})}const os2ip=bytesToNumberBE;function i2osp(tr,er){if(tr<0||tr>=1<<8*er)throw new Error(`bad I2OSP call: value=${tr} length=${er}`);const rr=Array.from({length:er}).fill(0);for(let nr=er-1;nr>=0;nr--)rr[nr]=tr&255,tr>>>=8;return new Uint8Array(rr)}function strxor(tr,er){const rr=new Uint8Array(tr.length);for(let nr=0;nr<tr.length;nr++)rr[nr]=tr[nr]^er[nr];return rr}function anum(tr){if(!Number.isSafeInteger(tr))throw new Error("number expected")}function expand_message_xmd(tr,er,rr,nr){abytes(tr),abytes(er),anum(rr),er.length>255&&(er=nr(concatBytes$3(utf8ToBytes$2("H2C-OVERSIZE-DST-"),er)));const{outputLen:ir,blockLen:or}=nr,sr=Math.ceil(rr/ir);if(sr>255)throw new Error("Invalid xmd length");const ar=concatBytes$3(er,i2osp(er.length,1)),cr=i2osp(0,or),lr=i2osp(rr,2),ur=new Array(sr),fr=nr(concatBytes$3(cr,tr,lr,i2osp(0,1),ar));ur[0]=nr(concatBytes$3(fr,i2osp(1,1),ar));for(let gr=1;gr<=sr;gr++){const br=[strxor(fr,ur[gr-1]),i2osp(gr+1,1),ar];ur[gr]=nr(concatBytes$3(...br))}return concatBytes$3(...ur).slice(0,rr)}function expand_message_xof(tr,er,rr,nr,ir){if(abytes(tr),abytes(er),anum(rr),er.length>255){const or=Math.ceil(2*nr/8);er=ir.create({dkLen:or}).update(utf8ToBytes$2("H2C-OVERSIZE-DST-")).update(er).digest()}if(rr>65535||er.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return ir.create({dkLen:rr}).update(tr).update(i2osp(rr,2)).update(er).update(i2osp(er.length,1)).digest()}function hash_to_field(tr,er,rr){validateObject(rr,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:nr,k:ir,m:or,hash:sr,expand:ar,DST:cr}=rr;abytes(tr),anum(er);const lr=typeof cr=="string"?utf8ToBytes$2(cr):cr,ur=nr.toString(2).length,fr=Math.ceil((ur+ir)/8),dr=er*or*fr;let gr;if(ar==="xmd")gr=expand_message_xmd(tr,lr,dr,sr);else if(ar==="xof")gr=expand_message_xof(tr,lr,dr,ir,sr);else if(ar==="_internal_pass")gr=tr;else throw new Error('expand must be "xmd" or "xof"');const br=new Array(er);for(let vr=0;vr<er;vr++){const $r=new Array(or);for(let Er=0;Er<or;Er++){const _r=fr*(Er+vr*or),xr=gr.subarray(_r,_r+fr);$r[Er]=mod(os2ip(xr),nr)}br[vr]=$r}return br}function isogenyMap(tr,er){const rr=er.map(nr=>Array.from(nr).reverse());return(nr,ir)=>{const[or,sr,ar,cr]=rr.map(lr=>lr.reduce((ur,fr)=>tr.add(tr.mul(ur,nr),fr)));return nr=tr.div(or,sr),ir=tr.mul(ir,tr.div(ar,cr)),{x:nr,y:ir}}}function createHasher(tr,er,rr){if(typeof er!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(nr,ir){const or=hash_to_field(nr,2,{...rr,DST:rr.DST,...ir}),sr=tr.fromAffine(er(or[0])),ar=tr.fromAffine(er(or[1])),cr=sr.add(ar).clearCofactor();return cr.assertValidity(),cr},encodeToCurve(nr,ir){const or=hash_to_field(nr,1,{...rr,DST:rr.encodeDST,...ir}),sr=tr.fromAffine(er(or[0])).clearCofactor();return sr.assertValidity(),sr},mapToCurve(nr){if(!Array.isArray(nr))throw new Error("mapToCurve: expected array of bigints");for(const or of nr)if(typeof or!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${or} in array`);const ir=tr.fromAffine(er(nr)).clearCofactor();return ir.assertValidity(),ir}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$1=BigInt(1),_2n$1=BigInt(2),divNearest=(tr,er)=>(tr+er/_2n$1)/er;function sqrtMod(tr){const er=secp256k1P,rr=BigInt(3),nr=BigInt(6),ir=BigInt(11),or=BigInt(22),sr=BigInt(23),ar=BigInt(44),cr=BigInt(88),lr=tr*tr*tr%er,ur=lr*lr*tr%er,fr=pow2(ur,rr,er)*ur%er,dr=pow2(fr,rr,er)*ur%er,gr=pow2(dr,_2n$1,er)*lr%er,br=pow2(gr,ir,er)*gr%er,vr=pow2(br,or,er)*br%er,$r=pow2(vr,ar,er)*vr%er,Er=pow2($r,cr,er)*$r%er,_r=pow2(Er,ar,er)*vr%er,xr=pow2(_r,rr,er)*ur%er,Ir=pow2(xr,sr,er)*br%er,Nr=pow2(Ir,nr,er)*lr%er,Lr=pow2(Nr,_2n$1,er);if(!Fp.eql(Fp.sqr(Lr),tr))throw new Error("Cannot find square root");return Lr}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1$1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:tr=>{const er=secp256k1N,rr=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),nr=-_1n$1*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ir=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),or=rr,sr=BigInt("0x100000000000000000000000000000000"),ar=divNearest(or*tr,er),cr=divNearest(-nr*tr,er);let lr=mod(tr-ar*rr-cr*ir,er),ur=mod(-ar*nr-cr*or,er);const fr=lr>sr,dr=ur>sr;if(fr&&(lr=er-lr),dr&&(ur=er-ur),lr>sr||ur>sr)throw new Error("splitScalar: Endomorphism failed, k="+tr);return{k1neg:fr,k1:lr,k2neg:dr,k2:ur}}}},sha256$1),_0n$1=BigInt(0),fe=tr=>typeof tr=="bigint"&&_0n$1<tr&&tr<secp256k1P,ge=tr=>typeof tr=="bigint"&&_0n$1<tr&&tr<secp256k1N,TAGGED_HASH_PREFIXES={};function taggedHash(tr,...er){let rr=TAGGED_HASH_PREFIXES[tr];if(rr===void 0){const nr=sha256$1(Uint8Array.from(tr,ir=>ir.charCodeAt(0)));rr=concatBytes$3(nr,nr),TAGGED_HASH_PREFIXES[tr]=rr}return sha256$1(concatBytes$3(rr,...er))}const pointToBytes=tr=>tr.toRawBytes(!0).slice(1),numTo32b=tr=>numberToBytesBE(tr,32),modP=tr=>mod(tr,secp256k1P),modN=tr=>mod(tr,secp256k1N),Point=secp256k1$1.ProjectivePoint,GmulAdd=(tr,er,rr)=>Point.BASE.multiplyAndAddUnsafe(tr,er,rr);function schnorrGetExtPubKey(tr){let er=secp256k1$1.utils.normPrivateKeyToScalar(tr),rr=Point.fromPrivateKey(er);return{scalar:rr.hasEvenY()?er:modN(-er),bytes:pointToBytes(rr)}}function lift_x(tr){if(!fe(tr))throw new Error("bad x: need 0 < x < p");const er=modP(tr*tr),rr=modP(er*tr+BigInt(7));let nr=sqrtMod(rr);nr%_2n$1!==_0n$1&&(nr=modP(-nr));const ir=new Point(tr,nr,_1n$1);return ir.assertValidity(),ir}function challenge(...tr){return modN(bytesToNumberBE(taggedHash("BIP0340/challenge",...tr)))}function schnorrGetPublicKey(tr){return schnorrGetExtPubKey(tr).bytes}function schnorrSign(tr,er,rr=randomBytes$1(32)){const nr=ensureBytes("message",tr),{bytes:ir,scalar:or}=schnorrGetExtPubKey(er),sr=ensureBytes("auxRand",rr,32),ar=numTo32b(or^bytesToNumberBE(taggedHash("BIP0340/aux",sr))),cr=taggedHash("BIP0340/nonce",ar,ir,nr),lr=modN(bytesToNumberBE(cr));if(lr===_0n$1)throw new Error("sign failed: k is zero");const{bytes:ur,scalar:fr}=schnorrGetExtPubKey(lr),dr=challenge(ur,ir,nr),gr=new Uint8Array(64);if(gr.set(ur,0),gr.set(numTo32b(modN(fr+dr*or)),32),!schnorrVerify(gr,nr,ir))throw new Error("sign: Invalid signature produced");return gr}function schnorrVerify(tr,er,rr){const nr=ensureBytes("signature",tr,64),ir=ensureBytes("message",er),or=ensureBytes("publicKey",rr,32);try{const sr=lift_x(bytesToNumberBE(or)),ar=bytesToNumberBE(nr.subarray(0,32));if(!fe(ar))return!1;const cr=bytesToNumberBE(nr.subarray(32,64));if(!ge(cr))return!1;const lr=challenge(numTo32b(ar),pointToBytes(sr),ir),ur=GmulAdd(sr,cr,modN(-lr));return!(!ur||!ur.hasEvenY()||ur.toAffine().x!==ar)}catch{return!1}}const schnorr={getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,utils:{randomPrivateKey:secp256k1$1.utils.randomPrivateKey,lift_x,pointToBytes,numberToBytesBE,bytesToNumberBE,taggedHash,mod}},isoMap=isogenyMap(Fp,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(tr=>tr.map(er=>BigInt(er)))),mapSWU=mapToCurveSimpleSWU(Fp,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Fp.create(BigInt("-11"))}),htf=createHasher(secp256k1$1.ProjectivePoint,tr=>{const{x:er,y:rr}=mapSWU(Fp.create(tr[0]));return isoMap(er,rr)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Fp.ORDER,m:1,k:128,expand:"xmd",hash:sha256$1}),hashToCurve=htf.hashToCurve,encodeToCurve=htf.encodeToCurve,secp256k1$2=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve,hashToCurve,schnorr,secp256k1:secp256k1$1},Symbol.toStringTag,{value:"Module"}));assert$9.bool;assert$9.bytes;function equalsBytes(tr,er){if(tr.length!==er.length)return!1;for(let rr=0;rr<tr.length;rr++)if(tr[rr]!==er[rr])return!1;return!0}function wrapHash(tr){return er=>(assert$9.bytes(er),tr(er))}(()=>{const tr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,er=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:er&&!tr?er("crypto"):void 0,web:tr}})();function isHexPrefixed$4(tr){if(typeof tr!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof tr}`);return tr[0]==="0"&&tr[1]==="x"}const stripHexPrefix$5=tr=>{if(typeof tr!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof tr}`);return isHexPrefixed$4(tr)?tr.slice(2):tr};function padToEven$6(tr){let er=tr;if(typeof er!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof er}`);return er.length%2&&(er=`0${er}`),er}function isHexString$5(tr,er){return!(typeof tr!="string"||!tr.match(/^0x[0-9A-Fa-f]*$/))}const assertIsBytes=function(tr){if(!(tr instanceof Uint8Array)){const er=`This method only supports Uint8Array but input was: ${tr}`;throw new Error(er)}},assertIsString$1=function(tr){if(typeof tr!="string"){const er=`This method only supports strings but input was: ${tr}`;throw new Error(er)}},BIGINT_0$2=BigInt(0),hexToBytesMapFirstKey$2={},hexToBytesMapSecondKey$2={};for(let tr=0;tr<16;tr++){const er=tr,rr=tr*16,nr=tr.toString(16).toLowerCase();hexToBytesMapSecondKey$2[nr]=er,hexToBytesMapSecondKey$2[nr.toUpperCase()]=er,hexToBytesMapFirstKey$2[nr]=rr,hexToBytesMapFirstKey$2[nr.toUpperCase()]=rr}function _unprefixedHexToBytes$2(tr){const er=tr.length,rr=new Uint8Array(er/2);for(let nr=0;nr<er;nr+=2)rr[nr/2]=hexToBytesMapFirstKey$2[tr[nr]]+hexToBytesMapSecondKey$2[tr[nr+1]];return rr}const unprefixedHexToBytes$1=tr=>{if(tr.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return _unprefixedHexToBytes$2(padToEven$6(tr))},hexByByte$1=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0")),bytesToHex$3=tr=>{let er="0x";if(tr===void 0||tr.length===0)return er;for(const rr of tr)er+=hexByByte$1[rr];return er},BIGINT_CACHE$1=[];for(let tr=0;tr<=256*256-1;tr++)BIGINT_CACHE$1[tr]=BigInt(tr);const bytesToBigInt$1=(tr,er=!1)=>{er&&tr.reverse();const rr=bytesToHex$3(tr);return rr==="0x"?BIGINT_0$2:rr.length===4?BIGINT_CACHE$1[tr[0]]:rr.length===6?BIGINT_CACHE$1[tr[0]*256+tr[1]]:BigInt(rr)},hexToBytes$4=tr=>{if(typeof tr!="string")throw new Error(`hex argument type ${typeof tr} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(tr))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${tr}`);return tr=tr.slice(2),tr.length%2!==0&&(tr=padToEven$6(tr)),_unprefixedHexToBytes$2(tr)},intToHex$2=tr=>{if(!Number.isSafeInteger(tr)||tr<0)throw new Error(`Received an invalid integer type: ${tr}`);return`0x${tr.toString(16)}`},intToBytes$2=tr=>{const er=intToHex$2(tr);return hexToBytes$4(er)},bigIntToBytes$1=(tr,er=!1)=>{const rr=toBytes$3("0x"+padToEven$6(tr.toString(16)));return er?rr.reverse():rr},zeros$1=tr=>new Uint8Array(tr),setLength$1=(tr,er,rr)=>tr.length<er?new Uint8Array([...zeros$1(er-tr.length),...tr]):tr.subarray(-er),setLengthLeft=(tr,er)=>(assertIsBytes(tr),setLength$1(tr,er)),stripZeros=tr=>{let er=tr[0];for(;tr.length>0&&er.toString()==="0";)tr=tr.slice(1),er=tr[0];return tr},unpadBytes=tr=>(assertIsBytes(tr),stripZeros(tr)),toBytes$3=tr=>{if(tr==null)return new Uint8Array;if(Array.isArray(tr)||tr instanceof Uint8Array)return Uint8Array.from(tr);if(typeof tr=="string"){if(!isHexString$5(tr))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${tr}`);return hexToBytes$4(tr)}if(typeof tr=="number")return intToBytes$2(tr);if(typeof tr=="bigint"){if(tr<BIGINT_0$2)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${tr}`);let er=tr.toString(16);return er.length%2&&(er="0"+er),unprefixedHexToBytes$1(er)}if(tr.toBytes!==void 0)return tr.toBytes();throw new Error("invalid type")},addHexPrefix$2=tr=>typeof tr!="string"||isHexPrefixed$4(tr)?tr:"0x"+tr,validateNoLeadingZeroes=tr=>{for(const[er,rr]of Object.entries(tr))if(rr!==void 0&&rr.length>0&&rr[0]===0)throw new Error(`${er} cannot have leading zeroes, received: ${bytesToHex$3(rr)}`)},bigIntToHex$3=tr=>"0x"+tr.toString(16),bigIntToUnpaddedBytes=tr=>unpadBytes(bigIntToBytes$1(tr)),concatBytes$2=(...tr)=>{if(tr.length===1)return tr[0];const er=tr.reduce((nr,ir)=>nr+ir.length,0),rr=new Uint8Array(er);for(let nr=0,ir=0;nr<tr.length;nr++){const or=tr[nr];rr.set(or,ir),ir+=or.length}return rr},MAX_UINT64=BigInt("0xffffffffffffffff"),MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");secp256k1$1.CURVE.n;const SECP256K1_ORDER_DIV_2=secp256k1$1.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const KECCAK256_NULL_S$2="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";hexToBytes$4(KECCAK256_NULL_S$2);const KECCAK256_RLP_ARRAY_S$2="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";hexToBytes$4(KECCAK256_RLP_ARRAY_S$2);const KECCAK256_RLP_S$2="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";hexToBytes$4(KECCAK256_RLP_S$2);Uint8Array.from([128]);BigInt(-1);const BIGINT_0$1=BigInt(0),BIGINT_1=BigInt(1),BIGINT_2=BigInt(2);BigInt(3);BigInt(7);const BIGINT_8=BigInt(8),BIGINT_27=BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);function encode$3(tr){if(Array.isArray(tr)){const rr=[];let nr=0;for(let ir=0;ir<tr.length;ir++){const or=encode$3(tr[ir]);rr.push(or),nr+=or.length}return concatBytes$1(encodeLength$1(nr,192),...rr)}const er=toBytes$2(tr);return er.length===1&&er[0]<128?er:concatBytes$1(encodeLength$1(er.length,128),er)}function safeSlice$1(tr,er,rr){if(rr>tr.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return tr.slice(er,rr)}function decodeLength$1(tr){if(tr[0]===0)throw new Error("invalid RLP: extra zeros");return parseHexByte$1(bytesToHex$2(tr))}function encodeLength$1(tr,er){if(tr<56)return Uint8Array.from([tr+er]);const rr=numberToHex$3(tr),nr=rr.length/2,ir=numberToHex$3(er+55+nr);return Uint8Array.from(hexToBytes$3(ir+rr))}function decode$3(tr,er=!1){if(typeof tr>"u"||tr===null||tr.length===0)return Uint8Array.from([]);const rr=toBytes$2(tr),nr=_decode$1(rr);if(er)return{data:nr.data,remainder:nr.remainder.slice()};if(nr.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return nr.data}function _decode$1(tr){let er,rr,nr,ir,or;const sr=[],ar=tr[0];if(ar<=127)return{data:tr.slice(0,1),remainder:tr.subarray(1)};if(ar<=183){if(er=ar-127,ar===128?nr=Uint8Array.from([]):nr=safeSlice$1(tr,1,er),er===2&&nr[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:nr,remainder:tr.subarray(er)}}else if(ar<=191){if(rr=ar-182,tr.length-1<rr)throw new Error("invalid RLP: not enough bytes for string length");if(er=decodeLength$1(safeSlice$1(tr,1,rr)),er<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return nr=safeSlice$1(tr,rr,er+rr),{data:nr,remainder:tr.subarray(er+rr)}}else if(ar<=247){for(er=ar-191,ir=safeSlice$1(tr,1,er);ir.length;)or=_decode$1(ir),sr.push(or.data),ir=or.remainder;return{data:sr,remainder:tr.subarray(er)}}else{if(rr=ar-246,er=decodeLength$1(safeSlice$1(tr,1,rr)),er<56)throw new Error("invalid RLP: encoded list too short");const cr=rr+er;if(cr>tr.length)throw new Error("invalid RLP: total length is larger than the data");for(ir=safeSlice$1(tr,rr,cr);ir.length;)or=_decode$1(ir),sr.push(or.data),ir=or.remainder;return{data:sr,remainder:tr.subarray(cr)}}}const cachedHexes$1=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));function bytesToHex$2(tr){let er="";for(let rr=0;rr<tr.length;rr++)er+=cachedHexes$1[tr[rr]];return er}function parseHexByte$1(tr){const er=Number.parseInt(tr,16);if(Number.isNaN(er))throw new Error("Invalid byte sequence");return er}function hexToBytes$3(tr){if(typeof tr!="string")throw new TypeError("hexToBytes: expected string, got "+typeof tr);if(tr.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const er=new Uint8Array(tr.length/2);for(let rr=0;rr<er.length;rr++){const nr=rr*2;er[rr]=parseHexByte$1(tr.slice(nr,nr+2))}return er}function concatBytes$1(...tr){if(tr.length===1)return tr[0];const er=tr.reduce((nr,ir)=>nr+ir.length,0),rr=new Uint8Array(er);for(let nr=0,ir=0;nr<tr.length;nr++){const or=tr[nr];rr.set(or,ir),ir+=or.length}return rr}function utf8ToBytes$1(tr){return new TextEncoder().encode(tr)}function numberToHex$3(tr){if(tr<0)throw new Error("Invalid integer as argument, must be unsigned!");const er=tr.toString(16);return er.length%2?`0${er}`:er}function padToEven$5(tr){return tr.length%2?`0${tr}`:tr}function isHexPrefixed$3(tr){return tr.length>=2&&tr[0]==="0"&&tr[1]==="x"}function stripHexPrefix$4(tr){return typeof tr!="string"?tr:isHexPrefixed$3(tr)?tr.slice(2):tr}function toBytes$2(tr){if(tr instanceof Uint8Array)return tr;if(typeof tr=="string")return isHexPrefixed$3(tr)?hexToBytes$3(padToEven$5(stripHexPrefix$4(tr))):utf8ToBytes$1(tr);if(typeof tr=="number"||typeof tr=="bigint")return tr?hexToBytes$3(numberToHex$3(tr)):Uint8Array.from([]);if(tr==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof tr)}const RLP={encode:encode$3,decode:decode$3};var sha3={},_assert={};Object.defineProperty(_assert,"__esModule",{value:!0});_assert.output=_assert.exists=_assert.hash=_assert.bytes=_assert.bool=_assert.number=_assert.isBytes=void 0;function number$3(tr){if(!Number.isSafeInteger(tr)||tr<0)throw new Error(`positive integer expected, not ${tr}`)}_assert.number=number$3;function bool$1(tr){if(typeof tr!="boolean")throw new Error(`boolean expected, not ${tr}`)}_assert.bool=bool$1;function isBytes(tr){return tr instanceof Uint8Array||tr!=null&&typeof tr=="object"&&tr.constructor.name==="Uint8Array"}_assert.isBytes=isBytes;function bytes$4(tr,...er){if(!isBytes(tr))throw new Error("Uint8Array expected");if(er.length>0&&!er.includes(tr.length))throw new Error(`Uint8Array expected of length ${er}, not of length=${tr.length}`)}_assert.bytes=bytes$4;function hash$1(tr){if(typeof tr!="function"||typeof tr.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$3(tr.outputLen),number$3(tr.blockLen)}_assert.hash=hash$1;function exists(tr,er=!0){if(tr.destroyed)throw new Error("Hash instance has been destroyed");if(er&&tr.finished)throw new Error("Hash#digest() has already been called")}_assert.exists=exists;function output(tr,er){bytes$4(tr);const rr=er.outputLen;if(tr.length<rr)throw new Error(`digestInto() expects output buffer of length at least ${rr}`)}_assert.output=output;const assert$8={number:number$3,bool:bool$1,bytes:bytes$4,hash:hash$1,exists,output};_assert.default=assert$8;var _u64={};Object.defineProperty(_u64,"__esModule",{value:!0});_u64.add5L=_u64.add5H=_u64.add4H=_u64.add4L=_u64.add3H=_u64.add3L=_u64.add=_u64.rotlBL=_u64.rotlBH=_u64.rotlSL=_u64.rotlSH=_u64.rotr32L=_u64.rotr32H=_u64.rotrBL=_u64.rotrBH=_u64.rotrSL=_u64.rotrSH=_u64.shrSL=_u64.shrSH=_u64.toBig=_u64.split=_u64.fromBig=void 0;const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(tr,er=!1){return er?{h:Number(tr&U32_MASK64),l:Number(tr>>_32n&U32_MASK64)}:{h:Number(tr>>_32n&U32_MASK64)|0,l:Number(tr&U32_MASK64)|0}}_u64.fromBig=fromBig;function split(tr,er=!1){let rr=new Uint32Array(tr.length),nr=new Uint32Array(tr.length);for(let ir=0;ir<tr.length;ir++){const{h:or,l:sr}=fromBig(tr[ir],er);[rr[ir],nr[ir]]=[or,sr]}return[rr,nr]}_u64.split=split;const toBig=(tr,er)=>BigInt(tr>>>0)<<_32n|BigInt(er>>>0);_u64.toBig=toBig;const shrSH=(tr,er,rr)=>tr>>>rr;_u64.shrSH=shrSH;const shrSL=(tr,er,rr)=>tr<<32-rr|er>>>rr;_u64.shrSL=shrSL;const rotrSH=(tr,er,rr)=>tr>>>rr|er<<32-rr;_u64.rotrSH=rotrSH;const rotrSL=(tr,er,rr)=>tr<<32-rr|er>>>rr;_u64.rotrSL=rotrSL;const rotrBH=(tr,er,rr)=>tr<<64-rr|er>>>rr-32;_u64.rotrBH=rotrBH;const rotrBL=(tr,er,rr)=>tr>>>rr-32|er<<64-rr;_u64.rotrBL=rotrBL;const rotr32H=(tr,er)=>er;_u64.rotr32H=rotr32H;const rotr32L=(tr,er)=>tr;_u64.rotr32L=rotr32L;const rotlSH=(tr,er,rr)=>tr<<rr|er>>>32-rr;_u64.rotlSH=rotlSH;const rotlSL=(tr,er,rr)=>er<<rr|tr>>>32-rr;_u64.rotlSL=rotlSL;const rotlBH=(tr,er,rr)=>er<<rr-32|tr>>>64-rr;_u64.rotlBH=rotlBH;const rotlBL=(tr,er,rr)=>tr<<rr-32|er>>>64-rr;_u64.rotlBL=rotlBL;function add(tr,er,rr,nr){const ir=(er>>>0)+(nr>>>0);return{h:tr+rr+(ir/2**32|0)|0,l:ir|0}}_u64.add=add;const add3L=(tr,er,rr)=>(tr>>>0)+(er>>>0)+(rr>>>0);_u64.add3L=add3L;const add3H=(tr,er,rr,nr)=>er+rr+nr+(tr/2**32|0)|0;_u64.add3H=add3H;const add4L=(tr,er,rr,nr)=>(tr>>>0)+(er>>>0)+(rr>>>0)+(nr>>>0);_u64.add4L=add4L;const add4H=(tr,er,rr,nr,ir)=>er+rr+nr+ir+(tr/2**32|0)|0;_u64.add4H=add4H;const add5L=(tr,er,rr,nr,ir)=>(tr>>>0)+(er>>>0)+(rr>>>0)+(nr>>>0)+(ir>>>0);_u64.add5L=add5L;const add5H=(tr,er,rr,nr,ir,or)=>er+rr+nr+ir+or+(tr/2**32|0)|0;_u64.add5H=add5H;const u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};_u64.default=u64;var utils$5={},crypto$1={};Object.defineProperty(crypto$1,"__esModule",{value:!0});crypto$1.crypto=void 0;crypto$1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(tr){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(tr,"__esModule",{value:!0}),tr.randomBytes=tr.wrapXOFConstructorWithOpts=tr.wrapConstructorWithOpts=tr.wrapConstructor=tr.checkOpts=tr.Hash=tr.concatBytes=tr.toBytes=tr.utf8ToBytes=tr.asyncLoop=tr.nextTick=tr.hexToBytes=tr.bytesToHex=tr.byteSwap32=tr.byteSwapIfBE=tr.byteSwap=tr.isLE=tr.rotl=tr.rotr=tr.createView=tr.u32=tr.u8=tr.isBytes=void 0;const er=crypto$1,rr=_assert;function nr(yr){return yr instanceof Uint8Array||yr!=null&&typeof yr=="object"&&yr.constructor.name==="Uint8Array"}tr.isBytes=nr;const ir=yr=>new Uint8Array(yr.buffer,yr.byteOffset,yr.byteLength);tr.u8=ir;const or=yr=>new Uint32Array(yr.buffer,yr.byteOffset,Math.floor(yr.byteLength/4));tr.u32=or;const sr=yr=>new DataView(yr.buffer,yr.byteOffset,yr.byteLength);tr.createView=sr;const ar=(yr,mr)=>yr<<32-mr|yr>>>mr;tr.rotr=ar;const cr=(yr,mr)=>yr<<mr|yr>>>32-mr>>>0;tr.rotl=cr,tr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const lr=yr=>yr<<24&4278190080|yr<<8&16711680|yr>>>8&65280|yr>>>24&255;tr.byteSwap=lr,tr.byteSwapIfBE=tr.isLE?yr=>yr:yr=>(0,tr.byteSwap)(yr);function ur(yr){for(let mr=0;mr<yr.length;mr++)yr[mr]=(0,tr.byteSwap)(yr[mr])}tr.byteSwap32=ur;const fr=Array.from({length:256},(yr,mr)=>mr.toString(16).padStart(2,"0"));function dr(yr){(0,rr.bytes)(yr);let mr="";for(let hr=0;hr<yr.length;hr++)mr+=fr[yr[hr]];return mr}tr.bytesToHex=dr;const gr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function br(yr){if(yr>=gr._0&&yr<=gr._9)return yr-gr._0;if(yr>=gr._A&&yr<=gr._F)return yr-(gr._A-10);if(yr>=gr._a&&yr<=gr._f)return yr-(gr._a-10)}function vr(yr){if(typeof yr!="string")throw new Error("hex string expected, got "+typeof yr);const mr=yr.length,hr=mr/2;if(mr%2)throw new Error("padded hex string expected, got unpadded hex of length "+mr);const pr=new Uint8Array(hr);for(let wr=0,Ar=0;wr<hr;wr++,Ar+=2){const Rr=br(yr.charCodeAt(Ar)),Pr=br(yr.charCodeAt(Ar+1));if(Rr===void 0||Pr===void 0){const Sr=yr[Ar]+yr[Ar+1];throw new Error('hex string expected, got non-hex character "'+Sr+'" at index '+Ar)}pr[wr]=Rr*16+Pr}return pr}tr.hexToBytes=vr;const $r=async()=>{};tr.nextTick=$r;async function Er(yr,mr,hr){let pr=Date.now();for(let wr=0;wr<yr;wr++){hr(wr);const Ar=Date.now()-pr;Ar>=0&&Ar<mr||(await(0,tr.nextTick)(),pr+=Ar)}}tr.asyncLoop=Er;function _r(yr){if(typeof yr!="string")throw new Error(`utf8ToBytes expected string, got ${typeof yr}`);return new Uint8Array(new TextEncoder().encode(yr))}tr.utf8ToBytes=_r;function xr(yr){return typeof yr=="string"&&(yr=_r(yr)),(0,rr.bytes)(yr),yr}tr.toBytes=xr;function Ir(...yr){let mr=0;for(let pr=0;pr<yr.length;pr++){const wr=yr[pr];(0,rr.bytes)(wr),mr+=wr.length}const hr=new Uint8Array(mr);for(let pr=0,wr=0;pr<yr.length;pr++){const Ar=yr[pr];hr.set(Ar,wr),wr+=Ar.length}return hr}tr.concatBytes=Ir;class Nr{clone(){return this._cloneInto()}}tr.Hash=Nr;const Lr={}.toString;function jr(yr,mr){if(mr!==void 0&&Lr.call(mr)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(yr,mr)}tr.checkOpts=jr;function Or(yr){const mr=pr=>yr().update(xr(pr)).digest(),hr=yr();return mr.outputLen=hr.outputLen,mr.blockLen=hr.blockLen,mr.create=()=>yr(),mr}tr.wrapConstructor=Or;function Dr(yr){const mr=(pr,wr)=>yr(wr).update(xr(pr)).digest(),hr=yr({});return mr.outputLen=hr.outputLen,mr.blockLen=hr.blockLen,mr.create=pr=>yr(pr),mr}tr.wrapConstructorWithOpts=Dr;function Cr(yr){const mr=(pr,wr)=>yr(wr).update(xr(pr)).digest(),hr=yr({});return mr.outputLen=hr.outputLen,mr.blockLen=hr.blockLen,mr.create=pr=>yr(pr),mr}tr.wrapXOFConstructorWithOpts=Cr;function Tr(yr=32){if(er.crypto&&typeof er.crypto.getRandomValues=="function")return er.crypto.getRandomValues(new Uint8Array(yr));throw new Error("crypto.getRandomValues must be defined")}tr.randomBytes=Tr})(utils$5);Object.defineProperty(sha3,"__esModule",{value:!0});sha3.shake256=sha3.shake128=sha3.keccak_512=sha3.keccak_384=keccak_256=sha3.keccak_256=sha3.keccak_224=sha3.sha3_512=sha3.sha3_384=sha3.sha3_256=sha3.sha3_224=sha3.Keccak=sha3.keccakP=void 0;const _assert_js_1=_assert,_u64_js_1=_u64,utils_js_1$4=utils$5,SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let tr=0,er=_1n,rr=1,nr=0;tr<24;tr++){[rr,nr]=[nr,(2*rr+3*nr)%5],SHA3_PI.push(2*(5*nr+rr)),SHA3_ROTL.push((tr+1)*(tr+2)/2%64);let ir=_0n;for(let or=0;or<7;or++)er=(er<<_1n^(er>>_7n)*_0x71n)%_256n,er&_2n&&(ir^=_1n<<(_1n<<BigInt(or))-_1n);_SHA3_IOTA.push(ir)}const[SHA3_IOTA_H,SHA3_IOTA_L]=(0,_u64_js_1.split)(_SHA3_IOTA,!0),rotlH=(tr,er,rr)=>rr>32?(0,_u64_js_1.rotlBH)(tr,er,rr):(0,_u64_js_1.rotlSH)(tr,er,rr),rotlL=(tr,er,rr)=>rr>32?(0,_u64_js_1.rotlBL)(tr,er,rr):(0,_u64_js_1.rotlSL)(tr,er,rr);function keccakP(tr,er=24){const rr=new Uint32Array(10);for(let nr=24-er;nr<24;nr++){for(let sr=0;sr<10;sr++)rr[sr]=tr[sr]^tr[sr+10]^tr[sr+20]^tr[sr+30]^tr[sr+40];for(let sr=0;sr<10;sr+=2){const ar=(sr+8)%10,cr=(sr+2)%10,lr=rr[cr],ur=rr[cr+1],fr=rotlH(lr,ur,1)^rr[ar],dr=rotlL(lr,ur,1)^rr[ar+1];for(let gr=0;gr<50;gr+=10)tr[sr+gr]^=fr,tr[sr+gr+1]^=dr}let ir=tr[2],or=tr[3];for(let sr=0;sr<24;sr++){const ar=SHA3_ROTL[sr],cr=rotlH(ir,or,ar),lr=rotlL(ir,or,ar),ur=SHA3_PI[sr];ir=tr[ur],or=tr[ur+1],tr[ur]=cr,tr[ur+1]=lr}for(let sr=0;sr<50;sr+=10){for(let ar=0;ar<10;ar++)rr[ar]=tr[sr+ar];for(let ar=0;ar<10;ar++)tr[sr+ar]^=~rr[(ar+2)%10]&rr[(ar+4)%10]}tr[0]^=SHA3_IOTA_H[nr],tr[1]^=SHA3_IOTA_L[nr]}rr.fill(0)}sha3.keccakP=keccakP;let Keccak$1=class Hl extends utils_js_1$4.Hash{constructor(er,rr,nr,ir=!1,or=24){if(super(),this.blockLen=er,this.suffix=rr,this.outputLen=nr,this.enableXOF=ir,this.rounds=or,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,_assert_js_1.number)(nr),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,utils_js_1$4.u32)(this.state)}keccak(){utils_js_1$4.isLE||(0,utils_js_1$4.byteSwap32)(this.state32),keccakP(this.state32,this.rounds),utils_js_1$4.isLE||(0,utils_js_1$4.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(er){(0,_assert_js_1.exists)(this);const{blockLen:rr,state:nr}=this;er=(0,utils_js_1$4.toBytes)(er);const ir=er.length;for(let or=0;or<ir;){const sr=Math.min(rr-this.pos,ir-or);for(let ar=0;ar<sr;ar++)nr[this.pos++]^=er[or++];this.pos===rr&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:er,suffix:rr,pos:nr,blockLen:ir}=this;er[nr]^=rr,rr&128&&nr===ir-1&&this.keccak(),er[ir-1]^=128,this.keccak()}writeInto(er){(0,_assert_js_1.exists)(this,!1),(0,_assert_js_1.bytes)(er),this.finish();const rr=this.state,{blockLen:nr}=this;for(let ir=0,or=er.length;ir<or;){this.posOut>=nr&&this.keccak();const sr=Math.min(nr-this.posOut,or-ir);er.set(rr.subarray(this.posOut,this.posOut+sr),ir),this.posOut+=sr,ir+=sr}return er}xofInto(er){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(er)}xof(er){return(0,_assert_js_1.number)(er),this.xofInto(new Uint8Array(er))}digestInto(er){if((0,_assert_js_1.output)(er,this),this.finished)throw new Error("digest() was already called");return this.writeInto(er),this.destroy(),er}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(er){const{blockLen:rr,suffix:nr,outputLen:ir,rounds:or,enableXOF:sr}=this;return er||(er=new Hl(rr,nr,ir,sr,or)),er.state32.set(this.state32),er.pos=this.pos,er.posOut=this.posOut,er.finished=this.finished,er.rounds=or,er.suffix=nr,er.outputLen=ir,er.enableXOF=sr,er.destroyed=this.destroyed,er}};sha3.Keccak=Keccak$1;const gen=(tr,er,rr)=>(0,utils_js_1$4.wrapConstructor)(()=>new Keccak$1(er,tr,rr));sha3.sha3_224=gen(6,144,224/8);sha3.sha3_256=gen(6,136,256/8);sha3.sha3_384=gen(6,104,384/8);sha3.sha3_512=gen(6,72,512/8);sha3.keccak_224=gen(1,144,224/8);var keccak_256=sha3.keccak_256=gen(1,136,256/8);sha3.keccak_384=gen(1,104,384/8);sha3.keccak_512=gen(1,72,512/8);const genShake=(tr,er,rr)=>(0,utils_js_1$4.wrapXOFConstructorWithOpts)((nr={})=>new Keccak$1(er,tr,nr.dkLen===void 0?rr:nr.dkLen,!0));sha3.shake128=genShake(31,168,128/8);sha3.shake256=genShake(31,136,256/8);const keccak256$2=(()=>{const tr=wrapHash(keccak_256);return tr.create=keccak_256.create,tr})(),isValidAddress=function(tr){try{assertIsString$1(tr)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(tr)},generateAddress=function(tr,er){return assertIsBytes(tr),assertIsBytes(er),bytesToBigInt$1(er)===BIGINT_0$1?keccak256$2(RLP.encode([tr,Uint8Array.from([])])).subarray(-20):keccak256$2(RLP.encode([tr,er])).subarray(-20)},generateAddress2=function(tr,er,rr){if(assertIsBytes(tr),assertIsBytes(er),assertIsBytes(rr),tr.length!==20)throw new Error("Expected from to be of length 20");if(er.length!==32)throw new Error("Expected salt to be of length 32");return keccak256$2(concatBytes$2(hexToBytes$4("0xff"),tr,er,keccak256$2(rr))).subarray(-20)},pubToAddress=function(tr,er=!1){if(assertIsBytes(tr),er&&tr.length!==64&&(tr=secp256k1$1.ProjectivePoint.fromHex(tr).toRawBytes(!1).slice(1)),tr.length!==64)throw new Error("Expected pubKey to be of length 64");return keccak256$2(tr).subarray(-20)},publicToAddress=pubToAddress,privateToPublic=function(tr){return assertIsBytes(tr),secp256k1$1.ProjectivePoint.fromPrivateKey(tr).toRawBytes(!1).slice(1)},privateToAddress=function(tr){return publicToAddress(privateToPublic(tr))};var KeyEncoding$2;(function(tr){tr.String="string",tr.Bytes="view",tr.Number="number"})(KeyEncoding$2||(KeyEncoding$2={}));var ValueEncoding$2;(function(tr){tr.String="string",tr.Bytes="view",tr.JSON="json"})(ValueEncoding$2||(ValueEncoding$2={}));var TypeOutput$2;(function(tr){tr[tr.Number=0]="Number",tr[tr.BigInt=1]="BigInt",tr[tr.Uint8Array=2]="Uint8Array",tr[tr.PrefixedHexString=3]="PrefixedHexString"})(TypeOutput$2||(TypeOutput$2={}));function toType(tr,er){if(tr===null)return null;if(tr===void 0)return;if(typeof tr=="string"&&!isHexString$5(tr))throw new Error(`A string must be provided with a 0x-prefix, given: ${tr}`);if(typeof tr=="number"&&!Number.isSafeInteger(tr))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const rr=toBytes$3(tr);switch(er){case TypeOutput$2.Uint8Array:return rr;case TypeOutput$2.BigInt:return bytesToBigInt$1(rr);case TypeOutput$2.Number:{const nr=bytesToBigInt$1(rr);if(nr>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(nr)}case TypeOutput$2.PrefixedHexString:return bytesToHex$3(rr);default:throw new Error("unknown outputType")}}function isHexPrefixed$2(tr){if(typeof tr!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof tr}`);return tr[0]==="0"&&tr[1]==="x"}const stripHexPrefix$3=tr=>{if(typeof tr!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof tr}`);return isHexPrefixed$2(tr)?tr.slice(2):tr};function padToEven$4(tr){let er=tr;if(typeof er!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof er}`);return er.length%2&&(er=`0${er}`),er}function isHexString$4(tr,er){return!(typeof tr!="string"||!tr.match(/^0x[0-9A-Fa-f]*$/))}const BIGINT_0=BigInt(0),hexToBytesMapFirstKey$1={},hexToBytesMapSecondKey$1={};for(let tr=0;tr<16;tr++){const er=tr,rr=tr*16,nr=tr.toString(16).toLowerCase();hexToBytesMapSecondKey$1[nr]=er,hexToBytesMapSecondKey$1[nr.toUpperCase()]=er,hexToBytesMapFirstKey$1[nr]=rr,hexToBytesMapFirstKey$1[nr.toUpperCase()]=rr}function _unprefixedHexToBytes$1(tr){const er=tr.length,rr=new Uint8Array(er/2);for(let nr=0;nr<er;nr+=2)rr[nr/2]=hexToBytesMapFirstKey$1[tr[nr]]+hexToBytesMapSecondKey$1[tr[nr+1]];return rr}const unprefixedHexToBytes=tr=>{if(tr.slice(0,2)==="0x")throw new Error("hex string is prefixed with 0x, should be unprefixed");return _unprefixedHexToBytes$1(padToEven$4(tr))},hexByByte=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0")),bytesToHex$1=tr=>{let er="0x";if(tr===void 0||tr.length===0)return er;for(const rr of tr)er+=hexByByte[rr];return er},BIGINT_CACHE=[];for(let tr=0;tr<=256*256-1;tr++)BIGINT_CACHE[tr]=BigInt(tr);const bytesToBigInt=(tr,er=!1)=>{er&&tr.reverse();const rr=bytesToHex$1(tr);return rr==="0x"?BIGINT_0:rr.length===4?BIGINT_CACHE[tr[0]]:rr.length===6?BIGINT_CACHE[tr[0]*256+tr[1]]:BigInt(rr)},hexToBytes$2=tr=>{if(typeof tr!="string")throw new Error(`hex argument type ${typeof tr} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(tr))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${tr}`);return tr=tr.slice(2),tr.length%2!==0&&(tr=padToEven$4(tr)),_unprefixedHexToBytes$1(tr)},intToHex$1=tr=>{if(!Number.isSafeInteger(tr)||tr<0)throw new Error(`Received an invalid integer type: ${tr}`);return`0x${tr.toString(16)}`},intToBytes$1=tr=>{const er=intToHex$1(tr);return hexToBytes$2(er)},bigIntToBytes=(tr,er=!1)=>{const rr=toBytes$1("0x"+padToEven$4(tr.toString(16)));return er?rr.reverse():rr},toBytes$1=tr=>{if(tr==null)return new Uint8Array;if(Array.isArray(tr)||tr instanceof Uint8Array)return Uint8Array.from(tr);if(typeof tr=="string"){if(!isHexString$4(tr))throw new Error(`Cannot convert string to Uint8Array. toBytes only supports 0x-prefixed hex strings and this string was given: ${tr}`);return hexToBytes$2(tr)}if(typeof tr=="number")return intToBytes$1(tr);if(typeof tr=="bigint"){if(tr<BIGINT_0)throw new Error(`Cannot convert negative bigint to Uint8Array. Given: ${tr}`);let er=tr.toString(16);return er.length%2&&(er="0"+er),unprefixedHexToBytes(er)}if(tr.toBytes!==void 0)return tr.toBytes();throw new Error("invalid type")},fromSigned=tr=>BigInt.asIntN(256,bytesToBigInt(tr)),toUnsigned=tr=>bigIntToBytes(BigInt.asUintN(256,tr)),addHexPrefix$1=tr=>typeof tr!="string"||isHexPrefixed$2(tr)?tr:"0x"+tr,bigIntToHex$2=tr=>"0x"+tr.toString(16);BigInt("0xffffffffffffffff");BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");secp256k1$1.CURVE.n;secp256k1$1.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const KECCAK256_NULL_S$1="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";hexToBytes$2(KECCAK256_NULL_S$1);const KECCAK256_RLP_ARRAY_S$1="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";hexToBytes$2(KECCAK256_RLP_ARRAY_S$1);const KECCAK256_RLP_S$1="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";hexToBytes$2(KECCAK256_RLP_S$1);Uint8Array.from([128]);BigInt(-1);BigInt(0);BigInt(1);BigInt(2);BigInt(3);BigInt(7);BigInt(8);BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));var KeyEncoding$1;(function(tr){tr.String="string",tr.Bytes="view",tr.Number="number"})(KeyEncoding$1||(KeyEncoding$1={}));var ValueEncoding$1;(function(tr){tr.String="string",tr.Bytes="view",tr.JSON="json"})(ValueEncoding$1||(ValueEncoding$1={}));var TypeOutput$1;(function(tr){tr[tr.Number=0]="Number",tr[tr.BigInt=1]="BigInt",tr[tr.Uint8Array=2]="Uint8Array",tr[tr.PrefixedHexString=3]="PrefixedHexString"})(TypeOutput$1||(TypeOutput$1={}));function ecsign$1(tr,er,rr){const nr=secp256k1$1.sign(tr,er),ir=nr.toCompactRawBytes(),or=ir.slice(0,32),sr=ir.slice(32,64),ar=BigInt(nr.recovery+27);return{r:or,s:sr,v:ar}}var isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER$4=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone(tr){var er,rr,nr,ir=_r.prototype={constructor:_r,toString:null,valueOf:null},or=new _r(1),sr=20,ar=4,cr=-7,lr=21,ur=-1e7,fr=1e7,dr=!1,gr=1,br=0,vr={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},$r="0123456789abcdefghijklmnopqrstuvwxyz",Er=!0;function _r(Or,Dr){var Cr,Tr,yr,mr,hr,pr,wr,Ar,Rr=this;if(!(Rr instanceof _r))return new _r(Or,Dr);if(Dr==null){if(Or&&Or._isBigNumber===!0){Rr.s=Or.s,!Or.c||Or.e>fr?Rr.c=Rr.e=null:Or.e<ur?Rr.c=[Rr.e=0]:(Rr.e=Or.e,Rr.c=Or.c.slice());return}if((pr=typeof Or=="number")&&Or*0==0){if(Rr.s=1/Or<0?(Or=-Or,-1):1,Or===~~Or){for(mr=0,hr=Or;hr>=10;hr/=10,mr++);mr>fr?Rr.c=Rr.e=null:(Rr.e=mr,Rr.c=[Or]);return}Ar=String(Or)}else{if(!isNumeric.test(Ar=String(Or)))return nr(Rr,Ar,pr);Rr.s=Ar.charCodeAt(0)==45?(Ar=Ar.slice(1),-1):1}(mr=Ar.indexOf("."))>-1&&(Ar=Ar.replace(".","")),(hr=Ar.search(/e/i))>0?(mr<0&&(mr=hr),mr+=+Ar.slice(hr+1),Ar=Ar.substring(0,hr)):mr<0&&(mr=Ar.length)}else{if(intCheck(Dr,2,$r.length,"Base"),Dr==10&&Er)return Rr=new _r(Or),Lr(Rr,sr+Rr.e+1,ar);if(Ar=String(Or),pr=typeof Or=="number"){if(Or*0!=0)return nr(Rr,Ar,pr,Dr);if(Rr.s=1/Or<0?(Ar=Ar.slice(1),-1):1,_r.DEBUG&&Ar.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+Or)}else Rr.s=Ar.charCodeAt(0)===45?(Ar=Ar.slice(1),-1):1;for(Cr=$r.slice(0,Dr),mr=hr=0,wr=Ar.length;hr<wr;hr++)if(Cr.indexOf(Tr=Ar.charAt(hr))<0){if(Tr=="."){if(hr>mr){mr=wr;continue}}else if(!yr&&(Ar==Ar.toUpperCase()&&(Ar=Ar.toLowerCase())||Ar==Ar.toLowerCase()&&(Ar=Ar.toUpperCase()))){yr=!0,hr=-1,mr=0;continue}return nr(Rr,String(Or),pr,Dr)}pr=!1,Ar=rr(Ar,Dr,10,Rr.s),(mr=Ar.indexOf("."))>-1?Ar=Ar.replace(".",""):mr=Ar.length}for(hr=0;Ar.charCodeAt(hr)===48;hr++);for(wr=Ar.length;Ar.charCodeAt(--wr)===48;);if(Ar=Ar.slice(hr,++wr)){if(wr-=hr,pr&&_r.DEBUG&&wr>15&&(Or>MAX_SAFE_INTEGER$4||Or!==mathfloor(Or)))throw Error(tooManyDigits+Rr.s*Or);if((mr=mr-hr-1)>fr)Rr.c=Rr.e=null;else if(mr<ur)Rr.c=[Rr.e=0];else{if(Rr.e=mr,Rr.c=[],hr=(mr+1)%LOG_BASE,mr<0&&(hr+=LOG_BASE),hr<wr){for(hr&&Rr.c.push(+Ar.slice(0,hr)),wr-=LOG_BASE;hr<wr;)Rr.c.push(+Ar.slice(hr,hr+=LOG_BASE));hr=LOG_BASE-(Ar=Ar.slice(hr)).length}else hr-=wr;for(;hr--;Ar+="0");Rr.c.push(+Ar)}}else Rr.c=[Rr.e=0]}_r.clone=clone,_r.ROUND_UP=0,_r.ROUND_DOWN=1,_r.ROUND_CEIL=2,_r.ROUND_FLOOR=3,_r.ROUND_HALF_UP=4,_r.ROUND_HALF_DOWN=5,_r.ROUND_HALF_EVEN=6,_r.ROUND_HALF_CEIL=7,_r.ROUND_HALF_FLOOR=8,_r.EUCLID=9,_r.config=_r.set=function(Or){var Dr,Cr;if(Or!=null)if(typeof Or=="object"){if(Or.hasOwnProperty(Dr="DECIMAL_PLACES")&&(Cr=Or[Dr],intCheck(Cr,0,MAX,Dr),sr=Cr),Or.hasOwnProperty(Dr="ROUNDING_MODE")&&(Cr=Or[Dr],intCheck(Cr,0,8,Dr),ar=Cr),Or.hasOwnProperty(Dr="EXPONENTIAL_AT")&&(Cr=Or[Dr],Cr&&Cr.pop?(intCheck(Cr[0],-MAX,0,Dr),intCheck(Cr[1],0,MAX,Dr),cr=Cr[0],lr=Cr[1]):(intCheck(Cr,-MAX,MAX,Dr),cr=-(lr=Cr<0?-Cr:Cr))),Or.hasOwnProperty(Dr="RANGE"))if(Cr=Or[Dr],Cr&&Cr.pop)intCheck(Cr[0],-MAX,-1,Dr),intCheck(Cr[1],1,MAX,Dr),ur=Cr[0],fr=Cr[1];else if(intCheck(Cr,-MAX,MAX,Dr),Cr)ur=-(fr=Cr<0?-Cr:Cr);else throw Error(bignumberError+Dr+" cannot be zero: "+Cr);if(Or.hasOwnProperty(Dr="CRYPTO"))if(Cr=Or[Dr],Cr===!!Cr)if(Cr)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))dr=Cr;else throw dr=!Cr,Error(bignumberError+"crypto unavailable");else dr=Cr;else throw Error(bignumberError+Dr+" not true or false: "+Cr);if(Or.hasOwnProperty(Dr="MODULO_MODE")&&(Cr=Or[Dr],intCheck(Cr,0,9,Dr),gr=Cr),Or.hasOwnProperty(Dr="POW_PRECISION")&&(Cr=Or[Dr],intCheck(Cr,0,MAX,Dr),br=Cr),Or.hasOwnProperty(Dr="FORMAT"))if(Cr=Or[Dr],typeof Cr=="object")vr=Cr;else throw Error(bignumberError+Dr+" not an object: "+Cr);if(Or.hasOwnProperty(Dr="ALPHABET"))if(Cr=Or[Dr],typeof Cr=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Cr))Er=Cr.slice(0,10)=="0123456789",$r=Cr;else throw Error(bignumberError+Dr+" invalid: "+Cr)}else throw Error(bignumberError+"Object expected: "+Or);return{DECIMAL_PLACES:sr,ROUNDING_MODE:ar,EXPONENTIAL_AT:[cr,lr],RANGE:[ur,fr],CRYPTO:dr,MODULO_MODE:gr,POW_PRECISION:br,FORMAT:vr,ALPHABET:$r}},_r.isBigNumber=function(Or){if(!Or||Or._isBigNumber!==!0)return!1;if(!_r.DEBUG)return!0;var Dr,Cr,Tr=Or.c,yr=Or.e,mr=Or.s;e:if({}.toString.call(Tr)=="[object Array]"){if((mr===1||mr===-1)&&yr>=-MAX&&yr<=MAX&&yr===mathfloor(yr)){if(Tr[0]===0){if(yr===0&&Tr.length===1)return!0;break e}if(Dr=(yr+1)%LOG_BASE,Dr<1&&(Dr+=LOG_BASE),String(Tr[0]).length==Dr){for(Dr=0;Dr<Tr.length;Dr++)if(Cr=Tr[Dr],Cr<0||Cr>=BASE||Cr!==mathfloor(Cr))break e;if(Cr!==0)return!0}}}else if(Tr===null&&yr===null&&(mr===null||mr===1||mr===-1))return!0;throw Error(bignumberError+"Invalid BigNumber: "+Or)},_r.maximum=_r.max=function(){return Ir(arguments,-1)},_r.minimum=_r.min=function(){return Ir(arguments,1)},_r.random=function(){var Or=9007199254740992,Dr=Math.random()*Or&2097151?function(){return mathfloor(Math.random()*Or)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Cr){var Tr,yr,mr,hr,pr,wr=0,Ar=[],Rr=new _r(or);if(Cr==null?Cr=sr:intCheck(Cr,0,MAX),hr=mathceil(Cr/LOG_BASE),dr)if(crypto.getRandomValues){for(Tr=crypto.getRandomValues(new Uint32Array(hr*=2));wr<hr;)pr=Tr[wr]*131072+(Tr[wr+1]>>>11),pr>=9e15?(yr=crypto.getRandomValues(new Uint32Array(2)),Tr[wr]=yr[0],Tr[wr+1]=yr[1]):(Ar.push(pr%1e14),wr+=2);wr=hr/2}else if(crypto.randomBytes){for(Tr=crypto.randomBytes(hr*=7);wr<hr;)pr=(Tr[wr]&31)*281474976710656+Tr[wr+1]*1099511627776+Tr[wr+2]*4294967296+Tr[wr+3]*16777216+(Tr[wr+4]<<16)+(Tr[wr+5]<<8)+Tr[wr+6],pr>=9e15?crypto.randomBytes(7).copy(Tr,wr):(Ar.push(pr%1e14),wr+=7);wr=hr/7}else throw dr=!1,Error(bignumberError+"crypto unavailable");if(!dr)for(;wr<hr;)pr=Dr(),pr<9e15&&(Ar[wr++]=pr%1e14);for(hr=Ar[--wr],Cr%=LOG_BASE,hr&&Cr&&(pr=POWS_TEN[LOG_BASE-Cr],Ar[wr]=mathfloor(hr/pr)*pr);Ar[wr]===0;Ar.pop(),wr--);if(wr<0)Ar=[mr=0];else{for(mr=-1;Ar[0]===0;Ar.splice(0,1),mr-=LOG_BASE);for(wr=1,pr=Ar[0];pr>=10;pr/=10,wr++);wr<LOG_BASE&&(mr-=LOG_BASE-wr)}return Rr.e=mr,Rr.c=Ar,Rr}}(),_r.sum=function(){for(var Or=1,Dr=arguments,Cr=new _r(Dr[0]);Or<Dr.length;)Cr=Cr.plus(Dr[Or++]);return Cr},rr=function(){var Or="0123456789";function Dr(Cr,Tr,yr,mr){for(var hr,pr=[0],wr,Ar=0,Rr=Cr.length;Ar<Rr;){for(wr=pr.length;wr--;pr[wr]*=Tr);for(pr[0]+=mr.indexOf(Cr.charAt(Ar++)),hr=0;hr<pr.length;hr++)pr[hr]>yr-1&&(pr[hr+1]==null&&(pr[hr+1]=0),pr[hr+1]+=pr[hr]/yr|0,pr[hr]%=yr)}return pr.reverse()}return function(Cr,Tr,yr,mr,hr){var pr,wr,Ar,Rr,Pr,Sr,Mr,Br,Ur=Cr.indexOf("."),Jr=sr,qr=ar;for(Ur>=0&&(Rr=br,br=0,Cr=Cr.replace(".",""),Br=new _r(Tr),Sr=Br.pow(Cr.length-Ur),br=Rr,Br.c=Dr(toFixedPoint(coeffToString(Sr.c),Sr.e,"0"),10,yr,Or),Br.e=Br.c.length),Mr=Dr(Cr,Tr,yr,hr?(pr=$r,Or):(pr=Or,$r)),Ar=Rr=Mr.length;Mr[--Rr]==0;Mr.pop());if(!Mr[0])return pr.charAt(0);if(Ur<0?--Ar:(Sr.c=Mr,Sr.e=Ar,Sr.s=mr,Sr=er(Sr,Br,Jr,qr,yr),Mr=Sr.c,Pr=Sr.r,Ar=Sr.e),wr=Ar+Jr+1,Ur=Mr[wr],Rr=yr/2,Pr=Pr||wr<0||Mr[wr+1]!=null,Pr=qr<4?(Ur!=null||Pr)&&(qr==0||qr==(Sr.s<0?3:2)):Ur>Rr||Ur==Rr&&(qr==4||Pr||qr==6&&Mr[wr-1]&1||qr==(Sr.s<0?8:7)),wr<1||!Mr[0])Cr=Pr?toFixedPoint(pr.charAt(1),-Jr,pr.charAt(0)):pr.charAt(0);else{if(Mr.length=wr,Pr)for(--yr;++Mr[--wr]>yr;)Mr[wr]=0,wr||(++Ar,Mr=[1].concat(Mr));for(Rr=Mr.length;!Mr[--Rr];);for(Ur=0,Cr="";Ur<=Rr;Cr+=pr.charAt(Mr[Ur++]));Cr=toFixedPoint(Cr,Ar,pr.charAt(0))}return Cr}}(),er=function(){function Or(Tr,yr,mr){var hr,pr,wr,Ar,Rr=0,Pr=Tr.length,Sr=yr%SQRT_BASE,Mr=yr/SQRT_BASE|0;for(Tr=Tr.slice();Pr--;)wr=Tr[Pr]%SQRT_BASE,Ar=Tr[Pr]/SQRT_BASE|0,hr=Mr*wr+Ar*Sr,pr=Sr*wr+hr%SQRT_BASE*SQRT_BASE+Rr,Rr=(pr/mr|0)+(hr/SQRT_BASE|0)+Mr*Ar,Tr[Pr]=pr%mr;return Rr&&(Tr=[Rr].concat(Tr)),Tr}function Dr(Tr,yr,mr,hr){var pr,wr;if(mr!=hr)wr=mr>hr?1:-1;else for(pr=wr=0;pr<mr;pr++)if(Tr[pr]!=yr[pr]){wr=Tr[pr]>yr[pr]?1:-1;break}return wr}function Cr(Tr,yr,mr,hr){for(var pr=0;mr--;)Tr[mr]-=pr,pr=Tr[mr]<yr[mr]?1:0,Tr[mr]=pr*hr+Tr[mr]-yr[mr];for(;!Tr[0]&&Tr.length>1;Tr.splice(0,1));}return function(Tr,yr,mr,hr,pr){var wr,Ar,Rr,Pr,Sr,Mr,Br,Ur,Jr,qr,zr,sn,rn,tn,dn,Yr,Vr,Qr=Tr.s==yr.s?1:-1,un=Tr.c,yn=yr.c;if(!un||!un[0]||!yn||!yn[0])return new _r(!Tr.s||!yr.s||(un?yn&&un[0]==yn[0]:!yn)?NaN:un&&un[0]==0||!yn?Qr*0:Qr/0);for(Ur=new _r(Qr),Jr=Ur.c=[],Ar=Tr.e-yr.e,Qr=mr+Ar+1,pr||(pr=BASE,Ar=bitFloor(Tr.e/LOG_BASE)-bitFloor(yr.e/LOG_BASE),Qr=Qr/LOG_BASE|0),Rr=0;yn[Rr]==(un[Rr]||0);Rr++);if(yn[Rr]>(un[Rr]||0)&&Ar--,Qr<0)Jr.push(1),Pr=!0;else{for(tn=un.length,Yr=yn.length,Rr=0,Qr+=2,Sr=mathfloor(pr/(yn[0]+1)),Sr>1&&(yn=Or(yn,Sr,pr),un=Or(un,Sr,pr),Yr=yn.length,tn=un.length),rn=Yr,qr=un.slice(0,Yr),zr=qr.length;zr<Yr;qr[zr++]=0);Vr=yn.slice(),Vr=[0].concat(Vr),dn=yn[0],yn[1]>=pr/2&&dn++;do{if(Sr=0,wr=Dr(yn,qr,Yr,zr),wr<0){if(sn=qr[0],Yr!=zr&&(sn=sn*pr+(qr[1]||0)),Sr=mathfloor(sn/dn),Sr>1)for(Sr>=pr&&(Sr=pr-1),Mr=Or(yn,Sr,pr),Br=Mr.length,zr=qr.length;Dr(Mr,qr,Br,zr)==1;)Sr--,Cr(Mr,Yr<Br?Vr:yn,Br,pr),Br=Mr.length,wr=1;else Sr==0&&(wr=Sr=1),Mr=yn.slice(),Br=Mr.length;if(Br<zr&&(Mr=[0].concat(Mr)),Cr(qr,Mr,zr,pr),zr=qr.length,wr==-1)for(;Dr(yn,qr,Yr,zr)<1;)Sr++,Cr(qr,Yr<zr?Vr:yn,zr,pr),zr=qr.length}else wr===0&&(Sr++,qr=[0]);Jr[Rr++]=Sr,qr[0]?qr[zr++]=un[rn]||0:(qr=[un[rn]],zr=1)}while((rn++<tn||qr[0]!=null)&&Qr--);Pr=qr[0]!=null,Jr[0]||Jr.splice(0,1)}if(pr==BASE){for(Rr=1,Qr=Jr[0];Qr>=10;Qr/=10,Rr++);Lr(Ur,mr+(Ur.e=Rr+Ar*LOG_BASE-1)+1,hr,Pr)}else Ur.e=Ar,Ur.r=+Pr;return Ur}}();function xr(Or,Dr,Cr,Tr){var yr,mr,hr,pr,wr;if(Cr==null?Cr=ar:intCheck(Cr,0,8),!Or.c)return Or.toString();if(yr=Or.c[0],hr=Or.e,Dr==null)wr=coeffToString(Or.c),wr=Tr==1||Tr==2&&(hr<=cr||hr>=lr)?toExponential(wr,hr):toFixedPoint(wr,hr,"0");else if(Or=Lr(new _r(Or),Dr,Cr),mr=Or.e,wr=coeffToString(Or.c),pr=wr.length,Tr==1||Tr==2&&(Dr<=mr||mr<=cr)){for(;pr<Dr;wr+="0",pr++);wr=toExponential(wr,mr)}else if(Dr-=hr,wr=toFixedPoint(wr,mr,"0"),mr+1>pr){if(--Dr>0)for(wr+=".";Dr--;wr+="0");}else if(Dr+=mr-pr,Dr>0)for(mr+1==pr&&(wr+=".");Dr--;wr+="0");return Or.s<0&&yr?"-"+wr:wr}function Ir(Or,Dr){for(var Cr,Tr,yr=1,mr=new _r(Or[0]);yr<Or.length;yr++)Tr=new _r(Or[yr]),(!Tr.s||(Cr=compare$p(mr,Tr))===Dr||Cr===0&&mr.s===Dr)&&(mr=Tr);return mr}function Nr(Or,Dr,Cr){for(var Tr=1,yr=Dr.length;!Dr[--yr];Dr.pop());for(yr=Dr[0];yr>=10;yr/=10,Tr++);return(Cr=Tr+Cr*LOG_BASE-1)>fr?Or.c=Or.e=null:Cr<ur?Or.c=[Or.e=0]:(Or.e=Cr,Or.c=Dr),Or}nr=function(){var Or=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Dr=/^([^.]+)\.$/,Cr=/^\.([^.]+)$/,Tr=/^-?(Infinity|NaN)$/,yr=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(mr,hr,pr,wr){var Ar,Rr=pr?hr:hr.replace(yr,"");if(Tr.test(Rr))mr.s=isNaN(Rr)?null:Rr<0?-1:1;else{if(!pr&&(Rr=Rr.replace(Or,function(Pr,Sr,Mr){return Ar=(Mr=Mr.toLowerCase())=="x"?16:Mr=="b"?2:8,!wr||wr==Ar?Sr:Pr}),wr&&(Ar=wr,Rr=Rr.replace(Dr,"$1").replace(Cr,"0.$1")),hr!=Rr))return new _r(Rr,Ar);if(_r.DEBUG)throw Error(bignumberError+"Not a"+(wr?" base "+wr:"")+" number: "+hr);mr.s=null}mr.c=mr.e=null}}();function Lr(Or,Dr,Cr,Tr){var yr,mr,hr,pr,wr,Ar,Rr,Pr=Or.c,Sr=POWS_TEN;if(Pr){e:{for(yr=1,pr=Pr[0];pr>=10;pr/=10,yr++);if(mr=Dr-yr,mr<0)mr+=LOG_BASE,hr=Dr,wr=Pr[Ar=0],Rr=mathfloor(wr/Sr[yr-hr-1]%10);else if(Ar=mathceil((mr+1)/LOG_BASE),Ar>=Pr.length)if(Tr){for(;Pr.length<=Ar;Pr.push(0));wr=Rr=0,yr=1,mr%=LOG_BASE,hr=mr-LOG_BASE+1}else break e;else{for(wr=pr=Pr[Ar],yr=1;pr>=10;pr/=10,yr++);mr%=LOG_BASE,hr=mr-LOG_BASE+yr,Rr=hr<0?0:mathfloor(wr/Sr[yr-hr-1]%10)}if(Tr=Tr||Dr<0||Pr[Ar+1]!=null||(hr<0?wr:wr%Sr[yr-hr-1]),Tr=Cr<4?(Rr||Tr)&&(Cr==0||Cr==(Or.s<0?3:2)):Rr>5||Rr==5&&(Cr==4||Tr||Cr==6&&(mr>0?hr>0?wr/Sr[yr-hr]:0:Pr[Ar-1])%10&1||Cr==(Or.s<0?8:7)),Dr<1||!Pr[0])return Pr.length=0,Tr?(Dr-=Or.e+1,Pr[0]=Sr[(LOG_BASE-Dr%LOG_BASE)%LOG_BASE],Or.e=-Dr||0):Pr[0]=Or.e=0,Or;if(mr==0?(Pr.length=Ar,pr=1,Ar--):(Pr.length=Ar+1,pr=Sr[LOG_BASE-mr],Pr[Ar]=hr>0?mathfloor(wr/Sr[yr-hr]%Sr[hr])*pr:0),Tr)for(;;)if(Ar==0){for(mr=1,hr=Pr[0];hr>=10;hr/=10,mr++);for(hr=Pr[0]+=pr,pr=1;hr>=10;hr/=10,pr++);mr!=pr&&(Or.e++,Pr[0]==BASE&&(Pr[0]=1));break}else{if(Pr[Ar]+=pr,Pr[Ar]!=BASE)break;Pr[Ar--]=0,pr=1}for(mr=Pr.length;Pr[--mr]===0;Pr.pop());}Or.e>fr?Or.c=Or.e=null:Or.e<ur&&(Or.c=[Or.e=0])}return Or}function jr(Or){var Dr,Cr=Or.e;return Cr===null?Or.toString():(Dr=coeffToString(Or.c),Dr=Cr<=cr||Cr>=lr?toExponential(Dr,Cr):toFixedPoint(Dr,Cr,"0"),Or.s<0?"-"+Dr:Dr)}return ir.absoluteValue=ir.abs=function(){var Or=new _r(this);return Or.s<0&&(Or.s=1),Or},ir.comparedTo=function(Or,Dr){return compare$p(this,new _r(Or,Dr))},ir.decimalPlaces=ir.dp=function(Or,Dr){var Cr,Tr,yr,mr=this;if(Or!=null)return intCheck(Or,0,MAX),Dr==null?Dr=ar:intCheck(Dr,0,8),Lr(new _r(mr),Or+mr.e+1,Dr);if(!(Cr=mr.c))return null;if(Tr=((yr=Cr.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,yr=Cr[yr])for(;yr%10==0;yr/=10,Tr--);return Tr<0&&(Tr=0),Tr},ir.dividedBy=ir.div=function(Or,Dr){return er(this,new _r(Or,Dr),sr,ar)},ir.dividedToIntegerBy=ir.idiv=function(Or,Dr){return er(this,new _r(Or,Dr),0,1)},ir.exponentiatedBy=ir.pow=function(Or,Dr){var Cr,Tr,yr,mr,hr,pr,wr,Ar,Rr,Pr=this;if(Or=new _r(Or),Or.c&&!Or.isInteger())throw Error(bignumberError+"Exponent not an integer: "+jr(Or));if(Dr!=null&&(Dr=new _r(Dr)),pr=Or.e>14,!Pr.c||!Pr.c[0]||Pr.c[0]==1&&!Pr.e&&Pr.c.length==1||!Or.c||!Or.c[0])return Rr=new _r(Math.pow(+jr(Pr),pr?Or.s*(2-isOdd(Or)):+jr(Or))),Dr?Rr.mod(Dr):Rr;if(wr=Or.s<0,Dr){if(Dr.c?!Dr.c[0]:!Dr.s)return new _r(NaN);Tr=!wr&&Pr.isInteger()&&Dr.isInteger(),Tr&&(Pr=Pr.mod(Dr))}else{if(Or.e>9&&(Pr.e>0||Pr.e<-1||(Pr.e==0?Pr.c[0]>1||pr&&Pr.c[1]>=24e7:Pr.c[0]<8e13||pr&&Pr.c[0]<=9999975e7)))return mr=Pr.s<0&&isOdd(Or)?-0:0,Pr.e>-1&&(mr=1/mr),new _r(wr?1/mr:mr);br&&(mr=mathceil(br/LOG_BASE+2))}for(pr?(Cr=new _r(.5),wr&&(Or.s=1),Ar=isOdd(Or)):(yr=Math.abs(+jr(Or)),Ar=yr%2),Rr=new _r(or);;){if(Ar){if(Rr=Rr.times(Pr),!Rr.c)break;mr?Rr.c.length>mr&&(Rr.c.length=mr):Tr&&(Rr=Rr.mod(Dr))}if(yr){if(yr=mathfloor(yr/2),yr===0)break;Ar=yr%2}else if(Or=Or.times(Cr),Lr(Or,Or.e+1,1),Or.e>14)Ar=isOdd(Or);else{if(yr=+jr(Or),yr===0)break;Ar=yr%2}Pr=Pr.times(Pr),mr?Pr.c&&Pr.c.length>mr&&(Pr.c.length=mr):Tr&&(Pr=Pr.mod(Dr))}return Tr?Rr:(wr&&(Rr=or.div(Rr)),Dr?Rr.mod(Dr):mr?Lr(Rr,br,ar,hr):Rr)},ir.integerValue=function(Or){var Dr=new _r(this);return Or==null?Or=ar:intCheck(Or,0,8),Lr(Dr,Dr.e+1,Or)},ir.isEqualTo=ir.eq=function(Or,Dr){return compare$p(this,new _r(Or,Dr))===0},ir.isFinite=function(){return!!this.c},ir.isGreaterThan=ir.gt=function(Or,Dr){return compare$p(this,new _r(Or,Dr))>0},ir.isGreaterThanOrEqualTo=ir.gte=function(Or,Dr){return(Dr=compare$p(this,new _r(Or,Dr)))===1||Dr===0},ir.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},ir.isLessThan=ir.lt=function(Or,Dr){return compare$p(this,new _r(Or,Dr))<0},ir.isLessThanOrEqualTo=ir.lte=function(Or,Dr){return(Dr=compare$p(this,new _r(Or,Dr)))===-1||Dr===0},ir.isNaN=function(){return!this.s},ir.isNegative=function(){return this.s<0},ir.isPositive=function(){return this.s>0},ir.isZero=function(){return!!this.c&&this.c[0]==0},ir.minus=function(Or,Dr){var Cr,Tr,yr,mr,hr=this,pr=hr.s;if(Or=new _r(Or,Dr),Dr=Or.s,!pr||!Dr)return new _r(NaN);if(pr!=Dr)return Or.s=-Dr,hr.plus(Or);var wr=hr.e/LOG_BASE,Ar=Or.e/LOG_BASE,Rr=hr.c,Pr=Or.c;if(!wr||!Ar){if(!Rr||!Pr)return Rr?(Or.s=-Dr,Or):new _r(Pr?hr:NaN);if(!Rr[0]||!Pr[0])return Pr[0]?(Or.s=-Dr,Or):new _r(Rr[0]?hr:ar==3?-0:0)}if(wr=bitFloor(wr),Ar=bitFloor(Ar),Rr=Rr.slice(),pr=wr-Ar){for((mr=pr<0)?(pr=-pr,yr=Rr):(Ar=wr,yr=Pr),yr.reverse(),Dr=pr;Dr--;yr.push(0));yr.reverse()}else for(Tr=(mr=(pr=Rr.length)<(Dr=Pr.length))?pr:Dr,pr=Dr=0;Dr<Tr;Dr++)if(Rr[Dr]!=Pr[Dr]){mr=Rr[Dr]<Pr[Dr];break}if(mr&&(yr=Rr,Rr=Pr,Pr=yr,Or.s=-Or.s),Dr=(Tr=Pr.length)-(Cr=Rr.length),Dr>0)for(;Dr--;Rr[Cr++]=0);for(Dr=BASE-1;Tr>pr;){if(Rr[--Tr]<Pr[Tr]){for(Cr=Tr;Cr&&!Rr[--Cr];Rr[Cr]=Dr);--Rr[Cr],Rr[Tr]+=BASE}Rr[Tr]-=Pr[Tr]}for(;Rr[0]==0;Rr.splice(0,1),--Ar);return Rr[0]?Nr(Or,Rr,Ar):(Or.s=ar==3?-1:1,Or.c=[Or.e=0],Or)},ir.modulo=ir.mod=function(Or,Dr){var Cr,Tr,yr=this;return Or=new _r(Or,Dr),!yr.c||!Or.s||Or.c&&!Or.c[0]?new _r(NaN):!Or.c||yr.c&&!yr.c[0]?new _r(yr):(gr==9?(Tr=Or.s,Or.s=1,Cr=er(yr,Or,0,3),Or.s=Tr,Cr.s*=Tr):Cr=er(yr,Or,0,gr),Or=yr.minus(Cr.times(Or)),!Or.c[0]&&gr==1&&(Or.s=yr.s),Or)},ir.multipliedBy=ir.times=function(Or,Dr){var Cr,Tr,yr,mr,hr,pr,wr,Ar,Rr,Pr,Sr,Mr,Br,Ur,Jr,qr=this,zr=qr.c,sn=(Or=new _r(Or,Dr)).c;if(!zr||!sn||!zr[0]||!sn[0])return!qr.s||!Or.s||zr&&!zr[0]&&!sn||sn&&!sn[0]&&!zr?Or.c=Or.e=Or.s=null:(Or.s*=qr.s,!zr||!sn?Or.c=Or.e=null:(Or.c=[0],Or.e=0)),Or;for(Tr=bitFloor(qr.e/LOG_BASE)+bitFloor(Or.e/LOG_BASE),Or.s*=qr.s,wr=zr.length,Pr=sn.length,wr<Pr&&(Br=zr,zr=sn,sn=Br,yr=wr,wr=Pr,Pr=yr),yr=wr+Pr,Br=[];yr--;Br.push(0));for(Ur=BASE,Jr=SQRT_BASE,yr=Pr;--yr>=0;){for(Cr=0,Sr=sn[yr]%Jr,Mr=sn[yr]/Jr|0,hr=wr,mr=yr+hr;mr>yr;)Ar=zr[--hr]%Jr,Rr=zr[hr]/Jr|0,pr=Mr*Ar+Rr*Sr,Ar=Sr*Ar+pr%Jr*Jr+Br[mr]+Cr,Cr=(Ar/Ur|0)+(pr/Jr|0)+Mr*Rr,Br[mr--]=Ar%Ur;Br[mr]=Cr}return Cr?++Tr:Br.splice(0,1),Nr(Or,Br,Tr)},ir.negated=function(){var Or=new _r(this);return Or.s=-Or.s||null,Or},ir.plus=function(Or,Dr){var Cr,Tr=this,yr=Tr.s;if(Or=new _r(Or,Dr),Dr=Or.s,!yr||!Dr)return new _r(NaN);if(yr!=Dr)return Or.s=-Dr,Tr.minus(Or);var mr=Tr.e/LOG_BASE,hr=Or.e/LOG_BASE,pr=Tr.c,wr=Or.c;if(!mr||!hr){if(!pr||!wr)return new _r(yr/0);if(!pr[0]||!wr[0])return wr[0]?Or:new _r(pr[0]?Tr:yr*0)}if(mr=bitFloor(mr),hr=bitFloor(hr),pr=pr.slice(),yr=mr-hr){for(yr>0?(hr=mr,Cr=wr):(yr=-yr,Cr=pr),Cr.reverse();yr--;Cr.push(0));Cr.reverse()}for(yr=pr.length,Dr=wr.length,yr-Dr<0&&(Cr=wr,wr=pr,pr=Cr,Dr=yr),yr=0;Dr;)yr=(pr[--Dr]=pr[Dr]+wr[Dr]+yr)/BASE|0,pr[Dr]=BASE===pr[Dr]?0:pr[Dr]%BASE;return yr&&(pr=[yr].concat(pr),++hr),Nr(Or,pr,hr)},ir.precision=ir.sd=function(Or,Dr){var Cr,Tr,yr,mr=this;if(Or!=null&&Or!==!!Or)return intCheck(Or,1,MAX),Dr==null?Dr=ar:intCheck(Dr,0,8),Lr(new _r(mr),Or,Dr);if(!(Cr=mr.c))return null;if(yr=Cr.length-1,Tr=yr*LOG_BASE+1,yr=Cr[yr]){for(;yr%10==0;yr/=10,Tr--);for(yr=Cr[0];yr>=10;yr/=10,Tr++);}return Or&&mr.e+1>Tr&&(Tr=mr.e+1),Tr},ir.shiftedBy=function(Or){return intCheck(Or,-MAX_SAFE_INTEGER$4,MAX_SAFE_INTEGER$4),this.times("1e"+Or)},ir.squareRoot=ir.sqrt=function(){var Or,Dr,Cr,Tr,yr,mr=this,hr=mr.c,pr=mr.s,wr=mr.e,Ar=sr+4,Rr=new _r("0.5");if(pr!==1||!hr||!hr[0])return new _r(!pr||pr<0&&(!hr||hr[0])?NaN:hr?mr:1/0);if(pr=Math.sqrt(+jr(mr)),pr==0||pr==1/0?(Dr=coeffToString(hr),(Dr.length+wr)%2==0&&(Dr+="0"),pr=Math.sqrt(+Dr),wr=bitFloor((wr+1)/2)-(wr<0||wr%2),pr==1/0?Dr="5e"+wr:(Dr=pr.toExponential(),Dr=Dr.slice(0,Dr.indexOf("e")+1)+wr),Cr=new _r(Dr)):Cr=new _r(pr+""),Cr.c[0]){for(wr=Cr.e,pr=wr+Ar,pr<3&&(pr=0);;)if(yr=Cr,Cr=Rr.times(yr.plus(er(mr,yr,Ar,1))),coeffToString(yr.c).slice(0,pr)===(Dr=coeffToString(Cr.c)).slice(0,pr))if(Cr.e<wr&&--pr,Dr=Dr.slice(pr-3,pr+1),Dr=="9999"||!Tr&&Dr=="4999"){if(!Tr&&(Lr(yr,yr.e+sr+2,0),yr.times(yr).eq(mr))){Cr=yr;break}Ar+=4,pr+=4,Tr=1}else{(!+Dr||!+Dr.slice(1)&&Dr.charAt(0)=="5")&&(Lr(Cr,Cr.e+sr+2,1),Or=!Cr.times(Cr).eq(mr));break}}return Lr(Cr,Cr.e+sr+1,ar,Or)},ir.toExponential=function(Or,Dr){return Or!=null&&(intCheck(Or,0,MAX),Or++),xr(this,Or,Dr,1)},ir.toFixed=function(Or,Dr){return Or!=null&&(intCheck(Or,0,MAX),Or=Or+this.e+1),xr(this,Or,Dr)},ir.toFormat=function(Or,Dr,Cr){var Tr,yr=this;if(Cr==null)Or!=null&&Dr&&typeof Dr=="object"?(Cr=Dr,Dr=null):Or&&typeof Or=="object"?(Cr=Or,Or=Dr=null):Cr=vr;else if(typeof Cr!="object")throw Error(bignumberError+"Argument not an object: "+Cr);if(Tr=yr.toFixed(Or,Dr),yr.c){var mr,hr=Tr.split("."),pr=+Cr.groupSize,wr=+Cr.secondaryGroupSize,Ar=Cr.groupSeparator||"",Rr=hr[0],Pr=hr[1],Sr=yr.s<0,Mr=Sr?Rr.slice(1):Rr,Br=Mr.length;if(wr&&(mr=pr,pr=wr,wr=mr,Br-=mr),pr>0&&Br>0){for(mr=Br%pr||pr,Rr=Mr.substr(0,mr);mr<Br;mr+=pr)Rr+=Ar+Mr.substr(mr,pr);wr>0&&(Rr+=Ar+Mr.slice(mr)),Sr&&(Rr="-"+Rr)}Tr=Pr?Rr+(Cr.decimalSeparator||"")+((wr=+Cr.fractionGroupSize)?Pr.replace(new RegExp("\\d{"+wr+"}\\B","g"),"$&"+(Cr.fractionGroupSeparator||"")):Pr):Rr}return(Cr.prefix||"")+Tr+(Cr.suffix||"")},ir.toFraction=function(Or){var Dr,Cr,Tr,yr,mr,hr,pr,wr,Ar,Rr,Pr,Sr,Mr=this,Br=Mr.c;if(Or!=null&&(pr=new _r(Or),!pr.isInteger()&&(pr.c||pr.s!==1)||pr.lt(or)))throw Error(bignumberError+"Argument "+(pr.isInteger()?"out of range: ":"not an integer: ")+jr(pr));if(!Br)return new _r(Mr);for(Dr=new _r(or),Ar=Cr=new _r(or),Tr=wr=new _r(or),Sr=coeffToString(Br),mr=Dr.e=Sr.length-Mr.e-1,Dr.c[0]=POWS_TEN[(hr=mr%LOG_BASE)<0?LOG_BASE+hr:hr],Or=!Or||pr.comparedTo(Dr)>0?mr>0?Dr:Ar:pr,hr=fr,fr=1/0,pr=new _r(Sr),wr.c[0]=0;Rr=er(pr,Dr,0,1),yr=Cr.plus(Rr.times(Tr)),yr.comparedTo(Or)!=1;)Cr=Tr,Tr=yr,Ar=wr.plus(Rr.times(yr=Ar)),wr=yr,Dr=pr.minus(Rr.times(yr=Dr)),pr=yr;return yr=er(Or.minus(Cr),Tr,0,1),wr=wr.plus(yr.times(Ar)),Cr=Cr.plus(yr.times(Tr)),wr.s=Ar.s=Mr.s,mr=mr*2,Pr=er(Ar,Tr,mr,ar).minus(Mr).abs().comparedTo(er(wr,Cr,mr,ar).minus(Mr).abs())<1?[Ar,Tr]:[wr,Cr],fr=hr,Pr},ir.toNumber=function(){return+jr(this)},ir.toPrecision=function(Or,Dr){return Or!=null&&intCheck(Or,1,MAX),xr(this,Or,Dr,2)},ir.toString=function(Or){var Dr,Cr=this,Tr=Cr.s,yr=Cr.e;return yr===null?Tr?(Dr="Infinity",Tr<0&&(Dr="-"+Dr)):Dr="NaN":(Or==null?Dr=yr<=cr||yr>=lr?toExponential(coeffToString(Cr.c),yr):toFixedPoint(coeffToString(Cr.c),yr,"0"):Or===10&&Er?(Cr=Lr(new _r(Cr),sr+yr+1,ar),Dr=toFixedPoint(coeffToString(Cr.c),Cr.e,"0")):(intCheck(Or,2,$r.length,"Base"),Dr=rr(toFixedPoint(coeffToString(Cr.c),yr,"0"),10,Or,Tr,!0)),Tr<0&&Cr.c[0]&&(Dr="-"+Dr)),Dr},ir.valueOf=ir.toJSON=function(){return jr(this)},ir._isBigNumber=!0,ir[Symbol.toStringTag]="BigNumber",ir[Symbol.for("nodejs.util.inspect.custom")]=ir.valueOf,tr!=null&&_r.set(tr),_r}function bitFloor(tr){var er=tr|0;return tr>0||tr===er?er:er-1}function coeffToString(tr){for(var er,rr,nr=1,ir=tr.length,or=tr[0]+"";nr<ir;){for(er=tr[nr++]+"",rr=LOG_BASE-er.length;rr--;er="0"+er);or+=er}for(ir=or.length;or.charCodeAt(--ir)===48;);return or.slice(0,ir+1||1)}function compare$p(tr,er){var rr,nr,ir=tr.c,or=er.c,sr=tr.s,ar=er.s,cr=tr.e,lr=er.e;if(!sr||!ar)return null;if(rr=ir&&!ir[0],nr=or&&!or[0],rr||nr)return rr?nr?0:-ar:sr;if(sr!=ar)return sr;if(rr=sr<0,nr=cr==lr,!ir||!or)return nr?0:!ir^rr?1:-1;if(!nr)return cr>lr^rr?1:-1;for(ar=(cr=ir.length)<(lr=or.length)?cr:lr,sr=0;sr<ar;sr++)if(ir[sr]!=or[sr])return ir[sr]>or[sr]^rr?1:-1;return cr==lr?0:cr>lr^rr?1:-1}function intCheck(tr,er,rr,nr){if(tr<er||tr>rr||tr!==mathfloor(tr))throw Error(bignumberError+(nr||"Argument")+(typeof tr=="number"?tr<er||tr>rr?" out of range: ":" not an integer: ":" not a primitive number: ")+String(tr))}function isOdd(tr){var er=tr.c.length-1;return bitFloor(tr.e/LOG_BASE)==er&&tr.c[er]%2!=0}function toExponential(tr,er){return(tr.length>1?tr.charAt(0)+"."+tr.slice(1):tr)+(er<0?"e":"e+")+er}function toFixedPoint(tr,er,rr){var nr,ir;if(er<0){for(ir=rr+".";++er;ir+=rr);tr=ir+tr}else if(nr=tr.length,++er>nr){for(ir=rr,er-=nr;--er;ir+=rr);tr+=ir}else er<nr&&(tr=tr.slice(0,er)+"."+tr.slice(er));return tr}var BigNumber=clone();const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(tr=>{PACKET_TYPES_REVERSE[PACKET_TYPES[tr]]=tr});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=tr=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(tr):tr&&tr.buffer instanceof ArrayBuffer,encodePacket=({type:tr,data:er},rr,nr)=>withNativeBlob$1&&er instanceof Blob?rr?nr(er):encodeBlobAsBase64(er,nr):withNativeArrayBuffer$2&&(er instanceof ArrayBuffer||isView$1(er))?rr?nr(er):encodeBlobAsBase64(new Blob([er]),nr):nr(PACKET_TYPES[tr]+(er||"")),encodeBlobAsBase64=(tr,er)=>{const rr=new FileReader;return rr.onload=function(){const nr=rr.result.split(",")[1];er("b"+(nr||""))},rr.readAsDataURL(tr)};function toArray(tr){return tr instanceof Uint8Array?tr:tr instanceof ArrayBuffer?new Uint8Array(tr):new Uint8Array(tr.buffer,tr.byteOffset,tr.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(tr,er){if(withNativeBlob$1&&tr.data instanceof Blob)return tr.data.arrayBuffer().then(toArray).then(er);if(withNativeArrayBuffer$2&&(tr.data instanceof ArrayBuffer||isView$1(tr.data)))return er(toArray(tr.data));encodePacket(tr,!1,rr=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),er(TEXT_ENCODER.encode(rr))})}const chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let tr=0;tr<chars$1.length;tr++)lookup$1[chars$1.charCodeAt(tr)]=tr;const decode$2=tr=>{let er=tr.length*.75,rr=tr.length,nr,ir=0,or,sr,ar,cr;tr[tr.length-1]==="="&&(er--,tr[tr.length-2]==="="&&er--);const lr=new ArrayBuffer(er),ur=new Uint8Array(lr);for(nr=0;nr<rr;nr+=4)or=lookup$1[tr.charCodeAt(nr)],sr=lookup$1[tr.charCodeAt(nr+1)],ar=lookup$1[tr.charCodeAt(nr+2)],cr=lookup$1[tr.charCodeAt(nr+3)],ur[ir++]=or<<2|sr>>4,ur[ir++]=(sr&15)<<4|ar>>2,ur[ir++]=(ar&3)<<6|cr&63;return lr},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(tr,er)=>{if(typeof tr!="string")return{type:"message",data:mapBinary(tr,er)};const rr=tr.charAt(0);return rr==="b"?{type:"message",data:decodeBase64Packet(tr.substring(1),er)}:PACKET_TYPES_REVERSE[rr]?tr.length>1?{type:PACKET_TYPES_REVERSE[rr],data:tr.substring(1)}:{type:PACKET_TYPES_REVERSE[rr]}:ERROR_PACKET},decodeBase64Packet=(tr,er)=>{if(withNativeArrayBuffer$1){const rr=decode$2(tr);return mapBinary(rr,er)}else return{base64:!0,data:tr}},mapBinary=(tr,er)=>{switch(er){case"blob":return tr instanceof Blob?tr:new Blob([tr]);case"arraybuffer":default:return tr instanceof ArrayBuffer?tr:tr.buffer}},SEPARATOR="",encodePayload=(tr,er)=>{const rr=tr.length,nr=new Array(rr);let ir=0;tr.forEach((or,sr)=>{encodePacket(or,!1,ar=>{nr[sr]=ar,++ir===rr&&er(nr.join(SEPARATOR))})})},decodePayload=(tr,er)=>{const rr=tr.split(SEPARATOR),nr=[];for(let ir=0;ir<rr.length;ir++){const or=decodePacket(rr[ir],er);if(nr.push(or),or.type==="error")break}return nr};function createPacketEncoderStream(){return new TransformStream({transform(tr,er){encodePacketToBinary(tr,rr=>{const nr=rr.length;let ir;if(nr<126)ir=new Uint8Array(1),new DataView(ir.buffer).setUint8(0,nr);else if(nr<65536){ir=new Uint8Array(3);const or=new DataView(ir.buffer);or.setUint8(0,126),or.setUint16(1,nr)}else{ir=new Uint8Array(9);const or=new DataView(ir.buffer);or.setUint8(0,127),or.setBigUint64(1,BigInt(nr))}tr.data&&typeof tr.data!="string"&&(ir[0]|=128),er.enqueue(ir),er.enqueue(rr)})}})}let TEXT_DECODER;function totalLength(tr){return tr.reduce((er,rr)=>er+rr.length,0)}function concatChunks(tr,er){if(tr[0].length===er)return tr.shift();const rr=new Uint8Array(er);let nr=0;for(let ir=0;ir<er;ir++)rr[ir]=tr[0][nr++],nr===tr[0].length&&(tr.shift(),nr=0);return tr.length&&nr<tr[0].length&&(tr[0]=tr[0].slice(nr)),rr}function createPacketDecoderStream(tr,er){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const rr=[];let nr=0,ir=-1,or=!1;return new TransformStream({transform(sr,ar){for(rr.push(sr);;){if(nr===0){if(totalLength(rr)<1)break;const cr=concatChunks(rr,1);or=(cr[0]&128)===128,ir=cr[0]&127,ir<126?nr=3:ir===126?nr=1:nr=2}else if(nr===1){if(totalLength(rr)<2)break;const cr=concatChunks(rr,2);ir=new DataView(cr.buffer,cr.byteOffset,cr.length).getUint16(0),nr=3}else if(nr===2){if(totalLength(rr)<8)break;const cr=concatChunks(rr,8),lr=new DataView(cr.buffer,cr.byteOffset,cr.length),ur=lr.getUint32(0);if(ur>Math.pow(2,21)-1){ar.enqueue(ERROR_PACKET);break}ir=ur*Math.pow(2,32)+lr.getUint32(4),nr=3}else{if(totalLength(rr)<ir)break;const cr=concatChunks(rr,ir);ar.enqueue(decodePacket(or?cr:TEXT_DECODER.decode(cr),er)),nr=0}if(ir===0||ir>tr){ar.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(tr){if(tr)return mixin(tr)}function mixin(tr){for(var er in Emitter.prototype)tr[er]=Emitter.prototype[er];return tr}Emitter.prototype.on=Emitter.prototype.addEventListener=function(tr,er){return this._callbacks=this._callbacks||{},(this._callbacks["$"+tr]=this._callbacks["$"+tr]||[]).push(er),this};Emitter.prototype.once=function(tr,er){function rr(){this.off(tr,rr),er.apply(this,arguments)}return rr.fn=er,this.on(tr,rr),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(tr,er){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var rr=this._callbacks["$"+tr];if(!rr)return this;if(arguments.length==1)return delete this._callbacks["$"+tr],this;for(var nr,ir=0;ir<rr.length;ir++)if(nr=rr[ir],nr===er||nr.fn===er){rr.splice(ir,1);break}return rr.length===0&&delete this._callbacks["$"+tr],this};Emitter.prototype.emit=function(tr){this._callbacks=this._callbacks||{};for(var er=new Array(arguments.length-1),rr=this._callbacks["$"+tr],nr=1;nr<arguments.length;nr++)er[nr-1]=arguments[nr];if(rr){rr=rr.slice(0);for(var nr=0,ir=rr.length;nr<ir;++nr)rr[nr].apply(this,er)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(tr){return this._callbacks=this._callbacks||{},this._callbacks["$"+tr]||[]};Emitter.prototype.hasListeners=function(tr){return!!this.listeners(tr).length};const globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pick(tr,...er){return er.reduce((rr,nr)=>(tr.hasOwnProperty(nr)&&(rr[nr]=tr[nr]),rr),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(tr,er){er.useNativeTimers?(tr.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),tr.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(tr.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),tr.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(tr){return typeof tr=="string"?utf8Length(tr):Math.ceil((tr.byteLength||tr.size)*BASE64_OVERHEAD)}function utf8Length(tr){let er=0,rr=0;for(let nr=0,ir=tr.length;nr<ir;nr++)er=tr.charCodeAt(nr),er<128?rr+=1:er<2048?rr+=2:er<55296||er>=57344?rr+=3:(nr++,rr+=4);return rr}function encode$2(tr){let er="";for(let rr in tr)tr.hasOwnProperty(rr)&&(er.length&&(er+="&"),er+=encodeURIComponent(rr)+"="+encodeURIComponent(tr[rr]));return er}function decode$1(tr){let er={},rr=tr.split("&");for(let nr=0,ir=rr.length;nr<ir;nr++){let or=rr[nr].split("=");er[decodeURIComponent(or[0])]=decodeURIComponent(or[1])}return er}class TransportError extends Error{constructor(er,rr,nr){super(er),this.description=rr,this.context=nr,this.type="TransportError"}}class Transport extends Emitter{constructor(er){super(),this.writable=!1,installTimerFunctions(this,er),this.opts=er,this.query=er.query,this.socket=er.socket}onError(er,rr,nr){return super.emitReserved("error",new TransportError(er,rr,nr)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(er){this.readyState==="open"&&this.write(er)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(er){const rr=decodePacket(er,this.socket.binaryType);this.onPacket(rr)}onPacket(er){super.emitReserved("packet",er)}onClose(er){this.readyState="closed",super.emitReserved("close",er)}pause(er){}createUri(er,rr={}){return er+"://"+this._hostname()+this._port()+this.opts.path+this._query(rr)}_hostname(){const er=this.opts.hostname;return er.indexOf(":")===-1?er:"["+er+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(er){const rr=encode$2(er);return rr.length?"?"+rr:""}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i$2=0,prev;function encode$1(tr){let er="";do er=alphabet[tr%length]+er,tr=Math.floor(tr/length);while(tr>0);return er}function yeast(){const tr=encode$1(+new Date);return tr!==prev?(seed=0,prev=tr):tr+"."+encode$1(seed++)}for(;i$2<length;i$2++)map[alphabet[i$2]]=i$2;let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(tr){}const hasCORS=value;function XHR(tr){const er=tr.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!er||hasCORS))return new XMLHttpRequest}catch{}if(!er)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function createCookieJar(){}function empty$1(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(er){if(super(er),this.polling=!1,typeof location<"u"){const nr=location.protocol==="https:";let ir=location.port;ir||(ir=nr?"443":"80"),this.xd=typeof location<"u"&&er.hostname!==location.hostname||ir!==er.port}const rr=er&&er.forceBase64;this.supportsBinary=hasXHR2&&!rr,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(er){this.readyState="pausing";const rr=()=>{this.readyState="paused",er()};if(this.polling||!this.writable){let nr=0;this.polling&&(nr++,this.once("pollComplete",function(){--nr||rr()})),this.writable||(nr++,this.once("drain",function(){--nr||rr()}))}else rr()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(er){const rr=nr=>{if(this.readyState==="opening"&&nr.type==="open"&&this.onOpen(),nr.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(nr)};decodePayload(er,this.socket.binaryType).forEach(rr),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const er=()=>{this.write([{type:"close"}])};this.readyState==="open"?er():this.once("open",er)}write(er){this.writable=!1,encodePayload(er,rr=>{this.doWrite(rr,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const er=this.opts.secure?"https":"http",rr=this.query||{};return this.opts.timestampRequests!==!1&&(rr[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!rr.sid&&(rr.b64=1),this.createUri(er,rr)}request(er={}){return Object.assign(er,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request$1(this.uri(),er)}doWrite(er,rr){const nr=this.request({method:"POST",data:er});nr.on("success",rr),nr.on("error",(ir,or)=>{this.onError("xhr post error",ir,or)})}doPoll(){const er=this.request();er.on("data",this.onData.bind(this)),er.on("error",(rr,nr)=>{this.onError("xhr poll error",rr,nr)}),this.pollXhr=er}}let Request$1=class Cl extends Emitter{constructor(er,rr){super(),installTimerFunctions(this,rr),this.opts=rr,this.method=rr.method||"GET",this.uri=er,this.data=rr.data!==void 0?rr.data:null,this.create()}create(){var er;const rr=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");rr.xdomain=!!this.opts.xd;const nr=this.xhr=new XHR(rr);try{nr.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){nr.setDisableHeaderCheck&&nr.setDisableHeaderCheck(!0);for(let ir in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(ir)&&nr.setRequestHeader(ir,this.opts.extraHeaders[ir])}}catch{}if(this.method==="POST")try{nr.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{nr.setRequestHeader("Accept","*/*")}catch{}(er=this.opts.cookieJar)===null||er===void 0||er.addCookies(nr),"withCredentials"in nr&&(nr.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(nr.timeout=this.opts.requestTimeout),nr.onreadystatechange=()=>{var ir;nr.readyState===3&&((ir=this.opts.cookieJar)===null||ir===void 0||ir.parseCookies(nr)),nr.readyState===4&&(nr.status===200||nr.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof nr.status=="number"?nr.status:0)},0))},nr.send(this.data)}catch(ir){this.setTimeoutFn(()=>{this.onError(ir)},0);return}typeof document<"u"&&(this.index=Cl.requestsCount++,Cl.requests[this.index]=this)}onError(er){this.emitReserved("error",er,this.xhr),this.cleanup(!0)}cleanup(er){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty$1,er)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Cl.requests[this.index],this.xhr=null}}onLoad(){const er=this.xhr.responseText;er!==null&&(this.emitReserved("data",er),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Request$1.requestsCount=0;Request$1.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const tr="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(tr,unloadHandler,!1)}}function unloadHandler(){for(let tr in Request$1.requests)Request$1.requests.hasOwnProperty(tr)&&Request$1.requests[tr].abort()}const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?er=>Promise.resolve().then(er):(er,rr)=>rr(er,0),WebSocket$1=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(er){super(er),this.supportsBinary=!er.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const er=this.uri(),rr=this.opts.protocols,nr=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(nr.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?rr?new WebSocket$1(er,rr):new WebSocket$1(er):new WebSocket$1(er,rr,nr)}catch(ir){return this.emitReserved("error",ir)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=er=>this.onClose({description:"websocket connection closed",context:er}),this.ws.onmessage=er=>this.onData(er.data),this.ws.onerror=er=>this.onError("websocket error",er)}write(er){this.writable=!1;for(let rr=0;rr<er.length;rr++){const nr=er[rr],ir=rr===er.length-1;encodePacket(nr,this.supportsBinary,or=>{const sr={};try{usingBrowserWebSocket&&this.ws.send(or)}catch{}ir&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const er=this.opts.secure?"wss":"ws",rr=this.query||{};return this.opts.timestampRequests&&(rr[this.opts.timestampParam]=yeast()),this.supportsBinary||(rr.b64=1),this.createUri(er,rr)}check(){return!!WebSocket$1}}class WT extends Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(er=>{this.onError("webtransport error",er)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(er=>{const rr=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),nr=er.readable.pipeThrough(rr).getReader(),ir=createPacketEncoderStream();ir.readable.pipeTo(er.writable),this.writer=ir.writable.getWriter();const or=()=>{nr.read().then(({done:ar,value:cr})=>{ar||(this.onPacket(cr),or())}).catch(ar=>{})};or();const sr={type:"open"};this.query.sid&&(sr.data=`{"sid":"${this.query.sid}"}`),this.writer.write(sr).then(()=>this.onOpen())})}))}write(er){this.writable=!1;for(let rr=0;rr<er.length;rr++){const nr=er[rr],ir=rr===er.length-1;this.writer.write(nr).then(()=>{ir&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var er;(er=this.transport)===null||er===void 0||er.close()}}const transports={websocket:WS,webtransport:WT,polling:Polling},re$6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$f(tr){if(tr.length>2e3)throw"URI too long";const er=tr,rr=tr.indexOf("["),nr=tr.indexOf("]");rr!=-1&&nr!=-1&&(tr=tr.substring(0,rr)+tr.substring(rr,nr).replace(/:/g,";")+tr.substring(nr,tr.length));let ir=re$6.exec(tr||""),or={},sr=14;for(;sr--;)or[parts[sr]]=ir[sr]||"";return rr!=-1&&nr!=-1&&(or.source=er,or.host=or.host.substring(1,or.host.length-1).replace(/;/g,":"),or.authority=or.authority.replace("[","").replace("]","").replace(/;/g,":"),or.ipv6uri=!0),or.pathNames=pathNames(or,or.path),or.queryKey=queryKey(or,or.query),or}function pathNames(tr,er){const rr=/\/{2,9}/g,nr=er.replace(rr,"/").split("/");return(er.slice(0,1)=="/"||er.length===0)&&nr.splice(0,1),er.slice(-1)=="/"&&nr.splice(nr.length-1,1),nr}function queryKey(tr,er){const rr={};return er.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(nr,ir,or){ir&&(rr[ir]=or)}),rr}let Socket$1=class Pl extends Emitter{constructor(er,rr={}){super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],er&&typeof er=="object"&&(rr=er,er=null),er?(er=parse$f(er),rr.hostname=er.host,rr.secure=er.protocol==="https"||er.protocol==="wss",rr.port=er.port,er.query&&(rr.query=er.query)):rr.host&&(rr.hostname=parse$f(rr.host).host),installTimerFunctions(this,rr),this.secure=rr.secure!=null?rr.secure:typeof location<"u"&&location.protocol==="https:",rr.hostname&&!rr.port&&(rr.port=this.secure?"443":"80"),this.hostname=rr.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=rr.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=rr.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},rr),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode$1(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(er){const rr=Object.assign({},this.opts.query);rr.EIO=protocol$1,rr.transport=er,this.id&&(rr.sid=this.id);const nr=Object.assign({},this.opts,{query:rr,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[er]);return new transports[er](nr)}open(){let er;if(this.opts.rememberUpgrade&&Pl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)er="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else er=this.transports[0];this.readyState="opening";try{er=this.createTransport(er)}catch{this.transports.shift(),this.open();return}er.open(),this.setTransport(er)}setTransport(er){this.transport&&this.transport.removeAllListeners(),this.transport=er,er.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",rr=>this.onClose("transport close",rr))}probe(er){let rr=this.createTransport(er),nr=!1;Pl.priorWebsocketSuccess=!1;const ir=()=>{nr||(rr.send([{type:"ping",data:"probe"}]),rr.once("packet",fr=>{if(!nr)if(fr.type==="pong"&&fr.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",rr),!rr)return;Pl.priorWebsocketSuccess=rr.name==="websocket",this.transport.pause(()=>{nr||this.readyState!=="closed"&&(ur(),this.setTransport(rr),rr.send([{type:"upgrade"}]),this.emitReserved("upgrade",rr),rr=null,this.upgrading=!1,this.flush())})}else{const dr=new Error("probe error");dr.transport=rr.name,this.emitReserved("upgradeError",dr)}}))};function or(){nr||(nr=!0,ur(),rr.close(),rr=null)}const sr=fr=>{const dr=new Error("probe error: "+fr);dr.transport=rr.name,or(),this.emitReserved("upgradeError",dr)};function ar(){sr("transport closed")}function cr(){sr("socket closed")}function lr(fr){rr&&fr.name!==rr.name&&or()}const ur=()=>{rr.removeListener("open",ir),rr.removeListener("error",sr),rr.removeListener("close",ar),this.off("close",cr),this.off("upgrading",lr)};rr.once("open",ir),rr.once("error",sr),rr.once("close",ar),this.once("close",cr),this.once("upgrading",lr),this.upgrades.indexOf("webtransport")!==-1&&er!=="webtransport"?this.setTimeoutFn(()=>{nr||rr.open()},200):rr.open()}onOpen(){if(this.readyState="open",Pl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let er=0;const rr=this.upgrades.length;for(;er<rr;er++)this.probe(this.upgrades[er])}}onPacket(er){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",er),this.emitReserved("heartbeat"),this.resetPingTimeout(),er.type){case"open":this.onHandshake(JSON.parse(er.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const rr=new Error("server error");rr.code=er.data,this.onError(rr);break;case"message":this.emitReserved("data",er.data),this.emitReserved("message",er.data);break}}onHandshake(er){this.emitReserved("handshake",er),this.id=er.sid,this.transport.query.sid=er.sid,this.upgrades=this.filterUpgrades(er.upgrades),this.pingInterval=er.pingInterval,this.pingTimeout=er.pingTimeout,this.maxPayload=er.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const er=this.getWritablePackets();this.transport.send(er),this.prevBufferLen=er.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let rr=1;for(let nr=0;nr<this.writeBuffer.length;nr++){const ir=this.writeBuffer[nr].data;if(ir&&(rr+=byteLength(ir)),nr>0&&rr>this.maxPayload)return this.writeBuffer.slice(0,nr);rr+=2}return this.writeBuffer}write(er,rr,nr){return this.sendPacket("message",er,rr,nr),this}send(er,rr,nr){return this.sendPacket("message",er,rr,nr),this}sendPacket(er,rr,nr,ir){if(typeof rr=="function"&&(ir=rr,rr=void 0),typeof nr=="function"&&(ir=nr,nr=null),this.readyState==="closing"||this.readyState==="closed")return;nr=nr||{},nr.compress=nr.compress!==!1;const or={type:er,data:rr,options:nr};this.emitReserved("packetCreate",or),this.writeBuffer.push(or),ir&&this.once("flush",ir),this.flush()}close(){const er=()=>{this.onClose("forced close"),this.transport.close()},rr=()=>{this.off("upgrade",rr),this.off("upgradeError",rr),er()},nr=()=>{this.once("upgrade",rr),this.once("upgradeError",rr)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?nr():er()}):this.upgrading?nr():er()),this}onError(er){Pl.priorWebsocketSuccess=!1,this.emitReserved("error",er),this.onClose("transport error",er)}onClose(er,rr){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",er,rr),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(er){const rr=[];let nr=0;const ir=er.length;for(;nr<ir;nr++)~this.transports.indexOf(er[nr])&&rr.push(er[nr]);return rr}};Socket$1.protocol=protocol$1;function url(tr,er="",rr){let nr=tr;rr=rr||typeof location<"u"&&location,tr==null&&(tr=rr.protocol+"//"+rr.host),typeof tr=="string"&&(tr.charAt(0)==="/"&&(tr.charAt(1)==="/"?tr=rr.protocol+tr:tr=rr.host+tr),/^(https?|wss?):\/\//.test(tr)||(typeof rr<"u"?tr=rr.protocol+"//"+tr:tr="https://"+tr),nr=parse$f(tr)),nr.port||(/^(http|ws)$/.test(nr.protocol)?nr.port="80":/^(http|ws)s$/.test(nr.protocol)&&(nr.port="443")),nr.path=nr.path||"/";const or=nr.host.indexOf(":")!==-1?"["+nr.host+"]":nr.host;return nr.id=nr.protocol+"://"+or+":"+nr.port+er,nr.href=nr.protocol+"://"+or+(rr&&rr.port===nr.port?"":":"+nr.port),nr}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=tr=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(tr):tr.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(tr){return withNativeArrayBuffer&&(tr instanceof ArrayBuffer||isView(tr))||withNativeBlob&&tr instanceof Blob||withNativeFile&&tr instanceof File}function hasBinary(tr,er){if(!tr||typeof tr!="object")return!1;if(Array.isArray(tr)){for(let rr=0,nr=tr.length;rr<nr;rr++)if(hasBinary(tr[rr]))return!0;return!1}if(isBinary(tr))return!0;if(tr.toJSON&&typeof tr.toJSON=="function"&&arguments.length===1)return hasBinary(tr.toJSON(),!0);for(const rr in tr)if(Object.prototype.hasOwnProperty.call(tr,rr)&&hasBinary(tr[rr]))return!0;return!1}function deconstructPacket(tr){const er=[],rr=tr.data,nr=tr;return nr.data=_deconstructPacket(rr,er),nr.attachments=er.length,{packet:nr,buffers:er}}function _deconstructPacket(tr,er){if(!tr)return tr;if(isBinary(tr)){const rr={_placeholder:!0,num:er.length};return er.push(tr),rr}else if(Array.isArray(tr)){const rr=new Array(tr.length);for(let nr=0;nr<tr.length;nr++)rr[nr]=_deconstructPacket(tr[nr],er);return rr}else if(typeof tr=="object"&&!(tr instanceof Date)){const rr={};for(const nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&(rr[nr]=_deconstructPacket(tr[nr],er));return rr}return tr}function reconstructPacket(tr,er){return tr.data=_reconstructPacket(tr.data,er),delete tr.attachments,tr}function _reconstructPacket(tr,er){if(!tr)return tr;if(tr&&tr._placeholder===!0){if(typeof tr.num=="number"&&tr.num>=0&&tr.num<er.length)return er[tr.num];throw new Error("illegal attachments")}else if(Array.isArray(tr))for(let rr=0;rr<tr.length;rr++)tr[rr]=_reconstructPacket(tr[rr],er);else if(typeof tr=="object")for(const rr in tr)Object.prototype.hasOwnProperty.call(tr,rr)&&(tr[rr]=_reconstructPacket(tr[rr],er));return tr}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(tr){tr[tr.CONNECT=0]="CONNECT",tr[tr.DISCONNECT=1]="DISCONNECT",tr[tr.EVENT=2]="EVENT",tr[tr.ACK=3]="ACK",tr[tr.CONNECT_ERROR=4]="CONNECT_ERROR",tr[tr.BINARY_EVENT=5]="BINARY_EVENT",tr[tr.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(er){this.replacer=er}encode(er){return(er.type===PacketType.EVENT||er.type===PacketType.ACK)&&hasBinary(er)?this.encodeAsBinary({type:er.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:er.nsp,data:er.data,id:er.id}):[this.encodeAsString(er)]}encodeAsString(er){let rr=""+er.type;return(er.type===PacketType.BINARY_EVENT||er.type===PacketType.BINARY_ACK)&&(rr+=er.attachments+"-"),er.nsp&&er.nsp!=="/"&&(rr+=er.nsp+","),er.id!=null&&(rr+=er.id),er.data!=null&&(rr+=JSON.stringify(er.data,this.replacer)),rr}encodeAsBinary(er){const rr=deconstructPacket(er),nr=this.encodeAsString(rr.packet),ir=rr.buffers;return ir.unshift(nr),ir}}function isObject$2(tr){return Object.prototype.toString.call(tr)==="[object Object]"}class Decoder extends Emitter{constructor(er){super(),this.reviver=er}add(er){let rr;if(typeof er=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");rr=this.decodeString(er);const nr=rr.type===PacketType.BINARY_EVENT;nr||rr.type===PacketType.BINARY_ACK?(rr.type=nr?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(rr),rr.attachments===0&&super.emitReserved("decoded",rr)):super.emitReserved("decoded",rr)}else if(isBinary(er)||er.base64)if(this.reconstructor)rr=this.reconstructor.takeBinaryData(er),rr&&(this.reconstructor=null,super.emitReserved("decoded",rr));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+er)}decodeString(er){let rr=0;const nr={type:Number(er.charAt(0))};if(PacketType[nr.type]===void 0)throw new Error("unknown packet type "+nr.type);if(nr.type===PacketType.BINARY_EVENT||nr.type===PacketType.BINARY_ACK){const or=rr+1;for(;er.charAt(++rr)!=="-"&&rr!=er.length;);const sr=er.substring(or,rr);if(sr!=Number(sr)||er.charAt(rr)!=="-")throw new Error("Illegal attachments");nr.attachments=Number(sr)}if(er.charAt(rr+1)==="/"){const or=rr+1;for(;++rr&&!(er.charAt(rr)===","||rr===er.length););nr.nsp=er.substring(or,rr)}else nr.nsp="/";const ir=er.charAt(rr+1);if(ir!==""&&Number(ir)==ir){const or=rr+1;for(;++rr;){const sr=er.charAt(rr);if(sr==null||Number(sr)!=sr){--rr;break}if(rr===er.length)break}nr.id=Number(er.substring(or,rr+1))}if(er.charAt(++rr)){const or=this.tryParse(er.substr(rr));if(Decoder.isPayloadValid(nr.type,or))nr.data=or;else throw new Error("invalid payload")}return nr}tryParse(er){try{return JSON.parse(er,this.reviver)}catch{return!1}}static isPayloadValid(er,rr){switch(er){case PacketType.CONNECT:return isObject$2(rr);case PacketType.DISCONNECT:return rr===void 0;case PacketType.CONNECT_ERROR:return typeof rr=="string"||isObject$2(rr);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(rr)&&(typeof rr[0]=="number"||typeof rr[0]=="string"&&RESERVED_EVENTS$1.indexOf(rr[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(rr)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(er){this.packet=er,this.buffers=[],this.reconPack=er}takeBinaryData(er){if(this.buffers.push(er),this.buffers.length===this.reconPack.attachments){const rr=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),rr}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser$1=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(tr,er,rr){return tr.on(er,rr),function(){tr.off(er,rr)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(er,rr,nr){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=er,this.nsp=rr,nr&&nr.auth&&(this.auth=nr.auth),this._opts=Object.assign({},nr),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const er=this.io;this.subs=[on(er,"open",this.onopen.bind(this)),on(er,"packet",this.onpacket.bind(this)),on(er,"error",this.onerror.bind(this)),on(er,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...er){return er.unshift("message"),this.emit.apply(this,er),this}emit(er,...rr){if(RESERVED_EVENTS.hasOwnProperty(er))throw new Error('"'+er.toString()+'" is a reserved event name');if(rr.unshift(er),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(rr),this;const nr={type:PacketType.EVENT,data:rr};if(nr.options={},nr.options.compress=this.flags.compress!==!1,typeof rr[rr.length-1]=="function"){const sr=this.ids++,ar=rr.pop();this._registerAckCallback(sr,ar),nr.id=sr}const ir=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!ir||!this.connected)||(this.connected?(this.notifyOutgoingListeners(nr),this.packet(nr)):this.sendBuffer.push(nr)),this.flags={},this}_registerAckCallback(er,rr){var nr;const ir=(nr=this.flags.timeout)!==null&&nr!==void 0?nr:this._opts.ackTimeout;if(ir===void 0){this.acks[er]=rr;return}const or=this.io.setTimeoutFn(()=>{delete this.acks[er];for(let ar=0;ar<this.sendBuffer.length;ar++)this.sendBuffer[ar].id===er&&this.sendBuffer.splice(ar,1);rr.call(this,new Error("operation has timed out"))},ir),sr=(...ar)=>{this.io.clearTimeoutFn(or),rr.apply(this,ar)};sr.withError=!0,this.acks[er]=sr}emitWithAck(er,...rr){return new Promise((nr,ir)=>{const or=(sr,ar)=>sr?ir(sr):nr(ar);or.withError=!0,rr.push(or),this.emit(er,...rr)})}_addToQueue(er){let rr;typeof er[er.length-1]=="function"&&(rr=er.pop());const nr={id:this._queueSeq++,tryCount:0,pending:!1,args:er,flags:Object.assign({fromQueue:!0},this.flags)};er.push((ir,...or)=>nr!==this._queue[0]?void 0:(ir!==null?nr.tryCount>this._opts.retries&&(this._queue.shift(),rr&&rr(ir)):(this._queue.shift(),rr&&rr(null,...or)),nr.pending=!1,this._drainQueue())),this._queue.push(nr),this._drainQueue()}_drainQueue(er=!1){if(!this.connected||this._queue.length===0)return;const rr=this._queue[0];rr.pending&&!er||(rr.pending=!0,rr.tryCount++,this.flags=rr.flags,this.emit.apply(this,rr.args))}packet(er){er.nsp=this.nsp,this.io._packet(er)}onopen(){typeof this.auth=="function"?this.auth(er=>{this._sendConnectPacket(er)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(er){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},er):er})}onerror(er){this.connected||this.emitReserved("connect_error",er)}onclose(er,rr){this.connected=!1,delete this.id,this.emitReserved("disconnect",er,rr),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(er=>{if(!this.sendBuffer.some(nr=>String(nr.id)===er)){const nr=this.acks[er];delete this.acks[er],nr.withError&&nr.call(this,new Error("socket has been disconnected"))}})}onpacket(er){if(er.nsp===this.nsp)switch(er.type){case PacketType.CONNECT:er.data&&er.data.sid?this.onconnect(er.data.sid,er.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(er);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(er);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const nr=new Error(er.data.message);nr.data=er.data.data,this.emitReserved("connect_error",nr);break}}onevent(er){const rr=er.data||[];er.id!=null&&rr.push(this.ack(er.id)),this.connected?this.emitEvent(rr):this.receiveBuffer.push(Object.freeze(rr))}emitEvent(er){if(this._anyListeners&&this._anyListeners.length){const rr=this._anyListeners.slice();for(const nr of rr)nr.apply(this,er)}super.emit.apply(this,er),this._pid&&er.length&&typeof er[er.length-1]=="string"&&(this._lastOffset=er[er.length-1])}ack(er){const rr=this;let nr=!1;return function(...ir){nr||(nr=!0,rr.packet({type:PacketType.ACK,id:er,data:ir}))}}onack(er){const rr=this.acks[er.id];typeof rr=="function"&&(delete this.acks[er.id],rr.withError&&er.data.unshift(null),rr.apply(this,er.data))}onconnect(er,rr){this.id=er,this.recovered=rr&&this._pid===rr,this._pid=rr,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(er=>this.emitEvent(er)),this.receiveBuffer=[],this.sendBuffer.forEach(er=>{this.notifyOutgoingListeners(er),this.packet(er)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(er=>er()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(er){return this.flags.compress=er,this}get volatile(){return this.flags.volatile=!0,this}timeout(er){return this.flags.timeout=er,this}onAny(er){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(er),this}prependAny(er){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(er),this}offAny(er){if(!this._anyListeners)return this;if(er){const rr=this._anyListeners;for(let nr=0;nr<rr.length;nr++)if(er===rr[nr])return rr.splice(nr,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(er){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(er),this}prependAnyOutgoing(er){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(er),this}offAnyOutgoing(er){if(!this._anyOutgoingListeners)return this;if(er){const rr=this._anyOutgoingListeners;for(let nr=0;nr<rr.length;nr++)if(er===rr[nr])return rr.splice(nr,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(er){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const rr=this._anyOutgoingListeners.slice();for(const nr of rr)nr.apply(this,er.data)}}}function Backoff(tr){tr=tr||{},this.ms=tr.min||100,this.max=tr.max||1e4,this.factor=tr.factor||2,this.jitter=tr.jitter>0&&tr.jitter<=1?tr.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var tr=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var er=Math.random(),rr=Math.floor(er*this.jitter*tr);tr=Math.floor(er*10)&1?tr+rr:tr-rr}return Math.min(tr,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(tr){this.ms=tr};Backoff.prototype.setMax=function(tr){this.max=tr};Backoff.prototype.setJitter=function(tr){this.jitter=tr};class Manager extends Emitter{constructor(er,rr){var nr;super(),this.nsps={},this.subs=[],er&&typeof er=="object"&&(rr=er,er=void 0),rr=rr||{},rr.path=rr.path||"/socket.io",this.opts=rr,installTimerFunctions(this,rr),this.reconnection(rr.reconnection!==!1),this.reconnectionAttempts(rr.reconnectionAttempts||1/0),this.reconnectionDelay(rr.reconnectionDelay||1e3),this.reconnectionDelayMax(rr.reconnectionDelayMax||5e3),this.randomizationFactor((nr=rr.randomizationFactor)!==null&&nr!==void 0?nr:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(rr.timeout==null?2e4:rr.timeout),this._readyState="closed",this.uri=er;const ir=rr.parser||parser$1;this.encoder=new ir.Encoder,this.decoder=new ir.Decoder,this._autoConnect=rr.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(er){return arguments.length?(this._reconnection=!!er,this):this._reconnection}reconnectionAttempts(er){return er===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=er,this)}reconnectionDelay(er){var rr;return er===void 0?this._reconnectionDelay:(this._reconnectionDelay=er,(rr=this.backoff)===null||rr===void 0||rr.setMin(er),this)}randomizationFactor(er){var rr;return er===void 0?this._randomizationFactor:(this._randomizationFactor=er,(rr=this.backoff)===null||rr===void 0||rr.setJitter(er),this)}reconnectionDelayMax(er){var rr;return er===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=er,(rr=this.backoff)===null||rr===void 0||rr.setMax(er),this)}timeout(er){return arguments.length?(this._timeout=er,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(er){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const rr=this.engine,nr=this;this._readyState="opening",this.skipReconnect=!1;const ir=on(rr,"open",function(){nr.onopen(),er&&er()}),or=ar=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",ar),er?er(ar):this.maybeReconnectOnOpen()},sr=on(rr,"error",or);if(this._timeout!==!1){const ar=this._timeout,cr=this.setTimeoutFn(()=>{ir(),or(new Error("timeout")),rr.close()},ar);this.opts.autoUnref&&cr.unref(),this.subs.push(()=>{this.clearTimeoutFn(cr)})}return this.subs.push(ir),this.subs.push(sr),this}connect(er){return this.open(er)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const er=this.engine;this.subs.push(on(er,"ping",this.onping.bind(this)),on(er,"data",this.ondata.bind(this)),on(er,"error",this.onerror.bind(this)),on(er,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(er){try{this.decoder.add(er)}catch(rr){this.onclose("parse error",rr)}}ondecoded(er){nextTick(()=>{this.emitReserved("packet",er)},this.setTimeoutFn)}onerror(er){this.emitReserved("error",er)}socket(er,rr){let nr=this.nsps[er];return nr?this._autoConnect&&!nr.active&&nr.connect():(nr=new Socket(this,er,rr),this.nsps[er]=nr),nr}_destroy(er){const rr=Object.keys(this.nsps);for(const nr of rr)if(this.nsps[nr].active)return;this._close()}_packet(er){const rr=this.encoder.encode(er);for(let nr=0;nr<rr.length;nr++)this.engine.write(rr[nr],er.options)}cleanup(){this.subs.forEach(er=>er()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(er,rr){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",er,rr),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const er=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const rr=this.backoff.duration();this._reconnecting=!0;const nr=this.setTimeoutFn(()=>{er.skipReconnect||(this.emitReserved("reconnect_attempt",er.backoff.attempts),!er.skipReconnect&&er.open(ir=>{ir?(er._reconnecting=!1,er.reconnect(),this.emitReserved("reconnect_error",ir)):er.onreconnect()}))},rr);this.opts.autoUnref&&nr.unref(),this.subs.push(()=>{this.clearTimeoutFn(nr)})}}onreconnect(){const er=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",er)}}const cache$1={};function lookup(tr,er){typeof tr=="object"&&(er=tr,tr=void 0),er=er||{};const rr=url(tr,er.path||"/socket.io"),nr=rr.source,ir=rr.id,or=rr.path,sr=cache$1[ir]&&or in cache$1[ir].nsps,ar=er.forceNew||er["force new connection"]||er.multiplex===!1||sr;let cr;return ar?cr=new Manager(nr,er):(cache$1[ir]||(cache$1[ir]=new Manager(nr,er)),cr=cache$1[ir]),rr.query&&!er.query&&(er.query=rr.queryKey),cr.socket(rr.path,er)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});const ec$1=new elliptic.ec("secp256k1"),browserCrypto=globalThis.crypto||globalThis.msCrypto||{},subtle=browserCrypto.subtle||browserCrypto.webkitSubtle,EC_GROUP_ORDER=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),ZERO32=Buffer.alloc(32,0);function assert$7(tr,er){if(!tr)throw new Error(er||"Assertion failed")}function isScalar(tr){return Buffer.isBuffer(tr)&&tr.length===32}function isValidPrivateKey(tr){return isScalar(tr)?tr.compare(ZERO32)>0&&tr.compare(EC_GROUP_ORDER)<0:!1}function equalConstTime(tr,er){if(tr.length!==er.length)return!1;let rr=0;for(let nr=0;nr<tr.length;nr++)rr|=tr[nr]^er[nr];return rr===0}function randomBytes(tr){const er=new Uint8Array(tr);return typeof browserCrypto.getRandomValues>"u"?Buffer.from(nodeCrypto.randomBytes(tr)):(browserCrypto.getRandomValues(er),Buffer.from(er))}async function sha512$1(tr){if(subtle){const nr=await subtle.digest("SHA-512",tr);return new Uint8Array(nr)}const rr=nodeCrypto.createHash("sha512").update(tr).digest();return new Uint8Array(rr)}function getAes(tr){return async function(er,rr,nr){if(subtle){const ir={name:"AES-CBC"},or=await subtle.importKey("raw",rr,ir,!1,[tr]),sr={name:"AES-CBC",iv:er},ar=await subtle[tr](sr,or,nr);return Buffer.from(new Uint8Array(ar))}else if(tr==="encrypt"){const ir=nodeCrypto.createCipheriv("aes-256-cbc",rr,er),or=ir.update(nr),sr=ir.final();return Buffer.concat([or,sr])}else if(tr==="decrypt"){const ir=nodeCrypto.createDecipheriv("aes-256-cbc",rr,er),or=ir.update(nr),sr=ir.final();return Buffer.concat([or,sr])}throw new Error(`Unsupported operation: ${tr}`)}}const aesCbcEncrypt=getAes("encrypt"),aesCbcDecrypt=getAes("decrypt");async function hmacSha256Sign(tr,er){if(subtle){const ir={name:"HMAC",hash:{name:"SHA-256"}},or=await subtle.importKey("raw",new Uint8Array(tr),ir,!1,["sign","verify"]),sr=await subtle.sign("HMAC",or,er);return Buffer.from(new Uint8Array(sr))}const rr=nodeCrypto.createHmac("sha256",Buffer.from(tr));return rr.update(er),rr.digest()}async function hmacSha256Verify(tr,er,rr){const nr=await hmacSha256Sign(tr,er);return equalConstTime(nr,rr)}const generatePrivate=function(){let tr=randomBytes(32);for(;!isValidPrivateKey(tr);)tr=randomBytes(32);return tr},getPublic=function(tr){return assert$7(tr.length===32,"Bad private key"),assert$7(isValidPrivateKey(tr),"Bad private key"),Buffer.from(ec$1.keyFromPrivate(tr).getPublic("array"))},sign=async function(tr,er){return assert$7(tr.length===32,"Bad private key"),assert$7(isValidPrivateKey(tr),"Bad private key"),assert$7(er.length>0,"Message should not be empty"),assert$7(er.length<=32,"Message is too long"),Buffer.from(ec$1.sign(er,tr,{canonical:!0}).toDER())},derive=async function(tr,er){assert$7(Buffer.isBuffer(tr),"Bad private key"),assert$7(Buffer.isBuffer(er),"Bad public key"),assert$7(tr.length===32,"Bad private key"),assert$7(isValidPrivateKey(tr),"Bad private key"),assert$7(er.length===65||er.length===33,"Bad public key"),er.length===65&&assert$7(er[0]===4,"Bad public key"),er.length===33&&assert$7(er[0]===2||er[0]===3,"Bad public key");const rr=ec$1.keyFromPrivate(tr),nr=ec$1.keyFromPublic(er),ir=rr.derive(nr.getPublic());return Buffer.from(ir.toArray())},deriveUnpadded=derive,derivePadded=async function(tr,er){assert$7(Buffer.isBuffer(tr),"Bad private key"),assert$7(Buffer.isBuffer(er),"Bad public key"),assert$7(tr.length===32,"Bad private key"),assert$7(isValidPrivateKey(tr),"Bad private key"),assert$7(er.length===65||er.length===33,"Bad public key"),er.length===65&&assert$7(er[0]===4,"Bad public key"),er.length===33&&assert$7(er[0]===2||er[0]===3,"Bad public key");const rr=ec$1.keyFromPrivate(tr),nr=ec$1.keyFromPublic(er),ir=rr.derive(nr.getPublic());return Buffer.from(ir.toString(16,64),"hex")},encrypt$2=async function(tr,er,rr){rr=rr||{};let nr=rr.ephemPrivateKey||randomBytes(32);for(;!isValidPrivateKey(nr);)nr=rr.ephemPrivateKey||randomBytes(32);const ir=getPublic(nr),or=await deriveUnpadded(nr,tr),sr=await sha512$1(or),ar=rr.iv||randomBytes(16),cr=sr.slice(0,32),lr=sr.slice(32),fr=await aesCbcEncrypt(ar,Buffer.from(cr),er),dr=Buffer.concat([ar,ir,fr]),gr=await hmacSha256Sign(Buffer.from(lr),dr);return{iv:ar,ephemPublicKey:ir,ciphertext:fr,mac:gr}},decrypt$2=async function(tr,er,rr){const nr=rr??!1,or=await(nr?derivePadded:deriveUnpadded)(tr,er.ephemPublicKey),sr=await sha512$1(or),ar=sr.slice(0,32),cr=sr.slice(32),lr=Buffer.concat([er.iv,er.ephemPublicKey,er.ciphertext]),ur=await hmacSha256Verify(Buffer.from(cr),lr,er.mac);if(!ur&&nr===!1)return decrypt$2(tr,er,!0);if(!ur&&nr===!0)throw new Error("bad MAC after trying padded");const fr=await aesCbcDecrypt(er.iv,Buffer.from(ar),er.ciphertext);return Buffer.from(new Uint8Array(fr))};var jsonify={},parse$e,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse$e;hasRequiredParse=1;var tr,er,rr={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},nr;function ir(gr){throw{name:"SyntaxError",message:gr,at:tr,text:nr}}function or(gr){return gr&&gr!==er&&ir("Expected '"+gr+"' instead of '"+er+"'"),er=nr.charAt(tr),tr+=1,er}function sr(){var gr,br="";for(er==="-"&&(br="-",or("-"));er>="0"&&er<="9";)br+=er,or();if(er===".")for(br+=".";or()&&er>="0"&&er<="9";)br+=er;if(er==="e"||er==="E")for(br+=er,or(),(er==="-"||er==="+")&&(br+=er,or());er>="0"&&er<="9";)br+=er,or();return gr=Number(br),isFinite(gr)||ir("Bad number"),gr}function ar(){var gr,br,vr="",$r;if(er==='"')for(;or();){if(er==='"')return or(),vr;if(er==="\\")if(or(),er==="u"){for($r=0,br=0;br<4&&(gr=parseInt(or(),16),!!isFinite(gr));br+=1)$r=$r*16+gr;vr+=String.fromCharCode($r)}else if(typeof rr[er]=="string")vr+=rr[er];else break;else vr+=er}ir("Bad string")}function cr(){for(;er&&er<=" ";)or()}function lr(){switch(er){case"t":return or("t"),or("r"),or("u"),or("e"),!0;case"f":return or("f"),or("a"),or("l"),or("s"),or("e"),!1;case"n":return or("n"),or("u"),or("l"),or("l"),null;default:ir("Unexpected '"+er+"'")}}function ur(){var gr=[];if(er==="["){if(or("["),cr(),er==="]")return or("]"),gr;for(;er;){if(gr.push(dr()),cr(),er==="]")return or("]"),gr;or(","),cr()}}ir("Bad array")}function fr(){var gr,br={};if(er==="{"){if(or("{"),cr(),er==="}")return or("}"),br;for(;er;){if(gr=ar(),cr(),or(":"),Object.prototype.hasOwnProperty.call(br,gr)&&ir('Duplicate key "'+gr+'"'),br[gr]=dr(),cr(),er==="}")return or("}"),br;or(","),cr()}}ir("Bad object")}function dr(){switch(cr(),er){case"{":return fr();case"[":return ur();case'"':return ar();case"-":return sr();default:return er>="0"&&er<="9"?sr():lr()}}return parse$e=function(gr,br){var vr;return nr=gr,tr=0,er=" ",vr=dr(),cr(),er&&ir("Syntax error"),typeof br=="function"?function $r(Er,_r){var xr,Ir,Nr=Er[_r];if(Nr&&typeof Nr=="object")for(xr in dr)Object.prototype.hasOwnProperty.call(Nr,xr)&&(Ir=$r(Nr,xr),typeof Ir>"u"?delete Nr[xr]:Nr[xr]=Ir);return br.call(Er,_r,Nr)}({"":vr},""):vr},parse$e}var stringify,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify;hasRequiredStringify=1;var tr=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,er,rr,nr={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},ir;function or(ar){return tr.lastIndex=0,tr.test(ar)?'"'+ar.replace(tr,function(cr){var lr=nr[cr];return typeof lr=="string"?lr:"\\u"+("0000"+cr.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+ar+'"'}function sr(ar,cr){var lr,ur,fr,dr,gr=er,br,vr=cr[ar];switch(vr&&typeof vr=="object"&&typeof vr.toJSON=="function"&&(vr=vr.toJSON(ar)),typeof ir=="function"&&(vr=ir.call(cr,ar,vr)),typeof vr){case"string":return or(vr);case"number":return isFinite(vr)?String(vr):"null";case"boolean":case"null":return String(vr);case"object":if(!vr)return"null";if(er+=rr,br=[],Object.prototype.toString.apply(vr)==="[object Array]"){for(dr=vr.length,lr=0;lr<dr;lr+=1)br[lr]=sr(lr,vr)||"null";return fr=br.length===0?"[]":er?`[
`+er+br.join(`,
`+er)+`
`+gr+"]":"["+br.join(",")+"]",er=gr,fr}if(ir&&typeof ir=="object")for(dr=ir.length,lr=0;lr<dr;lr+=1)ur=ir[lr],typeof ur=="string"&&(fr=sr(ur,vr),fr&&br.push(or(ur)+(er?": ":":")+fr));else for(ur in vr)Object.prototype.hasOwnProperty.call(vr,ur)&&(fr=sr(ur,vr),fr&&br.push(or(ur)+(er?": ":":")+fr));return fr=br.length===0?"{}":er?`{
`+er+br.join(`,
`+er)+`
`+gr+"}":"{"+br.join(",")+"}",er=gr,fr}}return stringify=function(ar,cr,lr){var ur;if(er="",rr="",typeof lr=="number")for(ur=0;ur<lr;ur+=1)rr+=" ";else typeof lr=="string"&&(rr=lr);if(ir=cr,cr&&typeof cr!="function"&&(typeof cr!="object"||typeof cr.length!="number"))throw new Error("JSON.stringify");return sr("",{"":ar})},stringify}var hasRequiredJsonify;function requireJsonify(){return hasRequiredJsonify||(hasRequiredJsonify=1,jsonify.parse=requireParse(),jsonify.stringify=requireStringify()),jsonify}var toStr$4=Object.prototype.toString,isArguments$1=function tr(er){var rr=toStr$4.call(er),nr=rr==="[object Arguments]";return nr||(nr=rr!=="[object Array]"&&er!==null&&typeof er=="object"&&typeof er.length=="number"&&er.length>=0&&toStr$4.call(er.callee)==="[object Function]"),nr},implementation$7,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$7;hasRequiredImplementation$1=1;var tr;if(!Object.keys){var er=Object.prototype.hasOwnProperty,rr=Object.prototype.toString,nr=isArguments$1,ir=Object.prototype.propertyIsEnumerable,or=!ir.call({toString:null},"toString"),sr=ir.call(function(){},"prototype"),ar=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],cr=function(dr){var gr=dr.constructor;return gr&&gr.prototype===dr},lr={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ur=function(){if(typeof window>"u")return!1;for(var dr in window)try{if(!lr["$"+dr]&&er.call(window,dr)&&window[dr]!==null&&typeof window[dr]=="object")try{cr(window[dr])}catch{return!0}}catch{return!0}return!1}(),fr=function(dr){if(typeof window>"u"||!ur)return cr(dr);try{return cr(dr)}catch{return!1}};tr=function(gr){var br=gr!==null&&typeof gr=="object",vr=rr.call(gr)==="[object Function]",$r=nr(gr),Er=br&&rr.call(gr)==="[object String]",_r=[];if(!br&&!vr&&!$r)throw new TypeError("Object.keys called on a non-object");var xr=sr&&vr;if(Er&&gr.length>0&&!er.call(gr,0))for(var Ir=0;Ir<gr.length;++Ir)_r.push(String(Ir));if($r&&gr.length>0)for(var Nr=0;Nr<gr.length;++Nr)_r.push(String(Nr));else for(var Lr in gr)!(xr&&Lr==="prototype")&&er.call(gr,Lr)&&_r.push(String(Lr));if(or)for(var jr=fr(gr),Or=0;Or<ar.length;++Or)!(jr&&ar[Or]==="constructor")&&er.call(gr,ar[Or])&&_r.push(ar[Or]);return _r}}return implementation$7=tr,implementation$7}var slice=Array.prototype.slice,isArgs=isArguments$1,origKeys=Object.keys,keysShim=origKeys?function tr(er){return origKeys(er)}:requireImplementation$1(),originalKeys=Object.keys;keysShim.shim=function tr(){if(Object.keys){var er=function(){var rr=Object.keys(arguments);return rr&&rr.length===arguments.length}(1,2);er||(Object.keys=function(nr){return isArgs(nr)?originalKeys(slice.call(nr)):originalKeys(nr)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$1=keysShim,callBind$2={exports:{}},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$3=Object.prototype.toString,max$1=Math.max,funcType="[object Function]",concatty=function tr(er,rr){for(var nr=[],ir=0;ir<er.length;ir+=1)nr[ir]=er[ir];for(var or=0;or<rr.length;or+=1)nr[or+er.length]=rr[or];return nr},slicy=function tr(er,rr){for(var nr=[],ir=rr,or=0;ir<er.length;ir+=1,or+=1)nr[or]=er[ir];return nr},joiny=function(tr,er){for(var rr="",nr=0;nr<tr.length;nr+=1)rr+=tr[nr],nr+1<tr.length&&(rr+=er);return rr},implementation$6=function tr(er){var rr=this;if(typeof rr!="function"||toStr$3.apply(rr)!==funcType)throw new TypeError(ERROR_MESSAGE+rr);for(var nr=slicy(arguments,1),ir,or=function(){if(this instanceof ir){var ur=rr.apply(this,concatty(nr,arguments));return Object(ur)===ur?ur:this}return rr.apply(er,concatty(nr,arguments))},sr=max$1(0,rr.length-nr.length),ar=[],cr=0;cr<sr;cr++)ar[cr]="$"+cr;if(ir=Function("binder","return function ("+joiny(ar,",")+"){ return binder.apply(this,arguments); }")(or),rr.prototype){var lr=function(){};lr.prototype=rr.prototype,ir.prototype=new lr,lr.prototype=null}return ir},implementation$5=implementation$6,functionBind=Function.prototype.bind||implementation$5,esErrors=Error,_eval=EvalError,range$3=RangeError,ref=ReferenceError,syntax=SyntaxError,type$1=TypeError,uri$1=URIError,shams$1=function tr(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var er={},rr=Symbol("test"),nr=Object(rr);if(typeof rr=="string"||Object.prototype.toString.call(rr)!=="[object Symbol]"||Object.prototype.toString.call(nr)!=="[object Symbol]")return!1;var ir=42;er[rr]=ir;for(rr in er)return!1;if(typeof Object.keys=="function"&&Object.keys(er).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(er).length!==0)return!1;var or=Object.getOwnPropertySymbols(er);if(or.length!==1||or[0]!==rr||!Object.prototype.propertyIsEnumerable.call(er,rr))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var sr=Object.getOwnPropertyDescriptor(er,rr);if(sr.value!==ir||sr.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$3=function tr(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function tr(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},call$1=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call$1,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range$3,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$2=type$1,$URIError=uri$1,$Function=Function,getEvalledConstructor=function(tr){try{return $Function('"use strict"; return ('+tr+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$2=hasSymbols$3(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(tr){return tr.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$2?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(tr){var errorProto=getProto$1(getProto$1(tr));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function tr(er){var rr;if(er==="%AsyncFunction%")rr=getEvalledConstructor("async function () {}");else if(er==="%GeneratorFunction%")rr=getEvalledConstructor("function* () {}");else if(er==="%AsyncGeneratorFunction%")rr=getEvalledConstructor("async function* () {}");else if(er==="%AsyncGenerator%"){var nr=tr("%AsyncGeneratorFunction%");nr&&(rr=nr.prototype)}else if(er==="%AsyncIteratorPrototype%"){var ir=tr("%AsyncGenerator%");ir&&getProto$1&&(rr=getProto$1(ir.prototype))}return INTRINSICS[er]=rr,rr},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function tr(er){var rr=$strSlice(er,0,1),nr=$strSlice(er,-1);if(rr==="%"&&nr!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(nr==="%"&&rr!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var ir=[];return $replace(er,rePropName,function(or,sr,ar,cr){ir[ir.length]=ar?$replace(cr,reEscapeChar,"$1"):sr||or}),ir},getBaseIntrinsic=function tr(er,rr){var nr=er,ir;if(hasOwn(LEGACY_ALIASES,nr)&&(ir=LEGACY_ALIASES[nr],nr="%"+ir[0]+"%"),hasOwn(INTRINSICS,nr)){var or=INTRINSICS[nr];if(or===needsEval&&(or=doEval(nr)),typeof or>"u"&&!rr)throw new $TypeError$2("intrinsic "+er+" exists, but is not available. Please file an issue!");return{alias:ir,name:nr,value:or}}throw new $SyntaxError$1("intrinsic "+er+" does not exist!")},getIntrinsic=function tr(er,rr){if(typeof er!="string"||er.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof rr!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,er)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var nr=stringToPath(er),ir=nr.length>0?nr[0]:"",or=getBaseIntrinsic("%"+ir+"%",rr),sr=or.name,ar=or.value,cr=!1,lr=or.alias;lr&&(ir=lr[0],$spliceApply(nr,$concat([0,1],lr)));for(var ur=1,fr=!0;ur<nr.length;ur+=1){var dr=nr[ur],gr=$strSlice(dr,0,1),br=$strSlice(dr,-1);if((gr==='"'||gr==="'"||gr==="`"||br==='"'||br==="'"||br==="`")&&gr!==br)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((dr==="constructor"||!fr)&&(cr=!0),ir+="."+dr,sr="%"+ir+"%",hasOwn(INTRINSICS,sr))ar=INTRINSICS[sr];else if(ar!=null){if(!(dr in ar)){if(!rr)throw new $TypeError$2("base intrinsic for "+er+" exists, but the property is not available.");return}if($gOPD$1&&ur+1>=nr.length){var vr=$gOPD$1(ar,dr);fr=!!vr,fr&&"get"in vr&&!("originalValue"in vr.get)?ar=vr.get:ar=ar[dr]}else fr=hasOwn(ar,dr),ar=ar[dr];fr&&!cr&&(INTRINSICS[sr]=ar)}}return ar},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var tr=getIntrinsic,er=tr("%Object.defineProperty%",!0)||!1;if(er)try{er({},"a",{value:1})}catch{er=!1}return esDefineProperty=er,esDefineProperty}var GetIntrinsic$2=getIntrinsic,$gOPD=GetIntrinsic$2("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$1=type$1,gopd=gopd$1,defineDataProperty=function tr(er,rr,nr){if(!er||typeof er!="object"&&typeof er!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof rr!="string"&&typeof rr!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var ir=arguments.length>3?arguments[3]:null,or=arguments.length>4?arguments[4]:null,sr=arguments.length>5?arguments[5]:null,ar=arguments.length>6?arguments[6]:!1,cr=!!gopd&&gopd(er,rr);if($defineProperty$1)$defineProperty$1(er,rr,{configurable:sr===null&&cr?cr.configurable:!sr,enumerable:ir===null&&cr?cr.enumerable:!ir,value:nr,writable:or===null&&cr?cr.writable:!or});else if(ar||!ir&&!or&&!sr)er[rr]=nr;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function tr(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function tr(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type$1,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function tr(er,rr){if(typeof er!="function")throw new $TypeError("`fn` is not a function");if(typeof rr!="number"||rr<0||rr>4294967295||$floor(rr)!==rr)throw new $TypeError("`length` must be a positive 32-bit integer");var nr=arguments.length>2&&!!arguments[2],ir=!0,or=!0;if("length"in er&&gOPD$1){var sr=gOPD$1(er,"length");sr&&!sr.configurable&&(ir=!1),sr&&!sr.writable&&(or=!1)}return(ir||or||!nr)&&(hasDescriptors?define(er,"length",rr,!0,!0):define(er,"length",rr)),er};(function(tr){var er=functionBind,rr=getIntrinsic,nr=setFunctionLength,ir=type$1,or=rr("%Function.prototype.apply%"),sr=rr("%Function.prototype.call%"),ar=rr("%Reflect.apply%",!0)||er.call(sr,or),cr=requireEsDefineProperty(),lr=rr("%Math.max%");tr.exports=function(dr){if(typeof dr!="function")throw new ir("a function is required");var gr=ar(er,sr,arguments);return nr(gr,1+lr(0,dr.length-(arguments.length-1)),!0)};var ur=function(){return ar(er,or,arguments)};cr?cr(tr.exports,"apply",{value:ur}):tr.exports.apply=ur})(callBind$2);var callBindExports=callBind$2.exports,GetIntrinsic=getIntrinsic,callBind$1=callBindExports,$indexOf$1=callBind$1(GetIntrinsic("String.prototype.indexOf")),callBound$4=function tr(er,rr){var nr=GetIntrinsic(er,!!rr);return typeof nr=="function"&&$indexOf$1(er,".prototype.")>-1?callBind$1(nr):nr};(typeof JSON<"u"?JSON:requireJsonify()).stringify;var callBound$3=callBound$4;callBound$3("Array.prototype.join");callBound$3("Array.prototype.push");var keccak$3={};function commonjsRequire(tr){throw new Error('Could not dynamically require "'+tr+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var utils$4={exports:{}};const require$$0$3=getAugmentedNamespace(_assert$1),require$$1$2=getAugmentedNamespace(utils$6);utils$4.exports;(function(tr,er){var rr=commonjsGlobal&&commonjsGlobal.__importDefault||function(dr){return dr&&dr.__esModule?dr:{default:dr}};Object.defineProperty(er,"__esModule",{value:!0}),er.crypto=er.utf8ToBytes=er.createView=er.concatBytes=er.toHex=er.bytesToHex=er.assertBytes=er.assertBool=void 0,er.bytesToUtf8=cr,er.hexToBytes=lr,er.equalsBytes=ur,er.wrapHash=fr;const nr=rr(require$$0$3),ir=require$$1$2,or=nr.default.bool;er.assertBool=or;const sr=nr.default.bytes;er.assertBytes=sr;var ar=require$$1$2;Object.defineProperty(er,"bytesToHex",{enumerable:!0,get:function(){return ar.bytesToHex}}),Object.defineProperty(er,"toHex",{enumerable:!0,get:function(){return ar.bytesToHex}}),Object.defineProperty(er,"concatBytes",{enumerable:!0,get:function(){return ar.concatBytes}}),Object.defineProperty(er,"createView",{enumerable:!0,get:function(){return ar.createView}}),Object.defineProperty(er,"utf8ToBytes",{enumerable:!0,get:function(){return ar.utf8ToBytes}});function cr(dr){if(!(dr instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof dr}`);return new TextDecoder().decode(dr)}function lr(dr){const gr=dr.startsWith("0x")?dr.substring(2):dr;return(0,ir.hexToBytes)(gr)}function ur(dr,gr){if(dr.length!==gr.length)return!1;for(let br=0;br<dr.length;br++)if(dr[br]!==gr[br])return!1;return!0}function fr(dr){return gr=>(nr.default.bytes(gr),dr(gr))}er.crypto=(()=>{const dr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,gr=typeof commonjsRequire=="function"&&commonjsRequire.bind(tr);return{node:gr&&!dr?gr("crypto"):void 0,web:dr}})()})(utils$4,utils$4.exports);var utilsExports=utils$4.exports;Object.defineProperty(keccak$3,"__esModule",{value:!0});keccak$3.keccak512=keccak$3.keccak384=keccak256$1=keccak$3.keccak256=keccak$3.keccak224=void 0;const sha3_1=sha3,utils_js_1$3=utilsExports;keccak$3.keccak224=(0,utils_js_1$3.wrapHash)(sha3_1.keccak_224);var keccak256$1=keccak$3.keccak256=(()=>{const tr=(0,utils_js_1$3.wrapHash)(sha3_1.keccak_256);return tr.create=sha3_1.keccak_256.create,tr})();keccak$3.keccak384=(0,utils_js_1$3.wrapHash)(sha3_1.keccak_384);keccak$3.keccak512=(0,utils_js_1$3.wrapHash)(sha3_1.keccak_512);function keccak256(tr){return Buffer.from(keccak256$1(tr))}const ec=new elliptic.ec("secp256k1");function encParamsHexToBuf(tr){return{iv:Buffer.from(tr.iv,"hex"),ephemPublicKey:Buffer.from(tr.ephemPublicKey,"hex"),ciphertext:Buffer.from(tr.ciphertext,"hex"),mac:Buffer.from(tr.mac,"hex")}}function encParamsBufToHex(tr){return{iv:Buffer.from(tr.iv).toString("hex"),ephemPublicKey:Buffer.from(tr.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(tr.ciphertext).toString("hex"),mac:Buffer.from(tr.mac).toString("hex")}}async function encryptData(tr,er){const rr=JSON.stringify(er),nr=Buffer.from(rr,"utf-8"),ir=await encrypt$2(getPublic(Buffer.from(tr,"hex")),nr),or=encParamsBufToHex(ir);return JSON.stringify(or)}async function decryptData(tr,er){const rr=JSON.parse(er),nr=encParamsHexToBuf(rr),ir=ec.keyFromPrivate(tr),sr=(await decrypt$2(Buffer.from(ir.getPrivate().toString("hex",64),"hex"),nr)).toString("utf-8");return JSON.parse(sr)}const BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(er,rr){const nr=rr.match(er);return nr&&nr.length>0&&nr[1]||""}static getSecondMatch(er,rr){const nr=rr.match(er);return nr&&nr.length>1&&nr[2]||""}static matchAndReturnConst(er,rr,nr){if(er.test(rr))return nr}static getWindowsVersionName(er){switch(er){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(er){const rr=er.split(".").splice(0,2).map(nr=>parseInt(nr,10)||0);if(rr.push(0),rr[0]===10)switch(rr[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(er){const rr=er.split(".").splice(0,2).map(nr=>parseInt(nr,10)||0);if(rr.push(0),!(rr[0]===1&&rr[1]<5)){if(rr[0]===1&&rr[1]<6)return"Cupcake";if(rr[0]===1&&rr[1]>=6)return"Donut";if(rr[0]===2&&rr[1]<2)return"Eclair";if(rr[0]===2&&rr[1]===2)return"Froyo";if(rr[0]===2&&rr[1]>2)return"Gingerbread";if(rr[0]===3)return"Honeycomb";if(rr[0]===4&&rr[1]<1)return"Ice Cream Sandwich";if(rr[0]===4&&rr[1]<4)return"Jelly Bean";if(rr[0]===4&&rr[1]>=4)return"KitKat";if(rr[0]===5)return"Lollipop";if(rr[0]===6)return"Marshmallow";if(rr[0]===7)return"Nougat";if(rr[0]===8)return"Oreo";if(rr[0]===9)return"Pie"}}static getVersionPrecision(er){return er.split(".").length}static compareVersions(er,rr,nr=!1){const ir=Utils.getVersionPrecision(er),or=Utils.getVersionPrecision(rr);let sr=Math.max(ir,or),ar=0;const cr=Utils.map([er,rr],lr=>{const ur=sr-Utils.getVersionPrecision(lr),fr=lr+new Array(ur+1).join(".0");return Utils.map(fr.split("."),dr=>new Array(20-dr.length).join("0")+dr).reverse()});for(nr&&(ar=sr-Math.min(ir,or)),sr-=1;sr>=ar;){if(cr[0][sr]>cr[1][sr])return 1;if(cr[0][sr]===cr[1][sr]){if(sr===ar)return 0;sr-=1}else if(cr[0][sr]<cr[1][sr])return-1}}static map(er,rr){const nr=[];let ir;if(Array.prototype.map)return Array.prototype.map.call(er,rr);for(ir=0;ir<er.length;ir+=1)nr.push(rr(er[ir]));return nr}static find(er,rr){let nr,ir;if(Array.prototype.find)return Array.prototype.find.call(er,rr);for(nr=0,ir=er.length;nr<ir;nr+=1){const or=er[nr];if(rr(or,nr))return or}}static assign(er,...rr){const nr=er;let ir,or;if(Object.assign)return Object.assign(er,...rr);for(ir=0,or=rr.length;ir<or;ir+=1){const sr=rr[ir];typeof sr=="object"&&sr!==null&&Object.keys(sr).forEach(cr=>{nr[cr]=sr[cr]})}return er}static getBrowserAlias(er){return BROWSER_ALIASES_MAP[er]}static getBrowserTypeByAlias(er){return BROWSER_MAP[er]||""}}const commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(tr){const er={name:"Googlebot"},rr=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/opera/i],describe(tr){const er={name:"Opera"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/opr\/|opios/i],describe(tr){const er={name:"Opera"},rr=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/SamsungBrowser/i],describe(tr){const er={name:"Samsung Internet for Android"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/Whale/i],describe(tr){const er={name:"NAVER Whale Browser"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/MZBrowser/i],describe(tr){const er={name:"MZ Browser"},rr=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/focus/i],describe(tr){const er={name:"Focus"},rr=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/swing/i],describe(tr){const er={name:"Swing"},rr=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/coast/i],describe(tr){const er={name:"Opera Coast"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(tr){const er={name:"Opera Touch"},rr=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/yabrowser/i],describe(tr){const er={name:"Yandex Browser"},rr=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/ucbrowser/i],describe(tr){const er={name:"UC Browser"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/Maxthon|mxios/i],describe(tr){const er={name:"Maxthon"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/epiphany/i],describe(tr){const er={name:"Epiphany"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/puffin/i],describe(tr){const er={name:"Puffin"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/sleipnir/i],describe(tr){const er={name:"Sleipnir"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/k-meleon/i],describe(tr){const er={name:"K-Meleon"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/micromessenger/i],describe(tr){const er={name:"WeChat"},rr=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/qqbrowser/i],describe(tr){const er={name:/qqbrowserlite/i.test(tr)?"QQ Browser Lite":"QQ Browser"},rr=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/msie|trident/i],describe(tr){const er={name:"Internet Explorer"},rr=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/\sedg\//i],describe(tr){const er={name:"Microsoft Edge"},rr=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/edg([ea]|ios)/i],describe(tr){const er={name:"Microsoft Edge"},rr=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/vivaldi/i],describe(tr){const er={name:"Vivaldi"},rr=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/seamonkey/i],describe(tr){const er={name:"SeaMonkey"},rr=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/sailfish/i],describe(tr){const er={name:"Sailfish"},rr=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,tr);return rr&&(er.version=rr),er}},{test:[/silk/i],describe(tr){const er={name:"Amazon Silk"},rr=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/phantom/i],describe(tr){const er={name:"PhantomJS"},rr=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/slimerjs/i],describe(tr){const er={name:"SlimerJS"},rr=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(tr){const er={name:"BlackBerry"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/(web|hpw)[o0]s/i],describe(tr){const er={name:"WebOS Browser"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/bada/i],describe(tr){const er={name:"Bada"},rr=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/tizen/i],describe(tr){const er={name:"Tizen"},rr=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/qupzilla/i],describe(tr){const er={name:"QupZilla"},rr=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/firefox|iceweasel|fxios/i],describe(tr){const er={name:"Firefox"},rr=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/electron/i],describe(tr){const er={name:"Electron"},rr=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/MiuiBrowser/i],describe(tr){const er={name:"Miui"},rr=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/chromium/i],describe(tr){const er={name:"Chromium"},rr=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,tr)||Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/chrome|crios|crmo/i],describe(tr){const er={name:"Chrome"},rr=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/GSA/i],describe(tr){const er={name:"Google Search"},rr=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test(tr){const er=!tr.test(/like android/i),rr=tr.test(/android/i);return er&&rr},describe(tr){const er={name:"Android Browser"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/playstation 4/i],describe(tr){const er={name:"PlayStation 4"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/safari|applewebkit/i],describe(tr){const er={name:"Safari"},rr=Utils.getFirstMatch(commonVersionIdentifier,tr);return rr&&(er.version=rr),er}},{test:[/.*/i],describe(tr){const er=/^(.*)\/(.*) /,rr=/^(.*)\/(.*)[ \t]\((.*)/,ir=tr.search("\\(")!==-1?rr:er;return{name:Utils.getFirstMatch(ir,tr),version:Utils.getSecondMatch(ir,tr)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(tr){const er=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,tr);return{name:OS_MAP.Roku,version:er}}},{test:[/windows phone/i],describe(tr){const er=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,tr);return{name:OS_MAP.WindowsPhone,version:er}}},{test:[/windows /i],describe(tr){const er=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,tr),rr=Utils.getWindowsVersionName(er);return{name:OS_MAP.Windows,version:er,versionName:rr}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(tr){const er={name:OS_MAP.iOS},rr=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,tr);return rr&&(er.version=rr),er}},{test:[/macintosh/i],describe(tr){const er=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,tr).replace(/[_\s]/g,"."),rr=Utils.getMacOSVersionName(er),nr={name:OS_MAP.MacOS,version:er};return rr&&(nr.versionName=rr),nr}},{test:[/(ipod|iphone|ipad)/i],describe(tr){const er=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,tr).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:er}}},{test(tr){const er=!tr.test(/like android/i),rr=tr.test(/android/i);return er&&rr},describe(tr){const er=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,tr),rr=Utils.getAndroidVersionName(er),nr={name:OS_MAP.Android,version:er};return rr&&(nr.versionName=rr),nr}},{test:[/(web|hpw)[o0]s/i],describe(tr){const er=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,tr),rr={name:OS_MAP.WebOS};return er&&er.length&&(rr.version=er),rr}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(tr){const er=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,tr)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,tr)||Utils.getFirstMatch(/\bbb(\d+)/i,tr);return{name:OS_MAP.BlackBerry,version:er}}},{test:[/bada/i],describe(tr){const er=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,tr);return{name:OS_MAP.Bada,version:er}}},{test:[/tizen/i],describe(tr){const er=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,tr);return{name:OS_MAP.Tizen,version:er}}},{test:[/linux/i],describe(){return{name:OS_MAP.Linux}}},{test:[/CrOS/],describe(){return{name:OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe(tr){const er=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,tr);return{name:OS_MAP.PlayStation4,version:er}}}],platformParsersList=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(tr){const er=Utils.getFirstMatch(/(can-l01)/i,tr)&&"Nova",rr={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return er&&(rr.model=er),rr}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:PLATFORMS_MAP.tablet}}},{test(tr){const er=tr.test(/ipod|iphone/i),rr=tr.test(/like (ipod|iphone)/i);return er&&!rr},describe(tr){const er=Utils.getFirstMatch(/(ipod|iphone)/i,tr);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:er}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:PLATFORMS_MAP.mobile}}},{test(tr){return tr.getBrowserName(!0)==="blackberry"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test(tr){return tr.getBrowserName(!0)==="bada"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(tr){return tr.getBrowserName()==="windows phone"},describe(){return{type:PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test(tr){const er=Number(String(tr.getOSVersion()).split(".")[0]);return tr.getOSName(!0)==="android"&&er>=3},describe(){return{type:PLATFORMS_MAP.tablet}}},{test(tr){return tr.getOSName(!0)==="android"},describe(){return{type:PLATFORMS_MAP.mobile}}},{test(tr){return tr.getOSName(!0)==="macos"},describe(){return{type:PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test(tr){return tr.getOSName(!0)==="windows"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(tr){return tr.getOSName(!0)==="linux"},describe(){return{type:PLATFORMS_MAP.desktop}}},{test(tr){return tr.getOSName(!0)==="playstation 4"},describe(){return{type:PLATFORMS_MAP.tv}}},{test(tr){return tr.getOSName(!0)==="roku"},describe(){return{type:PLATFORMS_MAP.tv}}}],enginesParsersList=[{test(tr){return tr.getBrowserName(!0)==="microsoft edge"},describe(tr){if(/\sedg\//i.test(tr))return{name:ENGINE_MAP.Blink};const rr=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,tr);return{name:ENGINE_MAP.EdgeHTML,version:rr}}},{test:[/trident/i],describe(tr){const er={name:ENGINE_MAP.Trident},rr=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test(tr){return tr.test(/presto/i)},describe(tr){const er={name:ENGINE_MAP.Presto},rr=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test(tr){const er=tr.test(/gecko/i),rr=tr.test(/like gecko/i);return er&&!rr},describe(tr){const er={name:ENGINE_MAP.Gecko},rr=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe(tr){const er={name:ENGINE_MAP.WebKit},rr=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,tr);return rr&&(er.version=rr),er}}];class Parser{constructor(er,rr=!1){if(er==null||er==="")throw new Error("UserAgent parameter can't be empty");this._ua=er,this.parsedResult={},rr!==!0&&this.parse()}getUA(){return this._ua}test(er){return er.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const er=Utils.find(browsersList,rr=>{if(typeof rr.test=="function")return rr.test(this);if(rr.test instanceof Array)return rr.test.some(nr=>this.test(nr));throw new Error("Browser's test function is not valid")});return er&&(this.parsedResult.browser=er.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(er){return er?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const er=Utils.find(osParsersList,rr=>{if(typeof rr.test=="function")return rr.test(this);if(rr.test instanceof Array)return rr.test.some(nr=>this.test(nr));throw new Error("Browser's test function is not valid")});return er&&(this.parsedResult.os=er.describe(this.getUA())),this.parsedResult.os}getOSName(er){const{name:rr}=this.getOS();return er?String(rr).toLowerCase()||"":rr||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(er=!1){const{type:rr}=this.getPlatform();return er?String(rr).toLowerCase()||"":rr||""}parsePlatform(){this.parsedResult.platform={};const er=Utils.find(platformParsersList,rr=>{if(typeof rr.test=="function")return rr.test(this);if(rr.test instanceof Array)return rr.test.some(nr=>this.test(nr));throw new Error("Browser's test function is not valid")});return er&&(this.parsedResult.platform=er.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(er){return er?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const er=Utils.find(enginesParsersList,rr=>{if(typeof rr.test=="function")return rr.test(this);if(rr.test instanceof Array)return rr.test.some(nr=>this.test(nr));throw new Error("Browser's test function is not valid")});return er&&(this.parsedResult.engine=er.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(er){const rr={};let nr=0;const ir={};let or=0;if(Object.keys(er).forEach(ar=>{const cr=er[ar];typeof cr=="string"?(ir[ar]=cr,or+=1):typeof cr=="object"&&(rr[ar]=cr,nr+=1)}),nr>0){const ar=Object.keys(rr),cr=Utils.find(ar,ur=>this.isOS(ur));if(cr){const ur=this.satisfies(rr[cr]);if(ur!==void 0)return ur}const lr=Utils.find(ar,ur=>this.isPlatform(ur));if(lr){const ur=this.satisfies(rr[lr]);if(ur!==void 0)return ur}}if(or>0){const ar=Object.keys(ir),cr=Utils.find(ar,lr=>this.isBrowser(lr,!0));if(cr!==void 0)return this.compareVersion(ir[cr])}}isBrowser(er,rr=!1){const nr=this.getBrowserName().toLowerCase();let ir=er.toLowerCase();const or=Utils.getBrowserTypeByAlias(ir);return rr&&or&&(ir=or.toLowerCase()),ir===nr}compareVersion(er){let rr=[0],nr=er,ir=!1;const or=this.getBrowserVersion();if(typeof or=="string")return er[0]===">"||er[0]==="<"?(nr=er.substr(1),er[1]==="="?(ir=!0,nr=er.substr(2)):rr=[],er[0]===">"?rr.push(1):rr.push(-1)):er[0]==="="?nr=er.substr(1):er[0]==="~"&&(ir=!0,nr=er.substr(1)),rr.indexOf(Utils.compareVersions(or,nr,ir))>-1}isOS(er){return this.getOSName(!0)===String(er).toLowerCase()}isPlatform(er){return this.getPlatformType(!0)===String(er).toLowerCase()}isEngine(er){return this.getEngineName(!0)===String(er).toLowerCase()}is(er,rr=!1){return this.isBrowser(er,rr)||this.isOS(er)||this.isPlatform(er)}some(er=[]){return er.some(rr=>this.is(rr))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bowser{static getParser(er,rr=!1){if(typeof er!="string")throw new Error("UserAgent should be a string");return new Parser(er,rr)}static parse(er){return new Parser(er).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}class BaseController extends SafeEventEmitter{constructor({config:er={},state:rr={}}){super(),_defineProperty(this,"defaultConfig",{}),_defineProperty(this,"defaultState",{}),_defineProperty(this,"disabled",!1),_defineProperty(this,"name","BaseController"),_defineProperty(this,"initialConfig",void 0),_defineProperty(this,"initialState",void 0),_defineProperty(this,"internalConfig",this.defaultConfig),_defineProperty(this,"internalState",this.defaultState),this.initialState=rr,this.initialConfig=er}get config(){return this.internalConfig}get state(){return this.internalState}configure(er,rr=!1,nr=!0){if(nr){this.internalConfig=rr?er:Object.assign(this.internalConfig,er);for(const ir in this.internalConfig)typeof this.internalConfig[ir]<"u"&&(this[ir]=this.internalConfig[ir])}else for(const ir in er)typeof this.internalConfig[ir]<"u"&&(this.internalConfig[ir]=er[ir],this[ir]=er[ir])}update(er,rr=!1){this.internalState=_objectSpread2(rr?{}:_objectSpread2({},this.internalState),er),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const filterNoop=()=>!0,internalEvents=["newListener","removeListener"],externalEventFilter=tr=>!internalEvents.includes(tr);function getRawListeners(tr,er){return typeof tr.rawListeners<"u"?tr.rawListeners(er):tr.listeners(er)}function createEventEmitterProxy(tr,er){let nr={}.eventFilter||filterNoop;if(typeof nr=="string"&&nr==="skipInternal"&&(nr=externalEventFilter),typeof nr!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let ir=tr,or=ar=>{const cr=ir;ir=ar,cr.eventNames().filter(nr).forEach(lr=>{getRawListeners(cr,lr).forEach(ur=>{ar.on(lr,ur)})}),cr.removeAllListeners()};return new Proxy({},{get:(ar,cr)=>cr==="setTarget"?or:ir[cr],set:(ar,cr,lr)=>cr==="setTarget"?(or=lr,!0):(ir[cr]=lr,!0)})}const FEATURES_PROVIDER_CHANGE_WINDOW={height:660,width:375},FEATURES_DEFAULT_POPUP_WINDOW={height:700,width:1200},FEATURES_CONFIRM_WINDOW={height:700,width:450},SETUP_COMPLETE="setup_complete",COMMUNICATION_NOTIFICATIONS={IFRAME_STATUS:"iframe_status",CLOSE_WINDOW:"close_window",USER_LOGGED_IN:"user_logged_in",USER_LOGGED_OUT:"user_logged_out"},COMMUNICATION_JRPC_METHODS={LOGOUT:"logout",WALLET_INSTANCE_ID:"wallet_instance_id",USER_INFO:"user_info",SET_PROVIDER:"set_provider",TOPUP:"topup",IFRAME_STATUS:"iframe_status",CLOSED_WINDOW:"closed_window",WINDOW_BLOCKED:"window_blocked",GET_PROVIDER_STATE:"get_provider_state",LOGIN_WITH_PRIVATE_KEY:"login_with_private_key",SHOW_WALLET_CONNECT:"show_wallet_connect",SHOW_CHECKOUT:"show_checkout",SHOW_WALLET_UI:"show_wallet_ui",LOGIN_WITH_SESSION_ID:"login_with_session_id"},PROVIDER_JRPC_METHODS={GET_PROVIDER_STATE:"wallet_get_provider_state"},PROVIDER_NOTIFICATIONS={ACCOUNTS_CHANGED:"wallet_accounts_changed",CHAIN_CHANGED:"wallet_chain_changed",UNLOCK_STATE_CHANGED:"wallet_unlock_state_changed"},CONFIRMATION_STRATEGY={POPUP:"popup",MODAL:"modal",AUTO_APPROVE:"auto-approve",DEFAULT:"default"},authServer="https://authjs.web3auth.io",signChallenge=async(tr,er)=>{const or={payload:tr,header:{t:er==="solana"?"sip99":"eip191"},network:er==="solana"?"solana":"ethereum"},sr=await post(`${authServer}/siww/get`,or);if(!sr.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return sr.challenge},verifySignedChallenge=async(tr,er,rr,nr,ir,or,sr,ar,cr)=>{var lr;const fr=_objectSpread2({signature:{s:er,t:tr==="solana"?"sip99":"eip191"},message:rr,issuer:nr,audience:typeof window<"u"&&((lr=window.location)===null||lr===void 0?void 0:lr.hostname)||"com://reactnative",timeout:ir},{}),dr=await post(`${authServer}/siww/verify`,fr,{headers:{client_id:or,wallet_provider:nr,web3auth_network:sr}});if(!dr.success)throw log$3.error("Failed to authenticate user, ,message verification failed",dr.error),new Error("Failed to authenticate user, ,message verification failed");return dr.token},randomId=()=>Math.random().toString(36).slice(2);function padWithZeroes$1(tr,er){if(tr!==""&&!/^[a-f0-9]+$/iu.test(tr))throw new Error(`Expected an unprefixed hex string. Received: ${tr}`);return String.prototype.padStart.call(tr,er,"0")}function concatSig$1(tr,er,rr){const nr=fromSigned(er),ir=fromSigned(rr),or=bytesToBigInt(tr),sr=padWithZeroes$1(Buffer.from(toUnsigned(nr)).toString("hex"),64),ar=padWithZeroes$1(Buffer.from(toUnsigned(ir)).toString("hex"),64),cr=stripHexPrefix$3(bigIntToHex$2(or));return addHexPrefix$1(sr.concat(ar,cr))}const signMessage=async(tr,er)=>{const rr=Buffer.from(tr,"hex"),nr=stripHexPrefix$3(er),ir=ecsign$1(Buffer.from(nr,"hex"),rr);return concatSig$1(Buffer.from(bigIntToBytes(ir.v)),Buffer.from(ir.r),Buffer.from(ir.s))};function getPopupFeatures$1({width:tr,height:er}){const rr=window.screenLeft!==void 0?window.screenLeft:window.screenX,nr=window.screenTop!==void 0?window.screenTop:window.screenY,ir=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,or=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,sr=1,ar=Math.abs((ir-tr)/2/sr+rr),cr=Math.abs((or-er)/2/sr+nr);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${er/sr},width=${tr/sr},top=${cr},left=${ar}`}const RETRIABLE_ERRORS=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function checkForHttpErrors(tr){switch(tr.status){case 405:throw rpcErrors.methodNotFound();case 418:throw rpcErrors.internal({message:"Request is being rate limited.",data:{cause:tr}});case 503:case 504:throw rpcErrors.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range."})}}function timeout(tr){return new Promise(er=>{setTimeout(er,tr)})}function parseResponse(tr,er){if(tr.status!==200)throw rpcErrors.internal({message:`Non-200 status code: '${tr.status}'`,data:er});if(er.error)throw rpcErrors.internal({data:er.error});return er.result}function createFetchConfigFromReq({req:tr,rpcTarget:er,originHttpHeaderKey:rr}){const nr=new URL(er),ir={id:tr.id,jsonrpc:tr.jsonrpc,method:tr.method,params:tr.params},or=tr.origin,sr=JSON.stringify(ir),ar={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:sr};return rr&&or&&(ar.headers[rr]=or),{fetchUrl:nr.href,fetchParams:ar}}function createFetchMiddleware({rpcTarget:tr,originHttpHeaderKey:er}){return createAsyncMiddleware(async(rr,nr,ir)=>{const{fetchUrl:or,fetchParams:sr}=createFetchConfigFromReq({req:rr,rpcTarget:tr,originHttpHeaderKey:er}),ar=5,cr=1e3;for(let lr=0;lr<ar;lr++){try{const ur=await fetch(or,sr);checkForHttpErrors(ur);const fr=await ur.json(),dr=parseResponse(ur,fr);nr.result=dr;return}catch(ur){const fr=(ur.message||ur).toString();if(!RETRIABLE_ERRORS.some(gr=>fr.includes(gr)))throw ur}await timeout(cr)}})}function createLoggerMiddleware(tr){return function(rr,nr,ir){ir(or=>{nr.error&&log$3.warn(`Error in RPC response:
`,nr),!rr.isTorusInternal&&(log$3.info(`RPC (${tr.origin}):`,rr,"->",nr),or())})}}var jsonRpcRandomId=IdIterator;function IdIterator(tr){tr=tr||{};var er=tr.max||Number.MAX_SAFE_INTEGER,rr=typeof tr.start<"u"?tr.start:Math.floor(Math.random()*er);return function(){return rr=rr%er,rr++}}const getCreateRandomId=getDefaultExportFromCjs(jsonRpcRandomId);let BaseProvider$1=class extends BaseController{constructor({config:er,state:rr}){if(super({config:er,state:rr}),_defineProperty(this,"_providerEngineProxy",null),!er.chainConfig)throw WalletInitializationError.invalidProviderConfigError("Please provide chainConfig");if(!er.chainConfig.chainId)throw WalletInitializationError.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!er.chainConfig.rpcTarget)throw WalletInitializationError.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:er.chainConfig,networks:{[er.chainConfig.chainId]:er.chainConfig}},super.initialize()}get currentChainConfig(){return this.config.chainConfig}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(er){throw new Error("Method not implemented.")}async request(er){var rr;if(!er||typeof er!="object"||Array.isArray(er))throw rpcErrors.invalidRequest({message:WalletProviderError.invalidRequestArgs().message,data:_objectSpread2(_objectSpread2({},er||{}),{},{cause:WalletProviderError.invalidRequestArgs().message})});const{method:nr,params:ir}=er;if(typeof nr!="string"||nr.length===0)throw rpcErrors.invalidRequest({message:WalletProviderError.invalidRequestMethod().message,data:_objectSpread2(_objectSpread2({},er||{}),{},{cause:WalletProviderError.invalidRequestMethod().message})});if(ir!==void 0&&!Array.isArray(ir)&&(typeof ir!="object"||ir===null))throw rpcErrors.invalidRequest({message:WalletProviderError.invalidRequestParams().message,data:_objectSpread2(_objectSpread2({},er||{}),{},{cause:WalletProviderError.invalidRequestParams().message})});return(rr=this.provider)===null||rr===void 0?void 0:rr.request(er)}sendAsync(er,rr){return rr?this.send(er,rr):this.request(er)}send(er,rr){this.request(er).then(nr=>rr(null,{result:nr})).catch(nr=>rr(nr,null))}addChain(er){if(!er.chainId||!er.rpcTarget)throw rpcErrors.invalidParams("chainId is required");this.configure({networks:_objectSpread2(_objectSpread2({},this.config.networks),{},{[er.chainId]:er})})}getChainConfig(er){var rr;const nr=(rr=this.config.networks)===null||rr===void 0?void 0:rr[er];if(!nr)throw rpcErrors.invalidRequest(`Chain ${er} is not supported, please add chainConfig for it`);return nr}updateProviderEngineProxy(er){this._providerEngineProxy?this._providerEngineProxy.setTarget(er):this._providerEngineProxy=createEventEmitterProxy(er)}getProviderEngineProxy(){return this._providerEngineProxy}};function createChainIdMiddleware$1(tr){return(er,rr,nr,ir)=>er.method==="chainId"?(rr.result=tr,ir()):nr()}function createProviderConfigMiddleware$1(tr){return(er,rr,nr,ir)=>er.method==="provider_config"?(rr.result=tr,ir()):nr()}function createJsonRpcClient$1(tr){const{chainId:er,rpcTarget:rr}=tr,nr=createFetchMiddleware({rpcTarget:rr});return{networkMiddleware:mergeMiddleware([createChainIdMiddleware$1(er),createProviderConfigMiddleware$1(tr),nr]),fetchMiddleware:nr}}var _CommonJRPCProvider;class CommonJRPCProvider extends BaseProvider$1{constructor({config:er,state:rr}){super({config:er,state:rr})}async setupProvider(){const{networkMiddleware:er}=createJsonRpcClient$1(this.config.chainConfig),rr=new JRPCEngine;rr.push(er);const nr=providerFromEngine(rr);this.updateProviderEngineProxy(nr);const ir=this.config.chainConfig.chainId;this.state.chainId!==ir&&(this.emit("chainChanged",ir),this.emit("connect",{chainId:ir})),this.update({chainId:this.config.chainConfig.chainId})}async switchChain(er){if(!this._providerEngineProxy)throw providerErrors.custom({message:"Provider is not initialized",code:4902});const rr=this.getChainConfig(er.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:rr}),await this.setupProvider()}updateProviderEngineProxy(er){this._providerEngineProxy?this._providerEngineProxy.setTarget(er):this._providerEngineProxy=createEventEmitterProxy(er)}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}_CommonJRPCProvider=CommonJRPCProvider;_defineProperty(CommonJRPCProvider,"getProviderInstance",async tr=>{const er=new _CommonJRPCProvider({config:{chainConfig:tr.chainConfig}});return await er.setupProvider(),er});var _CommonPrivateKeyProvider;class CommonPrivateKeyProvider extends BaseProvider$1{constructor({config:er,state:rr}){super({config:er,state:rr}),_defineProperty(this,"_providerEngineProxy",null)}get provider(){return this._providerEngineProxy}set provider(er){throw new Error("Method not implemented.")}addChain(er){throw new Error("Method not implemented.")}async setupProvider(er){const rr=this.getPrivKeyMiddleware(er),nr=new JRPCEngine;nr.push(rr);const ir=providerFromEngine(nr);this.updateProviderEngineProxy(ir)}updateProviderEngineProxy(er){this._providerEngineProxy?this._providerEngineProxy.setTarget(er):this._providerEngineProxy=createEventEmitterProxy(er)}async switchChain(er){return Promise.resolve()}getProviderEngineProxy(){return this._providerEngineProxy}async lookupNetwork(){return Promise.resolve("")}getPrivKeyMiddleware(er){const rr={getPrivatekey:async()=>er};return this.createPrivKeyMiddleware(rr)}createPrivKeyMiddleware({getPrivatekey:er}){async function rr(nr,ir){ir.result=await er()}return createScaffoldMiddleware({private_key:createAsyncMiddleware(rr)})}}_CommonPrivateKeyProvider=CommonPrivateKeyProvider;_defineProperty(CommonPrivateKeyProvider,"getProviderInstance",async tr=>{const er=new _CommonPrivateKeyProvider({config:{chainConfig:tr.chainConfig}});return await er.setupProvider(tr.privKey),er});getCreateRandomId();var dist$8={},personalSign$1={},dist$7={},constants$7={},secp256k1={};const require$$0$2=getAugmentedNamespace(secp256k1$2);(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.secp256k1=void 0;var er=require$$0$2;Object.defineProperty(tr,"secp256k1",{enumerable:!0,get:function(){return er.secp256k1}})})(secp256k1);(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.MAX_WITHDRAWALS_PER_PAYLOAD=tr.RLP_EMPTY_STRING=tr.KECCAK256_RLP=tr.KECCAK256_RLP_S=tr.KECCAK256_RLP_ARRAY=tr.KECCAK256_RLP_ARRAY_S=tr.KECCAK256_NULL=tr.KECCAK256_NULL_S=tr.TWO_POW256=tr.SECP256K1_ORDER_DIV_2=tr.SECP256K1_ORDER=tr.MAX_INTEGER_BIGINT=tr.MAX_INTEGER=tr.MAX_UINT64=void 0;const er=buffer$1,rr=secp256k1;tr.MAX_UINT64=BigInt("0xffffffffffffffff"),tr.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),tr.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),tr.SECP256K1_ORDER=rr.secp256k1.CURVE.n,tr.SECP256K1_ORDER_DIV_2=rr.secp256k1.CURVE.n/BigInt(2),tr.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),tr.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",tr.KECCAK256_NULL=er.Buffer.from(tr.KECCAK256_NULL_S,"hex"),tr.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",tr.KECCAK256_RLP_ARRAY=er.Buffer.from(tr.KECCAK256_RLP_ARRAY_S,"hex"),tr.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",tr.KECCAK256_RLP=er.Buffer.from(tr.KECCAK256_RLP_S,"hex"),tr.RLP_EMPTY_STRING=er.Buffer.from([128]),tr.MAX_WITHDRAWALS_PER_PAYLOAD=16})(constants$7);var units={};Object.defineProperty(units,"__esModule",{value:!0});units.GWEI_TO_WEI=void 0;units.GWEI_TO_WEI=BigInt(1e9);var account={},dist$6={};Object.defineProperty(dist$6,"__esModule",{value:!0});dist$6.RLP=dist$6.utils=dist$6.decode=dist$6.encode=void 0;function encode(tr){if(Array.isArray(tr)){const rr=[];let nr=0;for(let ir=0;ir<tr.length;ir++){const or=encode(tr[ir]);rr.push(or),nr+=or.length}return concatBytes(encodeLength(nr,192),...rr)}const er=toBytes(tr);return er.length===1&&er[0]<128?er:concatBytes(encodeLength(er.length,128),er)}dist$6.encode=encode;function safeSlice(tr,er,rr){if(rr>tr.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return tr.slice(er,rr)}function decodeLength(tr){if(tr[0]===0)throw new Error("invalid RLP: extra zeros");return parseHexByte(bytesToHex(tr))}function encodeLength(tr,er){if(tr<56)return Uint8Array.from([tr+er]);const rr=numberToHex$2(tr),nr=rr.length/2,ir=numberToHex$2(er+55+nr);return Uint8Array.from(hexToBytes$1(ir+rr))}function decode(tr,er=!1){if(typeof tr>"u"||tr===null||tr.length===0)return Uint8Array.from([]);const rr=toBytes(tr),nr=_decode(rr);if(er)return nr;if(nr.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return nr.data}dist$6.decode=decode;function _decode(tr){let er,rr,nr,ir,or;const sr=[],ar=tr[0];if(ar<=127)return{data:tr.slice(0,1),remainder:tr.slice(1)};if(ar<=183){if(er=ar-127,ar===128?nr=Uint8Array.from([]):nr=safeSlice(tr,1,er),er===2&&nr[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:nr,remainder:tr.slice(er)}}else if(ar<=191){if(rr=ar-182,tr.length-1<rr)throw new Error("invalid RLP: not enough bytes for string length");if(er=decodeLength(safeSlice(tr,1,rr)),er<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return nr=safeSlice(tr,rr,er+rr),{data:nr,remainder:tr.slice(er+rr)}}else if(ar<=247){for(er=ar-191,ir=safeSlice(tr,1,er);ir.length;)or=_decode(ir),sr.push(or.data),ir=or.remainder;return{data:sr,remainder:tr.slice(er)}}else{if(rr=ar-246,er=decodeLength(safeSlice(tr,1,rr)),er<56)throw new Error("invalid RLP: encoded list too short");const cr=rr+er;if(cr>tr.length)throw new Error("invalid RLP: total length is larger than the data");for(ir=safeSlice(tr,rr,cr);ir.length;)or=_decode(ir),sr.push(or.data),ir=or.remainder;return{data:sr,remainder:tr.slice(cr)}}}const cachedHexes=Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));function bytesToHex(tr){let er="";for(let rr=0;rr<tr.length;rr++)er+=cachedHexes[tr[rr]];return er}function parseHexByte(tr){const er=Number.parseInt(tr,16);if(Number.isNaN(er))throw new Error("Invalid byte sequence");return er}function hexToBytes$1(tr){if(typeof tr!="string")throw new TypeError("hexToBytes: expected string, got "+typeof tr);if(tr.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const er=new Uint8Array(tr.length/2);for(let rr=0;rr<er.length;rr++){const nr=rr*2;er[rr]=parseHexByte(tr.slice(nr,nr+2))}return er}function concatBytes(...tr){if(tr.length===1)return tr[0];const er=tr.reduce((nr,ir)=>nr+ir.length,0),rr=new Uint8Array(er);for(let nr=0,ir=0;nr<tr.length;nr++){const or=tr[nr];rr.set(or,ir),ir+=or.length}return rr}function utf8ToBytes(tr){return new TextEncoder().encode(tr)}function numberToHex$2(tr){if(tr<0)throw new Error("Invalid integer as argument, must be unsigned!");const er=tr.toString(16);return er.length%2?`0${er}`:er}function padToEven$3(tr){return tr.length%2?`0${tr}`:tr}function isHexPrefixed$1(tr){return tr.length>=2&&tr[0]==="0"&&tr[1]==="x"}function stripHexPrefix$2(tr){return typeof tr!="string"?tr:isHexPrefixed$1(tr)?tr.slice(2):tr}function toBytes(tr){if(tr instanceof Uint8Array)return tr;if(typeof tr=="string")return isHexPrefixed$1(tr)?hexToBytes$1(padToEven$3(stripHexPrefix$2(tr))):utf8ToBytes(tr);if(typeof tr=="number"||typeof tr=="bigint")return tr?hexToBytes$1(numberToHex$2(tr)):Uint8Array.from([]);if(tr==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof tr)}dist$6.utils={bytesToHex,concatBytes,hexToBytes:hexToBytes$1,utf8ToBytes};dist$6.RLP={encode,decode};var bytes$3={},helpers$5={},internal={};Object.defineProperty(internal,"__esModule",{value:!0});internal.isHexString=internal.getKeys=internal.fromAscii=internal.fromUtf8=internal.toAscii=internal.arrayContainsArray=internal.getBinarySize=internal.padToEven=internal.stripHexPrefix=internal.isHexPrefixed=void 0;function isHexPrefixed(tr){if(typeof tr!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof tr}`);return tr[0]==="0"&&tr[1]==="x"}internal.isHexPrefixed=isHexPrefixed;const stripHexPrefix$1=tr=>{if(typeof tr!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof tr}`);return isHexPrefixed(tr)?tr.slice(2):tr};internal.stripHexPrefix=stripHexPrefix$1;function padToEven$2(tr){let er=tr;if(typeof er!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof er}`);return er.length%2&&(er=`0${er}`),er}internal.padToEven=padToEven$2;function getBinarySize(tr){if(typeof tr!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof tr}`);return Buffer.byteLength(tr,"utf8")}internal.getBinarySize=getBinarySize;function arrayContainsArray(tr,er,rr){if(Array.isArray(tr)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof tr}'`);if(Array.isArray(er)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof er}'`);return er[rr===!0?"some":"every"](nr=>tr.indexOf(nr)>=0)}internal.arrayContainsArray=arrayContainsArray;function toAscii(tr){let er="",rr=0;const nr=tr.length;for(tr.substring(0,2)==="0x"&&(rr=2);rr<nr;rr+=2){const ir=parseInt(tr.substr(rr,2),16);er+=String.fromCharCode(ir)}return er}internal.toAscii=toAscii;function fromUtf8(tr){const er=Buffer.from(tr,"utf8");return`0x${padToEven$2(er.toString("hex")).replace(/^0+|0+$/g,"")}`}internal.fromUtf8=fromUtf8;function fromAscii(tr){let er="";for(let rr=0;rr<tr.length;rr++){const ir=tr.charCodeAt(rr).toString(16);er+=ir.length<2?`0${ir}`:ir}return`0x${er}`}internal.fromAscii=fromAscii;function getKeys$1(tr,er,rr){if(!Array.isArray(tr))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof tr}`);if(typeof er!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof tr}`);const nr=[];for(let ir=0;ir<tr.length;ir++){let or=tr[ir][er];if(rr===!0&&!or)or="";else if(typeof or!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof or}`);nr.push(or)}return nr}internal.getKeys=getKeys$1;function isHexString$3(tr,er){return!(typeof tr!="string"||!tr.match(/^0x[0-9A-Fa-f]*$/)||typeof er<"u"&&er>0&&tr.length!==2+2*er)}internal.isHexString=isHexString$3;Object.defineProperty(helpers$5,"__esModule",{value:!0});helpers$5.assertIsString=helpers$5.assertIsArray=helpers$5.assertIsBuffer=helpers$5.assertIsHexString=void 0;const internal_1=internal,assertIsHexString=function(tr){if(!(0,internal_1.isHexString)(tr)){const er=`This method only supports 0x-prefixed hex strings but input was: ${tr}`;throw new Error(er)}};helpers$5.assertIsHexString=assertIsHexString;const assertIsBuffer=function(tr){if(!Buffer.isBuffer(tr)){const er=`This method only supports Buffer but input was: ${tr}`;throw new Error(er)}};helpers$5.assertIsBuffer=assertIsBuffer;const assertIsArray=function(tr){if(!Array.isArray(tr)){const er=`This method only supports number arrays but input was: ${tr}`;throw new Error(er)}};helpers$5.assertIsArray=assertIsArray;const assertIsString=function(tr){if(typeof tr!="string"){const er=`This method only supports strings but input was: ${tr}`;throw new Error(er)}};helpers$5.assertIsString=assertIsString;(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.intToUnpaddedBuffer=tr.bigIntToUnpaddedBuffer=tr.bigIntToHex=tr.bufArrToArr=tr.arrToBufArr=tr.validateNoLeadingZeroes=tr.baToJSON=tr.toUtf8=tr.short=tr.addHexPrefix=tr.toUnsigned=tr.fromSigned=tr.bufferToInt=tr.bigIntToBuffer=tr.bufferToBigInt=tr.bufferToHex=tr.toBuffer=tr.unpadHexString=tr.unpadArray=tr.unpadBuffer=tr.setLengthRight=tr.setLengthLeft=tr.zeros=tr.intToBuffer=tr.intToHex=void 0;const er=helpers$5,rr=internal,nr=function(hr){if(!Number.isSafeInteger(hr)||hr<0)throw new Error(`Received an invalid integer type: ${hr}`);return`0x${hr.toString(16)}`};tr.intToHex=nr;const ir=function(hr){const pr=(0,tr.intToHex)(hr);return Buffer.from((0,rr.padToEven)(pr.slice(2)),"hex")};tr.intToBuffer=ir;const or=function(hr){return Buffer.allocUnsafe(hr).fill(0)};tr.zeros=or;const sr=function(hr,pr,wr){const Ar=(0,tr.zeros)(pr);return wr?hr.length<pr?(hr.copy(Ar),Ar):hr.slice(0,pr):hr.length<pr?(hr.copy(Ar,pr-hr.length),Ar):hr.slice(-pr)},ar=function(hr,pr){return(0,er.assertIsBuffer)(hr),sr(hr,pr,!1)};tr.setLengthLeft=ar;const cr=function(hr,pr){return(0,er.assertIsBuffer)(hr),sr(hr,pr,!0)};tr.setLengthRight=cr;const lr=function(hr){let pr=hr[0];for(;hr.length>0&&pr.toString()==="0";)hr=hr.slice(1),pr=hr[0];return hr},ur=function(hr){return(0,er.assertIsBuffer)(hr),lr(hr)};tr.unpadBuffer=ur;const fr=function(hr){return(0,er.assertIsArray)(hr),lr(hr)};tr.unpadArray=fr;const dr=function(hr){return(0,er.assertIsHexString)(hr),hr=(0,rr.stripHexPrefix)(hr),"0x"+lr(hr)};tr.unpadHexString=dr;const gr=function(hr){if(hr==null)return Buffer.allocUnsafe(0);if(Buffer.isBuffer(hr)||Array.isArray(hr)||hr instanceof Uint8Array)return Buffer.from(hr);if(typeof hr=="string"){if(!(0,rr.isHexString)(hr))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${hr}`);return Buffer.from((0,rr.padToEven)((0,rr.stripHexPrefix)(hr)),"hex")}if(typeof hr=="number")return(0,tr.intToBuffer)(hr);if(typeof hr=="bigint"){if(hr<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${hr}`);let pr=hr.toString(16);return pr.length%2&&(pr="0"+pr),Buffer.from(pr,"hex")}if(hr.toArray)return Buffer.from(hr.toArray());if(hr.toBuffer)return Buffer.from(hr.toBuffer());throw new Error("invalid type")};tr.toBuffer=gr;const br=function(hr){return hr=(0,tr.toBuffer)(hr),"0x"+hr.toString("hex")};tr.bufferToHex=br;function vr(hr){const pr=(0,tr.bufferToHex)(hr);return BigInt(pr==="0x"?0:pr)}tr.bufferToBigInt=vr;function $r(hr){return(0,tr.toBuffer)("0x"+hr.toString(16))}tr.bigIntToBuffer=$r;const Er=function(hr){const pr=Number(vr(hr));if(!Number.isSafeInteger(pr))throw new Error("Number exceeds 53 bits");return pr};tr.bufferToInt=Er;const _r=function(hr){return BigInt.asIntN(256,vr(hr))};tr.fromSigned=_r;const xr=function(hr){return $r(BigInt.asUintN(256,hr))};tr.toUnsigned=xr;const Ir=function(hr){return typeof hr!="string"||(0,rr.isHexPrefixed)(hr)?hr:"0x"+hr};tr.addHexPrefix=Ir;function Nr(hr,pr=50){const wr=Buffer.isBuffer(hr)?hr.toString("hex"):hr;return wr.length<=pr?wr:wr.slice(0,pr)+"…"}tr.short=Nr;const Lr=function(hr){const pr=/^(00)+|(00)+$/g;if(hr=(0,rr.stripHexPrefix)(hr),hr.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return Buffer.from(hr.replace(pr,""),"hex").toString("utf8")};tr.toUtf8=Lr;const jr=function(hr){if(Buffer.isBuffer(hr))return`0x${hr.toString("hex")}`;if(hr instanceof Array){const pr=[];for(let wr=0;wr<hr.length;wr++)pr.push((0,tr.baToJSON)(hr[wr]));return pr}};tr.baToJSON=jr;const Or=function(hr){for(const[pr,wr]of Object.entries(hr))if(wr!==void 0&&wr.length>0&&wr[0]===0)throw new Error(`${pr} cannot have leading zeroes, received: ${wr.toString("hex")}`)};tr.validateNoLeadingZeroes=Or;function Dr(hr){return Array.isArray(hr)?hr.map(pr=>Dr(pr)):Buffer.from(hr)}tr.arrToBufArr=Dr;function Cr(hr){return Array.isArray(hr)?hr.map(pr=>Cr(pr)):Uint8Array.from(hr??[])}tr.bufArrToArr=Cr;const Tr=hr=>"0x"+hr.toString(16);tr.bigIntToHex=Tr;function yr(hr){return(0,tr.unpadBuffer)($r(hr))}tr.bigIntToUnpaddedBuffer=yr;function mr(hr){return(0,tr.unpadBuffer)((0,tr.intToBuffer)(hr))}tr.intToUnpaddedBuffer=mr})(bytes$3);(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.accountBodyToRLP=tr.accountBodyToSlim=tr.accountBodyFromSlim=tr.isZeroAddress=tr.zeroAddress=tr.importPublic=tr.privateToAddress=tr.privateToPublic=tr.publicToAddress=tr.pubToAddress=tr.isValidPublic=tr.isValidPrivate=tr.generateAddress2=tr.generateAddress=tr.isValidChecksumAddress=tr.toChecksumAddress=tr.isValidAddress=tr.Account=void 0;const er=dist$6,rr=keccak$3,nr=secp256k1,ir=utilsExports,or=bytes$3,sr=constants$7,ar=helpers$5,cr=internal,lr=BigInt(0);class ur{constructor(mr=lr,hr=lr,pr=sr.KECCAK256_RLP,wr=sr.KECCAK256_NULL){this.nonce=mr,this.balance=hr,this.storageRoot=pr,this.codeHash=wr,this._validate()}static fromAccountData(mr){const{nonce:hr,balance:pr,storageRoot:wr,codeHash:Ar}=mr;return new ur(hr!==void 0?(0,or.bufferToBigInt)((0,or.toBuffer)(hr)):void 0,pr!==void 0?(0,or.bufferToBigInt)((0,or.toBuffer)(pr)):void 0,wr!==void 0?(0,or.toBuffer)(wr):void 0,Ar!==void 0?(0,or.toBuffer)(Ar):void 0)}static fromRlpSerializedAccount(mr){const hr=(0,or.arrToBufArr)(er.RLP.decode(Uint8Array.from(mr)));if(!Array.isArray(hr))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(hr)}static fromValuesArray(mr){const[hr,pr,wr,Ar]=mr;return new ur((0,or.bufferToBigInt)(hr),(0,or.bufferToBigInt)(pr),wr,Ar)}_validate(){if(this.nonce<lr)throw new Error("nonce must be greater than zero");if(this.balance<lr)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,or.bigIntToUnpaddedBuffer)(this.nonce),(0,or.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return Buffer.from(er.RLP.encode((0,or.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(sr.KECCAK256_NULL)}isEmpty(){return this.balance===lr&&this.nonce===lr&&this.codeHash.equals(sr.KECCAK256_NULL)}}tr.Account=ur;const fr=function(yr){try{(0,ar.assertIsString)(yr)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(yr)};tr.isValidAddress=fr;const dr=function(yr,mr){(0,ar.assertIsHexString)(yr);const hr=(0,cr.stripHexPrefix)(yr).toLowerCase();let pr="";mr!==void 0&&(pr=(0,or.bufferToBigInt)((0,or.toBuffer)(mr)).toString()+"0x");const wr=Buffer.from(pr+hr,"utf8"),Ar=(0,ir.bytesToHex)((0,rr.keccak256)(wr));let Rr="0x";for(let Pr=0;Pr<hr.length;Pr++)parseInt(Ar[Pr],16)>=8?Rr+=hr[Pr].toUpperCase():Rr+=hr[Pr];return Rr};tr.toChecksumAddress=dr;const gr=function(yr,mr){return(0,tr.isValidAddress)(yr)&&(0,tr.toChecksumAddress)(yr,mr)===yr};tr.isValidChecksumAddress=gr;const br=function(yr,mr){return(0,ar.assertIsBuffer)(yr),(0,ar.assertIsBuffer)(mr),(0,or.bufferToBigInt)(mr)===BigInt(0)?Buffer.from((0,rr.keccak256)(er.RLP.encode((0,or.bufArrToArr)([yr,null])))).slice(-20):Buffer.from((0,rr.keccak256)(er.RLP.encode((0,or.bufArrToArr)([yr,mr])))).slice(-20)};tr.generateAddress=br;const vr=function(yr,mr,hr){if((0,ar.assertIsBuffer)(yr),(0,ar.assertIsBuffer)(mr),(0,ar.assertIsBuffer)(hr),yr.length!==20)throw new Error("Expected from to be of length 20");if(mr.length!==32)throw new Error("Expected salt to be of length 32");const pr=(0,rr.keccak256)(Buffer.concat([Buffer.from("ff","hex"),yr,mr,(0,rr.keccak256)(hr)]));return(0,or.toBuffer)(pr).slice(-20)};tr.generateAddress2=vr;const $r=function(yr){return nr.secp256k1.utils.isValidPrivateKey(yr)};tr.isValidPrivate=$r;const Er=function(yr,mr=!1){if((0,ar.assertIsBuffer)(yr),yr.length===64)try{return nr.secp256k1.ProjectivePoint.fromHex(Buffer.concat([Buffer.from([4]),yr])),!0}catch{return!1}if(!mr)return!1;try{return nr.secp256k1.ProjectivePoint.fromHex(yr),!0}catch{return!1}};tr.isValidPublic=Er;const _r=function(yr,mr=!1){if((0,ar.assertIsBuffer)(yr),mr&&yr.length!==64&&(yr=Buffer.from(nr.secp256k1.ProjectivePoint.fromHex(yr).toRawBytes(!1).slice(1))),yr.length!==64)throw new Error("Expected pubKey to be of length 64");return Buffer.from((0,rr.keccak256)(yr)).slice(-20)};tr.pubToAddress=_r,tr.publicToAddress=tr.pubToAddress;const xr=function(yr){return(0,ar.assertIsBuffer)(yr),Buffer.from(nr.secp256k1.ProjectivePoint.fromPrivateKey(yr).toRawBytes(!1).slice(1))};tr.privateToPublic=xr;const Ir=function(yr){return(0,tr.publicToAddress)((0,tr.privateToPublic)(yr))};tr.privateToAddress=Ir;const Nr=function(yr){return(0,ar.assertIsBuffer)(yr),yr.length!==64&&(yr=Buffer.from(nr.secp256k1.ProjectivePoint.fromHex(yr).toRawBytes(!1).slice(1))),yr};tr.importPublic=Nr;const Lr=function(){const mr=(0,or.zeros)(20);return(0,or.bufferToHex)(mr)};tr.zeroAddress=Lr;const jr=function(yr){try{(0,ar.assertIsString)(yr)}catch{return!1}return(0,tr.zeroAddress)()===yr};tr.isZeroAddress=jr;function Or(yr){const[mr,hr,pr,wr]=yr;return[mr,hr,(0,or.arrToBufArr)(pr).length===0?sr.KECCAK256_RLP:pr,(0,or.arrToBufArr)(wr).length===0?sr.KECCAK256_NULL:wr]}tr.accountBodyFromSlim=Or;const Dr=new Uint8Array(0);function Cr(yr){const[mr,hr,pr,wr]=yr;return[mr,hr,(0,or.arrToBufArr)(pr).equals(sr.KECCAK256_RLP)?Dr:pr,(0,or.arrToBufArr)(wr).equals(sr.KECCAK256_NULL)?Dr:wr]}tr.accountBodyToSlim=Cr;function Tr(yr,mr=!0){const hr=mr?Or(yr):yr;return(0,or.arrToBufArr)(er.RLP.encode(hr))}tr.accountBodyToRLP=Tr})(account);var address$1={};Object.defineProperty(address$1,"__esModule",{value:!0});address$1.Address=void 0;const account_1=account,bytes_1$5=bytes$3;class Address{constructor(er){if(er.length!==20)throw new Error("Invalid address length");this.buf=er}static zero(){return new Address((0,bytes_1$5.zeros)(20))}static fromString(er){if(!(0,account_1.isValidAddress)(er))throw new Error("Invalid address");return new Address((0,bytes_1$5.toBuffer)(er))}static fromPublicKey(er){if(!Buffer.isBuffer(er))throw new Error("Public key should be Buffer");const rr=(0,account_1.pubToAddress)(er);return new Address(rr)}static fromPrivateKey(er){if(!Buffer.isBuffer(er))throw new Error("Private key should be Buffer");const rr=(0,account_1.privateToAddress)(er);return new Address(rr)}static generate(er,rr){if(typeof rr!="bigint")throw new Error("Expected nonce to be a bigint");return new Address((0,account_1.generateAddress)(er.buf,(0,bytes_1$5.bigIntToBuffer)(rr)))}static generate2(er,rr,nr){if(!Buffer.isBuffer(rr))throw new Error("Expected salt to be a Buffer");if(!Buffer.isBuffer(nr))throw new Error("Expected initCode to be a Buffer");return new Address((0,account_1.generateAddress2)(er.buf,rr,nr))}equals(er){return this.buf.equals(er.buf)}isZero(){return this.equals(Address.zero())}isPrecompileOrSystemAddress(){const er=(0,bytes_1$5.bufferToBigInt)(this.buf),rr=BigInt(0),nr=BigInt("0xffff");return er>=rr&&er<=nr}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return Buffer.from(this.buf)}}address$1.Address=Address;var withdrawal={},types$4={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.toType=tr.TypeOutput=void 0;const er=bytes$3,rr=internal;var nr;(function(or){or[or.Number=0]="Number",or[or.BigInt=1]="BigInt",or[or.Buffer=2]="Buffer",or[or.PrefixedHexString=3]="PrefixedHexString"})(nr=tr.TypeOutput||(tr.TypeOutput={}));function ir(or,sr){if(or===null)return null;if(or===void 0)return;if(typeof or=="string"&&!(0,rr.isHexString)(or))throw new Error(`A string must be provided with a 0x-prefix, given: ${or}`);if(typeof or=="number"&&!Number.isSafeInteger(or))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const ar=(0,er.toBuffer)(or);switch(sr){case nr.Buffer:return ar;case nr.BigInt:return(0,er.bufferToBigInt)(ar);case nr.Number:{const cr=(0,er.bufferToBigInt)(ar);if(cr>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(cr)}case nr.PrefixedHexString:return(0,er.bufferToHex)(ar);default:throw new Error("unknown outputType")}}tr.toType=ir})(types$4);Object.defineProperty(withdrawal,"__esModule",{value:!0});withdrawal.Withdrawal=void 0;const address_1=address$1,bytes_1$4=bytes$3,types_1=types$4;class Withdrawal{constructor(er,rr,nr,ir){this.index=er,this.validatorIndex=rr,this.address=nr,this.amount=ir}static fromWithdrawalData(er){const{index:rr,validatorIndex:nr,address:ir,amount:or}=er,sr=(0,types_1.toType)(rr,types_1.TypeOutput.BigInt),ar=(0,types_1.toType)(nr,types_1.TypeOutput.BigInt),cr=new address_1.Address((0,types_1.toType)(ir,types_1.TypeOutput.Buffer)),lr=(0,types_1.toType)(or,types_1.TypeOutput.BigInt);return new Withdrawal(sr,ar,cr,lr)}static fromValuesArray(er){if(er.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${er.length}`);const[rr,nr,ir,or]=er;return Withdrawal.fromWithdrawalData({index:rr,validatorIndex:nr,address:ir,amount:or})}static toBufferArray(er){const{index:rr,validatorIndex:nr,address:ir,amount:or}=er,sr=(0,types_1.toType)(rr,types_1.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,types_1.toType)(rr,types_1.TypeOutput.Buffer),ar=(0,types_1.toType)(nr,types_1.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,types_1.toType)(nr,types_1.TypeOutput.Buffer);let cr;ir instanceof address_1.Address?cr=ir.buf:cr=(0,types_1.toType)(ir,types_1.TypeOutput.Buffer);const lr=(0,types_1.toType)(or,types_1.TypeOutput.BigInt)===BigInt(0)?Buffer.alloc(0):(0,types_1.toType)(or,types_1.TypeOutput.Buffer);return[sr,ar,cr,lr]}raw(){return Withdrawal.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,bytes_1$4.bigIntToHex)(this.index),validatorIndex:(0,bytes_1$4.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,bytes_1$4.bigIntToHex)(this.amount)}}}withdrawal.Withdrawal=Withdrawal;var signature={};Object.defineProperty(signature,"__esModule",{value:!0});signature.hashPersonalMessage=signature.isValidSignature=signature.fromRpcSig=signature.toCompactSig=signature.toRpcSig=signature.ecrecover=signature.ecsign=void 0;const keccak_1=keccak$3,secp256k1_1=secp256k1,bytes_1$3=bytes$3,constants_1$7=constants$7,helpers_1=helpers$5;function ecsign(tr,er,rr){const nr=secp256k1_1.secp256k1.sign(tr,er),ir=nr.toCompactRawBytes(),or=Buffer.from(ir.slice(0,32)),sr=Buffer.from(ir.slice(32,64)),ar=rr===void 0?BigInt(nr.recovery+27):BigInt(nr.recovery+35)+BigInt(rr)*BigInt(2);return{r:or,s:sr,v:ar}}signature.ecsign=ecsign;function calculateSigRecovery(tr,er){return tr===BigInt(0)||tr===BigInt(1)?tr:er===void 0?tr-BigInt(27):tr-(er*BigInt(2)+BigInt(35))}function isValidSigRecovery(tr){return tr===BigInt(0)||tr===BigInt(1)}const ecrecover=function(tr,er,rr,nr,ir){const or=Buffer.concat([(0,bytes_1$3.setLengthLeft)(rr,32),(0,bytes_1$3.setLengthLeft)(nr,32)],64),sr=calculateSigRecovery(er,ir);if(!isValidSigRecovery(sr))throw new Error("Invalid signature v value");const cr=secp256k1_1.secp256k1.Signature.fromCompact(or).addRecoveryBit(Number(sr)).recoverPublicKey(tr);return Buffer.from(cr.toRawBytes(!1).slice(1))};signature.ecrecover=ecrecover;const toRpcSig=function(tr,er,rr,nr){const ir=calculateSigRecovery(tr,nr);if(!isValidSigRecovery(ir))throw new Error("Invalid signature v value");return(0,bytes_1$3.bufferToHex)(Buffer.concat([(0,bytes_1$3.setLengthLeft)(er,32),(0,bytes_1$3.setLengthLeft)(rr,32),(0,bytes_1$3.toBuffer)(tr)]))};signature.toRpcSig=toRpcSig;const toCompactSig=function(tr,er,rr,nr){const ir=calculateSigRecovery(tr,nr);if(!isValidSigRecovery(ir))throw new Error("Invalid signature v value");let or=rr;return(tr>BigInt(28)&&tr%BigInt(2)===BigInt(1)||tr===BigInt(1)||tr===BigInt(28))&&(or=Buffer.from(rr),or[0]|=128),(0,bytes_1$3.bufferToHex)(Buffer.concat([(0,bytes_1$3.setLengthLeft)(er,32),(0,bytes_1$3.setLengthLeft)(or,32)]))};signature.toCompactSig=toCompactSig;const fromRpcSig=function(tr){const er=(0,bytes_1$3.toBuffer)(tr);let rr,nr,ir;if(er.length>=65)rr=er.slice(0,32),nr=er.slice(32,64),ir=(0,bytes_1$3.bufferToBigInt)(er.slice(64));else if(er.length===64)rr=er.slice(0,32),nr=er.slice(32,64),ir=BigInt((0,bytes_1$3.bufferToInt)(er.slice(32,33))>>7),nr[0]&=127;else throw new Error("Invalid signature length");return ir<27&&(ir=ir+BigInt(27)),{v:ir,r:rr,s:nr}};signature.fromRpcSig=fromRpcSig;const isValidSignature=function(tr,er,rr,nr=!0,ir){if(er.length!==32||rr.length!==32||!isValidSigRecovery(calculateSigRecovery(tr,ir)))return!1;const or=(0,bytes_1$3.bufferToBigInt)(er),sr=(0,bytes_1$3.bufferToBigInt)(rr);return!(or===BigInt(0)||or>=constants_1$7.SECP256K1_ORDER||sr===BigInt(0)||sr>=constants_1$7.SECP256K1_ORDER||nr&&sr>=constants_1$7.SECP256K1_ORDER_DIV_2)};signature.isValidSignature=isValidSignature;const hashPersonalMessage=function(tr){(0,helpers_1.assertIsBuffer)(tr);const er=Buffer.from(`Ethereum Signed Message:
${tr.length}`,"utf-8");return Buffer.from((0,keccak_1.keccak256)(Buffer.concat([er,tr])))};signature.hashPersonalMessage=hashPersonalMessage;var encoding={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.compactBytesToNibbles=tr.bytesToNibbles=tr.nibblesToCompactBytes=tr.nibblesToBytes=tr.hasTerminator=void 0;const er=sr=>sr.length>0&&sr[sr.length-1]===16;tr.hasTerminator=er;const rr=(sr,ar)=>{for(let cr=0,lr=0;lr<sr.length;cr+=1,lr+=2)ar[cr]=sr[lr]<<4|sr[lr+1]};tr.nibblesToBytes=rr;const nr=sr=>{let ar=0;(0,tr.hasTerminator)(sr)&&(ar=1,sr=sr.subarray(0,sr.length-1));const cr=new Uint8Array(sr.length/2+1);return cr[0]=ar<<5,(sr.length&1)===1&&(cr[0]|=16,cr[0]|=sr[0],sr=sr.subarray(1)),(0,tr.nibblesToBytes)(sr,cr.subarray(1)),cr};tr.nibblesToCompactBytes=nr;const ir=sr=>{const ar=sr.length*2+1,cr=new Uint8Array(ar);for(let lr=0;lr<sr.length;lr++){const ur=sr[lr];cr[lr*2]=ur/16,cr[lr*2+1]=ur%16}return cr[ar-1]=16,cr};tr.bytesToNibbles=ir;const or=sr=>{if(sr.length===0)return sr;let ar=(0,tr.bytesToNibbles)(sr);ar[0]<2&&(ar=ar.subarray(0,ar.length-1));const cr=2-(ar[0]&1);return ar.subarray(cr)};tr.compactBytesToNibbles=or})(encoding);var asyncEventEmitter={};Object.defineProperty(asyncEventEmitter,"__esModule",{value:!0});asyncEventEmitter.AsyncEventEmitter=void 0;const events_1=eventsExports;async function runInSeries(tr,er,rr){let nr;for await(const ir of er)try{ir.length<2?ir.call(tr,rr):await new Promise((or,sr)=>{ir.call(tr,rr,ar=>{ar?sr(ar):or()})})}catch(or){nr=or}if(nr)throw nr}class AsyncEventEmitter extends events_1.EventEmitter{emit(er,...rr){let[nr,ir]=rr;const or=this;let sr=or._events[er]??[];return ir===void 0&&typeof nr=="function"&&(ir=nr,nr=void 0),(er==="newListener"||er==="removeListener")&&(nr={event:nr,fn:ir},ir=void 0),sr=Array.isArray(sr)?sr:[sr],runInSeries(or,sr.slice(),nr).then(ir).catch(ir),or.listenerCount(er)>0}once(er,rr){const nr=this;let ir;if(typeof rr!="function")throw new TypeError("listener must be a function");return rr.length>=2?ir=function(or,sr){nr.removeListener(er,ir),rr(or,sr)}:ir=function(or){nr.removeListener(er,ir),rr(or,ir)},nr.on(er,ir),nr}first(er,rr){let nr=this._events[er]??[];if(typeof rr!="function")throw new TypeError("listener must be a function");return Array.isArray(nr)||(this._events[er]=nr=[nr]),nr.unshift(rr),this}before(er,rr,nr){return this.beforeOrAfter(er,rr,nr)}after(er,rr,nr){return this.beforeOrAfter(er,rr,nr,"after")}beforeOrAfter(er,rr,nr,ir){let or=this._events[er]??[],sr,ar;const cr=ir==="after"?1:0;if(typeof nr!="function")throw new TypeError("listener must be a function");if(typeof rr!="function")throw new TypeError("target must be a function");for(Array.isArray(or)||(this._events[er]=or=[or]),ar=or.length,sr=or.length;sr--;)if(or[sr]===rr){ar=sr+cr;break}return or.splice(ar,0,nr),this}on(er,rr){return super.on(er,rr)}addListener(er,rr){return super.addListener(er,rr)}prependListener(er,rr){return super.prependListener(er,rr)}prependOnceListener(er,rr){return super.prependOnceListener(er,rr)}removeAllListeners(er){return super.removeAllListeners(er)}removeListener(er,rr){return super.removeListener(er,rr)}eventNames(){return super.eventNames()}listeners(er){return super.listeners(er)}listenerCount(er){return super.listenerCount(er)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(er){return super.setMaxListeners(er)}}asyncEventEmitter.AsyncEventEmitter=AsyncEventEmitter;var lock={};Object.defineProperty(lock,"__esModule",{value:!0});lock.Lock=void 0;class Lock{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(er=>this.promiseResolverQueue.push(er))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const er=this.promiseResolverQueue.shift();er&&er(!0)}}}lock.Lock=Lock;var provider$1={},microFtch={},util$7={},types$3={},hasSymbols$1=shams$1,shams=function tr(){return hasSymbols$1()&&!!Symbol.toStringTag},hasToStringTag$3=shams(),callBound$2=callBound$4,$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function tr(er){return hasToStringTag$3&&er&&typeof er=="object"&&Symbol.toStringTag in er?!1:$toString$1(er)==="[object Arguments]"},isLegacyArguments=function tr(er){return isStandardArguments(er)?!0:er!==null&&typeof er=="object"&&typeof er.length=="number"&&er.length>=0&&$toString$1(er)!=="[object Array]"&&$toString$1(er.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function tr(er){if(typeof er!="function")return!1;if(isFnRegex.test(fnToStr$1.call(er)))return!0;if(!hasToStringTag$2){var rr=toStr$2.call(er);return rr==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var nr=getGeneratorFunc();GeneratorFunction=nr?getProto(nr):!1}return getProto(er)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(tr){tr!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function tr(er){try{var rr=fnToStr.call(er);return constructorRegex.test(rr)}catch{return!1}},tryFunctionObject=function tr(er){try{return isES6ClassFn(er)?!1:(fnToStr.call(er),!0)}catch{return!1}},toStr$1=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function tr(){return!1};if(typeof document=="object"){var all=document.all;toStr$1.call(all)===toStr$1.call(document.all)&&(isDDA=function(er){if((isIE68||!er)&&(typeof er>"u"||typeof er=="object"))try{var rr=toStr$1.call(er);return(rr===ddaClass||rr===ddaClass2||rr===ddaClass3||rr===objectClass)&&er("")==null}catch{}return!1})}var isCallable$1=reflectApply?function tr(er){if(isDDA(er))return!0;if(!er||typeof er!="function"&&typeof er!="object")return!1;try{reflectApply(er,null,badArrayLike)}catch(rr){if(rr!==isCallableMarker)return!1}return!isES6ClassFn(er)&&tryFunctionObject(er)}:function tr(er){if(isDDA(er))return!0;if(!er||typeof er!="function"&&typeof er!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(er);if(isES6ClassFn(er))return!1;var rr=toStr$1.call(er);return rr!==fnClass&&rr!==genClass&&!/^\[object HTML/.test(rr)?!1:tryFunctionObject(er)},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function tr(er,rr,nr){for(var ir=0,or=er.length;ir<or;ir++)hasOwnProperty$1.call(er,ir)&&(nr==null?rr(er[ir],ir,er):rr.call(nr,er[ir],ir,er))},forEachString=function tr(er,rr,nr){for(var ir=0,or=er.length;ir<or;ir++)nr==null?rr(er.charAt(ir),ir,er):rr.call(nr,er.charAt(ir),ir,er)},forEachObject=function tr(er,rr,nr){for(var ir in er)hasOwnProperty$1.call(er,ir)&&(nr==null?rr(er[ir],ir,er):rr.call(nr,er[ir],ir,er))},forEach$1=function tr(er,rr,nr){if(!isCallable(rr))throw new TypeError("iterator must be a function");var ir;arguments.length>=3&&(ir=nr),toStr.call(er)==="[object Array]"?forEachArray(er,rr,ir):typeof er=="string"?forEachString(er,rr,ir):forEachObject(er,rr,ir)},forEach_1=forEach$1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$3=globalThis,availableTypedArrays$1=function tr(){for(var er=[],rr=0;rr<possibleNames.length;rr++)typeof g$3[possibleNames[rr]]=="function"&&(er[er.length]=possibleNames[rr]);return er},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound$1=callBound$4,gOPD=gopd$1,$toString=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g$2=globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound$1("Array.prototype.indexOf",!0)||function tr(er,rr){for(var nr=0;nr<er.length;nr+=1)if(er[nr]===rr)return nr;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(tr){var er=new g$2[tr];if(Symbol.toStringTag in er){var rr=getPrototypeOf(er),nr=gOPD(rr,Symbol.toStringTag);if(!nr){var ir=getPrototypeOf(rr);nr=gOPD(ir,Symbol.toStringTag)}cache["$"+tr]=callBind(nr.get)}}):forEach(typedArrays,function(tr){var er=new g$2[tr],rr=er.slice||er.set;rr&&(cache["$"+tr]=callBind(rr))});var tryTypedArrays=function tr(er){var rr=!1;return forEach(cache,function(nr,ir){if(!rr)try{"$"+nr(er)===ir&&(rr=$slice(ir,1))}catch{}}),rr},trySlices=function tr(er){var rr=!1;return forEach(cache,function(nr,ir){if(!rr)try{nr(er),rr=$slice(ir,1)}catch{}}),rr},whichTypedArray$1=function tr(er){if(!er||typeof er!="object")return!1;if(!hasToStringTag){var rr=$slice($toString(er),8,-1);return $indexOf(typedArrays,rr)>-1?rr:rr!=="Object"?!1:trySlices(er)}return gOPD?tryTypedArrays(er):null},whichTypedArray=whichTypedArray$1,isTypedArray=function tr(er){return!!whichTypedArray(er)};(function(tr){var er=isArguments,rr=isGeneratorFunction,nr=whichTypedArray$1,ir=isTypedArray;function or(xn){return xn.call.bind(xn)}var sr=typeof BigInt<"u",ar=typeof Symbol<"u",cr=or(Object.prototype.toString),lr=or(Number.prototype.valueOf),ur=or(String.prototype.valueOf),fr=or(Boolean.prototype.valueOf);if(sr)var dr=or(BigInt.prototype.valueOf);if(ar)var gr=or(Symbol.prototype.valueOf);function br(xn,Wn){if(typeof xn!="object")return!1;try{return Wn(xn),!0}catch{return!1}}tr.isArgumentsObject=er,tr.isGeneratorFunction=rr,tr.isTypedArray=ir;function vr(xn){return typeof Promise<"u"&&xn instanceof Promise||xn!==null&&typeof xn=="object"&&typeof xn.then=="function"&&typeof xn.catch=="function"}tr.isPromise=vr;function $r(xn){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(xn):ir(xn)||Ur(xn)}tr.isArrayBufferView=$r;function Er(xn){return nr(xn)==="Uint8Array"}tr.isUint8Array=Er;function _r(xn){return nr(xn)==="Uint8ClampedArray"}tr.isUint8ClampedArray=_r;function xr(xn){return nr(xn)==="Uint16Array"}tr.isUint16Array=xr;function Ir(xn){return nr(xn)==="Uint32Array"}tr.isUint32Array=Ir;function Nr(xn){return nr(xn)==="Int8Array"}tr.isInt8Array=Nr;function Lr(xn){return nr(xn)==="Int16Array"}tr.isInt16Array=Lr;function jr(xn){return nr(xn)==="Int32Array"}tr.isInt32Array=jr;function Or(xn){return nr(xn)==="Float32Array"}tr.isFloat32Array=Or;function Dr(xn){return nr(xn)==="Float64Array"}tr.isFloat64Array=Dr;function Cr(xn){return nr(xn)==="BigInt64Array"}tr.isBigInt64Array=Cr;function Tr(xn){return nr(xn)==="BigUint64Array"}tr.isBigUint64Array=Tr;function yr(xn){return cr(xn)==="[object Map]"}yr.working=typeof Map<"u"&&yr(new Map);function mr(xn){return typeof Map>"u"?!1:yr.working?yr(xn):xn instanceof Map}tr.isMap=mr;function hr(xn){return cr(xn)==="[object Set]"}hr.working=typeof Set<"u"&&hr(new Set);function pr(xn){return typeof Set>"u"?!1:hr.working?hr(xn):xn instanceof Set}tr.isSet=pr;function wr(xn){return cr(xn)==="[object WeakMap]"}wr.working=typeof WeakMap<"u"&&wr(new WeakMap);function Ar(xn){return typeof WeakMap>"u"?!1:wr.working?wr(xn):xn instanceof WeakMap}tr.isWeakMap=Ar;function Rr(xn){return cr(xn)==="[object WeakSet]"}Rr.working=typeof WeakSet<"u"&&Rr(new WeakSet);function Pr(xn){return Rr(xn)}tr.isWeakSet=Pr;function Sr(xn){return cr(xn)==="[object ArrayBuffer]"}Sr.working=typeof ArrayBuffer<"u"&&Sr(new ArrayBuffer);function Mr(xn){return typeof ArrayBuffer>"u"?!1:Sr.working?Sr(xn):xn instanceof ArrayBuffer}tr.isArrayBuffer=Mr;function Br(xn){return cr(xn)==="[object DataView]"}Br.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Br(new DataView(new ArrayBuffer(1),0,1));function Ur(xn){return typeof DataView>"u"?!1:Br.working?Br(xn):xn instanceof DataView}tr.isDataView=Ur;var Jr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function qr(xn){return cr(xn)==="[object SharedArrayBuffer]"}function zr(xn){return typeof Jr>"u"?!1:(typeof qr.working>"u"&&(qr.working=qr(new Jr)),qr.working?qr(xn):xn instanceof Jr)}tr.isSharedArrayBuffer=zr;function sn(xn){return cr(xn)==="[object AsyncFunction]"}tr.isAsyncFunction=sn;function rn(xn){return cr(xn)==="[object Map Iterator]"}tr.isMapIterator=rn;function tn(xn){return cr(xn)==="[object Set Iterator]"}tr.isSetIterator=tn;function dn(xn){return cr(xn)==="[object Generator]"}tr.isGeneratorObject=dn;function Yr(xn){return cr(xn)==="[object WebAssembly.Module]"}tr.isWebAssemblyCompiledModule=Yr;function Vr(xn){return br(xn,lr)}tr.isNumberObject=Vr;function Qr(xn){return br(xn,ur)}tr.isStringObject=Qr;function un(xn){return br(xn,fr)}tr.isBooleanObject=un;function yn(xn){return sr&&br(xn,dr)}tr.isBigIntObject=yn;function An(xn){return ar&&br(xn,gr)}tr.isSymbolObject=An;function Rn(xn){return Vr(xn)||Qr(xn)||un(xn)||yn(xn)||An(xn)}tr.isBoxedPrimitive=Rn;function On(xn){return typeof Uint8Array<"u"&&(Mr(xn)||zr(xn))}tr.isAnyArrayBuffer=On,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(xn){Object.defineProperty(tr,xn,{enumerable:!1,value:function(){throw new Error(xn+" is not supported in userland")}})})})(types$3);var isBufferBrowser=function tr(er){return er&&typeof er=="object"&&typeof er.copy=="function"&&typeof er.fill=="function"&&typeof er.readUInt8=="function"};(function(tr){var er={},rr=Object.getOwnPropertyDescriptors||function(Jr){for(var qr=Object.keys(Jr),zr={},sn=0;sn<qr.length;sn++)zr[qr[sn]]=Object.getOwnPropertyDescriptor(Jr,qr[sn]);return zr},nr=/%[sdj%]/g;tr.format=function(Ur){if(!Lr(Ur)){for(var Jr=[],qr=0;qr<arguments.length;qr++)Jr.push(ar(arguments[qr]));return Jr.join(" ")}for(var qr=1,zr=arguments,sn=zr.length,rn=String(Ur).replace(nr,function(dn){if(dn==="%%")return"%";if(qr>=sn)return dn;switch(dn){case"%s":return String(zr[qr++]);case"%d":return Number(zr[qr++]);case"%j":try{return JSON.stringify(zr[qr++])}catch{return"[Circular]"}default:return dn}}),tn=zr[qr];qr<sn;tn=zr[++qr])xr(tn)||!Cr(tn)?rn+=" "+tn:rn+=" "+ar(tn);return rn},tr.deprecate=function(Ur,Jr){if(typeof process<"u"&&process.noDeprecation===!0)return Ur;if(typeof process>"u")return function(){return tr.deprecate(Ur,Jr).apply(this,arguments)};var qr=!1;function zr(){if(!qr){if(process.throwDeprecation)throw new Error(Jr);process.traceDeprecation?console.trace(Jr):console.error(Jr),qr=!0}return Ur.apply(this,arguments)}return zr};var ir={},or=/^$/;if(er.NODE_DEBUG){var sr=er.NODE_DEBUG;sr=sr.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),or=new RegExp("^"+sr+"$","i")}tr.debuglog=function(Ur){if(Ur=Ur.toUpperCase(),!ir[Ur])if(or.test(Ur)){var Jr=process.pid;ir[Ur]=function(){var qr=tr.format.apply(tr,arguments);console.error("%s %d: %s",Ur,Jr,qr)}}else ir[Ur]=function(){};return ir[Ur]};function ar(Ur,Jr){var qr={seen:[],stylize:lr};return arguments.length>=3&&(qr.depth=arguments[2]),arguments.length>=4&&(qr.colors=arguments[3]),_r(Jr)?qr.showHidden=Jr:Jr&&tr._extend(qr,Jr),Or(qr.showHidden)&&(qr.showHidden=!1),Or(qr.depth)&&(qr.depth=2),Or(qr.colors)&&(qr.colors=!1),Or(qr.customInspect)&&(qr.customInspect=!0),qr.colors&&(qr.stylize=cr),fr(qr,Ur,qr.depth)}tr.inspect=ar,ar.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ar.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function cr(Ur,Jr){var qr=ar.styles[Jr];return qr?"\x1B["+ar.colors[qr][0]+"m"+Ur+"\x1B["+ar.colors[qr][1]+"m":Ur}function lr(Ur,Jr){return Ur}function ur(Ur){var Jr={};return Ur.forEach(function(qr,zr){Jr[qr]=!0}),Jr}function fr(Ur,Jr,qr){if(Ur.customInspect&&Jr&&mr(Jr.inspect)&&Jr.inspect!==tr.inspect&&!(Jr.constructor&&Jr.constructor.prototype===Jr)){var zr=Jr.inspect(qr,Ur);return Lr(zr)||(zr=fr(Ur,zr,qr)),zr}var sn=dr(Ur,Jr);if(sn)return sn;var rn=Object.keys(Jr),tn=ur(rn);if(Ur.showHidden&&(rn=Object.getOwnPropertyNames(Jr)),yr(Jr)&&(rn.indexOf("message")>=0||rn.indexOf("description")>=0))return gr(Jr);if(rn.length===0){if(mr(Jr)){var dn=Jr.name?": "+Jr.name:"";return Ur.stylize("[Function"+dn+"]","special")}if(Dr(Jr))return Ur.stylize(RegExp.prototype.toString.call(Jr),"regexp");if(Tr(Jr))return Ur.stylize(Date.prototype.toString.call(Jr),"date");if(yr(Jr))return gr(Jr)}var Yr="",Vr=!1,Qr=["{","}"];if(Er(Jr)&&(Vr=!0,Qr=["[","]"]),mr(Jr)){var un=Jr.name?": "+Jr.name:"";Yr=" [Function"+un+"]"}if(Dr(Jr)&&(Yr=" "+RegExp.prototype.toString.call(Jr)),Tr(Jr)&&(Yr=" "+Date.prototype.toUTCString.call(Jr)),yr(Jr)&&(Yr=" "+gr(Jr)),rn.length===0&&(!Vr||Jr.length==0))return Qr[0]+Yr+Qr[1];if(qr<0)return Dr(Jr)?Ur.stylize(RegExp.prototype.toString.call(Jr),"regexp"):Ur.stylize("[Object]","special");Ur.seen.push(Jr);var yn;return Vr?yn=br(Ur,Jr,qr,tn,rn):yn=rn.map(function(An){return vr(Ur,Jr,qr,tn,An,Vr)}),Ur.seen.pop(),$r(yn,Yr,Qr)}function dr(Ur,Jr){if(Or(Jr))return Ur.stylize("undefined","undefined");if(Lr(Jr)){var qr="'"+JSON.stringify(Jr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ur.stylize(qr,"string")}if(Nr(Jr))return Ur.stylize(""+Jr,"number");if(_r(Jr))return Ur.stylize(""+Jr,"boolean");if(xr(Jr))return Ur.stylize("null","null")}function gr(Ur){return"["+Error.prototype.toString.call(Ur)+"]"}function br(Ur,Jr,qr,zr,sn){for(var rn=[],tn=0,dn=Jr.length;tn<dn;++tn)Pr(Jr,String(tn))?rn.push(vr(Ur,Jr,qr,zr,String(tn),!0)):rn.push("");return sn.forEach(function(Yr){Yr.match(/^\d+$/)||rn.push(vr(Ur,Jr,qr,zr,Yr,!0))}),rn}function vr(Ur,Jr,qr,zr,sn,rn){var tn,dn,Yr;if(Yr=Object.getOwnPropertyDescriptor(Jr,sn)||{value:Jr[sn]},Yr.get?Yr.set?dn=Ur.stylize("[Getter/Setter]","special"):dn=Ur.stylize("[Getter]","special"):Yr.set&&(dn=Ur.stylize("[Setter]","special")),Pr(zr,sn)||(tn="["+sn+"]"),dn||(Ur.seen.indexOf(Yr.value)<0?(xr(qr)?dn=fr(Ur,Yr.value,null):dn=fr(Ur,Yr.value,qr-1),dn.indexOf(`
`)>-1&&(rn?dn=dn.split(`
`).map(function(Vr){return"  "+Vr}).join(`
`).slice(2):dn=`
`+dn.split(`
`).map(function(Vr){return"   "+Vr}).join(`
`))):dn=Ur.stylize("[Circular]","special")),Or(tn)){if(rn&&sn.match(/^\d+$/))return dn;tn=JSON.stringify(""+sn),tn.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(tn=tn.slice(1,-1),tn=Ur.stylize(tn,"name")):(tn=tn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),tn=Ur.stylize(tn,"string"))}return tn+": "+dn}function $r(Ur,Jr,qr){var zr=Ur.reduce(function(sn,rn){return rn.indexOf(`
`)>=0,sn+rn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return zr>60?qr[0]+(Jr===""?"":Jr+`
 `)+" "+Ur.join(`,
  `)+" "+qr[1]:qr[0]+Jr+" "+Ur.join(", ")+" "+qr[1]}tr.types=types$3;function Er(Ur){return Array.isArray(Ur)}tr.isArray=Er;function _r(Ur){return typeof Ur=="boolean"}tr.isBoolean=_r;function xr(Ur){return Ur===null}tr.isNull=xr;function Ir(Ur){return Ur==null}tr.isNullOrUndefined=Ir;function Nr(Ur){return typeof Ur=="number"}tr.isNumber=Nr;function Lr(Ur){return typeof Ur=="string"}tr.isString=Lr;function jr(Ur){return typeof Ur=="symbol"}tr.isSymbol=jr;function Or(Ur){return Ur===void 0}tr.isUndefined=Or;function Dr(Ur){return Cr(Ur)&&pr(Ur)==="[object RegExp]"}tr.isRegExp=Dr,tr.types.isRegExp=Dr;function Cr(Ur){return typeof Ur=="object"&&Ur!==null}tr.isObject=Cr;function Tr(Ur){return Cr(Ur)&&pr(Ur)==="[object Date]"}tr.isDate=Tr,tr.types.isDate=Tr;function yr(Ur){return Cr(Ur)&&(pr(Ur)==="[object Error]"||Ur instanceof Error)}tr.isError=yr,tr.types.isNativeError=yr;function mr(Ur){return typeof Ur=="function"}tr.isFunction=mr;function hr(Ur){return Ur===null||typeof Ur=="boolean"||typeof Ur=="number"||typeof Ur=="string"||typeof Ur=="symbol"||typeof Ur>"u"}tr.isPrimitive=hr,tr.isBuffer=isBufferBrowser;function pr(Ur){return Object.prototype.toString.call(Ur)}function wr(Ur){return Ur<10?"0"+Ur.toString(10):Ur.toString(10)}var Ar=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Rr(){var Ur=new Date,Jr=[wr(Ur.getHours()),wr(Ur.getMinutes()),wr(Ur.getSeconds())].join(":");return[Ur.getDate(),Ar[Ur.getMonth()],Jr].join(" ")}tr.log=function(){console.log("%s - %s",Rr(),tr.format.apply(tr,arguments))},tr.inherits=inherits_browserExports,tr._extend=function(Ur,Jr){if(!Jr||!Cr(Jr))return Ur;for(var qr=Object.keys(Jr),zr=qr.length;zr--;)Ur[qr[zr]]=Jr[qr[zr]];return Ur};function Pr(Ur,Jr){return Object.prototype.hasOwnProperty.call(Ur,Jr)}var Sr=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;tr.promisify=function(Jr){if(typeof Jr!="function")throw new TypeError('The "original" argument must be of type Function');if(Sr&&Jr[Sr]){var qr=Jr[Sr];if(typeof qr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(qr,Sr,{value:qr,enumerable:!1,writable:!1,configurable:!0}),qr}function qr(){for(var zr,sn,rn=new Promise(function(Yr,Vr){zr=Yr,sn=Vr}),tn=[],dn=0;dn<arguments.length;dn++)tn.push(arguments[dn]);tn.push(function(Yr,Vr){Yr?sn(Yr):zr(Vr)});try{Jr.apply(this,tn)}catch(Yr){sn(Yr)}return rn}return Object.setPrototypeOf(qr,Object.getPrototypeOf(Jr)),Sr&&Object.defineProperty(qr,Sr,{value:qr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(qr,rr(Jr))},tr.promisify.custom=Sr;function Mr(Ur,Jr){if(!Ur){var qr=new Error("Promise was rejected with a falsy value");qr.reason=Ur,Ur=qr}return Jr(Ur)}function Br(Ur){if(typeof Ur!="function")throw new TypeError('The "original" argument must be of type Function');function Jr(){for(var qr=[],zr=0;zr<arguments.length;zr++)qr.push(arguments[zr]);var sn=qr.pop();if(typeof sn!="function")throw new TypeError("The last argument must be of type Function");var rn=this,tn=function(){return sn.apply(rn,arguments)};Ur.apply(this,qr).then(function(dn){process.nextTick(tn.bind(null,null,dn))},function(dn){process.nextTick(Mr.bind(null,dn,tn))})}return Object.setPrototypeOf(Jr,Object.getPrototypeOf(Ur)),Object.defineProperties(Jr,rr(Ur)),Jr}tr.callbackify=Br})(util$7);Object.defineProperty(microFtch,"__esModule",{value:!0});microFtch.InvalidStatusCodeError=microFtch.InvalidCertError=void 0;const DEFAULT_OPT=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class InvalidCertError extends Error{constructor(er,rr){super(er),this.fingerprint256=rr}}microFtch.InvalidCertError=InvalidCertError;class InvalidStatusCodeError extends Error{constructor(er){super(`Request Failed. Status Code: ${er}`),this.statusCode=er}}microFtch.InvalidStatusCodeError=InvalidStatusCodeError;function detectType(tr,er){if(!er||er==="text"||er==="json")try{let rr=new TextDecoder("utf8",{fatal:!0}).decode(tr);if(er==="text")return rr;try{return JSON.parse(rr)}catch(nr){if(er==="json")throw nr;return rr}}catch(rr){if(er==="text"||er==="json")throw rr}return tr}let agents={};function fetchNode(tr,er){let rr={...DEFAULT_OPT,...er};const nr=require$$3,ir=require$$3,or=require$$3,{promisify:sr}=util$7,{resolve:ar}=require$$3,cr=!!/^https/.test(tr);let lr={method:rr.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const ur=dr=>dr.replace(/:| /g,"").toLowerCase();if(rr.keepAlive){const dr={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},gr=[cr,cr&&rr.sslPinnedCertificates?.map(br=>ur(br)).sort()].join();lr.agent=agents[gr]||(agents[gr]=new(cr?ir:nr).Agent(dr))}rr.type==="json"&&(lr.headers["Content-Type"]="application/json"),rr.data&&(rr.method||(lr.method="POST"),lr.body=rr.type==="json"?JSON.stringify(rr.data):rr.data),lr.headers={...lr.headers,...rr.headers},rr.sslAllowSelfSigned&&(lr.rejectUnauthorized=!1);const fr=async dr=>{const gr=dr.statusCode;if(rr.redirect&&300<=gr&&gr<400&&dr.headers.location){if(rr._redirectCount==10)throw new Error("Request failed. Too much redirects.");return rr._redirectCount+=1,await fetchNode(ar(tr,dr.headers.location),rr)}if(rr.expectStatusCode&&gr!==rr.expectStatusCode)throw dr.resume(),new InvalidStatusCodeError(gr);let br=[];for await(const _r of dr)br.push(_r);let vr=Buffer.concat(br);const $r=dr.headers["content-encoding"];$r==="br"&&(vr=await sr(or.brotliDecompress)(vr)),($r==="gzip"||$r==="deflate")&&(vr=await sr(or.unzip)(vr));const Er=detectType(vr,rr.type);return rr.full?{headers:dr.headers,status:gr,body:Er}:Er};return new Promise((dr,gr)=>{const br=async _r=>{if(_r&&_r.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await fetchNode(tr,{...rr,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(xr){xr&&xr.fingerprint256&&(_r=new InvalidCertError(`Self-signed SSL certificate: ${xr.fingerprint256}`,xr.fingerprint256))}gr(_r)},vr=(cr?ir:nr).request(tr,lr,_r=>{_r.on("error",br),(async()=>{try{dr(await fr(_r))}catch(xr){gr(xr)}})()});vr.on("error",br);const $r=rr.sslPinnedCertificates?.map(_r=>ur(_r)),Er=_r=>{const xr=ur(_r.getPeerCertificate()?.fingerprint256||"");if(!(!xr&&_r.isSessionReused())&&!$r.includes(xr))return vr.emit("error",new InvalidCertError(`Invalid SSL certificate: ${xr} Expected: ${$r}`,xr)),vr.abort()};rr.sslPinnedCertificates&&vr.on("socket",_r=>{_r.listeners("secureConnect").map(Ir=>(Ir.name||"").replace("bound ","")).includes("mfetchSecureConnect")||_r.on("secureConnect",Er.bind(null,_r))}),rr.keepAlive&&vr.setNoDelay(!0),lr.body&&vr.write(lr.body),vr.end()})}const SAFE_HEADERS=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(tr=>tr.toLowerCase())),FORBIDDEN_HEADERS=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(tr=>tr.toLowerCase()));async function fetchBrowser(tr,er){let rr={...DEFAULT_OPT,...er};const nr=new Headers;rr.type==="json"&&nr.set("Content-Type","application/json");let ir=new URL(tr);if(ir.username){const cr=btoa(`${ir.username}:${ir.password}`);nr.set("Authorization",`Basic ${cr}`),ir.username="",ir.password=""}tr=""+ir;for(let cr in rr.headers){const lr=cr.toLowerCase();(SAFE_HEADERS.has(lr)||rr.cors&&!FORBIDDEN_HEADERS.has(lr))&&nr.set(cr,rr.headers[cr])}let or={headers:nr,redirect:rr.redirect?"follow":"manual"};rr.referrer||(or.referrerPolicy="no-referrer"),rr.cors&&(or.mode="cors"),rr.data&&(rr.method||(or.method="POST"),or.body=rr.type==="json"?JSON.stringify(rr.data):rr.data);const sr=await fetch(tr,or);if(rr.expectStatusCode&&sr.status!==rr.expectStatusCode)throw new InvalidStatusCodeError(sr.status);const ar=detectType(new Uint8Array(await sr.arrayBuffer()),rr.type);return rr.full?{headers:Object.fromEntries(sr.headers.entries()),status:sr.status,body:ar}:ar}const IS_NODE=!!(typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8);function fetchUrl(tr,er){return(IS_NODE?fetchNode:fetchBrowser)(tr,er)}microFtch.default=fetchUrl;Object.defineProperty(provider$1,"__esModule",{value:!0});provider$1.getProvider=provider$1.fetchFromProvider=void 0;const micro_ftch_1=microFtch,fetchFromProvider=async(tr,er)=>(await(0,micro_ftch_1.default)(tr,{headers:{"content-type":"application/json"},type:"json",data:{method:er.method,params:er.params,jsonrpc:"2.0",id:1}})).result;provider$1.fetchFromProvider=fetchFromProvider;const getProvider=tr=>{if(typeof tr=="string")return tr;if(tr?.connection?.url!==void 0)return tr.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};provider$1.getProvider=getProvider;(function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ir,or,sr,ar){ar===void 0&&(ar=sr);var cr=Object.getOwnPropertyDescriptor(or,sr);(!cr||("get"in cr?!or.__esModule:cr.writable||cr.configurable))&&(cr={enumerable:!0,get:function(){return or[sr]}}),Object.defineProperty(ir,ar,cr)}:function(ir,or,sr,ar){ar===void 0&&(ar=sr),ir[ar]=or[sr]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(ir,or){for(var sr in ir)sr!=="default"&&!Object.prototype.hasOwnProperty.call(or,sr)&&er(or,ir,sr)};Object.defineProperty(tr,"__esModule",{value:!0}),tr.toAscii=tr.stripHexPrefix=tr.padToEven=tr.isHexString=tr.isHexPrefixed=tr.getKeys=tr.getBinarySize=tr.fromUtf8=tr.fromAscii=tr.arrayContainsArray=void 0,rr(constants$7,tr),rr(units,tr),rr(account,tr),rr(address$1,tr),rr(withdrawal,tr),rr(signature,tr),rr(bytes$3,tr),rr(types$4,tr),rr(encoding,tr),rr(asyncEventEmitter,tr);var nr=internal;Object.defineProperty(tr,"arrayContainsArray",{enumerable:!0,get:function(){return nr.arrayContainsArray}}),Object.defineProperty(tr,"fromAscii",{enumerable:!0,get:function(){return nr.fromAscii}}),Object.defineProperty(tr,"fromUtf8",{enumerable:!0,get:function(){return nr.fromUtf8}}),Object.defineProperty(tr,"getBinarySize",{enumerable:!0,get:function(){return nr.getBinarySize}}),Object.defineProperty(tr,"getKeys",{enumerable:!0,get:function(){return nr.getKeys}}),Object.defineProperty(tr,"isHexPrefixed",{enumerable:!0,get:function(){return nr.isHexPrefixed}}),Object.defineProperty(tr,"isHexString",{enumerable:!0,get:function(){return nr.isHexString}}),Object.defineProperty(tr,"padToEven",{enumerable:!0,get:function(){return nr.padToEven}}),Object.defineProperty(tr,"stripHexPrefix",{enumerable:!0,get:function(){return nr.stripHexPrefix}}),Object.defineProperty(tr,"toAscii",{enumerable:!0,get:function(){return nr.toAscii}}),rr(lock,tr),rr(provider$1,tr)})(dist$7);var utils$3={},dist$5={},assert$6={},dist$4={},error$1={};Object.defineProperty(error$1,"__esModule",{value:!0});error$1.StructError=void 0;class StructError extends TypeError{constructor(er,rr){let nr;const{message:ir,explanation:or,...sr}=er,{path:ar}=er,cr=ar.length===0?ir:`At path: ${ar.join(".")} -- ${ir}`;super(or??cr),or!=null&&(this.cause=cr),Object.assign(this,sr),this.name=this.constructor.name,this.failures=()=>nr??(nr=[er,...rr()])}}error$1.StructError=StructError;var struct={},utils$2={};Object.defineProperty(utils$2,"__esModule",{value:!0});utils$2.run=utils$2.toFailures=utils$2.toFailure=utils$2.shiftIterator=utils$2.print=utils$2.isPlainObject=utils$2.isObject=void 0;function isIterable(tr){return isObject$1(tr)&&typeof tr[Symbol.iterator]=="function"}function isObject$1(tr){return typeof tr=="object"&&tr!==null}utils$2.isObject=isObject$1;function isPlainObject(tr){if(Object.prototype.toString.call(tr)!=="[object Object]")return!1;const er=Object.getPrototypeOf(tr);return er===null||er===Object.prototype}utils$2.isPlainObject=isPlainObject;function print(tr){return typeof tr=="symbol"?tr.toString():typeof tr=="string"?JSON.stringify(tr):`${tr}`}utils$2.print=print;function shiftIterator(tr){const{done:er,value:rr}=tr.next();return er?void 0:rr}utils$2.shiftIterator=shiftIterator;function toFailure(tr,er,rr,nr){if(tr===!0)return;tr===!1?tr={}:typeof tr=="string"&&(tr={message:tr});const{path:ir,branch:or}=er,{type:sr}=rr,{refinement:ar,message:cr=`Expected a value of type \`${sr}\`${ar?` with refinement \`${ar}\``:""}, but received: \`${print(nr)}\``}=tr;return{value:nr,type:sr,refinement:ar,key:ir[ir.length-1],path:ir,branch:or,...tr,message:cr}}utils$2.toFailure=toFailure;function*toFailures(tr,er,rr,nr){isIterable(tr)||(tr=[tr]);for(const ir of tr){const or=toFailure(ir,er,rr,nr);or&&(yield or)}}utils$2.toFailures=toFailures;function*run(tr,er,rr={}){const{path:nr=[],branch:ir=[tr],coerce:or=!1,mask:sr=!1}=rr,ar={path:nr,branch:ir};if(or&&(tr=er.coercer(tr,ar),sr&&er.type!=="type"&&isObject$1(er.schema)&&isObject$1(tr)&&!Array.isArray(tr)))for(const lr in tr)er.schema[lr]===void 0&&delete tr[lr];let cr="valid";for(const lr of er.validator(tr,ar))lr.explanation=rr.message,cr="not_valid",yield[lr,void 0];for(let[lr,ur,fr]of er.entries(tr,ar)){const dr=run(ur,fr,{path:lr===void 0?nr:[...nr,lr],branch:lr===void 0?ir:[...ir,ur],coerce:or,mask:sr,message:rr.message});for(const gr of dr)gr[0]?(cr=gr[0].refinement===null||gr[0].refinement===void 0?"not_valid":"not_refined",yield[gr[0],void 0]):or&&(ur=gr[1],lr===void 0?tr=ur:tr instanceof Map?tr.set(lr,ur):tr instanceof Set?tr.add(ur):isObject$1(tr)&&(ur!==void 0||lr in tr)&&(tr[lr]=ur))}if(cr!=="not_valid")for(const lr of er.refiner(tr,ar))lr.explanation=rr.message,cr="not_refined",yield[lr,void 0];cr==="valid"&&(yield[void 0,tr])}utils$2.run=run;Object.defineProperty(struct,"__esModule",{value:!0});struct.validate=struct.is=struct.mask=struct.create=struct.assert=struct.Struct=void 0;const error_js_1=error$1,utils_js_1$2=utils$2;class Struct{constructor(er){const{type:rr,schema:nr,validator:ir,refiner:or,coercer:sr=cr=>cr,entries:ar=function*(){}}=er;this.type=rr,this.schema=nr,this.entries=ar,this.coercer=sr,ir?this.validator=(cr,lr)=>{const ur=ir(cr,lr);return(0,utils_js_1$2.toFailures)(ur,lr,this,cr)}:this.validator=()=>[],or?this.refiner=(cr,lr)=>{const ur=or(cr,lr);return(0,utils_js_1$2.toFailures)(ur,lr,this,cr)}:this.refiner=()=>[]}assert(er,rr){return assert$5(er,this,rr)}create(er,rr){return create(er,this,rr)}is(er){return is(er,this)}mask(er,rr){return mask(er,this,rr)}validate(er,rr={}){return validate$1(er,this,rr)}}struct.Struct=Struct;function assert$5(tr,er,rr){const nr=validate$1(tr,er,{message:rr});if(nr[0])throw nr[0]}struct.assert=assert$5;function create(tr,er,rr){const nr=validate$1(tr,er,{coerce:!0,message:rr});if(nr[0])throw nr[0];return nr[1]}struct.create=create;function mask(tr,er,rr){const nr=validate$1(tr,er,{coerce:!0,mask:!0,message:rr});if(nr[0])throw nr[0];return nr[1]}struct.mask=mask;function is(tr,er){return!validate$1(tr,er)[0]}struct.is=is;function validate$1(tr,er,rr={}){const nr=(0,utils_js_1$2.run)(tr,er,rr),ir=(0,utils_js_1$2.shiftIterator)(nr);return ir[0]?[new error_js_1.StructError(ir[0],function*(){for(const ar of nr)ar[0]&&(yield ar[0])}),void 0]:[void 0,ir[1]]}struct.validate=validate$1;var coercions={},types$2={},utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.pick=utilities.partial=utilities.omit=utilities.lazy=utilities.dynamic=utilities.deprecated=utilities.define=utilities.assign=void 0;const tr=struct,er=requireTypes();function rr(...ur){const fr=ur[0]?.type==="type",dr=ur.map(({schema:br})=>br),gr=Object.assign({},...dr);return fr?(0,er.type)(gr):(0,er.object)(gr)}utilities.assign=rr;function nr(ur,fr){return new tr.Struct({type:ur,schema:null,validator:fr})}utilities.define=nr;function ir(ur,fr){return new tr.Struct({...ur,refiner:(dr,gr)=>dr===void 0||ur.refiner(dr,gr),validator(dr,gr){return dr===void 0?!0:(fr(dr,gr),ur.validator(dr,gr))}})}utilities.deprecated=ir;function or(ur){return new tr.Struct({type:"dynamic",schema:null,*entries(fr,dr){yield*ur(fr,dr).entries(fr,dr)},validator(fr,dr){return ur(fr,dr).validator(fr,dr)},coercer(fr,dr){return ur(fr,dr).coercer(fr,dr)},refiner(fr,dr){return ur(fr,dr).refiner(fr,dr)}})}utilities.dynamic=or;function sr(ur){let fr;return new tr.Struct({type:"lazy",schema:null,*entries(dr,gr){fr??(fr=ur()),yield*fr.entries(dr,gr)},validator(dr,gr){return fr??(fr=ur()),fr.validator(dr,gr)},coercer(dr,gr){return fr??(fr=ur()),fr.coercer(dr,gr)},refiner(dr,gr){return fr??(fr=ur()),fr.refiner(dr,gr)}})}utilities.lazy=sr;function ar(ur,fr){const{schema:dr}=ur,gr={...dr};for(const br of fr)delete gr[br];switch(ur.type){case"type":return(0,er.type)(gr);default:return(0,er.object)(gr)}}utilities.omit=ar;function cr(ur){const fr=ur instanceof tr.Struct,dr=fr?{...ur.schema}:{...ur};for(const gr in dr)dr[gr]=(0,er.optional)(dr[gr]);return fr&&ur.type==="type"?(0,er.type)(dr):(0,er.object)(dr)}utilities.partial=cr;function lr(ur,fr){const{schema:dr}=ur,gr={};for(const br of fr)gr[br]=dr[br];switch(ur.type){case"type":return(0,er.type)(gr);default:return(0,er.object)(gr)}}return utilities.pick=lr,utilities}var hasRequiredTypes;function requireTypes(){if(hasRequiredTypes)return types$2;hasRequiredTypes=1,Object.defineProperty(types$2,"__esModule",{value:!0}),types$2.unknown=types$2.union=types$2.type=types$2.tuple=types$2.string=types$2.set=types$2.regexp=types$2.record=types$2.optional=types$2.object=types$2.number=types$2.nullable=types$2.never=types$2.map=types$2.literal=types$2.intersection=types$2.integer=types$2.instance=types$2.func=types$2.enums=types$2.date=types$2.boolean=types$2.bigint=types$2.array=types$2.any=void 0;const tr=struct,er=utils$2,rr=requireUtilities();function nr(){return(0,rr.define)("any",()=>!0)}types$2.any=nr;function ir(yr){return new tr.Struct({type:"array",schema:yr,*entries(mr){if(yr&&Array.isArray(mr))for(const[hr,pr]of mr.entries())yield[hr,pr,yr]},coercer(mr){return Array.isArray(mr)?mr.slice():mr},validator(mr){return Array.isArray(mr)||`Expected an array value, but received: ${(0,er.print)(mr)}`}})}types$2.array=ir;function or(){return(0,rr.define)("bigint",yr=>typeof yr=="bigint")}types$2.bigint=or;function sr(){return(0,rr.define)("boolean",yr=>typeof yr=="boolean")}types$2.boolean=sr;function ar(){return(0,rr.define)("date",yr=>yr instanceof Date&&!isNaN(yr.getTime())||`Expected a valid \`Date\` object, but received: ${(0,er.print)(yr)}`)}types$2.date=ar;function cr(yr){const mr={},hr=yr.map(pr=>(0,er.print)(pr)).join();for(const pr of yr)mr[pr]=pr;return new tr.Struct({type:"enums",schema:mr,validator(pr){return yr.includes(pr)||`Expected one of \`${hr}\`, but received: ${(0,er.print)(pr)}`}})}types$2.enums=cr;function lr(){return(0,rr.define)("func",yr=>typeof yr=="function"||`Expected a function, but received: ${(0,er.print)(yr)}`)}types$2.func=lr;function ur(yr){return(0,rr.define)("instance",mr=>mr instanceof yr||`Expected a \`${yr.name}\` instance, but received: ${(0,er.print)(mr)}`)}types$2.instance=ur;function fr(){return(0,rr.define)("integer",yr=>typeof yr=="number"&&!isNaN(yr)&&Number.isInteger(yr)||`Expected an integer, but received: ${(0,er.print)(yr)}`)}types$2.integer=fr;function dr(yr){return new tr.Struct({type:"intersection",schema:null,*entries(mr,hr){for(const{entries:pr}of yr)yield*pr(mr,hr)},*validator(mr,hr){for(const{validator:pr}of yr)yield*pr(mr,hr)},*refiner(mr,hr){for(const{refiner:pr}of yr)yield*pr(mr,hr)}})}types$2.intersection=dr;function gr(yr){const mr=(0,er.print)(yr),hr=typeof yr;return new tr.Struct({type:"literal",schema:hr==="string"||hr==="number"||hr==="boolean"?yr:null,validator(pr){return pr===yr||`Expected the literal \`${mr}\`, but received: ${(0,er.print)(pr)}`}})}types$2.literal=gr;function br(yr,mr){return new tr.Struct({type:"map",schema:null,*entries(hr){if(yr&&mr&&hr instanceof Map)for(const[pr,wr]of hr.entries())yield[pr,pr,yr],yield[pr,wr,mr]},coercer(hr){return hr instanceof Map?new Map(hr):hr},validator(hr){return hr instanceof Map||`Expected a \`Map\` object, but received: ${(0,er.print)(hr)}`}})}types$2.map=br;function vr(){return(0,rr.define)("never",()=>!1)}types$2.never=vr;function $r(yr){return new tr.Struct({...yr,validator:(mr,hr)=>mr===null||yr.validator(mr,hr),refiner:(mr,hr)=>mr===null||yr.refiner(mr,hr)})}types$2.nullable=$r;function Er(){return(0,rr.define)("number",yr=>typeof yr=="number"&&!isNaN(yr)||`Expected a number, but received: ${(0,er.print)(yr)}`)}types$2.number=Er;function _r(yr){const mr=yr?Object.keys(yr):[],hr=vr();return new tr.Struct({type:"object",schema:yr??null,*entries(pr){if(yr&&(0,er.isObject)(pr)){const wr=new Set(Object.keys(pr));for(const Ar of mr)wr.delete(Ar),yield[Ar,pr[Ar],yr[Ar]];for(const Ar of wr)yield[Ar,pr[Ar],hr]}},validator(pr){return(0,er.isObject)(pr)||`Expected an object, but received: ${(0,er.print)(pr)}`},coercer(pr){return(0,er.isObject)(pr)?{...pr}:pr}})}types$2.object=_r;function xr(yr){return new tr.Struct({...yr,validator:(mr,hr)=>mr===void 0||yr.validator(mr,hr),refiner:(mr,hr)=>mr===void 0||yr.refiner(mr,hr)})}types$2.optional=xr;function Ir(yr,mr){return new tr.Struct({type:"record",schema:null,*entries(hr){if((0,er.isObject)(hr))for(const pr in hr){const wr=hr[pr];yield[pr,pr,yr],yield[pr,wr,mr]}},validator(hr){return(0,er.isObject)(hr)||`Expected an object, but received: ${(0,er.print)(hr)}`}})}types$2.record=Ir;function Nr(){return(0,rr.define)("regexp",yr=>yr instanceof RegExp)}types$2.regexp=Nr;function Lr(yr){return new tr.Struct({type:"set",schema:null,*entries(mr){if(yr&&mr instanceof Set)for(const hr of mr)yield[hr,hr,yr]},coercer(mr){return mr instanceof Set?new Set(mr):mr},validator(mr){return mr instanceof Set||`Expected a \`Set\` object, but received: ${(0,er.print)(mr)}`}})}types$2.set=Lr;function jr(){return(0,rr.define)("string",yr=>typeof yr=="string"||`Expected a string, but received: ${(0,er.print)(yr)}`)}types$2.string=jr;function Or(yr){const mr=vr();return new tr.Struct({type:"tuple",schema:null,*entries(hr){if(Array.isArray(hr)){const pr=Math.max(yr.length,hr.length);for(let wr=0;wr<pr;wr++)yield[wr,hr[wr],yr[wr]||mr]}},validator(hr){return Array.isArray(hr)||`Expected an array, but received: ${(0,er.print)(hr)}`}})}types$2.tuple=Or;function Dr(yr){const mr=Object.keys(yr);return new tr.Struct({type:"type",schema:yr,*entries(hr){if((0,er.isObject)(hr))for(const pr of mr)yield[pr,hr[pr],yr[pr]]},validator(hr){return(0,er.isObject)(hr)||`Expected an object, but received: ${(0,er.print)(hr)}`},coercer(hr){return(0,er.isObject)(hr)?{...hr}:hr}})}types$2.type=Dr;function Cr(yr){const mr=yr.map(hr=>hr.type).join(" | ");return new tr.Struct({type:"union",schema:null,coercer(hr){for(const pr of yr){const[wr,Ar]=pr.validate(hr,{coerce:!0});if(!wr)return Ar}return hr},validator(hr,pr){const wr=[];for(const Ar of yr){const[...Rr]=(0,er.run)(hr,Ar,pr),[Pr]=Rr;if(!Pr?.[0])return[];for(const[Sr]of Rr)Sr&&wr.push(Sr)}return[`Expected the value to satisfy a union of \`${mr}\`, but received: ${(0,er.print)(hr)}`,...wr]}})}types$2.union=Cr;function Tr(){return(0,rr.define)("unknown",()=>!0)}return types$2.unknown=Tr,types$2}Object.defineProperty(coercions,"__esModule",{value:!0});coercions.trimmed=coercions.defaulted=coercions.coerce=void 0;const struct_js_1$1=struct,utils_js_1$1=utils$2,types_js_1=requireTypes();function coerce$4(tr,er,rr){return new struct_js_1$1.Struct({...tr,coercer:(nr,ir)=>(0,struct_js_1$1.is)(nr,er)?tr.coercer(rr(nr,ir),ir):tr.coercer(nr,ir)})}coercions.coerce=coerce$4;function defaulted(tr,er,rr={}){return coerce$4(tr,(0,types_js_1.unknown)(),nr=>{const ir=typeof er=="function"?er():er;if(nr===void 0)return ir;if(!rr.strict&&(0,utils_js_1$1.isPlainObject)(nr)&&(0,utils_js_1$1.isPlainObject)(ir)){const or={...nr};let sr=!1;for(const ar in ir)or[ar]===void 0&&(or[ar]=ir[ar],sr=!0);if(sr)return or}return nr})}coercions.defaulted=defaulted;function trimmed(tr){return coerce$4(tr,(0,types_js_1.string)(),er=>er.trim())}coercions.trimmed=trimmed;var refinements={};Object.defineProperty(refinements,"__esModule",{value:!0});refinements.refine=refinements.size=refinements.pattern=refinements.nonempty=refinements.min=refinements.max=refinements.empty=void 0;const struct_js_1=struct,utils_js_1=utils$2;function empty(tr){return refine(tr,"empty",er=>{const rr=getSize(er);return rr===0||`Expected an empty ${tr.type} but received one with a size of \`${rr}\``})}refinements.empty=empty;function getSize(tr){return tr instanceof Map||tr instanceof Set?tr.size:tr.length}function max(tr,er,rr={}){const{exclusive:nr}=rr;return refine(tr,"max",ir=>nr?ir<er:ir<=er||`Expected a ${tr.type} less than ${nr?"":"or equal to "}${er} but received \`${ir}\``)}refinements.max=max;function min(tr,er,rr={}){const{exclusive:nr}=rr;return refine(tr,"min",ir=>nr?ir>er:ir>=er||`Expected a ${tr.type} greater than ${nr?"":"or equal to "}${er} but received \`${ir}\``)}refinements.min=min;function nonempty(tr){return refine(tr,"nonempty",er=>getSize(er)>0||`Expected a nonempty ${tr.type} but received an empty one`)}refinements.nonempty=nonempty;function pattern(tr,er){return refine(tr,"pattern",rr=>er.test(rr)||`Expected a ${tr.type} matching \`/${er.source}/\` but received "${rr}"`)}refinements.pattern=pattern;function size(tr,er,rr=er){const nr=`Expected a ${tr.type}`,ir=er===rr?`of \`${er}\``:`between \`${er}\` and \`${rr}\``;return refine(tr,"size",or=>{if(typeof or=="number"||or instanceof Date)return er<=or&&or<=rr||`${nr} ${ir} but received \`${or}\``;if(or instanceof Map||or instanceof Set){const{size:ar}=or;return er<=ar&&ar<=rr||`${nr} with a size ${ir} but received one with a size of \`${ar}\``}const{length:sr}=or;return er<=sr&&sr<=rr||`${nr} with a length ${ir} but received one with a length of \`${sr}\``})}refinements.size=size;function refine(tr,er,rr){return new struct_js_1.Struct({...tr,*refiner(nr,ir){yield*tr.refiner(nr,ir);const or=rr(nr,ir),sr=(0,utils_js_1.toFailures)(or,ir,tr,nr);for(const ar of sr)yield{...ar,refinement:er}}})}refinements.refine=refine;(function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(nr,ir,or,sr){sr===void 0&&(sr=or);var ar=Object.getOwnPropertyDescriptor(ir,or);(!ar||("get"in ar?!ir.__esModule:ar.writable||ar.configurable))&&(ar={enumerable:!0,get:function(){return ir[or]}}),Object.defineProperty(nr,sr,ar)}:function(nr,ir,or,sr){sr===void 0&&(sr=or),nr[sr]=ir[or]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(nr,ir){for(var or in nr)or!=="default"&&!Object.prototype.hasOwnProperty.call(ir,or)&&er(ir,nr,or)};Object.defineProperty(tr,"__esModule",{value:!0}),rr(error$1,tr),rr(struct,tr),rr(coercions,tr),rr(refinements,tr),rr(requireTypes(),tr),rr(requireUtilities(),tr)})(dist$4);var errors$4={};let ErrorWithCause$1=class Kl extends Error{constructor(er,{cause:rr}={}){super(er),this.name=Kl.name,rr&&(this.cause=rr),this.message=er}};const errorWithCause=Object.freeze(Object.defineProperty({__proto__:null,ErrorWithCause:ErrorWithCause$1},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(errorWithCause),findCauseByReference$1=(tr,er)=>{if(!tr||!er||!(tr instanceof Error)||!(er.prototype instanceof Error)&&er!==Error)return;const rr=new Set;let nr=tr;for(;nr&&!rr.has(nr);){if(rr.add(nr),nr instanceof er)return nr;nr=getErrorCause$1(nr)}},getErrorCause$1=tr=>{if(!(!tr||typeof tr!="object"||!("cause"in tr)))if(typeof tr.cause=="function"){const er=tr.cause();return er instanceof Error?er:void 0}else return tr.cause instanceof Error?tr.cause:void 0},_stackWithCauses=(tr,er)=>{if(!(tr instanceof Error))return"";const rr=tr.stack||"";if(er.has(tr))return rr+`
causes have become circular...`;const nr=getErrorCause$1(tr);return nr?(er.add(tr),rr+`
caused by: `+_stackWithCauses(nr,er)):rr},stackWithCauses$1=tr=>_stackWithCauses(tr,new Set),_messageWithCauses=(tr,er,rr)=>{if(!(tr instanceof Error))return"";const nr=rr?"":tr.message||"";if(er.has(tr))return nr+": ...";const ir=getErrorCause$1(tr);if(ir){er.add(tr);const or="cause"in tr&&typeof tr.cause=="function";return nr+(or?"":": ")+_messageWithCauses(ir,er,or)}else return nr},messageWithCauses$1=tr=>_messageWithCauses(tr,new Set),helpers$4=Object.freeze(Object.defineProperty({__proto__:null,findCauseByReference:findCauseByReference$1,getErrorCause:getErrorCause$1,messageWithCauses:messageWithCauses$1,stackWithCauses:stackWithCauses$1},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(helpers$4),{ErrorWithCause}=require$$0$1,{findCauseByReference,getErrorCause,messageWithCauses,stackWithCauses}=require$$1$1;var ponyCause={ErrorWithCause,findCauseByReference,getErrorCause,stackWithCauses,messageWithCauses},misc$1={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.calculateNumberSize=tr.calculateStringSize=tr.isASCII=tr.isPlainObject=tr.ESCAPE_CHARACTERS_REGEXP=tr.JsonSize=tr.getKnownPropertyNames=tr.hasProperty=tr.isObject=tr.isNullOrUndefined=tr.isNonEmptyArray=void 0;function er(ur){return Array.isArray(ur)&&ur.length>0}tr.isNonEmptyArray=er;function rr(ur){return ur==null}tr.isNullOrUndefined=rr;function nr(ur){return!!ur&&typeof ur=="object"&&!Array.isArray(ur)}tr.isObject=nr;const ir=(ur,fr)=>Object.hasOwnProperty.call(ur,fr);tr.hasProperty=ir;function or(ur){return Object.getOwnPropertyNames(ur)}tr.getKnownPropertyNames=or,function(ur){ur[ur.Null=4]="Null",ur[ur.Comma=1]="Comma",ur[ur.Wrapper=1]="Wrapper",ur[ur.True=4]="True",ur[ur.False=5]="False",ur[ur.Quote=1]="Quote",ur[ur.Colon=1]="Colon",ur[ur.Date=24]="Date"}(tr.JsonSize||(tr.JsonSize={})),tr.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function sr(ur){if(typeof ur!="object"||ur===null)return!1;try{let fr=ur;for(;Object.getPrototypeOf(fr)!==null;)fr=Object.getPrototypeOf(fr);return Object.getPrototypeOf(ur)===fr}catch{return!1}}tr.isPlainObject=sr;function ar(ur){return ur.charCodeAt(0)<=127}tr.isASCII=ar;function cr(ur){return ur.split("").reduce((dr,gr)=>ar(gr)?dr+1:dr+2,0)+(ur.match(tr.ESCAPE_CHARACTERS_REGEXP)??[]).length}tr.calculateStringSize=cr;function lr(ur){return ur.toString().length}tr.calculateNumberSize=lr})(misc$1);Object.defineProperty(errors$4,"__esModule",{value:!0});errors$4.wrapError=errors$4.getErrorMessage=errors$4.isErrorWithStack=errors$4.isErrorWithMessage=errors$4.isErrorWithCode=void 0;const pony_cause_1$1=ponyCause,misc_1$1=misc$1;function isError$1(tr){return tr instanceof Error||(0,misc_1$1.isObject)(tr)&&tr.constructor.name==="Error"}function isErrorWithCode$1(tr){return typeof tr=="object"&&tr!==null&&"code"in tr}errors$4.isErrorWithCode=isErrorWithCode$1;function isErrorWithMessage$1(tr){return typeof tr=="object"&&tr!==null&&"message"in tr}errors$4.isErrorWithMessage=isErrorWithMessage$1;function isErrorWithStack$1(tr){return typeof tr=="object"&&tr!==null&&"stack"in tr}errors$4.isErrorWithStack=isErrorWithStack$1;function getErrorMessage$1(tr){return isErrorWithMessage$1(tr)&&typeof tr.message=="string"?tr.message:(0,misc_1$1.isNullOrUndefined)(tr)?"":String(tr)}errors$4.getErrorMessage=getErrorMessage$1;function wrapError$1(tr,er){if(isError$1(tr)){let rr;return Error.length===2?rr=new Error(er,{cause:tr}):rr=new pony_cause_1$1.ErrorWithCause(er,{cause:tr}),isErrorWithCode$1(tr)&&(rr.code=tr.code),rr}return er.length>0?new Error(`${String(tr)}: ${er}`):new Error(String(tr))}errors$4.wrapError=wrapError$1;Object.defineProperty(assert$6,"__esModule",{value:!0});assert$6.assertExhaustive=assert$6.assertStruct=assert$6.assert=assert$6.AssertionError=void 0;const superstruct_1$7=dist$4,errors_1$1=errors$4;function isConstructable$1(tr){return typeof tr?.prototype?.constructor?.name=="string"}function getErrorMessageWithoutTrailingPeriod$1(tr){return(0,errors_1$1.getErrorMessage)(tr).replace(/\.$/u,"")}function getError$1(tr,er){return isConstructable$1(tr)?new tr({message:er}):tr({message:er})}let AssertionError$1=class extends Error{constructor(er){super(er.message),this.code="ERR_ASSERTION"}};assert$6.AssertionError=AssertionError$1;function assert$4(tr,er="Assertion failed.",rr=AssertionError$1){if(!tr)throw er instanceof Error?er:getError$1(rr,er)}assert$6.assert=assert$4;function assertStruct$1(tr,er,rr="Assertion failed",nr=AssertionError$1){try{(0,superstruct_1$7.assert)(tr,er)}catch(ir){throw getError$1(nr,`${rr}: ${getErrorMessageWithoutTrailingPeriod$1(ir)}.`)}}assert$6.assertStruct=assertStruct$1;function assertExhaustive$1(tr){throw new Error("Invalid branch reached. Should be detected during compilation.")}assert$6.assertExhaustive=assertExhaustive$1;var base64$3={};Object.defineProperty(base64$3,"__esModule",{value:!0});base64$3.base64=void 0;const superstruct_1$6=dist$4,assert_1$5=assert$6,base64$2=(tr,er={})=>{const rr=er.paddingRequired??!1,nr=er.characterSet??"base64";let ir;nr==="base64"?ir=String.raw`[A-Za-z0-9+\/]`:((0,assert_1$5.assert)(nr==="base64url"),ir=String.raw`[-_A-Za-z0-9]`);let or;return rr?or=new RegExp(`^(?:${ir}{4})*(?:${ir}{3}=|${ir}{2}==)?$`,"u"):or=new RegExp(`^(?:${ir}{4})*(?:${ir}{2,3}|${ir}{3}=|${ir}{2}==)?$`,"u"),(0,superstruct_1$6.pattern)(tr,or)};base64$3.base64=base64$2;var bytes$2={},lib$1={};(function(tr){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(tr,"__esModule",{value:!0}),tr.bytes=tr.stringToBytes=tr.str=tr.bytesToString=tr.hex=tr.utf8=tr.bech32m=tr.bech32=tr.base58check=tr.createBase58check=tr.base58xmr=tr.base58xrp=tr.base58flickr=tr.base58=tr.base64urlnopad=tr.base64url=tr.base64nopad=tr.base64=tr.base32crockford=tr.base32hexnopad=tr.base32hex=tr.base32nopad=tr.base32=tr.base16=tr.utils=tr.assertNumber=void 0;function er(yr){if(!Number.isSafeInteger(yr))throw new Error(`Wrong integer: ${yr}`)}tr.assertNumber=er;function rr(yr){return yr instanceof Uint8Array||yr!=null&&typeof yr=="object"&&yr.constructor.name==="Uint8Array"}function nr(...yr){const mr=Ar=>Ar,hr=(Ar,Rr)=>Pr=>Ar(Rr(Pr)),pr=yr.map(Ar=>Ar.encode).reduceRight(hr,mr),wr=yr.map(Ar=>Ar.decode).reduce(hr,mr);return{encode:pr,decode:wr}}function ir(yr){return{encode:mr=>{if(!Array.isArray(mr)||mr.length&&typeof mr[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return mr.map(hr=>{if(hr<0||hr>=yr.length)throw new Error(`Digit index outside alphabet: ${hr} (alphabet: ${yr.length})`);return yr[hr]})},decode:mr=>{if(!Array.isArray(mr)||mr.length&&typeof mr[0]!="string")throw new Error("alphabet.decode input should be array of strings");return mr.map(hr=>{if(typeof hr!="string")throw new Error(`alphabet.decode: not string element=${hr}`);const pr=yr.indexOf(hr);if(pr===-1)throw new Error(`Unknown letter: "${hr}". Allowed: ${yr}`);return pr})}}}function or(yr=""){if(typeof yr!="string")throw new Error("join separator should be string");return{encode:mr=>{if(!Array.isArray(mr)||mr.length&&typeof mr[0]!="string")throw new Error("join.encode input should be array of strings");for(let hr of mr)if(typeof hr!="string")throw new Error(`join.encode: non-string input=${hr}`);return mr.join(yr)},decode:mr=>{if(typeof mr!="string")throw new Error("join.decode input should be string");return mr.split(yr)}}}function sr(yr,mr="="){if(typeof mr!="string")throw new Error("padding chr should be string");return{encode(hr){if(!Array.isArray(hr)||hr.length&&typeof hr[0]!="string")throw new Error("padding.encode input should be array of strings");for(let pr of hr)if(typeof pr!="string")throw new Error(`padding.encode: non-string input=${pr}`);for(;hr.length*yr%8;)hr.push(mr);return hr},decode(hr){if(!Array.isArray(hr)||hr.length&&typeof hr[0]!="string")throw new Error("padding.encode input should be array of strings");for(let wr of hr)if(typeof wr!="string")throw new Error(`padding.decode: non-string input=${wr}`);let pr=hr.length;if(pr*yr%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;pr>0&&hr[pr-1]===mr;pr--)if(!((pr-1)*yr%8))throw new Error("Invalid padding: string has too much padding");return hr.slice(0,pr)}}}function ar(yr){if(typeof yr!="function")throw new Error("normalize fn should be function");return{encode:mr=>mr,decode:mr=>yr(mr)}}function cr(yr,mr,hr){if(mr<2)throw new Error(`convertRadix: wrong from=${mr}, base cannot be less than 2`);if(hr<2)throw new Error(`convertRadix: wrong to=${hr}, base cannot be less than 2`);if(!Array.isArray(yr))throw new Error("convertRadix: data should be array");if(!yr.length)return[];let pr=0;const wr=[],Ar=Array.from(yr);for(Ar.forEach(Rr=>{if(Rr<0||Rr>=mr)throw new Error(`Wrong integer: ${Rr}`)});;){let Rr=0,Pr=!0;for(let Sr=pr;Sr<Ar.length;Sr++){const Mr=Ar[Sr],Br=mr*Rr+Mr;if(!Number.isSafeInteger(Br)||mr*Rr/mr!==Rr||Br-Mr!==mr*Rr)throw new Error("convertRadix: carry overflow");Rr=Br%hr;const Ur=Math.floor(Br/hr);if(Ar[Sr]=Ur,!Number.isSafeInteger(Ur)||Ur*hr+Rr!==Br)throw new Error("convertRadix: carry overflow");if(Pr)Ur?Pr=!1:pr=Sr;else continue}if(wr.push(Rr),Pr)break}for(let Rr=0;Rr<yr.length-1&&yr[Rr]===0;Rr++)wr.push(0);return wr.reverse()}const lr=(yr,mr)=>mr?lr(mr,yr%mr):yr,ur=(yr,mr)=>yr+(mr-lr(yr,mr));function fr(yr,mr,hr,pr){if(!Array.isArray(yr))throw new Error("convertRadix2: data should be array");if(mr<=0||mr>32)throw new Error(`convertRadix2: wrong from=${mr}`);if(hr<=0||hr>32)throw new Error(`convertRadix2: wrong to=${hr}`);if(ur(mr,hr)>32)throw new Error(`convertRadix2: carry overflow from=${mr} to=${hr} carryBits=${ur(mr,hr)}`);let wr=0,Ar=0;const Rr=2**hr-1,Pr=[];for(const Sr of yr){if(Sr>=2**mr)throw new Error(`convertRadix2: invalid data word=${Sr} from=${mr}`);if(wr=wr<<mr|Sr,Ar+mr>32)throw new Error(`convertRadix2: carry overflow pos=${Ar} from=${mr}`);for(Ar+=mr;Ar>=hr;Ar-=hr)Pr.push((wr>>Ar-hr&Rr)>>>0);wr&=2**Ar-1}if(wr=wr<<hr-Ar&Rr,!pr&&Ar>=mr)throw new Error("Excess padding");if(!pr&&wr)throw new Error(`Non-zero padding: ${wr}`);return pr&&Ar>0&&Pr.push(wr>>>0),Pr}function dr(yr){return{encode:mr=>{if(!rr(mr))throw new Error("radix.encode input should be Uint8Array");return cr(Array.from(mr),2**8,yr)},decode:mr=>{if(!Array.isArray(mr)||mr.length&&typeof mr[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(cr(mr,yr,2**8))}}}function gr(yr,mr=!1){if(yr<=0||yr>32)throw new Error("radix2: bits should be in (0..32]");if(ur(8,yr)>32||ur(yr,8)>32)throw new Error("radix2: carry overflow");return{encode:hr=>{if(!rr(hr))throw new Error("radix2.encode input should be Uint8Array");return fr(Array.from(hr),8,yr,!mr)},decode:hr=>{if(!Array.isArray(hr)||hr.length&&typeof hr[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(fr(hr,yr,8,mr))}}}function br(yr){if(typeof yr!="function")throw new Error("unsafeWrapper fn should be function");return function(...mr){try{return yr.apply(null,mr)}catch{}}}function vr(yr,mr){if(typeof mr!="function")throw new Error("checksum fn should be function");return{encode(hr){if(!rr(hr))throw new Error("checksum.encode: input should be Uint8Array");const pr=mr(hr).slice(0,yr),wr=new Uint8Array(hr.length+yr);return wr.set(hr),wr.set(pr,hr.length),wr},decode(hr){if(!rr(hr))throw new Error("checksum.decode: input should be Uint8Array");const pr=hr.slice(0,-yr),wr=mr(pr).slice(0,yr),Ar=hr.slice(-yr);for(let Rr=0;Rr<yr;Rr++)if(wr[Rr]!==Ar[Rr])throw new Error("Invalid checksum");return pr}}}tr.utils={alphabet:ir,chain:nr,checksum:vr,convertRadix:cr,convertRadix2:fr,radix:dr,radix2:gr,join:or,padding:sr},tr.base16=nr(gr(4),ir("0123456789ABCDEF"),or("")),tr.base32=nr(gr(5),ir("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),sr(5),or("")),tr.base32nopad=nr(gr(5),ir("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),or("")),tr.base32hex=nr(gr(5),ir("0123456789ABCDEFGHIJKLMNOPQRSTUV"),sr(5),or("")),tr.base32hexnopad=nr(gr(5),ir("0123456789ABCDEFGHIJKLMNOPQRSTUV"),or("")),tr.base32crockford=nr(gr(5),ir("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),or(""),ar(yr=>yr.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),tr.base64=nr(gr(6),ir("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),sr(6),or("")),tr.base64nopad=nr(gr(6),ir("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),or("")),tr.base64url=nr(gr(6),ir("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),sr(6),or("")),tr.base64urlnopad=nr(gr(6),ir("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),or(""));const $r=yr=>nr(dr(58),ir(yr),or(""));tr.base58=$r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),tr.base58flickr=$r("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),tr.base58xrp=$r("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Er=[0,2,3,5,6,7,9,10,11];tr.base58xmr={encode(yr){let mr="";for(let hr=0;hr<yr.length;hr+=8){const pr=yr.subarray(hr,hr+8);mr+=tr.base58.encode(pr).padStart(Er[pr.length],"1")}return mr},decode(yr){let mr=[];for(let hr=0;hr<yr.length;hr+=11){const pr=yr.slice(hr,hr+11),wr=Er.indexOf(pr.length),Ar=tr.base58.decode(pr);for(let Rr=0;Rr<Ar.length-wr;Rr++)if(Ar[Rr]!==0)throw new Error("base58xmr: wrong padding");mr=mr.concat(Array.from(Ar.slice(Ar.length-wr)))}return Uint8Array.from(mr)}};const _r=yr=>nr(vr(4,mr=>yr(yr(mr))),tr.base58);tr.createBase58check=_r,tr.base58check=tr.createBase58check;const xr=nr(ir("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),or("")),Ir=[996825010,642813549,513874426,1027748829,705979059];function Nr(yr){const mr=yr>>25;let hr=(yr&33554431)<<5;for(let pr=0;pr<Ir.length;pr++)(mr>>pr&1)===1&&(hr^=Ir[pr]);return hr}function Lr(yr,mr,hr=1){const pr=yr.length;let wr=1;for(let Ar=0;Ar<pr;Ar++){const Rr=yr.charCodeAt(Ar);if(Rr<33||Rr>126)throw new Error(`Invalid prefix (${yr})`);wr=Nr(wr)^Rr>>5}wr=Nr(wr);for(let Ar=0;Ar<pr;Ar++)wr=Nr(wr)^yr.charCodeAt(Ar)&31;for(let Ar of mr)wr=Nr(wr)^Ar;for(let Ar=0;Ar<6;Ar++)wr=Nr(wr);return wr^=hr,xr.encode(fr([wr%2**30],30,5,!1))}function jr(yr){const mr=yr==="bech32"?1:734539939,hr=gr(5),pr=hr.decode,wr=hr.encode,Ar=br(pr);function Rr(Br,Ur,Jr=90){if(typeof Br!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof Br}`);if(!Array.isArray(Ur)||Ur.length&&typeof Ur[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof Ur}`);if(Br.length===0)throw new TypeError(`Invalid prefix length ${Br.length}`);const qr=Br.length+7+Ur.length;if(Jr!==!1&&qr>Jr)throw new TypeError(`Length ${qr} exceeds limit ${Jr}`);const zr=Br.toLowerCase(),sn=Lr(zr,Ur,mr);return`${zr}1${xr.encode(Ur)}${sn}`}function Pr(Br,Ur=90){if(typeof Br!="string")throw new Error(`bech32.decode input should be string, not ${typeof Br}`);if(Br.length<8||Ur!==!1&&Br.length>Ur)throw new TypeError(`Wrong string length: ${Br.length} (${Br}). Expected (8..${Ur})`);const Jr=Br.toLowerCase();if(Br!==Jr&&Br!==Br.toUpperCase())throw new Error("String must be lowercase or uppercase");const qr=Jr.lastIndexOf("1");if(qr===0||qr===-1)throw new Error('Letter "1" must be present between prefix and data only');const zr=Jr.slice(0,qr),sn=Jr.slice(qr+1);if(sn.length<6)throw new Error("Data must be at least 6 characters long");const rn=xr.decode(sn).slice(0,-6),tn=Lr(zr,rn,mr);if(!sn.endsWith(tn))throw new Error(`Invalid checksum in ${Br}: expected "${tn}"`);return{prefix:zr,words:rn}}const Sr=br(Pr);function Mr(Br){const{prefix:Ur,words:Jr}=Pr(Br,!1);return{prefix:Ur,words:Jr,bytes:pr(Jr)}}return{encode:Rr,decode:Pr,decodeToBytes:Mr,decodeUnsafe:Sr,fromWords:pr,fromWordsUnsafe:Ar,toWords:wr}}tr.bech32=jr("bech32"),tr.bech32m=jr("bech32m"),tr.utf8={encode:yr=>new TextDecoder().decode(yr),decode:yr=>new TextEncoder().encode(yr)},tr.hex=nr(gr(4),ir("0123456789abcdef"),or(""),ar(yr=>{if(typeof yr!="string"||yr.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof yr} with length ${yr.length}`);return yr.toLowerCase()}));const Or={utf8:tr.utf8,hex:tr.hex,base16:tr.base16,base32:tr.base32,base64:tr.base64,base64url:tr.base64url,base58:tr.base58,base58xmr:tr.base58xmr},Dr="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",Cr=(yr,mr)=>{if(typeof yr!="string"||!Or.hasOwnProperty(yr))throw new TypeError(Dr);if(!rr(mr))throw new TypeError("bytesToString() expects Uint8Array");return Or[yr].encode(mr)};tr.bytesToString=Cr,tr.str=tr.bytesToString;const Tr=(yr,mr)=>{if(!Or.hasOwnProperty(yr))throw new TypeError(Dr);if(typeof mr!="string")throw new TypeError("stringToBytes() expects string");return Or[yr].decode(mr)};tr.stringToBytes=Tr,tr.bytes=tr.stringToBytes})(lib$1);var hex$1={},hasRequiredHex$1;function requireHex$1(){return hasRequiredHex$1||(hasRequiredHex$1=1,function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.remove0x=tr.add0x=tr.isValidChecksumAddress=tr.getChecksumAddress=tr.isValidHexAddress=tr.assertIsStrictHexString=tr.assertIsHexString=tr.isStrictHexString=tr.isHexString=tr.HexChecksumAddressStruct=tr.HexAddressStruct=tr.StrictHexStruct=tr.HexStruct=void 0;const er=dist$4,rr=sha3,nr=assert$6,ir=requireBytes$1();tr.HexStruct=(0,er.pattern)((0,er.string)(),/^(?:0x)?[0-9a-f]+$/iu),tr.StrictHexStruct=(0,er.pattern)((0,er.string)(),/^0x[0-9a-f]+$/iu),tr.HexAddressStruct=(0,er.pattern)((0,er.string)(),/^0x[0-9a-f]{40}$/u),tr.HexChecksumAddressStruct=(0,er.pattern)((0,er.string)(),/^0x[0-9a-fA-F]{40}$/u);function or(br){return(0,er.is)(br,tr.HexStruct)}tr.isHexString=or;function sr(br){return(0,er.is)(br,tr.StrictHexStruct)}tr.isStrictHexString=sr;function ar(br){(0,nr.assert)(or(br),"Value must be a hexadecimal string.")}tr.assertIsHexString=ar;function cr(br){(0,nr.assert)(sr(br),'Value must be a hexadecimal string, starting with "0x".')}tr.assertIsStrictHexString=cr;function lr(br){return(0,er.is)(br,tr.HexAddressStruct)||fr(br)}tr.isValidHexAddress=lr;function ur(br){(0,nr.assert)((0,er.is)(br,tr.HexChecksumAddressStruct),"Invalid hex address.");const vr=gr(br.toLowerCase()),$r=gr((0,ir.bytesToHex)((0,rr.keccak_256)(vr)));return`0x${vr.split("").map((Er,_r)=>{const xr=$r[_r];return(0,nr.assert)((0,er.is)(xr,(0,er.string)()),"Hash shorter than address."),parseInt(xr,16)>7?Er.toUpperCase():Er}).join("")}`}tr.getChecksumAddress=ur;function fr(br){return(0,er.is)(br,tr.HexChecksumAddressStruct)?ur(br)===br:!1}tr.isValidChecksumAddress=fr;function dr(br){return br.startsWith("0x")?br:br.startsWith("0X")?`0x${br.substring(2)}`:`0x${br}`}tr.add0x=dr;function gr(br){return br.startsWith("0x")||br.startsWith("0X")?br.substring(2):br}tr.remove0x=gr}(hex$1)),hex$1}var hasRequiredBytes$1;function requireBytes$1(){if(hasRequiredBytes$1)return bytes$2;hasRequiredBytes$1=1,Object.defineProperty(bytes$2,"__esModule",{value:!0}),bytes$2.createDataView=bytes$2.concatBytes=bytes$2.valueToBytes=bytes$2.base64ToBytes=bytes$2.stringToBytes=bytes$2.numberToBytes=bytes$2.signedBigIntToBytes=bytes$2.bigIntToBytes=bytes$2.hexToBytes=bytes$2.bytesToBase64=bytes$2.bytesToString=bytes$2.bytesToNumber=bytes$2.bytesToSignedBigInt=bytes$2.bytesToBigInt=bytes$2.bytesToHex=bytes$2.assertIsBytes=bytes$2.isBytes=void 0;const tr=lib$1,er=assert$6,rr=requireHex$1(),nr=48,ir=58,or=87;function sr(){const Cr=[];return()=>{if(Cr.length===0)for(let Tr=0;Tr<256;Tr++)Cr.push(Tr.toString(16).padStart(2,"0"));return Cr}}const ar=sr();function cr(Cr){return Cr instanceof Uint8Array}bytes$2.isBytes=cr;function lr(Cr){(0,er.assert)(cr(Cr),"Value must be a Uint8Array.")}bytes$2.assertIsBytes=lr;function ur(Cr){if(lr(Cr),Cr.length===0)return"0x";const Tr=ar(),yr=new Array(Cr.length);for(let mr=0;mr<Cr.length;mr++)yr[mr]=Tr[Cr[mr]];return(0,rr.add0x)(yr.join(""))}bytes$2.bytesToHex=ur;function fr(Cr){lr(Cr);const Tr=ur(Cr);return BigInt(Tr)}bytes$2.bytesToBigInt=fr;function dr(Cr){lr(Cr);let Tr=BigInt(0);for(const yr of Cr)Tr=(Tr<<BigInt(8))+BigInt(yr);return BigInt.asIntN(Cr.length*8,Tr)}bytes$2.bytesToSignedBigInt=dr;function gr(Cr){lr(Cr);const Tr=fr(Cr);return(0,er.assert)(Tr<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(Tr)}bytes$2.bytesToNumber=gr;function br(Cr){return lr(Cr),new TextDecoder().decode(Cr)}bytes$2.bytesToString=br;function vr(Cr){return lr(Cr),tr.base64.encode(Cr)}bytes$2.bytesToBase64=vr;function $r(Cr){if(Cr?.toLowerCase?.()==="0x")return new Uint8Array;(0,rr.assertIsHexString)(Cr);const Tr=(0,rr.remove0x)(Cr).toLowerCase(),yr=Tr.length%2===0?Tr:`0${Tr}`,mr=new Uint8Array(yr.length/2);for(let hr=0;hr<mr.length;hr++){const pr=yr.charCodeAt(hr*2),wr=yr.charCodeAt(hr*2+1),Ar=pr-(pr<ir?nr:or),Rr=wr-(wr<ir?nr:or);mr[hr]=Ar*16+Rr}return mr}bytes$2.hexToBytes=$r;function Er(Cr){(0,er.assert)(typeof Cr=="bigint","Value must be a bigint."),(0,er.assert)(Cr>=BigInt(0),"Value must be a non-negative bigint.");const Tr=Cr.toString(16);return $r(Tr)}bytes$2.bigIntToBytes=Er;function _r(Cr,Tr){(0,er.assert)(Tr>0);const yr=Cr>>BigInt(31);return!((~Cr&yr)+(Cr&~yr)>>BigInt(Tr*8+-1))}function xr(Cr,Tr){(0,er.assert)(typeof Cr=="bigint","Value must be a bigint."),(0,er.assert)(typeof Tr=="number","Byte length must be a number."),(0,er.assert)(Tr>0,"Byte length must be greater than 0."),(0,er.assert)(_r(Cr,Tr),"Byte length is too small to represent the given value.");let yr=Cr;const mr=new Uint8Array(Tr);for(let hr=0;hr<mr.length;hr++)mr[hr]=Number(BigInt.asUintN(8,yr)),yr>>=BigInt(8);return mr.reverse()}bytes$2.signedBigIntToBytes=xr;function Ir(Cr){(0,er.assert)(typeof Cr=="number","Value must be a number."),(0,er.assert)(Cr>=0,"Value must be a non-negative number."),(0,er.assert)(Number.isSafeInteger(Cr),"Value is not a safe integer. Use `bigIntToBytes` instead.");const Tr=Cr.toString(16);return $r(Tr)}bytes$2.numberToBytes=Ir;function Nr(Cr){return(0,er.assert)(typeof Cr=="string","Value must be a string."),new TextEncoder().encode(Cr)}bytes$2.stringToBytes=Nr;function Lr(Cr){return(0,er.assert)(typeof Cr=="string","Value must be a string."),tr.base64.decode(Cr)}bytes$2.base64ToBytes=Lr;function jr(Cr){if(typeof Cr=="bigint")return Er(Cr);if(typeof Cr=="number")return Ir(Cr);if(typeof Cr=="string")return Cr.startsWith("0x")?$r(Cr):Nr(Cr);if(cr(Cr))return Cr;throw new TypeError(`Unsupported value type: "${typeof Cr}".`)}bytes$2.valueToBytes=jr;function Or(Cr){const Tr=new Array(Cr.length);let yr=0;for(let hr=0;hr<Cr.length;hr++){const pr=jr(Cr[hr]);Tr[hr]=pr,yr+=pr.length}const mr=new Uint8Array(yr);for(let hr=0,pr=0;hr<Tr.length;hr++)mr.set(Tr[hr],pr),pr+=Tr[hr].length;return mr}bytes$2.concatBytes=Or;function Dr(Cr){if(typeof Buffer<"u"&&Cr instanceof Buffer){const Tr=Cr.buffer.slice(Cr.byteOffset,Cr.byteOffset+Cr.byteLength);return new DataView(Tr)}return new DataView(Cr.buffer,Cr.byteOffset,Cr.byteLength)}return bytes$2.createDataView=Dr,bytes$2}var caipTypes$1={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.toCaipChainId=tr.parseCaipAccountId=tr.parseCaipChainId=tr.isCaipAccountAddress=tr.isCaipAccountId=tr.isCaipReference=tr.isCaipNamespace=tr.isCaipChainId=tr.KnownCaipNamespace=tr.CaipAccountAddressStruct=tr.CaipAccountIdStruct=tr.CaipReferenceStruct=tr.CaipNamespaceStruct=tr.CaipChainIdStruct=tr.CAIP_ACCOUNT_ADDRESS_REGEX=tr.CAIP_ACCOUNT_ID_REGEX=tr.CAIP_REFERENCE_REGEX=tr.CAIP_NAMESPACE_REGEX=tr.CAIP_CHAIN_ID_REGEX=void 0;const er=dist$4;tr.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,tr.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,tr.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,tr.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,tr.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,tr.CaipChainIdStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_CHAIN_ID_REGEX),tr.CaipNamespaceStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_NAMESPACE_REGEX),tr.CaipReferenceStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_REFERENCE_REGEX),tr.CaipAccountIdStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_ACCOUNT_ID_REGEX),tr.CaipAccountAddressStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_ACCOUNT_ADDRESS_REGEX),function(ur){ur.Eip155="eip155"}(tr.KnownCaipNamespace||(tr.KnownCaipNamespace={}));function rr(ur){return(0,er.is)(ur,tr.CaipChainIdStruct)}tr.isCaipChainId=rr;function nr(ur){return(0,er.is)(ur,tr.CaipNamespaceStruct)}tr.isCaipNamespace=nr;function ir(ur){return(0,er.is)(ur,tr.CaipReferenceStruct)}tr.isCaipReference=ir;function or(ur){return(0,er.is)(ur,tr.CaipAccountIdStruct)}tr.isCaipAccountId=or;function sr(ur){return(0,er.is)(ur,tr.CaipAccountAddressStruct)}tr.isCaipAccountAddress=sr;function ar(ur){const fr=tr.CAIP_CHAIN_ID_REGEX.exec(ur);if(!fr?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:fr.groups.namespace,reference:fr.groups.reference}}tr.parseCaipChainId=ar;function cr(ur){const fr=tr.CAIP_ACCOUNT_ID_REGEX.exec(ur);if(!fr?.groups)throw new Error("Invalid CAIP account ID.");return{address:fr.groups.accountAddress,chainId:fr.groups.chainId,chain:{namespace:fr.groups.namespace,reference:fr.groups.reference}}}tr.parseCaipAccountId=cr;function lr(ur,fr){if(!nr(ur))throw new Error(`Invalid "namespace", must match: ${tr.CAIP_NAMESPACE_REGEX.toString()}`);if(!ir(fr))throw new Error(`Invalid "reference", must match: ${tr.CAIP_REFERENCE_REGEX.toString()}`);return`${ur}:${fr}`}tr.toCaipChainId=lr})(caipTypes$1);var checksum$1={};Object.defineProperty(checksum$1,"__esModule",{value:!0});checksum$1.ChecksumStruct=void 0;const superstruct_1$5=dist$4,base64_1$1=base64$3;checksum$1.ChecksumStruct=(0,superstruct_1$5.size)((0,base64_1$1.base64)((0,superstruct_1$5.string)(),{paddingRequired:!0}),44,44);var coercers$1={};Object.defineProperty(coercers$1,"__esModule",{value:!0});coercers$1.createHex=coercers$1.createBytes=coercers$1.createBigInt=coercers$1.createNumber=void 0;const superstruct_1$4=dist$4,assert_1$4=assert$6,bytes_1$2=requireBytes$1(),hex_1$3=requireHex$1(),NumberLikeStruct$1=(0,superstruct_1$4.union)([(0,superstruct_1$4.number)(),(0,superstruct_1$4.bigint)(),(0,superstruct_1$4.string)(),hex_1$3.StrictHexStruct]),NumberCoercer$1=(0,superstruct_1$4.coerce)((0,superstruct_1$4.number)(),NumberLikeStruct$1,Number),BigIntCoercer$1=(0,superstruct_1$4.coerce)((0,superstruct_1$4.bigint)(),NumberLikeStruct$1,BigInt);(0,superstruct_1$4.union)([hex_1$3.StrictHexStruct,(0,superstruct_1$4.instance)(Uint8Array)]);const BytesCoercer$1=(0,superstruct_1$4.coerce)((0,superstruct_1$4.instance)(Uint8Array),(0,superstruct_1$4.union)([hex_1$3.StrictHexStruct]),bytes_1$2.hexToBytes),HexCoercer$1=(0,superstruct_1$4.coerce)(hex_1$3.StrictHexStruct,(0,superstruct_1$4.instance)(Uint8Array),bytes_1$2.bytesToHex);function createNumber$1(tr){try{const er=(0,superstruct_1$4.create)(tr,NumberCoercer$1);return(0,assert_1$4.assert)(Number.isFinite(er),`Expected a number-like value, got "${tr}".`),er}catch(er){throw er instanceof superstruct_1$4.StructError?new Error(`Expected a number-like value, got "${tr}".`):er}}coercers$1.createNumber=createNumber$1;function createBigInt$1(tr){try{return(0,superstruct_1$4.create)(tr,BigIntCoercer$1)}catch(er){throw er instanceof superstruct_1$4.StructError?new Error(`Expected a number-like value, got "${String(er.value)}".`):er}}coercers$1.createBigInt=createBigInt$1;function createBytes$1(tr){if(typeof tr=="string"&&tr.toLowerCase()==="0x")return new Uint8Array;try{return(0,superstruct_1$4.create)(tr,BytesCoercer$1)}catch(er){throw er instanceof superstruct_1$4.StructError?new Error(`Expected a bytes-like value, got "${String(er.value)}".`):er}}coercers$1.createBytes=createBytes$1;function createHex$1(tr){if(tr instanceof Uint8Array&&tr.length===0||typeof tr=="string"&&tr.toLowerCase()==="0x")return"0x";try{return(0,superstruct_1$4.create)(tr,HexCoercer$1)}catch(er){throw er instanceof superstruct_1$4.StructError?new Error(`Expected a bytes-like value, got "${String(er.value)}".`):er}}coercers$1.createHex=createHex$1;var collections$1={},__classPrivateFieldGet$1=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(tr,er,rr,nr){if(rr==="a"&&!nr)throw new TypeError("Private accessor was defined without a getter");if(typeof er=="function"?tr!==er||!nr:!er.has(tr))throw new TypeError("Cannot read private member from an object whose class did not declare it");return rr==="m"?nr:rr==="a"?nr.call(tr):nr?nr.value:er.get(tr)},__classPrivateFieldSet$1=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(tr,er,rr,nr,ir){if(nr==="m")throw new TypeError("Private method is not writable");if(nr==="a"&&!ir)throw new TypeError("Private accessor was defined without a setter");if(typeof er=="function"?tr!==er||!ir:!er.has(tr))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nr==="a"?ir.call(tr,rr):ir?ir.value=rr:er.set(tr,rr),rr},_FrozenMap_map$1,_FrozenSet_set$1;Object.defineProperty(collections$1,"__esModule",{value:!0});collections$1.FrozenSet=collections$1.FrozenMap=void 0;let FrozenMap$1=class{get size(){return __classPrivateFieldGet$1(this,_FrozenMap_map$1,"f").size}[(_FrozenMap_map$1=new WeakMap,Symbol.iterator)](){return __classPrivateFieldGet$1(this,_FrozenMap_map$1,"f")[Symbol.iterator]()}constructor(er){_FrozenMap_map$1.set(this,void 0),__classPrivateFieldSet$1(this,_FrozenMap_map$1,new Map(er),"f"),Object.freeze(this)}entries(){return __classPrivateFieldGet$1(this,_FrozenMap_map$1,"f").entries()}forEach(er,rr){return __classPrivateFieldGet$1(this,_FrozenMap_map$1,"f").forEach((nr,ir,or)=>er.call(rr,nr,ir,this))}get(er){return __classPrivateFieldGet$1(this,_FrozenMap_map$1,"f").get(er)}has(er){return __classPrivateFieldGet$1(this,_FrozenMap_map$1,"f").has(er)}keys(){return __classPrivateFieldGet$1(this,_FrozenMap_map$1,"f").keys()}values(){return __classPrivateFieldGet$1(this,_FrozenMap_map$1,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([er,rr])=>`${String(er)} => ${String(rr)}`).join(", ")} `:""}}`}};collections$1.FrozenMap=FrozenMap$1;let FrozenSet$1=class{get size(){return __classPrivateFieldGet$1(this,_FrozenSet_set$1,"f").size}[(_FrozenSet_set$1=new WeakMap,Symbol.iterator)](){return __classPrivateFieldGet$1(this,_FrozenSet_set$1,"f")[Symbol.iterator]()}constructor(er){_FrozenSet_set$1.set(this,void 0),__classPrivateFieldSet$1(this,_FrozenSet_set$1,new Set(er),"f"),Object.freeze(this)}entries(){return __classPrivateFieldGet$1(this,_FrozenSet_set$1,"f").entries()}forEach(er,rr){return __classPrivateFieldGet$1(this,_FrozenSet_set$1,"f").forEach((nr,ir,or)=>er.call(rr,nr,ir,this))}has(er){return __classPrivateFieldGet$1(this,_FrozenSet_set$1,"f").has(er)}keys(){return __classPrivateFieldGet$1(this,_FrozenSet_set$1,"f").keys()}values(){return __classPrivateFieldGet$1(this,_FrozenSet_set$1,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(er=>String(er)).join(", ")} `:""}}`}};collections$1.FrozenSet=FrozenSet$1;Object.freeze(FrozenMap$1);Object.freeze(FrozenMap$1.prototype);Object.freeze(FrozenSet$1);Object.freeze(FrozenSet$1.prototype);var encryptionTypes$1={};Object.defineProperty(encryptionTypes$1,"__esModule",{value:!0});var json$1={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.getJsonRpcIdValidator=tr.assertIsJsonRpcError=tr.isJsonRpcError=tr.assertIsJsonRpcFailure=tr.isJsonRpcFailure=tr.assertIsJsonRpcSuccess=tr.isJsonRpcSuccess=tr.assertIsJsonRpcResponse=tr.isJsonRpcResponse=tr.assertIsPendingJsonRpcResponse=tr.isPendingJsonRpcResponse=tr.JsonRpcResponseStruct=tr.JsonRpcFailureStruct=tr.JsonRpcSuccessStruct=tr.PendingJsonRpcResponseStruct=tr.assertIsJsonRpcRequest=tr.isJsonRpcRequest=tr.assertIsJsonRpcNotification=tr.isJsonRpcNotification=tr.JsonRpcNotificationStruct=tr.JsonRpcRequestStruct=tr.JsonRpcParamsStruct=tr.JsonRpcErrorStruct=tr.JsonRpcIdStruct=tr.JsonRpcVersionStruct=tr.jsonrpc2=tr.getJsonSize=tr.getSafeJson=tr.isValidJson=tr.JsonStruct=tr.UnsafeJsonStruct=tr.exactOptional=tr.object=void 0;const er=dist$4,rr=assert$6,nr=misc$1,ir=Cr=>(0,er.object)(Cr);tr.object=ir;function or({path:Cr,branch:Tr}){const yr=Cr[Cr.length-1];return(0,nr.hasProperty)(Tr[Tr.length-2],yr)}function sr(Cr){return new er.Struct({...Cr,type:`optional ${Cr.type}`,validator:(Tr,yr)=>!or(yr)||Cr.validator(Tr,yr),refiner:(Tr,yr)=>!or(yr)||Cr.refiner(Tr,yr)})}tr.exactOptional=sr;const ar=()=>(0,er.define)("finite number",Cr=>(0,er.is)(Cr,(0,er.number)())&&Number.isFinite(Cr));tr.UnsafeJsonStruct=(0,er.union)([(0,er.literal)(null),(0,er.boolean)(),ar(),(0,er.string)(),(0,er.array)((0,er.lazy)(()=>tr.UnsafeJsonStruct)),(0,er.record)((0,er.string)(),(0,er.lazy)(()=>tr.UnsafeJsonStruct))]),tr.JsonStruct=(0,er.coerce)(tr.UnsafeJsonStruct,(0,er.any)(),Cr=>((0,rr.assertStruct)(Cr,tr.UnsafeJsonStruct),JSON.parse(JSON.stringify(Cr,(Tr,yr)=>{if(!(Tr==="__proto__"||Tr==="constructor"))return yr}))));function cr(Cr){try{return lr(Cr),!0}catch{return!1}}tr.isValidJson=cr;function lr(Cr){return(0,er.create)(Cr,tr.JsonStruct)}tr.getSafeJson=lr;function ur(Cr){(0,rr.assertStruct)(Cr,tr.JsonStruct,"Invalid JSON value");const Tr=JSON.stringify(Cr);return new TextEncoder().encode(Tr).byteLength}tr.getJsonSize=ur,tr.jsonrpc2="2.0",tr.JsonRpcVersionStruct=(0,er.literal)(tr.jsonrpc2),tr.JsonRpcIdStruct=(0,er.nullable)((0,er.union)([(0,er.number)(),(0,er.string)()])),tr.JsonRpcErrorStruct=(0,tr.object)({code:(0,er.integer)(),message:(0,er.string)(),data:sr(tr.JsonStruct),stack:sr((0,er.string)())}),tr.JsonRpcParamsStruct=(0,er.union)([(0,er.record)((0,er.string)(),tr.JsonStruct),(0,er.array)(tr.JsonStruct)]),tr.JsonRpcRequestStruct=(0,tr.object)({id:tr.JsonRpcIdStruct,jsonrpc:tr.JsonRpcVersionStruct,method:(0,er.string)(),params:sr(tr.JsonRpcParamsStruct)}),tr.JsonRpcNotificationStruct=(0,tr.object)({jsonrpc:tr.JsonRpcVersionStruct,method:(0,er.string)(),params:sr(tr.JsonRpcParamsStruct)});function fr(Cr){return(0,er.is)(Cr,tr.JsonRpcNotificationStruct)}tr.isJsonRpcNotification=fr;function dr(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",Tr)}tr.assertIsJsonRpcNotification=dr;function gr(Cr){return(0,er.is)(Cr,tr.JsonRpcRequestStruct)}tr.isJsonRpcRequest=gr;function br(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcRequestStruct,"Invalid JSON-RPC request",Tr)}tr.assertIsJsonRpcRequest=br,tr.PendingJsonRpcResponseStruct=(0,er.object)({id:tr.JsonRpcIdStruct,jsonrpc:tr.JsonRpcVersionStruct,result:(0,er.optional)((0,er.unknown)()),error:(0,er.optional)(tr.JsonRpcErrorStruct)}),tr.JsonRpcSuccessStruct=(0,tr.object)({id:tr.JsonRpcIdStruct,jsonrpc:tr.JsonRpcVersionStruct,result:tr.JsonStruct}),tr.JsonRpcFailureStruct=(0,tr.object)({id:tr.JsonRpcIdStruct,jsonrpc:tr.JsonRpcVersionStruct,error:tr.JsonRpcErrorStruct}),tr.JsonRpcResponseStruct=(0,er.union)([tr.JsonRpcSuccessStruct,tr.JsonRpcFailureStruct]);function vr(Cr){return(0,er.is)(Cr,tr.PendingJsonRpcResponseStruct)}tr.isPendingJsonRpcResponse=vr;function $r(Cr,Tr){(0,rr.assertStruct)(Cr,tr.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",Tr)}tr.assertIsPendingJsonRpcResponse=$r;function Er(Cr){return(0,er.is)(Cr,tr.JsonRpcResponseStruct)}tr.isJsonRpcResponse=Er;function _r(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcResponseStruct,"Invalid JSON-RPC response",Tr)}tr.assertIsJsonRpcResponse=_r;function xr(Cr){return(0,er.is)(Cr,tr.JsonRpcSuccessStruct)}tr.isJsonRpcSuccess=xr;function Ir(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",Tr)}tr.assertIsJsonRpcSuccess=Ir;function Nr(Cr){return(0,er.is)(Cr,tr.JsonRpcFailureStruct)}tr.isJsonRpcFailure=Nr;function Lr(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",Tr)}tr.assertIsJsonRpcFailure=Lr;function jr(Cr){return(0,er.is)(Cr,tr.JsonRpcErrorStruct)}tr.isJsonRpcError=jr;function Or(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcErrorStruct,"Invalid JSON-RPC error",Tr)}tr.assertIsJsonRpcError=Or;function Dr(Cr){const{permitEmptyString:Tr,permitFractions:yr,permitNull:mr}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...Cr};return pr=>!!(typeof pr=="number"&&(yr||Number.isInteger(pr))||typeof pr=="string"&&(Tr||pr.length>0)||mr&&pr===null)}tr.getJsonRpcIdValidator=Dr})(json$1);var keyring$1={};Object.defineProperty(keyring$1,"__esModule",{value:!0});var logging$1={},browser$1={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var tr=1e3,er=tr*60,rr=er*60,nr=rr*24,ir=nr*7,or=nr*365.25;ms=function(ur,fr){fr=fr||{};var dr=typeof ur;if(dr==="string"&&ur.length>0)return sr(ur);if(dr==="number"&&isFinite(ur))return fr.long?cr(ur):ar(ur);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ur))};function sr(ur){if(ur=String(ur),!(ur.length>100)){var fr=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ur);if(fr){var dr=parseFloat(fr[1]),gr=(fr[2]||"ms").toLowerCase();switch(gr){case"years":case"year":case"yrs":case"yr":case"y":return dr*or;case"weeks":case"week":case"w":return dr*ir;case"days":case"day":case"d":return dr*nr;case"hours":case"hour":case"hrs":case"hr":case"h":return dr*rr;case"minutes":case"minute":case"mins":case"min":case"m":return dr*er;case"seconds":case"second":case"secs":case"sec":case"s":return dr*tr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return dr;default:return}}}}function ar(ur){var fr=Math.abs(ur);return fr>=nr?Math.round(ur/nr)+"d":fr>=rr?Math.round(ur/rr)+"h":fr>=er?Math.round(ur/er)+"m":fr>=tr?Math.round(ur/tr)+"s":ur+"ms"}function cr(ur){var fr=Math.abs(ur);return fr>=nr?lr(ur,fr,nr,"day"):fr>=rr?lr(ur,fr,rr,"hour"):fr>=er?lr(ur,fr,er,"minute"):fr>=tr?lr(ur,fr,tr,"second"):ur+" ms"}function lr(ur,fr,dr,gr){var br=fr>=dr*1.5;return Math.round(ur/dr)+" "+gr+(br?"s":"")}return ms}function setup(tr){rr.debug=rr,rr.default=rr,rr.coerce=cr,rr.disable=or,rr.enable=ir,rr.enabled=sr,rr.humanize=requireMs(),rr.destroy=lr,Object.keys(tr).forEach(ur=>{rr[ur]=tr[ur]}),rr.names=[],rr.skips=[],rr.formatters={};function er(ur){let fr=0;for(let dr=0;dr<ur.length;dr++)fr=(fr<<5)-fr+ur.charCodeAt(dr),fr|=0;return rr.colors[Math.abs(fr)%rr.colors.length]}rr.selectColor=er;function rr(ur){let fr,dr=null,gr,br;function vr(...$r){if(!vr.enabled)return;const Er=vr,_r=Number(new Date),xr=_r-(fr||_r);Er.diff=xr,Er.prev=fr,Er.curr=_r,fr=_r,$r[0]=rr.coerce($r[0]),typeof $r[0]!="string"&&$r.unshift("%O");let Ir=0;$r[0]=$r[0].replace(/%([a-zA-Z%])/g,(Lr,jr)=>{if(Lr==="%%")return"%";Ir++;const Or=rr.formatters[jr];if(typeof Or=="function"){const Dr=$r[Ir];Lr=Or.call(Er,Dr),$r.splice(Ir,1),Ir--}return Lr}),rr.formatArgs.call(Er,$r),(Er.log||rr.log).apply(Er,$r)}return vr.namespace=ur,vr.useColors=rr.useColors(),vr.color=rr.selectColor(ur),vr.extend=nr,vr.destroy=rr.destroy,Object.defineProperty(vr,"enabled",{enumerable:!0,configurable:!1,get:()=>dr!==null?dr:(gr!==rr.namespaces&&(gr=rr.namespaces,br=rr.enabled(ur)),br),set:$r=>{dr=$r}}),typeof rr.init=="function"&&rr.init(vr),vr}function nr(ur,fr){const dr=rr(this.namespace+(typeof fr>"u"?":":fr)+ur);return dr.log=this.log,dr}function ir(ur){rr.save(ur),rr.namespaces=ur,rr.names=[],rr.skips=[];let fr;const dr=(typeof ur=="string"?ur:"").split(/[\s,]+/),gr=dr.length;for(fr=0;fr<gr;fr++)dr[fr]&&(ur=dr[fr].replace(/\*/g,".*?"),ur[0]==="-"?rr.skips.push(new RegExp("^"+ur.slice(1)+"$")):rr.names.push(new RegExp("^"+ur+"$")))}function or(){const ur=[...rr.names.map(ar),...rr.skips.map(ar).map(fr=>"-"+fr)].join(",");return rr.enable(""),ur}function sr(ur){if(ur[ur.length-1]==="*")return!0;let fr,dr;for(fr=0,dr=rr.skips.length;fr<dr;fr++)if(rr.skips[fr].test(ur))return!1;for(fr=0,dr=rr.names.length;fr<dr;fr++)if(rr.names[fr].test(ur))return!0;return!1}function ar(ur){return ur.toString().substring(2,ur.toString().length-2).replace(/\.\*\?$/,"*")}function cr(ur){return ur instanceof Error?ur.stack||ur.message:ur}function lr(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return rr.enable(rr.load()),rr}var common=setup;(function(tr,er){var rr={};er.formatArgs=ir,er.save=or,er.load=sr,er.useColors=nr,er.storage=ar(),er.destroy=(()=>{let lr=!1;return()=>{lr||(lr=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),er.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function nr(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let lr;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(lr=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(lr[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ir(lr){if(lr[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+lr[0]+(this.useColors?"%c ":" ")+"+"+tr.exports.humanize(this.diff),!this.useColors)return;const ur="color: "+this.color;lr.splice(1,0,ur,"color: inherit");let fr=0,dr=0;lr[0].replace(/%[a-zA-Z%]/g,gr=>{gr!=="%%"&&(fr++,gr==="%c"&&(dr=fr))}),lr.splice(dr,0,ur)}er.log=console.debug||console.log||(()=>{});function or(lr){try{lr?er.storage.setItem("debug",lr):er.storage.removeItem("debug")}catch{}}function sr(){let lr;try{lr=er.storage.getItem("debug")}catch{}return!lr&&typeof process<"u"&&"env"in process&&(lr=rr.DEBUG),lr}function ar(){try{return localStorage}catch{}}tr.exports=common(er);const{formatters:cr}=tr.exports;cr.j=function(lr){try{return JSON.stringify(lr)}catch(ur){return"[UnexpectedJSONParseError]: "+ur.message}}})(browser$1,browser$1.exports);var browserExports=browser$1.exports,__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(logging$1,"__esModule",{value:!0});logging$1.createModuleLogger=logging$1.createProjectLogger=void 0;const debug_1$3=__importDefault$5(browserExports),globalLogger$1=(0,debug_1$3.default)("metamask");function createProjectLogger$1(tr){return globalLogger$1.extend(tr)}logging$1.createProjectLogger=createProjectLogger$1;function createModuleLogger$1(tr,er){return tr.extend(er)}logging$1.createModuleLogger=createModuleLogger$1;var number$2={};Object.defineProperty(number$2,"__esModule",{value:!0});number$2.hexToBigInt=number$2.hexToNumber=number$2.bigIntToHex=number$2.numberToHex=void 0;const assert_1$3=assert$6,hex_1$2=requireHex$1(),numberToHex$1=tr=>((0,assert_1$3.assert)(typeof tr=="number","Value must be a number."),(0,assert_1$3.assert)(tr>=0,"Value must be a non-negative number."),(0,assert_1$3.assert)(Number.isSafeInteger(tr),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,hex_1$2.add0x)(tr.toString(16)));number$2.numberToHex=numberToHex$1;const bigIntToHex$1=tr=>((0,assert_1$3.assert)(typeof tr=="bigint","Value must be a bigint."),(0,assert_1$3.assert)(tr>=0,"Value must be a non-negative bigint."),(0,hex_1$2.add0x)(tr.toString(16)));number$2.bigIntToHex=bigIntToHex$1;const hexToNumber$1=tr=>{(0,hex_1$2.assertIsHexString)(tr);const er=parseInt(tr,16);return(0,assert_1$3.assert)(Number.isSafeInteger(er),"Value is not a safe integer. Use `hexToBigInt` instead."),er};number$2.hexToNumber=hexToNumber$1;const hexToBigInt$1=tr=>((0,hex_1$2.assertIsHexString)(tr),BigInt((0,hex_1$2.add0x)(tr)));number$2.hexToBigInt=hexToBigInt$1;var opaque$1={};Object.defineProperty(opaque$1,"__esModule",{value:!0});var promise$1={};Object.defineProperty(promise$1,"__esModule",{value:!0});promise$1.createDeferredPromise=void 0;function createDeferredPromise$1({suppressUnhandledRejection:tr=!1}={}){let er,rr;const nr=new Promise((ir,or)=>{er=ir,rr=or});return tr&&nr.catch(ir=>{}),{promise:nr,resolve:er,reject:rr}}promise$1.createDeferredPromise=createDeferredPromise$1;var time$1={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.timeSince=tr.inMilliseconds=tr.Duration=void 0,function(or){or[or.Millisecond=1]="Millisecond",or[or.Second=1e3]="Second",or[or.Minute=6e4]="Minute",or[or.Hour=36e5]="Hour",or[or.Day=864e5]="Day",or[or.Week=6048e5]="Week",or[or.Year=31536e6]="Year"}(tr.Duration||(tr.Duration={}));const er=or=>Number.isInteger(or)&&or>=0,rr=(or,sr)=>{if(!er(or))throw new Error(`"${sr}" must be a non-negative integer. Received: "${or}".`)};function nr(or,sr){return rr(or,"count"),or*sr}tr.inMilliseconds=nr;function ir(or){return rr(or,"timestamp"),Date.now()-or}tr.timeSince=ir})(time$1);var transactionTypes$1={};Object.defineProperty(transactionTypes$1,"__esModule",{value:!0});var versions$1={},re$5={exports:{}};const SEMVER_SPEC_VERSION$1="2.0.0",MAX_LENGTH$3=256,MAX_SAFE_INTEGER$3=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH$1=16,MAX_SAFE_BUILD_LENGTH$1=MAX_LENGTH$3-6,RELEASE_TYPES$1=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var constants$6={MAX_LENGTH:MAX_LENGTH$3,MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH$1,MAX_SAFE_BUILD_LENGTH:MAX_SAFE_BUILD_LENGTH$1,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$3,RELEASE_TYPES:RELEASE_TYPES$1,SEMVER_SPEC_VERSION:SEMVER_SPEC_VERSION$1,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},define_process_env_default$1={};const debug$3=typeof process=="object"&&define_process_env_default$1&&define_process_env_default$1.NODE_DEBUG&&/\bsemver\b/i.test(define_process_env_default$1.NODE_DEBUG)?(...tr)=>console.error("SEMVER",...tr):()=>{};var debug_1$2=debug$3;(function(tr,er){const{MAX_SAFE_COMPONENT_LENGTH:rr,MAX_SAFE_BUILD_LENGTH:nr,MAX_LENGTH:ir}=constants$6,or=debug_1$2;er=tr.exports={};const sr=er.re=[],ar=er.safeRe=[],cr=er.src=[],lr=er.t={};let ur=0;const fr="[a-zA-Z0-9-]",dr=[["\\s",1],["\\d",ir],[fr,nr]],gr=vr=>{for(const[$r,Er]of dr)vr=vr.split(`${$r}*`).join(`${$r}{0,${Er}}`).split(`${$r}+`).join(`${$r}{1,${Er}}`);return vr},br=(vr,$r,Er)=>{const _r=gr($r),xr=ur++;or(vr,xr,$r),lr[vr]=xr,cr[xr]=$r,sr[xr]=new RegExp($r,Er?"g":void 0),ar[xr]=new RegExp(_r,Er?"g":void 0)};br("NUMERICIDENTIFIER","0|[1-9]\\d*"),br("NUMERICIDENTIFIERLOOSE","\\d+"),br("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${fr}*`),br("MAINVERSION",`(${cr[lr.NUMERICIDENTIFIER]})\\.(${cr[lr.NUMERICIDENTIFIER]})\\.(${cr[lr.NUMERICIDENTIFIER]})`),br("MAINVERSIONLOOSE",`(${cr[lr.NUMERICIDENTIFIERLOOSE]})\\.(${cr[lr.NUMERICIDENTIFIERLOOSE]})\\.(${cr[lr.NUMERICIDENTIFIERLOOSE]})`),br("PRERELEASEIDENTIFIER",`(?:${cr[lr.NUMERICIDENTIFIER]}|${cr[lr.NONNUMERICIDENTIFIER]})`),br("PRERELEASEIDENTIFIERLOOSE",`(?:${cr[lr.NUMERICIDENTIFIERLOOSE]}|${cr[lr.NONNUMERICIDENTIFIER]})`),br("PRERELEASE",`(?:-(${cr[lr.PRERELEASEIDENTIFIER]}(?:\\.${cr[lr.PRERELEASEIDENTIFIER]})*))`),br("PRERELEASELOOSE",`(?:-?(${cr[lr.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${cr[lr.PRERELEASEIDENTIFIERLOOSE]})*))`),br("BUILDIDENTIFIER",`${fr}+`),br("BUILD",`(?:\\+(${cr[lr.BUILDIDENTIFIER]}(?:\\.${cr[lr.BUILDIDENTIFIER]})*))`),br("FULLPLAIN",`v?${cr[lr.MAINVERSION]}${cr[lr.PRERELEASE]}?${cr[lr.BUILD]}?`),br("FULL",`^${cr[lr.FULLPLAIN]}$`),br("LOOSEPLAIN",`[v=\\s]*${cr[lr.MAINVERSIONLOOSE]}${cr[lr.PRERELEASELOOSE]}?${cr[lr.BUILD]}?`),br("LOOSE",`^${cr[lr.LOOSEPLAIN]}$`),br("GTLT","((?:<|>)?=?)"),br("XRANGEIDENTIFIERLOOSE",`${cr[lr.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),br("XRANGEIDENTIFIER",`${cr[lr.NUMERICIDENTIFIER]}|x|X|\\*`),br("XRANGEPLAIN",`[v=\\s]*(${cr[lr.XRANGEIDENTIFIER]})(?:\\.(${cr[lr.XRANGEIDENTIFIER]})(?:\\.(${cr[lr.XRANGEIDENTIFIER]})(?:${cr[lr.PRERELEASE]})?${cr[lr.BUILD]}?)?)?`),br("XRANGEPLAINLOOSE",`[v=\\s]*(${cr[lr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${cr[lr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${cr[lr.XRANGEIDENTIFIERLOOSE]})(?:${cr[lr.PRERELEASELOOSE]})?${cr[lr.BUILD]}?)?)?`),br("XRANGE",`^${cr[lr.GTLT]}\\s*${cr[lr.XRANGEPLAIN]}$`),br("XRANGELOOSE",`^${cr[lr.GTLT]}\\s*${cr[lr.XRANGEPLAINLOOSE]}$`),br("COERCEPLAIN",`(^|[^\\d])(\\d{1,${rr}})(?:\\.(\\d{1,${rr}}))?(?:\\.(\\d{1,${rr}}))?`),br("COERCE",`${cr[lr.COERCEPLAIN]}(?:$|[^\\d])`),br("COERCEFULL",cr[lr.COERCEPLAIN]+`(?:${cr[lr.PRERELEASE]})?(?:${cr[lr.BUILD]})?(?:$|[^\\d])`),br("COERCERTL",cr[lr.COERCE],!0),br("COERCERTLFULL",cr[lr.COERCEFULL],!0),br("LONETILDE","(?:~>?)"),br("TILDETRIM",`(\\s*)${cr[lr.LONETILDE]}\\s+`,!0),er.tildeTrimReplace="$1~",br("TILDE",`^${cr[lr.LONETILDE]}${cr[lr.XRANGEPLAIN]}$`),br("TILDELOOSE",`^${cr[lr.LONETILDE]}${cr[lr.XRANGEPLAINLOOSE]}$`),br("LONECARET","(?:\\^)"),br("CARETTRIM",`(\\s*)${cr[lr.LONECARET]}\\s+`,!0),er.caretTrimReplace="$1^",br("CARET",`^${cr[lr.LONECARET]}${cr[lr.XRANGEPLAIN]}$`),br("CARETLOOSE",`^${cr[lr.LONECARET]}${cr[lr.XRANGEPLAINLOOSE]}$`),br("COMPARATORLOOSE",`^${cr[lr.GTLT]}\\s*(${cr[lr.LOOSEPLAIN]})$|^$`),br("COMPARATOR",`^${cr[lr.GTLT]}\\s*(${cr[lr.FULLPLAIN]})$|^$`),br("COMPARATORTRIM",`(\\s*)${cr[lr.GTLT]}\\s*(${cr[lr.LOOSEPLAIN]}|${cr[lr.XRANGEPLAIN]})`,!0),er.comparatorTrimReplace="$1$2$3",br("HYPHENRANGE",`^\\s*(${cr[lr.XRANGEPLAIN]})\\s+-\\s+(${cr[lr.XRANGEPLAIN]})\\s*$`),br("HYPHENRANGELOOSE",`^\\s*(${cr[lr.XRANGEPLAINLOOSE]})\\s+-\\s+(${cr[lr.XRANGEPLAINLOOSE]})\\s*$`),br("STAR","(<|>)?=?\\s*\\*"),br("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),br("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$5,re$5.exports);var reExports$1=re$5.exports;const looseOption$1=Object.freeze({loose:!0}),emptyOpts$1=Object.freeze({}),parseOptions$3=tr=>tr?typeof tr!="object"?looseOption$1:tr:emptyOpts$1;var parseOptions_1$1=parseOptions$3;const numeric$1=/^[0-9]+$/,compareIdentifiers$3=(tr,er)=>{const rr=numeric$1.test(tr),nr=numeric$1.test(er);return rr&&nr&&(tr=+tr,er=+er),tr===er?0:rr&&!nr?-1:nr&&!rr?1:tr<er?-1:1},rcompareIdentifiers$1=(tr,er)=>compareIdentifiers$3(er,tr);var identifiers$3={compareIdentifiers:compareIdentifiers$3,rcompareIdentifiers:rcompareIdentifiers$1};const debug$2=debug_1$2,{MAX_LENGTH:MAX_LENGTH$2,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$2}=constants$6,{safeRe:re$4,t:t$5}=reExports$1,parseOptions$2=parseOptions_1$1,{compareIdentifiers:compareIdentifiers$2}=identifiers$3;let SemVer$r=class Xs{constructor(er,rr){if(rr=parseOptions$2(rr),er instanceof Xs){if(er.loose===!!rr.loose&&er.includePrerelease===!!rr.includePrerelease)return er;er=er.version}else if(typeof er!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof er}".`);if(er.length>MAX_LENGTH$2)throw new TypeError(`version is longer than ${MAX_LENGTH$2} characters`);debug$2("SemVer",er,rr),this.options=rr,this.loose=!!rr.loose,this.includePrerelease=!!rr.includePrerelease;const nr=er.trim().match(rr.loose?re$4[t$5.LOOSE]:re$4[t$5.FULL]);if(!nr)throw new TypeError(`Invalid Version: ${er}`);if(this.raw=er,this.major=+nr[1],this.minor=+nr[2],this.patch=+nr[3],this.major>MAX_SAFE_INTEGER$2||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER$2||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER$2||this.patch<0)throw new TypeError("Invalid patch version");nr[4]?this.prerelease=nr[4].split(".").map(ir=>{if(/^[0-9]+$/.test(ir)){const or=+ir;if(or>=0&&or<MAX_SAFE_INTEGER$2)return or}return ir}):this.prerelease=[],this.build=nr[5]?nr[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(er){if(debug$2("SemVer.compare",this.version,this.options,er),!(er instanceof Xs)){if(typeof er=="string"&&er===this.version)return 0;er=new Xs(er,this.options)}return er.version===this.version?0:this.compareMain(er)||this.comparePre(er)}compareMain(er){return er instanceof Xs||(er=new Xs(er,this.options)),compareIdentifiers$2(this.major,er.major)||compareIdentifiers$2(this.minor,er.minor)||compareIdentifiers$2(this.patch,er.patch)}comparePre(er){if(er instanceof Xs||(er=new Xs(er,this.options)),this.prerelease.length&&!er.prerelease.length)return-1;if(!this.prerelease.length&&er.prerelease.length)return 1;if(!this.prerelease.length&&!er.prerelease.length)return 0;let rr=0;do{const nr=this.prerelease[rr],ir=er.prerelease[rr];if(debug$2("prerelease compare",rr,nr,ir),nr===void 0&&ir===void 0)return 0;if(ir===void 0)return 1;if(nr===void 0)return-1;if(nr===ir)continue;return compareIdentifiers$2(nr,ir)}while(++rr)}compareBuild(er){er instanceof Xs||(er=new Xs(er,this.options));let rr=0;do{const nr=this.build[rr],ir=er.build[rr];if(debug$2("build compare",rr,nr,ir),nr===void 0&&ir===void 0)return 0;if(ir===void 0)return 1;if(nr===void 0)return-1;if(nr===ir)continue;return compareIdentifiers$2(nr,ir)}while(++rr)}inc(er,rr,nr){switch(er){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",rr,nr);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",rr,nr);break;case"prepatch":this.prerelease.length=0,this.inc("patch",rr,nr),this.inc("pre",rr,nr);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",rr,nr),this.inc("pre",rr,nr);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const ir=Number(nr)?1:0;if(!rr&&nr===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[ir];else{let or=this.prerelease.length;for(;--or>=0;)typeof this.prerelease[or]=="number"&&(this.prerelease[or]++,or=-2);if(or===-1){if(rr===this.prerelease.join(".")&&nr===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(ir)}}if(rr){let or=[rr,ir];nr===!1&&(or=[rr]),compareIdentifiers$2(this.prerelease[0],rr)===0?isNaN(this.prerelease[1])&&(this.prerelease=or):this.prerelease=or}break}default:throw new Error(`invalid increment argument: ${er}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var semver$3=SemVer$r;const SemVer$q=semver$3,parse$d=(tr,er,rr=!1)=>{if(tr instanceof SemVer$q)return tr;try{return new SemVer$q(tr,er)}catch(nr){if(!rr)return null;throw nr}};var parse_1$1=parse$d;const parse$c=parse_1$1,valid$5=(tr,er)=>{const rr=parse$c(tr,er);return rr?rr.version:null};var valid_1$1=valid$5;const parse$b=parse_1$1,clean$3=(tr,er)=>{const rr=parse$b(tr.trim().replace(/^[=v]+/,""),er);return rr?rr.version:null};var clean_1$1=clean$3;const SemVer$p=semver$3,inc$3=(tr,er,rr,nr,ir)=>{typeof rr=="string"&&(ir=nr,nr=rr,rr=void 0);try{return new SemVer$p(tr instanceof SemVer$p?tr.version:tr,rr).inc(er,nr,ir).version}catch{return null}};var inc_1$1=inc$3;const parse$a=parse_1$1,diff$3=(tr,er)=>{const rr=parse$a(tr,null,!0),nr=parse$a(er,null,!0),ir=rr.compare(nr);if(ir===0)return null;const or=ir>0,sr=or?rr:nr,ar=or?nr:rr,cr=!!sr.prerelease.length;if(!!ar.prerelease.length&&!cr)return!ar.patch&&!ar.minor?"major":sr.patch?"patch":sr.minor?"minor":"major";const ur=cr?"pre":"";return rr.major!==nr.major?ur+"major":rr.minor!==nr.minor?ur+"minor":rr.patch!==nr.patch?ur+"patch":"prerelease"};var diff_1$1=diff$3;const SemVer$o=semver$3,major$3=(tr,er)=>new SemVer$o(tr,er).major;var major_1$1=major$3;const SemVer$n=semver$3,minor$3=(tr,er)=>new SemVer$n(tr,er).minor;var minor_1$1=minor$3;const SemVer$m=semver$3,patch$3=(tr,er)=>new SemVer$m(tr,er).patch;var patch_1$1=patch$3;const parse$9=parse_1$1,prerelease$3=(tr,er)=>{const rr=parse$9(tr,er);return rr&&rr.prerelease.length?rr.prerelease:null};var prerelease_1$1=prerelease$3;const SemVer$l=semver$3,compare$o=(tr,er,rr)=>new SemVer$l(tr,rr).compare(new SemVer$l(er,rr));var compare_1$1=compare$o;const compare$n=compare_1$1,rcompare$3=(tr,er,rr)=>compare$n(er,tr,rr);var rcompare_1$1=rcompare$3;const compare$m=compare_1$1,compareLoose$3=(tr,er)=>compare$m(tr,er,!0);var compareLoose_1$1=compareLoose$3;const SemVer$k=semver$3,compareBuild$7=(tr,er,rr)=>{const nr=new SemVer$k(tr,rr),ir=new SemVer$k(er,rr);return nr.compare(ir)||nr.compareBuild(ir)};var compareBuild_1$1=compareBuild$7;const compareBuild$6=compareBuild_1$1,sort$3=(tr,er)=>tr.sort((rr,nr)=>compareBuild$6(rr,nr,er));var sort_1$1=sort$3;const compareBuild$5=compareBuild_1$1,rsort$3=(tr,er)=>tr.sort((rr,nr)=>compareBuild$5(nr,rr,er));var rsort_1$1=rsort$3;const compare$l=compare_1$1,gt$9=(tr,er,rr)=>compare$l(tr,er,rr)>0;var gt_1$1=gt$9;const compare$k=compare_1$1,lt$7=(tr,er,rr)=>compare$k(tr,er,rr)<0;var lt_1$1=lt$7;const compare$j=compare_1$1,eq$5=(tr,er,rr)=>compare$j(tr,er,rr)===0;var eq_1$1=eq$5;const compare$i=compare_1$1,neq$5=(tr,er,rr)=>compare$i(tr,er,rr)!==0;var neq_1$1=neq$5;const compare$h=compare_1$1,gte$7=(tr,er,rr)=>compare$h(tr,er,rr)>=0;var gte_1$1=gte$7;const compare$g=compare_1$1,lte$7=(tr,er,rr)=>compare$g(tr,er,rr)<=0;var lte_1$1=lte$7;const eq$4=eq_1$1,neq$4=neq_1$1,gt$8=gt_1$1,gte$6=gte_1$1,lt$6=lt_1$1,lte$6=lte_1$1,cmp$3=(tr,er,rr,nr)=>{switch(er){case"===":return typeof tr=="object"&&(tr=tr.version),typeof rr=="object"&&(rr=rr.version),tr===rr;case"!==":return typeof tr=="object"&&(tr=tr.version),typeof rr=="object"&&(rr=rr.version),tr!==rr;case"":case"=":case"==":return eq$4(tr,rr,nr);case"!=":return neq$4(tr,rr,nr);case">":return gt$8(tr,rr,nr);case">=":return gte$6(tr,rr,nr);case"<":return lt$6(tr,rr,nr);case"<=":return lte$6(tr,rr,nr);default:throw new TypeError(`Invalid operator: ${er}`)}};var cmp_1$1=cmp$3;const SemVer$j=semver$3,parse$8=parse_1$1,{safeRe:re$3,t:t$4}=reExports$1,coerce$3=(tr,er)=>{if(tr instanceof SemVer$j)return tr;if(typeof tr=="number"&&(tr=String(tr)),typeof tr!="string")return null;er=er||{};let rr=null;if(!er.rtl)rr=tr.match(er.includePrerelease?re$3[t$4.COERCEFULL]:re$3[t$4.COERCE]);else{const cr=er.includePrerelease?re$3[t$4.COERCERTLFULL]:re$3[t$4.COERCERTL];let lr;for(;(lr=cr.exec(tr))&&(!rr||rr.index+rr[0].length!==tr.length);)(!rr||lr.index+lr[0].length!==rr.index+rr[0].length)&&(rr=lr),cr.lastIndex=lr.index+lr[1].length+lr[2].length;cr.lastIndex=-1}if(rr===null)return null;const nr=rr[2],ir=rr[3]||"0",or=rr[4]||"0",sr=er.includePrerelease&&rr[5]?`-${rr[5]}`:"",ar=er.includePrerelease&&rr[6]?`+${rr[6]}`:"";return parse$8(`${nr}.${ir}.${or}${sr}${ar}`,er)};var coerce_1$1=coerce$3;let LRUCache$1=class{constructor(){this.max=1e3,this.map=new Map}get(er){const rr=this.map.get(er);if(rr!==void 0)return this.map.delete(er),this.map.set(er,rr),rr}delete(er){return this.map.delete(er)}set(er,rr){if(!this.delete(er)&&rr!==void 0){if(this.map.size>=this.max){const ir=this.map.keys().next().value;this.delete(ir)}this.map.set(er,rr)}return this}};var lrucache$1=LRUCache$1,range$2,hasRequiredRange$1;function requireRange$1(){if(hasRequiredRange$1)return range$2;hasRequiredRange$1=1;const tr=/\s+/g;class er{constructor(pr,wr){if(wr=ir(wr),pr instanceof er)return pr.loose===!!wr.loose&&pr.includePrerelease===!!wr.includePrerelease?pr:new er(pr.raw,wr);if(pr instanceof or)return this.raw=pr.value,this.set=[[pr]],this.formatted=void 0,this;if(this.options=wr,this.loose=!!wr.loose,this.includePrerelease=!!wr.includePrerelease,this.raw=pr.trim().replace(tr," "),this.set=this.raw.split("||").map(Ar=>this.parseRange(Ar.trim())).filter(Ar=>Ar.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Ar=this.set[0];if(this.set=this.set.filter(Rr=>!vr(Rr[0])),this.set.length===0)this.set=[Ar];else if(this.set.length>1){for(const Rr of this.set)if(Rr.length===1&&$r(Rr[0])){this.set=[Rr];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let pr=0;pr<this.set.length;pr++){pr>0&&(this.formatted+="||");const wr=this.set[pr];for(let Ar=0;Ar<wr.length;Ar++)Ar>0&&(this.formatted+=" "),this.formatted+=wr[Ar].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(pr){const Ar=((this.options.includePrerelease&&gr)|(this.options.loose&&br))+":"+pr,Rr=nr.get(Ar);if(Rr)return Rr;const Pr=this.options.loose,Sr=Pr?cr[lr.HYPHENRANGELOOSE]:cr[lr.HYPHENRANGE];pr=pr.replace(Sr,yr(this.options.includePrerelease)),sr("hyphen replace",pr),pr=pr.replace(cr[lr.COMPARATORTRIM],ur),sr("comparator trim",pr),pr=pr.replace(cr[lr.TILDETRIM],fr),sr("tilde trim",pr),pr=pr.replace(cr[lr.CARETTRIM],dr),sr("caret trim",pr);let Mr=pr.split(" ").map(qr=>_r(qr,this.options)).join(" ").split(/\s+/).map(qr=>Tr(qr,this.options));Pr&&(Mr=Mr.filter(qr=>(sr("loose invalid filter",qr,this.options),!!qr.match(cr[lr.COMPARATORLOOSE])))),sr("range list",Mr);const Br=new Map,Ur=Mr.map(qr=>new or(qr,this.options));for(const qr of Ur){if(vr(qr))return[qr];Br.set(qr.value,qr)}Br.size>1&&Br.has("")&&Br.delete("");const Jr=[...Br.values()];return nr.set(Ar,Jr),Jr}intersects(pr,wr){if(!(pr instanceof er))throw new TypeError("a Range is required");return this.set.some(Ar=>Er(Ar,wr)&&pr.set.some(Rr=>Er(Rr,wr)&&Ar.every(Pr=>Rr.every(Sr=>Pr.intersects(Sr,wr)))))}test(pr){if(!pr)return!1;if(typeof pr=="string")try{pr=new ar(pr,this.options)}catch{return!1}for(let wr=0;wr<this.set.length;wr++)if(mr(this.set[wr],pr,this.options))return!0;return!1}}range$2=er;const rr=lrucache$1,nr=new rr,ir=parseOptions_1$1,or=requireComparator$1(),sr=debug_1$2,ar=semver$3,{safeRe:cr,t:lr,comparatorTrimReplace:ur,tildeTrimReplace:fr,caretTrimReplace:dr}=reExports$1,{FLAG_INCLUDE_PRERELEASE:gr,FLAG_LOOSE:br}=constants$6,vr=hr=>hr.value==="<0.0.0-0",$r=hr=>hr.value==="",Er=(hr,pr)=>{let wr=!0;const Ar=hr.slice();let Rr=Ar.pop();for(;wr&&Ar.length;)wr=Ar.every(Pr=>Rr.intersects(Pr,pr)),Rr=Ar.pop();return wr},_r=(hr,pr)=>(sr("comp",hr,pr),hr=Lr(hr,pr),sr("caret",hr),hr=Ir(hr,pr),sr("tildes",hr),hr=Or(hr,pr),sr("xrange",hr),hr=Cr(hr,pr),sr("stars",hr),hr),xr=hr=>!hr||hr.toLowerCase()==="x"||hr==="*",Ir=(hr,pr)=>hr.trim().split(/\s+/).map(wr=>Nr(wr,pr)).join(" "),Nr=(hr,pr)=>{const wr=pr.loose?cr[lr.TILDELOOSE]:cr[lr.TILDE];return hr.replace(wr,(Ar,Rr,Pr,Sr,Mr)=>{sr("tilde",hr,Ar,Rr,Pr,Sr,Mr);let Br;return xr(Rr)?Br="":xr(Pr)?Br=`>=${Rr}.0.0 <${+Rr+1}.0.0-0`:xr(Sr)?Br=`>=${Rr}.${Pr}.0 <${Rr}.${+Pr+1}.0-0`:Mr?(sr("replaceTilde pr",Mr),Br=`>=${Rr}.${Pr}.${Sr}-${Mr} <${Rr}.${+Pr+1}.0-0`):Br=`>=${Rr}.${Pr}.${Sr} <${Rr}.${+Pr+1}.0-0`,sr("tilde return",Br),Br})},Lr=(hr,pr)=>hr.trim().split(/\s+/).map(wr=>jr(wr,pr)).join(" "),jr=(hr,pr)=>{sr("caret",hr,pr);const wr=pr.loose?cr[lr.CARETLOOSE]:cr[lr.CARET],Ar=pr.includePrerelease?"-0":"";return hr.replace(wr,(Rr,Pr,Sr,Mr,Br)=>{sr("caret",hr,Rr,Pr,Sr,Mr,Br);let Ur;return xr(Pr)?Ur="":xr(Sr)?Ur=`>=${Pr}.0.0${Ar} <${+Pr+1}.0.0-0`:xr(Mr)?Pr==="0"?Ur=`>=${Pr}.${Sr}.0${Ar} <${Pr}.${+Sr+1}.0-0`:Ur=`>=${Pr}.${Sr}.0${Ar} <${+Pr+1}.0.0-0`:Br?(sr("replaceCaret pr",Br),Pr==="0"?Sr==="0"?Ur=`>=${Pr}.${Sr}.${Mr}-${Br} <${Pr}.${Sr}.${+Mr+1}-0`:Ur=`>=${Pr}.${Sr}.${Mr}-${Br} <${Pr}.${+Sr+1}.0-0`:Ur=`>=${Pr}.${Sr}.${Mr}-${Br} <${+Pr+1}.0.0-0`):(sr("no pr"),Pr==="0"?Sr==="0"?Ur=`>=${Pr}.${Sr}.${Mr}${Ar} <${Pr}.${Sr}.${+Mr+1}-0`:Ur=`>=${Pr}.${Sr}.${Mr}${Ar} <${Pr}.${+Sr+1}.0-0`:Ur=`>=${Pr}.${Sr}.${Mr} <${+Pr+1}.0.0-0`),sr("caret return",Ur),Ur})},Or=(hr,pr)=>(sr("replaceXRanges",hr,pr),hr.split(/\s+/).map(wr=>Dr(wr,pr)).join(" ")),Dr=(hr,pr)=>{hr=hr.trim();const wr=pr.loose?cr[lr.XRANGELOOSE]:cr[lr.XRANGE];return hr.replace(wr,(Ar,Rr,Pr,Sr,Mr,Br)=>{sr("xRange",hr,Ar,Rr,Pr,Sr,Mr,Br);const Ur=xr(Pr),Jr=Ur||xr(Sr),qr=Jr||xr(Mr),zr=qr;return Rr==="="&&zr&&(Rr=""),Br=pr.includePrerelease?"-0":"",Ur?Rr===">"||Rr==="<"?Ar="<0.0.0-0":Ar="*":Rr&&zr?(Jr&&(Sr=0),Mr=0,Rr===">"?(Rr=">=",Jr?(Pr=+Pr+1,Sr=0,Mr=0):(Sr=+Sr+1,Mr=0)):Rr==="<="&&(Rr="<",Jr?Pr=+Pr+1:Sr=+Sr+1),Rr==="<"&&(Br="-0"),Ar=`${Rr+Pr}.${Sr}.${Mr}${Br}`):Jr?Ar=`>=${Pr}.0.0${Br} <${+Pr+1}.0.0-0`:qr&&(Ar=`>=${Pr}.${Sr}.0${Br} <${Pr}.${+Sr+1}.0-0`),sr("xRange return",Ar),Ar})},Cr=(hr,pr)=>(sr("replaceStars",hr,pr),hr.trim().replace(cr[lr.STAR],"")),Tr=(hr,pr)=>(sr("replaceGTE0",hr,pr),hr.trim().replace(cr[pr.includePrerelease?lr.GTE0PRE:lr.GTE0],"")),yr=hr=>(pr,wr,Ar,Rr,Pr,Sr,Mr,Br,Ur,Jr,qr,zr)=>(xr(Ar)?wr="":xr(Rr)?wr=`>=${Ar}.0.0${hr?"-0":""}`:xr(Pr)?wr=`>=${Ar}.${Rr}.0${hr?"-0":""}`:Sr?wr=`>=${wr}`:wr=`>=${wr}${hr?"-0":""}`,xr(Ur)?Br="":xr(Jr)?Br=`<${+Ur+1}.0.0-0`:xr(qr)?Br=`<${Ur}.${+Jr+1}.0-0`:zr?Br=`<=${Ur}.${Jr}.${qr}-${zr}`:hr?Br=`<${Ur}.${Jr}.${+qr+1}-0`:Br=`<=${Br}`,`${wr} ${Br}`.trim()),mr=(hr,pr,wr)=>{for(let Ar=0;Ar<hr.length;Ar++)if(!hr[Ar].test(pr))return!1;if(pr.prerelease.length&&!wr.includePrerelease){for(let Ar=0;Ar<hr.length;Ar++)if(sr(hr[Ar].semver),hr[Ar].semver!==or.ANY&&hr[Ar].semver.prerelease.length>0){const Rr=hr[Ar].semver;if(Rr.major===pr.major&&Rr.minor===pr.minor&&Rr.patch===pr.patch)return!0}return!1}return!0};return range$2}var comparator$1,hasRequiredComparator$1;function requireComparator$1(){if(hasRequiredComparator$1)return comparator$1;hasRequiredComparator$1=1;const tr=Symbol("SemVer ANY");class er{static get ANY(){return tr}constructor(ur,fr){if(fr=rr(fr),ur instanceof er){if(ur.loose===!!fr.loose)return ur;ur=ur.value}ur=ur.trim().split(/\s+/).join(" "),sr("comparator",ur,fr),this.options=fr,this.loose=!!fr.loose,this.parse(ur),this.semver===tr?this.value="":this.value=this.operator+this.semver.version,sr("comp",this)}parse(ur){const fr=this.options.loose?nr[ir.COMPARATORLOOSE]:nr[ir.COMPARATOR],dr=ur.match(fr);if(!dr)throw new TypeError(`Invalid comparator: ${ur}`);this.operator=dr[1]!==void 0?dr[1]:"",this.operator==="="&&(this.operator=""),dr[2]?this.semver=new ar(dr[2],this.options.loose):this.semver=tr}toString(){return this.value}test(ur){if(sr("Comparator.test",ur,this.options.loose),this.semver===tr||ur===tr)return!0;if(typeof ur=="string")try{ur=new ar(ur,this.options)}catch{return!1}return or(ur,this.operator,this.semver,this.options)}intersects(ur,fr){if(!(ur instanceof er))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new cr(ur.value,fr).test(this.value):ur.operator===""?ur.value===""?!0:new cr(this.value,fr).test(ur.semver):(fr=rr(fr),fr.includePrerelease&&(this.value==="<0.0.0-0"||ur.value==="<0.0.0-0")||!fr.includePrerelease&&(this.value.startsWith("<0.0.0")||ur.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&ur.operator.startsWith(">")||this.operator.startsWith("<")&&ur.operator.startsWith("<")||this.semver.version===ur.semver.version&&this.operator.includes("=")&&ur.operator.includes("=")||or(this.semver,"<",ur.semver,fr)&&this.operator.startsWith(">")&&ur.operator.startsWith("<")||or(this.semver,">",ur.semver,fr)&&this.operator.startsWith("<")&&ur.operator.startsWith(">")))}}comparator$1=er;const rr=parseOptions_1$1,{safeRe:nr,t:ir}=reExports$1,or=cmp_1$1,sr=debug_1$2,ar=semver$3,cr=requireRange$1();return comparator$1}const Range$j=requireRange$1(),satisfies$9=(tr,er,rr)=>{try{er=new Range$j(er,rr)}catch{return!1}return er.test(tr)};var satisfies_1$1=satisfies$9;const Range$i=requireRange$1(),toComparators$3=(tr,er)=>new Range$i(tr,er).set.map(rr=>rr.map(nr=>nr.value).join(" ").trim().split(" "));var toComparators_1$1=toComparators$3;const SemVer$i=semver$3,Range$h=requireRange$1(),maxSatisfying$3=(tr,er,rr)=>{let nr=null,ir=null,or=null;try{or=new Range$h(er,rr)}catch{return null}return tr.forEach(sr=>{or.test(sr)&&(!nr||ir.compare(sr)===-1)&&(nr=sr,ir=new SemVer$i(nr,rr))}),nr};var maxSatisfying_1$1=maxSatisfying$3;const SemVer$h=semver$3,Range$g=requireRange$1(),minSatisfying$3=(tr,er,rr)=>{let nr=null,ir=null,or=null;try{or=new Range$g(er,rr)}catch{return null}return tr.forEach(sr=>{or.test(sr)&&(!nr||ir.compare(sr)===1)&&(nr=sr,ir=new SemVer$h(nr,rr))}),nr};var minSatisfying_1$1=minSatisfying$3;const SemVer$g=semver$3,Range$f=requireRange$1(),gt$7=gt_1$1,minVersion$3=(tr,er)=>{tr=new Range$f(tr,er);let rr=new SemVer$g("0.0.0");if(tr.test(rr)||(rr=new SemVer$g("0.0.0-0"),tr.test(rr)))return rr;rr=null;for(let nr=0;nr<tr.set.length;++nr){const ir=tr.set[nr];let or=null;ir.forEach(sr=>{const ar=new SemVer$g(sr.semver.version);switch(sr.operator){case">":ar.prerelease.length===0?ar.patch++:ar.prerelease.push(0),ar.raw=ar.format();case"":case">=":(!or||gt$7(ar,or))&&(or=ar);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${sr.operator}`)}}),or&&(!rr||gt$7(rr,or))&&(rr=or)}return rr&&tr.test(rr)?rr:null};var minVersion_1$1=minVersion$3;const Range$e=requireRange$1(),validRange$3=(tr,er)=>{try{return new Range$e(tr,er).range||"*"}catch{return null}};var valid$4=validRange$3;const SemVer$f=semver$3,Comparator$5=requireComparator$1(),{ANY:ANY$3}=Comparator$5,Range$d=requireRange$1(),satisfies$8=satisfies_1$1,gt$6=gt_1$1,lt$5=lt_1$1,lte$5=lte_1$1,gte$5=gte_1$1,outside$7=(tr,er,rr,nr)=>{tr=new SemVer$f(tr,nr),er=new Range$d(er,nr);let ir,or,sr,ar,cr;switch(rr){case">":ir=gt$6,or=lte$5,sr=lt$5,ar=">",cr=">=";break;case"<":ir=lt$5,or=gte$5,sr=gt$6,ar="<",cr="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies$8(tr,er,nr))return!1;for(let lr=0;lr<er.set.length;++lr){const ur=er.set[lr];let fr=null,dr=null;if(ur.forEach(gr=>{gr.semver===ANY$3&&(gr=new Comparator$5(">=0.0.0")),fr=fr||gr,dr=dr||gr,ir(gr.semver,fr.semver,nr)?fr=gr:sr(gr.semver,dr.semver,nr)&&(dr=gr)}),fr.operator===ar||fr.operator===cr||(!dr.operator||dr.operator===ar)&&or(tr,dr.semver))return!1;if(dr.operator===cr&&sr(tr,dr.semver))return!1}return!0};var outside_1$1=outside$7;const outside$6=outside_1$1,gtr$3=(tr,er,rr)=>outside$6(tr,er,">",rr);var gtr_1$1=gtr$3;const outside$5=outside_1$1,ltr$3=(tr,er,rr)=>outside$5(tr,er,"<",rr);var ltr_1$1=ltr$3;const Range$c=requireRange$1(),intersects$3=(tr,er,rr)=>(tr=new Range$c(tr,rr),er=new Range$c(er,rr),tr.intersects(er,rr));var intersects_1$1=intersects$3;const satisfies$7=satisfies_1$1,compare$f=compare_1$1;var simplify$1=(tr,er,rr)=>{const nr=[];let ir=null,or=null;const sr=tr.sort((ur,fr)=>compare$f(ur,fr,rr));for(const ur of sr)satisfies$7(ur,er,rr)?(or=ur,ir||(ir=ur)):(or&&nr.push([ir,or]),or=null,ir=null);ir&&nr.push([ir,null]);const ar=[];for(const[ur,fr]of nr)ur===fr?ar.push(ur):!fr&&ur===sr[0]?ar.push("*"):fr?ur===sr[0]?ar.push(`<=${fr}`):ar.push(`${ur} - ${fr}`):ar.push(`>=${ur}`);const cr=ar.join(" || "),lr=typeof er.raw=="string"?er.raw:String(er);return cr.length<lr.length?cr:er};const Range$b=requireRange$1(),Comparator$4=requireComparator$1(),{ANY:ANY$2}=Comparator$4,satisfies$6=satisfies_1$1,compare$e=compare_1$1,subset$3=(tr,er,rr={})=>{if(tr===er)return!0;tr=new Range$b(tr,rr),er=new Range$b(er,rr);let nr=!1;e:for(const ir of tr.set){for(const or of er.set){const sr=simpleSubset$1(ir,or,rr);if(nr=nr||sr!==null,sr)continue e}if(nr)return!1}return!0},minimumVersionWithPreRelease$1=[new Comparator$4(">=0.0.0-0")],minimumVersion$1=[new Comparator$4(">=0.0.0")],simpleSubset$1=(tr,er,rr)=>{if(tr===er)return!0;if(tr.length===1&&tr[0].semver===ANY$2){if(er.length===1&&er[0].semver===ANY$2)return!0;rr.includePrerelease?tr=minimumVersionWithPreRelease$1:tr=minimumVersion$1}if(er.length===1&&er[0].semver===ANY$2){if(rr.includePrerelease)return!0;er=minimumVersion$1}const nr=new Set;let ir,or;for(const gr of tr)gr.operator===">"||gr.operator===">="?ir=higherGT$1(ir,gr,rr):gr.operator==="<"||gr.operator==="<="?or=lowerLT$1(or,gr,rr):nr.add(gr.semver);if(nr.size>1)return null;let sr;if(ir&&or){if(sr=compare$e(ir.semver,or.semver,rr),sr>0)return null;if(sr===0&&(ir.operator!==">="||or.operator!=="<="))return null}for(const gr of nr){if(ir&&!satisfies$6(gr,String(ir),rr)||or&&!satisfies$6(gr,String(or),rr))return null;for(const br of er)if(!satisfies$6(gr,String(br),rr))return!1;return!0}let ar,cr,lr,ur,fr=or&&!rr.includePrerelease&&or.semver.prerelease.length?or.semver:!1,dr=ir&&!rr.includePrerelease&&ir.semver.prerelease.length?ir.semver:!1;fr&&fr.prerelease.length===1&&or.operator==="<"&&fr.prerelease[0]===0&&(fr=!1);for(const gr of er){if(ur=ur||gr.operator===">"||gr.operator===">=",lr=lr||gr.operator==="<"||gr.operator==="<=",ir){if(dr&&gr.semver.prerelease&&gr.semver.prerelease.length&&gr.semver.major===dr.major&&gr.semver.minor===dr.minor&&gr.semver.patch===dr.patch&&(dr=!1),gr.operator===">"||gr.operator===">="){if(ar=higherGT$1(ir,gr,rr),ar===gr&&ar!==ir)return!1}else if(ir.operator===">="&&!satisfies$6(ir.semver,String(gr),rr))return!1}if(or){if(fr&&gr.semver.prerelease&&gr.semver.prerelease.length&&gr.semver.major===fr.major&&gr.semver.minor===fr.minor&&gr.semver.patch===fr.patch&&(fr=!1),gr.operator==="<"||gr.operator==="<="){if(cr=lowerLT$1(or,gr,rr),cr===gr&&cr!==or)return!1}else if(or.operator==="<="&&!satisfies$6(or.semver,String(gr),rr))return!1}if(!gr.operator&&(or||ir)&&sr!==0)return!1}return!(ir&&lr&&!or&&sr!==0||or&&ur&&!ir&&sr!==0||dr||fr)},higherGT$1=(tr,er,rr)=>{if(!tr)return er;const nr=compare$e(tr.semver,er.semver,rr);return nr>0?tr:nr<0||er.operator===">"&&tr.operator===">="?er:tr},lowerLT$1=(tr,er,rr)=>{if(!tr)return er;const nr=compare$e(tr.semver,er.semver,rr);return nr<0?tr:nr>0||er.operator==="<"&&tr.operator==="<="?er:tr};var subset_1$1=subset$3;const internalRe$1=reExports$1,constants$5=constants$6,SemVer$e=semver$3,identifiers$2=identifiers$3,parse$7=parse_1$1,valid$3=valid_1$1,clean$2=clean_1$1,inc$2=inc_1$1,diff$2=diff_1$1,major$2=major_1$1,minor$2=minor_1$1,patch$2=patch_1$1,prerelease$2=prerelease_1$1,compare$d=compare_1$1,rcompare$2=rcompare_1$1,compareLoose$2=compareLoose_1$1,compareBuild$4=compareBuild_1$1,sort$2=sort_1$1,rsort$2=rsort_1$1,gt$5=gt_1$1,lt$4=lt_1$1,eq$3=eq_1$1,neq$3=neq_1$1,gte$4=gte_1$1,lte$4=lte_1$1,cmp$2=cmp_1$1,coerce$2=coerce_1$1,Comparator$3=requireComparator$1(),Range$a=requireRange$1(),satisfies$5=satisfies_1$1,toComparators$2=toComparators_1$1,maxSatisfying$2=maxSatisfying_1$1,minSatisfying$2=minSatisfying_1$1,minVersion$2=minVersion_1$1,validRange$2=valid$4,outside$4=outside_1$1,gtr$2=gtr_1$1,ltr$2=ltr_1$1,intersects$2=intersects_1$1,simplifyRange$1=simplify$1,subset$2=subset_1$1;var semver$2={parse:parse$7,valid:valid$3,clean:clean$2,inc:inc$2,diff:diff$2,major:major$2,minor:minor$2,patch:patch$2,prerelease:prerelease$2,compare:compare$d,rcompare:rcompare$2,compareLoose:compareLoose$2,compareBuild:compareBuild$4,sort:sort$2,rsort:rsort$2,gt:gt$5,lt:lt$4,eq:eq$3,neq:neq$3,gte:gte$4,lte:lte$4,cmp:cmp$2,coerce:coerce$2,Comparator:Comparator$3,Range:Range$a,satisfies:satisfies$5,toComparators:toComparators$2,maxSatisfying:maxSatisfying$2,minSatisfying:minSatisfying$2,minVersion:minVersion$2,validRange:validRange$2,outside:outside$4,gtr:gtr$2,ltr:ltr$2,intersects:intersects$2,simplifyRange:simplifyRange$1,subset:subset$2,SemVer:SemVer$e,re:internalRe$1.re,src:internalRe$1.src,tokens:internalRe$1.t,SEMVER_SPEC_VERSION:constants$5.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants$5.RELEASE_TYPES,compareIdentifiers:identifiers$2.compareIdentifiers,rcompareIdentifiers:identifiers$2.rcompareIdentifiers};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.satisfiesVersionRange=tr.gtRange=tr.gtVersion=tr.assertIsSemVerRange=tr.assertIsSemVerVersion=tr.isValidSemVerRange=tr.isValidSemVerVersion=tr.VersionRangeStruct=tr.VersionStruct=void 0;const er=dist$4,rr=semver$2,nr=assert$6;tr.VersionStruct=(0,er.refine)((0,er.string)(),"Version",fr=>(0,rr.valid)(fr)===null?`Expected SemVer version, got "${fr}"`:!0),tr.VersionRangeStruct=(0,er.refine)((0,er.string)(),"Version range",fr=>(0,rr.validRange)(fr)===null?`Expected SemVer range, got "${fr}"`:!0);function ir(fr){return(0,er.is)(fr,tr.VersionStruct)}tr.isValidSemVerVersion=ir;function or(fr){return(0,er.is)(fr,tr.VersionRangeStruct)}tr.isValidSemVerRange=or;function sr(fr){(0,nr.assertStruct)(fr,tr.VersionStruct)}tr.assertIsSemVerVersion=sr;function ar(fr){(0,nr.assertStruct)(fr,tr.VersionRangeStruct)}tr.assertIsSemVerRange=ar;function cr(fr,dr){return(0,rr.gt)(fr,dr)}tr.gtVersion=cr;function lr(fr,dr){return(0,rr.gtr)(fr,dr)}tr.gtRange=lr;function ur(fr,dr){return(0,rr.satisfies)(fr,dr,{includePrerelease:!0})}tr.satisfiesVersionRange=ur})(versions$1);(function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(nr,ir,or,sr){sr===void 0&&(sr=or);var ar=Object.getOwnPropertyDescriptor(ir,or);(!ar||("get"in ar?!ir.__esModule:ar.writable||ar.configurable))&&(ar={enumerable:!0,get:function(){return ir[or]}}),Object.defineProperty(nr,sr,ar)}:function(nr,ir,or,sr){sr===void 0&&(sr=or),nr[sr]=ir[or]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(nr,ir){for(var or in nr)or!=="default"&&!Object.prototype.hasOwnProperty.call(ir,or)&&er(ir,nr,or)};Object.defineProperty(tr,"__esModule",{value:!0}),rr(assert$6,tr),rr(base64$3,tr),rr(requireBytes$1(),tr),rr(caipTypes$1,tr),rr(checksum$1,tr),rr(coercers$1,tr),rr(collections$1,tr),rr(encryptionTypes$1,tr),rr(errors$4,tr),rr(requireHex$1(),tr),rr(json$1,tr),rr(keyring$1,tr),rr(logging$1,tr),rr(misc$1,tr),rr(number$2,tr),rr(opaque$1,tr),rr(promise$1,tr),rr(time$1,tr),rr(transactionTypes$1,tr),rr(versions$1,tr)})(dist$5);Object.defineProperty(utils$3,"__esModule",{value:!0});utils$3.normalize=utils$3.recoverPublicKey=utils$3.concatSig=utils$3.legacyToBuffer=utils$3.isNullish=utils$3.padWithZeroes=void 0;const util_1$d=dist$7,utils_1$8=dist$5;function padWithZeroes(tr,er){if(tr!==""&&!/^[a-f0-9]+$/iu.test(tr))throw new Error(`Expected an unprefixed hex string. Received: ${tr}`);if(er<0)throw new Error(`Expected a non-negative integer target length. Received: ${er}`);return String.prototype.padStart.call(tr,er,"0")}utils$3.padWithZeroes=padWithZeroes;function isNullish(tr){return tr==null}utils$3.isNullish=isNullish;function legacyToBuffer(tr){return typeof tr=="string"&&!(0,util_1$d.isHexString)(tr)?Buffer.from(tr):(0,util_1$d.toBuffer)(tr)}utils$3.legacyToBuffer=legacyToBuffer;function concatSig(tr,er,rr){const nr=(0,util_1$d.fromSigned)(er),ir=(0,util_1$d.fromSigned)(rr),or=(0,util_1$d.bufferToInt)(tr),sr=padWithZeroes((0,util_1$d.toUnsigned)(nr).toString("hex"),64),ar=padWithZeroes((0,util_1$d.toUnsigned)(ir).toString("hex"),64),cr=(0,utils_1$8.remove0x)((0,utils_1$8.numberToHex)(or));return(0,utils_1$8.add0x)(sr.concat(ar,cr))}utils$3.concatSig=concatSig;function recoverPublicKey(tr,er){const rr=(0,util_1$d.fromRpcSig)(er);return(0,util_1$d.ecrecover)(tr,rr.v,rr.r,rr.s)}utils$3.recoverPublicKey=recoverPublicKey;function normalize(tr){if(!isNullish(tr)){if(typeof tr=="number"){if(tr<0)return"0x";const er=(0,utils_1$8.numberToBytes)(tr);tr=(0,utils_1$8.bytesToHex)(er)}if(typeof tr!="string"){let er="eth-sig-util.normalize() requires hex string or integer input.";throw er+=` received ${typeof tr}: ${tr}`,new Error(er)}return(0,utils_1$8.add0x)(tr.toLowerCase())}}utils$3.normalize=normalize;Object.defineProperty(personalSign$1,"__esModule",{value:!0});personalSign$1.extractPublicKey=personalSign$1.recoverPersonalSignature=personalSign$1.personalSign=void 0;const util_1$c=dist$7,utils_1$7=utils$3;function personalSign({privateKey:tr,data:er}){if((0,utils_1$7.isNullish)(er))throw new Error("Missing data parameter");if((0,utils_1$7.isNullish)(tr))throw new Error("Missing privateKey parameter");const rr=(0,utils_1$7.legacyToBuffer)(er),nr=(0,util_1$c.hashPersonalMessage)(rr),ir=(0,util_1$c.ecsign)(nr,tr);return(0,utils_1$7.concatSig)((0,util_1$c.toBuffer)(ir.v),ir.r,ir.s)}personalSign$1.personalSign=personalSign;function recoverPersonalSignature({data:tr,signature:er}){if((0,utils_1$7.isNullish)(tr))throw new Error("Missing data parameter");if((0,utils_1$7.isNullish)(er))throw new Error("Missing signature parameter");const rr=getPublicKeyFor(tr,er),nr=(0,util_1$c.publicToAddress)(rr);return(0,util_1$c.bufferToHex)(nr)}personalSign$1.recoverPersonalSignature=recoverPersonalSignature;function extractPublicKey({data:tr,signature:er}){if((0,utils_1$7.isNullish)(tr))throw new Error("Missing data parameter");if((0,utils_1$7.isNullish)(er))throw new Error("Missing signature parameter");return`0x${getPublicKeyFor(tr,er).toString("hex")}`}personalSign$1.extractPublicKey=extractPublicKey;function getPublicKeyFor(tr,er){const rr=(0,util_1$c.hashPersonalMessage)((0,utils_1$7.legacyToBuffer)(tr));return(0,utils_1$7.recoverPublicKey)(rr,er)}var signTypedData={},dist$3={},abi$3={},dist$2={},assert$3={},errors$3={},misc={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.calculateNumberSize=tr.calculateStringSize=tr.isASCII=tr.isPlainObject=tr.ESCAPE_CHARACTERS_REGEXP=tr.JsonSize=tr.getKnownPropertyNames=tr.hasProperty=tr.isObject=tr.isNullOrUndefined=tr.isNonEmptyArray=void 0;function er(ur){return Array.isArray(ur)&&ur.length>0}tr.isNonEmptyArray=er;function rr(ur){return ur==null}tr.isNullOrUndefined=rr;function nr(ur){return!!ur&&typeof ur=="object"&&!Array.isArray(ur)}tr.isObject=nr;const ir=(ur,fr)=>Object.hasOwnProperty.call(ur,fr);tr.hasProperty=ir;function or(ur){return Object.getOwnPropertyNames(ur)}tr.getKnownPropertyNames=or,function(ur){ur[ur.Null=4]="Null",ur[ur.Comma=1]="Comma",ur[ur.Wrapper=1]="Wrapper",ur[ur.True=4]="True",ur[ur.False=5]="False",ur[ur.Quote=1]="Quote",ur[ur.Colon=1]="Colon",ur[ur.Date=24]="Date"}(tr.JsonSize||(tr.JsonSize={})),tr.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function sr(ur){if(typeof ur!="object"||ur===null)return!1;try{let fr=ur;for(;Object.getPrototypeOf(fr)!==null;)fr=Object.getPrototypeOf(fr);return Object.getPrototypeOf(ur)===fr}catch{return!1}}tr.isPlainObject=sr;function ar(ur){return ur.charCodeAt(0)<=127}tr.isASCII=ar;function cr(ur){return ur.split("").reduce((dr,gr)=>ar(gr)?dr+1:dr+2,0)+(ur.match(tr.ESCAPE_CHARACTERS_REGEXP)??[]).length}tr.calculateStringSize=cr;function lr(ur){return ur.toString().length}tr.calculateNumberSize=lr})(misc);Object.defineProperty(errors$3,"__esModule",{value:!0});errors$3.wrapError=errors$3.getErrorMessage=errors$3.isErrorWithStack=errors$3.isErrorWithMessage=errors$3.isErrorWithCode=void 0;const pony_cause_1=ponyCause,misc_1=misc;function isError(tr){return tr instanceof Error||(0,misc_1.isObject)(tr)&&tr.constructor.name==="Error"}function isErrorWithCode(tr){return typeof tr=="object"&&tr!==null&&"code"in tr}errors$3.isErrorWithCode=isErrorWithCode;function isErrorWithMessage(tr){return typeof tr=="object"&&tr!==null&&"message"in tr}errors$3.isErrorWithMessage=isErrorWithMessage;function isErrorWithStack(tr){return typeof tr=="object"&&tr!==null&&"stack"in tr}errors$3.isErrorWithStack=isErrorWithStack;function getErrorMessage(tr){return isErrorWithMessage(tr)&&typeof tr.message=="string"?tr.message:(0,misc_1.isNullOrUndefined)(tr)?"":String(tr)}errors$3.getErrorMessage=getErrorMessage;function wrapError(tr,er){if(isError(tr)){let rr;return Error.length===2?rr=new Error(er,{cause:tr}):rr=new pony_cause_1.ErrorWithCause(er,{cause:tr}),isErrorWithCode(tr)&&(rr.code=tr.code),rr}return er.length>0?new Error(`${String(tr)}: ${er}`):new Error(String(tr))}errors$3.wrapError=wrapError;Object.defineProperty(assert$3,"__esModule",{value:!0});assert$3.assertExhaustive=assert$3.assertStruct=assert$3.assert=assert$3.AssertionError=void 0;const superstruct_1$3=dist$4,errors_1=errors$3;function isConstructable(tr){return typeof tr?.prototype?.constructor?.name=="string"}function getErrorMessageWithoutTrailingPeriod(tr){return(0,errors_1.getErrorMessage)(tr).replace(/\.$/u,"")}function getError(tr,er){return isConstructable(tr)?new tr({message:er}):tr({message:er})}class AssertionError extends Error{constructor(er){super(er.message),this.code="ERR_ASSERTION"}}assert$3.AssertionError=AssertionError;function assert$2(tr,er="Assertion failed.",rr=AssertionError){if(!tr)throw er instanceof Error?er:getError(rr,er)}assert$3.assert=assert$2;function assertStruct(tr,er,rr="Assertion failed",nr=AssertionError){try{(0,superstruct_1$3.assert)(tr,er)}catch(ir){throw getError(nr,`${rr}: ${getErrorMessageWithoutTrailingPeriod(ir)}.`)}}assert$3.assertStruct=assertStruct;function assertExhaustive(tr){throw new Error("Invalid branch reached. Should be detected during compilation.")}assert$3.assertExhaustive=assertExhaustive;var base64$1={};Object.defineProperty(base64$1,"__esModule",{value:!0});base64$1.base64=void 0;const superstruct_1$2=dist$4,assert_1$2=assert$3,base64=(tr,er={})=>{const rr=er.paddingRequired??!1,nr=er.characterSet??"base64";let ir;nr==="base64"?ir=String.raw`[A-Za-z0-9+\/]`:((0,assert_1$2.assert)(nr==="base64url"),ir=String.raw`[-_A-Za-z0-9]`);let or;return rr?or=new RegExp(`^(?:${ir}{4})*(?:${ir}{3}=|${ir}{2}==)?$`,"u"):or=new RegExp(`^(?:${ir}{4})*(?:${ir}{2,3}|${ir}{3}=|${ir}{2}==)?$`,"u"),(0,superstruct_1$2.pattern)(tr,or)};base64$1.base64=base64;var bytes$1={},hex={},hasRequiredHex;function requireHex(){return hasRequiredHex||(hasRequiredHex=1,function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.remove0x=tr.add0x=tr.isValidChecksumAddress=tr.getChecksumAddress=tr.isValidHexAddress=tr.assertIsStrictHexString=tr.assertIsHexString=tr.isStrictHexString=tr.isHexString=tr.HexChecksumAddressStruct=tr.HexAddressStruct=tr.StrictHexStruct=tr.HexStruct=void 0;const er=dist$4,rr=sha3,nr=assert$3,ir=requireBytes();tr.HexStruct=(0,er.pattern)((0,er.string)(),/^(?:0x)?[0-9a-f]+$/iu),tr.StrictHexStruct=(0,er.pattern)((0,er.string)(),/^0x[0-9a-f]+$/iu),tr.HexAddressStruct=(0,er.pattern)((0,er.string)(),/^0x[0-9a-f]{40}$/u),tr.HexChecksumAddressStruct=(0,er.pattern)((0,er.string)(),/^0x[0-9a-fA-F]{40}$/u);function or(br){return(0,er.is)(br,tr.HexStruct)}tr.isHexString=or;function sr(br){return(0,er.is)(br,tr.StrictHexStruct)}tr.isStrictHexString=sr;function ar(br){(0,nr.assert)(or(br),"Value must be a hexadecimal string.")}tr.assertIsHexString=ar;function cr(br){(0,nr.assert)(sr(br),'Value must be a hexadecimal string, starting with "0x".')}tr.assertIsStrictHexString=cr;function lr(br){return(0,er.is)(br,tr.HexAddressStruct)||fr(br)}tr.isValidHexAddress=lr;function ur(br){(0,nr.assert)((0,er.is)(br,tr.HexChecksumAddressStruct),"Invalid hex address.");const vr=gr(br.toLowerCase()),$r=gr((0,ir.bytesToHex)((0,rr.keccak_256)(vr)));return`0x${vr.split("").map((Er,_r)=>{const xr=$r[_r];return(0,nr.assert)((0,er.is)(xr,(0,er.string)()),"Hash shorter than address."),parseInt(xr,16)>7?Er.toUpperCase():Er}).join("")}`}tr.getChecksumAddress=ur;function fr(br){return(0,er.is)(br,tr.HexChecksumAddressStruct)?ur(br)===br:!1}tr.isValidChecksumAddress=fr;function dr(br){return br.startsWith("0x")?br:br.startsWith("0X")?`0x${br.substring(2)}`:`0x${br}`}tr.add0x=dr;function gr(br){return br.startsWith("0x")||br.startsWith("0X")?br.substring(2):br}tr.remove0x=gr}(hex)),hex}var hasRequiredBytes;function requireBytes(){if(hasRequiredBytes)return bytes$1;hasRequiredBytes=1,Object.defineProperty(bytes$1,"__esModule",{value:!0}),bytes$1.createDataView=bytes$1.concatBytes=bytes$1.valueToBytes=bytes$1.base64ToBytes=bytes$1.stringToBytes=bytes$1.numberToBytes=bytes$1.signedBigIntToBytes=bytes$1.bigIntToBytes=bytes$1.hexToBytes=bytes$1.bytesToBase64=bytes$1.bytesToString=bytes$1.bytesToNumber=bytes$1.bytesToSignedBigInt=bytes$1.bytesToBigInt=bytes$1.bytesToHex=bytes$1.assertIsBytes=bytes$1.isBytes=void 0;const tr=lib$1,er=assert$3,rr=requireHex(),nr=48,ir=58,or=87;function sr(){const Cr=[];return()=>{if(Cr.length===0)for(let Tr=0;Tr<256;Tr++)Cr.push(Tr.toString(16).padStart(2,"0"));return Cr}}const ar=sr();function cr(Cr){return Cr instanceof Uint8Array}bytes$1.isBytes=cr;function lr(Cr){(0,er.assert)(cr(Cr),"Value must be a Uint8Array.")}bytes$1.assertIsBytes=lr;function ur(Cr){if(lr(Cr),Cr.length===0)return"0x";const Tr=ar(),yr=new Array(Cr.length);for(let mr=0;mr<Cr.length;mr++)yr[mr]=Tr[Cr[mr]];return(0,rr.add0x)(yr.join(""))}bytes$1.bytesToHex=ur;function fr(Cr){lr(Cr);const Tr=ur(Cr);return BigInt(Tr)}bytes$1.bytesToBigInt=fr;function dr(Cr){lr(Cr);let Tr=BigInt(0);for(const yr of Cr)Tr=(Tr<<BigInt(8))+BigInt(yr);return BigInt.asIntN(Cr.length*8,Tr)}bytes$1.bytesToSignedBigInt=dr;function gr(Cr){lr(Cr);const Tr=fr(Cr);return(0,er.assert)(Tr<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(Tr)}bytes$1.bytesToNumber=gr;function br(Cr){return lr(Cr),new TextDecoder().decode(Cr)}bytes$1.bytesToString=br;function vr(Cr){return lr(Cr),tr.base64.encode(Cr)}bytes$1.bytesToBase64=vr;function $r(Cr){if(Cr?.toLowerCase?.()==="0x")return new Uint8Array;(0,rr.assertIsHexString)(Cr);const Tr=(0,rr.remove0x)(Cr).toLowerCase(),yr=Tr.length%2===0?Tr:`0${Tr}`,mr=new Uint8Array(yr.length/2);for(let hr=0;hr<mr.length;hr++){const pr=yr.charCodeAt(hr*2),wr=yr.charCodeAt(hr*2+1),Ar=pr-(pr<ir?nr:or),Rr=wr-(wr<ir?nr:or);mr[hr]=Ar*16+Rr}return mr}bytes$1.hexToBytes=$r;function Er(Cr){(0,er.assert)(typeof Cr=="bigint","Value must be a bigint."),(0,er.assert)(Cr>=BigInt(0),"Value must be a non-negative bigint.");const Tr=Cr.toString(16);return $r(Tr)}bytes$1.bigIntToBytes=Er;function _r(Cr,Tr){(0,er.assert)(Tr>0);const yr=Cr>>BigInt(31);return!((~Cr&yr)+(Cr&~yr)>>BigInt(Tr*8+-1))}function xr(Cr,Tr){(0,er.assert)(typeof Cr=="bigint","Value must be a bigint."),(0,er.assert)(typeof Tr=="number","Byte length must be a number."),(0,er.assert)(Tr>0,"Byte length must be greater than 0."),(0,er.assert)(_r(Cr,Tr),"Byte length is too small to represent the given value.");let yr=Cr;const mr=new Uint8Array(Tr);for(let hr=0;hr<mr.length;hr++)mr[hr]=Number(BigInt.asUintN(8,yr)),yr>>=BigInt(8);return mr.reverse()}bytes$1.signedBigIntToBytes=xr;function Ir(Cr){(0,er.assert)(typeof Cr=="number","Value must be a number."),(0,er.assert)(Cr>=0,"Value must be a non-negative number."),(0,er.assert)(Number.isSafeInteger(Cr),"Value is not a safe integer. Use `bigIntToBytes` instead.");const Tr=Cr.toString(16);return $r(Tr)}bytes$1.numberToBytes=Ir;function Nr(Cr){return(0,er.assert)(typeof Cr=="string","Value must be a string."),new TextEncoder().encode(Cr)}bytes$1.stringToBytes=Nr;function Lr(Cr){return(0,er.assert)(typeof Cr=="string","Value must be a string."),tr.base64.decode(Cr)}bytes$1.base64ToBytes=Lr;function jr(Cr){if(typeof Cr=="bigint")return Er(Cr);if(typeof Cr=="number")return Ir(Cr);if(typeof Cr=="string")return Cr.startsWith("0x")?$r(Cr):Nr(Cr);if(cr(Cr))return Cr;throw new TypeError(`Unsupported value type: "${typeof Cr}".`)}bytes$1.valueToBytes=jr;function Or(Cr){const Tr=new Array(Cr.length);let yr=0;for(let hr=0;hr<Cr.length;hr++){const pr=jr(Cr[hr]);Tr[hr]=pr,yr+=pr.length}const mr=new Uint8Array(yr);for(let hr=0,pr=0;hr<Tr.length;hr++)mr.set(Tr[hr],pr),pr+=Tr[hr].length;return mr}bytes$1.concatBytes=Or;function Dr(Cr){if(typeof Buffer<"u"&&Cr instanceof Buffer){const Tr=Cr.buffer.slice(Cr.byteOffset,Cr.byteOffset+Cr.byteLength);return new DataView(Tr)}return new DataView(Cr.buffer,Cr.byteOffset,Cr.byteLength)}return bytes$1.createDataView=Dr,bytes$1}var caipTypes={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.toCaipChainId=tr.parseCaipAccountId=tr.parseCaipChainId=tr.isCaipAccountAddress=tr.isCaipAccountId=tr.isCaipReference=tr.isCaipNamespace=tr.isCaipChainId=tr.KnownCaipNamespace=tr.CaipAccountAddressStruct=tr.CaipAccountIdStruct=tr.CaipReferenceStruct=tr.CaipNamespaceStruct=tr.CaipChainIdStruct=tr.CAIP_ACCOUNT_ADDRESS_REGEX=tr.CAIP_ACCOUNT_ID_REGEX=tr.CAIP_REFERENCE_REGEX=tr.CAIP_NAMESPACE_REGEX=tr.CAIP_CHAIN_ID_REGEX=void 0;const er=dist$4;tr.CAIP_CHAIN_ID_REGEX=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,tr.CAIP_NAMESPACE_REGEX=/^[-a-z0-9]{3,8}$/u,tr.CAIP_REFERENCE_REGEX=/^[-_a-zA-Z0-9]{1,32}$/u,tr.CAIP_ACCOUNT_ID_REGEX=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,tr.CAIP_ACCOUNT_ADDRESS_REGEX=/^[-.%a-zA-Z0-9]{1,128}$/u,tr.CaipChainIdStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_CHAIN_ID_REGEX),tr.CaipNamespaceStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_NAMESPACE_REGEX),tr.CaipReferenceStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_REFERENCE_REGEX),tr.CaipAccountIdStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_ACCOUNT_ID_REGEX),tr.CaipAccountAddressStruct=(0,er.pattern)((0,er.string)(),tr.CAIP_ACCOUNT_ADDRESS_REGEX),function(ur){ur.Eip155="eip155"}(tr.KnownCaipNamespace||(tr.KnownCaipNamespace={}));function rr(ur){return(0,er.is)(ur,tr.CaipChainIdStruct)}tr.isCaipChainId=rr;function nr(ur){return(0,er.is)(ur,tr.CaipNamespaceStruct)}tr.isCaipNamespace=nr;function ir(ur){return(0,er.is)(ur,tr.CaipReferenceStruct)}tr.isCaipReference=ir;function or(ur){return(0,er.is)(ur,tr.CaipAccountIdStruct)}tr.isCaipAccountId=or;function sr(ur){return(0,er.is)(ur,tr.CaipAccountAddressStruct)}tr.isCaipAccountAddress=sr;function ar(ur){const fr=tr.CAIP_CHAIN_ID_REGEX.exec(ur);if(!fr?.groups)throw new Error("Invalid CAIP chain ID.");return{namespace:fr.groups.namespace,reference:fr.groups.reference}}tr.parseCaipChainId=ar;function cr(ur){const fr=tr.CAIP_ACCOUNT_ID_REGEX.exec(ur);if(!fr?.groups)throw new Error("Invalid CAIP account ID.");return{address:fr.groups.accountAddress,chainId:fr.groups.chainId,chain:{namespace:fr.groups.namespace,reference:fr.groups.reference}}}tr.parseCaipAccountId=cr;function lr(ur,fr){if(!nr(ur))throw new Error(`Invalid "namespace", must match: ${tr.CAIP_NAMESPACE_REGEX.toString()}`);if(!ir(fr))throw new Error(`Invalid "reference", must match: ${tr.CAIP_REFERENCE_REGEX.toString()}`);return`${ur}:${fr}`}tr.toCaipChainId=lr})(caipTypes);var checksum={};Object.defineProperty(checksum,"__esModule",{value:!0});checksum.ChecksumStruct=void 0;const superstruct_1$1=dist$4,base64_1=base64$1;checksum.ChecksumStruct=(0,superstruct_1$1.size)((0,base64_1.base64)((0,superstruct_1$1.string)(),{paddingRequired:!0}),44,44);var coercers={};Object.defineProperty(coercers,"__esModule",{value:!0});coercers.createHex=coercers.createBytes=coercers.createBigInt=coercers.createNumber=void 0;const superstruct_1=dist$4,assert_1$1=assert$3,bytes_1$1=requireBytes(),hex_1$1=requireHex(),NumberLikeStruct=(0,superstruct_1.union)([(0,superstruct_1.number)(),(0,superstruct_1.bigint)(),(0,superstruct_1.string)(),hex_1$1.StrictHexStruct]),NumberCoercer=(0,superstruct_1.coerce)((0,superstruct_1.number)(),NumberLikeStruct,Number),BigIntCoercer=(0,superstruct_1.coerce)((0,superstruct_1.bigint)(),NumberLikeStruct,BigInt);(0,superstruct_1.union)([hex_1$1.StrictHexStruct,(0,superstruct_1.instance)(Uint8Array)]);const BytesCoercer=(0,superstruct_1.coerce)((0,superstruct_1.instance)(Uint8Array),(0,superstruct_1.union)([hex_1$1.StrictHexStruct]),bytes_1$1.hexToBytes),HexCoercer=(0,superstruct_1.coerce)(hex_1$1.StrictHexStruct,(0,superstruct_1.instance)(Uint8Array),bytes_1$1.bytesToHex);function createNumber(tr){try{const er=(0,superstruct_1.create)(tr,NumberCoercer);return(0,assert_1$1.assert)(Number.isFinite(er),`Expected a number-like value, got "${tr}".`),er}catch(er){throw er instanceof superstruct_1.StructError?new Error(`Expected a number-like value, got "${tr}".`):er}}coercers.createNumber=createNumber;function createBigInt(tr){try{return(0,superstruct_1.create)(tr,BigIntCoercer)}catch(er){throw er instanceof superstruct_1.StructError?new Error(`Expected a number-like value, got "${String(er.value)}".`):er}}coercers.createBigInt=createBigInt;function createBytes(tr){if(typeof tr=="string"&&tr.toLowerCase()==="0x")return new Uint8Array;try{return(0,superstruct_1.create)(tr,BytesCoercer)}catch(er){throw er instanceof superstruct_1.StructError?new Error(`Expected a bytes-like value, got "${String(er.value)}".`):er}}coercers.createBytes=createBytes;function createHex(tr){if(tr instanceof Uint8Array&&tr.length===0||typeof tr=="string"&&tr.toLowerCase()==="0x")return"0x";try{return(0,superstruct_1.create)(tr,HexCoercer)}catch(er){throw er instanceof superstruct_1.StructError?new Error(`Expected a bytes-like value, got "${String(er.value)}".`):er}}coercers.createHex=createHex;var collections={},__classPrivateFieldGet=commonjsGlobal&&commonjsGlobal.__classPrivateFieldGet||function(tr,er,rr,nr){if(rr==="a"&&!nr)throw new TypeError("Private accessor was defined without a getter");if(typeof er=="function"?tr!==er||!nr:!er.has(tr))throw new TypeError("Cannot read private member from an object whose class did not declare it");return rr==="m"?nr:rr==="a"?nr.call(tr):nr?nr.value:er.get(tr)},__classPrivateFieldSet=commonjsGlobal&&commonjsGlobal.__classPrivateFieldSet||function(tr,er,rr,nr,ir){if(nr==="m")throw new TypeError("Private method is not writable");if(nr==="a"&&!ir)throw new TypeError("Private accessor was defined without a setter");if(typeof er=="function"?tr!==er||!ir:!er.has(tr))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nr==="a"?ir.call(tr,rr):ir?ir.value=rr:er.set(tr,rr),rr},_FrozenMap_map,_FrozenSet_set;Object.defineProperty(collections,"__esModule",{value:!0});collections.FrozenSet=collections.FrozenMap=void 0;class FrozenMap{get size(){return __classPrivateFieldGet(this,_FrozenMap_map,"f").size}[(_FrozenMap_map=new WeakMap,Symbol.iterator)](){return __classPrivateFieldGet(this,_FrozenMap_map,"f")[Symbol.iterator]()}constructor(er){_FrozenMap_map.set(this,void 0),__classPrivateFieldSet(this,_FrozenMap_map,new Map(er),"f"),Object.freeze(this)}entries(){return __classPrivateFieldGet(this,_FrozenMap_map,"f").entries()}forEach(er,rr){return __classPrivateFieldGet(this,_FrozenMap_map,"f").forEach((nr,ir,or)=>er.call(rr,nr,ir,this))}get(er){return __classPrivateFieldGet(this,_FrozenMap_map,"f").get(er)}has(er){return __classPrivateFieldGet(this,_FrozenMap_map,"f").has(er)}keys(){return __classPrivateFieldGet(this,_FrozenMap_map,"f").keys()}values(){return __classPrivateFieldGet(this,_FrozenMap_map,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([er,rr])=>`${String(er)} => ${String(rr)}`).join(", ")} `:""}}`}}collections.FrozenMap=FrozenMap;class FrozenSet{get size(){return __classPrivateFieldGet(this,_FrozenSet_set,"f").size}[(_FrozenSet_set=new WeakMap,Symbol.iterator)](){return __classPrivateFieldGet(this,_FrozenSet_set,"f")[Symbol.iterator]()}constructor(er){_FrozenSet_set.set(this,void 0),__classPrivateFieldSet(this,_FrozenSet_set,new Set(er),"f"),Object.freeze(this)}entries(){return __classPrivateFieldGet(this,_FrozenSet_set,"f").entries()}forEach(er,rr){return __classPrivateFieldGet(this,_FrozenSet_set,"f").forEach((nr,ir,or)=>er.call(rr,nr,ir,this))}has(er){return __classPrivateFieldGet(this,_FrozenSet_set,"f").has(er)}keys(){return __classPrivateFieldGet(this,_FrozenSet_set,"f").keys()}values(){return __classPrivateFieldGet(this,_FrozenSet_set,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(er=>String(er)).join(", ")} `:""}}`}}collections.FrozenSet=FrozenSet;Object.freeze(FrozenMap);Object.freeze(FrozenMap.prototype);Object.freeze(FrozenSet);Object.freeze(FrozenSet.prototype);var encryptionTypes={};Object.defineProperty(encryptionTypes,"__esModule",{value:!0});var json={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.getJsonRpcIdValidator=tr.assertIsJsonRpcError=tr.isJsonRpcError=tr.assertIsJsonRpcFailure=tr.isJsonRpcFailure=tr.assertIsJsonRpcSuccess=tr.isJsonRpcSuccess=tr.assertIsJsonRpcResponse=tr.isJsonRpcResponse=tr.assertIsPendingJsonRpcResponse=tr.isPendingJsonRpcResponse=tr.JsonRpcResponseStruct=tr.JsonRpcFailureStruct=tr.JsonRpcSuccessStruct=tr.PendingJsonRpcResponseStruct=tr.assertIsJsonRpcRequest=tr.isJsonRpcRequest=tr.assertIsJsonRpcNotification=tr.isJsonRpcNotification=tr.JsonRpcNotificationStruct=tr.JsonRpcRequestStruct=tr.JsonRpcParamsStruct=tr.JsonRpcErrorStruct=tr.JsonRpcIdStruct=tr.JsonRpcVersionStruct=tr.jsonrpc2=tr.getJsonSize=tr.getSafeJson=tr.isValidJson=tr.JsonStruct=tr.UnsafeJsonStruct=tr.exactOptional=tr.object=void 0;const er=dist$4,rr=assert$3,nr=misc,ir=Cr=>(0,er.object)(Cr);tr.object=ir;function or({path:Cr,branch:Tr}){const yr=Cr[Cr.length-1];return(0,nr.hasProperty)(Tr[Tr.length-2],yr)}function sr(Cr){return new er.Struct({...Cr,type:`optional ${Cr.type}`,validator:(Tr,yr)=>!or(yr)||Cr.validator(Tr,yr),refiner:(Tr,yr)=>!or(yr)||Cr.refiner(Tr,yr)})}tr.exactOptional=sr;const ar=()=>(0,er.define)("finite number",Cr=>(0,er.is)(Cr,(0,er.number)())&&Number.isFinite(Cr));tr.UnsafeJsonStruct=(0,er.union)([(0,er.literal)(null),(0,er.boolean)(),ar(),(0,er.string)(),(0,er.array)((0,er.lazy)(()=>tr.UnsafeJsonStruct)),(0,er.record)((0,er.string)(),(0,er.lazy)(()=>tr.UnsafeJsonStruct))]),tr.JsonStruct=(0,er.coerce)(tr.UnsafeJsonStruct,(0,er.any)(),Cr=>((0,rr.assertStruct)(Cr,tr.UnsafeJsonStruct),JSON.parse(JSON.stringify(Cr,(Tr,yr)=>{if(!(Tr==="__proto__"||Tr==="constructor"))return yr}))));function cr(Cr){try{return lr(Cr),!0}catch{return!1}}tr.isValidJson=cr;function lr(Cr){return(0,er.create)(Cr,tr.JsonStruct)}tr.getSafeJson=lr;function ur(Cr){(0,rr.assertStruct)(Cr,tr.JsonStruct,"Invalid JSON value");const Tr=JSON.stringify(Cr);return new TextEncoder().encode(Tr).byteLength}tr.getJsonSize=ur,tr.jsonrpc2="2.0",tr.JsonRpcVersionStruct=(0,er.literal)(tr.jsonrpc2),tr.JsonRpcIdStruct=(0,er.nullable)((0,er.union)([(0,er.number)(),(0,er.string)()])),tr.JsonRpcErrorStruct=(0,tr.object)({code:(0,er.integer)(),message:(0,er.string)(),data:sr(tr.JsonStruct),stack:sr((0,er.string)())}),tr.JsonRpcParamsStruct=(0,er.union)([(0,er.record)((0,er.string)(),tr.JsonStruct),(0,er.array)(tr.JsonStruct)]),tr.JsonRpcRequestStruct=(0,tr.object)({id:tr.JsonRpcIdStruct,jsonrpc:tr.JsonRpcVersionStruct,method:(0,er.string)(),params:sr(tr.JsonRpcParamsStruct)}),tr.JsonRpcNotificationStruct=(0,tr.object)({jsonrpc:tr.JsonRpcVersionStruct,method:(0,er.string)(),params:sr(tr.JsonRpcParamsStruct)});function fr(Cr){return(0,er.is)(Cr,tr.JsonRpcNotificationStruct)}tr.isJsonRpcNotification=fr;function dr(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",Tr)}tr.assertIsJsonRpcNotification=dr;function gr(Cr){return(0,er.is)(Cr,tr.JsonRpcRequestStruct)}tr.isJsonRpcRequest=gr;function br(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcRequestStruct,"Invalid JSON-RPC request",Tr)}tr.assertIsJsonRpcRequest=br,tr.PendingJsonRpcResponseStruct=(0,er.object)({id:tr.JsonRpcIdStruct,jsonrpc:tr.JsonRpcVersionStruct,result:(0,er.optional)((0,er.unknown)()),error:(0,er.optional)(tr.JsonRpcErrorStruct)}),tr.JsonRpcSuccessStruct=(0,tr.object)({id:tr.JsonRpcIdStruct,jsonrpc:tr.JsonRpcVersionStruct,result:tr.JsonStruct}),tr.JsonRpcFailureStruct=(0,tr.object)({id:tr.JsonRpcIdStruct,jsonrpc:tr.JsonRpcVersionStruct,error:tr.JsonRpcErrorStruct}),tr.JsonRpcResponseStruct=(0,er.union)([tr.JsonRpcSuccessStruct,tr.JsonRpcFailureStruct]);function vr(Cr){return(0,er.is)(Cr,tr.PendingJsonRpcResponseStruct)}tr.isPendingJsonRpcResponse=vr;function $r(Cr,Tr){(0,rr.assertStruct)(Cr,tr.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",Tr)}tr.assertIsPendingJsonRpcResponse=$r;function Er(Cr){return(0,er.is)(Cr,tr.JsonRpcResponseStruct)}tr.isJsonRpcResponse=Er;function _r(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcResponseStruct,"Invalid JSON-RPC response",Tr)}tr.assertIsJsonRpcResponse=_r;function xr(Cr){return(0,er.is)(Cr,tr.JsonRpcSuccessStruct)}tr.isJsonRpcSuccess=xr;function Ir(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",Tr)}tr.assertIsJsonRpcSuccess=Ir;function Nr(Cr){return(0,er.is)(Cr,tr.JsonRpcFailureStruct)}tr.isJsonRpcFailure=Nr;function Lr(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",Tr)}tr.assertIsJsonRpcFailure=Lr;function jr(Cr){return(0,er.is)(Cr,tr.JsonRpcErrorStruct)}tr.isJsonRpcError=jr;function Or(Cr,Tr){(0,rr.assertStruct)(Cr,tr.JsonRpcErrorStruct,"Invalid JSON-RPC error",Tr)}tr.assertIsJsonRpcError=Or;function Dr(Cr){const{permitEmptyString:Tr,permitFractions:yr,permitNull:mr}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...Cr};return pr=>!!(typeof pr=="number"&&(yr||Number.isInteger(pr))||typeof pr=="string"&&(Tr||pr.length>0)||mr&&pr===null)}tr.getJsonRpcIdValidator=Dr})(json);var keyring={};Object.defineProperty(keyring,"__esModule",{value:!0});var logging={},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(logging,"__esModule",{value:!0});logging.createModuleLogger=logging.createProjectLogger=void 0;const debug_1$1=__importDefault$4(browserExports),globalLogger=(0,debug_1$1.default)("metamask");function createProjectLogger(tr){return globalLogger.extend(tr)}logging.createProjectLogger=createProjectLogger;function createModuleLogger(tr,er){return tr.extend(er)}logging.createModuleLogger=createModuleLogger;var number$1={};Object.defineProperty(number$1,"__esModule",{value:!0});number$1.hexToBigInt=number$1.hexToNumber=number$1.bigIntToHex=number$1.numberToHex=void 0;const assert_1=assert$3,hex_1=requireHex(),numberToHex=tr=>((0,assert_1.assert)(typeof tr=="number","Value must be a number."),(0,assert_1.assert)(tr>=0,"Value must be a non-negative number."),(0,assert_1.assert)(Number.isSafeInteger(tr),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,hex_1.add0x)(tr.toString(16)));number$1.numberToHex=numberToHex;const bigIntToHex=tr=>((0,assert_1.assert)(typeof tr=="bigint","Value must be a bigint."),(0,assert_1.assert)(tr>=0,"Value must be a non-negative bigint."),(0,hex_1.add0x)(tr.toString(16)));number$1.bigIntToHex=bigIntToHex;const hexToNumber=tr=>{(0,hex_1.assertIsHexString)(tr);const er=parseInt(tr,16);return(0,assert_1.assert)(Number.isSafeInteger(er),"Value is not a safe integer. Use `hexToBigInt` instead."),er};number$1.hexToNumber=hexToNumber;const hexToBigInt=tr=>((0,hex_1.assertIsHexString)(tr),BigInt((0,hex_1.add0x)(tr)));number$1.hexToBigInt=hexToBigInt;var opaque={};Object.defineProperty(opaque,"__esModule",{value:!0});var promise={};Object.defineProperty(promise,"__esModule",{value:!0});promise.createDeferredPromise=void 0;function createDeferredPromise({suppressUnhandledRejection:tr=!1}={}){let er,rr;const nr=new Promise((ir,or)=>{er=ir,rr=or});return tr&&nr.catch(ir=>{}),{promise:nr,resolve:er,reject:rr}}promise.createDeferredPromise=createDeferredPromise;var time={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.timeSince=tr.inMilliseconds=tr.Duration=void 0,function(or){or[or.Millisecond=1]="Millisecond",or[or.Second=1e3]="Second",or[or.Minute=6e4]="Minute",or[or.Hour=36e5]="Hour",or[or.Day=864e5]="Day",or[or.Week=6048e5]="Week",or[or.Year=31536e6]="Year"}(tr.Duration||(tr.Duration={}));const er=or=>Number.isInteger(or)&&or>=0,rr=(or,sr)=>{if(!er(or))throw new Error(`"${sr}" must be a non-negative integer. Received: "${or}".`)};function nr(or,sr){return rr(or,"count"),or*sr}tr.inMilliseconds=nr;function ir(or){return rr(or,"timestamp"),Date.now()-or}tr.timeSince=ir})(time);var transactionTypes={};Object.defineProperty(transactionTypes,"__esModule",{value:!0});var versions={},re$2={exports:{}};const SEMVER_SPEC_VERSION="2.0.0",MAX_LENGTH$1=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,MAX_SAFE_BUILD_LENGTH=MAX_LENGTH$1-6,RELEASE_TYPES=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var constants$4={MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_COMPONENT_LENGTH,MAX_SAFE_BUILD_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,RELEASE_TYPES,SEMVER_SPEC_VERSION,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},define_process_env_default={};const debug$1=typeof process=="object"&&define_process_env_default&&define_process_env_default.NODE_DEBUG&&/\bsemver\b/i.test(define_process_env_default.NODE_DEBUG)?(...tr)=>console.error("SEMVER",...tr):()=>{};var debug_1=debug$1;(function(tr,er){const{MAX_SAFE_COMPONENT_LENGTH:rr,MAX_SAFE_BUILD_LENGTH:nr,MAX_LENGTH:ir}=constants$4,or=debug_1;er=tr.exports={};const sr=er.re=[],ar=er.safeRe=[],cr=er.src=[],lr=er.t={};let ur=0;const fr="[a-zA-Z0-9-]",dr=[["\\s",1],["\\d",ir],[fr,nr]],gr=vr=>{for(const[$r,Er]of dr)vr=vr.split(`${$r}*`).join(`${$r}{0,${Er}}`).split(`${$r}+`).join(`${$r}{1,${Er}}`);return vr},br=(vr,$r,Er)=>{const _r=gr($r),xr=ur++;or(vr,xr,$r),lr[vr]=xr,cr[xr]=$r,sr[xr]=new RegExp($r,Er?"g":void 0),ar[xr]=new RegExp(_r,Er?"g":void 0)};br("NUMERICIDENTIFIER","0|[1-9]\\d*"),br("NUMERICIDENTIFIERLOOSE","\\d+"),br("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${fr}*`),br("MAINVERSION",`(${cr[lr.NUMERICIDENTIFIER]})\\.(${cr[lr.NUMERICIDENTIFIER]})\\.(${cr[lr.NUMERICIDENTIFIER]})`),br("MAINVERSIONLOOSE",`(${cr[lr.NUMERICIDENTIFIERLOOSE]})\\.(${cr[lr.NUMERICIDENTIFIERLOOSE]})\\.(${cr[lr.NUMERICIDENTIFIERLOOSE]})`),br("PRERELEASEIDENTIFIER",`(?:${cr[lr.NUMERICIDENTIFIER]}|${cr[lr.NONNUMERICIDENTIFIER]})`),br("PRERELEASEIDENTIFIERLOOSE",`(?:${cr[lr.NUMERICIDENTIFIERLOOSE]}|${cr[lr.NONNUMERICIDENTIFIER]})`),br("PRERELEASE",`(?:-(${cr[lr.PRERELEASEIDENTIFIER]}(?:\\.${cr[lr.PRERELEASEIDENTIFIER]})*))`),br("PRERELEASELOOSE",`(?:-?(${cr[lr.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${cr[lr.PRERELEASEIDENTIFIERLOOSE]})*))`),br("BUILDIDENTIFIER",`${fr}+`),br("BUILD",`(?:\\+(${cr[lr.BUILDIDENTIFIER]}(?:\\.${cr[lr.BUILDIDENTIFIER]})*))`),br("FULLPLAIN",`v?${cr[lr.MAINVERSION]}${cr[lr.PRERELEASE]}?${cr[lr.BUILD]}?`),br("FULL",`^${cr[lr.FULLPLAIN]}$`),br("LOOSEPLAIN",`[v=\\s]*${cr[lr.MAINVERSIONLOOSE]}${cr[lr.PRERELEASELOOSE]}?${cr[lr.BUILD]}?`),br("LOOSE",`^${cr[lr.LOOSEPLAIN]}$`),br("GTLT","((?:<|>)?=?)"),br("XRANGEIDENTIFIERLOOSE",`${cr[lr.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),br("XRANGEIDENTIFIER",`${cr[lr.NUMERICIDENTIFIER]}|x|X|\\*`),br("XRANGEPLAIN",`[v=\\s]*(${cr[lr.XRANGEIDENTIFIER]})(?:\\.(${cr[lr.XRANGEIDENTIFIER]})(?:\\.(${cr[lr.XRANGEIDENTIFIER]})(?:${cr[lr.PRERELEASE]})?${cr[lr.BUILD]}?)?)?`),br("XRANGEPLAINLOOSE",`[v=\\s]*(${cr[lr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${cr[lr.XRANGEIDENTIFIERLOOSE]})(?:\\.(${cr[lr.XRANGEIDENTIFIERLOOSE]})(?:${cr[lr.PRERELEASELOOSE]})?${cr[lr.BUILD]}?)?)?`),br("XRANGE",`^${cr[lr.GTLT]}\\s*${cr[lr.XRANGEPLAIN]}$`),br("XRANGELOOSE",`^${cr[lr.GTLT]}\\s*${cr[lr.XRANGEPLAINLOOSE]}$`),br("COERCEPLAIN",`(^|[^\\d])(\\d{1,${rr}})(?:\\.(\\d{1,${rr}}))?(?:\\.(\\d{1,${rr}}))?`),br("COERCE",`${cr[lr.COERCEPLAIN]}(?:$|[^\\d])`),br("COERCEFULL",cr[lr.COERCEPLAIN]+`(?:${cr[lr.PRERELEASE]})?(?:${cr[lr.BUILD]})?(?:$|[^\\d])`),br("COERCERTL",cr[lr.COERCE],!0),br("COERCERTLFULL",cr[lr.COERCEFULL],!0),br("LONETILDE","(?:~>?)"),br("TILDETRIM",`(\\s*)${cr[lr.LONETILDE]}\\s+`,!0),er.tildeTrimReplace="$1~",br("TILDE",`^${cr[lr.LONETILDE]}${cr[lr.XRANGEPLAIN]}$`),br("TILDELOOSE",`^${cr[lr.LONETILDE]}${cr[lr.XRANGEPLAINLOOSE]}$`),br("LONECARET","(?:\\^)"),br("CARETTRIM",`(\\s*)${cr[lr.LONECARET]}\\s+`,!0),er.caretTrimReplace="$1^",br("CARET",`^${cr[lr.LONECARET]}${cr[lr.XRANGEPLAIN]}$`),br("CARETLOOSE",`^${cr[lr.LONECARET]}${cr[lr.XRANGEPLAINLOOSE]}$`),br("COMPARATORLOOSE",`^${cr[lr.GTLT]}\\s*(${cr[lr.LOOSEPLAIN]})$|^$`),br("COMPARATOR",`^${cr[lr.GTLT]}\\s*(${cr[lr.FULLPLAIN]})$|^$`),br("COMPARATORTRIM",`(\\s*)${cr[lr.GTLT]}\\s*(${cr[lr.LOOSEPLAIN]}|${cr[lr.XRANGEPLAIN]})`,!0),er.comparatorTrimReplace="$1$2$3",br("HYPHENRANGE",`^\\s*(${cr[lr.XRANGEPLAIN]})\\s+-\\s+(${cr[lr.XRANGEPLAIN]})\\s*$`),br("HYPHENRANGELOOSE",`^\\s*(${cr[lr.XRANGEPLAINLOOSE]})\\s+-\\s+(${cr[lr.XRANGEPLAINLOOSE]})\\s*$`),br("STAR","(<|>)?=?\\s*\\*"),br("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),br("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$2,re$2.exports);var reExports=re$2.exports;const looseOption=Object.freeze({loose:!0}),emptyOpts=Object.freeze({}),parseOptions$1=tr=>tr?typeof tr!="object"?looseOption:tr:emptyOpts;var parseOptions_1=parseOptions$1;const numeric=/^[0-9]+$/,compareIdentifiers$1=(tr,er)=>{const rr=numeric.test(tr),nr=numeric.test(er);return rr&&nr&&(tr=+tr,er=+er),tr===er?0:rr&&!nr?-1:nr&&!rr?1:tr<er?-1:1},rcompareIdentifiers=(tr,er)=>compareIdentifiers$1(er,tr);var identifiers$1={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers};const debug=debug_1,{MAX_LENGTH,MAX_SAFE_INTEGER}=constants$4,{safeRe:re$1,t:t$3}=reExports,parseOptions=parseOptions_1,{compareIdentifiers}=identifiers$1;let SemVer$d=class Qs{constructor(er,rr){if(rr=parseOptions(rr),er instanceof Qs){if(er.loose===!!rr.loose&&er.includePrerelease===!!rr.includePrerelease)return er;er=er.version}else if(typeof er!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof er}".`);if(er.length>MAX_LENGTH)throw new TypeError(`version is longer than ${MAX_LENGTH} characters`);debug("SemVer",er,rr),this.options=rr,this.loose=!!rr.loose,this.includePrerelease=!!rr.includePrerelease;const nr=er.trim().match(rr.loose?re$1[t$3.LOOSE]:re$1[t$3.FULL]);if(!nr)throw new TypeError(`Invalid Version: ${er}`);if(this.raw=er,this.major=+nr[1],this.minor=+nr[2],this.patch=+nr[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");nr[4]?this.prerelease=nr[4].split(".").map(ir=>{if(/^[0-9]+$/.test(ir)){const or=+ir;if(or>=0&&or<MAX_SAFE_INTEGER)return or}return ir}):this.prerelease=[],this.build=nr[5]?nr[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(er){if(debug("SemVer.compare",this.version,this.options,er),!(er instanceof Qs)){if(typeof er=="string"&&er===this.version)return 0;er=new Qs(er,this.options)}return er.version===this.version?0:this.compareMain(er)||this.comparePre(er)}compareMain(er){return er instanceof Qs||(er=new Qs(er,this.options)),compareIdentifiers(this.major,er.major)||compareIdentifiers(this.minor,er.minor)||compareIdentifiers(this.patch,er.patch)}comparePre(er){if(er instanceof Qs||(er=new Qs(er,this.options)),this.prerelease.length&&!er.prerelease.length)return-1;if(!this.prerelease.length&&er.prerelease.length)return 1;if(!this.prerelease.length&&!er.prerelease.length)return 0;let rr=0;do{const nr=this.prerelease[rr],ir=er.prerelease[rr];if(debug("prerelease compare",rr,nr,ir),nr===void 0&&ir===void 0)return 0;if(ir===void 0)return 1;if(nr===void 0)return-1;if(nr===ir)continue;return compareIdentifiers(nr,ir)}while(++rr)}compareBuild(er){er instanceof Qs||(er=new Qs(er,this.options));let rr=0;do{const nr=this.build[rr],ir=er.build[rr];if(debug("build compare",rr,nr,ir),nr===void 0&&ir===void 0)return 0;if(ir===void 0)return 1;if(nr===void 0)return-1;if(nr===ir)continue;return compareIdentifiers(nr,ir)}while(++rr)}inc(er,rr,nr){switch(er){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",rr,nr);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",rr,nr);break;case"prepatch":this.prerelease.length=0,this.inc("patch",rr,nr),this.inc("pre",rr,nr);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",rr,nr),this.inc("pre",rr,nr);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const ir=Number(nr)?1:0;if(!rr&&nr===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[ir];else{let or=this.prerelease.length;for(;--or>=0;)typeof this.prerelease[or]=="number"&&(this.prerelease[or]++,or=-2);if(or===-1){if(rr===this.prerelease.join(".")&&nr===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(ir)}}if(rr){let or=[rr,ir];nr===!1&&(or=[rr]),compareIdentifiers(this.prerelease[0],rr)===0?isNaN(this.prerelease[1])&&(this.prerelease=or):this.prerelease=or}break}default:throw new Error(`invalid increment argument: ${er}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var semver$1=SemVer$d;const SemVer$c=semver$1,parse$6=(tr,er,rr=!1)=>{if(tr instanceof SemVer$c)return tr;try{return new SemVer$c(tr,er)}catch(nr){if(!rr)return null;throw nr}};var parse_1=parse$6;const parse$5=parse_1,valid$2=(tr,er)=>{const rr=parse$5(tr,er);return rr?rr.version:null};var valid_1=valid$2;const parse$4=parse_1,clean$1=(tr,er)=>{const rr=parse$4(tr.trim().replace(/^[=v]+/,""),er);return rr?rr.version:null};var clean_1=clean$1;const SemVer$b=semver$1,inc$1=(tr,er,rr,nr,ir)=>{typeof rr=="string"&&(ir=nr,nr=rr,rr=void 0);try{return new SemVer$b(tr instanceof SemVer$b?tr.version:tr,rr).inc(er,nr,ir).version}catch{return null}};var inc_1=inc$1;const parse$3=parse_1,diff$1=(tr,er)=>{const rr=parse$3(tr,null,!0),nr=parse$3(er,null,!0),ir=rr.compare(nr);if(ir===0)return null;const or=ir>0,sr=or?rr:nr,ar=or?nr:rr,cr=!!sr.prerelease.length;if(!!ar.prerelease.length&&!cr)return!ar.patch&&!ar.minor?"major":sr.patch?"patch":sr.minor?"minor":"major";const ur=cr?"pre":"";return rr.major!==nr.major?ur+"major":rr.minor!==nr.minor?ur+"minor":rr.patch!==nr.patch?ur+"patch":"prerelease"};var diff_1=diff$1;const SemVer$a=semver$1,major$1=(tr,er)=>new SemVer$a(tr,er).major;var major_1=major$1;const SemVer$9=semver$1,minor$1=(tr,er)=>new SemVer$9(tr,er).minor;var minor_1=minor$1;const SemVer$8=semver$1,patch$1=(tr,er)=>new SemVer$8(tr,er).patch;var patch_1=patch$1;const parse$2=parse_1,prerelease$1=(tr,er)=>{const rr=parse$2(tr,er);return rr&&rr.prerelease.length?rr.prerelease:null};var prerelease_1=prerelease$1;const SemVer$7=semver$1,compare$c=(tr,er,rr)=>new SemVer$7(tr,rr).compare(new SemVer$7(er,rr));var compare_1=compare$c;const compare$b=compare_1,rcompare$1=(tr,er,rr)=>compare$b(er,tr,rr);var rcompare_1=rcompare$1;const compare$a=compare_1,compareLoose$1=(tr,er)=>compare$a(tr,er,!0);var compareLoose_1=compareLoose$1;const SemVer$6=semver$1,compareBuild$3=(tr,er,rr)=>{const nr=new SemVer$6(tr,rr),ir=new SemVer$6(er,rr);return nr.compare(ir)||nr.compareBuild(ir)};var compareBuild_1=compareBuild$3;const compareBuild$2=compareBuild_1,sort$1=(tr,er)=>tr.sort((rr,nr)=>compareBuild$2(rr,nr,er));var sort_1=sort$1;const compareBuild$1=compareBuild_1,rsort$1=(tr,er)=>tr.sort((rr,nr)=>compareBuild$1(nr,rr,er));var rsort_1=rsort$1;const compare$9=compare_1,gt$4=(tr,er,rr)=>compare$9(tr,er,rr)>0;var gt_1=gt$4;const compare$8=compare_1,lt$3=(tr,er,rr)=>compare$8(tr,er,rr)<0;var lt_1=lt$3;const compare$7=compare_1,eq$2=(tr,er,rr)=>compare$7(tr,er,rr)===0;var eq_1=eq$2;const compare$6=compare_1,neq$2=(tr,er,rr)=>compare$6(tr,er,rr)!==0;var neq_1=neq$2;const compare$5=compare_1,gte$3=(tr,er,rr)=>compare$5(tr,er,rr)>=0;var gte_1=gte$3;const compare$4=compare_1,lte$3=(tr,er,rr)=>compare$4(tr,er,rr)<=0;var lte_1=lte$3;const eq$1=eq_1,neq$1=neq_1,gt$3=gt_1,gte$2=gte_1,lt$2=lt_1,lte$2=lte_1,cmp$1=(tr,er,rr,nr)=>{switch(er){case"===":return typeof tr=="object"&&(tr=tr.version),typeof rr=="object"&&(rr=rr.version),tr===rr;case"!==":return typeof tr=="object"&&(tr=tr.version),typeof rr=="object"&&(rr=rr.version),tr!==rr;case"":case"=":case"==":return eq$1(tr,rr,nr);case"!=":return neq$1(tr,rr,nr);case">":return gt$3(tr,rr,nr);case">=":return gte$2(tr,rr,nr);case"<":return lt$2(tr,rr,nr);case"<=":return lte$2(tr,rr,nr);default:throw new TypeError(`Invalid operator: ${er}`)}};var cmp_1=cmp$1;const SemVer$5=semver$1,parse$1=parse_1,{safeRe:re,t:t$2}=reExports,coerce$1=(tr,er)=>{if(tr instanceof SemVer$5)return tr;if(typeof tr=="number"&&(tr=String(tr)),typeof tr!="string")return null;er=er||{};let rr=null;if(!er.rtl)rr=tr.match(er.includePrerelease?re[t$2.COERCEFULL]:re[t$2.COERCE]);else{const cr=er.includePrerelease?re[t$2.COERCERTLFULL]:re[t$2.COERCERTL];let lr;for(;(lr=cr.exec(tr))&&(!rr||rr.index+rr[0].length!==tr.length);)(!rr||lr.index+lr[0].length!==rr.index+rr[0].length)&&(rr=lr),cr.lastIndex=lr.index+lr[1].length+lr[2].length;cr.lastIndex=-1}if(rr===null)return null;const nr=rr[2],ir=rr[3]||"0",or=rr[4]||"0",sr=er.includePrerelease&&rr[5]?`-${rr[5]}`:"",ar=er.includePrerelease&&rr[6]?`+${rr[6]}`:"";return parse$1(`${nr}.${ir}.${or}${sr}${ar}`,er)};var coerce_1=coerce$1;class LRUCache{constructor(){this.max=1e3,this.map=new Map}get(er){const rr=this.map.get(er);if(rr!==void 0)return this.map.delete(er),this.map.set(er,rr),rr}delete(er){return this.map.delete(er)}set(er,rr){if(!this.delete(er)&&rr!==void 0){if(this.map.size>=this.max){const ir=this.map.keys().next().value;this.delete(ir)}this.map.set(er,rr)}return this}}var lrucache=LRUCache,range$1,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range$1;hasRequiredRange=1;const tr=/\s+/g;class er{constructor(pr,wr){if(wr=ir(wr),pr instanceof er)return pr.loose===!!wr.loose&&pr.includePrerelease===!!wr.includePrerelease?pr:new er(pr.raw,wr);if(pr instanceof or)return this.raw=pr.value,this.set=[[pr]],this.formatted=void 0,this;if(this.options=wr,this.loose=!!wr.loose,this.includePrerelease=!!wr.includePrerelease,this.raw=pr.trim().replace(tr," "),this.set=this.raw.split("||").map(Ar=>this.parseRange(Ar.trim())).filter(Ar=>Ar.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const Ar=this.set[0];if(this.set=this.set.filter(Rr=>!vr(Rr[0])),this.set.length===0)this.set=[Ar];else if(this.set.length>1){for(const Rr of this.set)if(Rr.length===1&&$r(Rr[0])){this.set=[Rr];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let pr=0;pr<this.set.length;pr++){pr>0&&(this.formatted+="||");const wr=this.set[pr];for(let Ar=0;Ar<wr.length;Ar++)Ar>0&&(this.formatted+=" "),this.formatted+=wr[Ar].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(pr){const Ar=((this.options.includePrerelease&&gr)|(this.options.loose&&br))+":"+pr,Rr=nr.get(Ar);if(Rr)return Rr;const Pr=this.options.loose,Sr=Pr?cr[lr.HYPHENRANGELOOSE]:cr[lr.HYPHENRANGE];pr=pr.replace(Sr,yr(this.options.includePrerelease)),sr("hyphen replace",pr),pr=pr.replace(cr[lr.COMPARATORTRIM],ur),sr("comparator trim",pr),pr=pr.replace(cr[lr.TILDETRIM],fr),sr("tilde trim",pr),pr=pr.replace(cr[lr.CARETTRIM],dr),sr("caret trim",pr);let Mr=pr.split(" ").map(qr=>_r(qr,this.options)).join(" ").split(/\s+/).map(qr=>Tr(qr,this.options));Pr&&(Mr=Mr.filter(qr=>(sr("loose invalid filter",qr,this.options),!!qr.match(cr[lr.COMPARATORLOOSE])))),sr("range list",Mr);const Br=new Map,Ur=Mr.map(qr=>new or(qr,this.options));for(const qr of Ur){if(vr(qr))return[qr];Br.set(qr.value,qr)}Br.size>1&&Br.has("")&&Br.delete("");const Jr=[...Br.values()];return nr.set(Ar,Jr),Jr}intersects(pr,wr){if(!(pr instanceof er))throw new TypeError("a Range is required");return this.set.some(Ar=>Er(Ar,wr)&&pr.set.some(Rr=>Er(Rr,wr)&&Ar.every(Pr=>Rr.every(Sr=>Pr.intersects(Sr,wr)))))}test(pr){if(!pr)return!1;if(typeof pr=="string")try{pr=new ar(pr,this.options)}catch{return!1}for(let wr=0;wr<this.set.length;wr++)if(mr(this.set[wr],pr,this.options))return!0;return!1}}range$1=er;const rr=lrucache,nr=new rr,ir=parseOptions_1,or=requireComparator(),sr=debug_1,ar=semver$1,{safeRe:cr,t:lr,comparatorTrimReplace:ur,tildeTrimReplace:fr,caretTrimReplace:dr}=reExports,{FLAG_INCLUDE_PRERELEASE:gr,FLAG_LOOSE:br}=constants$4,vr=hr=>hr.value==="<0.0.0-0",$r=hr=>hr.value==="",Er=(hr,pr)=>{let wr=!0;const Ar=hr.slice();let Rr=Ar.pop();for(;wr&&Ar.length;)wr=Ar.every(Pr=>Rr.intersects(Pr,pr)),Rr=Ar.pop();return wr},_r=(hr,pr)=>(sr("comp",hr,pr),hr=Lr(hr,pr),sr("caret",hr),hr=Ir(hr,pr),sr("tildes",hr),hr=Or(hr,pr),sr("xrange",hr),hr=Cr(hr,pr),sr("stars",hr),hr),xr=hr=>!hr||hr.toLowerCase()==="x"||hr==="*",Ir=(hr,pr)=>hr.trim().split(/\s+/).map(wr=>Nr(wr,pr)).join(" "),Nr=(hr,pr)=>{const wr=pr.loose?cr[lr.TILDELOOSE]:cr[lr.TILDE];return hr.replace(wr,(Ar,Rr,Pr,Sr,Mr)=>{sr("tilde",hr,Ar,Rr,Pr,Sr,Mr);let Br;return xr(Rr)?Br="":xr(Pr)?Br=`>=${Rr}.0.0 <${+Rr+1}.0.0-0`:xr(Sr)?Br=`>=${Rr}.${Pr}.0 <${Rr}.${+Pr+1}.0-0`:Mr?(sr("replaceTilde pr",Mr),Br=`>=${Rr}.${Pr}.${Sr}-${Mr} <${Rr}.${+Pr+1}.0-0`):Br=`>=${Rr}.${Pr}.${Sr} <${Rr}.${+Pr+1}.0-0`,sr("tilde return",Br),Br})},Lr=(hr,pr)=>hr.trim().split(/\s+/).map(wr=>jr(wr,pr)).join(" "),jr=(hr,pr)=>{sr("caret",hr,pr);const wr=pr.loose?cr[lr.CARETLOOSE]:cr[lr.CARET],Ar=pr.includePrerelease?"-0":"";return hr.replace(wr,(Rr,Pr,Sr,Mr,Br)=>{sr("caret",hr,Rr,Pr,Sr,Mr,Br);let Ur;return xr(Pr)?Ur="":xr(Sr)?Ur=`>=${Pr}.0.0${Ar} <${+Pr+1}.0.0-0`:xr(Mr)?Pr==="0"?Ur=`>=${Pr}.${Sr}.0${Ar} <${Pr}.${+Sr+1}.0-0`:Ur=`>=${Pr}.${Sr}.0${Ar} <${+Pr+1}.0.0-0`:Br?(sr("replaceCaret pr",Br),Pr==="0"?Sr==="0"?Ur=`>=${Pr}.${Sr}.${Mr}-${Br} <${Pr}.${Sr}.${+Mr+1}-0`:Ur=`>=${Pr}.${Sr}.${Mr}-${Br} <${Pr}.${+Sr+1}.0-0`:Ur=`>=${Pr}.${Sr}.${Mr}-${Br} <${+Pr+1}.0.0-0`):(sr("no pr"),Pr==="0"?Sr==="0"?Ur=`>=${Pr}.${Sr}.${Mr}${Ar} <${Pr}.${Sr}.${+Mr+1}-0`:Ur=`>=${Pr}.${Sr}.${Mr}${Ar} <${Pr}.${+Sr+1}.0-0`:Ur=`>=${Pr}.${Sr}.${Mr} <${+Pr+1}.0.0-0`),sr("caret return",Ur),Ur})},Or=(hr,pr)=>(sr("replaceXRanges",hr,pr),hr.split(/\s+/).map(wr=>Dr(wr,pr)).join(" ")),Dr=(hr,pr)=>{hr=hr.trim();const wr=pr.loose?cr[lr.XRANGELOOSE]:cr[lr.XRANGE];return hr.replace(wr,(Ar,Rr,Pr,Sr,Mr,Br)=>{sr("xRange",hr,Ar,Rr,Pr,Sr,Mr,Br);const Ur=xr(Pr),Jr=Ur||xr(Sr),qr=Jr||xr(Mr),zr=qr;return Rr==="="&&zr&&(Rr=""),Br=pr.includePrerelease?"-0":"",Ur?Rr===">"||Rr==="<"?Ar="<0.0.0-0":Ar="*":Rr&&zr?(Jr&&(Sr=0),Mr=0,Rr===">"?(Rr=">=",Jr?(Pr=+Pr+1,Sr=0,Mr=0):(Sr=+Sr+1,Mr=0)):Rr==="<="&&(Rr="<",Jr?Pr=+Pr+1:Sr=+Sr+1),Rr==="<"&&(Br="-0"),Ar=`${Rr+Pr}.${Sr}.${Mr}${Br}`):Jr?Ar=`>=${Pr}.0.0${Br} <${+Pr+1}.0.0-0`:qr&&(Ar=`>=${Pr}.${Sr}.0${Br} <${Pr}.${+Sr+1}.0-0`),sr("xRange return",Ar),Ar})},Cr=(hr,pr)=>(sr("replaceStars",hr,pr),hr.trim().replace(cr[lr.STAR],"")),Tr=(hr,pr)=>(sr("replaceGTE0",hr,pr),hr.trim().replace(cr[pr.includePrerelease?lr.GTE0PRE:lr.GTE0],"")),yr=hr=>(pr,wr,Ar,Rr,Pr,Sr,Mr,Br,Ur,Jr,qr,zr)=>(xr(Ar)?wr="":xr(Rr)?wr=`>=${Ar}.0.0${hr?"-0":""}`:xr(Pr)?wr=`>=${Ar}.${Rr}.0${hr?"-0":""}`:Sr?wr=`>=${wr}`:wr=`>=${wr}${hr?"-0":""}`,xr(Ur)?Br="":xr(Jr)?Br=`<${+Ur+1}.0.0-0`:xr(qr)?Br=`<${Ur}.${+Jr+1}.0-0`:zr?Br=`<=${Ur}.${Jr}.${qr}-${zr}`:hr?Br=`<${Ur}.${Jr}.${+qr+1}-0`:Br=`<=${Br}`,`${wr} ${Br}`.trim()),mr=(hr,pr,wr)=>{for(let Ar=0;Ar<hr.length;Ar++)if(!hr[Ar].test(pr))return!1;if(pr.prerelease.length&&!wr.includePrerelease){for(let Ar=0;Ar<hr.length;Ar++)if(sr(hr[Ar].semver),hr[Ar].semver!==or.ANY&&hr[Ar].semver.prerelease.length>0){const Rr=hr[Ar].semver;if(Rr.major===pr.major&&Rr.minor===pr.minor&&Rr.patch===pr.patch)return!0}return!1}return!0};return range$1}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const tr=Symbol("SemVer ANY");class er{static get ANY(){return tr}constructor(ur,fr){if(fr=rr(fr),ur instanceof er){if(ur.loose===!!fr.loose)return ur;ur=ur.value}ur=ur.trim().split(/\s+/).join(" "),sr("comparator",ur,fr),this.options=fr,this.loose=!!fr.loose,this.parse(ur),this.semver===tr?this.value="":this.value=this.operator+this.semver.version,sr("comp",this)}parse(ur){const fr=this.options.loose?nr[ir.COMPARATORLOOSE]:nr[ir.COMPARATOR],dr=ur.match(fr);if(!dr)throw new TypeError(`Invalid comparator: ${ur}`);this.operator=dr[1]!==void 0?dr[1]:"",this.operator==="="&&(this.operator=""),dr[2]?this.semver=new ar(dr[2],this.options.loose):this.semver=tr}toString(){return this.value}test(ur){if(sr("Comparator.test",ur,this.options.loose),this.semver===tr||ur===tr)return!0;if(typeof ur=="string")try{ur=new ar(ur,this.options)}catch{return!1}return or(ur,this.operator,this.semver,this.options)}intersects(ur,fr){if(!(ur instanceof er))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new cr(ur.value,fr).test(this.value):ur.operator===""?ur.value===""?!0:new cr(this.value,fr).test(ur.semver):(fr=rr(fr),fr.includePrerelease&&(this.value==="<0.0.0-0"||ur.value==="<0.0.0-0")||!fr.includePrerelease&&(this.value.startsWith("<0.0.0")||ur.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&ur.operator.startsWith(">")||this.operator.startsWith("<")&&ur.operator.startsWith("<")||this.semver.version===ur.semver.version&&this.operator.includes("=")&&ur.operator.includes("=")||or(this.semver,"<",ur.semver,fr)&&this.operator.startsWith(">")&&ur.operator.startsWith("<")||or(this.semver,">",ur.semver,fr)&&this.operator.startsWith("<")&&ur.operator.startsWith(">")))}}comparator=er;const rr=parseOptions_1,{safeRe:nr,t:ir}=reExports,or=cmp_1,sr=debug_1,ar=semver$1,cr=requireRange();return comparator}const Range$9=requireRange(),satisfies$4=(tr,er,rr)=>{try{er=new Range$9(er,rr)}catch{return!1}return er.test(tr)};var satisfies_1=satisfies$4;const Range$8=requireRange(),toComparators$1=(tr,er)=>new Range$8(tr,er).set.map(rr=>rr.map(nr=>nr.value).join(" ").trim().split(" "));var toComparators_1=toComparators$1;const SemVer$4=semver$1,Range$7=requireRange(),maxSatisfying$1=(tr,er,rr)=>{let nr=null,ir=null,or=null;try{or=new Range$7(er,rr)}catch{return null}return tr.forEach(sr=>{or.test(sr)&&(!nr||ir.compare(sr)===-1)&&(nr=sr,ir=new SemVer$4(nr,rr))}),nr};var maxSatisfying_1=maxSatisfying$1;const SemVer$3=semver$1,Range$6=requireRange(),minSatisfying$1=(tr,er,rr)=>{let nr=null,ir=null,or=null;try{or=new Range$6(er,rr)}catch{return null}return tr.forEach(sr=>{or.test(sr)&&(!nr||ir.compare(sr)===1)&&(nr=sr,ir=new SemVer$3(nr,rr))}),nr};var minSatisfying_1=minSatisfying$1;const SemVer$2=semver$1,Range$5=requireRange(),gt$2=gt_1,minVersion$1=(tr,er)=>{tr=new Range$5(tr,er);let rr=new SemVer$2("0.0.0");if(tr.test(rr)||(rr=new SemVer$2("0.0.0-0"),tr.test(rr)))return rr;rr=null;for(let nr=0;nr<tr.set.length;++nr){const ir=tr.set[nr];let or=null;ir.forEach(sr=>{const ar=new SemVer$2(sr.semver.version);switch(sr.operator){case">":ar.prerelease.length===0?ar.patch++:ar.prerelease.push(0),ar.raw=ar.format();case"":case">=":(!or||gt$2(ar,or))&&(or=ar);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${sr.operator}`)}}),or&&(!rr||gt$2(rr,or))&&(rr=or)}return rr&&tr.test(rr)?rr:null};var minVersion_1=minVersion$1;const Range$4=requireRange(),validRange$1=(tr,er)=>{try{return new Range$4(tr,er).range||"*"}catch{return null}};var valid$1=validRange$1;const SemVer$1=semver$1,Comparator$2=requireComparator(),{ANY:ANY$1}=Comparator$2,Range$3=requireRange(),satisfies$3=satisfies_1,gt$1=gt_1,lt$1=lt_1,lte$1=lte_1,gte$1=gte_1,outside$3=(tr,er,rr,nr)=>{tr=new SemVer$1(tr,nr),er=new Range$3(er,nr);let ir,or,sr,ar,cr;switch(rr){case">":ir=gt$1,or=lte$1,sr=lt$1,ar=">",cr=">=";break;case"<":ir=lt$1,or=gte$1,sr=gt$1,ar="<",cr="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies$3(tr,er,nr))return!1;for(let lr=0;lr<er.set.length;++lr){const ur=er.set[lr];let fr=null,dr=null;if(ur.forEach(gr=>{gr.semver===ANY$1&&(gr=new Comparator$2(">=0.0.0")),fr=fr||gr,dr=dr||gr,ir(gr.semver,fr.semver,nr)?fr=gr:sr(gr.semver,dr.semver,nr)&&(dr=gr)}),fr.operator===ar||fr.operator===cr||(!dr.operator||dr.operator===ar)&&or(tr,dr.semver))return!1;if(dr.operator===cr&&sr(tr,dr.semver))return!1}return!0};var outside_1=outside$3;const outside$2=outside_1,gtr$1=(tr,er,rr)=>outside$2(tr,er,">",rr);var gtr_1=gtr$1;const outside$1=outside_1,ltr$1=(tr,er,rr)=>outside$1(tr,er,"<",rr);var ltr_1=ltr$1;const Range$2=requireRange(),intersects$1=(tr,er,rr)=>(tr=new Range$2(tr,rr),er=new Range$2(er,rr),tr.intersects(er,rr));var intersects_1=intersects$1;const satisfies$2=satisfies_1,compare$3=compare_1;var simplify=(tr,er,rr)=>{const nr=[];let ir=null,or=null;const sr=tr.sort((ur,fr)=>compare$3(ur,fr,rr));for(const ur of sr)satisfies$2(ur,er,rr)?(or=ur,ir||(ir=ur)):(or&&nr.push([ir,or]),or=null,ir=null);ir&&nr.push([ir,null]);const ar=[];for(const[ur,fr]of nr)ur===fr?ar.push(ur):!fr&&ur===sr[0]?ar.push("*"):fr?ur===sr[0]?ar.push(`<=${fr}`):ar.push(`${ur} - ${fr}`):ar.push(`>=${ur}`);const cr=ar.join(" || "),lr=typeof er.raw=="string"?er.raw:String(er);return cr.length<lr.length?cr:er};const Range$1=requireRange(),Comparator$1=requireComparator(),{ANY}=Comparator$1,satisfies$1=satisfies_1,compare$2=compare_1,subset$1=(tr,er,rr={})=>{if(tr===er)return!0;tr=new Range$1(tr,rr),er=new Range$1(er,rr);let nr=!1;e:for(const ir of tr.set){for(const or of er.set){const sr=simpleSubset(ir,or,rr);if(nr=nr||sr!==null,sr)continue e}if(nr)return!1}return!0},minimumVersionWithPreRelease=[new Comparator$1(">=0.0.0-0")],minimumVersion=[new Comparator$1(">=0.0.0")],simpleSubset=(tr,er,rr)=>{if(tr===er)return!0;if(tr.length===1&&tr[0].semver===ANY){if(er.length===1&&er[0].semver===ANY)return!0;rr.includePrerelease?tr=minimumVersionWithPreRelease:tr=minimumVersion}if(er.length===1&&er[0].semver===ANY){if(rr.includePrerelease)return!0;er=minimumVersion}const nr=new Set;let ir,or;for(const gr of tr)gr.operator===">"||gr.operator===">="?ir=higherGT(ir,gr,rr):gr.operator==="<"||gr.operator==="<="?or=lowerLT(or,gr,rr):nr.add(gr.semver);if(nr.size>1)return null;let sr;if(ir&&or){if(sr=compare$2(ir.semver,or.semver,rr),sr>0)return null;if(sr===0&&(ir.operator!==">="||or.operator!=="<="))return null}for(const gr of nr){if(ir&&!satisfies$1(gr,String(ir),rr)||or&&!satisfies$1(gr,String(or),rr))return null;for(const br of er)if(!satisfies$1(gr,String(br),rr))return!1;return!0}let ar,cr,lr,ur,fr=or&&!rr.includePrerelease&&or.semver.prerelease.length?or.semver:!1,dr=ir&&!rr.includePrerelease&&ir.semver.prerelease.length?ir.semver:!1;fr&&fr.prerelease.length===1&&or.operator==="<"&&fr.prerelease[0]===0&&(fr=!1);for(const gr of er){if(ur=ur||gr.operator===">"||gr.operator===">=",lr=lr||gr.operator==="<"||gr.operator==="<=",ir){if(dr&&gr.semver.prerelease&&gr.semver.prerelease.length&&gr.semver.major===dr.major&&gr.semver.minor===dr.minor&&gr.semver.patch===dr.patch&&(dr=!1),gr.operator===">"||gr.operator===">="){if(ar=higherGT(ir,gr,rr),ar===gr&&ar!==ir)return!1}else if(ir.operator===">="&&!satisfies$1(ir.semver,String(gr),rr))return!1}if(or){if(fr&&gr.semver.prerelease&&gr.semver.prerelease.length&&gr.semver.major===fr.major&&gr.semver.minor===fr.minor&&gr.semver.patch===fr.patch&&(fr=!1),gr.operator==="<"||gr.operator==="<="){if(cr=lowerLT(or,gr,rr),cr===gr&&cr!==or)return!1}else if(or.operator==="<="&&!satisfies$1(or.semver,String(gr),rr))return!1}if(!gr.operator&&(or||ir)&&sr!==0)return!1}return!(ir&&lr&&!or&&sr!==0||or&&ur&&!ir&&sr!==0||dr||fr)},higherGT=(tr,er,rr)=>{if(!tr)return er;const nr=compare$2(tr.semver,er.semver,rr);return nr>0?tr:nr<0||er.operator===">"&&tr.operator===">="?er:tr},lowerLT=(tr,er,rr)=>{if(!tr)return er;const nr=compare$2(tr.semver,er.semver,rr);return nr<0?tr:nr>0||er.operator==="<"&&tr.operator==="<="?er:tr};var subset_1=subset$1;const internalRe=reExports,constants$3=constants$4,SemVer=semver$1,identifiers=identifiers$1,parse=parse_1,valid=valid_1,clean=clean_1,inc=inc_1,diff=diff_1,major=major_1,minor=minor_1,patch=patch_1,prerelease=prerelease_1,compare$1=compare_1,rcompare=rcompare_1,compareLoose=compareLoose_1,compareBuild=compareBuild_1,sort=sort_1,rsort=rsort_1,gt=gt_1,lt=lt_1,eq=eq_1,neq=neq_1,gte=gte_1,lte=lte_1,cmp=cmp_1,coerce=coerce_1,Comparator=requireComparator(),Range=requireRange(),satisfies=satisfies_1,toComparators=toComparators_1,maxSatisfying=maxSatisfying_1,minSatisfying=minSatisfying_1,minVersion=minVersion_1,validRange=valid$1,outside=outside_1,gtr=gtr_1,ltr=ltr_1,intersects=intersects_1,simplifyRange=simplify,subset=subset_1;var semver={parse,valid,clean,inc,diff,major,minor,patch,prerelease,compare:compare$1,rcompare,compareLoose,compareBuild,sort,rsort,gt,lt,eq,neq,gte,lte,cmp,coerce,Comparator,Range,satisfies,toComparators,maxSatisfying,minSatisfying,minVersion,validRange,outside,gtr,ltr,intersects,simplifyRange,subset,SemVer,re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:constants$3.SEMVER_SPEC_VERSION,RELEASE_TYPES:constants$3.RELEASE_TYPES,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.satisfiesVersionRange=tr.gtRange=tr.gtVersion=tr.assertIsSemVerRange=tr.assertIsSemVerVersion=tr.isValidSemVerRange=tr.isValidSemVerVersion=tr.VersionRangeStruct=tr.VersionStruct=void 0;const er=dist$4,rr=semver,nr=assert$3;tr.VersionStruct=(0,er.refine)((0,er.string)(),"Version",fr=>(0,rr.valid)(fr)===null?`Expected SemVer version, got "${fr}"`:!0),tr.VersionRangeStruct=(0,er.refine)((0,er.string)(),"Version range",fr=>(0,rr.validRange)(fr)===null?`Expected SemVer range, got "${fr}"`:!0);function ir(fr){return(0,er.is)(fr,tr.VersionStruct)}tr.isValidSemVerVersion=ir;function or(fr){return(0,er.is)(fr,tr.VersionRangeStruct)}tr.isValidSemVerRange=or;function sr(fr){(0,nr.assertStruct)(fr,tr.VersionStruct)}tr.assertIsSemVerVersion=sr;function ar(fr){(0,nr.assertStruct)(fr,tr.VersionRangeStruct)}tr.assertIsSemVerRange=ar;function cr(fr,dr){return(0,rr.gt)(fr,dr)}tr.gtVersion=cr;function lr(fr,dr){return(0,rr.gtr)(fr,dr)}tr.gtRange=lr;function ur(fr,dr){return(0,rr.satisfies)(fr,dr,{includePrerelease:!0})}tr.satisfiesVersionRange=ur})(versions);(function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(nr,ir,or,sr){sr===void 0&&(sr=or);var ar=Object.getOwnPropertyDescriptor(ir,or);(!ar||("get"in ar?!ir.__esModule:ar.writable||ar.configurable))&&(ar={enumerable:!0,get:function(){return ir[or]}}),Object.defineProperty(nr,sr,ar)}:function(nr,ir,or,sr){sr===void 0&&(sr=or),nr[sr]=ir[or]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(nr,ir){for(var or in nr)or!=="default"&&!Object.prototype.hasOwnProperty.call(ir,or)&&er(ir,nr,or)};Object.defineProperty(tr,"__esModule",{value:!0}),rr(assert$3,tr),rr(base64$1,tr),rr(requireBytes(),tr),rr(caipTypes,tr),rr(checksum,tr),rr(coercers,tr),rr(collections,tr),rr(encryptionTypes,tr),rr(errors$3,tr),rr(requireHex(),tr),rr(json,tr),rr(keyring,tr),rr(logging,tr),rr(misc,tr),rr(number$1,tr),rr(opaque,tr),rr(promise,tr),rr(time,tr),rr(transactionTypes,tr),rr(versions,tr)})(dist$2);var errors$2={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.ParserError=tr.getErrorStack=tr.getErrorMessage=void 0;const er=dist$2,rr=or=>typeof or=="string"?or:or instanceof Error||(0,er.isObject)(or)&&(0,er.hasProperty)(or,"message")&&typeof or.message=="string"?or.message:"Unknown error.";tr.getErrorMessage=rr;const nr=or=>{if(or instanceof Error)return or.stack};tr.getErrorStack=nr;class ir extends Error{constructor(sr,ar){super(sr),this.name="ParserError";const cr=(0,tr.getErrorStack)(ar);cr&&(this.stack=cr)}}tr.ParserError=ir})(errors$2);var packer={},iterator={};Object.defineProperty(iterator,"__esModule",{value:!0});iterator.iterate=void 0;const utils_1$6=dist$2,iterate=function*(tr,er=32){for(let rr=0;rr<tr.length;rr+=er){const nr=or=>{(0,utils_1$6.assert)(or>=0,"Cannot skip a negative number of bytes."),(0,utils_1$6.assert)(or%er===0,"Length must be a multiple of the size."),rr+=or},ir=tr.subarray(rr);yield{skip:nr,value:ir}}return{skip:()=>{},value:new Uint8Array}};iterator.iterate=iterate;var parsers={},address={},utils$1={},buffer={};Object.defineProperty(buffer,"__esModule",{value:!0});buffer.padEnd=buffer.padStart=buffer.set=void 0;const utils_1$5=dist$2,BUFFER_WIDTH=32,set=(tr,er,rr)=>(0,utils_1$5.concatBytes)([tr.subarray(0,rr),er,tr.subarray(rr+er.length)]);buffer.set=set;const padStart=(tr,er=BUFFER_WIDTH)=>{const rr=new Uint8Array(Math.max(er-tr.length,0)).fill(0);return(0,utils_1$5.concatBytes)([rr,tr])};buffer.padStart=padStart;const padEnd=(tr,er=BUFFER_WIDTH)=>{const rr=new Uint8Array(Math.max(er-tr.length,0)).fill(0);return(0,utils_1$5.concatBytes)([tr,rr])};buffer.padEnd=padEnd;(function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(nr,ir,or,sr){sr===void 0&&(sr=or);var ar=Object.getOwnPropertyDescriptor(ir,or);(!ar||("get"in ar?!ir.__esModule:ar.writable||ar.configurable))&&(ar={enumerable:!0,get:function(){return ir[or]}}),Object.defineProperty(nr,sr,ar)}:function(nr,ir,or,sr){sr===void 0&&(sr=or),nr[sr]=ir[or]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(nr,ir){for(var or in nr)or!=="default"&&!Object.prototype.hasOwnProperty.call(ir,or)&&er(ir,nr,or)};Object.defineProperty(tr,"__esModule",{value:!0}),rr(buffer,tr)})(utils$1);(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.address=tr.getAddress=void 0;const er=dist$2,rr=errors$2,nr=utils$1,ir=or=>{const sr=(0,er.createBytes)(or);return(0,er.assert)(sr.length<=20,new rr.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${sr.length} bytes.`)),(0,nr.padStart)(sr,20)};tr.getAddress=ir,tr.address={isDynamic:!1,isType:or=>or==="address",getByteLength(){return 32},encode({buffer:or,value:sr,packed:ar}){const cr=(0,tr.getAddress)(sr);if(ar)return(0,er.concatBytes)([or,cr]);const lr=(0,nr.padStart)(cr);return(0,er.concatBytes)([or,lr])},decode({value:or}){return(0,er.add0x)((0,er.bytesToHex)(or.slice(12,32)))}}})(address);var array={},fixedBytes={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.fixedBytes=tr.getByteLength=void 0;const er=dist$2,rr=errors$2,nr=utils$1,ir=/^bytes([0-9]{1,2})$/u,or=sr=>{const ar=sr.match(ir)?.[1];(0,er.assert)(ar,`Invalid byte length. Expected a number between 1 and 32, but received "${sr}".`);const cr=Number(ar);return(0,er.assert)(cr>0&&cr<=32,new rr.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${sr}".`)),cr};tr.getByteLength=or,tr.fixedBytes={isDynamic:!1,isType(sr){return ir.test(sr)},getByteLength(){return 32},encode({type:sr,buffer:ar,value:cr,packed:lr}){const ur=(0,tr.getByteLength)(sr),fr=(0,er.createBytes)(cr);return(0,er.assert)(fr.length<=ur,new rr.ParserError(`Expected a value of length ${ur}, but received a value of length ${fr.length}.`)),lr?(0,er.concatBytes)([ar,(0,nr.padEnd)(fr,ur)]):(0,er.concatBytes)([ar,(0,nr.padEnd)(fr)])},decode({type:sr,value:ar}){const cr=(0,tr.getByteLength)(sr);return ar.slice(0,cr)}}})(fixedBytes);var tuple={},hasRequiredTuple;function requireTuple(){return hasRequiredTuple||(hasRequiredTuple=1,function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.tuple=tr.getTupleElements=void 0;const er=dist$2,rr=errors$2,nr=requirePacker(),ir=/^\((.+)\)$/u,or=ar=>ir.test(ar),sr=ar=>{(0,er.assert)(ar.startsWith("(")&&ar.endsWith(")"),new rr.ParserError(`Invalid tuple type. Expected tuple type, but received "${ar}".`));const cr=[];let lr="",ur=0;for(let fr=1;fr<ar.length-1;fr++){const dr=ar[fr];dr===","&&ur===0?(cr.push(lr.trim()),lr=""):(lr+=dr,dr==="("?ur+=1:dr===")"&&(ur-=1))}return lr.trim()&&cr.push(lr.trim()),cr};tr.getTupleElements=sr,tr.tuple={isDynamic(ar){return(0,tr.getTupleElements)(ar).some(lr=>{const ur=(0,nr.getParser)(lr);return(0,nr.isDynamicParser)(ur,lr)})},isType(ar){return or(ar)},getByteLength(ar){return(0,nr.isDynamicParser)(this,ar)?32:(0,tr.getTupleElements)(ar).reduce((lr,ur)=>lr+(0,nr.getParser)(ur).getByteLength(ur),0)},encode({type:ar,buffer:cr,value:lr,packed:ur,tight:fr}){const dr=(0,tr.getTupleElements)(ar);return(0,nr.pack)({types:dr,values:lr,byteArray:cr,packed:ur,tight:fr})},decode({type:ar,value:cr,skip:lr}){const ur=(0,tr.getTupleElements)(ar),fr=this.getByteLength(ar)-32;return lr(fr),(0,nr.unpack)(ur,cr)}}}(tuple)),tuple}var hasRequiredArray;function requireArray(){return hasRequiredArray||(hasRequiredArray=1,function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.array=tr.getTupleType=tr.getArrayType=tr.isArrayType=void 0;const er=dist$2,rr=errors$2,nr=requirePacker(),ir=utils$1,or=fixedBytes,sr=requireTuple(),ar=/^(?<type>.*)\[(?<length>\d*?)\]$/u,cr=fr=>ar.test(fr);tr.isArrayType=cr;const lr=fr=>{const dr=fr.match(ar);return(0,er.assert)(dr?.groups?.type,new rr.ParserError(`Invalid array type. Expected an array type, but received "${fr}".`)),[dr.groups.type,dr.groups.length?parseInt(dr.groups.length,10):void 0]};tr.getArrayType=lr;const ur=(fr,dr)=>`(${new Array(dr).fill(fr).join(",")})`;tr.getTupleType=ur,tr.array={isDynamic(fr){const[dr,gr]=(0,tr.getArrayType)(fr);return gr===void 0||(0,nr.isDynamicParser)((0,nr.getParser)(dr),dr)},isType(fr){return(0,tr.isArrayType)(fr)},getByteLength(fr){(0,er.assert)((0,tr.isArrayType)(fr),new rr.ParserError(`Expected an array type, but received "${fr}".`));const[dr,gr]=(0,tr.getArrayType)(fr);return!(0,nr.isDynamicParser)(this,fr)&&gr!==void 0?sr.tuple.getByteLength((0,tr.getTupleType)(dr,gr)):32},encode({type:fr,buffer:dr,value:gr,packed:br,tight:vr}){const[$r,Er]=(0,tr.getArrayType)(fr);if((0,er.assert)(!br||!(0,tr.isArrayType)($r),new rr.ParserError("Cannot pack nested arrays.")),br&&(0,nr.isDynamicParser)((0,nr.getParser)($r),$r))return(0,nr.pack)({types:new Array(gr.length).fill($r),values:gr,byteArray:dr,packed:br,arrayPacked:!0,tight:vr});if(Er)return(0,er.assert)(Er===gr.length,new rr.ParserError(`Array length does not match type length. Expected a length of ${Er}, but received ${gr.length}.`)),sr.tuple.encode({type:(0,tr.getTupleType)($r,Er),buffer:dr,value:gr,packed:or.fixedBytes.isType($r)&&vr,tight:vr});if(br)return(0,nr.pack)({types:new Array(gr.length).fill($r),values:gr,byteArray:dr,packed:or.fixedBytes.isType($r)&&vr,arrayPacked:!0,tight:vr});const _r=(0,ir.padStart)((0,er.numberToBytes)(gr.length));return(0,nr.pack)({types:new Array(gr.length).fill($r),values:gr,byteArray:(0,er.concatBytes)([dr,_r]),packed:br,tight:vr})},decode({type:fr,value:dr,...gr}){const[br,vr]=(0,tr.getArrayType)(fr);if(vr){const Er=sr.tuple.decode({type:(0,tr.getTupleType)(br,vr),value:dr,...gr});return(0,er.assert)(Er.length===vr,new rr.ParserError(`Array length does not match type length. Expected a length of ${vr}, but received ${Er.length}.`)),Er}const $r=(0,er.bytesToNumber)(dr.subarray(0,32));return(0,nr.unpack)(new Array($r).fill(br),dr.subarray(32))}}}(array)),array}var bool={},number={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.number=tr.getBigInt=tr.assertNumberLength=tr.getLength=tr.isSigned=void 0;const er=dist$2,rr=errors$2,nr=utils$1,ir=/^u?int(?<length>[0-9]*)?$/u,or=lr=>!lr.startsWith("u");tr.isSigned=or;const sr=lr=>{if(lr==="int"||lr==="uint")return 256;const ur=lr.match(ir);(0,er.assert)(ur?.groups?.length,new rr.ParserError(`Invalid number type. Expected a number type, but received "${lr}".`));const fr=parseInt(ur.groups.length,10);return(0,er.assert)(fr>=8&&fr<=256,new rr.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${lr}".`)),(0,er.assert)(fr%8===0,new rr.ParserError(`Invalid number length. Expected a multiple of 8, but received "${lr}".`)),fr};tr.getLength=sr;const ar=(lr,ur)=>{const fr=(0,tr.getLength)(ur),dr=BigInt(2)**BigInt(fr-((0,tr.isSigned)(ur)?1:0))-BigInt(1);if((0,tr.isSigned)(ur)){(0,er.assert)(lr>=-(dr+BigInt(1))&&lr<=dr,new rr.ParserError(`Number "${lr}" is out of range for type "${ur}".`));return}(0,er.assert)(lr<=dr,new rr.ParserError(`Number "${lr}" is out of range for type "${ur}".`))};tr.assertNumberLength=ar;const cr=lr=>{try{return(0,er.createBigInt)(lr)}catch{throw new rr.ParserError(`Invalid number. Expected a valid number value, but received "${lr}".`)}};tr.getBigInt=cr,tr.number={isDynamic:!1,isType(lr){return ir.test(lr)},getByteLength(){return 32},encode({type:lr,buffer:ur,value:fr,packed:dr}){const gr=(0,tr.getBigInt)(fr);if((0,tr.assertNumberLength)(gr,lr),(0,tr.isSigned)(lr)){if(dr){const br=(0,tr.getLength)(lr)/8;return(0,er.concatBytes)([ur,(0,er.signedBigIntToBytes)(gr,br)])}return(0,er.concatBytes)([ur,(0,nr.padStart)((0,er.signedBigIntToBytes)(gr,32))])}if(dr){const br=(0,tr.getLength)(lr)/8;return(0,er.concatBytes)([ur,(0,nr.padStart)((0,er.bigIntToBytes)(gr),br)])}return(0,er.concatBytes)([ur,(0,nr.padStart)((0,er.bigIntToBytes)(gr))])},decode({type:lr,value:ur}){const fr=ur.subarray(0,32);if((0,tr.isSigned)(lr)){const gr=(0,er.bytesToSignedBigInt)(fr);return(0,tr.assertNumberLength)(gr,lr),gr}const dr=(0,er.bytesToBigInt)(fr);return(0,tr.assertNumberLength)(dr,lr),dr}}})(number);(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.bool=tr.getBooleanValue=void 0;const er=dist$4,rr=dist$2,nr=errors$2,ir=number,or=(0,er.coerce)((0,er.boolean)(),(0,er.union)([(0,er.literal)("true"),(0,er.literal)("false")]),ar=>ar==="true"),sr=ar=>{try{return(0,er.create)(ar,or)?BigInt(1):BigInt(0)}catch{throw new nr.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${ar}".`)}};tr.getBooleanValue=sr,tr.bool={isDynamic:!1,isType:ar=>ar==="bool",getByteLength(){return 32},encode({buffer:ar,value:cr,packed:lr,tight:ur}){const fr=(0,tr.getBooleanValue)(cr);return lr?(0,rr.concatBytes)([ar,(0,rr.bigIntToBytes)(fr)]):ir.number.encode({type:"uint256",buffer:ar,value:fr,packed:lr,tight:ur})},decode(ar){return ir.number.decode({...ar,type:"uint256"})===BigInt(1)}}})(bool);var bytes={};Object.defineProperty(bytes,"__esModule",{value:!0});bytes.bytes=void 0;const utils_1$4=dist$2,utils_2=utils$1;bytes.bytes={isDynamic:!0,isType:tr=>tr==="bytes",getByteLength(){return 32},encode({buffer:tr,value:er,packed:rr}){const nr=(0,utils_1$4.createBytes)(er);if(rr)return(0,utils_1$4.concatBytes)([tr,nr]);const ir=Math.ceil(nr.byteLength/32)*32;return(0,utils_1$4.concatBytes)([tr,(0,utils_2.padStart)((0,utils_1$4.numberToBytes)(nr.byteLength)),(0,utils_2.padEnd)(nr,ir)])},decode({value:tr}){const er=tr.subarray(0,32),rr=(0,utils_1$4.bytesToNumber)(er);return tr.slice(32,32+rr)}};var _function={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.fn=tr.getFunction=void 0;const er=dist$4,rr=dist$2,nr=errors$2,ir=fixedBytes,or=(0,er.coerce)((0,er.object)({address:rr.StrictHexStruct,selector:rr.StrictHexStruct}),(0,er.union)([rr.StrictHexStruct,(0,er.instance)(Uint8Array)]),ar=>{const cr=(0,rr.createBytes)(ar);return(0,rr.assert)(cr.length===24,new nr.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${cr.length} bytes.`)),{address:(0,rr.bytesToHex)(cr.subarray(0,20)),selector:(0,rr.bytesToHex)(cr.subarray(20,24))}}),sr=ar=>{const cr=(0,er.create)(ar,or);return(0,rr.concatBytes)([(0,rr.hexToBytes)(cr.address),(0,rr.hexToBytes)(cr.selector)])};tr.getFunction=sr,tr.fn={isDynamic:!1,isType:ar=>ar==="function",getByteLength(){return 32},encode({buffer:ar,value:cr,packed:lr,tight:ur}){const fr=(0,tr.getFunction)(cr);return ir.fixedBytes.encode({type:"bytes24",buffer:ar,value:fr,packed:lr,tight:ur})},decode({value:ar}){return{address:(0,rr.bytesToHex)(ar.slice(0,20)),selector:(0,rr.bytesToHex)(ar.slice(20,24))}}}})(_function);var parser={};Object.defineProperty(parser,"__esModule",{value:!0});var string={};Object.defineProperty(string,"__esModule",{value:!0});string.string=void 0;const utils_1$3=dist$2,bytes_1=bytes;string.string={isDynamic:!0,isType:tr=>tr==="string",getByteLength(){return 32},encode({buffer:tr,value:er,packed:rr,tight:nr}){return bytes_1.bytes.encode({type:"bytes",buffer:tr,value:(0,utils_1$3.stringToBytes)(er),packed:rr,tight:nr})},decode(tr){return(0,utils_1$3.bytesToString)(bytes_1.bytes.decode(tr))}};var hasRequiredParsers;function requireParsers(){return hasRequiredParsers||(hasRequiredParsers=1,function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(nr,ir,or,sr){sr===void 0&&(sr=or);var ar=Object.getOwnPropertyDescriptor(ir,or);(!ar||("get"in ar?!ir.__esModule:ar.writable||ar.configurable))&&(ar={enumerable:!0,get:function(){return ir[or]}}),Object.defineProperty(nr,sr,ar)}:function(nr,ir,or,sr){sr===void 0&&(sr=or),nr[sr]=ir[or]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(nr,ir){for(var or in nr)or!=="default"&&!Object.prototype.hasOwnProperty.call(ir,or)&&er(ir,nr,or)};Object.defineProperty(tr,"__esModule",{value:!0}),rr(address,tr),rr(requireArray(),tr),rr(bool,tr),rr(bytes,tr),rr(fixedBytes,tr),rr(_function,tr),rr(number,tr),rr(parser,tr),rr(string,tr),rr(requireTuple(),tr)}(parsers)),parsers}var hasRequiredPacker;function requirePacker(){return hasRequiredPacker||(hasRequiredPacker=1,function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.unpack=tr.pack=tr.isDynamicParser=tr.getParser=void 0;const er=dist$2,rr=errors$2,nr=iterator,ir=requireParsers(),or=utils$1,sr=ur=>{const fr={address:ir.address,array:ir.array,bool:ir.bool,bytes:ir.bytes,fixedBytes:ir.fixedBytes,function:ir.fn,number:ir.number,string:ir.string,tuple:ir.tuple},dr=fr[ur];if(dr)return dr;const gr=Object.values(fr).find(br=>br.isType(ur));if(gr)return gr;throw new rr.ParserError(`The type "${ur}" is not supported.`)};tr.getParser=sr;const ar=(ur,fr)=>{const{isDynamic:dr}=ur;return typeof dr=="function"?dr(fr):dr};tr.isDynamicParser=ar;const cr=({types:ur,values:fr,packed:dr=!1,tight:gr=!1,arrayPacked:br=!1,byteArray:vr=new Uint8Array})=>{(0,er.assert)(ur.length===fr.length,new rr.ParserError(`The number of types (${ur.length}) does not match the number of values (${fr.length}).`));const{staticBuffer:$r,dynamicBuffer:Er,pointers:_r}=ur.reduce(({staticBuffer:Nr,dynamicBuffer:Lr,pointers:jr},Or,Dr)=>{const Cr=(0,tr.getParser)(Or),Tr=fr[Dr];if(dr||br||!(0,tr.isDynamicParser)(Cr,Or))return{staticBuffer:Cr.encode({buffer:Nr,value:Tr,type:Or,packed:dr,tight:gr}),dynamicBuffer:Lr,pointers:jr};const yr=(0,er.concatBytes)([Nr,new Uint8Array(32)]),mr=Cr.encode({buffer:Lr,value:Tr,type:Or,packed:dr,tight:gr});return{staticBuffer:yr,dynamicBuffer:mr,pointers:[...jr,{position:Nr.length,pointer:Lr.length}]}},{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,er.assert)(!dr&&!br||Er.length===0,new rr.ParserError("Invalid pack state."));const xr=$r.length,Ir=_r.reduce((Nr,{pointer:Lr,position:jr})=>{const Or=(0,or.padStart)((0,er.numberToBytes)(xr+Lr));return(0,or.set)(Nr,Or,jr)},$r);return(0,er.concatBytes)([vr,Ir,Er])};tr.pack=cr;const lr=(ur,fr)=>{const dr=(0,nr.iterate)(fr);return ur.map(gr=>{const{value:{value:br,skip:vr},done:$r}=dr.next();(0,er.assert)(!$r,new rr.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${gr}".`));const Er=(0,tr.getParser)(gr);if((0,tr.isDynamicParser)(Er,gr)){const xr=(0,er.bytesToNumber)(br.subarray(0,32)),Ir=fr.subarray(xr);return Er.decode({type:gr,value:Ir,skip:vr})}return Er.decode({type:gr,value:br,skip:vr})})};tr.unpack=lr}(packer)),packer}(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.decodeSingle=tr.decode=tr.encodePacked=tr.encodeSingle=tr.encode=void 0;const er=dist$2,rr=errors$2,nr=requirePacker(),ir=(lr,ur,fr,dr)=>{try{return(0,nr.pack)({types:lr,values:ur,packed:fr,tight:dr})}catch(gr){throw gr instanceof rr.ParserError?new rr.ParserError(`Unable to encode value: ${gr.message}`,gr):new rr.ParserError(`An unexpected error occurred: ${(0,rr.getErrorMessage)(gr)}`,gr)}};tr.encode=ir;const or=(lr,ur)=>(0,tr.encode)([lr],[ur]);tr.encodeSingle=or;const sr=(lr,ur,fr)=>(0,tr.encode)(lr,ur,!0,fr);tr.encodePacked=sr;const ar=(lr,ur)=>{const fr=(0,er.createBytes)(ur);try{return(0,nr.unpack)(lr,fr)}catch(dr){throw dr instanceof rr.ParserError?new rr.ParserError(`Unable to decode value: ${dr.message}`,dr):new rr.ParserError(`An unexpected error occurred: ${(0,rr.getErrorMessage)(dr)}`,dr)}};tr.decode=ar;const cr=(lr,ur)=>{const fr=(0,tr.decode)([lr],ur);return(0,er.assert)(fr.length===1,new rr.ParserError("Decoded value array has unexpected length.")),fr[0]};tr.decodeSingle=cr})(abi$3);var types$1={},abi$2={};Object.defineProperty(abi$2,"__esModule",{value:!0});(function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(nr,ir,or,sr){sr===void 0&&(sr=or);var ar=Object.getOwnPropertyDescriptor(ir,or);(!ar||("get"in ar?!ir.__esModule:ar.writable||ar.configurable))&&(ar={enumerable:!0,get:function(){return ir[or]}}),Object.defineProperty(nr,sr,ar)}:function(nr,ir,or,sr){sr===void 0&&(sr=or),nr[sr]=ir[or]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(nr,ir){for(var or in nr)or!=="default"&&!Object.prototype.hasOwnProperty.call(ir,or)&&er(ir,nr,or)};Object.defineProperty(tr,"__esModule",{value:!0}),rr(abi$2,tr)})(types$1);(function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(nr,ir,or,sr){sr===void 0&&(sr=or);var ar=Object.getOwnPropertyDescriptor(ir,or);(!ar||("get"in ar?!ir.__esModule:ar.writable||ar.configurable))&&(ar={enumerable:!0,get:function(){return ir[or]}}),Object.defineProperty(nr,sr,ar)}:function(nr,ir,or,sr){sr===void 0&&(sr=or),nr[sr]=ir[or]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(nr,ir){for(var or in nr)or!=="default"&&!Object.prototype.hasOwnProperty.call(ir,or)&&er(ir,nr,or)};Object.defineProperty(tr,"__esModule",{value:!0}),rr(abi$3,tr),rr(errors$2,tr),rr(types$1,tr)})(dist$3);(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.recoverTypedSignature=tr.signTypedData=tr.typedSignatureHash=tr.TypedDataUtils=tr.TYPED_MESSAGE_SCHEMA=tr.SignTypedDataVersion=void 0;const er=dist$7,rr=dist$3,nr=requireParsers(),ir=utils$1,or=dist$5,sr=keccak$3,ar=utils$3;var cr;(function(yr){yr.V1="V1",yr.V3="V3",yr.V4="V4"})(cr=tr.SignTypedDataVersion||(tr.SignTypedDataVersion={})),tr.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function lr(yr,mr){if(Object.keys(cr).includes(yr)){if(mr&&!mr.includes(yr))throw new Error(`SignTypedDataVersion not allowed: '${yr}'. Allowed versions are: ${mr.join(", ")}`)}else throw new Error(`Invalid version: '${yr}'`)}function ur(yr,mr){(0,or.assert)(mr!==null,`Unable to encode value: Invalid number. Expected a valid number value, but received "${mr}".`);const hr=BigInt(mr),pr=(0,nr.getLength)(yr),wr=BigInt(2)**BigInt(pr)-BigInt(1);return(0,or.assert)(hr>=-wr&&hr<=wr,`Unable to encode value: Number "${mr}" is out of range for type "${yr}".`),hr}function fr(yr){let mr=BigInt(0);for(let hr=0;hr<yr.length;hr++){const pr=BigInt(yr.charCodeAt(hr)-48);mr*=BigInt(10),pr>=49?mr+=pr-BigInt(49)+BigInt(10):pr>=17?mr+=pr-BigInt(17)+BigInt(10):mr+=pr}return(0,ir.padStart)((0,or.bigIntToBytes)(mr),20)}function dr(yr,mr,hr,pr,wr){if(lr(wr,[cr.V3,cr.V4]),yr[hr]!==void 0)return["bytes32",wr===cr.V4&&pr==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,er.arrToBufArr)((0,sr.keccak256)(gr(hr,pr,yr,wr)))];if(hr==="function")throw new Error('Unsupported or invalid type: "function"');if(pr===void 0)throw new Error(`missing value for field ${mr} of type ${hr}`);if(hr==="address"){if(typeof pr=="number")return["address",(0,ir.padStart)((0,or.numberToBytes)(pr),20)];if((0,or.isStrictHexString)(pr))return["address",(0,or.add0x)(pr)];if(typeof pr=="string")return["address",fr(pr).subarray(0,20)]}if(hr==="bool")return["bool",!!pr];if(hr==="bytes")return typeof pr=="number"?pr=(0,or.numberToBytes)(pr):(0,or.isStrictHexString)(pr)||pr==="0x"?pr=(0,or.hexToBytes)(pr):typeof pr=="string"&&(pr=(0,or.stringToBytes)(pr)),["bytes32",(0,er.arrToBufArr)((0,sr.keccak256)(pr))];if(hr.startsWith("bytes")&&hr!=="bytes"&&!hr.includes("["))return typeof pr=="number"?pr<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,or.bigIntToBytes)(BigInt(pr))]:(0,or.isStrictHexString)(pr)?["bytes32",(0,or.hexToBytes)(pr)]:["bytes32",pr];if(hr.startsWith("int")&&!hr.includes("[")){const Ar=ur(hr,pr);return Ar>=BigInt(0)?["uint256",Ar]:["int256",Ar]}if(hr==="string")return typeof pr=="number"?pr=(0,or.numberToBytes)(pr):pr=(0,or.stringToBytes)(pr??""),["bytes32",(0,er.arrToBufArr)((0,sr.keccak256)(pr))];if(hr.endsWith("]")){if(wr===cr.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const Ar=hr.slice(0,hr.lastIndexOf("[")),Rr=pr.map(Pr=>dr(yr,mr,Ar,Pr,wr));return["bytes32",(0,er.arrToBufArr)((0,sr.keccak256)((0,rr.encode)(Rr.map(([Pr])=>Pr),Rr.map(([,Pr])=>Pr))))]}return[hr,pr]}function gr(yr,mr,hr,pr){lr(pr,[cr.V3,cr.V4]);const wr=["bytes32"],Ar=[Er(yr,hr)];for(const Rr of hr[yr]){if(pr===cr.V3&&mr[Rr.name]===void 0)continue;const[Pr,Sr]=dr(hr,Rr.name,Rr.type,mr[Rr.name],pr);wr.push(Pr),Ar.push(Sr)}return(0,er.arrToBufArr)((0,rr.encode)(wr,Ar))}function br(yr,mr){let hr="";const pr=vr(yr,mr);pr.delete(yr);const wr=[yr,...Array.from(pr).sort()];for(const Ar of wr){if(!mr[Ar])throw new Error(`No type definition specified: ${Ar}`);hr+=`${Ar}(${mr[Ar].map(({name:Pr,type:Sr})=>`${Sr} ${Pr}`).join(",")})`}return hr}function vr(yr,mr,hr=new Set){if(typeof yr!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(yr)}`);if([yr]=yr.match(/^\w*/u),hr.has(yr)||mr[yr]===void 0)return hr;hr.add(yr);for(const wr of mr[yr])vr(wr.type,mr,hr);return hr}function $r(yr,mr,hr,pr){lr(pr,[cr.V3,cr.V4]);const wr=gr(yr,mr,hr,pr),Ar=(0,sr.keccak256)(wr);return(0,er.arrToBufArr)(Ar)}function Er(yr,mr){const hr=(0,or.stringToBytes)(br(yr,mr));return(0,er.arrToBufArr)((0,sr.keccak256)(hr))}function _r(yr){const mr={};for(const hr in tr.TYPED_MESSAGE_SCHEMA.properties)yr[hr]&&(mr[hr]=yr[hr]);return"types"in mr&&(mr.types=Object.assign({EIP712Domain:[]},mr.types)),mr}function xr(yr,mr){lr(mr,[cr.V3,cr.V4]);const hr=_r(yr),{domain:pr}=hr,wr={EIP712Domain:hr.types.EIP712Domain};return $r("EIP712Domain",pr,wr,mr)}function Ir(yr,mr){lr(mr,[cr.V3,cr.V4]);const hr=_r(yr),pr=[(0,or.hexToBytes)("1901")];return pr.push(xr(yr,mr)),hr.primaryType!=="EIP712Domain"&&pr.push($r(hr.primaryType,hr.message,hr.types,mr)),(0,er.arrToBufArr)((0,sr.keccak256)((0,or.concatBytes)(pr)))}tr.TypedDataUtils={encodeData:gr,encodeType:br,findTypeDependencies:vr,hashStruct:$r,hashType:Er,sanitizeData:_r,eip712Hash:Ir,eip712DomainHash:xr};function Nr(yr){const mr=Dr(yr);return(0,or.bytesToHex)(mr)}tr.typedSignatureHash=Nr;function Lr(yr,mr){if((0,nr.isArrayType)(yr)&&Array.isArray(mr)){const[hr]=(0,nr.getArrayType)(yr);return mr.map(pr=>Lr(hr,pr))}if(yr==="address"){if(typeof mr=="number")return(0,ir.padStart)((0,or.numberToBytes)(mr),20);if((0,or.isStrictHexString)(mr))return(0,ir.padStart)((0,or.hexToBytes)(mr).subarray(0,20),20);if(mr instanceof Uint8Array)return(0,ir.padStart)(mr.subarray(0,20),20)}if(yr==="bool")return!!mr;if(yr.startsWith("bytes")&&yr!=="bytes"){const hr=(0,nr.getByteLength)(yr);if(typeof mr=="number")return mr<0?new Uint8Array:(0,or.numberToBytes)(mr).subarray(0,hr);if((0,or.isStrictHexString)(mr))return(0,or.hexToBytes)(mr).subarray(0,hr);if(mr instanceof Uint8Array)return mr.subarray(0,hr)}if(yr.startsWith("uint")&&typeof mr=="number")return Math.abs(mr);if(yr.startsWith("int")&&typeof mr=="number"){const hr=(0,nr.getLength)(yr);return BigInt.asIntN(hr,BigInt(mr))}return mr}function jr(yr){return yr.map(mr=>typeof mr=="number"?(0,ir.padStart)((0,or.numberToBytes)(mr),32):(0,or.isStrictHexString)(mr)?(0,ir.padStart)((0,or.hexToBytes)(mr).subarray(0,32),32):mr instanceof Uint8Array?(0,ir.padStart)(mr.subarray(0,32),32):mr)}function Or(yr,mr){return mr.map(hr=>{if(typeof hr=="string"||typeof hr=="number"||typeof hr=="bigint"){const pr=ur(yr,hr);if(pr>=BigInt(0))return(0,ir.padStart)((0,or.bigIntToBytes)(pr),32);const wr=(0,nr.getLength)(yr),Ar=BigInt.asIntN(wr,pr);return(0,or.signedBigIntToBytes)(Ar,32)}return hr})}function Dr(yr){const mr=new Error("Expect argument to be non-empty array");if(typeof yr!="object"||!("length"in yr)||!yr.length)throw mr;const hr=yr.map(({name:Rr,type:Pr,value:Sr})=>{if(Pr==="address[]")return{name:Rr,type:"bytes32[]",value:jr(Sr)};if(Pr.startsWith("int")&&(0,nr.isArrayType)(Pr)){const[Mr,Br]=(0,nr.getArrayType)(Pr);return{name:Rr,type:`bytes32[${Br??""}]`,value:Or(Mr,Sr)}}return{name:Rr,type:Pr,value:Lr(Pr,Sr)}}),pr=hr.map(Rr=>Rr.type!=="bytes"?Rr.value:(0,ar.legacyToBuffer)(Rr.value)),wr=hr.map(Rr=>{if(Rr.type==="function")throw new Error('Unsupported or invalid type: "function"');return Rr.type}),Ar=yr.map(Rr=>{if(!Rr.name)throw mr;return`${Rr.type} ${Rr.name}`});return(0,er.arrToBufArr)((0,sr.keccak256)((0,rr.encodePacked)(["bytes32","bytes32"],[(0,sr.keccak256)((0,rr.encodePacked)(["string[]"],[Ar],!0)),(0,sr.keccak256)((0,rr.encodePacked)(wr,pr,!0))])))}function Cr({privateKey:yr,data:mr,version:hr}){if(lr(hr),(0,ar.isNullish)(mr))throw new Error("Missing data parameter");if((0,ar.isNullish)(yr))throw new Error("Missing private key parameter");const pr=hr===cr.V1?Dr(mr):tr.TypedDataUtils.eip712Hash(mr,hr),wr=(0,er.ecsign)(pr,yr);return(0,ar.concatSig)((0,er.arrToBufArr)((0,or.bigIntToBytes)(wr.v)),wr.r,wr.s)}tr.signTypedData=Cr;function Tr({data:yr,signature:mr,version:hr}){if(lr(hr),(0,ar.isNullish)(yr))throw new Error("Missing data parameter");if((0,ar.isNullish)(mr))throw new Error("Missing signature parameter");const pr=hr===cr.V1?Dr(yr):tr.TypedDataUtils.eip712Hash(yr,hr),wr=(0,ar.recoverPublicKey)(pr,mr),Ar=(0,er.publicToAddress)(wr);return(0,or.bytesToHex)(Ar)}tr.recoverTypedSignature=Tr})(signTypedData);var encryption={},naclFast={exports:{}};(function(tr){(function(er){var rr=function(Zr){var an,cn=new Float64Array(16);if(Zr)for(an=0;an<Zr.length;an++)cn[an]=Zr[an];return cn},nr=function(){throw new Error("no PRNG")},ir=new Uint8Array(16),or=new Uint8Array(32);or[0]=9;var sr=rr(),ar=rr([1]),cr=rr([56129,1]),lr=rr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ur=rr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),fr=rr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),dr=rr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),gr=rr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function br(Zr,an,cn,Fr){Zr[an]=cn>>24&255,Zr[an+1]=cn>>16&255,Zr[an+2]=cn>>8&255,Zr[an+3]=cn&255,Zr[an+4]=Fr>>24&255,Zr[an+5]=Fr>>16&255,Zr[an+6]=Fr>>8&255,Zr[an+7]=Fr&255}function vr(Zr,an,cn,Fr,hn){var En,Pn=0;for(En=0;En<hn;En++)Pn|=Zr[an+En]^cn[Fr+En];return(1&Pn-1>>>8)-1}function $r(Zr,an,cn,Fr){return vr(Zr,an,cn,Fr,16)}function Er(Zr,an,cn,Fr){return vr(Zr,an,cn,Fr,32)}function _r(Zr,an,cn,Fr){for(var hn=Fr[0]&255|(Fr[1]&255)<<8|(Fr[2]&255)<<16|(Fr[3]&255)<<24,En=cn[0]&255|(cn[1]&255)<<8|(cn[2]&255)<<16|(cn[3]&255)<<24,Pn=cn[4]&255|(cn[5]&255)<<8|(cn[6]&255)<<16|(cn[7]&255)<<24,In=cn[8]&255|(cn[9]&255)<<8|(cn[10]&255)<<16|(cn[11]&255)<<24,kn=cn[12]&255|(cn[13]&255)<<8|(cn[14]&255)<<16|(cn[15]&255)<<24,Hn=Fr[4]&255|(Fr[5]&255)<<8|(Fr[6]&255)<<16|(Fr[7]&255)<<24,Kn=an[0]&255|(an[1]&255)<<8|(an[2]&255)<<16|(an[3]&255)<<24,_o=an[4]&255|(an[5]&255)<<8|(an[6]&255)<<16|(an[7]&255)<<24,Zn=an[8]&255|(an[9]&255)<<8|(an[10]&255)<<16|(an[11]&255)<<24,ho=an[12]&255|(an[13]&255)<<8|(an[14]&255)<<16|(an[15]&255)<<24,go=Fr[8]&255|(Fr[9]&255)<<8|(Fr[10]&255)<<16|(Fr[11]&255)<<24,co=cn[16]&255|(cn[17]&255)<<8|(cn[18]&255)<<16|(cn[19]&255)<<24,bo=cn[20]&255|(cn[21]&255)<<8|(cn[22]&255)<<16|(cn[23]&255)<<24,uo=cn[24]&255|(cn[25]&255)<<8|(cn[26]&255)<<16|(cn[27]&255)<<24,po=cn[28]&255|(cn[29]&255)<<8|(cn[30]&255)<<16|(cn[31]&255)<<24,yo=Fr[12]&255|(Fr[13]&255)<<8|(Fr[14]&255)<<16|(Fr[15]&255)<<24,to=hn,oo=En,_i=Pn,no=In,eo=kn,Qn=Hn,Cn=Kn,Nn=_o,Vn=Zn,jn=ho,Un=go,Gn=co,vo=bo,Ao=uo,Io=po,To=yo,_n,Oo=0;Oo<20;Oo+=2)_n=to+vo|0,eo^=_n<<7|_n>>>25,_n=eo+to|0,Vn^=_n<<9|_n>>>23,_n=Vn+eo|0,vo^=_n<<13|_n>>>19,_n=vo+Vn|0,to^=_n<<18|_n>>>14,_n=Qn+oo|0,jn^=_n<<7|_n>>>25,_n=jn+Qn|0,Ao^=_n<<9|_n>>>23,_n=Ao+jn|0,oo^=_n<<13|_n>>>19,_n=oo+Ao|0,Qn^=_n<<18|_n>>>14,_n=Un+Cn|0,Io^=_n<<7|_n>>>25,_n=Io+Un|0,_i^=_n<<9|_n>>>23,_n=_i+Io|0,Cn^=_n<<13|_n>>>19,_n=Cn+_i|0,Un^=_n<<18|_n>>>14,_n=To+Gn|0,no^=_n<<7|_n>>>25,_n=no+To|0,Nn^=_n<<9|_n>>>23,_n=Nn+no|0,Gn^=_n<<13|_n>>>19,_n=Gn+Nn|0,To^=_n<<18|_n>>>14,_n=to+no|0,oo^=_n<<7|_n>>>25,_n=oo+to|0,_i^=_n<<9|_n>>>23,_n=_i+oo|0,no^=_n<<13|_n>>>19,_n=no+_i|0,to^=_n<<18|_n>>>14,_n=Qn+eo|0,Cn^=_n<<7|_n>>>25,_n=Cn+Qn|0,Nn^=_n<<9|_n>>>23,_n=Nn+Cn|0,eo^=_n<<13|_n>>>19,_n=eo+Nn|0,Qn^=_n<<18|_n>>>14,_n=Un+jn|0,Gn^=_n<<7|_n>>>25,_n=Gn+Un|0,Vn^=_n<<9|_n>>>23,_n=Vn+Gn|0,jn^=_n<<13|_n>>>19,_n=jn+Vn|0,Un^=_n<<18|_n>>>14,_n=To+Io|0,vo^=_n<<7|_n>>>25,_n=vo+To|0,Ao^=_n<<9|_n>>>23,_n=Ao+vo|0,Io^=_n<<13|_n>>>19,_n=Io+Ao|0,To^=_n<<18|_n>>>14;to=to+hn|0,oo=oo+En|0,_i=_i+Pn|0,no=no+In|0,eo=eo+kn|0,Qn=Qn+Hn|0,Cn=Cn+Kn|0,Nn=Nn+_o|0,Vn=Vn+Zn|0,jn=jn+ho|0,Un=Un+go|0,Gn=Gn+co|0,vo=vo+bo|0,Ao=Ao+uo|0,Io=Io+po|0,To=To+yo|0,Zr[0]=to>>>0&255,Zr[1]=to>>>8&255,Zr[2]=to>>>16&255,Zr[3]=to>>>24&255,Zr[4]=oo>>>0&255,Zr[5]=oo>>>8&255,Zr[6]=oo>>>16&255,Zr[7]=oo>>>24&255,Zr[8]=_i>>>0&255,Zr[9]=_i>>>8&255,Zr[10]=_i>>>16&255,Zr[11]=_i>>>24&255,Zr[12]=no>>>0&255,Zr[13]=no>>>8&255,Zr[14]=no>>>16&255,Zr[15]=no>>>24&255,Zr[16]=eo>>>0&255,Zr[17]=eo>>>8&255,Zr[18]=eo>>>16&255,Zr[19]=eo>>>24&255,Zr[20]=Qn>>>0&255,Zr[21]=Qn>>>8&255,Zr[22]=Qn>>>16&255,Zr[23]=Qn>>>24&255,Zr[24]=Cn>>>0&255,Zr[25]=Cn>>>8&255,Zr[26]=Cn>>>16&255,Zr[27]=Cn>>>24&255,Zr[28]=Nn>>>0&255,Zr[29]=Nn>>>8&255,Zr[30]=Nn>>>16&255,Zr[31]=Nn>>>24&255,Zr[32]=Vn>>>0&255,Zr[33]=Vn>>>8&255,Zr[34]=Vn>>>16&255,Zr[35]=Vn>>>24&255,Zr[36]=jn>>>0&255,Zr[37]=jn>>>8&255,Zr[38]=jn>>>16&255,Zr[39]=jn>>>24&255,Zr[40]=Un>>>0&255,Zr[41]=Un>>>8&255,Zr[42]=Un>>>16&255,Zr[43]=Un>>>24&255,Zr[44]=Gn>>>0&255,Zr[45]=Gn>>>8&255,Zr[46]=Gn>>>16&255,Zr[47]=Gn>>>24&255,Zr[48]=vo>>>0&255,Zr[49]=vo>>>8&255,Zr[50]=vo>>>16&255,Zr[51]=vo>>>24&255,Zr[52]=Ao>>>0&255,Zr[53]=Ao>>>8&255,Zr[54]=Ao>>>16&255,Zr[55]=Ao>>>24&255,Zr[56]=Io>>>0&255,Zr[57]=Io>>>8&255,Zr[58]=Io>>>16&255,Zr[59]=Io>>>24&255,Zr[60]=To>>>0&255,Zr[61]=To>>>8&255,Zr[62]=To>>>16&255,Zr[63]=To>>>24&255}function xr(Zr,an,cn,Fr){for(var hn=Fr[0]&255|(Fr[1]&255)<<8|(Fr[2]&255)<<16|(Fr[3]&255)<<24,En=cn[0]&255|(cn[1]&255)<<8|(cn[2]&255)<<16|(cn[3]&255)<<24,Pn=cn[4]&255|(cn[5]&255)<<8|(cn[6]&255)<<16|(cn[7]&255)<<24,In=cn[8]&255|(cn[9]&255)<<8|(cn[10]&255)<<16|(cn[11]&255)<<24,kn=cn[12]&255|(cn[13]&255)<<8|(cn[14]&255)<<16|(cn[15]&255)<<24,Hn=Fr[4]&255|(Fr[5]&255)<<8|(Fr[6]&255)<<16|(Fr[7]&255)<<24,Kn=an[0]&255|(an[1]&255)<<8|(an[2]&255)<<16|(an[3]&255)<<24,_o=an[4]&255|(an[5]&255)<<8|(an[6]&255)<<16|(an[7]&255)<<24,Zn=an[8]&255|(an[9]&255)<<8|(an[10]&255)<<16|(an[11]&255)<<24,ho=an[12]&255|(an[13]&255)<<8|(an[14]&255)<<16|(an[15]&255)<<24,go=Fr[8]&255|(Fr[9]&255)<<8|(Fr[10]&255)<<16|(Fr[11]&255)<<24,co=cn[16]&255|(cn[17]&255)<<8|(cn[18]&255)<<16|(cn[19]&255)<<24,bo=cn[20]&255|(cn[21]&255)<<8|(cn[22]&255)<<16|(cn[23]&255)<<24,uo=cn[24]&255|(cn[25]&255)<<8|(cn[26]&255)<<16|(cn[27]&255)<<24,po=cn[28]&255|(cn[29]&255)<<8|(cn[30]&255)<<16|(cn[31]&255)<<24,yo=Fr[12]&255|(Fr[13]&255)<<8|(Fr[14]&255)<<16|(Fr[15]&255)<<24,to=hn,oo=En,_i=Pn,no=In,eo=kn,Qn=Hn,Cn=Kn,Nn=_o,Vn=Zn,jn=ho,Un=go,Gn=co,vo=bo,Ao=uo,Io=po,To=yo,_n,Oo=0;Oo<20;Oo+=2)_n=to+vo|0,eo^=_n<<7|_n>>>25,_n=eo+to|0,Vn^=_n<<9|_n>>>23,_n=Vn+eo|0,vo^=_n<<13|_n>>>19,_n=vo+Vn|0,to^=_n<<18|_n>>>14,_n=Qn+oo|0,jn^=_n<<7|_n>>>25,_n=jn+Qn|0,Ao^=_n<<9|_n>>>23,_n=Ao+jn|0,oo^=_n<<13|_n>>>19,_n=oo+Ao|0,Qn^=_n<<18|_n>>>14,_n=Un+Cn|0,Io^=_n<<7|_n>>>25,_n=Io+Un|0,_i^=_n<<9|_n>>>23,_n=_i+Io|0,Cn^=_n<<13|_n>>>19,_n=Cn+_i|0,Un^=_n<<18|_n>>>14,_n=To+Gn|0,no^=_n<<7|_n>>>25,_n=no+To|0,Nn^=_n<<9|_n>>>23,_n=Nn+no|0,Gn^=_n<<13|_n>>>19,_n=Gn+Nn|0,To^=_n<<18|_n>>>14,_n=to+no|0,oo^=_n<<7|_n>>>25,_n=oo+to|0,_i^=_n<<9|_n>>>23,_n=_i+oo|0,no^=_n<<13|_n>>>19,_n=no+_i|0,to^=_n<<18|_n>>>14,_n=Qn+eo|0,Cn^=_n<<7|_n>>>25,_n=Cn+Qn|0,Nn^=_n<<9|_n>>>23,_n=Nn+Cn|0,eo^=_n<<13|_n>>>19,_n=eo+Nn|0,Qn^=_n<<18|_n>>>14,_n=Un+jn|0,Gn^=_n<<7|_n>>>25,_n=Gn+Un|0,Vn^=_n<<9|_n>>>23,_n=Vn+Gn|0,jn^=_n<<13|_n>>>19,_n=jn+Vn|0,Un^=_n<<18|_n>>>14,_n=To+Io|0,vo^=_n<<7|_n>>>25,_n=vo+To|0,Ao^=_n<<9|_n>>>23,_n=Ao+vo|0,Io^=_n<<13|_n>>>19,_n=Io+Ao|0,To^=_n<<18|_n>>>14;Zr[0]=to>>>0&255,Zr[1]=to>>>8&255,Zr[2]=to>>>16&255,Zr[3]=to>>>24&255,Zr[4]=Qn>>>0&255,Zr[5]=Qn>>>8&255,Zr[6]=Qn>>>16&255,Zr[7]=Qn>>>24&255,Zr[8]=Un>>>0&255,Zr[9]=Un>>>8&255,Zr[10]=Un>>>16&255,Zr[11]=Un>>>24&255,Zr[12]=To>>>0&255,Zr[13]=To>>>8&255,Zr[14]=To>>>16&255,Zr[15]=To>>>24&255,Zr[16]=Cn>>>0&255,Zr[17]=Cn>>>8&255,Zr[18]=Cn>>>16&255,Zr[19]=Cn>>>24&255,Zr[20]=Nn>>>0&255,Zr[21]=Nn>>>8&255,Zr[22]=Nn>>>16&255,Zr[23]=Nn>>>24&255,Zr[24]=Vn>>>0&255,Zr[25]=Vn>>>8&255,Zr[26]=Vn>>>16&255,Zr[27]=Vn>>>24&255,Zr[28]=jn>>>0&255,Zr[29]=jn>>>8&255,Zr[30]=jn>>>16&255,Zr[31]=jn>>>24&255}function Ir(Zr,an,cn,Fr){_r(Zr,an,cn,Fr)}function Nr(Zr,an,cn,Fr){xr(Zr,an,cn,Fr)}var Lr=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function jr(Zr,an,cn,Fr,hn,En,Pn){var In=new Uint8Array(16),kn=new Uint8Array(64),Hn,Kn;for(Kn=0;Kn<16;Kn++)In[Kn]=0;for(Kn=0;Kn<8;Kn++)In[Kn]=En[Kn];for(;hn>=64;){for(Ir(kn,In,Pn,Lr),Kn=0;Kn<64;Kn++)Zr[an+Kn]=cn[Fr+Kn]^kn[Kn];for(Hn=1,Kn=8;Kn<16;Kn++)Hn=Hn+(In[Kn]&255)|0,In[Kn]=Hn&255,Hn>>>=8;hn-=64,an+=64,Fr+=64}if(hn>0)for(Ir(kn,In,Pn,Lr),Kn=0;Kn<hn;Kn++)Zr[an+Kn]=cn[Fr+Kn]^kn[Kn];return 0}function Or(Zr,an,cn,Fr,hn){var En=new Uint8Array(16),Pn=new Uint8Array(64),In,kn;for(kn=0;kn<16;kn++)En[kn]=0;for(kn=0;kn<8;kn++)En[kn]=Fr[kn];for(;cn>=64;){for(Ir(Pn,En,hn,Lr),kn=0;kn<64;kn++)Zr[an+kn]=Pn[kn];for(In=1,kn=8;kn<16;kn++)In=In+(En[kn]&255)|0,En[kn]=In&255,In>>>=8;cn-=64,an+=64}if(cn>0)for(Ir(Pn,En,hn,Lr),kn=0;kn<cn;kn++)Zr[an+kn]=Pn[kn];return 0}function Dr(Zr,an,cn,Fr,hn){var En=new Uint8Array(32);Nr(En,Fr,hn,Lr);for(var Pn=new Uint8Array(8),In=0;In<8;In++)Pn[In]=Fr[In+16];return Or(Zr,an,cn,Pn,En)}function Cr(Zr,an,cn,Fr,hn,En,Pn){var In=new Uint8Array(32);Nr(In,En,Pn,Lr);for(var kn=new Uint8Array(8),Hn=0;Hn<8;Hn++)kn[Hn]=En[Hn+16];return jr(Zr,an,cn,Fr,hn,kn,In)}var Tr=function(Zr){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var an,cn,Fr,hn,En,Pn,In,kn;an=Zr[0]&255|(Zr[1]&255)<<8,this.r[0]=an&8191,cn=Zr[2]&255|(Zr[3]&255)<<8,this.r[1]=(an>>>13|cn<<3)&8191,Fr=Zr[4]&255|(Zr[5]&255)<<8,this.r[2]=(cn>>>10|Fr<<6)&7939,hn=Zr[6]&255|(Zr[7]&255)<<8,this.r[3]=(Fr>>>7|hn<<9)&8191,En=Zr[8]&255|(Zr[9]&255)<<8,this.r[4]=(hn>>>4|En<<12)&255,this.r[5]=En>>>1&8190,Pn=Zr[10]&255|(Zr[11]&255)<<8,this.r[6]=(En>>>14|Pn<<2)&8191,In=Zr[12]&255|(Zr[13]&255)<<8,this.r[7]=(Pn>>>11|In<<5)&8065,kn=Zr[14]&255|(Zr[15]&255)<<8,this.r[8]=(In>>>8|kn<<8)&8191,this.r[9]=kn>>>5&127,this.pad[0]=Zr[16]&255|(Zr[17]&255)<<8,this.pad[1]=Zr[18]&255|(Zr[19]&255)<<8,this.pad[2]=Zr[20]&255|(Zr[21]&255)<<8,this.pad[3]=Zr[22]&255|(Zr[23]&255)<<8,this.pad[4]=Zr[24]&255|(Zr[25]&255)<<8,this.pad[5]=Zr[26]&255|(Zr[27]&255)<<8,this.pad[6]=Zr[28]&255|(Zr[29]&255)<<8,this.pad[7]=Zr[30]&255|(Zr[31]&255)<<8};Tr.prototype.blocks=function(Zr,an,cn){for(var Fr=this.fin?0:2048,hn,En,Pn,In,kn,Hn,Kn,_o,Zn,ho,go,co,bo,uo,po,yo,to,oo,_i,no=this.h[0],eo=this.h[1],Qn=this.h[2],Cn=this.h[3],Nn=this.h[4],Vn=this.h[5],jn=this.h[6],Un=this.h[7],Gn=this.h[8],vo=this.h[9],Ao=this.r[0],Io=this.r[1],To=this.r[2],_n=this.r[3],Oo=this.r[4],jo=this.r[5],Uo=this.r[6],Ro=this.r[7],Lo=this.r[8],Do=this.r[9];cn>=16;)hn=Zr[an+0]&255|(Zr[an+1]&255)<<8,no+=hn&8191,En=Zr[an+2]&255|(Zr[an+3]&255)<<8,eo+=(hn>>>13|En<<3)&8191,Pn=Zr[an+4]&255|(Zr[an+5]&255)<<8,Qn+=(En>>>10|Pn<<6)&8191,In=Zr[an+6]&255|(Zr[an+7]&255)<<8,Cn+=(Pn>>>7|In<<9)&8191,kn=Zr[an+8]&255|(Zr[an+9]&255)<<8,Nn+=(In>>>4|kn<<12)&8191,Vn+=kn>>>1&8191,Hn=Zr[an+10]&255|(Zr[an+11]&255)<<8,jn+=(kn>>>14|Hn<<2)&8191,Kn=Zr[an+12]&255|(Zr[an+13]&255)<<8,Un+=(Hn>>>11|Kn<<5)&8191,_o=Zr[an+14]&255|(Zr[an+15]&255)<<8,Gn+=(Kn>>>8|_o<<8)&8191,vo+=_o>>>5|Fr,Zn=0,ho=Zn,ho+=no*Ao,ho+=eo*(5*Do),ho+=Qn*(5*Lo),ho+=Cn*(5*Ro),ho+=Nn*(5*Uo),Zn=ho>>>13,ho&=8191,ho+=Vn*(5*jo),ho+=jn*(5*Oo),ho+=Un*(5*_n),ho+=Gn*(5*To),ho+=vo*(5*Io),Zn+=ho>>>13,ho&=8191,go=Zn,go+=no*Io,go+=eo*Ao,go+=Qn*(5*Do),go+=Cn*(5*Lo),go+=Nn*(5*Ro),Zn=go>>>13,go&=8191,go+=Vn*(5*Uo),go+=jn*(5*jo),go+=Un*(5*Oo),go+=Gn*(5*_n),go+=vo*(5*To),Zn+=go>>>13,go&=8191,co=Zn,co+=no*To,co+=eo*Io,co+=Qn*Ao,co+=Cn*(5*Do),co+=Nn*(5*Lo),Zn=co>>>13,co&=8191,co+=Vn*(5*Ro),co+=jn*(5*Uo),co+=Un*(5*jo),co+=Gn*(5*Oo),co+=vo*(5*_n),Zn+=co>>>13,co&=8191,bo=Zn,bo+=no*_n,bo+=eo*To,bo+=Qn*Io,bo+=Cn*Ao,bo+=Nn*(5*Do),Zn=bo>>>13,bo&=8191,bo+=Vn*(5*Lo),bo+=jn*(5*Ro),bo+=Un*(5*Uo),bo+=Gn*(5*jo),bo+=vo*(5*Oo),Zn+=bo>>>13,bo&=8191,uo=Zn,uo+=no*Oo,uo+=eo*_n,uo+=Qn*To,uo+=Cn*Io,uo+=Nn*Ao,Zn=uo>>>13,uo&=8191,uo+=Vn*(5*Do),uo+=jn*(5*Lo),uo+=Un*(5*Ro),uo+=Gn*(5*Uo),uo+=vo*(5*jo),Zn+=uo>>>13,uo&=8191,po=Zn,po+=no*jo,po+=eo*Oo,po+=Qn*_n,po+=Cn*To,po+=Nn*Io,Zn=po>>>13,po&=8191,po+=Vn*Ao,po+=jn*(5*Do),po+=Un*(5*Lo),po+=Gn*(5*Ro),po+=vo*(5*Uo),Zn+=po>>>13,po&=8191,yo=Zn,yo+=no*Uo,yo+=eo*jo,yo+=Qn*Oo,yo+=Cn*_n,yo+=Nn*To,Zn=yo>>>13,yo&=8191,yo+=Vn*Io,yo+=jn*Ao,yo+=Un*(5*Do),yo+=Gn*(5*Lo),yo+=vo*(5*Ro),Zn+=yo>>>13,yo&=8191,to=Zn,to+=no*Ro,to+=eo*Uo,to+=Qn*jo,to+=Cn*Oo,to+=Nn*_n,Zn=to>>>13,to&=8191,to+=Vn*To,to+=jn*Io,to+=Un*Ao,to+=Gn*(5*Do),to+=vo*(5*Lo),Zn+=to>>>13,to&=8191,oo=Zn,oo+=no*Lo,oo+=eo*Ro,oo+=Qn*Uo,oo+=Cn*jo,oo+=Nn*Oo,Zn=oo>>>13,oo&=8191,oo+=Vn*_n,oo+=jn*To,oo+=Un*Io,oo+=Gn*Ao,oo+=vo*(5*Do),Zn+=oo>>>13,oo&=8191,_i=Zn,_i+=no*Do,_i+=eo*Lo,_i+=Qn*Ro,_i+=Cn*Uo,_i+=Nn*jo,Zn=_i>>>13,_i&=8191,_i+=Vn*Oo,_i+=jn*_n,_i+=Un*To,_i+=Gn*Io,_i+=vo*Ao,Zn+=_i>>>13,_i&=8191,Zn=(Zn<<2)+Zn|0,Zn=Zn+ho|0,ho=Zn&8191,Zn=Zn>>>13,go+=Zn,no=ho,eo=go,Qn=co,Cn=bo,Nn=uo,Vn=po,jn=yo,Un=to,Gn=oo,vo=_i,an+=16,cn-=16;this.h[0]=no,this.h[1]=eo,this.h[2]=Qn,this.h[3]=Cn,this.h[4]=Nn,this.h[5]=Vn,this.h[6]=jn,this.h[7]=Un,this.h[8]=Gn,this.h[9]=vo},Tr.prototype.finish=function(Zr,an){var cn=new Uint16Array(10),Fr,hn,En,Pn;if(this.leftover){for(Pn=this.leftover,this.buffer[Pn++]=1;Pn<16;Pn++)this.buffer[Pn]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Fr=this.h[1]>>>13,this.h[1]&=8191,Pn=2;Pn<10;Pn++)this.h[Pn]+=Fr,Fr=this.h[Pn]>>>13,this.h[Pn]&=8191;for(this.h[0]+=Fr*5,Fr=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Fr,Fr=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Fr,cn[0]=this.h[0]+5,Fr=cn[0]>>>13,cn[0]&=8191,Pn=1;Pn<10;Pn++)cn[Pn]=this.h[Pn]+Fr,Fr=cn[Pn]>>>13,cn[Pn]&=8191;for(cn[9]-=8192,hn=(Fr^1)-1,Pn=0;Pn<10;Pn++)cn[Pn]&=hn;for(hn=~hn,Pn=0;Pn<10;Pn++)this.h[Pn]=this.h[Pn]&hn|cn[Pn];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,En=this.h[0]+this.pad[0],this.h[0]=En&65535,Pn=1;Pn<8;Pn++)En=(this.h[Pn]+this.pad[Pn]|0)+(En>>>16)|0,this.h[Pn]=En&65535;Zr[an+0]=this.h[0]>>>0&255,Zr[an+1]=this.h[0]>>>8&255,Zr[an+2]=this.h[1]>>>0&255,Zr[an+3]=this.h[1]>>>8&255,Zr[an+4]=this.h[2]>>>0&255,Zr[an+5]=this.h[2]>>>8&255,Zr[an+6]=this.h[3]>>>0&255,Zr[an+7]=this.h[3]>>>8&255,Zr[an+8]=this.h[4]>>>0&255,Zr[an+9]=this.h[4]>>>8&255,Zr[an+10]=this.h[5]>>>0&255,Zr[an+11]=this.h[5]>>>8&255,Zr[an+12]=this.h[6]>>>0&255,Zr[an+13]=this.h[6]>>>8&255,Zr[an+14]=this.h[7]>>>0&255,Zr[an+15]=this.h[7]>>>8&255},Tr.prototype.update=function(Zr,an,cn){var Fr,hn;if(this.leftover){for(hn=16-this.leftover,hn>cn&&(hn=cn),Fr=0;Fr<hn;Fr++)this.buffer[this.leftover+Fr]=Zr[an+Fr];if(cn-=hn,an+=hn,this.leftover+=hn,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(cn>=16&&(hn=cn-cn%16,this.blocks(Zr,an,hn),an+=hn,cn-=hn),cn){for(Fr=0;Fr<cn;Fr++)this.buffer[this.leftover+Fr]=Zr[an+Fr];this.leftover+=cn}};function yr(Zr,an,cn,Fr,hn,En){var Pn=new Tr(En);return Pn.update(cn,Fr,hn),Pn.finish(Zr,an),0}function mr(Zr,an,cn,Fr,hn,En){var Pn=new Uint8Array(16);return yr(Pn,0,cn,Fr,hn,En),$r(Zr,an,Pn,0)}function hr(Zr,an,cn,Fr,hn){var En;if(cn<32)return-1;for(Cr(Zr,0,an,0,cn,Fr,hn),yr(Zr,16,Zr,32,cn-32,Zr),En=0;En<16;En++)Zr[En]=0;return 0}function pr(Zr,an,cn,Fr,hn){var En,Pn=new Uint8Array(32);if(cn<32||(Dr(Pn,0,32,Fr,hn),mr(an,16,an,32,cn-32,Pn)!==0))return-1;for(Cr(Zr,0,an,0,cn,Fr,hn),En=0;En<32;En++)Zr[En]=0;return 0}function wr(Zr,an){var cn;for(cn=0;cn<16;cn++)Zr[cn]=an[cn]|0}function Ar(Zr){var an,cn,Fr=1;for(an=0;an<16;an++)cn=Zr[an]+Fr+65535,Fr=Math.floor(cn/65536),Zr[an]=cn-Fr*65536;Zr[0]+=Fr-1+37*(Fr-1)}function Rr(Zr,an,cn){for(var Fr,hn=~(cn-1),En=0;En<16;En++)Fr=hn&(Zr[En]^an[En]),Zr[En]^=Fr,an[En]^=Fr}function Pr(Zr,an){var cn,Fr,hn,En=rr(),Pn=rr();for(cn=0;cn<16;cn++)Pn[cn]=an[cn];for(Ar(Pn),Ar(Pn),Ar(Pn),Fr=0;Fr<2;Fr++){for(En[0]=Pn[0]-65517,cn=1;cn<15;cn++)En[cn]=Pn[cn]-65535-(En[cn-1]>>16&1),En[cn-1]&=65535;En[15]=Pn[15]-32767-(En[14]>>16&1),hn=En[15]>>16&1,En[14]&=65535,Rr(Pn,En,1-hn)}for(cn=0;cn<16;cn++)Zr[2*cn]=Pn[cn]&255,Zr[2*cn+1]=Pn[cn]>>8}function Sr(Zr,an){var cn=new Uint8Array(32),Fr=new Uint8Array(32);return Pr(cn,Zr),Pr(Fr,an),Er(cn,0,Fr,0)}function Mr(Zr){var an=new Uint8Array(32);return Pr(an,Zr),an[0]&1}function Br(Zr,an){var cn;for(cn=0;cn<16;cn++)Zr[cn]=an[2*cn]+(an[2*cn+1]<<8);Zr[15]&=32767}function Ur(Zr,an,cn){for(var Fr=0;Fr<16;Fr++)Zr[Fr]=an[Fr]+cn[Fr]}function Jr(Zr,an,cn){for(var Fr=0;Fr<16;Fr++)Zr[Fr]=an[Fr]-cn[Fr]}function qr(Zr,an,cn){var Fr,hn,En=0,Pn=0,In=0,kn=0,Hn=0,Kn=0,_o=0,Zn=0,ho=0,go=0,co=0,bo=0,uo=0,po=0,yo=0,to=0,oo=0,_i=0,no=0,eo=0,Qn=0,Cn=0,Nn=0,Vn=0,jn=0,Un=0,Gn=0,vo=0,Ao=0,Io=0,To=0,_n=cn[0],Oo=cn[1],jo=cn[2],Uo=cn[3],Ro=cn[4],Lo=cn[5],Do=cn[6],Vo=cn[7],Bo=cn[8],Fo=cn[9],Ho=cn[10],Wo=cn[11],Ko=cn[12],Jo=cn[13],Yo=cn[14],Zo=cn[15];Fr=an[0],En+=Fr*_n,Pn+=Fr*Oo,In+=Fr*jo,kn+=Fr*Uo,Hn+=Fr*Ro,Kn+=Fr*Lo,_o+=Fr*Do,Zn+=Fr*Vo,ho+=Fr*Bo,go+=Fr*Fo,co+=Fr*Ho,bo+=Fr*Wo,uo+=Fr*Ko,po+=Fr*Jo,yo+=Fr*Yo,to+=Fr*Zo,Fr=an[1],Pn+=Fr*_n,In+=Fr*Oo,kn+=Fr*jo,Hn+=Fr*Uo,Kn+=Fr*Ro,_o+=Fr*Lo,Zn+=Fr*Do,ho+=Fr*Vo,go+=Fr*Bo,co+=Fr*Fo,bo+=Fr*Ho,uo+=Fr*Wo,po+=Fr*Ko,yo+=Fr*Jo,to+=Fr*Yo,oo+=Fr*Zo,Fr=an[2],In+=Fr*_n,kn+=Fr*Oo,Hn+=Fr*jo,Kn+=Fr*Uo,_o+=Fr*Ro,Zn+=Fr*Lo,ho+=Fr*Do,go+=Fr*Vo,co+=Fr*Bo,bo+=Fr*Fo,uo+=Fr*Ho,po+=Fr*Wo,yo+=Fr*Ko,to+=Fr*Jo,oo+=Fr*Yo,_i+=Fr*Zo,Fr=an[3],kn+=Fr*_n,Hn+=Fr*Oo,Kn+=Fr*jo,_o+=Fr*Uo,Zn+=Fr*Ro,ho+=Fr*Lo,go+=Fr*Do,co+=Fr*Vo,bo+=Fr*Bo,uo+=Fr*Fo,po+=Fr*Ho,yo+=Fr*Wo,to+=Fr*Ko,oo+=Fr*Jo,_i+=Fr*Yo,no+=Fr*Zo,Fr=an[4],Hn+=Fr*_n,Kn+=Fr*Oo,_o+=Fr*jo,Zn+=Fr*Uo,ho+=Fr*Ro,go+=Fr*Lo,co+=Fr*Do,bo+=Fr*Vo,uo+=Fr*Bo,po+=Fr*Fo,yo+=Fr*Ho,to+=Fr*Wo,oo+=Fr*Ko,_i+=Fr*Jo,no+=Fr*Yo,eo+=Fr*Zo,Fr=an[5],Kn+=Fr*_n,_o+=Fr*Oo,Zn+=Fr*jo,ho+=Fr*Uo,go+=Fr*Ro,co+=Fr*Lo,bo+=Fr*Do,uo+=Fr*Vo,po+=Fr*Bo,yo+=Fr*Fo,to+=Fr*Ho,oo+=Fr*Wo,_i+=Fr*Ko,no+=Fr*Jo,eo+=Fr*Yo,Qn+=Fr*Zo,Fr=an[6],_o+=Fr*_n,Zn+=Fr*Oo,ho+=Fr*jo,go+=Fr*Uo,co+=Fr*Ro,bo+=Fr*Lo,uo+=Fr*Do,po+=Fr*Vo,yo+=Fr*Bo,to+=Fr*Fo,oo+=Fr*Ho,_i+=Fr*Wo,no+=Fr*Ko,eo+=Fr*Jo,Qn+=Fr*Yo,Cn+=Fr*Zo,Fr=an[7],Zn+=Fr*_n,ho+=Fr*Oo,go+=Fr*jo,co+=Fr*Uo,bo+=Fr*Ro,uo+=Fr*Lo,po+=Fr*Do,yo+=Fr*Vo,to+=Fr*Bo,oo+=Fr*Fo,_i+=Fr*Ho,no+=Fr*Wo,eo+=Fr*Ko,Qn+=Fr*Jo,Cn+=Fr*Yo,Nn+=Fr*Zo,Fr=an[8],ho+=Fr*_n,go+=Fr*Oo,co+=Fr*jo,bo+=Fr*Uo,uo+=Fr*Ro,po+=Fr*Lo,yo+=Fr*Do,to+=Fr*Vo,oo+=Fr*Bo,_i+=Fr*Fo,no+=Fr*Ho,eo+=Fr*Wo,Qn+=Fr*Ko,Cn+=Fr*Jo,Nn+=Fr*Yo,Vn+=Fr*Zo,Fr=an[9],go+=Fr*_n,co+=Fr*Oo,bo+=Fr*jo,uo+=Fr*Uo,po+=Fr*Ro,yo+=Fr*Lo,to+=Fr*Do,oo+=Fr*Vo,_i+=Fr*Bo,no+=Fr*Fo,eo+=Fr*Ho,Qn+=Fr*Wo,Cn+=Fr*Ko,Nn+=Fr*Jo,Vn+=Fr*Yo,jn+=Fr*Zo,Fr=an[10],co+=Fr*_n,bo+=Fr*Oo,uo+=Fr*jo,po+=Fr*Uo,yo+=Fr*Ro,to+=Fr*Lo,oo+=Fr*Do,_i+=Fr*Vo,no+=Fr*Bo,eo+=Fr*Fo,Qn+=Fr*Ho,Cn+=Fr*Wo,Nn+=Fr*Ko,Vn+=Fr*Jo,jn+=Fr*Yo,Un+=Fr*Zo,Fr=an[11],bo+=Fr*_n,uo+=Fr*Oo,po+=Fr*jo,yo+=Fr*Uo,to+=Fr*Ro,oo+=Fr*Lo,_i+=Fr*Do,no+=Fr*Vo,eo+=Fr*Bo,Qn+=Fr*Fo,Cn+=Fr*Ho,Nn+=Fr*Wo,Vn+=Fr*Ko,jn+=Fr*Jo,Un+=Fr*Yo,Gn+=Fr*Zo,Fr=an[12],uo+=Fr*_n,po+=Fr*Oo,yo+=Fr*jo,to+=Fr*Uo,oo+=Fr*Ro,_i+=Fr*Lo,no+=Fr*Do,eo+=Fr*Vo,Qn+=Fr*Bo,Cn+=Fr*Fo,Nn+=Fr*Ho,Vn+=Fr*Wo,jn+=Fr*Ko,Un+=Fr*Jo,Gn+=Fr*Yo,vo+=Fr*Zo,Fr=an[13],po+=Fr*_n,yo+=Fr*Oo,to+=Fr*jo,oo+=Fr*Uo,_i+=Fr*Ro,no+=Fr*Lo,eo+=Fr*Do,Qn+=Fr*Vo,Cn+=Fr*Bo,Nn+=Fr*Fo,Vn+=Fr*Ho,jn+=Fr*Wo,Un+=Fr*Ko,Gn+=Fr*Jo,vo+=Fr*Yo,Ao+=Fr*Zo,Fr=an[14],yo+=Fr*_n,to+=Fr*Oo,oo+=Fr*jo,_i+=Fr*Uo,no+=Fr*Ro,eo+=Fr*Lo,Qn+=Fr*Do,Cn+=Fr*Vo,Nn+=Fr*Bo,Vn+=Fr*Fo,jn+=Fr*Ho,Un+=Fr*Wo,Gn+=Fr*Ko,vo+=Fr*Jo,Ao+=Fr*Yo,Io+=Fr*Zo,Fr=an[15],to+=Fr*_n,oo+=Fr*Oo,_i+=Fr*jo,no+=Fr*Uo,eo+=Fr*Ro,Qn+=Fr*Lo,Cn+=Fr*Do,Nn+=Fr*Vo,Vn+=Fr*Bo,jn+=Fr*Fo,Un+=Fr*Ho,Gn+=Fr*Wo,vo+=Fr*Ko,Ao+=Fr*Jo,Io+=Fr*Yo,To+=Fr*Zo,En+=38*oo,Pn+=38*_i,In+=38*no,kn+=38*eo,Hn+=38*Qn,Kn+=38*Cn,_o+=38*Nn,Zn+=38*Vn,ho+=38*jn,go+=38*Un,co+=38*Gn,bo+=38*vo,uo+=38*Ao,po+=38*Io,yo+=38*To,hn=1,Fr=En+hn+65535,hn=Math.floor(Fr/65536),En=Fr-hn*65536,Fr=Pn+hn+65535,hn=Math.floor(Fr/65536),Pn=Fr-hn*65536,Fr=In+hn+65535,hn=Math.floor(Fr/65536),In=Fr-hn*65536,Fr=kn+hn+65535,hn=Math.floor(Fr/65536),kn=Fr-hn*65536,Fr=Hn+hn+65535,hn=Math.floor(Fr/65536),Hn=Fr-hn*65536,Fr=Kn+hn+65535,hn=Math.floor(Fr/65536),Kn=Fr-hn*65536,Fr=_o+hn+65535,hn=Math.floor(Fr/65536),_o=Fr-hn*65536,Fr=Zn+hn+65535,hn=Math.floor(Fr/65536),Zn=Fr-hn*65536,Fr=ho+hn+65535,hn=Math.floor(Fr/65536),ho=Fr-hn*65536,Fr=go+hn+65535,hn=Math.floor(Fr/65536),go=Fr-hn*65536,Fr=co+hn+65535,hn=Math.floor(Fr/65536),co=Fr-hn*65536,Fr=bo+hn+65535,hn=Math.floor(Fr/65536),bo=Fr-hn*65536,Fr=uo+hn+65535,hn=Math.floor(Fr/65536),uo=Fr-hn*65536,Fr=po+hn+65535,hn=Math.floor(Fr/65536),po=Fr-hn*65536,Fr=yo+hn+65535,hn=Math.floor(Fr/65536),yo=Fr-hn*65536,Fr=to+hn+65535,hn=Math.floor(Fr/65536),to=Fr-hn*65536,En+=hn-1+37*(hn-1),hn=1,Fr=En+hn+65535,hn=Math.floor(Fr/65536),En=Fr-hn*65536,Fr=Pn+hn+65535,hn=Math.floor(Fr/65536),Pn=Fr-hn*65536,Fr=In+hn+65535,hn=Math.floor(Fr/65536),In=Fr-hn*65536,Fr=kn+hn+65535,hn=Math.floor(Fr/65536),kn=Fr-hn*65536,Fr=Hn+hn+65535,hn=Math.floor(Fr/65536),Hn=Fr-hn*65536,Fr=Kn+hn+65535,hn=Math.floor(Fr/65536),Kn=Fr-hn*65536,Fr=_o+hn+65535,hn=Math.floor(Fr/65536),_o=Fr-hn*65536,Fr=Zn+hn+65535,hn=Math.floor(Fr/65536),Zn=Fr-hn*65536,Fr=ho+hn+65535,hn=Math.floor(Fr/65536),ho=Fr-hn*65536,Fr=go+hn+65535,hn=Math.floor(Fr/65536),go=Fr-hn*65536,Fr=co+hn+65535,hn=Math.floor(Fr/65536),co=Fr-hn*65536,Fr=bo+hn+65535,hn=Math.floor(Fr/65536),bo=Fr-hn*65536,Fr=uo+hn+65535,hn=Math.floor(Fr/65536),uo=Fr-hn*65536,Fr=po+hn+65535,hn=Math.floor(Fr/65536),po=Fr-hn*65536,Fr=yo+hn+65535,hn=Math.floor(Fr/65536),yo=Fr-hn*65536,Fr=to+hn+65535,hn=Math.floor(Fr/65536),to=Fr-hn*65536,En+=hn-1+37*(hn-1),Zr[0]=En,Zr[1]=Pn,Zr[2]=In,Zr[3]=kn,Zr[4]=Hn,Zr[5]=Kn,Zr[6]=_o,Zr[7]=Zn,Zr[8]=ho,Zr[9]=go,Zr[10]=co,Zr[11]=bo,Zr[12]=uo,Zr[13]=po,Zr[14]=yo,Zr[15]=to}function zr(Zr,an){qr(Zr,an,an)}function sn(Zr,an){var cn=rr(),Fr;for(Fr=0;Fr<16;Fr++)cn[Fr]=an[Fr];for(Fr=253;Fr>=0;Fr--)zr(cn,cn),Fr!==2&&Fr!==4&&qr(cn,cn,an);for(Fr=0;Fr<16;Fr++)Zr[Fr]=cn[Fr]}function rn(Zr,an){var cn=rr(),Fr;for(Fr=0;Fr<16;Fr++)cn[Fr]=an[Fr];for(Fr=250;Fr>=0;Fr--)zr(cn,cn),Fr!==1&&qr(cn,cn,an);for(Fr=0;Fr<16;Fr++)Zr[Fr]=cn[Fr]}function tn(Zr,an,cn){var Fr=new Uint8Array(32),hn=new Float64Array(80),En,Pn,In=rr(),kn=rr(),Hn=rr(),Kn=rr(),_o=rr(),Zn=rr();for(Pn=0;Pn<31;Pn++)Fr[Pn]=an[Pn];for(Fr[31]=an[31]&127|64,Fr[0]&=248,Br(hn,cn),Pn=0;Pn<16;Pn++)kn[Pn]=hn[Pn],Kn[Pn]=In[Pn]=Hn[Pn]=0;for(In[0]=Kn[0]=1,Pn=254;Pn>=0;--Pn)En=Fr[Pn>>>3]>>>(Pn&7)&1,Rr(In,kn,En),Rr(Hn,Kn,En),Ur(_o,In,Hn),Jr(In,In,Hn),Ur(Hn,kn,Kn),Jr(kn,kn,Kn),zr(Kn,_o),zr(Zn,In),qr(In,Hn,In),qr(Hn,kn,_o),Ur(_o,In,Hn),Jr(In,In,Hn),zr(kn,In),Jr(Hn,Kn,Zn),qr(In,Hn,cr),Ur(In,In,Kn),qr(Hn,Hn,In),qr(In,Kn,Zn),qr(Kn,kn,hn),zr(kn,_o),Rr(In,kn,En),Rr(Hn,Kn,En);for(Pn=0;Pn<16;Pn++)hn[Pn+16]=In[Pn],hn[Pn+32]=Hn[Pn],hn[Pn+48]=kn[Pn],hn[Pn+64]=Kn[Pn];var ho=hn.subarray(32),go=hn.subarray(16);return sn(ho,ho),qr(go,go,ho),Pr(Zr,go),0}function dn(Zr,an){return tn(Zr,an,or)}function Yr(Zr,an){return nr(an,32),dn(Zr,an)}function Vr(Zr,an,cn){var Fr=new Uint8Array(32);return tn(Fr,cn,an),Nr(Zr,ir,Fr,Lr)}var Qr=hr,un=pr;function yn(Zr,an,cn,Fr,hn,En){var Pn=new Uint8Array(32);return Vr(Pn,hn,En),Qr(Zr,an,cn,Fr,Pn)}function An(Zr,an,cn,Fr,hn,En){var Pn=new Uint8Array(32);return Vr(Pn,hn,En),un(Zr,an,cn,Fr,Pn)}var Rn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function On(Zr,an,cn,Fr){for(var hn=new Int32Array(16),En=new Int32Array(16),Pn,In,kn,Hn,Kn,_o,Zn,ho,go,co,bo,uo,po,yo,to,oo,_i,no,eo,Qn,Cn,Nn,Vn,jn,Un,Gn,vo=Zr[0],Ao=Zr[1],Io=Zr[2],To=Zr[3],_n=Zr[4],Oo=Zr[5],jo=Zr[6],Uo=Zr[7],Ro=an[0],Lo=an[1],Do=an[2],Vo=an[3],Bo=an[4],Fo=an[5],Ho=an[6],Wo=an[7],Ko=0;Fr>=128;){for(eo=0;eo<16;eo++)Qn=8*eo+Ko,hn[eo]=cn[Qn+0]<<24|cn[Qn+1]<<16|cn[Qn+2]<<8|cn[Qn+3],En[eo]=cn[Qn+4]<<24|cn[Qn+5]<<16|cn[Qn+6]<<8|cn[Qn+7];for(eo=0;eo<80;eo++)if(Pn=vo,In=Ao,kn=Io,Hn=To,Kn=_n,_o=Oo,Zn=jo,ho=Uo,go=Ro,co=Lo,bo=Do,uo=Vo,po=Bo,yo=Fo,to=Ho,oo=Wo,Cn=Uo,Nn=Wo,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=(_n>>>14|Bo<<18)^(_n>>>18|Bo<<14)^(Bo>>>9|_n<<23),Nn=(Bo>>>14|_n<<18)^(Bo>>>18|_n<<14)^(_n>>>9|Bo<<23),Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,Cn=_n&Oo^~_n&jo,Nn=Bo&Fo^~Bo&Ho,Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,Cn=Rn[eo*2],Nn=Rn[eo*2+1],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,Cn=hn[eo%16],Nn=En[eo%16],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,_i=Un&65535|Gn<<16,no=Vn&65535|jn<<16,Cn=_i,Nn=no,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=(vo>>>28|Ro<<4)^(Ro>>>2|vo<<30)^(Ro>>>7|vo<<25),Nn=(Ro>>>28|vo<<4)^(vo>>>2|Ro<<30)^(vo>>>7|Ro<<25),Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,Cn=vo&Ao^vo&Io^Ao&Io,Nn=Ro&Lo^Ro&Do^Lo&Do,Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,ho=Un&65535|Gn<<16,oo=Vn&65535|jn<<16,Cn=Hn,Nn=uo,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=_i,Nn=no,Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Hn=Un&65535|Gn<<16,uo=Vn&65535|jn<<16,Ao=Pn,Io=In,To=kn,_n=Hn,Oo=Kn,jo=_o,Uo=Zn,vo=ho,Lo=go,Do=co,Vo=bo,Bo=uo,Fo=po,Ho=yo,Wo=to,Ro=oo,eo%16===15)for(Qn=0;Qn<16;Qn++)Cn=hn[Qn],Nn=En[Qn],Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=hn[(Qn+9)%16],Nn=En[(Qn+9)%16],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,_i=hn[(Qn+1)%16],no=En[(Qn+1)%16],Cn=(_i>>>1|no<<31)^(_i>>>8|no<<24)^_i>>>7,Nn=(no>>>1|_i<<31)^(no>>>8|_i<<24)^(no>>>7|_i<<25),Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,_i=hn[(Qn+14)%16],no=En[(Qn+14)%16],Cn=(_i>>>19|no<<13)^(no>>>29|_i<<3)^_i>>>6,Nn=(no>>>19|_i<<13)^(_i>>>29|no<<3)^(no>>>6|_i<<26),Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,hn[Qn]=Un&65535|Gn<<16,En[Qn]=Vn&65535|jn<<16;Cn=vo,Nn=Ro,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=Zr[0],Nn=an[0],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Zr[0]=vo=Un&65535|Gn<<16,an[0]=Ro=Vn&65535|jn<<16,Cn=Ao,Nn=Lo,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=Zr[1],Nn=an[1],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Zr[1]=Ao=Un&65535|Gn<<16,an[1]=Lo=Vn&65535|jn<<16,Cn=Io,Nn=Do,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=Zr[2],Nn=an[2],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Zr[2]=Io=Un&65535|Gn<<16,an[2]=Do=Vn&65535|jn<<16,Cn=To,Nn=Vo,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=Zr[3],Nn=an[3],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Zr[3]=To=Un&65535|Gn<<16,an[3]=Vo=Vn&65535|jn<<16,Cn=_n,Nn=Bo,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=Zr[4],Nn=an[4],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Zr[4]=_n=Un&65535|Gn<<16,an[4]=Bo=Vn&65535|jn<<16,Cn=Oo,Nn=Fo,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=Zr[5],Nn=an[5],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Zr[5]=Oo=Un&65535|Gn<<16,an[5]=Fo=Vn&65535|jn<<16,Cn=jo,Nn=Ho,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=Zr[6],Nn=an[6],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Zr[6]=jo=Un&65535|Gn<<16,an[6]=Ho=Vn&65535|jn<<16,Cn=Uo,Nn=Wo,Vn=Nn&65535,jn=Nn>>>16,Un=Cn&65535,Gn=Cn>>>16,Cn=Zr[7],Nn=an[7],Vn+=Nn&65535,jn+=Nn>>>16,Un+=Cn&65535,Gn+=Cn>>>16,jn+=Vn>>>16,Un+=jn>>>16,Gn+=Un>>>16,Zr[7]=Uo=Un&65535|Gn<<16,an[7]=Wo=Vn&65535|jn<<16,Ko+=128,Fr-=128}return Fr}function xn(Zr,an,cn){var Fr=new Int32Array(8),hn=new Int32Array(8),En=new Uint8Array(256),Pn,In=cn;for(Fr[0]=1779033703,Fr[1]=3144134277,Fr[2]=1013904242,Fr[3]=2773480762,Fr[4]=1359893119,Fr[5]=2600822924,Fr[6]=528734635,Fr[7]=1541459225,hn[0]=4089235720,hn[1]=2227873595,hn[2]=4271175723,hn[3]=1595750129,hn[4]=2917565137,hn[5]=725511199,hn[6]=4215389547,hn[7]=327033209,On(Fr,hn,an,cn),cn%=128,Pn=0;Pn<cn;Pn++)En[Pn]=an[In-cn+Pn];for(En[cn]=128,cn=256-128*(cn<112?1:0),En[cn-9]=0,br(En,cn-8,In/536870912|0,In<<3),On(Fr,hn,En,cn),Pn=0;Pn<8;Pn++)br(Zr,8*Pn,Fr[Pn],hn[Pn]);return 0}function Wn(Zr,an){var cn=rr(),Fr=rr(),hn=rr(),En=rr(),Pn=rr(),In=rr(),kn=rr(),Hn=rr(),Kn=rr();Jr(cn,Zr[1],Zr[0]),Jr(Kn,an[1],an[0]),qr(cn,cn,Kn),Ur(Fr,Zr[0],Zr[1]),Ur(Kn,an[0],an[1]),qr(Fr,Fr,Kn),qr(hn,Zr[3],an[3]),qr(hn,hn,ur),qr(En,Zr[2],an[2]),Ur(En,En,En),Jr(Pn,Fr,cn),Jr(In,En,hn),Ur(kn,En,hn),Ur(Hn,Fr,cn),qr(Zr[0],Pn,In),qr(Zr[1],Hn,kn),qr(Zr[2],kn,In),qr(Zr[3],Pn,Hn)}function zn(Zr,an,cn){var Fr;for(Fr=0;Fr<4;Fr++)Rr(Zr[Fr],an[Fr],cn)}function Fn(Zr,an){var cn=rr(),Fr=rr(),hn=rr();sn(hn,an[2]),qr(cn,an[0],hn),qr(Fr,an[1],hn),Pr(Zr,Fr),Zr[31]^=Mr(cn)<<7}function so(Zr,an,cn){var Fr,hn;for(wr(Zr[0],sr),wr(Zr[1],ar),wr(Zr[2],ar),wr(Zr[3],sr),hn=255;hn>=0;--hn)Fr=cn[hn/8|0]>>(hn&7)&1,zn(Zr,an,Fr),Wn(an,Zr),Wn(Zr,Zr),zn(Zr,an,Fr)}function wn(Zr,an){var cn=[rr(),rr(),rr(),rr()];wr(cn[0],fr),wr(cn[1],dr),wr(cn[2],ar),qr(cn[3],fr,dr),so(Zr,cn,an)}function Sn(Zr,an,cn){var Fr=new Uint8Array(64),hn=[rr(),rr(),rr(),rr()],En;for(cn||nr(an,32),xn(Fr,an,32),Fr[0]&=248,Fr[31]&=127,Fr[31]|=64,wn(hn,Fr),Fn(Zr,hn),En=0;En<32;En++)an[En+32]=Zr[En];return 0}var Dn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Xr(Zr,an){var cn,Fr,hn,En;for(Fr=63;Fr>=32;--Fr){for(cn=0,hn=Fr-32,En=Fr-12;hn<En;++hn)an[hn]+=cn-16*an[Fr]*Dn[hn-(Fr-32)],cn=Math.floor((an[hn]+128)/256),an[hn]-=cn*256;an[hn]+=cn,an[Fr]=0}for(cn=0,hn=0;hn<32;hn++)an[hn]+=cn-(an[31]>>4)*Dn[hn],cn=an[hn]>>8,an[hn]&=255;for(hn=0;hn<32;hn++)an[hn]-=cn*Dn[hn];for(Fr=0;Fr<32;Fr++)an[Fr+1]+=an[Fr]>>8,Zr[Fr]=an[Fr]&255}function Hr(Zr){var an=new Float64Array(64),cn;for(cn=0;cn<64;cn++)an[cn]=Zr[cn];for(cn=0;cn<64;cn++)Zr[cn]=0;Xr(Zr,an)}function Kr(Zr,an,cn,Fr){var hn=new Uint8Array(64),En=new Uint8Array(64),Pn=new Uint8Array(64),In,kn,Hn=new Float64Array(64),Kn=[rr(),rr(),rr(),rr()];xn(hn,Fr,32),hn[0]&=248,hn[31]&=127,hn[31]|=64;var _o=cn+64;for(In=0;In<cn;In++)Zr[64+In]=an[In];for(In=0;In<32;In++)Zr[32+In]=hn[32+In];for(xn(Pn,Zr.subarray(32),cn+32),Hr(Pn),wn(Kn,Pn),Fn(Zr,Kn),In=32;In<64;In++)Zr[In]=Fr[In];for(xn(En,Zr,cn+64),Hr(En),In=0;In<64;In++)Hn[In]=0;for(In=0;In<32;In++)Hn[In]=Pn[In];for(In=0;In<32;In++)for(kn=0;kn<32;kn++)Hn[In+kn]+=En[In]*hn[kn];return Xr(Zr.subarray(32),Hn),_o}function fn(Zr,an){var cn=rr(),Fr=rr(),hn=rr(),En=rr(),Pn=rr(),In=rr(),kn=rr();return wr(Zr[2],ar),Br(Zr[1],an),zr(hn,Zr[1]),qr(En,hn,lr),Jr(hn,hn,Zr[2]),Ur(En,Zr[2],En),zr(Pn,En),zr(In,Pn),qr(kn,In,Pn),qr(cn,kn,hn),qr(cn,cn,En),rn(cn,cn),qr(cn,cn,hn),qr(cn,cn,En),qr(cn,cn,En),qr(Zr[0],cn,En),zr(Fr,Zr[0]),qr(Fr,Fr,En),Sr(Fr,hn)&&qr(Zr[0],Zr[0],gr),zr(Fr,Zr[0]),qr(Fr,Fr,En),Sr(Fr,hn)?-1:(Mr(Zr[0])===an[31]>>7&&Jr(Zr[0],sr,Zr[0]),qr(Zr[3],Zr[0],Zr[1]),0)}function vn(Zr,an,cn,Fr){var hn,En=new Uint8Array(32),Pn=new Uint8Array(64),In=[rr(),rr(),rr(),rr()],kn=[rr(),rr(),rr(),rr()];if(cn<64||fn(kn,Fr))return-1;for(hn=0;hn<cn;hn++)Zr[hn]=an[hn];for(hn=0;hn<32;hn++)Zr[hn+32]=Fr[hn];if(xn(Pn,Zr,cn),Hr(Pn),so(In,kn,Pn),wn(kn,an.subarray(32)),Wn(In,kn),Fn(En,In),cn-=64,Er(an,0,En,0)){for(hn=0;hn<cn;hn++)Zr[hn]=0;return-1}for(hn=0;hn<cn;hn++)Zr[hn]=an[hn+64];return cn}var $n=32,Tn=24,Jn=32,io=16,Yn=32,lo=32,ro=32,ao=32,Mo=32,Co=Tn,mo=Jn,No=io,Po=64,fo=32,ko=64,pn=32,gn=64;er.lowlevel={crypto_core_hsalsa20:Nr,crypto_stream_xor:Cr,crypto_stream:Dr,crypto_stream_salsa20_xor:jr,crypto_stream_salsa20:Or,crypto_onetimeauth:yr,crypto_onetimeauth_verify:mr,crypto_verify_16:$r,crypto_verify_32:Er,crypto_secretbox:hr,crypto_secretbox_open:pr,crypto_scalarmult:tn,crypto_scalarmult_base:dn,crypto_box_beforenm:Vr,crypto_box_afternm:Qr,crypto_box:yn,crypto_box_open:An,crypto_box_keypair:Yr,crypto_hash:xn,crypto_sign:Kr,crypto_sign_keypair:Sn,crypto_sign_open:vn,crypto_secretbox_KEYBYTES:$n,crypto_secretbox_NONCEBYTES:Tn,crypto_secretbox_ZEROBYTES:Jn,crypto_secretbox_BOXZEROBYTES:io,crypto_scalarmult_BYTES:Yn,crypto_scalarmult_SCALARBYTES:lo,crypto_box_PUBLICKEYBYTES:ro,crypto_box_SECRETKEYBYTES:ao,crypto_box_BEFORENMBYTES:Mo,crypto_box_NONCEBYTES:Co,crypto_box_ZEROBYTES:mo,crypto_box_BOXZEROBYTES:No,crypto_sign_BYTES:Po,crypto_sign_PUBLICKEYBYTES:fo,crypto_sign_SECRETKEYBYTES:ko,crypto_sign_SEEDBYTES:pn,crypto_hash_BYTES:gn,gf:rr,D:lr,L:Dn,pack25519:Pr,unpack25519:Br,M:qr,A:Ur,S:zr,Z:Jr,pow2523:rn,add:Wn,set25519:wr,modL:Xr,scalarmult:so,scalarbase:wn};function Bn(Zr,an){if(Zr.length!==$n)throw new Error("bad key size");if(an.length!==Tn)throw new Error("bad nonce size")}function Ln(Zr,an){if(Zr.length!==ro)throw new Error("bad public key size");if(an.length!==ao)throw new Error("bad secret key size")}function Mn(){for(var Zr=0;Zr<arguments.length;Zr++)if(!(arguments[Zr]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function So(Zr){for(var an=0;an<Zr.length;an++)Zr[an]=0}er.randomBytes=function(Zr){var an=new Uint8Array(Zr);return nr(an,Zr),an},er.secretbox=function(Zr,an,cn){Mn(Zr,an,cn),Bn(cn,an);for(var Fr=new Uint8Array(Jn+Zr.length),hn=new Uint8Array(Fr.length),En=0;En<Zr.length;En++)Fr[En+Jn]=Zr[En];return hr(hn,Fr,Fr.length,an,cn),hn.subarray(io)},er.secretbox.open=function(Zr,an,cn){Mn(Zr,an,cn),Bn(cn,an);for(var Fr=new Uint8Array(io+Zr.length),hn=new Uint8Array(Fr.length),En=0;En<Zr.length;En++)Fr[En+io]=Zr[En];return Fr.length<32||pr(hn,Fr,Fr.length,an,cn)!==0?null:hn.subarray(Jn)},er.secretbox.keyLength=$n,er.secretbox.nonceLength=Tn,er.secretbox.overheadLength=io,er.scalarMult=function(Zr,an){if(Mn(Zr,an),Zr.length!==lo)throw new Error("bad n size");if(an.length!==Yn)throw new Error("bad p size");var cn=new Uint8Array(Yn);return tn(cn,Zr,an),cn},er.scalarMult.base=function(Zr){if(Mn(Zr),Zr.length!==lo)throw new Error("bad n size");var an=new Uint8Array(Yn);return dn(an,Zr),an},er.scalarMult.scalarLength=lo,er.scalarMult.groupElementLength=Yn,er.box=function(Zr,an,cn,Fr){var hn=er.box.before(cn,Fr);return er.secretbox(Zr,an,hn)},er.box.before=function(Zr,an){Mn(Zr,an),Ln(Zr,an);var cn=new Uint8Array(Mo);return Vr(cn,Zr,an),cn},er.box.after=er.secretbox,er.box.open=function(Zr,an,cn,Fr){var hn=er.box.before(cn,Fr);return er.secretbox.open(Zr,an,hn)},er.box.open.after=er.secretbox.open,er.box.keyPair=function(){var Zr=new Uint8Array(ro),an=new Uint8Array(ao);return Yr(Zr,an),{publicKey:Zr,secretKey:an}},er.box.keyPair.fromSecretKey=function(Zr){if(Mn(Zr),Zr.length!==ao)throw new Error("bad secret key size");var an=new Uint8Array(ro);return dn(an,Zr),{publicKey:an,secretKey:new Uint8Array(Zr)}},er.box.publicKeyLength=ro,er.box.secretKeyLength=ao,er.box.sharedKeyLength=Mo,er.box.nonceLength=Co,er.box.overheadLength=er.secretbox.overheadLength,er.sign=function(Zr,an){if(Mn(Zr,an),an.length!==ko)throw new Error("bad secret key size");var cn=new Uint8Array(Po+Zr.length);return Kr(cn,Zr,Zr.length,an),cn},er.sign.open=function(Zr,an){if(Mn(Zr,an),an.length!==fo)throw new Error("bad public key size");var cn=new Uint8Array(Zr.length),Fr=vn(cn,Zr,Zr.length,an);if(Fr<0)return null;for(var hn=new Uint8Array(Fr),En=0;En<hn.length;En++)hn[En]=cn[En];return hn},er.sign.detached=function(Zr,an){for(var cn=er.sign(Zr,an),Fr=new Uint8Array(Po),hn=0;hn<Fr.length;hn++)Fr[hn]=cn[hn];return Fr},er.sign.detached.verify=function(Zr,an,cn){if(Mn(Zr,an,cn),an.length!==Po)throw new Error("bad signature size");if(cn.length!==fo)throw new Error("bad public key size");var Fr=new Uint8Array(Po+Zr.length),hn=new Uint8Array(Po+Zr.length),En;for(En=0;En<Po;En++)Fr[En]=an[En];for(En=0;En<Zr.length;En++)Fr[En+Po]=Zr[En];return vn(hn,Fr,Fr.length,cn)>=0},er.sign.keyPair=function(){var Zr=new Uint8Array(fo),an=new Uint8Array(ko);return Sn(Zr,an),{publicKey:Zr,secretKey:an}},er.sign.keyPair.fromSecretKey=function(Zr){if(Mn(Zr),Zr.length!==ko)throw new Error("bad secret key size");for(var an=new Uint8Array(fo),cn=0;cn<an.length;cn++)an[cn]=Zr[32+cn];return{publicKey:an,secretKey:new Uint8Array(Zr)}},er.sign.keyPair.fromSeed=function(Zr){if(Mn(Zr),Zr.length!==pn)throw new Error("bad seed size");for(var an=new Uint8Array(fo),cn=new Uint8Array(ko),Fr=0;Fr<32;Fr++)cn[Fr]=Zr[Fr];return Sn(an,cn,!0),{publicKey:an,secretKey:cn}},er.sign.publicKeyLength=fo,er.sign.secretKeyLength=ko,er.sign.seedLength=pn,er.sign.signatureLength=Po,er.hash=function(Zr){Mn(Zr);var an=new Uint8Array(gn);return xn(an,Zr,Zr.length),an},er.hash.hashLength=gn,er.verify=function(Zr,an){return Mn(Zr,an),Zr.length===0||an.length===0||Zr.length!==an.length?!1:vr(Zr,0,an,0,Zr.length)===0},er.setPRNG=function(Zr){nr=Zr},function(){var Zr=typeof self<"u"?self.crypto||self.msCrypto:null;if(Zr&&Zr.getRandomValues){var an=65536;er.setPRNG(function(cn,Fr){var hn,En=new Uint8Array(Fr);for(hn=0;hn<Fr;hn+=an)Zr.getRandomValues(En.subarray(hn,hn+Math.min(Fr-hn,an)));for(hn=0;hn<Fr;hn++)cn[hn]=En[hn];So(En)})}else typeof commonjsRequire<"u"&&(Zr=requireEmptyModule(),Zr&&Zr.randomBytes&&er.setPRNG(function(cn,Fr){var hn,En=Zr.randomBytes(Fr);for(hn=0;hn<Fr;hn++)cn[hn]=En[hn];So(En)}))}()})(tr.exports?tr.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports,__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(tr,er,rr,nr){nr===void 0&&(nr=rr);var ir=Object.getOwnPropertyDescriptor(er,rr);(!ir||("get"in ir?!er.__esModule:ir.writable||ir.configurable))&&(ir={enumerable:!0,get:function(){return er[rr]}}),Object.defineProperty(tr,nr,ir)}:function(tr,er,rr,nr){nr===void 0&&(nr=rr),tr[nr]=er[rr]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(tr,er){Object.defineProperty(tr,"default",{enumerable:!0,value:er})}:function(tr,er){tr.default=er}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(tr){if(tr&&tr.__esModule)return tr;var er={};if(tr!=null)for(var rr in tr)rr!=="default"&&Object.prototype.hasOwnProperty.call(tr,rr)&&__createBinding(er,tr,rr);return __setModuleDefault(er,tr),er};Object.defineProperty(encryption,"__esModule",{value:!0});encryption.getEncryptionPublicKey=encryption.decryptSafely=encryption.decrypt=encryption.encryptSafely=encryption.encrypt=void 0;const base_1=lib$1,nacl=__importStar(naclFastExports),utils_1$2=utils$3;function encrypt$1({publicKey:tr,data:er,version:rr}){if((0,utils_1$2.isNullish)(tr))throw new Error("Missing publicKey parameter");if((0,utils_1$2.isNullish)(er))throw new Error("Missing data parameter");if((0,utils_1$2.isNullish)(rr))throw new Error("Missing version parameter");switch(rr){case"x25519-xsalsa20-poly1305":{if(typeof er!="string")throw new Error("Message data must be given as a string");const nr=nacl.box.keyPair();let ir;try{ir=base_1.base64.decode(tr)}catch{throw new Error("Bad public key")}const or=base_1.utf8.decode(er),sr=nacl.randomBytes(nacl.box.nonceLength),ar=nacl.box(or,sr,ir,nr.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:base_1.base64.encode(sr),ephemPublicKey:base_1.base64.encode(nr.publicKey),ciphertext:base_1.base64.encode(ar)}}default:throw new Error("Encryption type/version not supported")}}encryption.encrypt=encrypt$1;function encryptSafely({publicKey:tr,data:er,version:rr}){if((0,utils_1$2.isNullish)(tr))throw new Error("Missing publicKey parameter");if((0,utils_1$2.isNullish)(er))throw new Error("Missing data parameter");if((0,utils_1$2.isNullish)(rr))throw new Error("Missing version parameter");const nr=2**11,ir=16;if(typeof er=="object"&&er&&"toJSON"in er)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const or={data:er,padding:""},ar=Buffer.byteLength(JSON.stringify(or),"utf-8")%nr;let cr=0;ar>0&&(cr=nr-ar-ir),or.padding="0".repeat(cr);const lr=JSON.stringify(or);return encrypt$1({publicKey:tr,data:lr,version:rr})}encryption.encryptSafely=encryptSafely;function decrypt$1({encryptedData:tr,privateKey:er}){if((0,utils_1$2.isNullish)(tr))throw new Error("Missing encryptedData parameter");if((0,utils_1$2.isNullish)(er))throw new Error("Missing privateKey parameter");switch(tr.version){case"x25519-xsalsa20-poly1305":{const rr=Buffer.from(er,"hex"),nr=nacl.box.keyPair.fromSecretKey(rr).secretKey,ir=base_1.base64.decode(tr.nonce),or=base_1.base64.decode(tr.ciphertext),sr=base_1.base64.decode(tr.ephemPublicKey),ar=nacl.box.open(or,ir,sr,nr);try{if(!ar)throw new Error;const cr=base_1.utf8.encode(ar);if(!cr)throw new Error;return cr}catch(cr){throw cr&&typeof cr.message=="string"&&cr.message.length?new Error(`Decryption failed: ${cr.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}encryption.decrypt=decrypt$1;function decryptSafely({encryptedData:tr,privateKey:er}){if((0,utils_1$2.isNullish)(tr))throw new Error("Missing encryptedData parameter");if((0,utils_1$2.isNullish)(er))throw new Error("Missing privateKey parameter");return JSON.parse(decrypt$1({encryptedData:tr,privateKey:er})).data}encryption.decryptSafely=decryptSafely;function getEncryptionPublicKey(tr){const er=Buffer.from(tr,"hex"),rr=nacl.box.keyPair.fromSecretKey(er).publicKey;return base_1.base64.encode(rr)}encryption.getEncryptionPublicKey=getEncryptionPublicKey;(function(tr){var er=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ir,or,sr,ar){ar===void 0&&(ar=sr);var cr=Object.getOwnPropertyDescriptor(or,sr);(!cr||("get"in cr?!or.__esModule:cr.writable||cr.configurable))&&(cr={enumerable:!0,get:function(){return or[sr]}}),Object.defineProperty(ir,ar,cr)}:function(ir,or,sr,ar){ar===void 0&&(ar=sr),ir[ar]=or[sr]}),rr=commonjsGlobal&&commonjsGlobal.__exportStar||function(ir,or){for(var sr in ir)sr!=="default"&&!Object.prototype.hasOwnProperty.call(or,sr)&&er(or,ir,sr)};Object.defineProperty(tr,"__esModule",{value:!0}),tr.normalize=tr.concatSig=void 0,rr(personalSign$1,tr),rr(signTypedData,tr),rr(encryption,tr);var nr=utils$3;Object.defineProperty(tr,"concatSig",{enumerable:!0,get:function(){return nr.concatSig}}),Object.defineProperty(tr,"normalize",{enumerable:!0,get:function(){return nr.normalize}})})(dist$8);var bn={exports:{}};bn.exports;(function(tr){(function(er,rr){function nr(mr,hr){if(!mr)throw new Error(hr||"Assertion failed")}function ir(mr,hr){mr.super_=hr;var pr=function(){};pr.prototype=hr.prototype,mr.prototype=new pr,mr.prototype.constructor=mr}function or(mr,hr,pr){if(or.isBN(mr))return mr;this.negative=0,this.words=null,this.length=0,this.red=null,mr!==null&&((hr==="le"||hr==="be")&&(pr=hr,hr=10),this._init(mr||0,hr||10,pr||"be"))}typeof er=="object"?er.exports=or:rr.BN=or,or.BN=or,or.wordSize=26;var sr;try{typeof window<"u"&&typeof window.Buffer<"u"?sr=window.Buffer:sr=require$$3.Buffer}catch{}or.isBN=function(hr){return hr instanceof or?!0:hr!==null&&typeof hr=="object"&&hr.constructor.wordSize===or.wordSize&&Array.isArray(hr.words)},or.max=function(hr,pr){return hr.cmp(pr)>0?hr:pr},or.min=function(hr,pr){return hr.cmp(pr)<0?hr:pr},or.prototype._init=function(hr,pr,wr){if(typeof hr=="number")return this._initNumber(hr,pr,wr);if(typeof hr=="object")return this._initArray(hr,pr,wr);pr==="hex"&&(pr=16),nr(pr===(pr|0)&&pr>=2&&pr<=36),hr=hr.toString().replace(/\s+/g,"");var Ar=0;hr[0]==="-"&&(Ar++,this.negative=1),Ar<hr.length&&(pr===16?this._parseHex(hr,Ar,wr):(this._parseBase(hr,pr,Ar),wr==="le"&&this._initArray(this.toArray(),pr,wr)))},or.prototype._initNumber=function(hr,pr,wr){hr<0&&(this.negative=1,hr=-hr),hr<67108864?(this.words=[hr&67108863],this.length=1):hr<4503599627370496?(this.words=[hr&67108863,hr/67108864&67108863],this.length=2):(nr(hr<9007199254740992),this.words=[hr&67108863,hr/67108864&67108863,1],this.length=3),wr==="le"&&this._initArray(this.toArray(),pr,wr)},or.prototype._initArray=function(hr,pr,wr){if(nr(typeof hr.length=="number"),hr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(hr.length/3),this.words=new Array(this.length);for(var Ar=0;Ar<this.length;Ar++)this.words[Ar]=0;var Rr,Pr,Sr=0;if(wr==="be")for(Ar=hr.length-1,Rr=0;Ar>=0;Ar-=3)Pr=hr[Ar]|hr[Ar-1]<<8|hr[Ar-2]<<16,this.words[Rr]|=Pr<<Sr&67108863,this.words[Rr+1]=Pr>>>26-Sr&67108863,Sr+=24,Sr>=26&&(Sr-=26,Rr++);else if(wr==="le")for(Ar=0,Rr=0;Ar<hr.length;Ar+=3)Pr=hr[Ar]|hr[Ar+1]<<8|hr[Ar+2]<<16,this.words[Rr]|=Pr<<Sr&67108863,this.words[Rr+1]=Pr>>>26-Sr&67108863,Sr+=24,Sr>=26&&(Sr-=26,Rr++);return this._strip()};function ar(mr,hr){var pr=mr.charCodeAt(hr);if(pr>=48&&pr<=57)return pr-48;if(pr>=65&&pr<=70)return pr-55;if(pr>=97&&pr<=102)return pr-87;nr(!1,"Invalid character in "+mr)}function cr(mr,hr,pr){var wr=ar(mr,pr);return pr-1>=hr&&(wr|=ar(mr,pr-1)<<4),wr}or.prototype._parseHex=function(hr,pr,wr){this.length=Math.ceil((hr.length-pr)/6),this.words=new Array(this.length);for(var Ar=0;Ar<this.length;Ar++)this.words[Ar]=0;var Rr=0,Pr=0,Sr;if(wr==="be")for(Ar=hr.length-1;Ar>=pr;Ar-=2)Sr=cr(hr,pr,Ar)<<Rr,this.words[Pr]|=Sr&67108863,Rr>=18?(Rr-=18,Pr+=1,this.words[Pr]|=Sr>>>26):Rr+=8;else{var Mr=hr.length-pr;for(Ar=Mr%2===0?pr+1:pr;Ar<hr.length;Ar+=2)Sr=cr(hr,pr,Ar)<<Rr,this.words[Pr]|=Sr&67108863,Rr>=18?(Rr-=18,Pr+=1,this.words[Pr]|=Sr>>>26):Rr+=8}this._strip()};function lr(mr,hr,pr,wr){for(var Ar=0,Rr=0,Pr=Math.min(mr.length,pr),Sr=hr;Sr<Pr;Sr++){var Mr=mr.charCodeAt(Sr)-48;Ar*=wr,Mr>=49?Rr=Mr-49+10:Mr>=17?Rr=Mr-17+10:Rr=Mr,nr(Mr>=0&&Rr<wr,"Invalid character"),Ar+=Rr}return Ar}or.prototype._parseBase=function(hr,pr,wr){this.words=[0],this.length=1;for(var Ar=0,Rr=1;Rr<=67108863;Rr*=pr)Ar++;Ar--,Rr=Rr/pr|0;for(var Pr=hr.length-wr,Sr=Pr%Ar,Mr=Math.min(Pr,Pr-Sr)+wr,Br=0,Ur=wr;Ur<Mr;Ur+=Ar)Br=lr(hr,Ur,Ur+Ar,pr),this.imuln(Rr),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br);if(Sr!==0){var Jr=1;for(Br=lr(hr,Ur,hr.length,pr),Ur=0;Ur<Sr;Ur++)Jr*=pr;this.imuln(Jr),this.words[0]+Br<67108864?this.words[0]+=Br:this._iaddn(Br)}this._strip()},or.prototype.copy=function(hr){hr.words=new Array(this.length);for(var pr=0;pr<this.length;pr++)hr.words[pr]=this.words[pr];hr.length=this.length,hr.negative=this.negative,hr.red=this.red};function ur(mr,hr){mr.words=hr.words,mr.length=hr.length,mr.negative=hr.negative,mr.red=hr.red}if(or.prototype._move=function(hr){ur(hr,this)},or.prototype.clone=function(){var hr=new or(null);return this.copy(hr),hr},or.prototype._expand=function(hr){for(;this.length<hr;)this.words[this.length++]=0;return this},or.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},or.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{or.prototype[Symbol.for("nodejs.util.inspect.custom")]=fr}catch{or.prototype.inspect=fr}else or.prototype.inspect=fr;function fr(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var dr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],gr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],br=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];or.prototype.toString=function(hr,pr){hr=hr||10,pr=pr|0||1;var wr;if(hr===16||hr==="hex"){wr="";for(var Ar=0,Rr=0,Pr=0;Pr<this.length;Pr++){var Sr=this.words[Pr],Mr=((Sr<<Ar|Rr)&16777215).toString(16);Rr=Sr>>>24-Ar&16777215,Ar+=2,Ar>=26&&(Ar-=26,Pr--),Rr!==0||Pr!==this.length-1?wr=dr[6-Mr.length]+Mr+wr:wr=Mr+wr}for(Rr!==0&&(wr=Rr.toString(16)+wr);wr.length%pr!==0;)wr="0"+wr;return this.negative!==0&&(wr="-"+wr),wr}if(hr===(hr|0)&&hr>=2&&hr<=36){var Br=gr[hr],Ur=br[hr];wr="";var Jr=this.clone();for(Jr.negative=0;!Jr.isZero();){var qr=Jr.modrn(Ur).toString(hr);Jr=Jr.idivn(Ur),Jr.isZero()?wr=qr+wr:wr=dr[Br-qr.length]+qr+wr}for(this.isZero()&&(wr="0"+wr);wr.length%pr!==0;)wr="0"+wr;return this.negative!==0&&(wr="-"+wr),wr}nr(!1,"Base should be between 2 and 36")},or.prototype.toNumber=function(){var hr=this.words[0];return this.length===2?hr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?hr+=4503599627370496+this.words[1]*67108864:this.length>2&&nr(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-hr:hr},or.prototype.toJSON=function(){return this.toString(16,2)},sr&&(or.prototype.toBuffer=function(hr,pr){return this.toArrayLike(sr,hr,pr)}),or.prototype.toArray=function(hr,pr){return this.toArrayLike(Array,hr,pr)};var vr=function(hr,pr){return hr.allocUnsafe?hr.allocUnsafe(pr):new hr(pr)};or.prototype.toArrayLike=function(hr,pr,wr){this._strip();var Ar=this.byteLength(),Rr=wr||Math.max(1,Ar);nr(Ar<=Rr,"byte array longer than desired length"),nr(Rr>0,"Requested array length <= 0");var Pr=vr(hr,Rr),Sr=pr==="le"?"LE":"BE";return this["_toArrayLike"+Sr](Pr,Ar),Pr},or.prototype._toArrayLikeLE=function(hr,pr){for(var wr=0,Ar=0,Rr=0,Pr=0;Rr<this.length;Rr++){var Sr=this.words[Rr]<<Pr|Ar;hr[wr++]=Sr&255,wr<hr.length&&(hr[wr++]=Sr>>8&255),wr<hr.length&&(hr[wr++]=Sr>>16&255),Pr===6?(wr<hr.length&&(hr[wr++]=Sr>>24&255),Ar=0,Pr=0):(Ar=Sr>>>24,Pr+=2)}if(wr<hr.length)for(hr[wr++]=Ar;wr<hr.length;)hr[wr++]=0},or.prototype._toArrayLikeBE=function(hr,pr){for(var wr=hr.length-1,Ar=0,Rr=0,Pr=0;Rr<this.length;Rr++){var Sr=this.words[Rr]<<Pr|Ar;hr[wr--]=Sr&255,wr>=0&&(hr[wr--]=Sr>>8&255),wr>=0&&(hr[wr--]=Sr>>16&255),Pr===6?(wr>=0&&(hr[wr--]=Sr>>24&255),Ar=0,Pr=0):(Ar=Sr>>>24,Pr+=2)}if(wr>=0)for(hr[wr--]=Ar;wr>=0;)hr[wr--]=0},Math.clz32?or.prototype._countBits=function(hr){return 32-Math.clz32(hr)}:or.prototype._countBits=function(hr){var pr=hr,wr=0;return pr>=4096&&(wr+=13,pr>>>=13),pr>=64&&(wr+=7,pr>>>=7),pr>=8&&(wr+=4,pr>>>=4),pr>=2&&(wr+=2,pr>>>=2),wr+pr},or.prototype._zeroBits=function(hr){if(hr===0)return 26;var pr=hr,wr=0;return pr&8191||(wr+=13,pr>>>=13),pr&127||(wr+=7,pr>>>=7),pr&15||(wr+=4,pr>>>=4),pr&3||(wr+=2,pr>>>=2),pr&1||wr++,wr},or.prototype.bitLength=function(){var hr=this.words[this.length-1],pr=this._countBits(hr);return(this.length-1)*26+pr};function $r(mr){for(var hr=new Array(mr.bitLength()),pr=0;pr<hr.length;pr++){var wr=pr/26|0,Ar=pr%26;hr[pr]=mr.words[wr]>>>Ar&1}return hr}or.prototype.zeroBits=function(){if(this.isZero())return 0;for(var hr=0,pr=0;pr<this.length;pr++){var wr=this._zeroBits(this.words[pr]);if(hr+=wr,wr!==26)break}return hr},or.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},or.prototype.toTwos=function(hr){return this.negative!==0?this.abs().inotn(hr).iaddn(1):this.clone()},or.prototype.fromTwos=function(hr){return this.testn(hr-1)?this.notn(hr).iaddn(1).ineg():this.clone()},or.prototype.isNeg=function(){return this.negative!==0},or.prototype.neg=function(){return this.clone().ineg()},or.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},or.prototype.iuor=function(hr){for(;this.length<hr.length;)this.words[this.length++]=0;for(var pr=0;pr<hr.length;pr++)this.words[pr]=this.words[pr]|hr.words[pr];return this._strip()},or.prototype.ior=function(hr){return nr((this.negative|hr.negative)===0),this.iuor(hr)},or.prototype.or=function(hr){return this.length>hr.length?this.clone().ior(hr):hr.clone().ior(this)},or.prototype.uor=function(hr){return this.length>hr.length?this.clone().iuor(hr):hr.clone().iuor(this)},or.prototype.iuand=function(hr){var pr;this.length>hr.length?pr=hr:pr=this;for(var wr=0;wr<pr.length;wr++)this.words[wr]=this.words[wr]&hr.words[wr];return this.length=pr.length,this._strip()},or.prototype.iand=function(hr){return nr((this.negative|hr.negative)===0),this.iuand(hr)},or.prototype.and=function(hr){return this.length>hr.length?this.clone().iand(hr):hr.clone().iand(this)},or.prototype.uand=function(hr){return this.length>hr.length?this.clone().iuand(hr):hr.clone().iuand(this)},or.prototype.iuxor=function(hr){var pr,wr;this.length>hr.length?(pr=this,wr=hr):(pr=hr,wr=this);for(var Ar=0;Ar<wr.length;Ar++)this.words[Ar]=pr.words[Ar]^wr.words[Ar];if(this!==pr)for(;Ar<pr.length;Ar++)this.words[Ar]=pr.words[Ar];return this.length=pr.length,this._strip()},or.prototype.ixor=function(hr){return nr((this.negative|hr.negative)===0),this.iuxor(hr)},or.prototype.xor=function(hr){return this.length>hr.length?this.clone().ixor(hr):hr.clone().ixor(this)},or.prototype.uxor=function(hr){return this.length>hr.length?this.clone().iuxor(hr):hr.clone().iuxor(this)},or.prototype.inotn=function(hr){nr(typeof hr=="number"&&hr>=0);var pr=Math.ceil(hr/26)|0,wr=hr%26;this._expand(pr),wr>0&&pr--;for(var Ar=0;Ar<pr;Ar++)this.words[Ar]=~this.words[Ar]&67108863;return wr>0&&(this.words[Ar]=~this.words[Ar]&67108863>>26-wr),this._strip()},or.prototype.notn=function(hr){return this.clone().inotn(hr)},or.prototype.setn=function(hr,pr){nr(typeof hr=="number"&&hr>=0);var wr=hr/26|0,Ar=hr%26;return this._expand(wr+1),pr?this.words[wr]=this.words[wr]|1<<Ar:this.words[wr]=this.words[wr]&~(1<<Ar),this._strip()},or.prototype.iadd=function(hr){var pr;if(this.negative!==0&&hr.negative===0)return this.negative=0,pr=this.isub(hr),this.negative^=1,this._normSign();if(this.negative===0&&hr.negative!==0)return hr.negative=0,pr=this.isub(hr),hr.negative=1,pr._normSign();var wr,Ar;this.length>hr.length?(wr=this,Ar=hr):(wr=hr,Ar=this);for(var Rr=0,Pr=0;Pr<Ar.length;Pr++)pr=(wr.words[Pr]|0)+(Ar.words[Pr]|0)+Rr,this.words[Pr]=pr&67108863,Rr=pr>>>26;for(;Rr!==0&&Pr<wr.length;Pr++)pr=(wr.words[Pr]|0)+Rr,this.words[Pr]=pr&67108863,Rr=pr>>>26;if(this.length=wr.length,Rr!==0)this.words[this.length]=Rr,this.length++;else if(wr!==this)for(;Pr<wr.length;Pr++)this.words[Pr]=wr.words[Pr];return this},or.prototype.add=function(hr){var pr;return hr.negative!==0&&this.negative===0?(hr.negative=0,pr=this.sub(hr),hr.negative^=1,pr):hr.negative===0&&this.negative!==0?(this.negative=0,pr=hr.sub(this),this.negative=1,pr):this.length>hr.length?this.clone().iadd(hr):hr.clone().iadd(this)},or.prototype.isub=function(hr){if(hr.negative!==0){hr.negative=0;var pr=this.iadd(hr);return hr.negative=1,pr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(hr),this.negative=1,this._normSign();var wr=this.cmp(hr);if(wr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ar,Rr;wr>0?(Ar=this,Rr=hr):(Ar=hr,Rr=this);for(var Pr=0,Sr=0;Sr<Rr.length;Sr++)pr=(Ar.words[Sr]|0)-(Rr.words[Sr]|0)+Pr,Pr=pr>>26,this.words[Sr]=pr&67108863;for(;Pr!==0&&Sr<Ar.length;Sr++)pr=(Ar.words[Sr]|0)+Pr,Pr=pr>>26,this.words[Sr]=pr&67108863;if(Pr===0&&Sr<Ar.length&&Ar!==this)for(;Sr<Ar.length;Sr++)this.words[Sr]=Ar.words[Sr];return this.length=Math.max(this.length,Sr),Ar!==this&&(this.negative=1),this._strip()},or.prototype.sub=function(hr){return this.clone().isub(hr)};function Er(mr,hr,pr){pr.negative=hr.negative^mr.negative;var wr=mr.length+hr.length|0;pr.length=wr,wr=wr-1|0;var Ar=mr.words[0]|0,Rr=hr.words[0]|0,Pr=Ar*Rr,Sr=Pr&67108863,Mr=Pr/67108864|0;pr.words[0]=Sr;for(var Br=1;Br<wr;Br++){for(var Ur=Mr>>>26,Jr=Mr&67108863,qr=Math.min(Br,hr.length-1),zr=Math.max(0,Br-mr.length+1);zr<=qr;zr++){var sn=Br-zr|0;Ar=mr.words[sn]|0,Rr=hr.words[zr]|0,Pr=Ar*Rr+Jr,Ur+=Pr/67108864|0,Jr=Pr&67108863}pr.words[Br]=Jr|0,Mr=Ur|0}return Mr!==0?pr.words[Br]=Mr|0:pr.length--,pr._strip()}var _r=function(hr,pr,wr){var Ar=hr.words,Rr=pr.words,Pr=wr.words,Sr=0,Mr,Br,Ur,Jr=Ar[0]|0,qr=Jr&8191,zr=Jr>>>13,sn=Ar[1]|0,rn=sn&8191,tn=sn>>>13,dn=Ar[2]|0,Yr=dn&8191,Vr=dn>>>13,Qr=Ar[3]|0,un=Qr&8191,yn=Qr>>>13,An=Ar[4]|0,Rn=An&8191,On=An>>>13,xn=Ar[5]|0,Wn=xn&8191,zn=xn>>>13,Fn=Ar[6]|0,so=Fn&8191,wn=Fn>>>13,Sn=Ar[7]|0,Dn=Sn&8191,Xr=Sn>>>13,Hr=Ar[8]|0,Kr=Hr&8191,fn=Hr>>>13,vn=Ar[9]|0,$n=vn&8191,Tn=vn>>>13,Jn=Rr[0]|0,io=Jn&8191,Yn=Jn>>>13,lo=Rr[1]|0,ro=lo&8191,ao=lo>>>13,Mo=Rr[2]|0,Co=Mo&8191,mo=Mo>>>13,No=Rr[3]|0,Po=No&8191,fo=No>>>13,ko=Rr[4]|0,pn=ko&8191,gn=ko>>>13,Bn=Rr[5]|0,Ln=Bn&8191,Mn=Bn>>>13,So=Rr[6]|0,Zr=So&8191,an=So>>>13,cn=Rr[7]|0,Fr=cn&8191,hn=cn>>>13,En=Rr[8]|0,Pn=En&8191,In=En>>>13,kn=Rr[9]|0,Hn=kn&8191,Kn=kn>>>13;wr.negative=hr.negative^pr.negative,wr.length=19,Mr=Math.imul(qr,io),Br=Math.imul(qr,Yn),Br=Br+Math.imul(zr,io)|0,Ur=Math.imul(zr,Yn);var _o=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(_o>>>26)|0,_o&=67108863,Mr=Math.imul(rn,io),Br=Math.imul(rn,Yn),Br=Br+Math.imul(tn,io)|0,Ur=Math.imul(tn,Yn),Mr=Mr+Math.imul(qr,ro)|0,Br=Br+Math.imul(qr,ao)|0,Br=Br+Math.imul(zr,ro)|0,Ur=Ur+Math.imul(zr,ao)|0;var Zn=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,Mr=Math.imul(Yr,io),Br=Math.imul(Yr,Yn),Br=Br+Math.imul(Vr,io)|0,Ur=Math.imul(Vr,Yn),Mr=Mr+Math.imul(rn,ro)|0,Br=Br+Math.imul(rn,ao)|0,Br=Br+Math.imul(tn,ro)|0,Ur=Ur+Math.imul(tn,ao)|0,Mr=Mr+Math.imul(qr,Co)|0,Br=Br+Math.imul(qr,mo)|0,Br=Br+Math.imul(zr,Co)|0,Ur=Ur+Math.imul(zr,mo)|0;var ho=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(ho>>>26)|0,ho&=67108863,Mr=Math.imul(un,io),Br=Math.imul(un,Yn),Br=Br+Math.imul(yn,io)|0,Ur=Math.imul(yn,Yn),Mr=Mr+Math.imul(Yr,ro)|0,Br=Br+Math.imul(Yr,ao)|0,Br=Br+Math.imul(Vr,ro)|0,Ur=Ur+Math.imul(Vr,ao)|0,Mr=Mr+Math.imul(rn,Co)|0,Br=Br+Math.imul(rn,mo)|0,Br=Br+Math.imul(tn,Co)|0,Ur=Ur+Math.imul(tn,mo)|0,Mr=Mr+Math.imul(qr,Po)|0,Br=Br+Math.imul(qr,fo)|0,Br=Br+Math.imul(zr,Po)|0,Ur=Ur+Math.imul(zr,fo)|0;var go=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(go>>>26)|0,go&=67108863,Mr=Math.imul(Rn,io),Br=Math.imul(Rn,Yn),Br=Br+Math.imul(On,io)|0,Ur=Math.imul(On,Yn),Mr=Mr+Math.imul(un,ro)|0,Br=Br+Math.imul(un,ao)|0,Br=Br+Math.imul(yn,ro)|0,Ur=Ur+Math.imul(yn,ao)|0,Mr=Mr+Math.imul(Yr,Co)|0,Br=Br+Math.imul(Yr,mo)|0,Br=Br+Math.imul(Vr,Co)|0,Ur=Ur+Math.imul(Vr,mo)|0,Mr=Mr+Math.imul(rn,Po)|0,Br=Br+Math.imul(rn,fo)|0,Br=Br+Math.imul(tn,Po)|0,Ur=Ur+Math.imul(tn,fo)|0,Mr=Mr+Math.imul(qr,pn)|0,Br=Br+Math.imul(qr,gn)|0,Br=Br+Math.imul(zr,pn)|0,Ur=Ur+Math.imul(zr,gn)|0;var co=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(co>>>26)|0,co&=67108863,Mr=Math.imul(Wn,io),Br=Math.imul(Wn,Yn),Br=Br+Math.imul(zn,io)|0,Ur=Math.imul(zn,Yn),Mr=Mr+Math.imul(Rn,ro)|0,Br=Br+Math.imul(Rn,ao)|0,Br=Br+Math.imul(On,ro)|0,Ur=Ur+Math.imul(On,ao)|0,Mr=Mr+Math.imul(un,Co)|0,Br=Br+Math.imul(un,mo)|0,Br=Br+Math.imul(yn,Co)|0,Ur=Ur+Math.imul(yn,mo)|0,Mr=Mr+Math.imul(Yr,Po)|0,Br=Br+Math.imul(Yr,fo)|0,Br=Br+Math.imul(Vr,Po)|0,Ur=Ur+Math.imul(Vr,fo)|0,Mr=Mr+Math.imul(rn,pn)|0,Br=Br+Math.imul(rn,gn)|0,Br=Br+Math.imul(tn,pn)|0,Ur=Ur+Math.imul(tn,gn)|0,Mr=Mr+Math.imul(qr,Ln)|0,Br=Br+Math.imul(qr,Mn)|0,Br=Br+Math.imul(zr,Ln)|0,Ur=Ur+Math.imul(zr,Mn)|0;var bo=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(bo>>>26)|0,bo&=67108863,Mr=Math.imul(so,io),Br=Math.imul(so,Yn),Br=Br+Math.imul(wn,io)|0,Ur=Math.imul(wn,Yn),Mr=Mr+Math.imul(Wn,ro)|0,Br=Br+Math.imul(Wn,ao)|0,Br=Br+Math.imul(zn,ro)|0,Ur=Ur+Math.imul(zn,ao)|0,Mr=Mr+Math.imul(Rn,Co)|0,Br=Br+Math.imul(Rn,mo)|0,Br=Br+Math.imul(On,Co)|0,Ur=Ur+Math.imul(On,mo)|0,Mr=Mr+Math.imul(un,Po)|0,Br=Br+Math.imul(un,fo)|0,Br=Br+Math.imul(yn,Po)|0,Ur=Ur+Math.imul(yn,fo)|0,Mr=Mr+Math.imul(Yr,pn)|0,Br=Br+Math.imul(Yr,gn)|0,Br=Br+Math.imul(Vr,pn)|0,Ur=Ur+Math.imul(Vr,gn)|0,Mr=Mr+Math.imul(rn,Ln)|0,Br=Br+Math.imul(rn,Mn)|0,Br=Br+Math.imul(tn,Ln)|0,Ur=Ur+Math.imul(tn,Mn)|0,Mr=Mr+Math.imul(qr,Zr)|0,Br=Br+Math.imul(qr,an)|0,Br=Br+Math.imul(zr,Zr)|0,Ur=Ur+Math.imul(zr,an)|0;var uo=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(uo>>>26)|0,uo&=67108863,Mr=Math.imul(Dn,io),Br=Math.imul(Dn,Yn),Br=Br+Math.imul(Xr,io)|0,Ur=Math.imul(Xr,Yn),Mr=Mr+Math.imul(so,ro)|0,Br=Br+Math.imul(so,ao)|0,Br=Br+Math.imul(wn,ro)|0,Ur=Ur+Math.imul(wn,ao)|0,Mr=Mr+Math.imul(Wn,Co)|0,Br=Br+Math.imul(Wn,mo)|0,Br=Br+Math.imul(zn,Co)|0,Ur=Ur+Math.imul(zn,mo)|0,Mr=Mr+Math.imul(Rn,Po)|0,Br=Br+Math.imul(Rn,fo)|0,Br=Br+Math.imul(On,Po)|0,Ur=Ur+Math.imul(On,fo)|0,Mr=Mr+Math.imul(un,pn)|0,Br=Br+Math.imul(un,gn)|0,Br=Br+Math.imul(yn,pn)|0,Ur=Ur+Math.imul(yn,gn)|0,Mr=Mr+Math.imul(Yr,Ln)|0,Br=Br+Math.imul(Yr,Mn)|0,Br=Br+Math.imul(Vr,Ln)|0,Ur=Ur+Math.imul(Vr,Mn)|0,Mr=Mr+Math.imul(rn,Zr)|0,Br=Br+Math.imul(rn,an)|0,Br=Br+Math.imul(tn,Zr)|0,Ur=Ur+Math.imul(tn,an)|0,Mr=Mr+Math.imul(qr,Fr)|0,Br=Br+Math.imul(qr,hn)|0,Br=Br+Math.imul(zr,Fr)|0,Ur=Ur+Math.imul(zr,hn)|0;var po=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(po>>>26)|0,po&=67108863,Mr=Math.imul(Kr,io),Br=Math.imul(Kr,Yn),Br=Br+Math.imul(fn,io)|0,Ur=Math.imul(fn,Yn),Mr=Mr+Math.imul(Dn,ro)|0,Br=Br+Math.imul(Dn,ao)|0,Br=Br+Math.imul(Xr,ro)|0,Ur=Ur+Math.imul(Xr,ao)|0,Mr=Mr+Math.imul(so,Co)|0,Br=Br+Math.imul(so,mo)|0,Br=Br+Math.imul(wn,Co)|0,Ur=Ur+Math.imul(wn,mo)|0,Mr=Mr+Math.imul(Wn,Po)|0,Br=Br+Math.imul(Wn,fo)|0,Br=Br+Math.imul(zn,Po)|0,Ur=Ur+Math.imul(zn,fo)|0,Mr=Mr+Math.imul(Rn,pn)|0,Br=Br+Math.imul(Rn,gn)|0,Br=Br+Math.imul(On,pn)|0,Ur=Ur+Math.imul(On,gn)|0,Mr=Mr+Math.imul(un,Ln)|0,Br=Br+Math.imul(un,Mn)|0,Br=Br+Math.imul(yn,Ln)|0,Ur=Ur+Math.imul(yn,Mn)|0,Mr=Mr+Math.imul(Yr,Zr)|0,Br=Br+Math.imul(Yr,an)|0,Br=Br+Math.imul(Vr,Zr)|0,Ur=Ur+Math.imul(Vr,an)|0,Mr=Mr+Math.imul(rn,Fr)|0,Br=Br+Math.imul(rn,hn)|0,Br=Br+Math.imul(tn,Fr)|0,Ur=Ur+Math.imul(tn,hn)|0,Mr=Mr+Math.imul(qr,Pn)|0,Br=Br+Math.imul(qr,In)|0,Br=Br+Math.imul(zr,Pn)|0,Ur=Ur+Math.imul(zr,In)|0;var yo=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(yo>>>26)|0,yo&=67108863,Mr=Math.imul($n,io),Br=Math.imul($n,Yn),Br=Br+Math.imul(Tn,io)|0,Ur=Math.imul(Tn,Yn),Mr=Mr+Math.imul(Kr,ro)|0,Br=Br+Math.imul(Kr,ao)|0,Br=Br+Math.imul(fn,ro)|0,Ur=Ur+Math.imul(fn,ao)|0,Mr=Mr+Math.imul(Dn,Co)|0,Br=Br+Math.imul(Dn,mo)|0,Br=Br+Math.imul(Xr,Co)|0,Ur=Ur+Math.imul(Xr,mo)|0,Mr=Mr+Math.imul(so,Po)|0,Br=Br+Math.imul(so,fo)|0,Br=Br+Math.imul(wn,Po)|0,Ur=Ur+Math.imul(wn,fo)|0,Mr=Mr+Math.imul(Wn,pn)|0,Br=Br+Math.imul(Wn,gn)|0,Br=Br+Math.imul(zn,pn)|0,Ur=Ur+Math.imul(zn,gn)|0,Mr=Mr+Math.imul(Rn,Ln)|0,Br=Br+Math.imul(Rn,Mn)|0,Br=Br+Math.imul(On,Ln)|0,Ur=Ur+Math.imul(On,Mn)|0,Mr=Mr+Math.imul(un,Zr)|0,Br=Br+Math.imul(un,an)|0,Br=Br+Math.imul(yn,Zr)|0,Ur=Ur+Math.imul(yn,an)|0,Mr=Mr+Math.imul(Yr,Fr)|0,Br=Br+Math.imul(Yr,hn)|0,Br=Br+Math.imul(Vr,Fr)|0,Ur=Ur+Math.imul(Vr,hn)|0,Mr=Mr+Math.imul(rn,Pn)|0,Br=Br+Math.imul(rn,In)|0,Br=Br+Math.imul(tn,Pn)|0,Ur=Ur+Math.imul(tn,In)|0,Mr=Mr+Math.imul(qr,Hn)|0,Br=Br+Math.imul(qr,Kn)|0,Br=Br+Math.imul(zr,Hn)|0,Ur=Ur+Math.imul(zr,Kn)|0;var to=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(to>>>26)|0,to&=67108863,Mr=Math.imul($n,ro),Br=Math.imul($n,ao),Br=Br+Math.imul(Tn,ro)|0,Ur=Math.imul(Tn,ao),Mr=Mr+Math.imul(Kr,Co)|0,Br=Br+Math.imul(Kr,mo)|0,Br=Br+Math.imul(fn,Co)|0,Ur=Ur+Math.imul(fn,mo)|0,Mr=Mr+Math.imul(Dn,Po)|0,Br=Br+Math.imul(Dn,fo)|0,Br=Br+Math.imul(Xr,Po)|0,Ur=Ur+Math.imul(Xr,fo)|0,Mr=Mr+Math.imul(so,pn)|0,Br=Br+Math.imul(so,gn)|0,Br=Br+Math.imul(wn,pn)|0,Ur=Ur+Math.imul(wn,gn)|0,Mr=Mr+Math.imul(Wn,Ln)|0,Br=Br+Math.imul(Wn,Mn)|0,Br=Br+Math.imul(zn,Ln)|0,Ur=Ur+Math.imul(zn,Mn)|0,Mr=Mr+Math.imul(Rn,Zr)|0,Br=Br+Math.imul(Rn,an)|0,Br=Br+Math.imul(On,Zr)|0,Ur=Ur+Math.imul(On,an)|0,Mr=Mr+Math.imul(un,Fr)|0,Br=Br+Math.imul(un,hn)|0,Br=Br+Math.imul(yn,Fr)|0,Ur=Ur+Math.imul(yn,hn)|0,Mr=Mr+Math.imul(Yr,Pn)|0,Br=Br+Math.imul(Yr,In)|0,Br=Br+Math.imul(Vr,Pn)|0,Ur=Ur+Math.imul(Vr,In)|0,Mr=Mr+Math.imul(rn,Hn)|0,Br=Br+Math.imul(rn,Kn)|0,Br=Br+Math.imul(tn,Hn)|0,Ur=Ur+Math.imul(tn,Kn)|0;var oo=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(oo>>>26)|0,oo&=67108863,Mr=Math.imul($n,Co),Br=Math.imul($n,mo),Br=Br+Math.imul(Tn,Co)|0,Ur=Math.imul(Tn,mo),Mr=Mr+Math.imul(Kr,Po)|0,Br=Br+Math.imul(Kr,fo)|0,Br=Br+Math.imul(fn,Po)|0,Ur=Ur+Math.imul(fn,fo)|0,Mr=Mr+Math.imul(Dn,pn)|0,Br=Br+Math.imul(Dn,gn)|0,Br=Br+Math.imul(Xr,pn)|0,Ur=Ur+Math.imul(Xr,gn)|0,Mr=Mr+Math.imul(so,Ln)|0,Br=Br+Math.imul(so,Mn)|0,Br=Br+Math.imul(wn,Ln)|0,Ur=Ur+Math.imul(wn,Mn)|0,Mr=Mr+Math.imul(Wn,Zr)|0,Br=Br+Math.imul(Wn,an)|0,Br=Br+Math.imul(zn,Zr)|0,Ur=Ur+Math.imul(zn,an)|0,Mr=Mr+Math.imul(Rn,Fr)|0,Br=Br+Math.imul(Rn,hn)|0,Br=Br+Math.imul(On,Fr)|0,Ur=Ur+Math.imul(On,hn)|0,Mr=Mr+Math.imul(un,Pn)|0,Br=Br+Math.imul(un,In)|0,Br=Br+Math.imul(yn,Pn)|0,Ur=Ur+Math.imul(yn,In)|0,Mr=Mr+Math.imul(Yr,Hn)|0,Br=Br+Math.imul(Yr,Kn)|0,Br=Br+Math.imul(Vr,Hn)|0,Ur=Ur+Math.imul(Vr,Kn)|0;var _i=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(_i>>>26)|0,_i&=67108863,Mr=Math.imul($n,Po),Br=Math.imul($n,fo),Br=Br+Math.imul(Tn,Po)|0,Ur=Math.imul(Tn,fo),Mr=Mr+Math.imul(Kr,pn)|0,Br=Br+Math.imul(Kr,gn)|0,Br=Br+Math.imul(fn,pn)|0,Ur=Ur+Math.imul(fn,gn)|0,Mr=Mr+Math.imul(Dn,Ln)|0,Br=Br+Math.imul(Dn,Mn)|0,Br=Br+Math.imul(Xr,Ln)|0,Ur=Ur+Math.imul(Xr,Mn)|0,Mr=Mr+Math.imul(so,Zr)|0,Br=Br+Math.imul(so,an)|0,Br=Br+Math.imul(wn,Zr)|0,Ur=Ur+Math.imul(wn,an)|0,Mr=Mr+Math.imul(Wn,Fr)|0,Br=Br+Math.imul(Wn,hn)|0,Br=Br+Math.imul(zn,Fr)|0,Ur=Ur+Math.imul(zn,hn)|0,Mr=Mr+Math.imul(Rn,Pn)|0,Br=Br+Math.imul(Rn,In)|0,Br=Br+Math.imul(On,Pn)|0,Ur=Ur+Math.imul(On,In)|0,Mr=Mr+Math.imul(un,Hn)|0,Br=Br+Math.imul(un,Kn)|0,Br=Br+Math.imul(yn,Hn)|0,Ur=Ur+Math.imul(yn,Kn)|0;var no=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(no>>>26)|0,no&=67108863,Mr=Math.imul($n,pn),Br=Math.imul($n,gn),Br=Br+Math.imul(Tn,pn)|0,Ur=Math.imul(Tn,gn),Mr=Mr+Math.imul(Kr,Ln)|0,Br=Br+Math.imul(Kr,Mn)|0,Br=Br+Math.imul(fn,Ln)|0,Ur=Ur+Math.imul(fn,Mn)|0,Mr=Mr+Math.imul(Dn,Zr)|0,Br=Br+Math.imul(Dn,an)|0,Br=Br+Math.imul(Xr,Zr)|0,Ur=Ur+Math.imul(Xr,an)|0,Mr=Mr+Math.imul(so,Fr)|0,Br=Br+Math.imul(so,hn)|0,Br=Br+Math.imul(wn,Fr)|0,Ur=Ur+Math.imul(wn,hn)|0,Mr=Mr+Math.imul(Wn,Pn)|0,Br=Br+Math.imul(Wn,In)|0,Br=Br+Math.imul(zn,Pn)|0,Ur=Ur+Math.imul(zn,In)|0,Mr=Mr+Math.imul(Rn,Hn)|0,Br=Br+Math.imul(Rn,Kn)|0,Br=Br+Math.imul(On,Hn)|0,Ur=Ur+Math.imul(On,Kn)|0;var eo=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(eo>>>26)|0,eo&=67108863,Mr=Math.imul($n,Ln),Br=Math.imul($n,Mn),Br=Br+Math.imul(Tn,Ln)|0,Ur=Math.imul(Tn,Mn),Mr=Mr+Math.imul(Kr,Zr)|0,Br=Br+Math.imul(Kr,an)|0,Br=Br+Math.imul(fn,Zr)|0,Ur=Ur+Math.imul(fn,an)|0,Mr=Mr+Math.imul(Dn,Fr)|0,Br=Br+Math.imul(Dn,hn)|0,Br=Br+Math.imul(Xr,Fr)|0,Ur=Ur+Math.imul(Xr,hn)|0,Mr=Mr+Math.imul(so,Pn)|0,Br=Br+Math.imul(so,In)|0,Br=Br+Math.imul(wn,Pn)|0,Ur=Ur+Math.imul(wn,In)|0,Mr=Mr+Math.imul(Wn,Hn)|0,Br=Br+Math.imul(Wn,Kn)|0,Br=Br+Math.imul(zn,Hn)|0,Ur=Ur+Math.imul(zn,Kn)|0;var Qn=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,Mr=Math.imul($n,Zr),Br=Math.imul($n,an),Br=Br+Math.imul(Tn,Zr)|0,Ur=Math.imul(Tn,an),Mr=Mr+Math.imul(Kr,Fr)|0,Br=Br+Math.imul(Kr,hn)|0,Br=Br+Math.imul(fn,Fr)|0,Ur=Ur+Math.imul(fn,hn)|0,Mr=Mr+Math.imul(Dn,Pn)|0,Br=Br+Math.imul(Dn,In)|0,Br=Br+Math.imul(Xr,Pn)|0,Ur=Ur+Math.imul(Xr,In)|0,Mr=Mr+Math.imul(so,Hn)|0,Br=Br+Math.imul(so,Kn)|0,Br=Br+Math.imul(wn,Hn)|0,Ur=Ur+Math.imul(wn,Kn)|0;var Cn=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,Mr=Math.imul($n,Fr),Br=Math.imul($n,hn),Br=Br+Math.imul(Tn,Fr)|0,Ur=Math.imul(Tn,hn),Mr=Mr+Math.imul(Kr,Pn)|0,Br=Br+Math.imul(Kr,In)|0,Br=Br+Math.imul(fn,Pn)|0,Ur=Ur+Math.imul(fn,In)|0,Mr=Mr+Math.imul(Dn,Hn)|0,Br=Br+Math.imul(Dn,Kn)|0,Br=Br+Math.imul(Xr,Hn)|0,Ur=Ur+Math.imul(Xr,Kn)|0;var Nn=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,Mr=Math.imul($n,Pn),Br=Math.imul($n,In),Br=Br+Math.imul(Tn,Pn)|0,Ur=Math.imul(Tn,In),Mr=Mr+Math.imul(Kr,Hn)|0,Br=Br+Math.imul(Kr,Kn)|0,Br=Br+Math.imul(fn,Hn)|0,Ur=Ur+Math.imul(fn,Kn)|0;var Vn=(Sr+Mr|0)+((Br&8191)<<13)|0;Sr=(Ur+(Br>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,Mr=Math.imul($n,Hn),Br=Math.imul($n,Kn),Br=Br+Math.imul(Tn,Hn)|0,Ur=Math.imul(Tn,Kn);var jn=(Sr+Mr|0)+((Br&8191)<<13)|0;return Sr=(Ur+(Br>>>13)|0)+(jn>>>26)|0,jn&=67108863,Pr[0]=_o,Pr[1]=Zn,Pr[2]=ho,Pr[3]=go,Pr[4]=co,Pr[5]=bo,Pr[6]=uo,Pr[7]=po,Pr[8]=yo,Pr[9]=to,Pr[10]=oo,Pr[11]=_i,Pr[12]=no,Pr[13]=eo,Pr[14]=Qn,Pr[15]=Cn,Pr[16]=Nn,Pr[17]=Vn,Pr[18]=jn,Sr!==0&&(Pr[19]=Sr,wr.length++),wr};Math.imul||(_r=Er);function xr(mr,hr,pr){pr.negative=hr.negative^mr.negative,pr.length=mr.length+hr.length;for(var wr=0,Ar=0,Rr=0;Rr<pr.length-1;Rr++){var Pr=Ar;Ar=0;for(var Sr=wr&67108863,Mr=Math.min(Rr,hr.length-1),Br=Math.max(0,Rr-mr.length+1);Br<=Mr;Br++){var Ur=Rr-Br,Jr=mr.words[Ur]|0,qr=hr.words[Br]|0,zr=Jr*qr,sn=zr&67108863;Pr=Pr+(zr/67108864|0)|0,sn=sn+Sr|0,Sr=sn&67108863,Pr=Pr+(sn>>>26)|0,Ar+=Pr>>>26,Pr&=67108863}pr.words[Rr]=Sr,wr=Pr,Pr=Ar}return wr!==0?pr.words[Rr]=wr:pr.length--,pr._strip()}function Ir(mr,hr,pr){return xr(mr,hr,pr)}or.prototype.mulTo=function(hr,pr){var wr,Ar=this.length+hr.length;return this.length===10&&hr.length===10?wr=_r(this,hr,pr):Ar<63?wr=Er(this,hr,pr):Ar<1024?wr=xr(this,hr,pr):wr=Ir(this,hr,pr),wr},or.prototype.mul=function(hr){var pr=new or(null);return pr.words=new Array(this.length+hr.length),this.mulTo(hr,pr)},or.prototype.mulf=function(hr){var pr=new or(null);return pr.words=new Array(this.length+hr.length),Ir(this,hr,pr)},or.prototype.imul=function(hr){return this.clone().mulTo(hr,this)},or.prototype.imuln=function(hr){var pr=hr<0;pr&&(hr=-hr),nr(typeof hr=="number"),nr(hr<67108864);for(var wr=0,Ar=0;Ar<this.length;Ar++){var Rr=(this.words[Ar]|0)*hr,Pr=(Rr&67108863)+(wr&67108863);wr>>=26,wr+=Rr/67108864|0,wr+=Pr>>>26,this.words[Ar]=Pr&67108863}return wr!==0&&(this.words[Ar]=wr,this.length++),pr?this.ineg():this},or.prototype.muln=function(hr){return this.clone().imuln(hr)},or.prototype.sqr=function(){return this.mul(this)},or.prototype.isqr=function(){return this.imul(this.clone())},or.prototype.pow=function(hr){var pr=$r(hr);if(pr.length===0)return new or(1);for(var wr=this,Ar=0;Ar<pr.length&&pr[Ar]===0;Ar++,wr=wr.sqr());if(++Ar<pr.length)for(var Rr=wr.sqr();Ar<pr.length;Ar++,Rr=Rr.sqr())pr[Ar]!==0&&(wr=wr.mul(Rr));return wr},or.prototype.iushln=function(hr){nr(typeof hr=="number"&&hr>=0);var pr=hr%26,wr=(hr-pr)/26,Ar=67108863>>>26-pr<<26-pr,Rr;if(pr!==0){var Pr=0;for(Rr=0;Rr<this.length;Rr++){var Sr=this.words[Rr]&Ar,Mr=(this.words[Rr]|0)-Sr<<pr;this.words[Rr]=Mr|Pr,Pr=Sr>>>26-pr}Pr&&(this.words[Rr]=Pr,this.length++)}if(wr!==0){for(Rr=this.length-1;Rr>=0;Rr--)this.words[Rr+wr]=this.words[Rr];for(Rr=0;Rr<wr;Rr++)this.words[Rr]=0;this.length+=wr}return this._strip()},or.prototype.ishln=function(hr){return nr(this.negative===0),this.iushln(hr)},or.prototype.iushrn=function(hr,pr,wr){nr(typeof hr=="number"&&hr>=0);var Ar;pr?Ar=(pr-pr%26)/26:Ar=0;var Rr=hr%26,Pr=Math.min((hr-Rr)/26,this.length),Sr=67108863^67108863>>>Rr<<Rr,Mr=wr;if(Ar-=Pr,Ar=Math.max(0,Ar),Mr){for(var Br=0;Br<Pr;Br++)Mr.words[Br]=this.words[Br];Mr.length=Pr}if(Pr!==0)if(this.length>Pr)for(this.length-=Pr,Br=0;Br<this.length;Br++)this.words[Br]=this.words[Br+Pr];else this.words[0]=0,this.length=1;var Ur=0;for(Br=this.length-1;Br>=0&&(Ur!==0||Br>=Ar);Br--){var Jr=this.words[Br]|0;this.words[Br]=Ur<<26-Rr|Jr>>>Rr,Ur=Jr&Sr}return Mr&&Ur!==0&&(Mr.words[Mr.length++]=Ur),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},or.prototype.ishrn=function(hr,pr,wr){return nr(this.negative===0),this.iushrn(hr,pr,wr)},or.prototype.shln=function(hr){return this.clone().ishln(hr)},or.prototype.ushln=function(hr){return this.clone().iushln(hr)},or.prototype.shrn=function(hr){return this.clone().ishrn(hr)},or.prototype.ushrn=function(hr){return this.clone().iushrn(hr)},or.prototype.testn=function(hr){nr(typeof hr=="number"&&hr>=0);var pr=hr%26,wr=(hr-pr)/26,Ar=1<<pr;if(this.length<=wr)return!1;var Rr=this.words[wr];return!!(Rr&Ar)},or.prototype.imaskn=function(hr){nr(typeof hr=="number"&&hr>=0);var pr=hr%26,wr=(hr-pr)/26;if(nr(this.negative===0,"imaskn works only with positive numbers"),this.length<=wr)return this;if(pr!==0&&wr++,this.length=Math.min(wr,this.length),pr!==0){var Ar=67108863^67108863>>>pr<<pr;this.words[this.length-1]&=Ar}return this._strip()},or.prototype.maskn=function(hr){return this.clone().imaskn(hr)},or.prototype.iaddn=function(hr){return nr(typeof hr=="number"),nr(hr<67108864),hr<0?this.isubn(-hr):this.negative!==0?this.length===1&&(this.words[0]|0)<=hr?(this.words[0]=hr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(hr),this.negative=1,this):this._iaddn(hr)},or.prototype._iaddn=function(hr){this.words[0]+=hr;for(var pr=0;pr<this.length&&this.words[pr]>=67108864;pr++)this.words[pr]-=67108864,pr===this.length-1?this.words[pr+1]=1:this.words[pr+1]++;return this.length=Math.max(this.length,pr+1),this},or.prototype.isubn=function(hr){if(nr(typeof hr=="number"),nr(hr<67108864),hr<0)return this.iaddn(-hr);if(this.negative!==0)return this.negative=0,this.iaddn(hr),this.negative=1,this;if(this.words[0]-=hr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var pr=0;pr<this.length&&this.words[pr]<0;pr++)this.words[pr]+=67108864,this.words[pr+1]-=1;return this._strip()},or.prototype.addn=function(hr){return this.clone().iaddn(hr)},or.prototype.subn=function(hr){return this.clone().isubn(hr)},or.prototype.iabs=function(){return this.negative=0,this},or.prototype.abs=function(){return this.clone().iabs()},or.prototype._ishlnsubmul=function(hr,pr,wr){var Ar=hr.length+wr,Rr;this._expand(Ar);var Pr,Sr=0;for(Rr=0;Rr<hr.length;Rr++){Pr=(this.words[Rr+wr]|0)+Sr;var Mr=(hr.words[Rr]|0)*pr;Pr-=Mr&67108863,Sr=(Pr>>26)-(Mr/67108864|0),this.words[Rr+wr]=Pr&67108863}for(;Rr<this.length-wr;Rr++)Pr=(this.words[Rr+wr]|0)+Sr,Sr=Pr>>26,this.words[Rr+wr]=Pr&67108863;if(Sr===0)return this._strip();for(nr(Sr===-1),Sr=0,Rr=0;Rr<this.length;Rr++)Pr=-(this.words[Rr]|0)+Sr,Sr=Pr>>26,this.words[Rr]=Pr&67108863;return this.negative=1,this._strip()},or.prototype._wordDiv=function(hr,pr){var wr=this.length-hr.length,Ar=this.clone(),Rr=hr,Pr=Rr.words[Rr.length-1]|0,Sr=this._countBits(Pr);wr=26-Sr,wr!==0&&(Rr=Rr.ushln(wr),Ar.iushln(wr),Pr=Rr.words[Rr.length-1]|0);var Mr=Ar.length-Rr.length,Br;if(pr!=="mod"){Br=new or(null),Br.length=Mr+1,Br.words=new Array(Br.length);for(var Ur=0;Ur<Br.length;Ur++)Br.words[Ur]=0}var Jr=Ar.clone()._ishlnsubmul(Rr,1,Mr);Jr.negative===0&&(Ar=Jr,Br&&(Br.words[Mr]=1));for(var qr=Mr-1;qr>=0;qr--){var zr=(Ar.words[Rr.length+qr]|0)*67108864+(Ar.words[Rr.length+qr-1]|0);for(zr=Math.min(zr/Pr|0,67108863),Ar._ishlnsubmul(Rr,zr,qr);Ar.negative!==0;)zr--,Ar.negative=0,Ar._ishlnsubmul(Rr,1,qr),Ar.isZero()||(Ar.negative^=1);Br&&(Br.words[qr]=zr)}return Br&&Br._strip(),Ar._strip(),pr!=="div"&&wr!==0&&Ar.iushrn(wr),{div:Br||null,mod:Ar}},or.prototype.divmod=function(hr,pr,wr){if(nr(!hr.isZero()),this.isZero())return{div:new or(0),mod:new or(0)};var Ar,Rr,Pr;return this.negative!==0&&hr.negative===0?(Pr=this.neg().divmod(hr,pr),pr!=="mod"&&(Ar=Pr.div.neg()),pr!=="div"&&(Rr=Pr.mod.neg(),wr&&Rr.negative!==0&&Rr.iadd(hr)),{div:Ar,mod:Rr}):this.negative===0&&hr.negative!==0?(Pr=this.divmod(hr.neg(),pr),pr!=="mod"&&(Ar=Pr.div.neg()),{div:Ar,mod:Pr.mod}):this.negative&hr.negative?(Pr=this.neg().divmod(hr.neg(),pr),pr!=="div"&&(Rr=Pr.mod.neg(),wr&&Rr.negative!==0&&Rr.isub(hr)),{div:Pr.div,mod:Rr}):hr.length>this.length||this.cmp(hr)<0?{div:new or(0),mod:this}:hr.length===1?pr==="div"?{div:this.divn(hr.words[0]),mod:null}:pr==="mod"?{div:null,mod:new or(this.modrn(hr.words[0]))}:{div:this.divn(hr.words[0]),mod:new or(this.modrn(hr.words[0]))}:this._wordDiv(hr,pr)},or.prototype.div=function(hr){return this.divmod(hr,"div",!1).div},or.prototype.mod=function(hr){return this.divmod(hr,"mod",!1).mod},or.prototype.umod=function(hr){return this.divmod(hr,"mod",!0).mod},or.prototype.divRound=function(hr){var pr=this.divmod(hr);if(pr.mod.isZero())return pr.div;var wr=pr.div.negative!==0?pr.mod.isub(hr):pr.mod,Ar=hr.ushrn(1),Rr=hr.andln(1),Pr=wr.cmp(Ar);return Pr<0||Rr===1&&Pr===0?pr.div:pr.div.negative!==0?pr.div.isubn(1):pr.div.iaddn(1)},or.prototype.modrn=function(hr){var pr=hr<0;pr&&(hr=-hr),nr(hr<=67108863);for(var wr=(1<<26)%hr,Ar=0,Rr=this.length-1;Rr>=0;Rr--)Ar=(wr*Ar+(this.words[Rr]|0))%hr;return pr?-Ar:Ar},or.prototype.modn=function(hr){return this.modrn(hr)},or.prototype.idivn=function(hr){var pr=hr<0;pr&&(hr=-hr),nr(hr<=67108863);for(var wr=0,Ar=this.length-1;Ar>=0;Ar--){var Rr=(this.words[Ar]|0)+wr*67108864;this.words[Ar]=Rr/hr|0,wr=Rr%hr}return this._strip(),pr?this.ineg():this},or.prototype.divn=function(hr){return this.clone().idivn(hr)},or.prototype.egcd=function(hr){nr(hr.negative===0),nr(!hr.isZero());var pr=this,wr=hr.clone();pr.negative!==0?pr=pr.umod(hr):pr=pr.clone();for(var Ar=new or(1),Rr=new or(0),Pr=new or(0),Sr=new or(1),Mr=0;pr.isEven()&&wr.isEven();)pr.iushrn(1),wr.iushrn(1),++Mr;for(var Br=wr.clone(),Ur=pr.clone();!pr.isZero();){for(var Jr=0,qr=1;!(pr.words[0]&qr)&&Jr<26;++Jr,qr<<=1);if(Jr>0)for(pr.iushrn(Jr);Jr-- >0;)(Ar.isOdd()||Rr.isOdd())&&(Ar.iadd(Br),Rr.isub(Ur)),Ar.iushrn(1),Rr.iushrn(1);for(var zr=0,sn=1;!(wr.words[0]&sn)&&zr<26;++zr,sn<<=1);if(zr>0)for(wr.iushrn(zr);zr-- >0;)(Pr.isOdd()||Sr.isOdd())&&(Pr.iadd(Br),Sr.isub(Ur)),Pr.iushrn(1),Sr.iushrn(1);pr.cmp(wr)>=0?(pr.isub(wr),Ar.isub(Pr),Rr.isub(Sr)):(wr.isub(pr),Pr.isub(Ar),Sr.isub(Rr))}return{a:Pr,b:Sr,gcd:wr.iushln(Mr)}},or.prototype._invmp=function(hr){nr(hr.negative===0),nr(!hr.isZero());var pr=this,wr=hr.clone();pr.negative!==0?pr=pr.umod(hr):pr=pr.clone();for(var Ar=new or(1),Rr=new or(0),Pr=wr.clone();pr.cmpn(1)>0&&wr.cmpn(1)>0;){for(var Sr=0,Mr=1;!(pr.words[0]&Mr)&&Sr<26;++Sr,Mr<<=1);if(Sr>0)for(pr.iushrn(Sr);Sr-- >0;)Ar.isOdd()&&Ar.iadd(Pr),Ar.iushrn(1);for(var Br=0,Ur=1;!(wr.words[0]&Ur)&&Br<26;++Br,Ur<<=1);if(Br>0)for(wr.iushrn(Br);Br-- >0;)Rr.isOdd()&&Rr.iadd(Pr),Rr.iushrn(1);pr.cmp(wr)>=0?(pr.isub(wr),Ar.isub(Rr)):(wr.isub(pr),Rr.isub(Ar))}var Jr;return pr.cmpn(1)===0?Jr=Ar:Jr=Rr,Jr.cmpn(0)<0&&Jr.iadd(hr),Jr},or.prototype.gcd=function(hr){if(this.isZero())return hr.abs();if(hr.isZero())return this.abs();var pr=this.clone(),wr=hr.clone();pr.negative=0,wr.negative=0;for(var Ar=0;pr.isEven()&&wr.isEven();Ar++)pr.iushrn(1),wr.iushrn(1);do{for(;pr.isEven();)pr.iushrn(1);for(;wr.isEven();)wr.iushrn(1);var Rr=pr.cmp(wr);if(Rr<0){var Pr=pr;pr=wr,wr=Pr}else if(Rr===0||wr.cmpn(1)===0)break;pr.isub(wr)}while(!0);return wr.iushln(Ar)},or.prototype.invm=function(hr){return this.egcd(hr).a.umod(hr)},or.prototype.isEven=function(){return(this.words[0]&1)===0},or.prototype.isOdd=function(){return(this.words[0]&1)===1},or.prototype.andln=function(hr){return this.words[0]&hr},or.prototype.bincn=function(hr){nr(typeof hr=="number");var pr=hr%26,wr=(hr-pr)/26,Ar=1<<pr;if(this.length<=wr)return this._expand(wr+1),this.words[wr]|=Ar,this;for(var Rr=Ar,Pr=wr;Rr!==0&&Pr<this.length;Pr++){var Sr=this.words[Pr]|0;Sr+=Rr,Rr=Sr>>>26,Sr&=67108863,this.words[Pr]=Sr}return Rr!==0&&(this.words[Pr]=Rr,this.length++),this},or.prototype.isZero=function(){return this.length===1&&this.words[0]===0},or.prototype.cmpn=function(hr){var pr=hr<0;if(this.negative!==0&&!pr)return-1;if(this.negative===0&&pr)return 1;this._strip();var wr;if(this.length>1)wr=1;else{pr&&(hr=-hr),nr(hr<=67108863,"Number is too big");var Ar=this.words[0]|0;wr=Ar===hr?0:Ar<hr?-1:1}return this.negative!==0?-wr|0:wr},or.prototype.cmp=function(hr){if(this.negative!==0&&hr.negative===0)return-1;if(this.negative===0&&hr.negative!==0)return 1;var pr=this.ucmp(hr);return this.negative!==0?-pr|0:pr},or.prototype.ucmp=function(hr){if(this.length>hr.length)return 1;if(this.length<hr.length)return-1;for(var pr=0,wr=this.length-1;wr>=0;wr--){var Ar=this.words[wr]|0,Rr=hr.words[wr]|0;if(Ar!==Rr){Ar<Rr?pr=-1:Ar>Rr&&(pr=1);break}}return pr},or.prototype.gtn=function(hr){return this.cmpn(hr)===1},or.prototype.gt=function(hr){return this.cmp(hr)===1},or.prototype.gten=function(hr){return this.cmpn(hr)>=0},or.prototype.gte=function(hr){return this.cmp(hr)>=0},or.prototype.ltn=function(hr){return this.cmpn(hr)===-1},or.prototype.lt=function(hr){return this.cmp(hr)===-1},or.prototype.lten=function(hr){return this.cmpn(hr)<=0},or.prototype.lte=function(hr){return this.cmp(hr)<=0},or.prototype.eqn=function(hr){return this.cmpn(hr)===0},or.prototype.eq=function(hr){return this.cmp(hr)===0},or.red=function(hr){return new Tr(hr)},or.prototype.toRed=function(hr){return nr(!this.red,"Already a number in reduction context"),nr(this.negative===0,"red works only with positives"),hr.convertTo(this)._forceRed(hr)},or.prototype.fromRed=function(){return nr(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},or.prototype._forceRed=function(hr){return this.red=hr,this},or.prototype.forceRed=function(hr){return nr(!this.red,"Already a number in reduction context"),this._forceRed(hr)},or.prototype.redAdd=function(hr){return nr(this.red,"redAdd works only with red numbers"),this.red.add(this,hr)},or.prototype.redIAdd=function(hr){return nr(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,hr)},or.prototype.redSub=function(hr){return nr(this.red,"redSub works only with red numbers"),this.red.sub(this,hr)},or.prototype.redISub=function(hr){return nr(this.red,"redISub works only with red numbers"),this.red.isub(this,hr)},or.prototype.redShl=function(hr){return nr(this.red,"redShl works only with red numbers"),this.red.shl(this,hr)},or.prototype.redMul=function(hr){return nr(this.red,"redMul works only with red numbers"),this.red._verify2(this,hr),this.red.mul(this,hr)},or.prototype.redIMul=function(hr){return nr(this.red,"redMul works only with red numbers"),this.red._verify2(this,hr),this.red.imul(this,hr)},or.prototype.redSqr=function(){return nr(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},or.prototype.redISqr=function(){return nr(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},or.prototype.redSqrt=function(){return nr(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},or.prototype.redInvm=function(){return nr(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},or.prototype.redNeg=function(){return nr(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},or.prototype.redPow=function(hr){return nr(this.red&&!hr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,hr)};var Nr={k256:null,p224:null,p192:null,p25519:null};function Lr(mr,hr){this.name=mr,this.p=new or(hr,16),this.n=this.p.bitLength(),this.k=new or(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Lr.prototype._tmp=function(){var hr=new or(null);return hr.words=new Array(Math.ceil(this.n/13)),hr},Lr.prototype.ireduce=function(hr){var pr=hr,wr;do this.split(pr,this.tmp),pr=this.imulK(pr),pr=pr.iadd(this.tmp),wr=pr.bitLength();while(wr>this.n);var Ar=wr<this.n?-1:pr.ucmp(this.p);return Ar===0?(pr.words[0]=0,pr.length=1):Ar>0?pr.isub(this.p):pr.strip!==void 0?pr.strip():pr._strip(),pr},Lr.prototype.split=function(hr,pr){hr.iushrn(this.n,0,pr)},Lr.prototype.imulK=function(hr){return hr.imul(this.k)};function jr(){Lr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ir(jr,Lr),jr.prototype.split=function(hr,pr){for(var wr=4194303,Ar=Math.min(hr.length,9),Rr=0;Rr<Ar;Rr++)pr.words[Rr]=hr.words[Rr];if(pr.length=Ar,hr.length<=9){hr.words[0]=0,hr.length=1;return}var Pr=hr.words[9];for(pr.words[pr.length++]=Pr&wr,Rr=10;Rr<hr.length;Rr++){var Sr=hr.words[Rr]|0;hr.words[Rr-10]=(Sr&wr)<<4|Pr>>>22,Pr=Sr}Pr>>>=22,hr.words[Rr-10]=Pr,Pr===0&&hr.length>10?hr.length-=10:hr.length-=9},jr.prototype.imulK=function(hr){hr.words[hr.length]=0,hr.words[hr.length+1]=0,hr.length+=2;for(var pr=0,wr=0;wr<hr.length;wr++){var Ar=hr.words[wr]|0;pr+=Ar*977,hr.words[wr]=pr&67108863,pr=Ar*64+(pr/67108864|0)}return hr.words[hr.length-1]===0&&(hr.length--,hr.words[hr.length-1]===0&&hr.length--),hr};function Or(){Lr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ir(Or,Lr);function Dr(){Lr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ir(Dr,Lr);function Cr(){Lr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ir(Cr,Lr),Cr.prototype.imulK=function(hr){for(var pr=0,wr=0;wr<hr.length;wr++){var Ar=(hr.words[wr]|0)*19+pr,Rr=Ar&67108863;Ar>>>=26,hr.words[wr]=Rr,pr=Ar}return pr!==0&&(hr.words[hr.length++]=pr),hr},or._prime=function(hr){if(Nr[hr])return Nr[hr];var pr;if(hr==="k256")pr=new jr;else if(hr==="p224")pr=new Or;else if(hr==="p192")pr=new Dr;else if(hr==="p25519")pr=new Cr;else throw new Error("Unknown prime "+hr);return Nr[hr]=pr,pr};function Tr(mr){if(typeof mr=="string"){var hr=or._prime(mr);this.m=hr.p,this.prime=hr}else nr(mr.gtn(1),"modulus must be greater than 1"),this.m=mr,this.prime=null}Tr.prototype._verify1=function(hr){nr(hr.negative===0,"red works only with positives"),nr(hr.red,"red works only with red numbers")},Tr.prototype._verify2=function(hr,pr){nr((hr.negative|pr.negative)===0,"red works only with positives"),nr(hr.red&&hr.red===pr.red,"red works only with red numbers")},Tr.prototype.imod=function(hr){return this.prime?this.prime.ireduce(hr)._forceRed(this):(ur(hr,hr.umod(this.m)._forceRed(this)),hr)},Tr.prototype.neg=function(hr){return hr.isZero()?hr.clone():this.m.sub(hr)._forceRed(this)},Tr.prototype.add=function(hr,pr){this._verify2(hr,pr);var wr=hr.add(pr);return wr.cmp(this.m)>=0&&wr.isub(this.m),wr._forceRed(this)},Tr.prototype.iadd=function(hr,pr){this._verify2(hr,pr);var wr=hr.iadd(pr);return wr.cmp(this.m)>=0&&wr.isub(this.m),wr},Tr.prototype.sub=function(hr,pr){this._verify2(hr,pr);var wr=hr.sub(pr);return wr.cmpn(0)<0&&wr.iadd(this.m),wr._forceRed(this)},Tr.prototype.isub=function(hr,pr){this._verify2(hr,pr);var wr=hr.isub(pr);return wr.cmpn(0)<0&&wr.iadd(this.m),wr},Tr.prototype.shl=function(hr,pr){return this._verify1(hr),this.imod(hr.ushln(pr))},Tr.prototype.imul=function(hr,pr){return this._verify2(hr,pr),this.imod(hr.imul(pr))},Tr.prototype.mul=function(hr,pr){return this._verify2(hr,pr),this.imod(hr.mul(pr))},Tr.prototype.isqr=function(hr){return this.imul(hr,hr.clone())},Tr.prototype.sqr=function(hr){return this.mul(hr,hr)},Tr.prototype.sqrt=function(hr){if(hr.isZero())return hr.clone();var pr=this.m.andln(3);if(nr(pr%2===1),pr===3){var wr=this.m.add(new or(1)).iushrn(2);return this.pow(hr,wr)}for(var Ar=this.m.subn(1),Rr=0;!Ar.isZero()&&Ar.andln(1)===0;)Rr++,Ar.iushrn(1);nr(!Ar.isZero());var Pr=new or(1).toRed(this),Sr=Pr.redNeg(),Mr=this.m.subn(1).iushrn(1),Br=this.m.bitLength();for(Br=new or(2*Br*Br).toRed(this);this.pow(Br,Mr).cmp(Sr)!==0;)Br.redIAdd(Sr);for(var Ur=this.pow(Br,Ar),Jr=this.pow(hr,Ar.addn(1).iushrn(1)),qr=this.pow(hr,Ar),zr=Rr;qr.cmp(Pr)!==0;){for(var sn=qr,rn=0;sn.cmp(Pr)!==0;rn++)sn=sn.redSqr();nr(rn<zr);var tn=this.pow(Ur,new or(1).iushln(zr-rn-1));Jr=Jr.redMul(tn),Ur=tn.redSqr(),qr=qr.redMul(Ur),zr=rn}return Jr},Tr.prototype.invm=function(hr){var pr=hr._invmp(this.m);return pr.negative!==0?(pr.negative=0,this.imod(pr).redNeg()):this.imod(pr)},Tr.prototype.pow=function(hr,pr){if(pr.isZero())return new or(1).toRed(this);if(pr.cmpn(1)===0)return hr.clone();var wr=4,Ar=new Array(1<<wr);Ar[0]=new or(1).toRed(this),Ar[1]=hr;for(var Rr=2;Rr<Ar.length;Rr++)Ar[Rr]=this.mul(Ar[Rr-1],hr);var Pr=Ar[0],Sr=0,Mr=0,Br=pr.bitLength()%26;for(Br===0&&(Br=26),Rr=pr.length-1;Rr>=0;Rr--){for(var Ur=pr.words[Rr],Jr=Br-1;Jr>=0;Jr--){var qr=Ur>>Jr&1;if(Pr!==Ar[0]&&(Pr=this.sqr(Pr)),qr===0&&Sr===0){Mr=0;continue}Sr<<=1,Sr|=qr,Mr++,!(Mr!==wr&&(Rr!==0||Jr!==0))&&(Pr=this.mul(Pr,Ar[Sr]),Mr=0,Sr=0)}Br=26}return Pr},Tr.prototype.convertTo=function(hr){var pr=hr.umod(this.m);return pr===hr?pr.clone():pr},Tr.prototype.convertFrom=function(hr){var pr=hr.clone();return pr.red=null,pr},or.mont=function(hr){return new yr(hr)};function yr(mr){Tr.call(this,mr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new or(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ir(yr,Tr),yr.prototype.convertTo=function(hr){return this.imod(hr.ushln(this.shift))},yr.prototype.convertFrom=function(hr){var pr=this.imod(hr.mul(this.rinv));return pr.red=null,pr},yr.prototype.imul=function(hr,pr){if(hr.isZero()||pr.isZero())return hr.words[0]=0,hr.length=1,hr;var wr=hr.imul(pr),Ar=wr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rr=wr.isub(Ar).iushrn(this.shift),Pr=Rr;return Rr.cmp(this.m)>=0?Pr=Rr.isub(this.m):Rr.cmpn(0)<0&&(Pr=Rr.iadd(this.m)),Pr._forceRed(this)},yr.prototype.mul=function(hr,pr){if(hr.isZero()||pr.isZero())return new or(0)._forceRed(this);var wr=hr.mul(pr),Ar=wr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rr=wr.isub(Ar).iushrn(this.shift),Pr=Rr;return Rr.cmp(this.m)>=0?Pr=Rr.isub(this.m):Rr.cmpn(0)<0&&(Pr=Rr.iadd(this.m)),Pr._forceRed(this)},yr.prototype.invm=function(hr){var pr=this.imod(hr._invmp(this.m).mul(this.r2));return pr._forceRed(this)}})(tr,commonjsGlobal)})(bn);var bnExports=bn.exports;const BN=getDefaultExportFromCjs(bnExports);var assert$1={exports:{}},errors$1={},hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors$1;hasRequiredErrors=1;function tr(_r){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xr){return typeof xr}:function(xr){return xr&&typeof Symbol=="function"&&xr.constructor===Symbol&&xr!==Symbol.prototype?"symbol":typeof xr},tr(_r)}function er(_r,xr,Ir){return Object.defineProperty(_r,"prototype",{writable:!1}),_r}function rr(_r,xr){if(!(_r instanceof xr))throw new TypeError("Cannot call a class as a function")}function nr(_r,xr){if(typeof xr!="function"&&xr!==null)throw new TypeError("Super expression must either be null or a function");_r.prototype=Object.create(xr&&xr.prototype,{constructor:{value:_r,writable:!0,configurable:!0}}),Object.defineProperty(_r,"prototype",{writable:!1}),xr&&ir(_r,xr)}function ir(_r,xr){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Nr,Lr){return Nr.__proto__=Lr,Nr},ir(_r,xr)}function or(_r){var xr=cr();return function(){var Nr=lr(_r),Lr;if(xr){var jr=lr(this).constructor;Lr=Reflect.construct(Nr,arguments,jr)}else Lr=Nr.apply(this,arguments);return sr(this,Lr)}}function sr(_r,xr){if(xr&&(tr(xr)==="object"||typeof xr=="function"))return xr;if(xr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ar(_r)}function ar(_r){if(_r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _r}function cr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lr(_r){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ir){return Ir.__proto__||Object.getPrototypeOf(Ir)},lr(_r)}var ur={},fr,dr;function gr(_r,xr,Ir){Ir||(Ir=Error);function Nr(jr,Or,Dr){return typeof xr=="string"?xr:xr(jr,Or,Dr)}var Lr=function(jr){nr(Dr,jr);var Or=or(Dr);function Dr(Cr,Tr,yr){var mr;return rr(this,Dr),mr=Or.call(this,Nr(Cr,Tr,yr)),mr.code=_r,mr}return er(Dr)}(Ir);ur[_r]=Lr}function br(_r,xr){if(Array.isArray(_r)){var Ir=_r.length;return _r=_r.map(function(Nr){return String(Nr)}),Ir>2?"one of ".concat(xr," ").concat(_r.slice(0,Ir-1).join(", "),", or ")+_r[Ir-1]:Ir===2?"one of ".concat(xr," ").concat(_r[0]," or ").concat(_r[1]):"of ".concat(xr," ").concat(_r[0])}else return"of ".concat(xr," ").concat(String(_r))}function vr(_r,xr,Ir){return _r.substr(0,xr.length)===xr}function $r(_r,xr,Ir){return(Ir===void 0||Ir>_r.length)&&(Ir=_r.length),_r.substring(Ir-xr.length,Ir)===xr}function Er(_r,xr,Ir){return typeof Ir!="number"&&(Ir=0),Ir+xr.length>_r.length?!1:_r.indexOf(xr,Ir)!==-1}return gr("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),gr("ERR_INVALID_ARG_TYPE",function(_r,xr,Ir){fr===void 0&&(fr=requireAssert()),fr(typeof _r=="string","'name' must be a string");var Nr;typeof xr=="string"&&vr(xr,"not ")?(Nr="must not be",xr=xr.replace(/^not /,"")):Nr="must be";var Lr;if($r(_r," argument"))Lr="The ".concat(_r," ").concat(Nr," ").concat(br(xr,"type"));else{var jr=Er(_r,".")?"property":"argument";Lr='The "'.concat(_r,'" ').concat(jr," ").concat(Nr," ").concat(br(xr,"type"))}return Lr+=". Received type ".concat(tr(Ir)),Lr},TypeError),gr("ERR_INVALID_ARG_VALUE",function(_r,xr){var Ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";dr===void 0&&(dr=util$7);var Nr=dr.inspect(xr);return Nr.length>128&&(Nr="".concat(Nr.slice(0,128),"...")),"The argument '".concat(_r,"' ").concat(Ir,". Received ").concat(Nr)},TypeError),gr("ERR_INVALID_RETURN_VALUE",function(_r,xr,Ir){var Nr;return Ir&&Ir.constructor&&Ir.constructor.name?Nr="instance of ".concat(Ir.constructor.name):Nr="type ".concat(tr(Ir)),"Expected ".concat(_r,' to be returned from the "').concat(xr,'"')+" function but got ".concat(Nr,".")},TypeError),gr("ERR_MISSING_ARGS",function(){for(var _r=arguments.length,xr=new Array(_r),Ir=0;Ir<_r;Ir++)xr[Ir]=arguments[Ir];fr===void 0&&(fr=requireAssert()),fr(xr.length>0,"At least one arg needs to be specified");var Nr="The ",Lr=xr.length;switch(xr=xr.map(function(jr){return'"'.concat(jr,'"')}),Lr){case 1:Nr+="".concat(xr[0]," argument");break;case 2:Nr+="".concat(xr[0]," and ").concat(xr[1]," arguments");break;default:Nr+=xr.slice(0,Lr-1).join(", "),Nr+=", and ".concat(xr[Lr-1]," arguments");break}return"".concat(Nr," must be specified")},TypeError),errors$1.codes=ur,errors$1}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function tr(Pr,Sr){var Mr=Object.keys(Pr);if(Object.getOwnPropertySymbols){var Br=Object.getOwnPropertySymbols(Pr);Sr&&(Br=Br.filter(function(Ur){return Object.getOwnPropertyDescriptor(Pr,Ur).enumerable})),Mr.push.apply(Mr,Br)}return Mr}function er(Pr){for(var Sr=1;Sr<arguments.length;Sr++){var Mr=arguments[Sr]!=null?arguments[Sr]:{};Sr%2?tr(Object(Mr),!0).forEach(function(Br){rr(Pr,Br,Mr[Br])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pr,Object.getOwnPropertyDescriptors(Mr)):tr(Object(Mr)).forEach(function(Br){Object.defineProperty(Pr,Br,Object.getOwnPropertyDescriptor(Mr,Br))})}return Pr}function rr(Pr,Sr,Mr){return Sr=sr(Sr),Sr in Pr?Object.defineProperty(Pr,Sr,{value:Mr,enumerable:!0,configurable:!0,writable:!0}):Pr[Sr]=Mr,Pr}function nr(Pr,Sr){if(!(Pr instanceof Sr))throw new TypeError("Cannot call a class as a function")}function ir(Pr,Sr){for(var Mr=0;Mr<Sr.length;Mr++){var Br=Sr[Mr];Br.enumerable=Br.enumerable||!1,Br.configurable=!0,"value"in Br&&(Br.writable=!0),Object.defineProperty(Pr,sr(Br.key),Br)}}function or(Pr,Sr,Mr){return Sr&&ir(Pr.prototype,Sr),Object.defineProperty(Pr,"prototype",{writable:!1}),Pr}function sr(Pr){var Sr=ar(Pr,"string");return _r(Sr)==="symbol"?Sr:String(Sr)}function ar(Pr,Sr){if(_r(Pr)!=="object"||Pr===null)return Pr;var Mr=Pr[Symbol.toPrimitive];if(Mr!==void 0){var Br=Mr.call(Pr,Sr||"default");if(_r(Br)!=="object")return Br;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Sr==="string"?String:Number)(Pr)}function cr(Pr,Sr){if(typeof Sr!="function"&&Sr!==null)throw new TypeError("Super expression must either be null or a function");Pr.prototype=Object.create(Sr&&Sr.prototype,{constructor:{value:Pr,writable:!0,configurable:!0}}),Object.defineProperty(Pr,"prototype",{writable:!1}),Sr&&$r(Pr,Sr)}function lr(Pr){var Sr=br();return function(){var Br=Er(Pr),Ur;if(Sr){var Jr=Er(this).constructor;Ur=Reflect.construct(Br,arguments,Jr)}else Ur=Br.apply(this,arguments);return ur(this,Ur)}}function ur(Pr,Sr){if(Sr&&(_r(Sr)==="object"||typeof Sr=="function"))return Sr;if(Sr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fr(Pr)}function fr(Pr){if(Pr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pr}function dr(Pr){var Sr=typeof Map=="function"?new Map:void 0;return dr=function(Br){if(Br===null||!vr(Br))return Br;if(typeof Br!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Sr<"u"){if(Sr.has(Br))return Sr.get(Br);Sr.set(Br,Ur)}function Ur(){return gr(Br,arguments,Er(this).constructor)}return Ur.prototype=Object.create(Br.prototype,{constructor:{value:Ur,enumerable:!1,writable:!0,configurable:!0}}),$r(Ur,Br)},dr(Pr)}function gr(Pr,Sr,Mr){return br()?gr=Reflect.construct.bind():gr=function(Ur,Jr,qr){var zr=[null];zr.push.apply(zr,Jr);var sn=Function.bind.apply(Ur,zr),rn=new sn;return qr&&$r(rn,qr.prototype),rn},gr.apply(null,arguments)}function br(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vr(Pr){return Function.toString.call(Pr).indexOf("[native code]")!==-1}function $r(Pr,Sr){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Br,Ur){return Br.__proto__=Ur,Br},$r(Pr,Sr)}function Er(Pr){return Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Mr){return Mr.__proto__||Object.getPrototypeOf(Mr)},Er(Pr)}function _r(Pr){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Sr){return typeof Sr}:function(Sr){return Sr&&typeof Symbol=="function"&&Sr.constructor===Symbol&&Sr!==Symbol.prototype?"symbol":typeof Sr},_r(Pr)}var xr=util$7,Ir=xr.inspect,Nr=requireErrors(),Lr=Nr.codes.ERR_INVALID_ARG_TYPE;function jr(Pr,Sr,Mr){return(Mr===void 0||Mr>Pr.length)&&(Mr=Pr.length),Pr.substring(Mr-Sr.length,Mr)===Sr}function Or(Pr,Sr){if(Sr=Math.floor(Sr),Pr.length==0||Sr==0)return"";var Mr=Pr.length*Sr;for(Sr=Math.floor(Math.log(Sr)/Math.log(2));Sr;)Pr+=Pr,Sr--;return Pr+=Pr.substring(0,Mr-Pr.length),Pr}var Dr="",Cr="",Tr="",yr="",mr={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},hr=10;function pr(Pr){var Sr=Object.keys(Pr),Mr=Object.create(Object.getPrototypeOf(Pr));return Sr.forEach(function(Br){Mr[Br]=Pr[Br]}),Object.defineProperty(Mr,"message",{value:Pr.message}),Mr}function wr(Pr){return Ir(Pr,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Ar(Pr,Sr,Mr){var Br="",Ur="",Jr=0,qr="",zr=!1,sn=wr(Pr),rn=sn.split(`
`),tn=wr(Sr).split(`
`),dn=0,Yr="";if(Mr==="strictEqual"&&_r(Pr)==="object"&&_r(Sr)==="object"&&Pr!==null&&Sr!==null&&(Mr="strictEqualObject"),rn.length===1&&tn.length===1&&rn[0]!==tn[0]){var Vr=rn[0].length+tn[0].length;if(Vr<=hr){if((_r(Pr)!=="object"||Pr===null)&&(_r(Sr)!=="object"||Sr===null)&&(Pr!==0||Sr!==0))return"".concat(mr[Mr],`

`)+"".concat(rn[0]," !== ").concat(tn[0],`
`)}else if(Mr!=="strictEqualObject"){var Qr=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(Vr<Qr){for(;rn[0][dn]===tn[0][dn];)dn++;dn>2&&(Yr=`
  `.concat(Or(" ",dn),"^"),dn=0)}}}for(var un=rn[rn.length-1],yn=tn[tn.length-1];un===yn&&(dn++<2?qr=`
  `.concat(un).concat(qr):Br=un,rn.pop(),tn.pop(),!(rn.length===0||tn.length===0));)un=rn[rn.length-1],yn=tn[tn.length-1];var An=Math.max(rn.length,tn.length);if(An===0){var Rn=sn.split(`
`);if(Rn.length>30)for(Rn[26]="".concat(Dr,"...").concat(yr);Rn.length>27;)Rn.pop();return"".concat(mr.notIdentical,`

`).concat(Rn.join(`
`),`
`)}dn>3&&(qr=`
`.concat(Dr,"...").concat(yr).concat(qr),zr=!0),Br!==""&&(qr=`
  `.concat(Br).concat(qr),Br="");var On=0,xn=mr[Mr]+`
`.concat(Cr,"+ actual").concat(yr," ").concat(Tr,"- expected").concat(yr),Wn=" ".concat(Dr,"...").concat(yr," Lines skipped");for(dn=0;dn<An;dn++){var zn=dn-Jr;if(rn.length<dn+1)zn>1&&dn>2&&(zn>4?(Ur+=`
`.concat(Dr,"...").concat(yr),zr=!0):zn>3&&(Ur+=`
  `.concat(tn[dn-2]),On++),Ur+=`
  `.concat(tn[dn-1]),On++),Jr=dn,Br+=`
`.concat(Tr,"-").concat(yr," ").concat(tn[dn]),On++;else if(tn.length<dn+1)zn>1&&dn>2&&(zn>4?(Ur+=`
`.concat(Dr,"...").concat(yr),zr=!0):zn>3&&(Ur+=`
  `.concat(rn[dn-2]),On++),Ur+=`
  `.concat(rn[dn-1]),On++),Jr=dn,Ur+=`
`.concat(Cr,"+").concat(yr," ").concat(rn[dn]),On++;else{var Fn=tn[dn],so=rn[dn],wn=so!==Fn&&(!jr(so,",")||so.slice(0,-1)!==Fn);wn&&jr(Fn,",")&&Fn.slice(0,-1)===so&&(wn=!1,so+=","),wn?(zn>1&&dn>2&&(zn>4?(Ur+=`
`.concat(Dr,"...").concat(yr),zr=!0):zn>3&&(Ur+=`
  `.concat(rn[dn-2]),On++),Ur+=`
  `.concat(rn[dn-1]),On++),Jr=dn,Ur+=`
`.concat(Cr,"+").concat(yr," ").concat(so),Br+=`
`.concat(Tr,"-").concat(yr," ").concat(Fn),On+=2):(Ur+=Br,Br="",(zn===1||dn===0)&&(Ur+=`
  `.concat(so),On++))}if(On>20&&dn<An-2)return"".concat(xn).concat(Wn,`
`).concat(Ur,`
`).concat(Dr,"...").concat(yr).concat(Br,`
`)+"".concat(Dr,"...").concat(yr)}return"".concat(xn).concat(zr?Wn:"",`
`).concat(Ur).concat(Br).concat(qr).concat(Yr)}var Rr=function(Pr,Sr){cr(Br,Pr);var Mr=lr(Br);function Br(Ur){var Jr;if(nr(this,Br),_r(Ur)!=="object"||Ur===null)throw new Lr("options","Object",Ur);var qr=Ur.message,zr=Ur.operator,sn=Ur.stackStartFn,rn=Ur.actual,tn=Ur.expected,dn=Error.stackTraceLimit;if(Error.stackTraceLimit=0,qr!=null)Jr=Mr.call(this,String(qr));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Dr="\x1B[34m",Cr="\x1B[32m",yr="\x1B[39m",Tr="\x1B[31m"):(Dr="",Cr="",yr="",Tr="")),_r(rn)==="object"&&rn!==null&&_r(tn)==="object"&&tn!==null&&"stack"in rn&&rn instanceof Error&&"stack"in tn&&tn instanceof Error&&(rn=pr(rn),tn=pr(tn)),zr==="deepStrictEqual"||zr==="strictEqual")Jr=Mr.call(this,Ar(rn,tn,zr));else if(zr==="notDeepStrictEqual"||zr==="notStrictEqual"){var Yr=mr[zr],Vr=wr(rn).split(`
`);if(zr==="notStrictEqual"&&_r(rn)==="object"&&rn!==null&&(Yr=mr.notStrictEqualObject),Vr.length>30)for(Vr[26]="".concat(Dr,"...").concat(yr);Vr.length>27;)Vr.pop();Vr.length===1?Jr=Mr.call(this,"".concat(Yr," ").concat(Vr[0])):Jr=Mr.call(this,"".concat(Yr,`

`).concat(Vr.join(`
`),`
`))}else{var Qr=wr(rn),un="",yn=mr[zr];zr==="notDeepEqual"||zr==="notEqual"?(Qr="".concat(mr[zr],`

`).concat(Qr),Qr.length>1024&&(Qr="".concat(Qr.slice(0,1021),"..."))):(un="".concat(wr(tn)),Qr.length>512&&(Qr="".concat(Qr.slice(0,509),"...")),un.length>512&&(un="".concat(un.slice(0,509),"...")),zr==="deepEqual"||zr==="equal"?Qr="".concat(yn,`

`).concat(Qr,`

should equal

`):un=" ".concat(zr," ").concat(un)),Jr=Mr.call(this,"".concat(Qr).concat(un))}return Error.stackTraceLimit=dn,Jr.generatedMessage=!qr,Object.defineProperty(fr(Jr),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Jr.code="ERR_ASSERTION",Jr.actual=rn,Jr.expected=tn,Jr.operator=zr,Error.captureStackTrace&&Error.captureStackTrace(fr(Jr),sn),Jr.stack,Jr.name="AssertionError",ur(Jr)}return or(Br,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Sr,value:function(Jr,qr){return Ir(this,er(er({},qr),{},{customInspect:!1,depth:0}))}}]),Br}(dr(Error),Ir.custom);return assertion_error=Rr,assertion_error}var objectKeys=objectKeys$1,hasSymbols=shams$1(),callBound=callBound$4,toObject=Object,$push=callBound("Array.prototype.push"),$propIsEnumerable=callBound("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols?Object.getOwnPropertySymbols:null,implementation$4=function tr(er,rr){if(er==null)throw new TypeError("target must be an object");var nr=toObject(er);if(arguments.length===1)return nr;for(var ir=1;ir<arguments.length;++ir){var or=toObject(arguments[ir]),sr=objectKeys(or),ar=hasSymbols&&(Object.getOwnPropertySymbols||originalGetSymbols);if(ar)for(var cr=ar(or),lr=0;lr<cr.length;++lr){var ur=cr[lr];$propIsEnumerable(or,ur)&&$push(sr,ur)}for(var fr=0;fr<sr.length;++fr){var dr=sr[fr];if($propIsEnumerable(or,dr)){var gr=or[dr];nr[dr]=gr}}}return nr},implementation$3=implementation$4,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var tr="abcdefghijklmnopqrst",er=tr.split(""),rr={},nr=0;nr<er.length;++nr)rr[er[nr]]=er[nr];var ir=Object.assign({},rr),or="";for(var sr in ir)or+=sr;return tr!==or},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var tr=Object.preventExtensions({1:2});try{Object.assign(tr,"xy")}catch{return tr[1]==="y"}return!1},polyfill$2=function tr(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$3:Object.assign},numberIsNaN=function(tr){return tr!==tr},implementation$2=function tr(er,rr){return er===0&&rr===0?1/er===1/rr:!!(er===rr||numberIsNaN(er)&&numberIsNaN(rr))},implementation$1=implementation$2,polyfill$1=function tr(){return typeof Object.is=="function"?Object.is:implementation$1},defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var tr=objectKeys$1,er=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",rr=Object.prototype.toString,nr=Array.prototype.concat,ir=defineDataProperty,or=function(lr){return typeof lr=="function"&&rr.call(lr)==="[object Function]"},sr=hasPropertyDescriptors_1(),ar=function(lr,ur,fr,dr){if(ur in lr){if(dr===!0){if(lr[ur]===fr)return}else if(!or(dr)||!dr())return}sr?ir(lr,ur,fr,!0):ir(lr,ur,fr)},cr=function(lr,ur){var fr=arguments.length>2?arguments[2]:{},dr=tr(ur);er&&(dr=nr.call(dr,Object.getOwnPropertySymbols(ur)));for(var gr=0;gr<dr.length;gr+=1)ar(lr,dr[gr],ur[dr[gr]],fr[dr[gr]])};return cr.supportsDescriptors=!!sr,defineProperties_1=cr,defineProperties_1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var tr=polyfill$1,er=requireDefineProperties();return shim$1=function(){var nr=tr();return er(Object,{is:nr},{is:function(){return Object.is!==nr}}),nr},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var tr=requireDefineProperties(),er=callBindExports,rr=implementation$2,nr=polyfill$1,ir=requireShim$1(),or=er(nr(),Object);return tr(or,{getPolyfill:nr,implementation:rr,shim:ir}),objectIs=or,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(er){return er!==er}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var tr=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:tr},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var tr=requireDefineProperties(),er=requirePolyfill();return shim=function(){var nr=er();return tr(Number,{isNaN:nr},{isNaN:function(){return Number.isNaN!==nr}}),nr},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var tr=callBindExports,er=requireDefineProperties(),rr=requireImplementation(),nr=requirePolyfill(),ir=requireShim(),or=tr(nr(),Number);return er(or,{getPolyfill:nr,implementation:rr,shim:ir}),isNan=or,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function tr(wn,Sn){return or(wn)||ir(wn,Sn)||rr(wn,Sn)||er()}function er(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rr(wn,Sn){if(wn){if(typeof wn=="string")return nr(wn,Sn);var Dn=Object.prototype.toString.call(wn).slice(8,-1);if(Dn==="Object"&&wn.constructor&&(Dn=wn.constructor.name),Dn==="Map"||Dn==="Set")return Array.from(wn);if(Dn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Dn))return nr(wn,Sn)}}function nr(wn,Sn){(Sn==null||Sn>wn.length)&&(Sn=wn.length);for(var Dn=0,Xr=new Array(Sn);Dn<Sn;Dn++)Xr[Dn]=wn[Dn];return Xr}function ir(wn,Sn){var Dn=wn==null?null:typeof Symbol<"u"&&wn[Symbol.iterator]||wn["@@iterator"];if(Dn!=null){var Xr,Hr,Kr,fn,vn=[],$n=!0,Tn=!1;try{if(Kr=(Dn=Dn.call(wn)).next,Sn!==0)for(;!($n=(Xr=Kr.call(Dn)).done)&&(vn.push(Xr.value),vn.length!==Sn);$n=!0);}catch(Jn){Tn=!0,Hr=Jn}finally{try{if(!$n&&Dn.return!=null&&(fn=Dn.return(),Object(fn)!==fn))return}finally{if(Tn)throw Hr}}return vn}}function or(wn){if(Array.isArray(wn))return wn}function sr(wn){"@babel/helpers - typeof";return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Sn){return typeof Sn}:function(Sn){return Sn&&typeof Symbol=="function"&&Sn.constructor===Symbol&&Sn!==Symbol.prototype?"symbol":typeof Sn},sr(wn)}var ar=/a/g.flags!==void 0,cr=function(Sn){var Dn=[];return Sn.forEach(function(Xr){return Dn.push(Xr)}),Dn},lr=function(Sn){var Dn=[];return Sn.forEach(function(Xr,Hr){return Dn.push([Hr,Xr])}),Dn},ur=Object.is?Object.is:requireObjectIs(),fr=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},dr=Number.isNaN?Number.isNaN:requireIsNan();function gr(wn){return wn.call.bind(wn)}var br=gr(Object.prototype.hasOwnProperty),vr=gr(Object.prototype.propertyIsEnumerable),$r=gr(Object.prototype.toString),Er=util$7.types,_r=Er.isAnyArrayBuffer,xr=Er.isArrayBufferView,Ir=Er.isDate,Nr=Er.isMap,Lr=Er.isRegExp,jr=Er.isSet,Or=Er.isNativeError,Dr=Er.isBoxedPrimitive,Cr=Er.isNumberObject,Tr=Er.isStringObject,yr=Er.isBooleanObject,mr=Er.isBigIntObject,hr=Er.isSymbolObject,pr=Er.isFloat32Array,wr=Er.isFloat64Array;function Ar(wn){if(wn.length===0||wn.length>10)return!0;for(var Sn=0;Sn<wn.length;Sn++){var Dn=wn.charCodeAt(Sn);if(Dn<48||Dn>57)return!0}return wn.length===10&&wn>=Math.pow(2,32)}function Rr(wn){return Object.keys(wn).filter(Ar).concat(fr(wn).filter(Object.prototype.propertyIsEnumerable.bind(wn)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function Pr(wn,Sn){if(wn===Sn)return 0;for(var Dn=wn.length,Xr=Sn.length,Hr=0,Kr=Math.min(Dn,Xr);Hr<Kr;++Hr)if(wn[Hr]!==Sn[Hr]){Dn=wn[Hr],Xr=Sn[Hr];break}return Dn<Xr?-1:Xr<Dn?1:0}var Sr=!0,Mr=!1,Br=0,Ur=1,Jr=2,qr=3;function zr(wn,Sn){return ar?wn.source===Sn.source&&wn.flags===Sn.flags:RegExp.prototype.toString.call(wn)===RegExp.prototype.toString.call(Sn)}function sn(wn,Sn){if(wn.byteLength!==Sn.byteLength)return!1;for(var Dn=0;Dn<wn.byteLength;Dn++)if(wn[Dn]!==Sn[Dn])return!1;return!0}function rn(wn,Sn){return wn.byteLength!==Sn.byteLength?!1:Pr(new Uint8Array(wn.buffer,wn.byteOffset,wn.byteLength),new Uint8Array(Sn.buffer,Sn.byteOffset,Sn.byteLength))===0}function tn(wn,Sn){return wn.byteLength===Sn.byteLength&&Pr(new Uint8Array(wn),new Uint8Array(Sn))===0}function dn(wn,Sn){return Cr(wn)?Cr(Sn)&&ur(Number.prototype.valueOf.call(wn),Number.prototype.valueOf.call(Sn)):Tr(wn)?Tr(Sn)&&String.prototype.valueOf.call(wn)===String.prototype.valueOf.call(Sn):yr(wn)?yr(Sn)&&Boolean.prototype.valueOf.call(wn)===Boolean.prototype.valueOf.call(Sn):mr(wn)?mr(Sn)&&BigInt.prototype.valueOf.call(wn)===BigInt.prototype.valueOf.call(Sn):hr(Sn)&&Symbol.prototype.valueOf.call(wn)===Symbol.prototype.valueOf.call(Sn)}function Yr(wn,Sn,Dn,Xr){if(wn===Sn)return wn!==0?!0:Dn?ur(wn,Sn):!0;if(Dn){if(sr(wn)!=="object")return typeof wn=="number"&&dr(wn)&&dr(Sn);if(sr(Sn)!=="object"||wn===null||Sn===null||Object.getPrototypeOf(wn)!==Object.getPrototypeOf(Sn))return!1}else{if(wn===null||sr(wn)!=="object")return Sn===null||sr(Sn)!=="object"?wn==Sn:!1;if(Sn===null||sr(Sn)!=="object")return!1}var Hr=$r(wn),Kr=$r(Sn);if(Hr!==Kr)return!1;if(Array.isArray(wn)){if(wn.length!==Sn.length)return!1;var fn=Rr(wn),vn=Rr(Sn);return fn.length!==vn.length?!1:Qr(wn,Sn,Dn,Xr,Ur,fn)}if(Hr==="[object Object]"&&(!Nr(wn)&&Nr(Sn)||!jr(wn)&&jr(Sn)))return!1;if(Ir(wn)){if(!Ir(Sn)||Date.prototype.getTime.call(wn)!==Date.prototype.getTime.call(Sn))return!1}else if(Lr(wn)){if(!Lr(Sn)||!zr(wn,Sn))return!1}else if(Or(wn)||wn instanceof Error){if(wn.message!==Sn.message||wn.name!==Sn.name)return!1}else if(xr(wn)){if(!Dn&&(pr(wn)||wr(wn))){if(!sn(wn,Sn))return!1}else if(!rn(wn,Sn))return!1;var $n=Rr(wn),Tn=Rr(Sn);return $n.length!==Tn.length?!1:Qr(wn,Sn,Dn,Xr,Br,$n)}else{if(jr(wn))return!jr(Sn)||wn.size!==Sn.size?!1:Qr(wn,Sn,Dn,Xr,Jr);if(Nr(wn))return!Nr(Sn)||wn.size!==Sn.size?!1:Qr(wn,Sn,Dn,Xr,qr);if(_r(wn)){if(!tn(wn,Sn))return!1}else if(Dr(wn)&&!dn(wn,Sn))return!1}return Qr(wn,Sn,Dn,Xr,Br)}function Vr(wn,Sn){return Sn.filter(function(Dn){return vr(wn,Dn)})}function Qr(wn,Sn,Dn,Xr,Hr,Kr){if(arguments.length===5){Kr=Object.keys(wn);var fn=Object.keys(Sn);if(Kr.length!==fn.length)return!1}for(var vn=0;vn<Kr.length;vn++)if(!br(Sn,Kr[vn]))return!1;if(Dn&&arguments.length===5){var $n=fr(wn);if($n.length!==0){var Tn=0;for(vn=0;vn<$n.length;vn++){var Jn=$n[vn];if(vr(wn,Jn)){if(!vr(Sn,Jn))return!1;Kr.push(Jn),Tn++}else if(vr(Sn,Jn))return!1}var io=fr(Sn);if($n.length!==io.length&&Vr(Sn,io).length!==Tn)return!1}else{var Yn=fr(Sn);if(Yn.length!==0&&Vr(Sn,Yn).length!==0)return!1}}if(Kr.length===0&&(Hr===Br||Hr===Ur&&wn.length===0||wn.size===0))return!0;if(Xr===void 0)Xr={val1:new Map,val2:new Map,position:0};else{var lo=Xr.val1.get(wn);if(lo!==void 0){var ro=Xr.val2.get(Sn);if(ro!==void 0)return lo===ro}Xr.position++}Xr.val1.set(wn,Xr.position),Xr.val2.set(Sn,Xr.position);var ao=zn(wn,Sn,Dn,Kr,Xr,Hr);return Xr.val1.delete(wn),Xr.val2.delete(Sn),ao}function un(wn,Sn,Dn,Xr){for(var Hr=cr(wn),Kr=0;Kr<Hr.length;Kr++){var fn=Hr[Kr];if(Yr(Sn,fn,Dn,Xr))return wn.delete(fn),!0}return!1}function yn(wn){switch(sr(wn)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":wn=+wn;case"number":if(dr(wn))return!1}return!0}function An(wn,Sn,Dn){var Xr=yn(Dn);return Xr??(Sn.has(Xr)&&!wn.has(Xr))}function Rn(wn,Sn,Dn,Xr,Hr){var Kr=yn(Dn);if(Kr!=null)return Kr;var fn=Sn.get(Kr);return fn===void 0&&!Sn.has(Kr)||!Yr(Xr,fn,!1,Hr)?!1:!wn.has(Kr)&&Yr(Xr,fn,!1,Hr)}function On(wn,Sn,Dn,Xr){for(var Hr=null,Kr=cr(wn),fn=0;fn<Kr.length;fn++){var vn=Kr[fn];if(sr(vn)==="object"&&vn!==null)Hr===null&&(Hr=new Set),Hr.add(vn);else if(!Sn.has(vn)){if(Dn||!An(wn,Sn,vn))return!1;Hr===null&&(Hr=new Set),Hr.add(vn)}}if(Hr!==null){for(var $n=cr(Sn),Tn=0;Tn<$n.length;Tn++){var Jn=$n[Tn];if(sr(Jn)==="object"&&Jn!==null){if(!un(Hr,Jn,Dn,Xr))return!1}else if(!Dn&&!wn.has(Jn)&&!un(Hr,Jn,Dn,Xr))return!1}return Hr.size===0}return!0}function xn(wn,Sn,Dn,Xr,Hr,Kr){for(var fn=cr(wn),vn=0;vn<fn.length;vn++){var $n=fn[vn];if(Yr(Dn,$n,Hr,Kr)&&Yr(Xr,Sn.get($n),Hr,Kr))return wn.delete($n),!0}return!1}function Wn(wn,Sn,Dn,Xr){for(var Hr=null,Kr=lr(wn),fn=0;fn<Kr.length;fn++){var vn=tr(Kr[fn],2),$n=vn[0],Tn=vn[1];if(sr($n)==="object"&&$n!==null)Hr===null&&(Hr=new Set),Hr.add($n);else{var Jn=Sn.get($n);if(Jn===void 0&&!Sn.has($n)||!Yr(Tn,Jn,Dn,Xr)){if(Dn||!Rn(wn,Sn,$n,Tn,Xr))return!1;Hr===null&&(Hr=new Set),Hr.add($n)}}}if(Hr!==null){for(var io=lr(Sn),Yn=0;Yn<io.length;Yn++){var lo=tr(io[Yn],2),ro=lo[0],ao=lo[1];if(sr(ro)==="object"&&ro!==null){if(!xn(Hr,wn,ro,ao,Dn,Xr))return!1}else if(!Dn&&(!wn.has(ro)||!Yr(wn.get(ro),ao,!1,Xr))&&!xn(Hr,wn,ro,ao,!1,Xr))return!1}return Hr.size===0}return!0}function zn(wn,Sn,Dn,Xr,Hr,Kr){var fn=0;if(Kr===Jr){if(!On(wn,Sn,Dn,Hr))return!1}else if(Kr===qr){if(!Wn(wn,Sn,Dn,Hr))return!1}else if(Kr===Ur)for(;fn<wn.length;fn++)if(br(wn,fn)){if(!br(Sn,fn)||!Yr(wn[fn],Sn[fn],Dn,Hr))return!1}else{if(br(Sn,fn))return!1;for(var vn=Object.keys(wn);fn<vn.length;fn++){var $n=vn[fn];if(!br(Sn,$n)||!Yr(wn[$n],Sn[$n],Dn,Hr))return!1}return vn.length===Object.keys(Sn).length}for(fn=0;fn<Xr.length;fn++){var Tn=Xr[fn];if(!Yr(wn[Tn],Sn[Tn],Dn,Hr))return!1}return!0}function Fn(wn,Sn){return Yr(wn,Sn,Mr)}function so(wn,Sn){return Yr(wn,Sn,Sr)}return comparisons={isDeepEqual:Fn,isDeepStrictEqual:so},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$1.exports;hasRequiredAssert=1;function tr(Jr){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(qr){return typeof qr}:function(qr){return qr&&typeof Symbol=="function"&&qr.constructor===Symbol&&qr!==Symbol.prototype?"symbol":typeof qr},tr(Jr)}function er(Jr,qr,zr){return Object.defineProperty(Jr,"prototype",{writable:!1}),Jr}function rr(Jr,qr){if(!(Jr instanceof qr))throw new TypeError("Cannot call a class as a function")}var nr=requireErrors(),ir=nr.codes,or=ir.ERR_AMBIGUOUS_ARGUMENT,sr=ir.ERR_INVALID_ARG_TYPE,ar=ir.ERR_INVALID_ARG_VALUE,cr=ir.ERR_INVALID_RETURN_VALUE,lr=ir.ERR_MISSING_ARGS,ur=requireAssertion_error(),fr=util$7,dr=fr.inspect,gr=util$7.types,br=gr.isPromise,vr=gr.isRegExp,$r=polyfill$2(),Er=polyfill$1(),_r=callBound$4("RegExp.prototype.test"),xr,Ir;function Nr(){var Jr=requireComparisons();xr=Jr.isDeepEqual,Ir=Jr.isDeepStrictEqual}var Lr=!1,jr=assert$1.exports=yr,Or={};function Dr(Jr){throw Jr.message instanceof Error?Jr.message:new ur(Jr)}function Cr(Jr,qr,zr,sn,rn){var tn=arguments.length,dn;if(tn===0)dn="Failed";else if(tn===1)zr=Jr,Jr=void 0;else{if(Lr===!1){Lr=!0;var Yr=process.emitWarning?process.emitWarning:console.warn.bind(console);Yr("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}tn===2&&(sn="!=")}if(zr instanceof Error)throw zr;var Vr={actual:Jr,expected:qr,operator:sn===void 0?"fail":sn,stackStartFn:rn||Cr};zr!==void 0&&(Vr.message=zr);var Qr=new ur(Vr);throw dn&&(Qr.message=dn,Qr.generatedMessage=!0),Qr}jr.fail=Cr,jr.AssertionError=ur;function Tr(Jr,qr,zr,sn){if(!zr){var rn=!1;if(qr===0)rn=!0,sn="No value argument passed to `assert.ok()`";else if(sn instanceof Error)throw sn;var tn=new ur({actual:zr,expected:!0,message:sn,operator:"==",stackStartFn:Jr});throw tn.generatedMessage=rn,tn}}function yr(){for(var Jr=arguments.length,qr=new Array(Jr),zr=0;zr<Jr;zr++)qr[zr]=arguments[zr];Tr.apply(void 0,[yr,qr.length].concat(qr))}jr.ok=yr,jr.equal=function Jr(qr,zr,sn){if(arguments.length<2)throw new lr("actual","expected");qr!=zr&&Dr({actual:qr,expected:zr,message:sn,operator:"==",stackStartFn:Jr})},jr.notEqual=function Jr(qr,zr,sn){if(arguments.length<2)throw new lr("actual","expected");qr==zr&&Dr({actual:qr,expected:zr,message:sn,operator:"!=",stackStartFn:Jr})},jr.deepEqual=function Jr(qr,zr,sn){if(arguments.length<2)throw new lr("actual","expected");xr===void 0&&Nr(),xr(qr,zr)||Dr({actual:qr,expected:zr,message:sn,operator:"deepEqual",stackStartFn:Jr})},jr.notDeepEqual=function Jr(qr,zr,sn){if(arguments.length<2)throw new lr("actual","expected");xr===void 0&&Nr(),xr(qr,zr)&&Dr({actual:qr,expected:zr,message:sn,operator:"notDeepEqual",stackStartFn:Jr})},jr.deepStrictEqual=function Jr(qr,zr,sn){if(arguments.length<2)throw new lr("actual","expected");xr===void 0&&Nr(),Ir(qr,zr)||Dr({actual:qr,expected:zr,message:sn,operator:"deepStrictEqual",stackStartFn:Jr})},jr.notDeepStrictEqual=mr;function mr(Jr,qr,zr){if(arguments.length<2)throw new lr("actual","expected");xr===void 0&&Nr(),Ir(Jr,qr)&&Dr({actual:Jr,expected:qr,message:zr,operator:"notDeepStrictEqual",stackStartFn:mr})}jr.strictEqual=function Jr(qr,zr,sn){if(arguments.length<2)throw new lr("actual","expected");Er(qr,zr)||Dr({actual:qr,expected:zr,message:sn,operator:"strictEqual",stackStartFn:Jr})},jr.notStrictEqual=function Jr(qr,zr,sn){if(arguments.length<2)throw new lr("actual","expected");Er(qr,zr)&&Dr({actual:qr,expected:zr,message:sn,operator:"notStrictEqual",stackStartFn:Jr})};var hr=er(function Jr(qr,zr,sn){var rn=this;rr(this,Jr),zr.forEach(function(tn){tn in qr&&(sn!==void 0&&typeof sn[tn]=="string"&&vr(qr[tn])&&_r(qr[tn],sn[tn])?rn[tn]=sn[tn]:rn[tn]=qr[tn])})});function pr(Jr,qr,zr,sn,rn,tn){if(!(zr in Jr)||!Ir(Jr[zr],qr[zr])){if(!sn){var dn=new hr(Jr,rn),Yr=new hr(qr,rn,Jr),Vr=new ur({actual:dn,expected:Yr,operator:"deepStrictEqual",stackStartFn:tn});throw Vr.actual=Jr,Vr.expected=qr,Vr.operator=tn.name,Vr}Dr({actual:Jr,expected:qr,message:sn,operator:tn.name,stackStartFn:tn})}}function wr(Jr,qr,zr,sn){if(typeof qr!="function"){if(vr(qr))return _r(qr,Jr);if(arguments.length===2)throw new sr("expected",["Function","RegExp"],qr);if(tr(Jr)!=="object"||Jr===null){var rn=new ur({actual:Jr,expected:qr,message:zr,operator:"deepStrictEqual",stackStartFn:sn});throw rn.operator=sn.name,rn}var tn=Object.keys(qr);if(qr instanceof Error)tn.push("name","message");else if(tn.length===0)throw new ar("error",qr,"may not be an empty object");return xr===void 0&&Nr(),tn.forEach(function(dn){typeof Jr[dn]=="string"&&vr(qr[dn])&&_r(qr[dn],Jr[dn])||pr(Jr,qr,dn,zr,tn,sn)}),!0}return qr.prototype!==void 0&&Jr instanceof qr?!0:Error.isPrototypeOf(qr)?!1:qr.call({},Jr)===!0}function Ar(Jr){if(typeof Jr!="function")throw new sr("fn","Function",Jr);try{Jr()}catch(qr){return qr}return Or}function Rr(Jr){return br(Jr)||Jr!==null&&tr(Jr)==="object"&&typeof Jr.then=="function"&&typeof Jr.catch=="function"}function Pr(Jr){return Promise.resolve().then(function(){var qr;if(typeof Jr=="function"){if(qr=Jr(),!Rr(qr))throw new cr("instance of Promise","promiseFn",qr)}else if(Rr(Jr))qr=Jr;else throw new sr("promiseFn",["Function","Promise"],Jr);return Promise.resolve().then(function(){return qr}).then(function(){return Or}).catch(function(zr){return zr})})}function Sr(Jr,qr,zr,sn){if(typeof zr=="string"){if(arguments.length===4)throw new sr("error",["Object","Error","Function","RegExp"],zr);if(tr(qr)==="object"&&qr!==null){if(qr.message===zr)throw new or("error/message",'The error message "'.concat(qr.message,'" is identical to the message.'))}else if(qr===zr)throw new or("error/message",'The error "'.concat(qr,'" is identical to the message.'));sn=zr,zr=void 0}else if(zr!=null&&tr(zr)!=="object"&&typeof zr!="function")throw new sr("error",["Object","Error","Function","RegExp"],zr);if(qr===Or){var rn="";zr&&zr.name&&(rn+=" (".concat(zr.name,")")),rn+=sn?": ".concat(sn):".";var tn=Jr.name==="rejects"?"rejection":"exception";Dr({actual:void 0,expected:zr,operator:Jr.name,message:"Missing expected ".concat(tn).concat(rn),stackStartFn:Jr})}if(zr&&!wr(qr,zr,sn,Jr))throw qr}function Mr(Jr,qr,zr,sn){if(qr!==Or){if(typeof zr=="string"&&(sn=zr,zr=void 0),!zr||wr(qr,zr)){var rn=sn?": ".concat(sn):".",tn=Jr.name==="doesNotReject"?"rejection":"exception";Dr({actual:qr,expected:zr,operator:Jr.name,message:"Got unwanted ".concat(tn).concat(rn,`
`)+'Actual message: "'.concat(qr&&qr.message,'"'),stackStartFn:Jr})}throw qr}}jr.throws=function Jr(qr){for(var zr=arguments.length,sn=new Array(zr>1?zr-1:0),rn=1;rn<zr;rn++)sn[rn-1]=arguments[rn];Sr.apply(void 0,[Jr,Ar(qr)].concat(sn))},jr.rejects=function Jr(qr){for(var zr=arguments.length,sn=new Array(zr>1?zr-1:0),rn=1;rn<zr;rn++)sn[rn-1]=arguments[rn];return Pr(qr).then(function(tn){return Sr.apply(void 0,[Jr,tn].concat(sn))})},jr.doesNotThrow=function Jr(qr){for(var zr=arguments.length,sn=new Array(zr>1?zr-1:0),rn=1;rn<zr;rn++)sn[rn-1]=arguments[rn];Mr.apply(void 0,[Jr,Ar(qr)].concat(sn))},jr.doesNotReject=function Jr(qr){for(var zr=arguments.length,sn=new Array(zr>1?zr-1:0),rn=1;rn<zr;rn++)sn[rn-1]=arguments[rn];return Pr(qr).then(function(tn){return Mr.apply(void 0,[Jr,tn].concat(sn))})},jr.ifError=function Jr(qr){if(qr!=null){var zr="ifError got unwanted exception: ";tr(qr)==="object"&&typeof qr.message=="string"?qr.message.length===0&&qr.constructor?zr+=qr.constructor.name:zr+=qr.message:zr+=dr(qr);var sn=new ur({actual:qr,expected:null,operator:"ifError",message:zr,stackStartFn:Jr}),rn=qr.stack;if(typeof rn=="string"){var tn=rn.split(`
`);tn.shift();for(var dn=sn.stack.split(`
`),Yr=0;Yr<tn.length;Yr++){var Vr=dn.indexOf(tn[Yr]);if(Vr!==-1){dn=dn.slice(0,Vr);break}}sn.stack="".concat(dn.join(`
`),`
`).concat(tn.join(`
`))}throw sn}};function Br(Jr,qr,zr,sn,rn){if(!vr(qr))throw new sr("regexp","RegExp",qr);var tn=rn==="match";if(typeof Jr!="string"||_r(qr,Jr)!==tn){if(zr instanceof Error)throw zr;var dn=!zr;zr=zr||(typeof Jr!="string"?'The "string" argument must be of type string. Received type '+"".concat(tr(Jr)," (").concat(dr(Jr),")"):(tn?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(dr(qr),`. Input:

`).concat(dr(Jr),`
`));var Yr=new ur({actual:Jr,expected:qr,message:zr,operator:rn,stackStartFn:sn});throw Yr.generatedMessage=dn,Yr}}jr.match=function Jr(qr,zr,sn){Br(qr,zr,sn,Jr,"match")},jr.doesNotMatch=function Jr(qr,zr,sn){Br(qr,zr,sn,Jr,"doesNotMatch")};function Ur(){for(var Jr=arguments.length,qr=new Array(Jr),zr=0;zr<Jr;zr++)qr[zr]=arguments[zr];Tr.apply(void 0,[Ur,qr.length].concat(qr))}return jr.strict=$r(Ur,jr,{equal:jr.strictEqual,deepEqual:jr.deepStrictEqual,notEqual:jr.notStrictEqual,notDeepEqual:jr.notDeepStrictEqual}),jr.strict.strict=jr.strict,assert$1.exports}var assertExports=requireAssert();const assert=getDefaultExportFromCjs(assertExports);var lib={},helpers$3={},uri=require$$3,ValidationError=helpers$3.ValidationError=function tr(er,rr,nr,ir,or,sr){if(Array.isArray(ir)?(this.path=ir,this.property=ir.reduce(function(cr,lr){return cr+makeSuffix(lr)},"instance")):ir!==void 0&&(this.property=ir),er&&(this.message=er),nr){var ar=nr.$id||nr.id;this.schema=ar||nr}rr!==void 0&&(this.instance=rr),this.name=or,this.argument=sr,this.stack=this.toString()};ValidationError.prototype.toString=function tr(){return this.property+" "+this.message};var ValidatorResult$2=helpers$3.ValidatorResult=function tr(er,rr,nr,ir){this.instance=er,this.schema=rr,this.options=nr,this.path=ir.path,this.propertyPath=ir.propertyPath,this.errors=[],this.throwError=nr&&nr.throwError,this.throwFirst=nr&&nr.throwFirst,this.throwAll=nr&&nr.throwAll,this.disableFormat=nr&&nr.disableFormat===!0};ValidatorResult$2.prototype.addError=function tr(er){var rr;if(typeof er=="string")rr=new ValidationError(er,this.instance,this.schema,this.path);else{if(!er)throw new Error("Missing error detail");if(!er.message)throw new Error("Missing error message");if(!er.name)throw new Error("Missing validator type");rr=new ValidationError(er.message,this.instance,this.schema,this.path,er.name,er.argument)}if(this.errors.push(rr),this.throwFirst)throw new ValidatorResultError$1(this);if(this.throwError)throw rr;return rr};ValidatorResult$2.prototype.importErrors=function tr(er){typeof er=="string"||er&&er.validatorType?this.addError(er):er&&er.errors&&(this.errors=this.errors.concat(er.errors))};function stringizer(tr,er){return er+": "+tr.toString()+`
`}ValidatorResult$2.prototype.toString=function tr(er){return this.errors.map(stringizer).join("")};Object.defineProperty(ValidatorResult$2.prototype,"valid",{get:function(){return!this.errors.length}});helpers$3.ValidatorResultError=ValidatorResultError$1;function ValidatorResultError$1(tr){Error.captureStackTrace&&Error.captureStackTrace(this,ValidatorResultError$1),this.instance=tr.instance,this.schema=tr.schema,this.options=tr.options,this.errors=tr.errors}ValidatorResultError$1.prototype=new Error;ValidatorResultError$1.prototype.constructor=ValidatorResultError$1;ValidatorResultError$1.prototype.name="Validation Error";var SchemaError$2=helpers$3.SchemaError=function tr(er,rr){this.message=er,this.schema=rr,Error.call(this,er),Error.captureStackTrace(this,tr)};SchemaError$2.prototype=Object.create(Error.prototype,{constructor:{value:SchemaError$2,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var SchemaContext$1=helpers$3.SchemaContext=function tr(er,rr,nr,ir,or){this.schema=er,this.options=rr,Array.isArray(nr)?(this.path=nr,this.propertyPath=nr.reduce(function(sr,ar){return sr+makeSuffix(ar)},"instance")):this.propertyPath=nr,this.base=ir,this.schemas=or};SchemaContext$1.prototype.resolve=function tr(er){return uri.resolve(this.base,er)};SchemaContext$1.prototype.makeChild=function tr(er,rr){var nr=rr===void 0?this.path:this.path.concat([rr]),ir=er.$id||er.id,or=uri.resolve(this.base,ir||""),sr=new SchemaContext$1(er,this.options,nr,or,Object.create(this.schemas));return ir&&!sr.schemas[or]&&(sr.schemas[or]=er),sr};var FORMAT_REGEXPS=helpers$3.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(tr){return typeof tr=="string"&&parseFloat(tr)===parseInt(tr,10)&&!isNaN(tr)},regex:function(tr){var er=!0;try{new RegExp(tr)}catch{er=!1}return er},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};FORMAT_REGEXPS.regexp=FORMAT_REGEXPS.regex;FORMAT_REGEXPS.pattern=FORMAT_REGEXPS.regex;FORMAT_REGEXPS.ipv4=FORMAT_REGEXPS["ip-address"];helpers$3.isFormat=function tr(er,rr,nr){if(typeof er=="string"&&FORMAT_REGEXPS[rr]!==void 0){if(FORMAT_REGEXPS[rr]instanceof RegExp)return FORMAT_REGEXPS[rr].test(er);if(typeof FORMAT_REGEXPS[rr]=="function")return FORMAT_REGEXPS[rr](er)}else if(nr&&nr.customFormats&&typeof nr.customFormats[rr]=="function")return nr.customFormats[rr](er);return!0};var makeSuffix=helpers$3.makeSuffix=function tr(er){return er=er.toString(),!er.match(/[.\s\[\]]/)&&!er.match(/^[\d]/)?"."+er:er.match(/^\d+$/)?"["+er+"]":"["+JSON.stringify(er)+"]"};helpers$3.deepCompareStrict=function tr(er,rr){if(typeof er!=typeof rr)return!1;if(Array.isArray(er))return!Array.isArray(rr)||er.length!==rr.length?!1:er.every(function(or,sr){return tr(er[sr],rr[sr])});if(typeof er=="object"){if(!er||!rr)return er===rr;var nr=Object.keys(er),ir=Object.keys(rr);return nr.length!==ir.length?!1:nr.every(function(or){return tr(er[or],rr[or])})}return er===rr};function deepMerger(tr,er,rr,nr){typeof rr=="object"?er[nr]=deepMerge(tr[nr],rr):tr.indexOf(rr)===-1&&er.push(rr)}function copyist(tr,er,rr){er[rr]=tr[rr]}function copyistWithDeepMerge(tr,er,rr,nr){typeof er[nr]!="object"||!er[nr]?rr[nr]=er[nr]:tr[nr]?rr[nr]=deepMerge(tr[nr],er[nr]):rr[nr]=er[nr]}function deepMerge(tr,er){var rr=Array.isArray(er),nr=rr&&[]||{};return rr?(tr=tr||[],nr=nr.concat(tr),er.forEach(deepMerger.bind(null,tr,nr))):(tr&&typeof tr=="object"&&Object.keys(tr).forEach(copyist.bind(null,tr,nr)),Object.keys(er).forEach(copyistWithDeepMerge.bind(null,tr,er,nr))),nr}helpers$3.deepMerge=deepMerge;helpers$3.objectGetPath=function tr(er,rr){for(var nr=rr.split("/").slice(1),ir;typeof(ir=nr.shift())=="string";){var or=decodeURIComponent(ir.replace(/~0/,"~").replace(/~1/g,"/"));if(!(or in er))return;er=er[or]}return er};function pathEncoder(tr){return"/"+encodeURIComponent(tr).replace(/~/g,"%7E")}helpers$3.encodePath=function tr(er){return er.map(pathEncoder).join("")};helpers$3.getDecimalPlaces=function tr(er){var rr=0;if(isNaN(er))return rr;typeof er!="number"&&(er=Number(er));var nr=er.toString().split("e");if(nr.length===2){if(nr[1][0]!=="-")return rr;rr=Number(nr[1].slice(1))}var ir=nr[0].split(".");return ir.length===2&&(rr+=ir[1].length),rr};helpers$3.isSchema=function tr(er){return typeof er=="object"&&er||typeof er=="boolean"};var helpers$2=helpers$3,ValidatorResult$1=helpers$2.ValidatorResult,SchemaError$1=helpers$2.SchemaError,attribute$1={};attribute$1.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var validators=attribute$1.validators={};validators.type=function tr(er,rr,nr,ir){if(er===void 0)return null;var or=new ValidatorResult$1(er,rr,nr,ir),sr=Array.isArray(rr.type)?rr.type:[rr.type];if(!sr.some(this.testType.bind(this,er,rr,nr,ir))){var ar=sr.map(function(cr){if(cr){var lr=cr.$id||cr.id;return lr?"<"+lr+">":cr+""}});or.addError({name:"type",argument:ar,message:"is not of a type(s) "+ar})}return or};function testSchemaNoThrow(tr,er,rr,nr,ir){var or=er.throwError,sr=er.throwAll;er.throwError=!1,er.throwAll=!1;var ar=this.validateSchema(tr,ir,er,rr);return er.throwError=or,er.throwAll=sr,!ar.valid&&nr instanceof Function&&nr(ar),ar.valid}validators.anyOf=function tr(er,rr,nr,ir){if(er===void 0)return null;var or=new ValidatorResult$1(er,rr,nr,ir),sr=new ValidatorResult$1(er,rr,nr,ir);if(!Array.isArray(rr.anyOf))throw new SchemaError$1("anyOf must be an array");if(!rr.anyOf.some(testSchemaNoThrow.bind(this,er,nr,ir,function(cr){sr.importErrors(cr)}))){var ar=rr.anyOf.map(function(cr,lr){var ur=cr.$id||cr.id;return ur?"<"+ur+">":cr.title&&JSON.stringify(cr.title)||cr.$ref&&"<"+cr.$ref+">"||"[subschema "+lr+"]"});nr.nestedErrors&&or.importErrors(sr),or.addError({name:"anyOf",argument:ar,message:"is not any of "+ar.join(",")})}return or};validators.allOf=function tr(er,rr,nr,ir){if(er===void 0)return null;if(!Array.isArray(rr.allOf))throw new SchemaError$1("allOf must be an array");var or=new ValidatorResult$1(er,rr,nr,ir),sr=this;return rr.allOf.forEach(function(ar,cr){var lr=sr.validateSchema(er,ar,nr,ir);if(!lr.valid){var ur=ar.$id||ar.id,fr=ur||ar.title&&JSON.stringify(ar.title)||ar.$ref&&"<"+ar.$ref+">"||"[subschema "+cr+"]";or.addError({name:"allOf",argument:{id:fr,length:lr.errors.length,valid:lr},message:"does not match allOf schema "+fr+" with "+lr.errors.length+" error[s]:"}),or.importErrors(lr)}}),or};validators.oneOf=function tr(er,rr,nr,ir){if(er===void 0)return null;if(!Array.isArray(rr.oneOf))throw new SchemaError$1("oneOf must be an array");var or=new ValidatorResult$1(er,rr,nr,ir),sr=new ValidatorResult$1(er,rr,nr,ir),ar=rr.oneOf.filter(testSchemaNoThrow.bind(this,er,nr,ir,function(lr){sr.importErrors(lr)})).length,cr=rr.oneOf.map(function(lr,ur){var fr=lr.$id||lr.id;return fr||lr.title&&JSON.stringify(lr.title)||lr.$ref&&"<"+lr.$ref+">"||"[subschema "+ur+"]"});return ar!==1&&(nr.nestedErrors&&or.importErrors(sr),or.addError({name:"oneOf",argument:cr,message:"is not exactly one from "+cr.join(",")})),or};validators.if=function tr(er,rr,nr,ir){if(er===void 0)return null;if(!helpers$2.isSchema(rr.if))throw new Error('Expected "if" keyword to be a schema');var or=testSchemaNoThrow.call(this,er,nr,ir,null,rr.if),sr=new ValidatorResult$1(er,rr,nr,ir),ar;if(or){if(rr.then===void 0)return;if(!helpers$2.isSchema(rr.then))throw new Error('Expected "then" keyword to be a schema');ar=this.validateSchema(er,rr.then,nr,ir.makeChild(rr.then)),sr.importErrors(ar)}else{if(rr.else===void 0)return;if(!helpers$2.isSchema(rr.else))throw new Error('Expected "else" keyword to be a schema');ar=this.validateSchema(er,rr.else,nr,ir.makeChild(rr.else)),sr.importErrors(ar)}return sr};function getEnumerableProperty(tr,er){if(Object.hasOwnProperty.call(tr,er))return tr[er];if(er in tr){for(;tr=Object.getPrototypeOf(tr);)if(Object.propertyIsEnumerable.call(tr,er))return tr[er]}}validators.propertyNames=function tr(er,rr,nr,ir){if(this.types.object(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=rr.propertyNames!==void 0?rr.propertyNames:{};if(!helpers$2.isSchema(sr))throw new SchemaError$1('Expected "propertyNames" to be a schema (object or boolean)');for(var ar in er)if(getEnumerableProperty(er,ar)!==void 0){var cr=this.validateSchema(ar,sr,nr,ir.makeChild(sr));or.importErrors(cr)}return or}};validators.properties=function tr(er,rr,nr,ir){if(this.types.object(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=rr.properties||{};for(var ar in sr){var cr=sr[ar];if(cr!==void 0){if(cr===null)throw new SchemaError$1('Unexpected null, expected schema in "properties"');typeof nr.preValidateProperty=="function"&&nr.preValidateProperty(er,ar,cr,nr,ir);var lr=getEnumerableProperty(er,ar),ur=this.validateSchema(lr,cr,nr,ir.makeChild(cr,ar));ur.instance!==or.instance[ar]&&(or.instance[ar]=ur.instance),or.importErrors(ur)}}return or}};function testAdditionalProperty(tr,er,rr,nr,ir,or){if(this.types.object(tr)&&!(er.properties&&er.properties[ir]!==void 0))if(er.additionalProperties===!1)or.addError({name:"additionalProperties",argument:ir,message:"is not allowed to have the additional property "+JSON.stringify(ir)});else{var sr=er.additionalProperties||{};typeof rr.preValidateProperty=="function"&&rr.preValidateProperty(tr,ir,sr,rr,nr);var ar=this.validateSchema(tr[ir],sr,rr,nr.makeChild(sr,ir));ar.instance!==or.instance[ir]&&(or.instance[ir]=ar.instance),or.importErrors(ar)}}validators.patternProperties=function tr(er,rr,nr,ir){if(this.types.object(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=rr.patternProperties||{};for(var ar in er){var cr=!0;for(var lr in sr){var ur=sr[lr];if(ur!==void 0){if(ur===null)throw new SchemaError$1('Unexpected null, expected schema in "patternProperties"');try{var fr=new RegExp(lr,"u")}catch{fr=new RegExp(lr)}if(fr.test(ar)){cr=!1,typeof nr.preValidateProperty=="function"&&nr.preValidateProperty(er,ar,ur,nr,ir);var dr=this.validateSchema(er[ar],ur,nr,ir.makeChild(ur,ar));dr.instance!==or.instance[ar]&&(or.instance[ar]=dr.instance),or.importErrors(dr)}}}cr&&testAdditionalProperty.call(this,er,rr,nr,ir,ar,or)}return or}};validators.additionalProperties=function tr(er,rr,nr,ir){if(this.types.object(er)){if(rr.patternProperties)return null;var or=new ValidatorResult$1(er,rr,nr,ir);for(var sr in er)testAdditionalProperty.call(this,er,rr,nr,ir,sr,or);return or}};validators.minProperties=function tr(er,rr,nr,ir){if(this.types.object(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=Object.keys(er);return sr.length>=rr.minProperties||or.addError({name:"minProperties",argument:rr.minProperties,message:"does not meet minimum property length of "+rr.minProperties}),or}};validators.maxProperties=function tr(er,rr,nr,ir){if(this.types.object(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=Object.keys(er);return sr.length<=rr.maxProperties||or.addError({name:"maxProperties",argument:rr.maxProperties,message:"does not meet maximum property length of "+rr.maxProperties}),or}};validators.items=function tr(er,rr,nr,ir){var or=this;if(this.types.array(er)&&rr.items!==void 0){var sr=new ValidatorResult$1(er,rr,nr,ir);return er.every(function(ar,cr){if(Array.isArray(rr.items))var lr=rr.items[cr]===void 0?rr.additionalItems:rr.items[cr];else var lr=rr.items;if(lr===void 0)return!0;if(lr===!1)return sr.addError({name:"items",message:"additionalItems not permitted"}),!1;var ur=or.validateSchema(ar,lr,nr,ir.makeChild(lr,cr));return ur.instance!==sr.instance[cr]&&(sr.instance[cr]=ur.instance),sr.importErrors(ur),!0}),sr}};validators.contains=function tr(er,rr,nr,ir){var or=this;if(this.types.array(er)&&rr.contains!==void 0){if(!helpers$2.isSchema(rr.contains))throw new Error('Expected "contains" keyword to be a schema');var sr=new ValidatorResult$1(er,rr,nr,ir),ar=er.some(function(cr,lr){var ur=or.validateSchema(cr,rr.contains,nr,ir.makeChild(rr.contains,lr));return ur.errors.length===0});return ar===!1&&sr.addError({name:"contains",argument:rr.contains,message:"must contain an item matching given schema"}),sr}};validators.minimum=function tr(er,rr,nr,ir){if(this.types.number(er)){var or=new ValidatorResult$1(er,rr,nr,ir);return rr.exclusiveMinimum&&rr.exclusiveMinimum===!0?er>rr.minimum||or.addError({name:"minimum",argument:rr.minimum,message:"must be greater than "+rr.minimum}):er>=rr.minimum||or.addError({name:"minimum",argument:rr.minimum,message:"must be greater than or equal to "+rr.minimum}),or}};validators.maximum=function tr(er,rr,nr,ir){if(this.types.number(er)){var or=new ValidatorResult$1(er,rr,nr,ir);return rr.exclusiveMaximum&&rr.exclusiveMaximum===!0?er<rr.maximum||or.addError({name:"maximum",argument:rr.maximum,message:"must be less than "+rr.maximum}):er<=rr.maximum||or.addError({name:"maximum",argument:rr.maximum,message:"must be less than or equal to "+rr.maximum}),or}};validators.exclusiveMinimum=function tr(er,rr,nr,ir){if(typeof rr.exclusiveMinimum!="boolean"&&this.types.number(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=er>rr.exclusiveMinimum;return sr||or.addError({name:"exclusiveMinimum",argument:rr.exclusiveMinimum,message:"must be strictly greater than "+rr.exclusiveMinimum}),or}};validators.exclusiveMaximum=function tr(er,rr,nr,ir){if(typeof rr.exclusiveMaximum!="boolean"&&this.types.number(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=er<rr.exclusiveMaximum;return sr||or.addError({name:"exclusiveMaximum",argument:rr.exclusiveMaximum,message:"must be strictly less than "+rr.exclusiveMaximum}),or}};var validateMultipleOfOrDivisbleBy=function tr(er,rr,nr,ir,or,sr){if(this.types.number(er)){var ar=rr[or];if(ar==0)throw new SchemaError$1(or+" cannot be zero");var cr=new ValidatorResult$1(er,rr,nr,ir),lr=helpers$2.getDecimalPlaces(er),ur=helpers$2.getDecimalPlaces(ar),fr=Math.max(lr,ur),dr=Math.pow(10,fr);return Math.round(er*dr)%Math.round(ar*dr)!==0&&cr.addError({name:or,argument:ar,message:sr+JSON.stringify(ar)}),cr}};validators.multipleOf=function tr(er,rr,nr,ir){return validateMultipleOfOrDivisbleBy.call(this,er,rr,nr,ir,"multipleOf","is not a multiple of (divisible by) ")};validators.divisibleBy=function tr(er,rr,nr,ir){return validateMultipleOfOrDivisbleBy.call(this,er,rr,nr,ir,"divisibleBy","is not divisible by (multiple of) ")};validators.required=function tr(er,rr,nr,ir){var or=new ValidatorResult$1(er,rr,nr,ir);return er===void 0&&rr.required===!0?or.addError({name:"required",message:"is required"}):this.types.object(er)&&Array.isArray(rr.required)&&rr.required.forEach(function(sr){getEnumerableProperty(er,sr)===void 0&&or.addError({name:"required",argument:sr,message:"requires property "+JSON.stringify(sr)})}),or};validators.pattern=function tr(er,rr,nr,ir){if(this.types.string(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=rr.pattern;try{var ar=new RegExp(sr,"u")}catch{ar=new RegExp(sr)}return er.match(ar)||or.addError({name:"pattern",argument:rr.pattern,message:"does not match pattern "+JSON.stringify(rr.pattern.toString())}),or}};validators.format=function tr(er,rr,nr,ir){if(er!==void 0){var or=new ValidatorResult$1(er,rr,nr,ir);return!or.disableFormat&&!helpers$2.isFormat(er,rr.format,this)&&or.addError({name:"format",argument:rr.format,message:"does not conform to the "+JSON.stringify(rr.format)+" format"}),or}};validators.minLength=function tr(er,rr,nr,ir){if(this.types.string(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=er.match(/[\uDC00-\uDFFF]/g),ar=er.length-(sr?sr.length:0);return ar>=rr.minLength||or.addError({name:"minLength",argument:rr.minLength,message:"does not meet minimum length of "+rr.minLength}),or}};validators.maxLength=function tr(er,rr,nr,ir){if(this.types.string(er)){var or=new ValidatorResult$1(er,rr,nr,ir),sr=er.match(/[\uDC00-\uDFFF]/g),ar=er.length-(sr?sr.length:0);return ar<=rr.maxLength||or.addError({name:"maxLength",argument:rr.maxLength,message:"does not meet maximum length of "+rr.maxLength}),or}};validators.minItems=function tr(er,rr,nr,ir){if(this.types.array(er)){var or=new ValidatorResult$1(er,rr,nr,ir);return er.length>=rr.minItems||or.addError({name:"minItems",argument:rr.minItems,message:"does not meet minimum length of "+rr.minItems}),or}};validators.maxItems=function tr(er,rr,nr,ir){if(this.types.array(er)){var or=new ValidatorResult$1(er,rr,nr,ir);return er.length<=rr.maxItems||or.addError({name:"maxItems",argument:rr.maxItems,message:"does not meet maximum length of "+rr.maxItems}),or}};function testArrays(tr,er,rr){var nr,ir=rr.length;for(nr=er+1,ir;nr<ir;nr++)if(helpers$2.deepCompareStrict(tr,rr[nr]))return!1;return!0}validators.uniqueItems=function tr(er,rr,nr,ir){if(rr.uniqueItems===!0&&this.types.array(er)){var or=new ValidatorResult$1(er,rr,nr,ir);return er.every(testArrays)||or.addError({name:"uniqueItems",message:"contains duplicate item"}),or}};validators.dependencies=function tr(er,rr,nr,ir){if(this.types.object(er)){var or=new ValidatorResult$1(er,rr,nr,ir);for(var sr in rr.dependencies)if(er[sr]!==void 0){var ar=rr.dependencies[sr],cr=ir.makeChild(ar,sr);if(typeof ar=="string"&&(ar=[ar]),Array.isArray(ar))ar.forEach(function(ur){er[ur]===void 0&&or.addError({name:"dependencies",argument:cr.propertyPath,message:"property "+ur+" not found, required by "+cr.propertyPath})});else{var lr=this.validateSchema(er,ar,nr,cr);or.instance!==lr.instance&&(or.instance=lr.instance),lr&&lr.errors.length&&(or.addError({name:"dependencies",argument:cr.propertyPath,message:"does not meet dependency required by "+cr.propertyPath}),or.importErrors(lr))}}return or}};validators.enum=function tr(er,rr,nr,ir){if(er===void 0)return null;if(!Array.isArray(rr.enum))throw new SchemaError$1("enum expects an array",rr);var or=new ValidatorResult$1(er,rr,nr,ir);return rr.enum.some(helpers$2.deepCompareStrict.bind(null,er))||or.addError({name:"enum",argument:rr.enum,message:"is not one of enum values: "+rr.enum.map(String).join(",")}),or};validators.const=function tr(er,rr,nr,ir){if(er===void 0)return null;var or=new ValidatorResult$1(er,rr,nr,ir);return helpers$2.deepCompareStrict(rr.const,er)||or.addError({name:"const",argument:rr.const,message:"does not exactly match expected constant: "+rr.const}),or};validators.not=validators.disallow=function tr(er,rr,nr,ir){var or=this;if(er===void 0)return null;var sr=new ValidatorResult$1(er,rr,nr,ir),ar=rr.not||rr.disallow;return ar?(Array.isArray(ar)||(ar=[ar]),ar.forEach(function(cr){if(or.testType(er,rr,nr,ir,cr)){var lr=cr&&(cr.$id||cr.id),ur=lr||cr;sr.addError({name:"not",argument:ur,message:"is of prohibited type "+ur})}}),sr):null};var attribute_1=attribute$1,scan={},urilib$1=require$$3,helpers$1=helpers$3;scan.SchemaScanResult=SchemaScanResult;function SchemaScanResult(tr,er){this.id=tr,this.ref=er}scan.scan=function tr(er,rr){function nr(cr,lr){if(!(!lr||typeof lr!="object")){if(lr.$ref){var ur=urilib$1.resolve(cr,lr.$ref);ar[ur]=ar[ur]?ar[ur]+1:0;return}var fr=lr.$id||lr.id,dr=fr?urilib$1.resolve(cr,fr):cr;if(dr){if(dr.indexOf("#")<0&&(dr+="#"),sr[dr]){if(!helpers$1.deepCompareStrict(sr[dr],lr))throw new Error("Schema <"+dr+"> already exists with different definition");return sr[dr]}sr[dr]=lr,dr[dr.length-1]=="#"&&(sr[dr.substring(0,dr.length-1)]=lr)}ir(dr+"/items",Array.isArray(lr.items)?lr.items:[lr.items]),ir(dr+"/extends",Array.isArray(lr.extends)?lr.extends:[lr.extends]),nr(dr+"/additionalItems",lr.additionalItems),or(dr+"/properties",lr.properties),nr(dr+"/additionalProperties",lr.additionalProperties),or(dr+"/definitions",lr.definitions),or(dr+"/patternProperties",lr.patternProperties),or(dr+"/dependencies",lr.dependencies),ir(dr+"/disallow",lr.disallow),ir(dr+"/allOf",lr.allOf),ir(dr+"/anyOf",lr.anyOf),ir(dr+"/oneOf",lr.oneOf),nr(dr+"/not",lr.not)}}function ir(cr,lr){if(Array.isArray(lr))for(var ur=0;ur<lr.length;ur++)nr(cr+"/"+ur,lr[ur])}function or(cr,lr){if(!(!lr||typeof lr!="object"))for(var ur in lr)nr(cr+"/"+ur,lr[ur])}var sr={},ar={};return nr(er,rr),new SchemaScanResult(sr,ar)};var urilib=require$$3,attribute=attribute_1,helpers=helpers$3,scanSchema=scan.scan,ValidatorResult=helpers.ValidatorResult,ValidatorResultError=helpers.ValidatorResultError,SchemaError=helpers.SchemaError,SchemaContext=helpers.SchemaContext,anonymousBase="/",Validator$1=function tr(){this.customFormats=Object.create(tr.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(types),this.attributes=Object.create(attribute.validators)};Validator$1.prototype.customFormats={};Validator$1.prototype.schemas=null;Validator$1.prototype.types=null;Validator$1.prototype.attributes=null;Validator$1.prototype.unresolvedRefs=null;Validator$1.prototype.addSchema=function tr(er,rr){var nr=this;if(!er)return null;var ir=scanSchema(rr||anonymousBase,er),or=rr||er.$id||er.id;for(var sr in ir.id)this.schemas[sr]=ir.id[sr];for(var sr in ir.ref)this.unresolvedRefs.push(sr);return this.unresolvedRefs=this.unresolvedRefs.filter(function(ar){return typeof nr.schemas[ar]>"u"}),this.schemas[or]};Validator$1.prototype.addSubSchemaArray=function tr(er,rr){if(Array.isArray(rr))for(var nr=0;nr<rr.length;nr++)this.addSubSchema(er,rr[nr])};Validator$1.prototype.addSubSchemaObject=function tr(er,rr){if(!(!rr||typeof rr!="object"))for(var nr in rr)this.addSubSchema(er,rr[nr])};Validator$1.prototype.setSchemas=function tr(er){this.schemas=er};Validator$1.prototype.getSchema=function tr(er){return this.schemas[er]};Validator$1.prototype.validate=function tr(er,rr,nr,ir){if(typeof rr!="boolean"&&typeof rr!="object"||rr===null)throw new SchemaError("Expected `schema` to be an object or boolean");nr||(nr={});var or=rr.$id||rr.id,sr=urilib.resolve(nr.base||anonymousBase,or||"");if(!ir){ir=new SchemaContext(rr,nr,[],sr,Object.create(this.schemas)),ir.schemas[sr]||(ir.schemas[sr]=rr);var ar=scanSchema(sr,rr);for(var cr in ar.id){var lr=ar.id[cr];ir.schemas[cr]=lr}}if(nr.required&&er===void 0){var ur=new ValidatorResult(er,rr,nr,ir);return ur.addError("is required, but is undefined"),ur}var ur=this.validateSchema(er,rr,nr,ir);if(ur){if(nr.throwAll&&ur.errors.length)throw new ValidatorResultError(ur)}else throw new Error("Result undefined");return ur};function shouldResolve(tr){var er=typeof tr=="string"?tr:tr.$ref;return typeof er=="string"?er:!1}Validator$1.prototype.validateSchema=function tr(er,rr,nr,ir){var or=new ValidatorResult(er,rr,nr,ir);if(typeof rr=="boolean")rr===!0?rr={}:rr===!1&&(rr={type:[]});else if(!rr)throw new Error("schema is undefined");if(rr.extends)if(Array.isArray(rr.extends)){var sr={schema:rr,ctx:ir};rr.extends.forEach(this.schemaTraverser.bind(this,sr)),rr=sr.schema,sr.schema=null,sr.ctx=null,sr=null}else rr=helpers.deepMerge(rr,this.superResolve(rr.extends,ir));var ar=shouldResolve(rr);if(ar){var cr=this.resolve(rr,ar,ir),lr=new SchemaContext(cr.subschema,nr,ir.path,cr.switchSchema,ir.schemas);return this.validateSchema(er,cr.subschema,nr,lr)}var ur=nr&&nr.skipAttributes||[];for(var fr in rr)if(!attribute.ignoreProperties[fr]&&ur.indexOf(fr)<0){var dr=null,gr=this.attributes[fr];if(gr)dr=gr.call(this,er,rr,nr,ir);else if(nr.allowUnknownAttributes===!1)throw new SchemaError("Unsupported attribute: "+fr,rr);dr&&or.importErrors(dr)}if(typeof nr.rewrite=="function"){var br=nr.rewrite.call(this,er,rr,nr,ir);or.instance=br}return or};Validator$1.prototype.schemaTraverser=function tr(er,rr){er.schema=helpers.deepMerge(er.schema,this.superResolve(rr,er.ctx))};Validator$1.prototype.superResolve=function tr(er,rr){var nr=shouldResolve(er);return nr?this.resolve(er,nr,rr).subschema:er};Validator$1.prototype.resolve=function tr(er,rr,nr){if(rr=nr.resolve(rr),nr.schemas[rr])return{subschema:nr.schemas[rr],switchSchema:rr};var ir=urilib.parse(rr),or=ir&&ir.hash,sr=or&&or.length&&rr.substr(0,rr.length-or.length);if(!sr||!nr.schemas[sr])throw new SchemaError("no such schema <"+rr+">",er);var ar=helpers.objectGetPath(nr.schemas[sr],or.substr(1));if(ar===void 0)throw new SchemaError("no such schema "+or+" located in <"+sr+">",er);return{subschema:ar,switchSchema:rr}};Validator$1.prototype.testType=function tr(er,rr,nr,ir,or){if(or!==void 0){if(or===null)throw new SchemaError('Unexpected null in "type" keyword');if(typeof this.types[or]=="function")return this.types[or].call(this,er);if(or&&typeof or=="object"){var sr=this.validateSchema(er,or,nr,ir);return sr===void 0||!(sr&&sr.errors.length)}return!0}};var types=Validator$1.prototype.types={};types.string=function tr(er){return typeof er=="string"};types.number=function tr(er){return typeof er=="number"&&isFinite(er)};types.integer=function tr(er){return typeof er=="number"&&er%1===0};types.boolean=function tr(er){return typeof er=="boolean"};types.array=function tr(er){return Array.isArray(er)};types.null=function tr(er){return er===null};types.date=function tr(er){return er instanceof Date};types.any=function tr(er){return!0};types.object=function tr(er){return er&&typeof er=="object"&&!Array.isArray(er)&&!(er instanceof Date)};var validator$1=Validator$1,Validator=lib.Validator=validator$1;lib.ValidatorResult=helpers$3.ValidatorResult;lib.ValidatorResultError=helpers$3.ValidatorResultError;lib.ValidationError=helpers$3.ValidationError;lib.SchemaError=helpers$3.SchemaError;lib.SchemaScanResult=scan.SchemaScanResult;lib.scan=scan.scan;lib.validate=function(tr,er,rr){var nr=new Validator;return nr.validate(tr,er,rr)};function resemblesAddress(tr){return tr.length===2+20*2}function createWalletMiddleware({getAccounts:tr,getPrivateKey:er,processEthSignMessage:rr,processPersonalMessage:nr,processTransaction:ir,processSignTransaction:or,processTypedMessage:sr,processTypedMessageV3:ar,processTypedMessageV4:cr}){if(!tr)throw new Error("opts.getAccounts is required");async function lr(Ir,Nr){if(typeof Ir=="string"&&Ir.length>0){const jr=(await tr(Nr)).map(Dr=>Dr.toLowerCase()),Or=Ir.toLowerCase();if(jr.includes(Or))return Or}throw rpcErrors.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function ur(Ir,Nr){Nr.result=await tr(Ir)}async function fr(Ir,Nr){const Lr=await tr(Ir);Nr.result=Lr[0]||null}async function dr(Ir,Nr){if(!ir)throw rpcErrors.methodNotSupported();const Lr=Ir.params[0]||{from:""};Lr.from=await lr(Lr.from,Ir),Nr.result=await ir(Lr,Ir)}async function gr(Ir,Nr){if(!or)throw rpcErrors.methodNotSupported();const Lr=Ir.params[0]||{from:""};Lr.from=await lr(Lr.from,Ir),Nr.result=await or(Lr,Ir)}async function br(Ir,Nr){if(!rr)throw rpcErrors.methodNotSupported();const Lr=await lr(Ir.params[0],Ir),jr=Ir.params[1],Or=Ir.params[2]||{},Dr=_objectSpread2(_objectSpread2({},Or),{},{from:Lr,data:jr});Nr.result=await rr(Dr,Ir)}async function vr(Ir,Nr){if(!sr)throw rpcErrors.methodNotSupported();const Lr=Ir.params[0],jr=await lr(Ir.params[1],Ir),Or="V1",Dr=Ir.params[2]||{},Cr=_objectSpread2(_objectSpread2({},Dr),{},{from:jr,data:Lr});Nr.result=await sr(Cr,Ir,Or)}async function $r(Ir,Nr){if(!ar)throw rpcErrors.methodNotSupported();const Lr=await lr(Ir.params[0],Ir),jr=Ir.params[1],Or="V3",Dr={data:jr,from:Lr,version:Or};Nr.result=await ar(Dr,Ir,Or)}async function Er(Ir,Nr){if(!cr)throw rpcErrors.methodNotSupported();const Lr=await lr(Ir.params[0],Ir),jr=Ir.params[1],Or="V4",Dr={data:jr,from:Lr,version:Or};Nr.result=await cr(Dr,Ir,Or)}async function _r(Ir,Nr){if(!nr)throw rpcErrors.methodNotSupported();const Lr=Ir.params[0],jr=Ir.params[1],Or=Ir.params[2]||{};let Dr,Cr;if(resemblesAddress(Lr)&&!resemblesAddress(jr)){let yr="The eth_personalSign method requires params ordered ";yr+="[message, address]. This was previously handled incorrectly, ",yr+="and has been corrected automatically. ",yr+="Please switch this param order for smooth behavior in the future.",Nr.warning=yr,Dr=Lr,Cr=jr}else Cr=Lr,Dr=jr;Dr=await lr(Dr,Ir);const Tr=_objectSpread2(_objectSpread2({},Or),{},{from:Dr,data:Cr});Nr.result=await nr(Tr,Ir)}async function xr(Ir,Nr){if(!er)throw rpcErrors.methodNotSupported();Nr.result=er(Ir)}return createScaffoldMiddleware({eth_accounts:createAsyncMiddleware(ur),eth_private_key:createAsyncMiddleware(xr),private_key:createAsyncMiddleware(xr),eth_coinbase:createAsyncMiddleware(fr),eth_sendTransaction:createAsyncMiddleware(dr),eth_signTransaction:createAsyncMiddleware(gr),eth_sign:createAsyncMiddleware(br),eth_signTypedData:createAsyncMiddleware(vr),eth_signTypedData_v3:createAsyncMiddleware($r),eth_signTypedData_v4:createAsyncMiddleware(Er),personal_sign:createAsyncMiddleware(_r)})}function createEthMiddleware(tr){const{getAccounts:er,getPrivateKey:rr,processTransaction:nr,processSignTransaction:ir,processEthSignMessage:or,processTypedMessage:sr,processTypedMessageV3:ar,processTypedMessageV4:cr,processPersonalMessage:lr}=tr;return mergeMiddleware([createScaffoldMiddleware({eth_syncing:!1}),createWalletMiddleware({getAccounts:er,getPrivateKey:rr,processTransaction:nr,processEthSignMessage:or,processSignTransaction:ir,processTypedMessage:sr,processTypedMessageV3:ar,processTypedMessageV4:cr,processPersonalMessage:lr})])}function createChainSwitchMiddleware({addChain:tr,switchChain:er}){async function rr(ir,or){var sr;const ar=(sr=ir.params)!==null&&sr!==void 0&&sr.length?ir.params[0]:void 0;if(!ar)throw rpcErrors.invalidParams("Missing chain params");if(!ar.chainId)throw rpcErrors.invalidParams("Missing chainId in chainParams");if(!ar.rpcUrls||ar.rpcUrls.length===0)throw rpcErrors.invalidParams("Missing rpcUrls in chainParams");if(!ar.nativeCurrency)throw rpcErrors.invalidParams("Missing nativeCurrency in chainParams");or.result=await tr(ar)}async function nr(ir,or){var sr;const ar=(sr=ir.params)!==null&&sr!==void 0&&sr.length?ir.params[0]:void 0;if(!ar)throw rpcErrors.invalidParams("Missing chainId");or.result=await er(ar)}return createScaffoldMiddleware({wallet_addEthereumChain:createAsyncMiddleware(rr),wallet_switchEthereumChain:createAsyncMiddleware(nr)})}function createAccountMiddleware({updatePrivatekey:tr}){async function er(rr,nr){var ir;const or=(ir=rr.params)!==null&&ir!==void 0&&ir.length?rr.params[0]:void 0;if(!(or!=null&&or.privateKey))throw rpcErrors.invalidParams("Missing privateKey");nr.result=await tr(or)}return createScaffoldMiddleware({wallet_updateAccount:createAsyncMiddleware(er)})}function createChainIdMiddleware(tr){return(er,rr,nr,ir)=>er.method==="eth_chainId"?(rr.result=tr,ir()):nr()}function createProviderConfigMiddleware(tr){return(er,rr,nr,ir)=>er.method==="eth_provider_config"?(rr.result=tr,ir()):nr()}function createJsonRpcClient(tr){const{chainId:er,rpcTarget:rr}=tr,nr=createFetchMiddleware({rpcTarget:rr});return{networkMiddleware:mergeMiddleware([createChainIdMiddleware(er),createProviderConfigMiddleware(tr),nr]),fetchMiddleware:nr}}const LegacyGasAPIEndpoint="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",EIP1559APIEndpoint="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",TRANSACTION_ENVELOPE_TYPES={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},TRANSACTION_TYPES={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},GAS_ESTIMATE_TYPES={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"},BIG_NUMBER_WEI_MULTIPLIER=new BigNumber("1e18"),BIG_NUMBER_GWEI_MULTIPLIER=new BigNumber("1e9"),BIG_NUMBER_ETH_MULTIPLIER=new BigNumber("1"),toBigNumber={hex:tr=>typeof tr=="string"?new BigNumber(stripHexPrefix$5(tr),16):new BigNumber(tr,16),dec:tr=>new BigNumber(tr,10)},toNormalizedDenomination={WEI:tr=>tr.div(BIG_NUMBER_WEI_MULTIPLIER),GWEI:tr=>tr.div(BIG_NUMBER_GWEI_MULTIPLIER),ETH:tr=>tr.div(BIG_NUMBER_ETH_MULTIPLIER)},toSpecifiedDenomination={WEI:tr=>tr.times(BIG_NUMBER_WEI_MULTIPLIER).dp(0,BigNumber.ROUND_HALF_UP),GWEI:tr=>tr.times(BIG_NUMBER_GWEI_MULTIPLIER).dp(9,BigNumber.ROUND_HALF_UP),ETH:tr=>tr.times(BIG_NUMBER_ETH_MULTIPLIER).dp(9,BigNumber.ROUND_HALF_UP)},baseChange={hex:tr=>tr.toString(16),dec:tr=>new BigNumber(tr).toString(10)},converter=tr=>{const{value:er,fromNumericBase:rr,fromDenomination:nr,toNumericBase:ir,toDenomination:or,numberOfDecimals:sr}=tr;let ar=toBigNumber[rr](er);return nr&&(ar=toNormalizedDenomination[nr](ar)),or&&(ar=toSpecifiedDenomination[or](ar)),sr&&(ar=ar.dp(sr,BigNumber.ROUND_HALF_DOWN)),ir&&(ar=baseChange[ir](ar)),ar},conversionUtil=(tr,{fromNumericBase:er="hex",toNumericBase:rr,fromDenomination:nr,toDenomination:ir,numberOfDecimals:or})=>converter({fromNumericBase:er,toNumericBase:rr,fromDenomination:nr,toDenomination:ir,numberOfDecimals:or,value:tr||"0"});function decGWEIToHexWEI(tr){return conversionUtil(tr,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function hexWEIToDecGWEI(tr){return conversionUtil(tr,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function bnLessThan(tr,er){return tr==null||er===null||er===void 0?null:new BigNumber(tr,10).lt(er,10)}function bnToHex(tr){return addHexPrefix$2(tr.toString(16))}function hexToBn(tr){return BN.isBN(tr)?tr:new BN(stripHexPrefix$5(tr),16)}function BnMultiplyByFraction(tr,er,rr){const nr=new BN(er),ir=new BN(rr);return tr.mul(nr).div(ir)}let SignTypedDataVersion=function(tr){return tr.V1="V1",tr.V3="V3",tr.V4="V4",tr}({});function normalizeGWEIDecimalNumbers(tr){const er=decGWEIToHexWEI(tr);return hexWEIToDecGWEI(er).toString()}async function fetchEip1159GasEstimates(tr){const er=await get$1(tr);return _objectSpread2(_objectSpread2({},er),{},{estimatedBaseFee:normalizeGWEIDecimalNumbers(er.estimatedBaseFee),low:_objectSpread2(_objectSpread2({},er.low),{},{suggestedMaxPriorityFeePerGas:normalizeGWEIDecimalNumbers(er.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:normalizeGWEIDecimalNumbers(er.low.suggestedMaxFeePerGas)}),medium:_objectSpread2(_objectSpread2({},er.medium),{},{suggestedMaxPriorityFeePerGas:normalizeGWEIDecimalNumbers(er.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:normalizeGWEIDecimalNumbers(er.medium.suggestedMaxFeePerGas)}),high:_objectSpread2(_objectSpread2({},er.high),{},{suggestedMaxPriorityFeePerGas:normalizeGWEIDecimalNumbers(er.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:normalizeGWEIDecimalNumbers(er.high.suggestedMaxFeePerGas)})})}async function fetchLegacyGasPriceEstimates(tr){const er=await get$1(tr,{referrer:tr,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:er.SafeGasPrice,medium:er.ProposeGasPrice,high:er.FastGasPrice}}const validateTypedMessageParams=async(tr,er)=>{try{assert.ok(tr&&typeof tr=="object","Params must be an object."),assert.ok("data"in tr,'Params must include a "data" field.'),assert.ok("from"in tr,'Params must include a "from" field.'),assert.ok(typeof tr.from=="string"&&isValidAddress(tr.from),'"from" field must be a valid, lowercase, hexadecimal Ethereum address string.');let nr=null,ir=null;switch(tr.version){case SignTypedDataVersion.V1:typeof tr.data=="string"?assert.doesNotThrow(()=>{nr=JSON.parse(tr.data)},'"data" must be a valid JSON string.'):nr=tr.data,assert.ok(Array.isArray(nr),"params.data must be an array."),assert.doesNotThrow(()=>{dist$8.typedSignatureHash(nr)},"Signing data must be valid EIP-712 typed data.");break;case SignTypedDataVersion.V3:case SignTypedDataVersion.V4:{var rr;typeof tr.data=="string"?assert.doesNotThrow(()=>{nr=JSON.parse(tr.data)},'"data" must be a valid JSON string.'):nr=tr.data;const or=nr;assert.ok(or.primaryType in or.types,`Primary type of "${or.primaryType}" has no type definition.`);const sr=lib.validate(or,dist$8.TYPED_MESSAGE_SCHEMA.properties);assert.strictEqual(sr.errors.length,0,"Signing data must conform to EIP-712 schema. See https://git.io/fNtcx."),ir=(rr=or.domain)===null||rr===void 0?void 0:rr.chainId,ir&&(assert.ok(!Number.isNaN(er),`Cannot sign messages for chainId "${ir}", because Web3Auth is switching networks.`),typeof ir=="string"&&(ir=Number.parseInt(ir,isHexStrict(ir)?16:10)),assert.strictEqual(ir,er,`Provided chainId "${ir}" must match the active chainId "${er}"`));break}default:assert.fail(`Unknown typed data version "${tr.version}"`)}}catch(nr){throw rpcErrors.invalidInput({message:nr?.message})}};class TransactionFormatter{constructor({getProviderEngineProxy:er}){_defineProperty(this,"API_SUPPORTED_CHAINIDS",new Set(["0x1","0x5","0x13881","0xa4b1","0xa86a","0x2105","0x38","0xfa","0xa","0x89"])),_defineProperty(this,"chainConfig",null),_defineProperty(this,"getProviderEngineProxy",void 0),_defineProperty(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=er}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config"}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async getCommonConfiguration(){if(!this.chainConfig)throw new Error("Chain config not initialized");const{displayName:er,chainId:rr}=this.chainConfig,{Hardfork:nr,Common:ir}=await __vitePreload(async()=>{const{Hardfork:ar,Common:cr}=await import("./index-JHAnXxkx.js");return{Hardfork:ar,Common:cr}},[]),or=this.isEIP1559Compatible?nr.Paris:nr.Berlin,sr={name:er,chainId:rr==="loading"?0:Number.parseInt(rr,16),networkId:rr==="loading"?0:Number.parseInt(rr,16),defaultHardfork:or};return ir.custom(sr)}async formatTransaction(er){if(!this.chainConfig)throw new Error("Chain config not initialized");const rr=_objectSpread2({},er);if(rr.nonce===void 0&&(rr.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[er.from,"latest"]})),!this.isEIP1559Compatible&&rr.gasPrice){if(rr.maxFeePerGas&&delete rr.maxFeePerGas,rr.maxPriorityFeePerGas&&delete rr.maxPriorityFeePerGas,!rr.gasLimit)if(rr.gas)rr.gasLimit=rr.gas;else{const sr=await this.getDefaultGasLimit(rr);sr&&(rr.gasLimit=sr)}return rr}if(!rr.gasLimit)if(rr.gas)rr.gasLimit=rr.gas;else{const sr=await this.getDefaultGasLimit(rr);sr&&(rr.gasLimit=sr)}const{gasPrice:nr,maxFeePerGas:ir,maxPriorityFeePerGas:or}=await this.getDefaultGasFees(rr);return this.isEIP1559Compatible?(rr.gasPrice&&!rr.maxFeePerGas&&!rr.maxPriorityFeePerGas?(rr.maxFeePerGas=rr.gasPrice,rr.maxPriorityFeePerGas=bnLessThan(typeof or=="string"?stripHexPrefix$5(or):or,typeof rr.gasPrice=="string"?stripHexPrefix$5(rr.gasPrice):rr.gasPrice)?or:rr.gasPrice):(ir&&!rr.maxFeePerGas&&(rr.maxFeePerGas=ir),or&&!rr.maxPriorityFeePerGas&&(rr.maxPriorityFeePerGas=or),nr&&!rr.maxFeePerGas&&(rr.maxFeePerGas=nr),rr.maxFeePerGas&&!rr.maxPriorityFeePerGas&&(rr.maxPriorityFeePerGas=rr.maxFeePerGas)),delete rr.gasPrice):(delete rr.maxPriorityFeePerGas,delete rr.maxFeePerGas),nr&&!rr.gasPrice&&!rr.maxPriorityFeePerGas&&!rr.maxFeePerGas&&(rr.gasPrice=nr),rr.type=this.isEIP1559Compatible?TRANSACTION_ENVELOPE_TYPES.FEE_MARKET:TRANSACTION_ENVELOPE_TYPES.LEGACY,rr.chainId=this.chainConfig.chainId,rr}async fetchEthGasPriceEstimate(){const er=await this.providerProxy.request({method:"eth_gasPrice",params:[]});return{gasPrice:hexWEIToDecGWEI(er).toString()}}async fetchGasEstimatesViaEthFeeHistory(){const rr="latest",nr=[10,50,95],ir=await this.providerProxy.request({method:"eth_feeHistory",params:[10,rr,nr]}),or=ir.baseFeePerGas[ir.baseFeePerGas.length-1],sr=ir.reward.reduce((ar,cr)=>({slow:ar.slow.plus(new BigNumber(cr[0],16)),average:ar.average.plus(new BigNumber(cr[1],16)),fast:ar.fast.plus(new BigNumber(cr[2],16))}),{slow:new BigNumber(0),average:new BigNumber(0),fast:new BigNumber(0)});return{estimatedBaseFee:hexWEIToDecGWEI(or).toString(),high:{maxWaitTimeEstimate:3e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:hexWEIToDecGWEI(sr.fast.plus(or).toString(16)).toString(),suggestedMaxPriorityFeePerGas:hexWEIToDecGWEI(sr.fast.toString(16)).toString()},medium:{maxWaitTimeEstimate:45e3,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:hexWEIToDecGWEI(sr.average.plus(or).toString(16)).toString(),suggestedMaxPriorityFeePerGas:hexWEIToDecGWEI(sr.average.toString(16)).toString()},low:{maxWaitTimeEstimate:6e4,minWaitTimeEstimate:15e3,suggestedMaxFeePerGas:hexWEIToDecGWEI(sr.slow.plus(or).toString(16)).toString(),suggestedMaxPriorityFeePerGas:hexWEIToDecGWEI(sr.slow.toString(16)).toString()}}}async getEIP1559Compatibility(){const er=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!!(er&&er.baseFeePerGas!==void 0)}async fetchGasFeeEstimateData(){if(!this.chainConfig)throw new Error("Chain config not initialized");const er=this.chainConfig.chainId==="0x1",rr=Number.parseInt(this.chainConfig.chainId,16);let nr;try{if(this.isEIP1559Compatible){let ir;try{if(this.API_SUPPORTED_CHAINIDS.has(this.chainConfig.chainId))ir=await fetchEip1159GasEstimates(EIP1559APIEndpoint.replace("<chain_id>",`${rr}`));else throw new Error("Chain id not supported by api")}catch{ir=await this.fetchGasEstimatesViaEthFeeHistory()}nr={gasFeeEstimates:ir,gasEstimateType:GAS_ESTIMATE_TYPES.FEE_MARKET}}else if(er)nr={gasFeeEstimates:await fetchLegacyGasPriceEstimates(LegacyGasAPIEndpoint.replace("<chain_id>",`${rr}`)),gasEstimateType:GAS_ESTIMATE_TYPES.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{nr={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:GAS_ESTIMATE_TYPES.ETH_GASPRICE}}catch(or){throw new Error(`Gas fee/price estimation failed. Message: ${or.message}`)}}return nr}async getDefaultGasFees(er){if(!this.isEIP1559Compatible&&er.gasPrice||this.isEIP1559Compatible&&er.maxFeePerGas&&er.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:nr,gasEstimateType:ir}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&ir===GAS_ESTIMATE_TYPES.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:or,suggestedMaxFeePerGas:sr}={}}=nr;if(or&&sr)return{maxFeePerGas:addHexPrefix$2(decGWEIToHexWEI(sr)),maxPriorityFeePerGas:addHexPrefix$2(decGWEIToHexWEI(or))}}else{if(ir===GAS_ESTIMATE_TYPES.LEGACY)return{gasPrice:addHexPrefix$2(decGWEIToHexWEI(nr.medium))};if(ir===GAS_ESTIMATE_TYPES.ETH_GASPRICE)return{gasPrice:addHexPrefix$2(decGWEIToHexWEI(nr.gasPrice))}}}catch(nr){loglevel$1.error(nr)}const{gasPrice:rr}=await this.fetchEthGasPriceEstimate();return{gasPrice:addHexPrefix$2(decGWEIToHexWEI(rr))}}async estimateTxGas(er){const rr=_objectSpread2({},er);return delete rr.gasPrice,delete rr.maxFeePerGas,delete rr.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[rr]})}async analyzeGasUsage(er){const rr=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]}),nr=hexToBn(rr.gasLimit),ir=BnMultiplyByFraction(nr,19,20);let or=bnToHex(ir);try{or=await this.estimateTxGas(er)}catch(sr){loglevel$1.warn(sr)}return{blockGasLimit:rr.gasLimit,estimatedGasHex:or}}addGasBuffer(er,rr,nr=1.5){const ir=hexToBn(er),sr=hexToBn(rr).muln(.9),ar=ir.muln(nr);return ir.gt(sr)?bnToHex(ir):ar.lt(sr)?bnToHex(ar):bnToHex(sr)}async determineTransactionCategory(er){const{data:rr,to:nr}=er;let ir="",or;if(rr&&!nr)or=TRANSACTION_TYPES.DEPLOY_CONTRACT;else{try{ir=await this.providerProxy.request({method:"eth_getCode",params:[nr,"latest"]})}catch(ar){loglevel$1.warn(ar)}or=!ir||ir==="0x"||ir==="0x0"?TRANSACTION_TYPES.SENT_ETHER:TRANSACTION_TYPES.CONTRACT_INTERACTION}return{transactionCategory:or,code:ir}}async getDefaultGasLimit(er){const{transactionCategory:rr}=await this.determineTransactionCategory(_objectSpread2({},er));if(er.gas)return er.gas;if(er.to&&rr===TRANSACTION_TYPES.SENT_ETHER){if(er.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");return addHexPrefix$2(21e3.toString(16))}const{blockGasLimit:nr,estimatedGasHex:ir}=await this.analyzeGasUsage(er);return this.addGasBuffer(addHexPrefix$2(ir),nr)}}async function signTx(tr,er,rr){const nr=await rr.formatTransaction(tr),ir=await rr.getCommonConfiguration(),{TransactionFactory:or}=await __vitePreload(async()=>{const{TransactionFactory:cr}=await import("./index-CnC7VKWG.js");return{TransactionFactory:cr}},__vite__mapDeps([0,1])),ar=or.fromTxData(nr,{common:ir}).sign(Buffer.from(er,"hex")).serialize();return Buffer.from(ar)}function getProviderHandlers({txFormatter:tr,privKey:er,getProviderEngineProxy:rr}){return{getAccounts:async nr=>[`0x${Buffer.from(privateToAddress(Buffer.from(er,"hex"))).toString("hex")}`],getPrivateKey:async nr=>er,processTransaction:async(nr,ir)=>{const or=rr();if(!or)throw providerErrors.custom({message:"Provider is not initialized",code:4902});nr.input&&!nr.data&&(nr.data=nr.input);const sr=await signTx(nr,er,tr);return await or.request({method:"eth_sendRawTransaction",params:["0x".concat(sr.toString("hex"))]})},processSignTransaction:async(nr,ir)=>{if(!rr())throw providerErrors.custom({message:"Provider is not initialized",code:4902});return nr.input&&!nr.data&&(nr.data=nr.input),`0x${(await signTx(nr,er,tr)).toString("hex")}`},processEthSignMessage:async(nr,ir)=>signMessage(er,nr.data),processPersonalMessage:async(nr,ir)=>{const or=Buffer.from(er,"hex");return dist$8.personalSign({privateKey:or,data:nr.data})},processTypedMessage:async(nr,ir)=>{loglevel$1.debug("processTypedMessage",nr);const or=Buffer.from(er,"hex"),sr=rr();if(!sr)throw providerErrors.custom({message:"Provider is not initialized",code:4902});const ar=await sr.request({method:"eth_chainId"}),cr=Number.parseInt(ar,isHexStrict(ar)?16:10),lr=_objectSpread2(_objectSpread2({},nr),{},{version:SignTypedDataVersion.V1});await validateTypedMessageParams(lr,cr);const ur=typeof lr.data=="string"?JSON.parse(lr.data):lr.data;return dist$8.signTypedData({privateKey:or,data:ur,version:SignTypedDataVersion.V1})},processTypedMessageV3:async(nr,ir)=>{loglevel$1.debug("processTypedMessageV3",nr);const or=Buffer.from(er,"hex"),sr=rr();if(!sr)throw providerErrors.custom({message:"Provider is not initialized",code:4902});const ar=await sr.request({method:"eth_chainId"}),cr=Number.parseInt(ar,isHexStrict(ar)?16:10);await validateTypedMessageParams(nr,cr);const lr=typeof nr.data=="string"?JSON.parse(nr.data):nr.data;return dist$8.signTypedData({privateKey:or,data:lr,version:SignTypedDataVersion.V3})},processTypedMessageV4:async(nr,ir)=>{loglevel$1.debug("processTypedMessageV4",nr);const or=Buffer.from(er,"hex"),sr=rr();if(!sr)throw providerErrors.custom({message:"Provider is not initialized",code:4902});const ar=await sr.request({method:"eth_chainId"}),cr=Number.parseInt(ar,isHexStrict(ar)?16:10);await validateTypedMessageParams(nr,cr);const lr=typeof nr.data=="string"?JSON.parse(nr.data):nr.data;return dist$8.signTypedData({privateKey:or,data:lr,version:SignTypedDataVersion.V4})}}}var _EthereumPrivateKeyProvider;class EthereumPrivateKeyProvider extends BaseProvider$1{constructor({config:er,state:rr}){super({config:er,state:rr}),_defineProperty(this,"PROVIDER_CHAIN_NAMESPACE",CHAIN_NAMESPACES.EIP155)}async enable(){if(!this.state.privateKey)throw providerErrors.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(er){const{chainNamespace:rr}=this.config.chainConfig;if(rr!==this.PROVIDER_CHAIN_NAMESPACE)throw WalletInitializationError.incompatibleChainNameSpace("Invalid chain namespace");const nr=new TransactionFormatter({getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),ir=getProviderHandlers({txFormatter:nr,privKey:er,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),or=createEthMiddleware(ir),sr=this.getChainSwitchMiddleware(),ar=new JRPCEngine,{networkMiddleware:cr}=createJsonRpcClient(this.config.chainConfig);ar.push(or),ar.push(sr),ar.push(this.getAccountMiddleware()),ar.push(cr);const lr=providerFromEngine(ar);this.updateProviderEngineProxy(lr),await nr.init(),await this.lookupNetwork()}async updateAccount(er){if(!this._providerEngineProxy)throw providerErrors.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"eth_private_key"})!==er.privateKey&&(await this.setupProvider(er.privateKey),this.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"eth_accounts"})}))}async switchChain(er){if(!this._providerEngineProxy)throw providerErrors.custom({message:"Provider is not initialized",code:4902});const rr=this.getChainConfig(er.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:rr});const nr=await this._providerEngineProxy.request({method:"eth_private_key"});await this.setupProvider(nr)}async lookupNetwork(){if(!this._providerEngineProxy)throw providerErrors.custom({message:"Provider is not initialized",code:4902});const{chainId:er}=this.config.chainConfig;if(!er)throw rpcErrors.invalidParams("chainId is required while lookupNetwork");const rr=await this._providerEngineProxy.request({method:"net_version",params:[]}),nr=isHexString$5(rr)?parseInt(rr,16):parseInt(rr,10);if(parseInt(er,16)!==nr)throw providerErrors.chainDisconnected(`Invalid network, net_version is: ${rr}`);return this.state.chainId!==er&&(this.emit("chainChanged",er),this.emit("connect",{chainId:er})),this.update({chainId:er}),rr}getChainSwitchMiddleware(){return createChainSwitchMiddleware({addChain:async nr=>{const{chainId:ir,chainName:or,rpcUrls:sr,blockExplorerUrls:ar,nativeCurrency:cr,iconUrls:lr}=nr;this.addChain({chainNamespace:CHAIN_NAMESPACES.EIP155,chainId:ir,ticker:cr?.symbol||"ETH",tickerName:cr?.name||"Ether",displayName:or,rpcTarget:sr[0],blockExplorerUrl:ar?.[0]||"",decimals:cr?.decimals||18,logo:lr?.[0]||"https://images.toruswallet.io/eth.svg"})},switchChain:async nr=>{const{chainId:ir}=nr;await this.switchChain({chainId:ir})}})}getAccountMiddleware(){return createAccountMiddleware({updatePrivatekey:async rr=>{const{privateKey:nr}=rr;await this.updateAccount({privateKey:nr})}})}}_EthereumPrivateKeyProvider=EthereumPrivateKeyProvider;_defineProperty(EthereumPrivateKeyProvider,"getProviderInstance",async tr=>{const er=new _EthereumPrivateKeyProvider({config:{chainConfig:tr.chainConfig}});return await er.setupProvider(tr.privKey),er});class BaseSessionManager{constructor(){_defineProperty(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=this.sessionId.padStart(64,"0")}request(er){let{method:rr="GET",url:nr,data:ir={},headers:or={}}=er;const sr={headers:or};switch(rr){case"GET":return get$1(nr,sr);case"POST":return post(nr,ir,sr);case"PUT":return put(nr,ir,sr);case"PATCH":return patch$4(nr,ir,sr)}throw new Error("Invalid method type")}}const DEFAULT_SESSION_TIMEOUT=86400;class OpenloginSessionManager extends BaseSessionManager{constructor(){let{sessionServerBaseUrl:er,sessionNamespace:rr,sessionTime:nr,sessionId:ir}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),_defineProperty(this,"sessionServerBaseUrl","https://session.web3auth.io"),_defineProperty(this,"sessionNamespace",void 0),_defineProperty(this,"sessionTime",DEFAULT_SESSION_TIMEOUT),_defineProperty(this,"sessionId",""),er&&(this.sessionServerBaseUrl=er),rr&&(this.sessionNamespace=rr),nr&&(this.sessionTime=nr),ir&&(this.sessionId=ir.padStart(64,"0"))}static generateRandomSessionKey(){return generatePrivate().toString("hex").padStart(64,"0")}async createSession(er){super.checkSessionParams();const rr=Buffer.from(this.sessionId,"hex"),nr=getPublic(rr).toString("hex"),ir=await encryptData(this.sessionId,er),or=(await sign(rr,keccak256(Buffer.from(ir,"utf8")))).toString("hex"),sr={key:nr,data:ir,signature:or,namespace:this.sessionNamespace,timeout:this.sessionTime};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/store/set`,data:sr}),this.sessionId}async authorizeSession(){super.checkSessionParams();const er=getPublic(Buffer.from(this.sessionId,"hex")).toString("hex"),rr=new URL(`${this.sessionServerBaseUrl}/store/get`);rr.searchParams.append("key",er),this.sessionNamespace&&rr.searchParams.append("namespace",this.sessionNamespace);const nr=await super.request({url:rr.toString()});if(!nr.message)throw new Error("Session Expired or Invalid public key");const ir=await decryptData(this.sessionId,nr.message);if(ir.error)throw new Error("There was an error decrypting data.");return ir}async updateSession(er){super.checkSessionParams();const rr=Buffer.from(this.sessionId,"hex"),nr=getPublic(rr).toString("hex"),ir=await encryptData(this.sessionId,er),or=(await sign(rr,keccak256(Buffer.from(ir,"utf8")))).toString("hex"),sr={key:nr,data:ir,signature:or,namespace:this.sessionNamespace};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/store/update`,data:sr})}async invalidateSession(){super.checkSessionParams();const er=Buffer.from(this.sessionId,"hex"),rr=getPublic(er).toString("hex"),nr=await encryptData(this.sessionId,{}),ir=(await sign(er,keccak256(Buffer.from(nr,"utf8")))).toString("hex"),or={key:rr,data:nr,signature:ir,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/store/set`,data:or}),this.sessionId="",!0}}var log$1=log$3.getLogger("SecurePubSub");class SecurePubSub{constructor(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_defineProperty(this,"options",void 0),_defineProperty(this,"SOCKET_CONN",null),this.options=er,this.options.timeout=er.timeout||600,this.options.serverUrl=er.serverUrl||"https://session.web3auth.io",this.options.enableLogging=er.enableLogging||!1,this.options.namespace=er.namespace||"",this.options.sameIpCheck=er.sameIpCheck||!1,this.options.sameOriginCheck=er.sameOriginCheck||!1,this.options.enableLogging?log$1.enableAll():log$1.disableAll()}static setLogLevel(er){log$1.setLevel(er),setLogLevel(er)}async publish(er,rr){const nr=keccak256(Buffer.from(er,"utf8")),ir=await encryptData(nr.toString("hex"),rr),or=await sign(nr,keccak256(Buffer.from(ir,"utf8"))),sr={key:getPublic(nr).toString("hex"),data:ir,signature:or.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck};return post(`${this.options.serverUrl}/channel/set`,sr)}async subscribe(er){let rr=!0;const nr=keccak256(Buffer.from(er,"utf8")),ir=getPublic(nr).toString("hex"),or=this.getSocketConnection();or.connected?(log$1.debug("already connected with socket"),or.emit("check_auth_status",ir,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})):or.once("connect",()=>{log$1.debug("connected with socket"),or.emit("check_auth_status",ir,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})});const sr=()=>{or.once("connect",async()=>{log$1.debug("connected with socket using reconnect"),rr&&or.emit("check_auth_status",ir,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})})},ar=()=>{rr||document.removeEventListener("visibilitychange",ar),!or.connected&&document.visibilityState==="visible"&&sr()},cr=()=>{log$1.debug("socket disconnected",rr),rr?(log$1.error("socket disconnected unexpectedly, reconnecting socket"),sr()):or.removeListener("disconnect",cr)};or.on("disconnect",cr);const lr=new Promise((ur,fr)=>{const dr=async gr=>{try{const br=await decryptData(nr.toString("hex"),gr);log$1.info("got data",br),ur(br)}catch(br){log$1.error(br),fr(br)}finally{rr=!1,document.removeEventListener("visibilitychange",ar)}};log$1.info("listening to",`${ir}_success`),or.once(`${ir}_success`,dr)});return typeof document<"u"&&document.addEventListener("visibilitychange",ar),lr}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const er=lookup(this.options.serverUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return er.on("connect_error",rr=>{er.io.opts.transports=["polling","websocket"],log$1.error("connect error",rr)}),er.on("connect",async()=>{const{engine:rr}=er.io;log$1.debug("initially connected to",rr.transport.name),rr.once("upgrade",()=>{log$1.debug("upgraded",rr.transport.name)}),rr.once("close",nr=>{log$1.debug("connection closed",nr)})}),er.on("error",rr=>{log$1.error("socket errored",rr),er.disconnect()}),this.SOCKET_CONN=er,this.SOCKET_CONN}}class OpenloginError extends CustomError{constructor(er,rr){super(rr),_defineProperty(this,"code",void 0),_defineProperty(this,"message",void 0),this.code=er,this.message=rr||"",Object.defineProperty(this,"name",{value:"OpenloginError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class InitializationError extends OpenloginError{constructor(er,rr){super(er,rr),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new InitializationError(er,`${InitializationError.messages[er]}, ${rr}`)}static invalidParams(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return InitializationError.fromCode(5001,er)}static notInitialized(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return InitializationError.fromCode(5002,er)}}_defineProperty(InitializationError,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class LoginError extends OpenloginError{constructor(er,rr){super(er,rr),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new LoginError(er,`${LoginError.messages[er]}, ${rr}`)}static invalidLoginParams(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return LoginError.fromCode(5111,er)}static userNotLoggedIn(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return LoginError.fromCode(5112,er)}static popupClosed(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return LoginError.fromCode(5113,er)}static loginFailed(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return LoginError.fromCode(5114,er)}static popupBlocked(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return LoginError.fromCode(5115,er)}static mfaAlreadyEnabled(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return LoginError.fromCode(5116,er)}static mfaNotEnabled(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return LoginError.fromCode(5117,er)}}_defineProperty(LoginError,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const loglevel=loglevelExports.getLogger("openlogin");loglevel.setLevel("error");const version$2="8.2.1";function getHashQueryParams(){let tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const er={},rr=new URLSearchParams(window.location.search.slice(1));rr.forEach((sr,ar)=>{ar!=="b64Params"&&(er[ar]=sr)});const nr=rr.get("b64Params");if(nr)try{const sr=JSON.parse(safeatob(nr));Object.keys(sr).forEach(ar=>{er[ar]=sr[ar]})}catch(sr){loglevel.error(sr)}const ir=new URLSearchParams(window.location.hash.substring(1));ir.forEach((sr,ar)=>{ar!=="b64Params"&&(er[ar]=sr)});const or=ir.get("b64Params");if(or)try{const sr=JSON.parse(safeatob(or));Object.keys(sr).forEach(ar=>{er[ar]=sr[ar]})}catch(sr){loglevel.error(sr)}if(tr){const sr=new URL(window.location.origin+window.location.pathname);rr.size>0&&(rr.delete("error"),rr.delete("state"),rr.delete("b64Params"),rr.delete("sessionNamespace"),sr.search=rr.toString()),ir.size>0&&(ir.delete("error"),ir.delete("state"),ir.delete("b64Params"),ir.delete("sessionNamespace"),sr.hash=ir.toString()),window.history.replaceState(_objectSpread2(_objectSpread2({},window.history.state),{},{as:sr.href,url:sr.href}),"",sr.href)}return er}function constructURL(tr){const{baseURL:er,query:rr,hash:nr}=tr,ir=new URL(er);if(rr&&Object.keys(rr).forEach(or=>{ir.searchParams.append(or,rr[or])}),nr){const or=new URL(constructURL({baseURL:er,query:nr})).searchParams.toString();ir.hash=or}return ir.toString()}function getPopupFeatures(){if(typeof window>"u")return"";const tr=window.screenLeft!==void 0?window.screenLeft:window.screenX,er=window.screenTop!==void 0?window.screenTop:window.screenY,rr=1200,nr=700,ir=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,or=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,sr=1,ar=Math.abs((ir-rr)/2/sr+tr),cr=Math.abs((or-nr)/2/sr+er);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${nr/sr},width=${rr/sr},top=${cr},left=${ar}`}function isMobileOrTablet(){if(typeof window>"u")return!1;const er=Bowser.getParser(window.navigator.userAgent).getPlatform();return er.type===Bowser.PLATFORMS_MAP.tablet||er.type===Bowser.PLATFORMS_MAP.mobile}function getTimeout(tr){return(tr===LOGIN_PROVIDER.FACEBOOK||tr===LOGIN_PROVIDER.LINE)&&isMobileOrTablet()?1e3*60*5:1e3*10}let PopupHandler$1=class extends eventsExports.EventEmitter{constructor(er){let{url:rr,target:nr,features:ir,timeout:or=3e4}=er;super(),_defineProperty(this,"url",void 0),_defineProperty(this,"target",void 0),_defineProperty(this,"features",void 0),_defineProperty(this,"window",void 0),_defineProperty(this,"windowTimer",void 0),_defineProperty(this,"iClosedWindow",void 0),_defineProperty(this,"timeout",void 0),this.url=rr,this.target=nr||"_blank",this.features=ir||getPopupFeatures(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=or,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var er;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw LoginError.popupBlocked();(er=this.window)!==null&&er!==void 0&&er.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(er){er?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(er){const rr=new SecurePubSub,nr=await rr.subscribe(er);this.close(),rr.cleanup();const ir=JSON.parse(nr);return ir.error?{error:ir.error,state:ir.state}:ir.data}};class OpenLogin{constructor(er){if(_defineProperty(this,"state",{}),_defineProperty(this,"options",void 0),_defineProperty(this,"sessionManager",void 0),_defineProperty(this,"currentStorage",void 0),_defineProperty(this,"_storageBaseKey","openlogin_store"),_defineProperty(this,"dappState",void 0),_defineProperty(this,"addVersionInUrls",!0),!er.clientId)throw InitializationError.invalidParams("clientId is required");if(er.network||(er.network=OPENLOGIN_NETWORK.SAPPHIRE_MAINNET),er.buildEnv||(er.buildEnv=BUILD_ENV.PRODUCTION),(er.buildEnv===BUILD_ENV.DEVELOPMENT||er.buildEnv===BUILD_ENV.TESTING||er.sdkUrl)&&(this.addVersionInUrls=!1),!er.sdkUrl&&!er.useMpc&&(er.buildEnv===BUILD_ENV.DEVELOPMENT?(er.sdkUrl="http://localhost:3000",er.dashboardUrl="http://localhost:5173/wallet/account"):er.buildEnv===BUILD_ENV.STAGING?(er.sdkUrl="https://staging-auth.web3auth.io",er.dashboardUrl="https://staging-account.web3auth.io/wallet/account"):er.buildEnv===BUILD_ENV.TESTING?(er.sdkUrl="https://develop-auth.web3auth.io",er.dashboardUrl="https://develop-account.web3auth.io/wallet/account"):(er.sdkUrl="https://auth.web3auth.io",er.dashboardUrl="https://account.web3auth.io/wallet/account")),er.useMpc&&!er.sdkUrl){if(Object.values(TORUS_LEGACY_NETWORK).includes(er.network))throw InitializationError.invalidParams("MPC is not supported on legacy networks, please use sapphire_devnet or sapphire_mainnet.");er.buildEnv===BUILD_ENV.DEVELOPMENT?er.sdkUrl="http://localhost:3000":er.buildEnv===BUILD_ENV.STAGING?er.sdkUrl="https://staging-mpc-auth.web3auth.io":er.buildEnv===BUILD_ENV.TESTING?er.sdkUrl="https://develop-mpc-auth.web3auth.io":er.sdkUrl="https://mpc-auth.web3auth.io"}!er.redirectUrl&&typeof window<"u"&&(er.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),er.uxMode||(er.uxMode=UX_MODE.REDIRECT),typeof er.replaceUrlOnRedirect!="boolean"&&(er.replaceUrlOnRedirect=!0),er.originData||(er.originData={}),er.whiteLabel||(er.whiteLabel={}),er.loginConfig||(er.loginConfig={}),er.mfaSettings||(er.mfaSettings={}),er.storageServerUrl||(er.storageServerUrl=SESSION_SERVER),er.storageKey||(er.storageKey="local"),er.webauthnTransports||(er.webauthnTransports=["internal"]),er.sessionTime||(er.sessionTime=86400),this.options=er}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${version$2.split(".")[0]}`:`${this.options.sdkUrl}`}async init(){const er=getHashQueryParams(this.options.replaceUrlOnRedirect);er.sessionNamespace&&(this.options.sessionNamespace=er.sessionNamespace);const rr=this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey;this.currentStorage=BrowserStorage.getInstance(rr,this.options.storageKey);const nr=this.currentStorage.get("sessionId");if(this.sessionManager=new OpenloginSessionManager({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:nr}),(this.options.network===OPENLOGIN_NETWORK.TESTNET||this.options.network===OPENLOGIN_NETWORK.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==BUILD_ENV.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),er.error)throw this.dappState=er.state,LoginError.loginFailed(er.error);if(er.sessionId&&(this.currentStorage.set("sessionId",er.sessionId),this.sessionManager.sessionId=er.sessionId),this.sessionManager.sessionId){const ir=await this._authorizeSession();this.updateState(ir),Object.keys(ir).length===0&&this.currentStorage.set("sessionId","")}}async login(er){if(!er.loginProvider)throw LoginError.invalidLoginParams("loginProvider is required");const rr={redirectUrl:this.options.redirectUrl},nr=_objectSpread2(_objectSpread2({loginProvider:er.loginProvider},rr),er),ir={actionType:OPENLOGIN_ACTIONS.LOGIN,options:this.options,params:nr},or=await this.openloginHandler(`${this.baseUrl}/start`,ir,getTimeout(er.loginProvider));if(this.options.uxMode===UX_MODE.REDIRECT)return null;if(or.error)throw this.dappState=or.state,LoginError.loginFailed(or.error);return this.sessionManager.sessionId=or.sessionId,this.options.sessionNamespace=or.sessionNamespace,this.currentStorage.set("sessionId",or.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async logout(){if(!this.sessionManager.sessionId)throw LoginError.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",verifier:"",verifierId:"",aggregateVerifier:"",typeOfLogin:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(er){var rr;if(!this.sessionId)throw LoginError.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw LoginError.mfaAlreadyEnabled();const nr={redirectUrl:this.options.redirectUrl},ir={actionType:OPENLOGIN_ACTIONS.ENABLE_MFA,options:this.options,params:_objectSpread2(_objectSpread2(_objectSpread2({},nr),er),{},{loginProvider:this.state.userInfo.typeOfLogin,extraLoginOptions:{login_hint:this.state.userInfo.verifierId},mfaLevel:"mandatory"}),sessionId:this.sessionId},or=await this.openloginHandler(`${this.baseUrl}/start`,ir,getTimeout(ir.params.loginProvider));if(this.options.uxMode===UX_MODE.REDIRECT)return null;if(or.error)throw this.dappState=or.state,LoginError.loginFailed(or.error);return this.sessionManager.sessionId=or.sessionId,this.options.sessionNamespace=or.sessionNamespace,this.currentStorage.set("sessionId",or.sessionId),await this.rehydrateSession(),!!(!((rr=this.state.userInfo)===null||rr===void 0)&&rr.isMfaEnabled)}async manageMFA(er){if(!this.sessionId)throw LoginError.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw LoginError.mfaNotEnabled();const rr={redirectUrl:this.options.dashboardUrl,dappUrl:`${window.location.origin}${window.location.pathname}`},nr=OpenloginSessionManager.generateRandomSessionKey(),ir={actionType:OPENLOGIN_ACTIONS.MANAGE_MFA,options:this.options,params:_objectSpread2(_objectSpread2(_objectSpread2({},rr),er),{},{loginProvider:this.state.userInfo.typeOfLogin,extraLoginOptions:{login_hint:this.state.userInfo.verifierId},appState:jsonToBase64({loginId:nr})}),sessionId:this.sessionId};this.createLoginSession(nr,ir,ir.options.sessionTime,!0);const or={loginId:nr,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},sr=constructURL({baseURL:`${this.baseUrl}/start`,hash:{b64Params:jsonToBase64(or)}});window.open(sr,"_blank")}async changeSocialFactor(er){if(!this.sessionId)throw LoginError.userNotLoggedIn();const rr={redirectUrl:this.options.redirectUrl},nr={actionType:OPENLOGIN_ACTIONS.MODIFY_SOCIAL_FACTOR,options:this.options,params:_objectSpread2(_objectSpread2({},rr),er),sessionId:this.sessionId},ir=await this.openloginHandler(`${this.baseUrl}/start`,nr);if(this.options.uxMode!==UX_MODE.REDIRECT)return!ir.error}getUserInfo(){if(!this.sessionManager.sessionId)throw LoginError.userNotLoggedIn();return this.state.userInfo}async createLoginSession(er,rr){let nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:600,ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!this.sessionManager)throw InitializationError.notInitialized();const sr=new OpenloginSessionManager({sessionServerBaseUrl:rr.options.storageServerUrl,sessionNamespace:rr.options.sessionNamespace,sessionTime:nr,sessionId:er}).createSession(JSON.parse(JSON.stringify(rr)));rr.options.uxMode===UX_MODE.REDIRECT&&!ir&&await sr}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(er){return loglevel.error("authorization failed",er),{}}}updateState(er){this.state=_objectSpread2(_objectSpread2({},this.state),er)}async rehydrateSession(){const er=await this._authorizeSession();this.updateState(er)}async openloginHandler(er,rr){let nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e4;const ir=OpenloginSessionManager.generateRandomSessionKey();await this.createLoginSession(ir,rr);const or={loginId:ir,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===UX_MODE.REDIRECT){const cr=constructURL({baseURL:er,hash:{b64Params:jsonToBase64(or)}});window.location.href=cr;return}const sr=constructURL({baseURL:er,hash:{b64Params:jsonToBase64(or)}}),ar=new PopupHandler$1({url:sr,timeout:nr});return new Promise((cr,lr)=>{ar.on("close",()=>{lr(LoginError.popupClosed())}),ar.listenOnChannel(ir).then(cr).catch(lr);try{ar.open()}catch(ur){lr(ur)}})}}const getOpenloginDefaultOptions=()=>({adapterSettings:{network:OPENLOGIN_NETWORK.SAPPHIRE_MAINNET,clientId:"",uxMode:UX_MODE.POPUP},loginSettings:{},privateKeyProvider:void 0});class OpenloginAdapter extends BaseAdapter{constructor(er={}){super(er),_defineProperty(this,"name",WALLET_ADAPTERS.OPENLOGIN),_defineProperty(this,"adapterNamespace",ADAPTER_NAMESPACES.MULTICHAIN),_defineProperty(this,"type",ADAPTER_CATEGORY.IN_APP),_defineProperty(this,"openloginInstance",null),_defineProperty(this,"status",ADAPTER_STATUS.NOT_READY),_defineProperty(this,"currentChainNamespace",CHAIN_NAMESPACES.EIP155),_defineProperty(this,"privateKeyProvider",null),_defineProperty(this,"openloginOptions",void 0),_defineProperty(this,"loginSettings",{loginProvider:""}),this.setAdapterSettings(_objectSpread2(_objectSpread2({},er.adapterSettings),{},{chainConfig:er.chainConfig,clientId:er.clientId||"",sessionTime:er.sessionTime,web3AuthNetwork:er.web3AuthNetwork,useCoreKitKey:er.useCoreKitKey,privateKeyProvider:er.privateKeyProvider})),this.loginSettings=er.loginSettings||{loginProvider:""},this.privateKeyProvider=er.privateKeyProvider||null}get chainConfigProxy(){return this.chainConfig?_objectSpread2({},this.chainConfig):null}get provider(){return this.status!==ADAPTER_STATUS.NOT_READY&&this.privateKeyProvider?this.privateKeyProvider:null}set provider(er){throw new Error("Not implemented")}async init(er){if(super.checkInitializationRequirements(),!this.clientId)throw WalletInitializationError.invalidParams("clientId is required before openlogin's initialization");if(!this.openloginOptions)throw WalletInitializationError.invalidParams("openloginOptions is required before openlogin's initialization");const rr=this.openloginOptions.uxMode===UX_MODE.REDIRECT;if(this.openloginOptions=_objectSpread2(_objectSpread2({},this.openloginOptions),{},{replaceUrlOnRedirect:rr,useCoreKitKey:this.useCoreKitKey}),this.openloginInstance=new OpenLogin(_objectSpread2(_objectSpread2({},this.openloginOptions),{},{clientId:this.clientId,network:this.openloginOptions.network||this.web3AuthNetwork||OPENLOGIN_NETWORK.SAPPHIRE_MAINNET})),loglevel$1.debug("initializing openlogin adapter init"),await this.openloginInstance.init(),!this.chainConfig)throw WalletInitializationError.invalidParams("chainConfig is required before initialization");this.status=ADAPTER_STATUS.READY,this.emit(ADAPTER_EVENTS.READY,WALLET_ADAPTERS.OPENLOGIN);try{loglevel$1.debug("initializing openlogin adapter"),this._getFinalPrivKey()&&(er.autoConnect||rr)&&(this.rehydrated=!0,await this.connect())}catch(nr){loglevel$1.error("Failed to connect with cached openlogin provider",nr),this.emit("ERRORED",nr)}}async connect(er={loginProvider:""}){super.checkConnectionRequirements(),this.status=ADAPTER_STATUS.CONNECTING,this.emit(ADAPTER_EVENTS.CONNECTING,_objectSpread2(_objectSpread2({},er),{},{adapter:WALLET_ADAPTERS.OPENLOGIN}));try{return await this.connectWithProvider(er),this.provider}catch(rr){throw loglevel$1.error("Failed to connect with openlogin provider",rr),this.status=ADAPTER_STATUS.READY,this.emit(ADAPTER_EVENTS.ERRORED,rr),rr!=null&&rr.message.includes("user closed popup")?WalletLoginError.popupClosed():rr instanceof Web3AuthError?rr:WalletLoginError.connectionError("Failed to login with openlogin",rr)}}async enableMFA(er={loginProvider:""}){if(this.status!==ADAPTER_STATUS.CONNECTED)throw WalletLoginError.notConnectedError("Not connected with wallet");if(!this.openloginInstance)throw WalletInitializationError.notReady("openloginInstance is not ready");try{await this.openloginInstance.enableMFA(er)}catch(rr){throw loglevel$1.error("Failed to enable MFA with openlogin provider",rr),rr instanceof Web3AuthError?rr:WalletLoginError.connectionError("Failed to enable MFA with openlogin",rr)}}async disconnect(er={cleanup:!1}){if(this.status!==ADAPTER_STATUS.CONNECTED)throw WalletLoginError.notConnectedError("Not connected with wallet");if(!this.openloginInstance)throw WalletInitializationError.notReady("openloginInstance is not ready");await this.openloginInstance.logout(),er.cleanup?(this.status=ADAPTER_STATUS.NOT_READY,this.openloginInstance=null,this.privateKeyProvider=null):this.status=ADAPTER_STATUS.READY,this.rehydrated=!1,this.emit(ADAPTER_EVENTS.DISCONNECTED)}async authenticateUser(){if(this.status!==ADAPTER_STATUS.CONNECTED)throw WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==ADAPTER_STATUS.CONNECTED)throw WalletLoginError.notConnectedError("Not connected with wallet");if(!this.openloginInstance)throw WalletInitializationError.notReady("openloginInstance is not ready");return this.openloginInstance.getUserInfo()}setAdapterSettings(er){super.setAdapterSettings(er);const rr=getOpenloginDefaultOptions();loglevel$1.info("setting adapter settings",er),this.openloginOptions=merge(rr.adapterSettings,this.openloginOptions,er),er.web3AuthNetwork&&(this.openloginOptions.network=er.web3AuthNetwork),er.privateKeyProvider&&(this.privateKeyProvider=er.privateKeyProvider)}async addChain(er,rr=!1){var nr;super.checkAddChainRequirements(er,rr),(nr=this.privateKeyProvider)===null||nr===void 0||nr.addChain(er),this.addChainConfig(er)}async switchChain(er,rr=!1){var nr;super.checkSwitchChainRequirements(er,rr),await((nr=this.privateKeyProvider)===null||nr===void 0?void 0:nr.switchChain(er)),this.setAdapterSettings({chainConfig:this.getChainConfig(er.chainId)})}_getFinalPrivKey(){if(!this.openloginInstance)return"";let er=this.openloginInstance.privKey;if(this.useCoreKitKey){if(this.openloginInstance.privKey&&!this.openloginInstance.coreKitKey)throw WalletLoginError.coreKitKeyNotFound();er=this.openloginInstance.coreKitKey}return er}_getFinalEd25519PrivKey(){if(!this.openloginInstance)return"";let er=this.openloginInstance.ed25519PrivKey;if(this.useCoreKitKey){if(this.openloginInstance.ed25519PrivKey&&!this.openloginInstance.coreKitEd25519Key)throw WalletLoginError.coreKitKeyNotFound();er=this.openloginInstance.coreKitEd25519Key}return er}async connectWithProvider(er={loginProvider:""}){var rr;if(!this.privateKeyProvider)throw WalletInitializationError.invalidParams("PrivateKey Provider is required before initialization");if(!this.openloginInstance)throw WalletInitializationError.notReady("openloginInstance is not ready");if(!this._getFinalPrivKey()||(rr=er.extraLoginOptions)!==null&&rr!==void 0&&rr.id_token){var ir;if(this.loginSettings.curve||(this.loginSettings.curve=this.currentChainNamespace===CHAIN_NAMESPACES.SOLANA?SUPPORTED_KEY_CURVES.ED25519:SUPPORTED_KEY_CURVES.SECP256K1),!er.loginProvider&&!this.loginSettings.loginProvider)throw WalletInitializationError.invalidParams("loginProvider is required for login");await this.openloginInstance.login(merge(this.loginSettings,er,{extraLoginOptions:_objectSpread2(_objectSpread2({},er.extraLoginOptions||{}),{},{login_hint:er.login_hint||((ir=er.extraLoginOptions)===null||ir===void 0?void 0:ir.login_hint)})}))}let or=this._getFinalPrivKey();or&&(this.currentChainNamespace===CHAIN_NAMESPACES.SOLANA&&(or=this._getFinalEd25519PrivKey()),await this.privateKeyProvider.setupProvider(or),this.status=ADAPTER_STATUS.CONNECTED,this.emit(ADAPTER_EVENTS.CONNECTED,{adapter:WALLET_ADAPTERS.OPENLOGIN,reconnected:this.rehydrated,provider:this.provider}))}}var lodash_clonedeep={exports:{}};lodash_clonedeep.exports;(function(tr,er){var rr=200,nr="__lodash_hash_undefined__",ir=9007199254740991,or="[object Arguments]",sr="[object Array]",ar="[object Boolean]",cr="[object Date]",lr="[object Error]",ur="[object Function]",fr="[object GeneratorFunction]",dr="[object Map]",gr="[object Number]",br="[object Object]",vr="[object Promise]",$r="[object RegExp]",Er="[object Set]",_r="[object String]",xr="[object Symbol]",Ir="[object WeakMap]",Nr="[object ArrayBuffer]",Lr="[object DataView]",jr="[object Float32Array]",Or="[object Float64Array]",Dr="[object Int8Array]",Cr="[object Int16Array]",Tr="[object Int32Array]",yr="[object Uint8Array]",mr="[object Uint8ClampedArray]",hr="[object Uint16Array]",pr="[object Uint32Array]",wr=/[\\^$.*+?()[\]{}|]/g,Ar=/\w*$/,Rr=/^\[object .+?Constructor\]$/,Pr=/^(?:0|[1-9]\d*)$/,Sr={};Sr[or]=Sr[sr]=Sr[Nr]=Sr[Lr]=Sr[ar]=Sr[cr]=Sr[jr]=Sr[Or]=Sr[Dr]=Sr[Cr]=Sr[Tr]=Sr[dr]=Sr[gr]=Sr[br]=Sr[$r]=Sr[Er]=Sr[_r]=Sr[xr]=Sr[yr]=Sr[mr]=Sr[hr]=Sr[pr]=!0,Sr[lr]=Sr[ur]=Sr[Ir]=!1;var Mr=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Br=typeof self=="object"&&self&&self.Object===Object&&self,Ur=Mr||Br||Function("return this")(),Jr=er&&!er.nodeType&&er,qr=Jr&&!0&&tr&&!tr.nodeType&&tr,zr=qr&&qr.exports===Jr;function sn(Gr,Wr){return Gr.set(Wr[0],Wr[1]),Gr}function rn(Gr,Wr){return Gr.add(Wr),Gr}function tn(Gr,Wr){for(var nn=-1,mn=Gr?Gr.length:0;++nn<mn&&Wr(Gr[nn],nn,Gr)!==!1;);return Gr}function dn(Gr,Wr){for(var nn=-1,mn=Wr.length,qn=Gr.length;++nn<mn;)Gr[qn+nn]=Wr[nn];return Gr}function Yr(Gr,Wr,nn,mn){for(var qn=-1,Xn=Gr?Gr.length:0;++qn<Xn;)nn=Wr(nn,Gr[qn],qn,Gr);return nn}function Vr(Gr,Wr){for(var nn=-1,mn=Array(Gr);++nn<Gr;)mn[nn]=Wr(nn);return mn}function Qr(Gr,Wr){return Gr?.[Wr]}function un(Gr){var Wr=!1;if(Gr!=null&&typeof Gr.toString!="function")try{Wr=!!(Gr+"")}catch{}return Wr}function yn(Gr){var Wr=-1,nn=Array(Gr.size);return Gr.forEach(function(mn,qn){nn[++Wr]=[qn,mn]}),nn}function An(Gr,Wr){return function(nn){return Gr(Wr(nn))}}function Rn(Gr){var Wr=-1,nn=Array(Gr.size);return Gr.forEach(function(mn){nn[++Wr]=mn}),nn}var On=Array.prototype,xn=Function.prototype,Wn=Object.prototype,zn=Ur["__core-js_shared__"],Fn=function(){var Gr=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||"");return Gr?"Symbol(src)_1."+Gr:""}(),so=xn.toString,wn=Wn.hasOwnProperty,Sn=Wn.toString,Dn=RegExp("^"+so.call(wn).replace(wr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xr=zr?Ur.Buffer:void 0,Hr=Ur.Symbol,Kr=Ur.Uint8Array,fn=An(Object.getPrototypeOf,Object),vn=Object.create,$n=Wn.propertyIsEnumerable,Tn=On.splice,Jn=Object.getOwnPropertySymbols,io=Xr?Xr.isBuffer:void 0,Yn=An(Object.keys,Object),lo=Bo(Ur,"DataView"),ro=Bo(Ur,"Map"),ao=Bo(Ur,"Promise"),Mo=Bo(Ur,"Set"),Co=Bo(Ur,"WeakMap"),mo=Bo(Object,"create"),No=Ls(lo),Po=Ls(ro),fo=Ls(ao),ko=Ls(Mo),pn=Ls(Co),gn=Hr?Hr.prototype:void 0,Bn=gn?gn.valueOf:void 0;function Ln(Gr){var Wr=-1,nn=Gr?Gr.length:0;for(this.clear();++Wr<nn;){var mn=Gr[Wr];this.set(mn[0],mn[1])}}function Mn(){this.__data__=mo?mo(null):{}}function So(Gr){return this.has(Gr)&&delete this.__data__[Gr]}function Zr(Gr){var Wr=this.__data__;if(mo){var nn=Wr[Gr];return nn===nr?void 0:nn}return wn.call(Wr,Gr)?Wr[Gr]:void 0}function an(Gr){var Wr=this.__data__;return mo?Wr[Gr]!==void 0:wn.call(Wr,Gr)}function cn(Gr,Wr){var nn=this.__data__;return nn[Gr]=mo&&Wr===void 0?nr:Wr,this}Ln.prototype.clear=Mn,Ln.prototype.delete=So,Ln.prototype.get=Zr,Ln.prototype.has=an,Ln.prototype.set=cn;function Fr(Gr){var Wr=-1,nn=Gr?Gr.length:0;for(this.clear();++Wr<nn;){var mn=Gr[Wr];this.set(mn[0],mn[1])}}function hn(){this.__data__=[]}function En(Gr){var Wr=this.__data__,nn=no(Wr,Gr);if(nn<0)return!1;var mn=Wr.length-1;return nn==mn?Wr.pop():Tn.call(Wr,nn,1),!0}function Pn(Gr){var Wr=this.__data__,nn=no(Wr,Gr);return nn<0?void 0:Wr[nn][1]}function In(Gr){return no(this.__data__,Gr)>-1}function kn(Gr,Wr){var nn=this.__data__,mn=no(nn,Gr);return mn<0?nn.push([Gr,Wr]):nn[mn][1]=Wr,this}Fr.prototype.clear=hn,Fr.prototype.delete=En,Fr.prototype.get=Pn,Fr.prototype.has=In,Fr.prototype.set=kn;function Hn(Gr){var Wr=-1,nn=Gr?Gr.length:0;for(this.clear();++Wr<nn;){var mn=Gr[Wr];this.set(mn[0],mn[1])}}function Kn(){this.__data__={hash:new Ln,map:new(ro||Fr),string:new Ln}}function _o(Gr){return Vo(this,Gr).delete(Gr)}function Zn(Gr){return Vo(this,Gr).get(Gr)}function ho(Gr){return Vo(this,Gr).has(Gr)}function go(Gr,Wr){return Vo(this,Gr).set(Gr,Wr),this}Hn.prototype.clear=Kn,Hn.prototype.delete=_o,Hn.prototype.get=Zn,Hn.prototype.has=ho,Hn.prototype.set=go;function co(Gr){this.__data__=new Fr(Gr)}function bo(){this.__data__=new Fr}function uo(Gr){return this.__data__.delete(Gr)}function po(Gr){return this.__data__.get(Gr)}function yo(Gr){return this.__data__.has(Gr)}function to(Gr,Wr){var nn=this.__data__;if(nn instanceof Fr){var mn=nn.__data__;if(!ro||mn.length<rr-1)return mn.push([Gr,Wr]),this;nn=this.__data__=new Hn(mn)}return nn.set(Gr,Wr),this}co.prototype.clear=bo,co.prototype.delete=uo,co.prototype.get=po,co.prototype.has=yo,co.prototype.set=to;function oo(Gr,Wr){var nn=ga(Gr)||na(Gr)?Vr(Gr.length,String):[],mn=nn.length,qn=!!mn;for(var Xn in Gr)wn.call(Gr,Xn)&&!(qn&&(Xn=="length"||Yo(Xn,mn)))&&nn.push(Xn);return nn}function _i(Gr,Wr,nn){var mn=Gr[Wr];(!(wn.call(Gr,Wr)&&Al(mn,nn))||nn===void 0&&!(Wr in Gr))&&(Gr[Wr]=nn)}function no(Gr,Wr){for(var nn=Gr.length;nn--;)if(Al(Gr[nn][0],Wr))return nn;return-1}function eo(Gr,Wr){return Gr&&Ro(Wr,El(Wr),Gr)}function Qn(Gr,Wr,nn,mn,qn,Xn,wo){var $o;if(mn&&($o=Xn?mn(Gr,qn,Xn,wo):mn(Gr)),$o!==void 0)return $o;if(!Ws(Gr))return Gr;var xo=ga(Gr);if(xo){if($o=Wo(Gr),!Wr)return Uo(Gr,$o)}else{var Eo=Ho(Gr),Go=Eo==ur||Eo==fr;if(Ys(Gr))return Gn(Gr,Wr);if(Eo==br||Eo==or||Go&&!Xn){if(un(Gr))return Xn?Gr:{};if($o=Ko(Go?{}:Gr),!Wr)return Lo(Gr,eo($o,Gr))}else{if(!Sr[Eo])return Xn?Gr:{};$o=Jo(Gr,Eo,Qn,Wr)}}wo||(wo=new co);var qo=wo.get(Gr);if(qo)return qo;if(wo.set(Gr,$o),!xo)var zo=nn?Do(Gr):El(Gr);return tn(zo||Gr,function(Qo,Xo){zo&&(Xo=Qo,Qo=Gr[Xo]),_i($o,Xo,Qn(Qo,Wr,nn,mn,Xo,Gr,wo))}),$o}function Cn(Gr){return Ws(Gr)?vn(Gr):{}}function Nn(Gr,Wr,nn){var mn=Wr(Gr);return ga(Gr)?mn:dn(mn,nn(Gr))}function Vn(Gr){return Sn.call(Gr)}function jn(Gr){if(!Ws(Gr)||$a(Gr))return!1;var Wr=wl(Gr)||un(Gr)?Dn:Rr;return Wr.test(Ls(Gr))}function Un(Gr){if(!xa(Gr))return Yn(Gr);var Wr=[];for(var nn in Object(Gr))wn.call(Gr,nn)&&nn!="constructor"&&Wr.push(nn);return Wr}function Gn(Gr,Wr){if(Wr)return Gr.slice();var nn=new Gr.constructor(Gr.length);return Gr.copy(nn),nn}function vo(Gr){var Wr=new Gr.constructor(Gr.byteLength);return new Kr(Wr).set(new Kr(Gr)),Wr}function Ao(Gr,Wr){var nn=Wr?vo(Gr.buffer):Gr.buffer;return new Gr.constructor(nn,Gr.byteOffset,Gr.byteLength)}function Io(Gr,Wr,nn){var mn=Wr?nn(yn(Gr),!0):yn(Gr);return Yr(mn,sn,new Gr.constructor)}function To(Gr){var Wr=new Gr.constructor(Gr.source,Ar.exec(Gr));return Wr.lastIndex=Gr.lastIndex,Wr}function _n(Gr,Wr,nn){var mn=Wr?nn(Rn(Gr),!0):Rn(Gr);return Yr(mn,rn,new Gr.constructor)}function Oo(Gr){return Bn?Object(Bn.call(Gr)):{}}function jo(Gr,Wr){var nn=Wr?vo(Gr.buffer):Gr.buffer;return new Gr.constructor(nn,Gr.byteOffset,Gr.length)}function Uo(Gr,Wr){var nn=-1,mn=Gr.length;for(Wr||(Wr=Array(mn));++nn<mn;)Wr[nn]=Gr[nn];return Wr}function Ro(Gr,Wr,nn,mn){nn||(nn={});for(var qn=-1,Xn=Wr.length;++qn<Xn;){var wo=Wr[qn],$o=void 0;_i(nn,wo,$o===void 0?Gr[wo]:$o)}return nn}function Lo(Gr,Wr){return Ro(Gr,Fo(Gr),Wr)}function Do(Gr){return Nn(Gr,El,Fo)}function Vo(Gr,Wr){var nn=Gr.__data__;return Zo(Wr)?nn[typeof Wr=="string"?"string":"hash"]:nn.map}function Bo(Gr,Wr){var nn=Qr(Gr,Wr);return jn(nn)?nn:void 0}var Fo=Jn?An(Jn,Object):Tl,Ho=Vn;(lo&&Ho(new lo(new ArrayBuffer(1)))!=Lr||ro&&Ho(new ro)!=dr||ao&&Ho(ao.resolve())!=vr||Mo&&Ho(new Mo)!=Er||Co&&Ho(new Co)!=Ir)&&(Ho=function(Gr){var Wr=Sn.call(Gr),nn=Wr==br?Gr.constructor:void 0,mn=nn?Ls(nn):void 0;if(mn)switch(mn){case No:return Lr;case Po:return dr;case fo:return vr;case ko:return Er;case pn:return Ir}return Wr});function Wo(Gr){var Wr=Gr.length,nn=Gr.constructor(Wr);return Wr&&typeof Gr[0]=="string"&&wn.call(Gr,"index")&&(nn.index=Gr.index,nn.input=Gr.input),nn}function Ko(Gr){return typeof Gr.constructor=="function"&&!xa(Gr)?Cn(fn(Gr)):{}}function Jo(Gr,Wr,nn,mn){var qn=Gr.constructor;switch(Wr){case Nr:return vo(Gr);case ar:case cr:return new qn(+Gr);case Lr:return Ao(Gr,mn);case jr:case Or:case Dr:case Cr:case Tr:case yr:case mr:case hr:case pr:return jo(Gr,mn);case dr:return Io(Gr,mn,nn);case gr:case _r:return new qn(Gr);case $r:return To(Gr);case Er:return _n(Gr,mn,nn);case xr:return Oo(Gr)}}function Yo(Gr,Wr){return Wr=Wr??ir,!!Wr&&(typeof Gr=="number"||Pr.test(Gr))&&Gr>-1&&Gr%1==0&&Gr<Wr}function Zo(Gr){var Wr=typeof Gr;return Wr=="string"||Wr=="number"||Wr=="symbol"||Wr=="boolean"?Gr!=="__proto__":Gr===null}function $a(Gr){return!!Fn&&Fn in Gr}function xa(Gr){var Wr=Gr&&Gr.constructor,nn=typeof Wr=="function"&&Wr.prototype||Wn;return Gr===nn}function Ls(Gr){if(Gr!=null){try{return so.call(Gr)}catch{}try{return Gr+""}catch{}}return""}function _c(Gr){return Qn(Gr,!0,!0)}function Al(Gr,Wr){return Gr===Wr||Gr!==Gr&&Wr!==Wr}function na(Gr){return zs(Gr)&&wn.call(Gr,"callee")&&(!$n.call(Gr,"callee")||Sn.call(Gr)==or)}var ga=Array.isArray;function ba(Gr){return Gr!=null&&_l(Gr.length)&&!wl(Gr)}function zs(Gr){return $l(Gr)&&ba(Gr)}var Ys=io||xl;function wl(Gr){var Wr=Ws(Gr)?Sn.call(Gr):"";return Wr==ur||Wr==fr}function _l(Gr){return typeof Gr=="number"&&Gr>-1&&Gr%1==0&&Gr<=ir}function Ws(Gr){var Wr=typeof Gr;return!!Gr&&(Wr=="object"||Wr=="function")}function $l(Gr){return!!Gr&&typeof Gr=="object"}function El(Gr){return ba(Gr)?oo(Gr):Un(Gr)}function Tl(){return[]}function xl(){return!1}tr.exports=_c})(lodash_clonedeep,lodash_clonedeep.exports);var lodash_clonedeepExports=lodash_clonedeep.exports;const clonedeep=getDefaultExportFromCjs(lodash_clonedeepExports),ADAPTER_CACHE_KEY="Web3Auth-cachedAdapter";class Web3AuthNoModal extends SafeEventEmitter{constructor(er){var rr,nr,ir,or;if(super(),_defineProperty(this,"coreOptions",void 0),_defineProperty(this,"connectedAdapterName",null),_defineProperty(this,"status",ADAPTER_STATUS.NOT_READY),_defineProperty(this,"cachedAdapter",null),_defineProperty(this,"walletAdapters",{}),_defineProperty(this,"commonJRPCProvider",null),_defineProperty(this,"plugins",{}),_defineProperty(this,"storage","localStorage"),!er.clientId)throw WalletInitializationError.invalidParams("Please provide a valid clientId in constructor");if(er.enableLogging?loglevel$1.enableAll():loglevel$1.setLevel("error"),!er.privateKeyProvider&&!er.chainConfig)throw WalletInitializationError.invalidParams("Please provide chainConfig or privateKeyProvider");if(er.chainConfig=er.chainConfig||er.privateKeyProvider.currentChainConfig,!((rr=er.chainConfig)!==null&&rr!==void 0&&rr.chainNamespace)||!Object.values(CHAIN_NAMESPACES).includes((nr=er.chainConfig)===null||nr===void 0?void 0:nr.chainNamespace))throw WalletInitializationError.invalidParams("Please provide a valid chainNamespace in chainConfig");er.storageKey==="session"&&(this.storage="sessionStorage"),this.cachedAdapter=storageAvailable(this.storage)?window[this.storage].getItem(ADAPTER_CACHE_KEY):null,this.coreOptions=_objectSpread2(_objectSpread2({},er),{},{chainConfig:_objectSpread2(_objectSpread2({},getChainConfig((ir=er.chainConfig)===null||ir===void 0?void 0:ir.chainNamespace,(or=er.chainConfig)===null||or===void 0?void 0:or.chainId)||{}),er.chainConfig)}),this.subscribeToAdapterEvents=this.subscribeToAdapterEvents.bind(this)}get connected(){return!!this.connectedAdapterName}get provider(){return this.status!==ADAPTER_STATUS.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}set provider(er){throw new Error("Not implemented")}async init(){this.commonJRPCProvider=await CommonJRPCProvider.getProviderInstance({chainConfig:this.coreOptions.chainConfig});let er;try{er=await fetchProjectConfig(this.coreOptions.clientId,this.coreOptions.web3AuthNetwork)}catch(nr){throw loglevel$1.error("Failed to fetch project configurations",nr),WalletInitializationError.notReady("failed to fetch project configurations",nr)}const rr=Object.keys(this.walletAdapters).map(async nr=>{if(this.subscribeToAdapterEvents(this.walletAdapters[nr]),this.walletAdapters[nr].chainConfigProxy)this.walletAdapters[nr].setAdapterSettings({sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey});else{const ir=this.coreOptions.chainConfig;if(!ir.chainNamespace)throw WalletInitializationError.invalidParams("Please provide chainNamespace in chainConfig");this.walletAdapters[nr].setAdapterSettings({chainConfig:ir,sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey})}if(nr===WALLET_ADAPTERS.OPENLOGIN){const ir=this.walletAdapters[nr],{whitelabel:or}=er;this.coreOptions.uiConfig=merge(clonedeep(or),this.coreOptions.uiConfig),this.coreOptions.uiConfig.mode||(this.coreOptions.uiConfig.mode="light");const{sms_otp_enabled:sr,whitelist:ar}=er;if(sr!==void 0&&ir.setAdapterSettings({loginConfig:{[LOGIN_PROVIDER.SMS_PASSWORDLESS]:{showOnModal:sr,showOnDesktop:sr,showOnMobile:sr,showOnSocialBackupFactor:sr}}}),ar&&ir.setAdapterSettings({originData:ar.signed_urls}),this.coreOptions.privateKeyProvider){if(ir.currentChainNamespace!==this.coreOptions.privateKeyProvider.currentChainConfig.chainNamespace)throw WalletInitializationError.incompatibleChainNameSpace("private key provider is not compatible with provided chainNamespace for openlogin adapter");ir.setAdapterSettings({privateKeyProvider:this.coreOptions.privateKeyProvider})}if(ir.setAdapterSettings({whiteLabel:this.coreOptions.uiConfig}),!ir.privateKeyProvider)throw WalletInitializationError.invalidParams("privateKeyProvider is required for openlogin adapter")}else if(nr===WALLET_ADAPTERS.WALLET_CONNECT_V2){const ir=this.walletAdapters[nr],{wallet_connect_enabled:or,wallet_connect_project_id:sr}=er;if(or===!1)throw WalletInitializationError.invalidParams("Please enable wallet connect v2 addon on dashboard");if(!sr)throw WalletInitializationError.invalidParams("Invalid wallet connect project id. Please configure it on the dashboard");ir.setAdapterSettings({adapterSettings:{walletConnectInitOptions:{projectId:sr}}})}return this.walletAdapters[nr].init({autoConnect:this.cachedAdapter===nr}).catch(ir=>loglevel$1.error(ir,nr))});await Promise.all(rr),this.status===ADAPTER_STATUS.NOT_READY&&(this.status=ADAPTER_STATUS.READY,this.emit(ADAPTER_EVENTS.READY))}getAdapter(er){return this.walletAdapters[er]||null}configureAdapter(er){this.checkInitRequirements();const rr=this.coreOptions.chainConfig;if(!rr.chainNamespace)throw WalletInitializationError.invalidParams("Please provide chainNamespace in chainConfig");if(this.walletAdapters[er.name])throw WalletInitializationError.duplicateAdapterError(`Wallet adapter for ${er.name} already exists`);if(er.adapterNamespace!==ADAPTER_NAMESPACES.MULTICHAIN&&er.adapterNamespace!==rr.chainNamespace)throw WalletInitializationError.incompatibleChainNameSpace(`This wallet adapter belongs to ${er.adapterNamespace} which is incompatible with currently used namespace: ${rr.chainNamespace}`);return er.adapterNamespace===ADAPTER_NAMESPACES.MULTICHAIN&&er.currentChainNamespace&&rr.chainNamespace!==er.currentChainNamespace&&er.setAdapterSettings({chainConfig:rr}),this.walletAdapters[er.name]=er,this}clearCache(){storageAvailable(this.storage)&&(window[this.storage].removeItem(ADAPTER_CACHE_KEY),this.cachedAdapter=null)}async addChain(er){if(this.status===ADAPTER_STATUS.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].addChain(er);if(this.commonJRPCProvider)return this.commonJRPCProvider.addChain(er);throw WalletInitializationError.notReady("No wallet is ready")}async switchChain(er){if(this.status===ADAPTER_STATUS.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].switchChain(er);if(this.commonJRPCProvider)return this.commonJRPCProvider.switchChain(er);throw WalletInitializationError.notReady("No wallet is ready")}async connectTo(er,rr){if(!this.walletAdapters[er]||!this.commonJRPCProvider)throw WalletInitializationError.notFound(`Please add wallet adapter for ${er} wallet, before connecting`);const nr=await this.walletAdapters[er].connect(rr);return this.commonJRPCProvider.updateProviderEngineProxy(nr.provider||nr),this.provider}async logout(er={cleanup:!1}){if(this.status!==ADAPTER_STATUS.CONNECTED||!this.connectedAdapterName)throw WalletLoginError.notConnectedError("No wallet is connected");await this.walletAdapters[this.connectedAdapterName].disconnect(er)}async getUserInfo(){if(loglevel$1.debug("Getting user info",this.status,this.connectedAdapterName),this.status!==ADAPTER_STATUS.CONNECTED||!this.connectedAdapterName)throw WalletLoginError.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].getUserInfo()}async enableMFA(er){if(this.status!==ADAPTER_STATUS.CONNECTED||!this.connectedAdapterName)throw WalletLoginError.notConnectedError("No wallet is connected");if(this.connectedAdapterName!==WALLET_ADAPTERS.OPENLOGIN)throw WalletLoginError.unsupportedOperation("EnableMFA is not supported for this adapter.");return this.walletAdapters[this.connectedAdapterName].enableMFA(er)}async authenticateUser(){if(this.status!==ADAPTER_STATUS.CONNECTED||!this.connectedAdapterName)throw WalletLoginError.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].authenticateUser()}addPlugin(er){if(this.plugins[er.name])throw WalletInitializationError.duplicateAdapterError(`Plugin ${er.name} already exist`);if(er.pluginNamespace!==PLUGIN_NAMESPACES.MULTICHAIN&&er.pluginNamespace!==this.coreOptions.chainConfig.chainNamespace)throw WalletInitializationError.incompatibleChainNameSpace(`This plugin belongs to ${er.pluginNamespace} namespace which is incompatible with currently used namespace: ${this.coreOptions.chainConfig.chainNamespace}`);return this.plugins[er.name]=er,this.status===ADAPTER_STATUS.CONNECTED&&this.connectedAdapterName&&this.connectToPlugins({adapter:this.connectedAdapterName}),this}getPlugin(er){return this.plugins[er]||null}subscribeToAdapterEvents(er){er.on(ADAPTER_EVENTS.CONNECTED,async rr=>{if(!this.commonJRPCProvider)throw WalletInitializationError.notFound("CommonJrpcProvider not found");const{provider:nr}=rr;this.commonJRPCProvider.updateProviderEngineProxy(nr.provider||nr),this.status=ADAPTER_STATUS.CONNECTED,this.connectedAdapterName=rr.adapter,this.cacheWallet(rr.adapter),loglevel$1.debug("connected",this.status,this.connectedAdapterName),this.connectToPlugins(rr),this.emit(ADAPTER_EVENTS.CONNECTED,_objectSpread2({},rr))}),er.on(ADAPTER_EVENTS.DISCONNECTED,async rr=>{if(this.status=ADAPTER_STATUS.READY,storageAvailable(this.storage)){const nr=window[this.storage].getItem(ADAPTER_CACHE_KEY);this.connectedAdapterName===nr&&this.clearCache()}loglevel$1.debug("disconnected",this.status,this.connectedAdapterName),await Promise.all(Object.values(this.plugins).map(nr=>nr.disconnect().catch(ir=>{ir.code!==5211&&loglevel$1.error(ir)}))),this.connectedAdapterName=null,this.emit(ADAPTER_EVENTS.DISCONNECTED,rr)}),er.on(ADAPTER_EVENTS.CONNECTING,rr=>{this.status=ADAPTER_STATUS.CONNECTING,this.emit(ADAPTER_EVENTS.CONNECTING,rr),loglevel$1.debug("connecting",this.status,this.connectedAdapterName)}),er.on(ADAPTER_EVENTS.ERRORED,rr=>{this.status=ADAPTER_STATUS.ERRORED,this.clearCache(),this.emit(ADAPTER_EVENTS.ERRORED,rr),loglevel$1.debug("errored",this.status,this.connectedAdapterName)}),er.on(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED,rr=>{loglevel$1.debug("adapter data updated",rr),this.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED,rr)}),er.on(ADAPTER_EVENTS.CACHE_CLEAR,rr=>{loglevel$1.debug("adapter cache clear",rr),storageAvailable(this.storage)&&this.clearCache()})}checkInitRequirements(){if(this.status===ADAPTER_STATUS.CONNECTING)throw WalletInitializationError.notReady("Already pending connection");if(this.status===ADAPTER_STATUS.CONNECTED)throw WalletInitializationError.notReady("Already connected");if(this.status===ADAPTER_STATUS.READY)throw WalletInitializationError.notReady("Adapter is already initialized")}cacheWallet(er){storageAvailable(this.storage)&&(window[this.storage].setItem(ADAPTER_CACHE_KEY,er),this.cachedAdapter=er)}connectToPlugins(er){Object.values(this.plugins).map(async rr=>{try{if(!rr.SUPPORTED_ADAPTERS.includes(er.adapter)||rr.status===PLUGIN_STATUS.CONNECTED)return;const{openloginInstance:nr}=this.walletAdapters[this.connectedAdapterName],{options:ir,sessionId:or,sessionNamespace:sr}=nr||{};await rr.initWithWeb3Auth(this,ir.whiteLabel),await rr.connect({sessionId:or,sessionNamespace:sr})}catch(nr){if(nr.code===5211)return;loglevel$1.error(nr)}})}}const warn=(...tr)=>{console?.warn&&(isString(tr[0])&&(tr[0]=`react-i18next:: ${tr[0]}`),console.warn(...tr))},alreadyWarned={},warnOnce=(...tr)=>{isString(tr[0])&&alreadyWarned[tr[0]]||(isString(tr[0])&&(alreadyWarned[tr[0]]=new Date),warn(...tr))},loadedClb=(tr,er)=>()=>{if(tr.isInitialized)er();else{const rr=()=>{setTimeout(()=>{tr.off("initialized",rr)},0),er()};tr.on("initialized",rr)}},loadNamespaces=(tr,er,rr)=>{tr.loadNamespaces(er,loadedClb(tr,rr))},loadLanguages=(tr,er,rr,nr)=>{isString(rr)&&(rr=[rr]),rr.forEach(ir=>{tr.options.ns.indexOf(ir)<0&&tr.options.ns.push(ir)}),tr.loadLanguages(er,loadedClb(tr,nr))},hasLoadedNamespace=(tr,er,rr={})=>!er.languages||!er.languages.length?(warnOnce("i18n.languages were undefined or empty",er.languages),!0):er.hasLoadedNamespace(tr,{lng:rr.lng,precheck:(nr,ir)=>{if(rr.bindI18n?.indexOf("languageChanging")>-1&&nr.services.backendConnector.backend&&nr.isLanguageChangingTo&&!ir(nr.isLanguageChangingTo,tr))return!1}}),isString=tr=>typeof tr=="string",isObject=tr=>typeof tr=="object"&&tr!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=tr=>htmlEntities[tr],unescape=tr=>tr.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};const setDefaults=(tr={})=>{defaultOptions={...defaultOptions,...tr}},getDefaults=()=>defaultOptions;let i18nInstance$1;const setI18n=tr=>{i18nInstance$1=tr},getI18n=()=>i18nInstance$1,initReactI18next={type:"3rdParty",init(tr){setDefaults(tr.options.react),setI18n(tr)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(er){er.forEach(rr=>{this.usedNamespaces[rr]??=!0})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious=(tr,er)=>{const rr=reactExports.useRef();return reactExports.useEffect(()=>{rr.current=tr},[tr,er]),rr.current},alwaysNewT=(tr,er,rr,nr)=>tr.getFixedT(er,rr,nr),useMemoizedT=(tr,er,rr,nr)=>reactExports.useCallback(alwaysNewT(tr,er,rr,nr),[tr,er,rr,nr]),useTranslation=(tr,er={})=>{const{i18n:rr}=er,{i18n:nr,defaultNS:ir}=reactExports.useContext(I18nContext)||{},or=rr||nr||getI18n();if(or&&!or.reportNamespaces&&(or.reportNamespaces=new ReportNamespaces),!or){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const Ir=(Lr,jr)=>isString(jr)?jr:isObject(jr)&&isString(jr.defaultValue)?jr.defaultValue:Array.isArray(Lr)?Lr[Lr.length-1]:Lr,Nr=[Ir,{},!1];return Nr.t=Ir,Nr.i18n={},Nr.ready=!1,Nr}or.options.react?.wait&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const sr={...getDefaults(),...or.options.react,...er},{useSuspense:ar,keyPrefix:cr}=sr;let lr=ir||or.options?.defaultNS;lr=isString(lr)?[lr]:lr||["translation"],or.reportNamespaces.addUsedNamespaces?.(lr);const ur=(or.isInitialized||or.initializedStoreOnce)&&lr.every(Ir=>hasLoadedNamespace(Ir,or,sr)),fr=useMemoizedT(or,er.lng||null,sr.nsMode==="fallback"?lr:lr[0],cr),dr=()=>fr,gr=()=>alwaysNewT(or,er.lng||null,sr.nsMode==="fallback"?lr:lr[0],cr),[br,vr]=reactExports.useState(dr);let $r=lr.join();er.lng&&($r=`${er.lng}${$r}`);const Er=usePrevious($r),_r=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:Ir,bindI18nStore:Nr}=sr;_r.current=!0,!ur&&!ar&&(er.lng?loadLanguages(or,er.lng,lr,()=>{_r.current&&vr(gr)}):loadNamespaces(or,lr,()=>{_r.current&&vr(gr)})),ur&&Er&&Er!==$r&&_r.current&&vr(gr);const Lr=()=>{_r.current&&vr(gr)};return Ir&&or?.on(Ir,Lr),Nr&&or?.store.on(Nr,Lr),()=>{_r.current=!1,or&&Ir?.split(" ").forEach(jr=>or.off(jr,Lr)),Nr&&or&&Nr.split(" ").forEach(jr=>or.store.off(jr,Lr))}},[or,$r]),reactExports.useEffect(()=>{_r.current&&ur&&vr(dr)},[or,cr,ur]);const xr=[br,or,ur];if(xr.t=br,xr.i18n=or,xr.ready=ur,ur||!ur&&!ar)return xr;throw new Promise(Ir=>{er.lng?loadLanguages(or,er.lng,lr,()=>Ir()):loadNamespaces(or,lr,()=>Ir())})},consoleLogger={type:"logger",log(tr){this.output("log",tr)},warn(tr){this.output("warn",tr)},error(tr){this.output("error",tr)},output(tr,er){console&&console[tr]&&console[tr].apply(console,er)}};class Logger{constructor(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(er,rr)}init(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=rr.prefix||"i18next:",this.logger=er||consoleLogger,this.options=rr,this.debug=rr.debug}log(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];return this.forward(rr,"log","",!0)}warn(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];return this.forward(rr,"warn","",!0)}error(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];return this.forward(rr,"error","")}deprecate(){for(var er=arguments.length,rr=new Array(er),nr=0;nr<er;nr++)rr[nr]=arguments[nr];return this.forward(rr,"warn","WARNING DEPRECATED: ",!0)}forward(er,rr,nr,ir){return ir&&!this.debug?null:(typeof er[0]=="string"&&(er[0]=`${nr}${this.prefix} ${er[0]}`),this.logger[rr](er))}create(er){return new Logger(this.logger,{prefix:`${this.prefix}:${er}:`,...this.options})}clone(er){return er=er||this.options,er.prefix=er.prefix||this.prefix,new Logger(this.logger,er)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(er,rr){return er.split(" ").forEach(nr=>{this.observers[nr]||(this.observers[nr]=new Map);const ir=this.observers[nr].get(rr)||0;this.observers[nr].set(rr,ir+1)}),this}off(er,rr){if(this.observers[er]){if(!rr){delete this.observers[er];return}this.observers[er].delete(rr)}}emit(er){for(var rr=arguments.length,nr=new Array(rr>1?rr-1:0),ir=1;ir<rr;ir++)nr[ir-1]=arguments[ir];this.observers[er]&&Array.from(this.observers[er].entries()).forEach(sr=>{let[ar,cr]=sr;for(let lr=0;lr<cr;lr++)ar(...nr)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(sr=>{let[ar,cr]=sr;for(let lr=0;lr<cr;lr++)ar.apply(ar,[er,...nr])})}}const defer=()=>{let tr,er;const rr=new Promise((nr,ir)=>{tr=nr,er=ir});return rr.resolve=tr,rr.reject=er,rr},makeString=tr=>tr==null?"":""+tr,copy$1=(tr,er,rr)=>{tr.forEach(nr=>{er[nr]&&(rr[nr]=er[nr])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=tr=>tr&&tr.indexOf("###")>-1?tr.replace(lastOfPathSeparatorRegExp,"."):tr,canNotTraverseDeeper=tr=>!tr||typeof tr=="string",getLastOfPath=(tr,er,rr)=>{const nr=typeof er!="string"?er:er.split(".");let ir=0;for(;ir<nr.length-1;){if(canNotTraverseDeeper(tr))return{};const or=cleanKey(nr[ir]);!tr[or]&&rr&&(tr[or]=new rr),Object.prototype.hasOwnProperty.call(tr,or)?tr=tr[or]:tr={},++ir}return canNotTraverseDeeper(tr)?{}:{obj:tr,k:cleanKey(nr[ir])}},setPath=(tr,er,rr)=>{const{obj:nr,k:ir}=getLastOfPath(tr,er,Object);if(nr!==void 0||er.length===1){nr[ir]=rr;return}let or=er[er.length-1],sr=er.slice(0,er.length-1),ar=getLastOfPath(tr,sr,Object);for(;ar.obj===void 0&&sr.length;)or=`${sr[sr.length-1]}.${or}`,sr=sr.slice(0,sr.length-1),ar=getLastOfPath(tr,sr,Object),ar&&ar.obj&&typeof ar.obj[`${ar.k}.${or}`]<"u"&&(ar.obj=void 0);ar.obj[`${ar.k}.${or}`]=rr},pushPath=(tr,er,rr,nr)=>{const{obj:ir,k:or}=getLastOfPath(tr,er,Object);ir[or]=ir[or]||[],ir[or].push(rr)},getPath=(tr,er)=>{const{obj:rr,k:nr}=getLastOfPath(tr,er);if(rr)return rr[nr]},getPathWithDefaults=(tr,er,rr)=>{const nr=getPath(tr,rr);return nr!==void 0?nr:getPath(er,rr)},deepExtend=(tr,er,rr)=>{for(const nr in er)nr!=="__proto__"&&nr!=="constructor"&&(nr in tr?typeof tr[nr]=="string"||tr[nr]instanceof String||typeof er[nr]=="string"||er[nr]instanceof String?rr&&(tr[nr]=er[nr]):deepExtend(tr[nr],er[nr],rr):tr[nr]=er[nr]);return tr},regexEscape=tr=>tr.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=tr=>typeof tr=="string"?tr.replace(/[&<>"'\/]/g,er=>_entityMap[er]):tr;class RegExpCache{constructor(er){this.capacity=er,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(er){const rr=this.regExpMap.get(er);if(rr!==void 0)return rr;const nr=new RegExp(er);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(er,nr),this.regExpQueue.push(er),nr}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(tr,er,rr)=>{er=er||"",rr=rr||"";const nr=chars.filter(sr=>er.indexOf(sr)<0&&rr.indexOf(sr)<0);if(nr.length===0)return!0;const ir=looksLikeObjectPathRegExpCache.getRegExp(`(${nr.map(sr=>sr==="?"?"\\?":sr).join("|")})`);let or=!ir.test(tr);if(!or){const sr=tr.indexOf(rr);sr>0&&!ir.test(tr.substring(0,sr))&&(or=!0)}return or},deepFind=function(tr,er){let rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!tr)return;if(tr[er])return tr[er];const nr=er.split(rr);let ir=tr;for(let or=0;or<nr.length;){if(!ir||typeof ir!="object")return;let sr,ar="";for(let cr=or;cr<nr.length;++cr)if(cr!==or&&(ar+=rr),ar+=nr[cr],sr=ir[ar],sr!==void 0){if(["string","number","boolean"].indexOf(typeof sr)>-1&&cr<nr.length-1)continue;or+=cr-or+1;break}ir=sr}return ir},getCleanedCode=tr=>tr&&tr.indexOf("_")>0?tr.replace("_","-"):tr;class ResourceStore extends EventEmitter{constructor(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=er||{},this.options=rr,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(er){this.options.ns.indexOf(er)<0&&this.options.ns.push(er)}removeNamespaces(er){const rr=this.options.ns.indexOf(er);rr>-1&&this.options.ns.splice(rr,1)}getResource(er,rr,nr){let ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const or=ir.keySeparator!==void 0?ir.keySeparator:this.options.keySeparator,sr=ir.ignoreJSONStructure!==void 0?ir.ignoreJSONStructure:this.options.ignoreJSONStructure;let ar;er.indexOf(".")>-1?ar=er.split("."):(ar=[er,rr],nr&&(Array.isArray(nr)?ar.push(...nr):typeof nr=="string"&&or?ar.push(...nr.split(or)):ar.push(nr)));const cr=getPath(this.data,ar);return!cr&&!rr&&!nr&&er.indexOf(".")>-1&&(er=ar[0],rr=ar[1],nr=ar.slice(2).join(".")),cr||!sr||typeof nr!="string"?cr:deepFind(this.data&&this.data[er]&&this.data[er][rr],nr,or)}addResource(er,rr,nr,ir){let or=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const sr=or.keySeparator!==void 0?or.keySeparator:this.options.keySeparator;let ar=[er,rr];nr&&(ar=ar.concat(sr?nr.split(sr):nr)),er.indexOf(".")>-1&&(ar=er.split("."),ir=rr,rr=ar[1]),this.addNamespaces(rr),setPath(this.data,ar,ir),or.silent||this.emit("added",er,rr,nr,ir)}addResources(er,rr,nr){let ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const or in nr)(typeof nr[or]=="string"||Array.isArray(nr[or]))&&this.addResource(er,rr,or,nr[or],{silent:!0});ir.silent||this.emit("added",er,rr,nr)}addResourceBundle(er,rr,nr,ir,or){let sr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},ar=[er,rr];er.indexOf(".")>-1&&(ar=er.split("."),ir=nr,nr=rr,rr=ar[1]),this.addNamespaces(rr);let cr=getPath(this.data,ar)||{};sr.skipCopy||(nr=JSON.parse(JSON.stringify(nr))),ir?deepExtend(cr,nr,or):cr={...cr,...nr},setPath(this.data,ar,cr),sr.silent||this.emit("added",er,rr,nr)}removeResourceBundle(er,rr){this.hasResourceBundle(er,rr)&&delete this.data[er][rr],this.removeNamespaces(rr),this.emit("removed",er,rr)}hasResourceBundle(er,rr){return this.getResource(er,rr)!==void 0}getResourceBundle(er,rr){return rr||(rr=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(er,rr)}:this.getResource(er,rr)}getDataByLanguage(er){return this.data[er]}hasLanguageSomeTranslations(er){const rr=this.getDataByLanguage(er);return!!(rr&&Object.keys(rr)||[]).find(ir=>rr[ir]&&Object.keys(rr[ir]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(tr){this.processors[tr.name]=tr},handle(tr,er,rr,nr,ir){return tr.forEach(or=>{this.processors[or]&&(er=this.processors[or].process(er,rr,nr,ir))}),er}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy$1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],er,this),this.options=rr,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(er){er&&(this.language=er)}exists(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(er==null)return!1;const nr=this.resolve(er,rr);return nr&&nr.res!==void 0}extractFromKey(er,rr){let nr=rr.nsSeparator!==void 0?rr.nsSeparator:this.options.nsSeparator;nr===void 0&&(nr=":");const ir=rr.keySeparator!==void 0?rr.keySeparator:this.options.keySeparator;let or=rr.ns||this.options.defaultNS||[];const sr=nr&&er.indexOf(nr)>-1,ar=!this.options.userDefinedKeySeparator&&!rr.keySeparator&&!this.options.userDefinedNsSeparator&&!rr.nsSeparator&&!looksLikeObjectPath(er,nr,ir);if(sr&&!ar){const cr=er.match(this.interpolator.nestingRegexp);if(cr&&cr.length>0)return{key:er,namespaces:or};const lr=er.split(nr);(nr!==ir||nr===ir&&this.options.ns.indexOf(lr[0])>-1)&&(or=lr.shift()),er=lr.join(ir)}return typeof or=="string"&&(or=[or]),{key:er,namespaces:or}}translate(er,rr,nr){if(typeof rr!="object"&&this.options.overloadTranslationOptionHandler&&(rr=this.options.overloadTranslationOptionHandler(arguments)),typeof rr=="object"&&(rr={...rr}),rr||(rr={}),er==null)return"";Array.isArray(er)||(er=[String(er)]);const ir=rr.returnDetails!==void 0?rr.returnDetails:this.options.returnDetails,or=rr.keySeparator!==void 0?rr.keySeparator:this.options.keySeparator,{key:sr,namespaces:ar}=this.extractFromKey(er[er.length-1],rr),cr=ar[ar.length-1],lr=rr.lng||this.language,ur=rr.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(lr&&lr.toLowerCase()==="cimode"){if(ur){const Ir=rr.nsSeparator||this.options.nsSeparator;return ir?{res:`${cr}${Ir}${sr}`,usedKey:sr,exactUsedKey:sr,usedLng:lr,usedNS:cr,usedParams:this.getUsedParamsDetails(rr)}:`${cr}${Ir}${sr}`}return ir?{res:sr,usedKey:sr,exactUsedKey:sr,usedLng:lr,usedNS:cr,usedParams:this.getUsedParamsDetails(rr)}:sr}const fr=this.resolve(er,rr);let dr=fr&&fr.res;const gr=fr&&fr.usedKey||sr,br=fr&&fr.exactUsedKey||sr,vr=Object.prototype.toString.apply(dr),$r=["[object Number]","[object Function]","[object RegExp]"],Er=rr.joinArrays!==void 0?rr.joinArrays:this.options.joinArrays,_r=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_r&&dr&&(typeof dr!="string"&&typeof dr!="boolean"&&typeof dr!="number")&&$r.indexOf(vr)<0&&!(typeof Er=="string"&&Array.isArray(dr))){if(!rr.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Ir=this.options.returnedObjectHandler?this.options.returnedObjectHandler(gr,dr,{...rr,ns:ar}):`key '${sr} (${this.language})' returned an object instead of string.`;return ir?(fr.res=Ir,fr.usedParams=this.getUsedParamsDetails(rr),fr):Ir}if(or){const Ir=Array.isArray(dr),Nr=Ir?[]:{},Lr=Ir?br:gr;for(const jr in dr)if(Object.prototype.hasOwnProperty.call(dr,jr)){const Or=`${Lr}${or}${jr}`;Nr[jr]=this.translate(Or,{...rr,joinArrays:!1,ns:ar}),Nr[jr]===Or&&(Nr[jr]=dr[jr])}dr=Nr}}else if(_r&&typeof Er=="string"&&Array.isArray(dr))dr=dr.join(Er),dr&&(dr=this.extendTranslation(dr,er,rr,nr));else{let Ir=!1,Nr=!1;const Lr=rr.count!==void 0&&typeof rr.count!="string",jr=Translator.hasDefaultValue(rr),Or=Lr?this.pluralResolver.getSuffix(lr,rr.count,rr):"",Dr=rr.ordinal&&Lr?this.pluralResolver.getSuffix(lr,rr.count,{ordinal:!1}):"",Cr=Lr&&!rr.ordinal&&rr.count===0&&this.pluralResolver.shouldUseIntlApi(),Tr=Cr&&rr[`defaultValue${this.options.pluralSeparator}zero`]||rr[`defaultValue${Or}`]||rr[`defaultValue${Dr}`]||rr.defaultValue;!this.isValidLookup(dr)&&jr&&(Ir=!0,dr=Tr),this.isValidLookup(dr)||(Nr=!0,dr=sr);const mr=(rr.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Nr?void 0:dr,hr=jr&&Tr!==dr&&this.options.updateMissing;if(Nr||Ir||hr){if(this.logger.log(hr?"updateKey":"missingKey",lr,cr,sr,hr?Tr:dr),or){const Rr=this.resolve(sr,{...rr,keySeparator:!1});Rr&&Rr.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let pr=[];const wr=this.languageUtils.getFallbackCodes(this.options.fallbackLng,rr.lng||this.language);if(this.options.saveMissingTo==="fallback"&&wr&&wr[0])for(let Rr=0;Rr<wr.length;Rr++)pr.push(wr[Rr]);else this.options.saveMissingTo==="all"?pr=this.languageUtils.toResolveHierarchy(rr.lng||this.language):pr.push(rr.lng||this.language);const Ar=(Rr,Pr,Sr)=>{const Mr=jr&&Sr!==dr?Sr:mr;this.options.missingKeyHandler?this.options.missingKeyHandler(Rr,cr,Pr,Mr,hr,rr):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Rr,cr,Pr,Mr,hr,rr),this.emit("missingKey",Rr,cr,Pr,dr)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Lr?pr.forEach(Rr=>{const Pr=this.pluralResolver.getSuffixes(Rr,rr);Cr&&rr[`defaultValue${this.options.pluralSeparator}zero`]&&Pr.indexOf(`${this.options.pluralSeparator}zero`)<0&&Pr.push(`${this.options.pluralSeparator}zero`),Pr.forEach(Sr=>{Ar([Rr],sr+Sr,rr[`defaultValue${Sr}`]||Tr)})}):Ar(pr,sr,Tr))}dr=this.extendTranslation(dr,er,rr,fr,nr),Nr&&dr===sr&&this.options.appendNamespaceToMissingKey&&(dr=`${cr}:${sr}`),(Nr||Ir)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?dr=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${cr}:${sr}`:sr,Ir?dr:void 0):dr=this.options.parseMissingKeyHandler(dr))}return ir?(fr.res=dr,fr.usedParams=this.getUsedParamsDetails(rr),fr):dr}extendTranslation(er,rr,nr,ir,or){var sr=this;if(this.i18nFormat&&this.i18nFormat.parse)er=this.i18nFormat.parse(er,{...this.options.interpolation.defaultVariables,...nr},nr.lng||this.language||ir.usedLng,ir.usedNS,ir.usedKey,{resolved:ir});else if(!nr.skipInterpolation){nr.interpolation&&this.interpolator.init({...nr,interpolation:{...this.options.interpolation,...nr.interpolation}});const lr=typeof er=="string"&&(nr&&nr.interpolation&&nr.interpolation.skipOnVariables!==void 0?nr.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let ur;if(lr){const dr=er.match(this.interpolator.nestingRegexp);ur=dr&&dr.length}let fr=nr.replace&&typeof nr.replace!="string"?nr.replace:nr;if(this.options.interpolation.defaultVariables&&(fr={...this.options.interpolation.defaultVariables,...fr}),er=this.interpolator.interpolate(er,fr,nr.lng||this.language||ir.usedLng,nr),lr){const dr=er.match(this.interpolator.nestingRegexp),gr=dr&&dr.length;ur<gr&&(nr.nest=!1)}!nr.lng&&this.options.compatibilityAPI!=="v1"&&ir&&ir.res&&(nr.lng=this.language||ir.usedLng),nr.nest!==!1&&(er=this.interpolator.nest(er,function(){for(var dr=arguments.length,gr=new Array(dr),br=0;br<dr;br++)gr[br]=arguments[br];return or&&or[0]===gr[0]&&!nr.context?(sr.logger.warn(`It seems you are nesting recursively key: ${gr[0]} in key: ${rr[0]}`),null):sr.translate(...gr,rr)},nr)),nr.interpolation&&this.interpolator.reset()}const ar=nr.postProcess||this.options.postProcess,cr=typeof ar=="string"?[ar]:ar;return er!=null&&cr&&cr.length&&nr.applyPostProcessor!==!1&&(er=postProcessor.handle(cr,er,rr,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...ir,usedParams:this.getUsedParamsDetails(nr)},...nr}:nr,this)),er}resolve(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nr,ir,or,sr,ar;return typeof er=="string"&&(er=[er]),er.forEach(cr=>{if(this.isValidLookup(nr))return;const lr=this.extractFromKey(cr,rr),ur=lr.key;ir=ur;let fr=lr.namespaces;this.options.fallbackNS&&(fr=fr.concat(this.options.fallbackNS));const dr=rr.count!==void 0&&typeof rr.count!="string",gr=dr&&!rr.ordinal&&rr.count===0&&this.pluralResolver.shouldUseIntlApi(),br=rr.context!==void 0&&(typeof rr.context=="string"||typeof rr.context=="number")&&rr.context!=="",vr=rr.lngs?rr.lngs:this.languageUtils.toResolveHierarchy(rr.lng||this.language,rr.fallbackLng);fr.forEach($r=>{this.isValidLookup(nr)||(ar=$r,!checkedLoadedFor[`${vr[0]}-${$r}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(ar)&&(checkedLoadedFor[`${vr[0]}-${$r}`]=!0,this.logger.warn(`key "${ir}" for languages "${vr.join(", ")}" won't get resolved as namespace "${ar}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),vr.forEach(Er=>{if(this.isValidLookup(nr))return;sr=Er;const _r=[ur];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_r,ur,Er,$r,rr);else{let Ir;dr&&(Ir=this.pluralResolver.getSuffix(Er,rr.count,rr));const Nr=`${this.options.pluralSeparator}zero`,Lr=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(dr&&(_r.push(ur+Ir),rr.ordinal&&Ir.indexOf(Lr)===0&&_r.push(ur+Ir.replace(Lr,this.options.pluralSeparator)),gr&&_r.push(ur+Nr)),br){const jr=`${ur}${this.options.contextSeparator}${rr.context}`;_r.push(jr),dr&&(_r.push(jr+Ir),rr.ordinal&&Ir.indexOf(Lr)===0&&_r.push(jr+Ir.replace(Lr,this.options.pluralSeparator)),gr&&_r.push(jr+Nr))}}let xr;for(;xr=_r.pop();)this.isValidLookup(nr)||(or=xr,nr=this.getResource(Er,$r,xr,rr))}))})}),{res:nr,usedKey:ir,exactUsedKey:or,usedLng:sr,usedNS:ar}}isValidLookup(er){return er!==void 0&&!(!this.options.returnNull&&er===null)&&!(!this.options.returnEmptyString&&er==="")}getResource(er,rr,nr){let ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(er,rr,nr,ir):this.resourceStore.getResource(er,rr,nr,ir)}getUsedParamsDetails(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const rr=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],nr=er.replace&&typeof er.replace!="string";let ir=nr?er.replace:er;if(nr&&typeof er.count<"u"&&(ir.count=er.count),this.options.interpolation.defaultVariables&&(ir={...this.options.interpolation.defaultVariables,...ir}),!nr){ir={...ir};for(const or of rr)delete ir[or]}return ir}static hasDefaultValue(er){const rr="defaultValue";for(const nr in er)if(Object.prototype.hasOwnProperty.call(er,nr)&&rr===nr.substring(0,rr.length)&&er[nr]!==void 0)return!0;return!1}}const capitalize=tr=>tr.charAt(0).toUpperCase()+tr.slice(1);class LanguageUtil{constructor(er){this.options=er,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(er){if(er=getCleanedCode(er),!er||er.indexOf("-")<0)return null;const rr=er.split("-");return rr.length===2||(rr.pop(),rr[rr.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(rr.join("-"))}getLanguagePartFromCode(er){if(er=getCleanedCode(er),!er||er.indexOf("-")<0)return er;const rr=er.split("-");return this.formatLanguageCode(rr[0])}formatLanguageCode(er){if(typeof er=="string"&&er.indexOf("-")>-1){const rr=["hans","hant","latn","cyrl","cans","mong","arab"];let nr=er.split("-");return this.options.lowerCaseLng?nr=nr.map(ir=>ir.toLowerCase()):nr.length===2?(nr[0]=nr[0].toLowerCase(),nr[1]=nr[1].toUpperCase(),rr.indexOf(nr[1].toLowerCase())>-1&&(nr[1]=capitalize(nr[1].toLowerCase()))):nr.length===3&&(nr[0]=nr[0].toLowerCase(),nr[1].length===2&&(nr[1]=nr[1].toUpperCase()),nr[0]!=="sgn"&&nr[2].length===2&&(nr[2]=nr[2].toUpperCase()),rr.indexOf(nr[1].toLowerCase())>-1&&(nr[1]=capitalize(nr[1].toLowerCase())),rr.indexOf(nr[2].toLowerCase())>-1&&(nr[2]=capitalize(nr[2].toLowerCase()))),nr.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?er.toLowerCase():er}isSupportedCode(er){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(er=this.getLanguagePartFromCode(er)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(er)>-1}getBestMatchFromCodes(er){if(!er)return null;let rr;return er.forEach(nr=>{if(rr)return;const ir=this.formatLanguageCode(nr);(!this.options.supportedLngs||this.isSupportedCode(ir))&&(rr=ir)}),!rr&&this.options.supportedLngs&&er.forEach(nr=>{if(rr)return;const ir=this.getLanguagePartFromCode(nr);if(this.isSupportedCode(ir))return rr=ir;rr=this.options.supportedLngs.find(or=>{if(or===ir)return or;if(!(or.indexOf("-")<0&&ir.indexOf("-")<0)&&(or.indexOf("-")>0&&ir.indexOf("-")<0&&or.substring(0,or.indexOf("-"))===ir||or.indexOf(ir)===0&&ir.length>1))return or})}),rr||(rr=this.getFallbackCodes(this.options.fallbackLng)[0]),rr}getFallbackCodes(er,rr){if(!er)return[];if(typeof er=="function"&&(er=er(rr)),typeof er=="string"&&(er=[er]),Array.isArray(er))return er;if(!rr)return er.default||[];let nr=er[rr];return nr||(nr=er[this.getScriptPartFromCode(rr)]),nr||(nr=er[this.formatLanguageCode(rr)]),nr||(nr=er[this.getLanguagePartFromCode(rr)]),nr||(nr=er.default),nr||[]}toResolveHierarchy(er,rr){const nr=this.getFallbackCodes(rr||this.options.fallbackLng||[],er),ir=[],or=sr=>{sr&&(this.isSupportedCode(sr)?ir.push(sr):this.logger.warn(`rejecting language code not found in supportedLngs: ${sr}`))};return typeof er=="string"&&(er.indexOf("-")>-1||er.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&or(this.formatLanguageCode(er)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&or(this.getScriptPartFromCode(er)),this.options.load!=="currentOnly"&&or(this.getLanguagePartFromCode(er))):typeof er=="string"&&or(this.formatLanguageCode(er)),nr.forEach(sr=>{ir.indexOf(sr)<0&&or(this.formatLanguageCode(sr))}),ir}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:tr=>+(tr>1),2:tr=>+(tr!=1),3:tr=>0,4:tr=>tr%10==1&&tr%100!=11?0:tr%10>=2&&tr%10<=4&&(tr%100<10||tr%100>=20)?1:2,5:tr=>tr==0?0:tr==1?1:tr==2?2:tr%100>=3&&tr%100<=10?3:tr%100>=11?4:5,6:tr=>tr==1?0:tr>=2&&tr<=4?1:2,7:tr=>tr==1?0:tr%10>=2&&tr%10<=4&&(tr%100<10||tr%100>=20)?1:2,8:tr=>tr==1?0:tr==2?1:tr!=8&&tr!=11?2:3,9:tr=>+(tr>=2),10:tr=>tr==1?0:tr==2?1:tr<7?2:tr<11?3:4,11:tr=>tr==1||tr==11?0:tr==2||tr==12?1:tr>2&&tr<20?2:3,12:tr=>+(tr%10!=1||tr%100==11),13:tr=>+(tr!==0),14:tr=>tr==1?0:tr==2?1:tr==3?2:3,15:tr=>tr%10==1&&tr%100!=11?0:tr%10>=2&&(tr%100<10||tr%100>=20)?1:2,16:tr=>tr%10==1&&tr%100!=11?0:tr!==0?1:2,17:tr=>tr==1||tr%10==1&&tr%100!=11?0:1,18:tr=>tr==0?0:tr==1?1:2,19:tr=>tr==1?0:tr==0||tr%100>1&&tr%100<11?1:tr%100>10&&tr%100<20?2:3,20:tr=>tr==1?0:tr==0||tr%100>0&&tr%100<20?1:2,21:tr=>tr%100==1?1:tr%100==2?2:tr%100==3||tr%100==4?3:0,22:tr=>tr==1?0:tr==2?1:(tr<0||tr>10)&&tr%10==0?2:3};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},createRules=()=>{const tr={};return sets.forEach(er=>{er.lngs.forEach(rr=>{tr[rr]={numbers:er.nr,plurals:_rulesPluralsTypes[er.fc]}})}),tr};class PluralResolver{constructor(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=er,this.options=rr,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}addRule(er,rr){this.rules[er]=rr}getRule(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(getCleanedCode(er==="dev"?"en":er),{type:rr.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[er]||this.rules[this.languageUtils.getLanguagePartFromCode(er)]}needsPlural(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const nr=this.getRule(er,rr);return this.shouldUseIntlApi()?nr&&nr.resolvedOptions().pluralCategories.length>1:nr&&nr.numbers.length>1}getPluralFormsOfKey(er,rr){let nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(er,nr).map(ir=>`${rr}${ir}`)}getSuffixes(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const nr=this.getRule(er,rr);return nr?this.shouldUseIntlApi()?nr.resolvedOptions().pluralCategories.sort((ir,or)=>suffixesOrder[ir]-suffixesOrder[or]).map(ir=>`${this.options.prepend}${rr.ordinal?`ordinal${this.options.prepend}`:""}${ir}`):nr.numbers.map(ir=>this.getSuffix(er,ir,rr)):[]}getSuffix(er,rr){let nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ir=this.getRule(er,nr);return ir?this.shouldUseIntlApi()?`${this.options.prepend}${nr.ordinal?`ordinal${this.options.prepend}`:""}${ir.select(rr)}`:this.getSuffixRetroCompatible(ir,rr):(this.logger.warn(`no plural rule found for: ${er}`),"")}getSuffixRetroCompatible(er,rr){const nr=er.noAbs?er.plurals(rr):er.plurals(Math.abs(rr));let ir=er.numbers[nr];this.options.simplifyPluralSuffix&&er.numbers.length===2&&er.numbers[0]===1&&(ir===2?ir="plural":ir===1&&(ir=""));const or=()=>this.options.prepend&&ir.toString()?this.options.prepend+ir.toString():ir.toString();return this.options.compatibilityJSON==="v1"?ir===1?"":typeof ir=="number"?`_plural_${ir.toString()}`:or():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&er.numbers.length===2&&er.numbers[0]===1?or():this.options.prepend&&nr.toString()?this.options.prepend+nr.toString():nr.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}const deepFindWithDefaults=function(tr,er,rr){let nr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",ir=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,or=getPathWithDefaults(tr,er,rr);return!or&&ir&&typeof rr=="string"&&(or=deepFind(tr,rr,nr),or===void 0&&(or=deepFind(er,rr,nr))),or},regexSafe=tr=>tr.replace(/\$/g,"$$$$");class Interpolator{constructor(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=er,this.format=er.interpolation&&er.interpolation.format||(rr=>rr),this.init(er)}init(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};er.interpolation||(er.interpolation={escapeValue:!0});const{escape:rr,escapeValue:nr,useRawValueToEscape:ir,prefix:or,prefixEscaped:sr,suffix:ar,suffixEscaped:cr,formatSeparator:lr,unescapeSuffix:ur,unescapePrefix:fr,nestingPrefix:dr,nestingPrefixEscaped:gr,nestingSuffix:br,nestingSuffixEscaped:vr,nestingOptionsSeparator:$r,maxReplaces:Er,alwaysFormat:_r}=er.interpolation;this.escape=rr!==void 0?rr:escape,this.escapeValue=nr!==void 0?nr:!0,this.useRawValueToEscape=ir!==void 0?ir:!1,this.prefix=or?regexEscape(or):sr||"{{",this.suffix=ar?regexEscape(ar):cr||"}}",this.formatSeparator=lr||",",this.unescapePrefix=ur?"":fr||"-",this.unescapeSuffix=this.unescapePrefix?"":ur||"",this.nestingPrefix=dr?regexEscape(dr):gr||regexEscape("$t("),this.nestingSuffix=br?regexEscape(br):vr||regexEscape(")"),this.nestingOptionsSeparator=$r||",",this.maxReplaces=Er||1e3,this.alwaysFormat=_r!==void 0?_r:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const er=(rr,nr)=>rr&&rr.source===nr?(rr.lastIndex=0,rr):new RegExp(nr,"g");this.regexp=er(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=er(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=er(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(er,rr,nr,ir){let or,sr,ar;const cr=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},lr=gr=>{if(gr.indexOf(this.formatSeparator)<0){const Er=deepFindWithDefaults(rr,cr,gr,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Er,void 0,nr,{...ir,...rr,interpolationkey:gr}):Er}const br=gr.split(this.formatSeparator),vr=br.shift().trim(),$r=br.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(rr,cr,vr,this.options.keySeparator,this.options.ignoreJSONStructure),$r,nr,{...ir,...rr,interpolationkey:vr})};this.resetRegExp();const ur=ir&&ir.missingInterpolationHandler||this.options.missingInterpolationHandler,fr=ir&&ir.interpolation&&ir.interpolation.skipOnVariables!==void 0?ir.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:gr=>regexSafe(gr)},{regex:this.regexp,safeValue:gr=>this.escapeValue?regexSafe(this.escape(gr)):regexSafe(gr)}].forEach(gr=>{for(ar=0;or=gr.regex.exec(er);){const br=or[1].trim();if(sr=lr(br),sr===void 0)if(typeof ur=="function"){const $r=ur(er,or,ir);sr=typeof $r=="string"?$r:""}else if(ir&&Object.prototype.hasOwnProperty.call(ir,br))sr="";else if(fr){sr=or[0];continue}else this.logger.warn(`missed to pass in variable ${br} for interpolating ${er}`),sr="";else typeof sr!="string"&&!this.useRawValueToEscape&&(sr=makeString(sr));const vr=gr.safeValue(sr);if(er=er.replace(or[0],vr),fr?(gr.regex.lastIndex+=sr.length,gr.regex.lastIndex-=or[0].length):gr.regex.lastIndex=0,ar++,ar>=this.maxReplaces)break}}),er}nest(er,rr){let nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ir,or,sr;const ar=(cr,lr)=>{const ur=this.nestingOptionsSeparator;if(cr.indexOf(ur)<0)return cr;const fr=cr.split(new RegExp(`${ur}[ ]*{`));let dr=`{${fr[1]}`;cr=fr[0],dr=this.interpolate(dr,sr);const gr=dr.match(/'/g),br=dr.match(/"/g);(gr&&gr.length%2===0&&!br||br.length%2!==0)&&(dr=dr.replace(/'/g,'"'));try{sr=JSON.parse(dr),lr&&(sr={...lr,...sr})}catch(vr){return this.logger.warn(`failed parsing options string in nesting for key ${cr}`,vr),`${cr}${ur}${dr}`}return sr.defaultValue&&sr.defaultValue.indexOf(this.prefix)>-1&&delete sr.defaultValue,cr};for(;ir=this.nestingRegexp.exec(er);){let cr=[];sr={...nr},sr=sr.replace&&typeof sr.replace!="string"?sr.replace:sr,sr.applyPostProcessor=!1,delete sr.defaultValue;let lr=!1;if(ir[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(ir[1])){const ur=ir[1].split(this.formatSeparator).map(fr=>fr.trim());ir[1]=ur.shift(),cr=ur,lr=!0}if(or=rr(ar.call(this,ir[1].trim(),sr),sr),or&&ir[0]===er&&typeof or!="string")return or;typeof or!="string"&&(or=makeString(or)),or||(this.logger.warn(`missed to resolve ${ir[1]} for nesting ${er}`),or=""),lr&&(or=cr.reduce((ur,fr)=>this.format(ur,fr,nr.lng,{...nr,interpolationkey:ir[1].trim()}),or.trim())),er=er.replace(ir[0],or),this.regexp.lastIndex=0}return er}}const parseFormatStr=tr=>{let er=tr.toLowerCase().trim();const rr={};if(tr.indexOf("(")>-1){const nr=tr.split("(");er=nr[0].toLowerCase().trim();const ir=nr[1].substring(0,nr[1].length-1);er==="currency"&&ir.indexOf(":")<0?rr.currency||(rr.currency=ir.trim()):er==="relativetime"&&ir.indexOf(":")<0?rr.range||(rr.range=ir.trim()):ir.split(";").forEach(sr=>{if(sr){const[ar,...cr]=sr.split(":"),lr=cr.join(":").trim().replace(/^'+|'+$/g,""),ur=ar.trim();rr[ur]||(rr[ur]=lr),lr==="false"&&(rr[ur]=!1),lr==="true"&&(rr[ur]=!0),isNaN(lr)||(rr[ur]=parseInt(lr,10))}})}return{formatName:er,formatOptions:rr}},createCachedFormatter=tr=>{const er={};return(rr,nr,ir)=>{const or=nr+JSON.stringify(ir);let sr=er[or];return sr||(sr=tr(getCleanedCode(nr),ir),er[or]=sr),sr(rr)}};class Formatter{constructor(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=er,this.formats={number:createCachedFormatter((rr,nr)=>{const ir=new Intl.NumberFormat(rr,{...nr});return or=>ir.format(or)}),currency:createCachedFormatter((rr,nr)=>{const ir=new Intl.NumberFormat(rr,{...nr,style:"currency"});return or=>ir.format(or)}),datetime:createCachedFormatter((rr,nr)=>{const ir=new Intl.DateTimeFormat(rr,{...nr});return or=>ir.format(or)}),relativetime:createCachedFormatter((rr,nr)=>{const ir=new Intl.RelativeTimeFormat(rr,{...nr});return or=>ir.format(or,nr.range||"day")}),list:createCachedFormatter((rr,nr)=>{const ir=new Intl.ListFormat(rr,{...nr});return or=>ir.format(or)})},this.init(er)}init(er){const nr=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=nr.formatSeparator?nr.formatSeparator:nr.formatSeparator||","}add(er,rr){this.formats[er.toLowerCase().trim()]=rr}addCached(er,rr){this.formats[er.toLowerCase().trim()]=createCachedFormatter(rr)}format(er,rr,nr){let ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const or=rr.split(this.formatSeparator);if(or.length>1&&or[0].indexOf("(")>1&&or[0].indexOf(")")<0&&or.find(ar=>ar.indexOf(")")>-1)){const ar=or.findIndex(cr=>cr.indexOf(")")>-1);or[0]=[or[0],...or.splice(1,ar)].join(this.formatSeparator)}return or.reduce((ar,cr)=>{const{formatName:lr,formatOptions:ur}=parseFormatStr(cr);if(this.formats[lr]){let fr=ar;try{const dr=ir&&ir.formatParams&&ir.formatParams[ir.interpolationkey]||{},gr=dr.locale||dr.lng||ir.locale||ir.lng||nr;fr=this.formats[lr](ar,gr,{...ur,...ir,...dr})}catch(dr){this.logger.warn(dr)}return fr}else this.logger.warn(`there was no format function for ${lr}`);return ar},er)}}const removePending=(tr,er)=>{tr.pending[er]!==void 0&&(delete tr.pending[er],tr.pendingCount--)};class Connector extends EventEmitter{constructor(er,rr,nr){let ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=er,this.store=rr,this.services=nr,this.languageUtils=nr.languageUtils,this.options=ir,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=ir.maxParallelReads||10,this.readingCalls=0,this.maxRetries=ir.maxRetries>=0?ir.maxRetries:5,this.retryTimeout=ir.retryTimeout>=1?ir.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(nr,ir.backend,ir)}queueLoad(er,rr,nr,ir){const or={},sr={},ar={},cr={};return er.forEach(lr=>{let ur=!0;rr.forEach(fr=>{const dr=`${lr}|${fr}`;!nr.reload&&this.store.hasResourceBundle(lr,fr)?this.state[dr]=2:this.state[dr]<0||(this.state[dr]===1?sr[dr]===void 0&&(sr[dr]=!0):(this.state[dr]=1,ur=!1,sr[dr]===void 0&&(sr[dr]=!0),or[dr]===void 0&&(or[dr]=!0),cr[fr]===void 0&&(cr[fr]=!0)))}),ur||(ar[lr]=!0)}),(Object.keys(or).length||Object.keys(sr).length)&&this.queue.push({pending:sr,pendingCount:Object.keys(sr).length,loaded:{},errors:[],callback:ir}),{toLoad:Object.keys(or),pending:Object.keys(sr),toLoadLanguages:Object.keys(ar),toLoadNamespaces:Object.keys(cr)}}loaded(er,rr,nr){const ir=er.split("|"),or=ir[0],sr=ir[1];rr&&this.emit("failedLoading",or,sr,rr),nr&&this.store.addResourceBundle(or,sr,nr,void 0,void 0,{skipCopy:!0}),this.state[er]=rr?-1:2;const ar={};this.queue.forEach(cr=>{pushPath(cr.loaded,[or],sr),removePending(cr,er),rr&&cr.errors.push(rr),cr.pendingCount===0&&!cr.done&&(Object.keys(cr.loaded).forEach(lr=>{ar[lr]||(ar[lr]={});const ur=cr.loaded[lr];ur.length&&ur.forEach(fr=>{ar[lr][fr]===void 0&&(ar[lr][fr]=!0)})}),cr.done=!0,cr.errors.length?cr.callback(cr.errors):cr.callback())}),this.emit("loaded",ar),this.queue=this.queue.filter(cr=>!cr.done)}read(er,rr,nr){let ir=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,or=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,sr=arguments.length>5?arguments[5]:void 0;if(!er.length)return sr(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:er,ns:rr,fcName:nr,tried:ir,wait:or,callback:sr});return}this.readingCalls++;const ar=(lr,ur)=>{if(this.readingCalls--,this.waitingReads.length>0){const fr=this.waitingReads.shift();this.read(fr.lng,fr.ns,fr.fcName,fr.tried,fr.wait,fr.callback)}if(lr&&ur&&ir<this.maxRetries){setTimeout(()=>{this.read.call(this,er,rr,nr,ir+1,or*2,sr)},or);return}sr(lr,ur)},cr=this.backend[nr].bind(this.backend);if(cr.length===2){try{const lr=cr(er,rr);lr&&typeof lr.then=="function"?lr.then(ur=>ar(null,ur)).catch(ar):ar(null,lr)}catch(lr){ar(lr)}return}return cr(er,rr,ar)}prepareLoading(er,rr){let nr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ir=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),ir&&ir();typeof er=="string"&&(er=this.languageUtils.toResolveHierarchy(er)),typeof rr=="string"&&(rr=[rr]);const or=this.queueLoad(er,rr,nr,ir);if(!or.toLoad.length)return or.pending.length||ir(),null;or.toLoad.forEach(sr=>{this.loadOne(sr)})}load(er,rr,nr){this.prepareLoading(er,rr,{},nr)}reload(er,rr,nr){this.prepareLoading(er,rr,{reload:!0},nr)}loadOne(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const nr=er.split("|"),ir=nr[0],or=nr[1];this.read(ir,or,"read",void 0,void 0,(sr,ar)=>{sr&&this.logger.warn(`${rr}loading namespace ${or} for language ${ir} failed`,sr),!sr&&ar&&this.logger.log(`${rr}loaded namespace ${or} for language ${ir}`,ar),this.loaded(er,sr,ar)})}saveMissing(er,rr,nr,ir,or){let sr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},ar=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(rr)){this.logger.warn(`did not save key "${nr}" as the namespace "${rr}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(nr==null||nr==="")){if(this.backend&&this.backend.create){const cr={...sr,isUpdate:or},lr=this.backend.create.bind(this.backend);if(lr.length<6)try{let ur;lr.length===5?ur=lr(er,rr,nr,ir,cr):ur=lr(er,rr,nr,ir),ur&&typeof ur.then=="function"?ur.then(fr=>ar(null,fr)).catch(ar):ar(null,ur)}catch(ur){ar(ur)}else lr(er,rr,nr,ir,ar,cr)}!er||!er[0]||this.store.addResource(er[0],rr,nr,ir)}}}const get=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:tr=>{let er={};if(typeof tr[1]=="object"&&(er=tr[1]),typeof tr[1]=="string"&&(er.defaultValue=tr[1]),typeof tr[2]=="string"&&(er.tDescription=tr[2]),typeof tr[2]=="object"||typeof tr[3]=="object"){const rr=tr[3]||tr[2];Object.keys(rr).forEach(nr=>{er[nr]=rr[nr]})}return er},interpolation:{escapeValue:!0,format:tr=>tr,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),transformOptions=tr=>(typeof tr.ns=="string"&&(tr.ns=[tr.ns]),typeof tr.fallbackLng=="string"&&(tr.fallbackLng=[tr.fallbackLng]),typeof tr.fallbackNS=="string"&&(tr.fallbackNS=[tr.fallbackNS]),tr.supportedLngs&&tr.supportedLngs.indexOf("cimode")<0&&(tr.supportedLngs=tr.supportedLngs.concat(["cimode"])),tr),noop$2=()=>{},bindMemberFunctions=tr=>{Object.getOwnPropertyNames(Object.getPrototypeOf(tr)).forEach(rr=>{typeof tr[rr]=="function"&&(tr[rr]=tr[rr].bind(tr))})};class I18n extends EventEmitter{constructor(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rr=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(er),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),rr&&!this.isInitialized&&!er.isClone){if(!this.options.initImmediate)return this.init(er,rr),this;setTimeout(()=>{this.init(er,rr)},0)}}init(){var er=this;let rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nr=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof rr=="function"&&(nr=rr,rr={}),!rr.defaultNS&&rr.defaultNS!==!1&&rr.ns&&(typeof rr.ns=="string"?rr.defaultNS=rr.ns:rr.ns.indexOf("translation")<0&&(rr.defaultNS=rr.ns[0]));const ir=get();this.options={...ir,...this.options,...transformOptions(rr)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...ir.interpolation,...this.options.interpolation}),rr.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=rr.keySeparator),rr.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=rr.nsSeparator);const or=ur=>ur?typeof ur=="function"?new ur:ur:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(or(this.modules.logger),this.options):baseLogger.init(null,this.options);let ur;this.modules.formatter?ur=this.modules.formatter:typeof Intl<"u"&&(ur=Formatter);const fr=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const dr=this.services;dr.logger=baseLogger,dr.resourceStore=this.store,dr.languageUtils=fr,dr.pluralResolver=new PluralResolver(fr,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),ur&&(!this.options.interpolation.format||this.options.interpolation.format===ir.interpolation.format)&&(dr.formatter=or(ur),dr.formatter.init(dr,this.options),this.options.interpolation.format=dr.formatter.format.bind(dr.formatter)),dr.interpolator=new Interpolator(this.options),dr.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},dr.backendConnector=new Connector(or(this.modules.backend),dr.resourceStore,dr,this.options),dr.backendConnector.on("*",function(gr){for(var br=arguments.length,vr=new Array(br>1?br-1:0),$r=1;$r<br;$r++)vr[$r-1]=arguments[$r];er.emit(gr,...vr)}),this.modules.languageDetector&&(dr.languageDetector=or(this.modules.languageDetector),dr.languageDetector.init&&dr.languageDetector.init(dr,this.options.detection,this.options)),this.modules.i18nFormat&&(dr.i18nFormat=or(this.modules.i18nFormat),dr.i18nFormat.init&&dr.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(gr){for(var br=arguments.length,vr=new Array(br>1?br-1:0),$r=1;$r<br;$r++)vr[$r-1]=arguments[$r];er.emit(gr,...vr)}),this.modules.external.forEach(gr=>{gr.init&&gr.init(this)})}if(this.format=this.options.interpolation.format,nr||(nr=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const ur=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ur.length>0&&ur[0]!=="dev"&&(this.options.lng=ur[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(ur=>{this[ur]=function(){return er.store[ur](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(ur=>{this[ur]=function(){return er.store[ur](...arguments),er}});const cr=defer(),lr=()=>{const ur=(fr,dr)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),cr.resolve(dr),nr(fr,dr)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return ur(null,this.t.bind(this));this.changeLanguage(this.options.lng,ur)};return this.options.resources||!this.options.initImmediate?lr():setTimeout(lr,0),cr}loadResources(er){let nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const ir=typeof er=="string"?er:this.language;if(typeof er=="function"&&(nr=er),!this.options.resources||this.options.partialBundledLanguages){if(ir&&ir.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return nr();const or=[],sr=ar=>{if(!ar||ar==="cimode")return;this.services.languageUtils.toResolveHierarchy(ar).forEach(lr=>{lr!=="cimode"&&or.indexOf(lr)<0&&or.push(lr)})};ir?sr(ir):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(cr=>sr(cr)),this.options.preload&&this.options.preload.forEach(ar=>sr(ar)),this.services.backendConnector.load(or,this.options.ns,ar=>{!ar&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),nr(ar)})}else nr(null)}reloadResources(er,rr,nr){const ir=defer();return er||(er=this.languages),rr||(rr=this.options.ns),nr||(nr=noop$2),this.services.backendConnector.reload(er,rr,or=>{ir.resolve(),nr(or)}),ir}use(er){if(!er)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!er.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return er.type==="backend"&&(this.modules.backend=er),(er.type==="logger"||er.log&&er.warn&&er.error)&&(this.modules.logger=er),er.type==="languageDetector"&&(this.modules.languageDetector=er),er.type==="i18nFormat"&&(this.modules.i18nFormat=er),er.type==="postProcessor"&&postProcessor.addPostProcessor(er),er.type==="formatter"&&(this.modules.formatter=er),er.type==="3rdParty"&&this.modules.external.push(er),this}setResolvedLanguage(er){if(!(!er||!this.languages)&&!(["cimode","dev"].indexOf(er)>-1))for(let rr=0;rr<this.languages.length;rr++){const nr=this.languages[rr];if(!(["cimode","dev"].indexOf(nr)>-1)&&this.store.hasLanguageSomeTranslations(nr)){this.resolvedLanguage=nr;break}}}changeLanguage(er,rr){var nr=this;this.isLanguageChangingTo=er;const ir=defer();this.emit("languageChanging",er);const or=cr=>{this.language=cr,this.languages=this.services.languageUtils.toResolveHierarchy(cr),this.resolvedLanguage=void 0,this.setResolvedLanguage(cr)},sr=(cr,lr)=>{lr?(or(lr),this.translator.changeLanguage(lr),this.isLanguageChangingTo=void 0,this.emit("languageChanged",lr),this.logger.log("languageChanged",lr)):this.isLanguageChangingTo=void 0,ir.resolve(function(){return nr.t(...arguments)}),rr&&rr(cr,function(){return nr.t(...arguments)})},ar=cr=>{!er&&!cr&&this.services.languageDetector&&(cr=[]);const lr=typeof cr=="string"?cr:this.services.languageUtils.getBestMatchFromCodes(cr);lr&&(this.language||or(lr),this.translator.language||this.translator.changeLanguage(lr),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(lr)),this.loadResources(lr,ur=>{sr(ur,lr)})};return!er&&this.services.languageDetector&&!this.services.languageDetector.async?ar(this.services.languageDetector.detect()):!er&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(ar):this.services.languageDetector.detect(ar):ar(er),ir}getFixedT(er,rr,nr){var ir=this;const or=function(sr,ar){let cr;if(typeof ar!="object"){for(var lr=arguments.length,ur=new Array(lr>2?lr-2:0),fr=2;fr<lr;fr++)ur[fr-2]=arguments[fr];cr=ir.options.overloadTranslationOptionHandler([sr,ar].concat(ur))}else cr={...ar};cr.lng=cr.lng||or.lng,cr.lngs=cr.lngs||or.lngs,cr.ns=cr.ns||or.ns,cr.keyPrefix!==""&&(cr.keyPrefix=cr.keyPrefix||nr||or.keyPrefix);const dr=ir.options.keySeparator||".";let gr;return cr.keyPrefix&&Array.isArray(sr)?gr=sr.map(br=>`${cr.keyPrefix}${dr}${br}`):gr=cr.keyPrefix?`${cr.keyPrefix}${dr}${sr}`:sr,ir.t(gr,cr)};return typeof er=="string"?or.lng=er:or.lngs=er,or.ns=rr,or.keyPrefix=nr,or}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(er){this.options.defaultNS=er}hasLoadedNamespace(er){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const nr=rr.lng||this.resolvedLanguage||this.languages[0],ir=this.options?this.options.fallbackLng:!1,or=this.languages[this.languages.length-1];if(nr.toLowerCase()==="cimode")return!0;const sr=(ar,cr)=>{const lr=this.services.backendConnector.state[`${ar}|${cr}`];return lr===-1||lr===2};if(rr.precheck){const ar=rr.precheck(this,sr);if(ar!==void 0)return ar}return!!(this.hasResourceBundle(nr,er)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||sr(nr,er)&&(!ir||sr(or,er)))}loadNamespaces(er,rr){const nr=defer();return this.options.ns?(typeof er=="string"&&(er=[er]),er.forEach(ir=>{this.options.ns.indexOf(ir)<0&&this.options.ns.push(ir)}),this.loadResources(ir=>{nr.resolve(),rr&&rr(ir)}),nr):(rr&&rr(),Promise.resolve())}loadLanguages(er,rr){const nr=defer();typeof er=="string"&&(er=[er]);const ir=this.options.preload||[],or=er.filter(sr=>ir.indexOf(sr)<0&&this.services.languageUtils.isSupportedCode(sr));return or.length?(this.options.preload=ir.concat(or),this.loadResources(sr=>{nr.resolve(),rr&&rr(sr)}),nr):(rr&&rr(),Promise.resolve())}dir(er){if(er||(er=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!er)return"rtl";const rr=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],nr=this.services&&this.services.languageUtils||new LanguageUtil(get());return rr.indexOf(nr.getLanguagePartFromCode(er))>-1||er.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rr=arguments.length>1?arguments[1]:void 0;return new I18n(er,rr)}cloneInstance(){let er=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const nr=er.forkResourceStore;nr&&delete er.forkResourceStore;const ir={...this.options,...er,isClone:!0},or=new I18n(ir);return(er.debug!==void 0||er.prefix!==void 0)&&(or.logger=or.logger.clone(er)),["store","services","language"].forEach(ar=>{or[ar]=this[ar]}),or.services={...this.services},or.services.utils={hasLoadedNamespace:or.hasLoadedNamespace.bind(or)},nr&&(or.store=new ResourceStore(this.store.data,ir),or.services.resourceStore=or.store),or.translator=new Translator(or.services,ir),or.translator.on("*",function(ar){for(var cr=arguments.length,lr=new Array(cr>1?cr-1:0),ur=1;ur<cr;ur++)lr[ur-1]=arguments[ur];or.emit(ar,...lr)}),or.init(ir,rr),or.translator.options=ir,or.translator.backendConnector.services.utils={hasLoadedNamespace:or.hasLoadedNamespace.bind(or)},or}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;var toggleSelection=function(){var tr=document.getSelection();if(!tr.rangeCount)return function(){};for(var er=document.activeElement,rr=[],nr=0;nr<tr.rangeCount;nr++)rr.push(tr.getRangeAt(nr));switch(er.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":er.blur();break;default:er=null;break}return tr.removeAllRanges(),function(){tr.type==="Caret"&&tr.removeAllRanges(),tr.rangeCount||rr.forEach(function(ir){tr.addRange(ir)}),er&&er.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format(tr){var er=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return tr.replace(/#{\s*key\s*}/g,er)}function copy(tr,er){var rr,nr,ir,or,sr,ar,cr=!1;er||(er={}),rr=er.debug||!1;try{ir=deselectCurrent(),or=document.createRange(),sr=document.getSelection(),ar=document.createElement("span"),ar.textContent=tr,ar.ariaHidden="true",ar.style.all="unset",ar.style.position="fixed",ar.style.top=0,ar.style.clip="rect(0, 0, 0, 0)",ar.style.whiteSpace="pre",ar.style.webkitUserSelect="text",ar.style.MozUserSelect="text",ar.style.msUserSelect="text",ar.style.userSelect="text",ar.addEventListener("copy",function(ur){if(ur.stopPropagation(),er.format)if(ur.preventDefault(),typeof ur.clipboardData>"u"){rr&&console.warn("unable to use e.clipboardData"),rr&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var fr=clipboardToIE11Formatting[er.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(fr,tr)}else ur.clipboardData.clearData(),ur.clipboardData.setData(er.format,tr);er.onCopy&&(ur.preventDefault(),er.onCopy(ur.clipboardData))}),document.body.appendChild(ar),or.selectNodeContents(ar),sr.addRange(or);var lr=document.execCommand("copy");if(!lr)throw new Error("copy command was unsuccessful");cr=!0}catch(ur){rr&&console.error("unable to copy using execCommand: ",ur),rr&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(er.format||"text",tr),er.onCopy&&er.onCopy(window.clipboardData),cr=!0}catch(fr){rr&&console.error("unable to copy using clipboardData: ",fr),rr&&console.error("falling back to prompt"),nr=format("message"in er?er.message:defaultMessage),window.prompt(nr,tr)}}finally{sr&&(typeof sr.removeRange=="function"?sr.removeRange(or):sr.removeAllRanges()),ar&&document.body.removeChild(ar),ir()}return cr}var copyToClipboard=copy;const copyToClipboard$1=getDefaultExportFromCjs(copyToClipboard);var dist$1={},lodash_isequal={exports:{}};lodash_isequal.exports;(function(tr,er){var rr=200,nr="__lodash_hash_undefined__",ir=1,or=2,sr=9007199254740991,ar="[object Arguments]",cr="[object Array]",lr="[object AsyncFunction]",ur="[object Boolean]",fr="[object Date]",dr="[object Error]",gr="[object Function]",br="[object GeneratorFunction]",vr="[object Map]",$r="[object Number]",Er="[object Null]",_r="[object Object]",xr="[object Promise]",Ir="[object Proxy]",Nr="[object RegExp]",Lr="[object Set]",jr="[object String]",Or="[object Symbol]",Dr="[object Undefined]",Cr="[object WeakMap]",Tr="[object ArrayBuffer]",yr="[object DataView]",mr="[object Float32Array]",hr="[object Float64Array]",pr="[object Int8Array]",wr="[object Int16Array]",Ar="[object Int32Array]",Rr="[object Uint8Array]",Pr="[object Uint8ClampedArray]",Sr="[object Uint16Array]",Mr="[object Uint32Array]",Br=/[\\^$.*+?()[\]{}|]/g,Ur=/^\[object .+?Constructor\]$/,Jr=/^(?:0|[1-9]\d*)$/,qr={};qr[mr]=qr[hr]=qr[pr]=qr[wr]=qr[Ar]=qr[Rr]=qr[Pr]=qr[Sr]=qr[Mr]=!0,qr[ar]=qr[cr]=qr[Tr]=qr[ur]=qr[yr]=qr[fr]=qr[dr]=qr[gr]=qr[vr]=qr[$r]=qr[_r]=qr[Nr]=qr[Lr]=qr[jr]=qr[Cr]=!1;var zr=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,sn=typeof self=="object"&&self&&self.Object===Object&&self,rn=zr||sn||Function("return this")(),tn=er&&!er.nodeType&&er,dn=tn&&!0&&tr&&!tr.nodeType&&tr,Yr=dn&&dn.exports===tn,Vr=Yr&&zr.process,Qr=function(){try{return Vr&&Vr.binding&&Vr.binding("util")}catch{}}(),un=Qr&&Qr.isTypedArray;function yn(Gr,Wr){for(var nn=-1,mn=Gr==null?0:Gr.length,qn=0,Xn=[];++nn<mn;){var wo=Gr[nn];Wr(wo,nn,Gr)&&(Xn[qn++]=wo)}return Xn}function An(Gr,Wr){for(var nn=-1,mn=Wr.length,qn=Gr.length;++nn<mn;)Gr[qn+nn]=Wr[nn];return Gr}function Rn(Gr,Wr){for(var nn=-1,mn=Gr==null?0:Gr.length;++nn<mn;)if(Wr(Gr[nn],nn,Gr))return!0;return!1}function On(Gr,Wr){for(var nn=-1,mn=Array(Gr);++nn<Gr;)mn[nn]=Wr(nn);return mn}function xn(Gr){return function(Wr){return Gr(Wr)}}function Wn(Gr,Wr){return Gr.has(Wr)}function zn(Gr,Wr){return Gr?.[Wr]}function Fn(Gr){var Wr=-1,nn=Array(Gr.size);return Gr.forEach(function(mn,qn){nn[++Wr]=[qn,mn]}),nn}function so(Gr,Wr){return function(nn){return Gr(Wr(nn))}}function wn(Gr){var Wr=-1,nn=Array(Gr.size);return Gr.forEach(function(mn){nn[++Wr]=mn}),nn}var Sn=Array.prototype,Dn=Function.prototype,Xr=Object.prototype,Hr=rn["__core-js_shared__"],Kr=Dn.toString,fn=Xr.hasOwnProperty,vn=function(){var Gr=/[^.]+$/.exec(Hr&&Hr.keys&&Hr.keys.IE_PROTO||"");return Gr?"Symbol(src)_1."+Gr:""}(),$n=Xr.toString,Tn=RegExp("^"+Kr.call(fn).replace(Br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jn=Yr?rn.Buffer:void 0,io=rn.Symbol,Yn=rn.Uint8Array,lo=Xr.propertyIsEnumerable,ro=Sn.splice,ao=io?io.toStringTag:void 0,Mo=Object.getOwnPropertySymbols,Co=Jn?Jn.isBuffer:void 0,mo=so(Object.keys,Object),No=Fo(rn,"DataView"),Po=Fo(rn,"Map"),fo=Fo(rn,"Promise"),ko=Fo(rn,"Set"),pn=Fo(rn,"WeakMap"),gn=Fo(Object,"create"),Bn=Ls(No),Ln=Ls(Po),Mn=Ls(fo),So=Ls(ko),Zr=Ls(pn),an=io?io.prototype:void 0,cn=an?an.valueOf:void 0;function Fr(Gr){var Wr=-1,nn=Gr==null?0:Gr.length;for(this.clear();++Wr<nn;){var mn=Gr[Wr];this.set(mn[0],mn[1])}}function hn(){this.__data__=gn?gn(null):{},this.size=0}function En(Gr){var Wr=this.has(Gr)&&delete this.__data__[Gr];return this.size-=Wr?1:0,Wr}function Pn(Gr){var Wr=this.__data__;if(gn){var nn=Wr[Gr];return nn===nr?void 0:nn}return fn.call(Wr,Gr)?Wr[Gr]:void 0}function In(Gr){var Wr=this.__data__;return gn?Wr[Gr]!==void 0:fn.call(Wr,Gr)}function kn(Gr,Wr){var nn=this.__data__;return this.size+=this.has(Gr)?0:1,nn[Gr]=gn&&Wr===void 0?nr:Wr,this}Fr.prototype.clear=hn,Fr.prototype.delete=En,Fr.prototype.get=Pn,Fr.prototype.has=In,Fr.prototype.set=kn;function Hn(Gr){var Wr=-1,nn=Gr==null?0:Gr.length;for(this.clear();++Wr<nn;){var mn=Gr[Wr];this.set(mn[0],mn[1])}}function Kn(){this.__data__=[],this.size=0}function _o(Gr){var Wr=this.__data__,nn=Gn(Wr,Gr);if(nn<0)return!1;var mn=Wr.length-1;return nn==mn?Wr.pop():ro.call(Wr,nn,1),--this.size,!0}function Zn(Gr){var Wr=this.__data__,nn=Gn(Wr,Gr);return nn<0?void 0:Wr[nn][1]}function ho(Gr){return Gn(this.__data__,Gr)>-1}function go(Gr,Wr){var nn=this.__data__,mn=Gn(nn,Gr);return mn<0?(++this.size,nn.push([Gr,Wr])):nn[mn][1]=Wr,this}Hn.prototype.clear=Kn,Hn.prototype.delete=_o,Hn.prototype.get=Zn,Hn.prototype.has=ho,Hn.prototype.set=go;function co(Gr){var Wr=-1,nn=Gr==null?0:Gr.length;for(this.clear();++Wr<nn;){var mn=Gr[Wr];this.set(mn[0],mn[1])}}function bo(){this.size=0,this.__data__={hash:new Fr,map:new(Po||Hn),string:new Fr}}function uo(Gr){var Wr=Bo(this,Gr).delete(Gr);return this.size-=Wr?1:0,Wr}function po(Gr){return Bo(this,Gr).get(Gr)}function yo(Gr){return Bo(this,Gr).has(Gr)}function to(Gr,Wr){var nn=Bo(this,Gr),mn=nn.size;return nn.set(Gr,Wr),this.size+=nn.size==mn?0:1,this}co.prototype.clear=bo,co.prototype.delete=uo,co.prototype.get=po,co.prototype.has=yo,co.prototype.set=to;function oo(Gr){var Wr=-1,nn=Gr==null?0:Gr.length;for(this.__data__=new co;++Wr<nn;)this.add(Gr[Wr])}function _i(Gr){return this.__data__.set(Gr,nr),this}function no(Gr){return this.__data__.has(Gr)}oo.prototype.add=oo.prototype.push=_i,oo.prototype.has=no;function eo(Gr){var Wr=this.__data__=new Hn(Gr);this.size=Wr.size}function Qn(){this.__data__=new Hn,this.size=0}function Cn(Gr){var Wr=this.__data__,nn=Wr.delete(Gr);return this.size=Wr.size,nn}function Nn(Gr){return this.__data__.get(Gr)}function Vn(Gr){return this.__data__.has(Gr)}function jn(Gr,Wr){var nn=this.__data__;if(nn instanceof Hn){var mn=nn.__data__;if(!Po||mn.length<rr-1)return mn.push([Gr,Wr]),this.size=++nn.size,this;nn=this.__data__=new co(mn)}return nn.set(Gr,Wr),this.size=nn.size,this}eo.prototype.clear=Qn,eo.prototype.delete=Cn,eo.prototype.get=Nn,eo.prototype.has=Vn,eo.prototype.set=jn;function Un(Gr,Wr){var nn=na(Gr),mn=!nn&&Al(Gr),qn=!nn&&!mn&&ba(Gr),Xn=!nn&&!mn&&!qn&&$l(Gr),wo=nn||mn||qn||Xn,$o=wo?On(Gr.length,String):[],xo=$o.length;for(var Eo in Gr)fn.call(Gr,Eo)&&!(wo&&(Eo=="length"||qn&&(Eo=="offset"||Eo=="parent")||Xn&&(Eo=="buffer"||Eo=="byteLength"||Eo=="byteOffset")||Jo(Eo,xo)))&&$o.push(Eo);return $o}function Gn(Gr,Wr){for(var nn=Gr.length;nn--;)if(_c(Gr[nn][0],Wr))return nn;return-1}function vo(Gr,Wr,nn){var mn=Wr(Gr);return na(Gr)?mn:An(mn,nn(Gr))}function Ao(Gr){return Gr==null?Gr===void 0?Dr:Er:ao&&ao in Object(Gr)?Ho(Gr):xa(Gr)}function Io(Gr){return Ws(Gr)&&Ao(Gr)==ar}function To(Gr,Wr,nn,mn,qn){return Gr===Wr?!0:Gr==null||Wr==null||!Ws(Gr)&&!Ws(Wr)?Gr!==Gr&&Wr!==Wr:_n(Gr,Wr,nn,mn,To,qn)}function _n(Gr,Wr,nn,mn,qn,Xn){var wo=na(Gr),$o=na(Wr),xo=wo?cr:Ko(Gr),Eo=$o?cr:Ko(Wr);xo=xo==ar?_r:xo,Eo=Eo==ar?_r:Eo;var Go=xo==_r,qo=Eo==_r,zo=xo==Eo;if(zo&&ba(Gr)){if(!ba(Wr))return!1;wo=!0,Go=!1}if(zo&&!Go)return Xn||(Xn=new eo),wo||$l(Gr)?Ro(Gr,Wr,nn,mn,qn,Xn):Lo(Gr,Wr,xo,nn,mn,qn,Xn);if(!(nn&ir)){var Qo=Go&&fn.call(Gr,"__wrapped__"),Xo=qo&&fn.call(Wr,"__wrapped__");if(Qo||Xo){var Js=Qo?Gr.value():Gr,_a=Xo?Wr.value():Wr;return Xn||(Xn=new eo),qn(Js,_a,nn,mn,Xn)}}return zo?(Xn||(Xn=new eo),Do(Gr,Wr,nn,mn,qn,Xn)):!1}function Oo(Gr){if(!_l(Gr)||Zo(Gr))return!1;var Wr=Ys(Gr)?Tn:Ur;return Wr.test(Ls(Gr))}function jo(Gr){return Ws(Gr)&&wl(Gr.length)&&!!qr[Ao(Gr)]}function Uo(Gr){if(!$a(Gr))return mo(Gr);var Wr=[];for(var nn in Object(Gr))fn.call(Gr,nn)&&nn!="constructor"&&Wr.push(nn);return Wr}function Ro(Gr,Wr,nn,mn,qn,Xn){var wo=nn&ir,$o=Gr.length,xo=Wr.length;if($o!=xo&&!(wo&&xo>$o))return!1;var Eo=Xn.get(Gr);if(Eo&&Xn.get(Wr))return Eo==Wr;var Go=-1,qo=!0,zo=nn&or?new oo:void 0;for(Xn.set(Gr,Wr),Xn.set(Wr,Gr);++Go<$o;){var Qo=Gr[Go],Xo=Wr[Go];if(mn)var Js=wo?mn(Xo,Qo,Go,Wr,Gr,Xn):mn(Qo,Xo,Go,Gr,Wr,Xn);if(Js!==void 0){if(Js)continue;qo=!1;break}if(zo){if(!Rn(Wr,function(_a,Sl){if(!Wn(zo,Sl)&&(Qo===_a||qn(Qo,_a,nn,mn,Xn)))return zo.push(Sl)})){qo=!1;break}}else if(!(Qo===Xo||qn(Qo,Xo,nn,mn,Xn))){qo=!1;break}}return Xn.delete(Gr),Xn.delete(Wr),qo}function Lo(Gr,Wr,nn,mn,qn,Xn,wo){switch(nn){case yr:if(Gr.byteLength!=Wr.byteLength||Gr.byteOffset!=Wr.byteOffset)return!1;Gr=Gr.buffer,Wr=Wr.buffer;case Tr:return!(Gr.byteLength!=Wr.byteLength||!Xn(new Yn(Gr),new Yn(Wr)));case ur:case fr:case $r:return _c(+Gr,+Wr);case dr:return Gr.name==Wr.name&&Gr.message==Wr.message;case Nr:case jr:return Gr==Wr+"";case vr:var $o=Fn;case Lr:var xo=mn&ir;if($o||($o=wn),Gr.size!=Wr.size&&!xo)return!1;var Eo=wo.get(Gr);if(Eo)return Eo==Wr;mn|=or,wo.set(Gr,Wr);var Go=Ro($o(Gr),$o(Wr),mn,qn,Xn,wo);return wo.delete(Gr),Go;case Or:if(cn)return cn.call(Gr)==cn.call(Wr)}return!1}function Do(Gr,Wr,nn,mn,qn,Xn){var wo=nn&ir,$o=Vo(Gr),xo=$o.length,Eo=Vo(Wr),Go=Eo.length;if(xo!=Go&&!wo)return!1;for(var qo=xo;qo--;){var zo=$o[qo];if(!(wo?zo in Wr:fn.call(Wr,zo)))return!1}var Qo=Xn.get(Gr);if(Qo&&Xn.get(Wr))return Qo==Wr;var Xo=!0;Xn.set(Gr,Wr),Xn.set(Wr,Gr);for(var Js=wo;++qo<xo;){zo=$o[qo];var _a=Gr[zo],Sl=Wr[zo];if(mn)var Bl=wo?mn(Sl,_a,zo,Wr,Gr,Xn):mn(_a,Sl,zo,Gr,Wr,Xn);if(!(Bl===void 0?_a===Sl||qn(_a,Sl,nn,mn,Xn):Bl)){Xo=!1;break}Js||(Js=zo=="constructor")}if(Xo&&!Js){var Rl=Gr.constructor,Il=Wr.constructor;Rl!=Il&&"constructor"in Gr&&"constructor"in Wr&&!(typeof Rl=="function"&&Rl instanceof Rl&&typeof Il=="function"&&Il instanceof Il)&&(Xo=!1)}return Xn.delete(Gr),Xn.delete(Wr),Xo}function Vo(Gr){return vo(Gr,El,Wo)}function Bo(Gr,Wr){var nn=Gr.__data__;return Yo(Wr)?nn[typeof Wr=="string"?"string":"hash"]:nn.map}function Fo(Gr,Wr){var nn=zn(Gr,Wr);return Oo(nn)?nn:void 0}function Ho(Gr){var Wr=fn.call(Gr,ao),nn=Gr[ao];try{Gr[ao]=void 0;var mn=!0}catch{}var qn=$n.call(Gr);return mn&&(Wr?Gr[ao]=nn:delete Gr[ao]),qn}var Wo=Mo?function(Gr){return Gr==null?[]:(Gr=Object(Gr),yn(Mo(Gr),function(Wr){return lo.call(Gr,Wr)}))}:Tl,Ko=Ao;(No&&Ko(new No(new ArrayBuffer(1)))!=yr||Po&&Ko(new Po)!=vr||fo&&Ko(fo.resolve())!=xr||ko&&Ko(new ko)!=Lr||pn&&Ko(new pn)!=Cr)&&(Ko=function(Gr){var Wr=Ao(Gr),nn=Wr==_r?Gr.constructor:void 0,mn=nn?Ls(nn):"";if(mn)switch(mn){case Bn:return yr;case Ln:return vr;case Mn:return xr;case So:return Lr;case Zr:return Cr}return Wr});function Jo(Gr,Wr){return Wr=Wr??sr,!!Wr&&(typeof Gr=="number"||Jr.test(Gr))&&Gr>-1&&Gr%1==0&&Gr<Wr}function Yo(Gr){var Wr=typeof Gr;return Wr=="string"||Wr=="number"||Wr=="symbol"||Wr=="boolean"?Gr!=="__proto__":Gr===null}function Zo(Gr){return!!vn&&vn in Gr}function $a(Gr){var Wr=Gr&&Gr.constructor,nn=typeof Wr=="function"&&Wr.prototype||Xr;return Gr===nn}function xa(Gr){return $n.call(Gr)}function Ls(Gr){if(Gr!=null){try{return Kr.call(Gr)}catch{}try{return Gr+""}catch{}}return""}function _c(Gr,Wr){return Gr===Wr||Gr!==Gr&&Wr!==Wr}var Al=Io(function(){return arguments}())?Io:function(Gr){return Ws(Gr)&&fn.call(Gr,"callee")&&!lo.call(Gr,"callee")},na=Array.isArray;function ga(Gr){return Gr!=null&&wl(Gr.length)&&!Ys(Gr)}var ba=Co||xl;function zs(Gr,Wr){return To(Gr,Wr)}function Ys(Gr){if(!_l(Gr))return!1;var Wr=Ao(Gr);return Wr==gr||Wr==br||Wr==lr||Wr==Ir}function wl(Gr){return typeof Gr=="number"&&Gr>-1&&Gr%1==0&&Gr<=sr}function _l(Gr){var Wr=typeof Gr;return Gr!=null&&(Wr=="object"||Wr=="function")}function Ws(Gr){return Gr!=null&&typeof Gr=="object"}var $l=un?xn(un):jo;function El(Gr){return ga(Gr)?Un(Gr):Uo(Gr)}function Tl(){return[]}function xl(){return!1}tr.exports=zs})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports,qrcode={exports:{}};(function(tr,er){var rr=function(){var nr=function(Nr,Lr){var jr=236,Or=17,Dr=Nr,Cr=or[Lr],Tr=null,yr=0,mr=null,hr=[],pr={},wr=function(rn,tn){yr=Dr*4+17,Tr=function(dn){for(var Yr=new Array(dn),Vr=0;Vr<dn;Vr+=1){Yr[Vr]=new Array(dn);for(var Qr=0;Qr<dn;Qr+=1)Yr[Vr][Qr]=null}return Yr}(yr),Ar(0,0),Ar(yr-7,0),Ar(0,yr-7),Sr(),Pr(),Br(rn,tn),Dr>=7&&Mr(rn),mr==null&&(mr=qr(Dr,Cr,hr)),Ur(mr,tn)},Ar=function(rn,tn){for(var dn=-1;dn<=7;dn+=1)if(!(rn+dn<=-1||yr<=rn+dn))for(var Yr=-1;Yr<=7;Yr+=1)tn+Yr<=-1||yr<=tn+Yr||(0<=dn&&dn<=6&&(Yr==0||Yr==6)||0<=Yr&&Yr<=6&&(dn==0||dn==6)||2<=dn&&dn<=4&&2<=Yr&&Yr<=4?Tr[rn+dn][tn+Yr]=!0:Tr[rn+dn][tn+Yr]=!1)},Rr=function(){for(var rn=0,tn=0,dn=0;dn<8;dn+=1){wr(!0,dn);var Yr=ar.getLostPoint(pr);(dn==0||rn>Yr)&&(rn=Yr,tn=dn)}return tn},Pr=function(){for(var rn=8;rn<yr-8;rn+=1)Tr[rn][6]==null&&(Tr[rn][6]=rn%2==0);for(var tn=8;tn<yr-8;tn+=1)Tr[6][tn]==null&&(Tr[6][tn]=tn%2==0)},Sr=function(){for(var rn=ar.getPatternPosition(Dr),tn=0;tn<rn.length;tn+=1)for(var dn=0;dn<rn.length;dn+=1){var Yr=rn[tn],Vr=rn[dn];if(Tr[Yr][Vr]==null)for(var Qr=-2;Qr<=2;Qr+=1)for(var un=-2;un<=2;un+=1)Qr==-2||Qr==2||un==-2||un==2||Qr==0&&un==0?Tr[Yr+Qr][Vr+un]=!0:Tr[Yr+Qr][Vr+un]=!1}},Mr=function(rn){for(var tn=ar.getBCHTypeNumber(Dr),dn=0;dn<18;dn+=1){var Yr=!rn&&(tn>>dn&1)==1;Tr[Math.floor(dn/3)][dn%3+yr-8-3]=Yr}for(var dn=0;dn<18;dn+=1){var Yr=!rn&&(tn>>dn&1)==1;Tr[dn%3+yr-8-3][Math.floor(dn/3)]=Yr}},Br=function(rn,tn){for(var dn=Cr<<3|tn,Yr=ar.getBCHTypeInfo(dn),Vr=0;Vr<15;Vr+=1){var Qr=!rn&&(Yr>>Vr&1)==1;Vr<6?Tr[Vr][8]=Qr:Vr<8?Tr[Vr+1][8]=Qr:Tr[yr-15+Vr][8]=Qr}for(var Vr=0;Vr<15;Vr+=1){var Qr=!rn&&(Yr>>Vr&1)==1;Vr<8?Tr[8][yr-Vr-1]=Qr:Vr<9?Tr[8][15-Vr-1+1]=Qr:Tr[8][15-Vr-1]=Qr}Tr[yr-8][8]=!rn},Ur=function(rn,tn){for(var dn=-1,Yr=yr-1,Vr=7,Qr=0,un=ar.getMaskFunction(tn),yn=yr-1;yn>0;yn-=2)for(yn==6&&(yn-=1);;){for(var An=0;An<2;An+=1)if(Tr[Yr][yn-An]==null){var Rn=!1;Qr<rn.length&&(Rn=(rn[Qr]>>>Vr&1)==1);var On=un(Yr,yn-An);On&&(Rn=!Rn),Tr[Yr][yn-An]=Rn,Vr-=1,Vr==-1&&(Qr+=1,Vr=7)}if(Yr+=dn,Yr<0||yr<=Yr){Yr-=dn,dn=-dn;break}}},Jr=function(rn,tn){for(var dn=0,Yr=0,Vr=0,Qr=new Array(tn.length),un=new Array(tn.length),yn=0;yn<tn.length;yn+=1){var An=tn[yn].dataCount,Rn=tn[yn].totalCount-An;Yr=Math.max(Yr,An),Vr=Math.max(Vr,Rn),Qr[yn]=new Array(An);for(var On=0;On<Qr[yn].length;On+=1)Qr[yn][On]=255&rn.getBuffer()[On+dn];dn+=An;var xn=ar.getErrorCorrectPolynomial(Rn),Wn=lr(Qr[yn],xn.getLength()-1),zn=Wn.mod(xn);un[yn]=new Array(xn.getLength()-1);for(var On=0;On<un[yn].length;On+=1){var Fn=On+zn.getLength()-un[yn].length;un[yn][On]=Fn>=0?zn.getAt(Fn):0}}for(var so=0,On=0;On<tn.length;On+=1)so+=tn[On].totalCount;for(var wn=new Array(so),Sn=0,On=0;On<Yr;On+=1)for(var yn=0;yn<tn.length;yn+=1)On<Qr[yn].length&&(wn[Sn]=Qr[yn][On],Sn+=1);for(var On=0;On<Vr;On+=1)for(var yn=0;yn<tn.length;yn+=1)On<un[yn].length&&(wn[Sn]=un[yn][On],Sn+=1);return wn},qr=function(rn,tn,dn){for(var Yr=ur.getRSBlocks(rn,tn),Vr=fr(),Qr=0;Qr<dn.length;Qr+=1){var un=dn[Qr];Vr.put(un.getMode(),4),Vr.put(un.getLength(),ar.getLengthInBits(un.getMode(),rn)),un.write(Vr)}for(var yn=0,Qr=0;Qr<Yr.length;Qr+=1)yn+=Yr[Qr].dataCount;if(Vr.getLengthInBits()>yn*8)throw"code length overflow. ("+Vr.getLengthInBits()+">"+yn*8+")";for(Vr.getLengthInBits()+4<=yn*8&&Vr.put(0,4);Vr.getLengthInBits()%8!=0;)Vr.putBit(!1);for(;!(Vr.getLengthInBits()>=yn*8||(Vr.put(jr,8),Vr.getLengthInBits()>=yn*8));)Vr.put(Or,8);return Jr(Vr,Yr)};pr.addData=function(rn,tn){tn=tn||"Byte";var dn=null;switch(tn){case"Numeric":dn=dr(rn);break;case"Alphanumeric":dn=gr(rn);break;case"Byte":dn=br(rn);break;case"Kanji":dn=vr(rn);break;default:throw"mode:"+tn}hr.push(dn),mr=null},pr.isDark=function(rn,tn){if(rn<0||yr<=rn||tn<0||yr<=tn)throw rn+","+tn;return Tr[rn][tn]},pr.getModuleCount=function(){return yr},pr.make=function(){if(Dr<1){for(var rn=1;rn<40;rn++){for(var tn=ur.getRSBlocks(rn,Cr),dn=fr(),Yr=0;Yr<hr.length;Yr++){var Vr=hr[Yr];dn.put(Vr.getMode(),4),dn.put(Vr.getLength(),ar.getLengthInBits(Vr.getMode(),rn)),Vr.write(dn)}for(var Qr=0,Yr=0;Yr<tn.length;Yr++)Qr+=tn[Yr].dataCount;if(dn.getLengthInBits()<=Qr*8)break}Dr=rn}wr(!1,Rr())},pr.createTableTag=function(rn,tn){rn=rn||2,tn=typeof tn>"u"?rn*4:tn;var dn="";dn+='<table style="',dn+=" border-width: 0px; border-style: none;",dn+=" border-collapse: collapse;",dn+=" padding: 0px; margin: "+tn+"px;",dn+='">',dn+="<tbody>";for(var Yr=0;Yr<pr.getModuleCount();Yr+=1){dn+="<tr>";for(var Vr=0;Vr<pr.getModuleCount();Vr+=1)dn+='<td style="',dn+=" border-width: 0px; border-style: none;",dn+=" border-collapse: collapse;",dn+=" padding: 0px; margin: 0px;",dn+=" width: "+rn+"px;",dn+=" height: "+rn+"px;",dn+=" background-color: ",dn+=pr.isDark(Yr,Vr)?"#000000":"#ffffff",dn+=";",dn+='"/>';dn+="</tr>"}return dn+="</tbody>",dn+="</table>",dn},pr.createSvgTag=function(rn,tn,dn,Yr){var Vr={};typeof arguments[0]=="object"&&(Vr=arguments[0],rn=Vr.cellSize,tn=Vr.margin,dn=Vr.alt,Yr=Vr.title),rn=rn||2,tn=typeof tn>"u"?rn*4:tn,dn=typeof dn=="string"?{text:dn}:dn||{},dn.text=dn.text||null,dn.id=dn.text?dn.id||"qrcode-description":null,Yr=typeof Yr=="string"?{text:Yr}:Yr||{},Yr.text=Yr.text||null,Yr.id=Yr.text?Yr.id||"qrcode-title":null;var Qr=pr.getModuleCount()*rn+tn*2,un,yn,An,Rn,On="",xn;for(xn="l"+rn+",0 0,"+rn+" -"+rn+",0 0,-"+rn+"z ",On+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',On+=Vr.scalable?"":' width="'+Qr+'px" height="'+Qr+'px"',On+=' viewBox="0 0 '+Qr+" "+Qr+'" ',On+=' preserveAspectRatio="xMinYMin meet"',On+=Yr.text||dn.text?' role="img" aria-labelledby="'+zr([Yr.id,dn.id].join(" ").trim())+'"':"",On+=">",On+=Yr.text?'<title id="'+zr(Yr.id)+'">'+zr(Yr.text)+"</title>":"",On+=dn.text?'<description id="'+zr(dn.id)+'">'+zr(dn.text)+"</description>":"",On+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',On+='<path d="',An=0;An<pr.getModuleCount();An+=1)for(Rn=An*rn+tn,un=0;un<pr.getModuleCount();un+=1)pr.isDark(An,un)&&(yn=un*rn+tn,On+="M"+yn+","+Rn+xn);return On+='" stroke="transparent" fill="black"/>',On+="</svg>",On},pr.createDataURL=function(rn,tn){rn=rn||2,tn=typeof tn>"u"?rn*4:tn;var dn=pr.getModuleCount()*rn+tn*2,Yr=tn,Vr=dn-tn;return Ir(dn,dn,function(Qr,un){if(Yr<=Qr&&Qr<Vr&&Yr<=un&&un<Vr){var yn=Math.floor((Qr-Yr)/rn),An=Math.floor((un-Yr)/rn);return pr.isDark(An,yn)?0:1}else return 1})},pr.createImgTag=function(rn,tn,dn){rn=rn||2,tn=typeof tn>"u"?rn*4:tn;var Yr=pr.getModuleCount()*rn+tn*2,Vr="";return Vr+="<img",Vr+=' src="',Vr+=pr.createDataURL(rn,tn),Vr+='"',Vr+=' width="',Vr+=Yr,Vr+='"',Vr+=' height="',Vr+=Yr,Vr+='"',dn&&(Vr+=' alt="',Vr+=zr(dn),Vr+='"'),Vr+="/>",Vr};var zr=function(rn){for(var tn="",dn=0;dn<rn.length;dn+=1){var Yr=rn.charAt(dn);switch(Yr){case"<":tn+="&lt;";break;case">":tn+="&gt;";break;case"&":tn+="&amp;";break;case'"':tn+="&quot;";break;default:tn+=Yr;break}}return tn},sn=function(rn){var tn=1;rn=typeof rn>"u"?tn*2:rn;var dn=pr.getModuleCount()*tn+rn*2,Yr=rn,Vr=dn-rn,Qr,un,yn,An,Rn,On={"██":"█","█ ":"▀"," █":"▄","  ":" "},xn={"██":"▀","█ ":"▀"," █":" ","  ":" "},Wn="";for(Qr=0;Qr<dn;Qr+=2){for(yn=Math.floor((Qr-Yr)/tn),An=Math.floor((Qr+1-Yr)/tn),un=0;un<dn;un+=1)Rn="█",Yr<=un&&un<Vr&&Yr<=Qr&&Qr<Vr&&pr.isDark(yn,Math.floor((un-Yr)/tn))&&(Rn=" "),Yr<=un&&un<Vr&&Yr<=Qr+1&&Qr+1<Vr&&pr.isDark(An,Math.floor((un-Yr)/tn))?Rn+=" ":Rn+="█",Wn+=rn<1&&Qr+1>=Vr?xn[Rn]:On[Rn];Wn+=`
`}return dn%2&&rn>0?Wn.substring(0,Wn.length-dn-1)+Array(dn+1).join("▀"):Wn.substring(0,Wn.length-1)};return pr.createASCII=function(rn,tn){if(rn=rn||1,rn<2)return sn(tn);rn-=1,tn=typeof tn>"u"?rn*2:tn;var dn=pr.getModuleCount()*rn+tn*2,Yr=tn,Vr=dn-tn,Qr,un,yn,An,Rn=Array(rn+1).join("██"),On=Array(rn+1).join("  "),xn="",Wn="";for(Qr=0;Qr<dn;Qr+=1){for(yn=Math.floor((Qr-Yr)/rn),Wn="",un=0;un<dn;un+=1)An=1,Yr<=un&&un<Vr&&Yr<=Qr&&Qr<Vr&&pr.isDark(yn,Math.floor((un-Yr)/rn))&&(An=0),Wn+=An?Rn:On;for(yn=0;yn<rn;yn+=1)xn+=Wn+`
`}return xn.substring(0,xn.length-1)},pr.renderTo2dContext=function(rn,tn){tn=tn||2;for(var dn=pr.getModuleCount(),Yr=0;Yr<dn;Yr++)for(var Vr=0;Vr<dn;Vr++)rn.fillStyle=pr.isDark(Yr,Vr)?"black":"white",rn.fillRect(Yr*tn,Vr*tn,tn,tn)},pr};nr.stringToBytesFuncs={default:function(Nr){for(var Lr=[],jr=0;jr<Nr.length;jr+=1){var Or=Nr.charCodeAt(jr);Lr.push(Or&255)}return Lr}},nr.stringToBytes=nr.stringToBytesFuncs.default,nr.createStringToBytes=function(Nr,Lr){var jr=function(){for(var Dr=_r(Nr),Cr=function(){var Pr=Dr.read();if(Pr==-1)throw"eof";return Pr},Tr=0,yr={};;){var mr=Dr.read();if(mr==-1)break;var hr=Cr(),pr=Cr(),wr=Cr(),Ar=String.fromCharCode(mr<<8|hr),Rr=pr<<8|wr;yr[Ar]=Rr,Tr+=1}if(Tr!=Lr)throw Tr+" != "+Lr;return yr}(),Or=63;return function(Dr){for(var Cr=[],Tr=0;Tr<Dr.length;Tr+=1){var yr=Dr.charCodeAt(Tr);if(yr<128)Cr.push(yr);else{var mr=jr[Dr.charAt(Tr)];typeof mr=="number"?(mr&255)==mr?Cr.push(mr):(Cr.push(mr>>>8),Cr.push(mr&255)):Cr.push(Or)}}return Cr}};var ir={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},or={L:1,M:0,Q:3,H:2},sr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ar=function(){var Nr=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Lr=1335,jr=7973,Or=21522,Dr={},Cr=function(Tr){for(var yr=0;Tr!=0;)yr+=1,Tr>>>=1;return yr};return Dr.getBCHTypeInfo=function(Tr){for(var yr=Tr<<10;Cr(yr)-Cr(Lr)>=0;)yr^=Lr<<Cr(yr)-Cr(Lr);return(Tr<<10|yr)^Or},Dr.getBCHTypeNumber=function(Tr){for(var yr=Tr<<12;Cr(yr)-Cr(jr)>=0;)yr^=jr<<Cr(yr)-Cr(jr);return Tr<<12|yr},Dr.getPatternPosition=function(Tr){return Nr[Tr-1]},Dr.getMaskFunction=function(Tr){switch(Tr){case sr.PATTERN000:return function(yr,mr){return(yr+mr)%2==0};case sr.PATTERN001:return function(yr,mr){return yr%2==0};case sr.PATTERN010:return function(yr,mr){return mr%3==0};case sr.PATTERN011:return function(yr,mr){return(yr+mr)%3==0};case sr.PATTERN100:return function(yr,mr){return(Math.floor(yr/2)+Math.floor(mr/3))%2==0};case sr.PATTERN101:return function(yr,mr){return yr*mr%2+yr*mr%3==0};case sr.PATTERN110:return function(yr,mr){return(yr*mr%2+yr*mr%3)%2==0};case sr.PATTERN111:return function(yr,mr){return(yr*mr%3+(yr+mr)%2)%2==0};default:throw"bad maskPattern:"+Tr}},Dr.getErrorCorrectPolynomial=function(Tr){for(var yr=lr([1],0),mr=0;mr<Tr;mr+=1)yr=yr.multiply(lr([1,cr.gexp(mr)],0));return yr},Dr.getLengthInBits=function(Tr,yr){if(1<=yr&&yr<10)switch(Tr){case ir.MODE_NUMBER:return 10;case ir.MODE_ALPHA_NUM:return 9;case ir.MODE_8BIT_BYTE:return 8;case ir.MODE_KANJI:return 8;default:throw"mode:"+Tr}else if(yr<27)switch(Tr){case ir.MODE_NUMBER:return 12;case ir.MODE_ALPHA_NUM:return 11;case ir.MODE_8BIT_BYTE:return 16;case ir.MODE_KANJI:return 10;default:throw"mode:"+Tr}else if(yr<41)switch(Tr){case ir.MODE_NUMBER:return 14;case ir.MODE_ALPHA_NUM:return 13;case ir.MODE_8BIT_BYTE:return 16;case ir.MODE_KANJI:return 12;default:throw"mode:"+Tr}else throw"type:"+yr},Dr.getLostPoint=function(Tr){for(var yr=Tr.getModuleCount(),mr=0,hr=0;hr<yr;hr+=1)for(var pr=0;pr<yr;pr+=1){for(var wr=0,Ar=Tr.isDark(hr,pr),Rr=-1;Rr<=1;Rr+=1)if(!(hr+Rr<0||yr<=hr+Rr))for(var Pr=-1;Pr<=1;Pr+=1)pr+Pr<0||yr<=pr+Pr||Rr==0&&Pr==0||Ar==Tr.isDark(hr+Rr,pr+Pr)&&(wr+=1);wr>5&&(mr+=3+wr-5)}for(var hr=0;hr<yr-1;hr+=1)for(var pr=0;pr<yr-1;pr+=1){var Sr=0;Tr.isDark(hr,pr)&&(Sr+=1),Tr.isDark(hr+1,pr)&&(Sr+=1),Tr.isDark(hr,pr+1)&&(Sr+=1),Tr.isDark(hr+1,pr+1)&&(Sr+=1),(Sr==0||Sr==4)&&(mr+=3)}for(var hr=0;hr<yr;hr+=1)for(var pr=0;pr<yr-6;pr+=1)Tr.isDark(hr,pr)&&!Tr.isDark(hr,pr+1)&&Tr.isDark(hr,pr+2)&&Tr.isDark(hr,pr+3)&&Tr.isDark(hr,pr+4)&&!Tr.isDark(hr,pr+5)&&Tr.isDark(hr,pr+6)&&(mr+=40);for(var pr=0;pr<yr;pr+=1)for(var hr=0;hr<yr-6;hr+=1)Tr.isDark(hr,pr)&&!Tr.isDark(hr+1,pr)&&Tr.isDark(hr+2,pr)&&Tr.isDark(hr+3,pr)&&Tr.isDark(hr+4,pr)&&!Tr.isDark(hr+5,pr)&&Tr.isDark(hr+6,pr)&&(mr+=40);for(var Mr=0,pr=0;pr<yr;pr+=1)for(var hr=0;hr<yr;hr+=1)Tr.isDark(hr,pr)&&(Mr+=1);var Br=Math.abs(100*Mr/yr/yr-50)/5;return mr+=Br*10,mr},Dr}(),cr=function(){for(var Nr=new Array(256),Lr=new Array(256),jr=0;jr<8;jr+=1)Nr[jr]=1<<jr;for(var jr=8;jr<256;jr+=1)Nr[jr]=Nr[jr-4]^Nr[jr-5]^Nr[jr-6]^Nr[jr-8];for(var jr=0;jr<255;jr+=1)Lr[Nr[jr]]=jr;var Or={};return Or.glog=function(Dr){if(Dr<1)throw"glog("+Dr+")";return Lr[Dr]},Or.gexp=function(Dr){for(;Dr<0;)Dr+=255;for(;Dr>=256;)Dr-=255;return Nr[Dr]},Or}();function lr(Nr,Lr){if(typeof Nr.length>"u")throw Nr.length+"/"+Lr;var jr=function(){for(var Dr=0;Dr<Nr.length&&Nr[Dr]==0;)Dr+=1;for(var Cr=new Array(Nr.length-Dr+Lr),Tr=0;Tr<Nr.length-Dr;Tr+=1)Cr[Tr]=Nr[Tr+Dr];return Cr}(),Or={};return Or.getAt=function(Dr){return jr[Dr]},Or.getLength=function(){return jr.length},Or.multiply=function(Dr){for(var Cr=new Array(Or.getLength()+Dr.getLength()-1),Tr=0;Tr<Or.getLength();Tr+=1)for(var yr=0;yr<Dr.getLength();yr+=1)Cr[Tr+yr]^=cr.gexp(cr.glog(Or.getAt(Tr))+cr.glog(Dr.getAt(yr)));return lr(Cr,0)},Or.mod=function(Dr){if(Or.getLength()-Dr.getLength()<0)return Or;for(var Cr=cr.glog(Or.getAt(0))-cr.glog(Dr.getAt(0)),Tr=new Array(Or.getLength()),yr=0;yr<Or.getLength();yr+=1)Tr[yr]=Or.getAt(yr);for(var yr=0;yr<Dr.getLength();yr+=1)Tr[yr]^=cr.gexp(cr.glog(Dr.getAt(yr))+Cr);return lr(Tr,0).mod(Dr)},Or}var ur=function(){var Nr=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Lr=function(Dr,Cr){var Tr={};return Tr.totalCount=Dr,Tr.dataCount=Cr,Tr},jr={},Or=function(Dr,Cr){switch(Cr){case or.L:return Nr[(Dr-1)*4+0];case or.M:return Nr[(Dr-1)*4+1];case or.Q:return Nr[(Dr-1)*4+2];case or.H:return Nr[(Dr-1)*4+3];default:return}};return jr.getRSBlocks=function(Dr,Cr){var Tr=Or(Dr,Cr);if(typeof Tr>"u")throw"bad rs block @ typeNumber:"+Dr+"/errorCorrectionLevel:"+Cr;for(var yr=Tr.length/3,mr=[],hr=0;hr<yr;hr+=1)for(var pr=Tr[hr*3+0],wr=Tr[hr*3+1],Ar=Tr[hr*3+2],Rr=0;Rr<pr;Rr+=1)mr.push(Lr(wr,Ar));return mr},jr}(),fr=function(){var Nr=[],Lr=0,jr={};return jr.getBuffer=function(){return Nr},jr.getAt=function(Or){var Dr=Math.floor(Or/8);return(Nr[Dr]>>>7-Or%8&1)==1},jr.put=function(Or,Dr){for(var Cr=0;Cr<Dr;Cr+=1)jr.putBit((Or>>>Dr-Cr-1&1)==1)},jr.getLengthInBits=function(){return Lr},jr.putBit=function(Or){var Dr=Math.floor(Lr/8);Nr.length<=Dr&&Nr.push(0),Or&&(Nr[Dr]|=128>>>Lr%8),Lr+=1},jr},dr=function(Nr){var Lr=ir.MODE_NUMBER,jr=Nr,Or={};Or.getMode=function(){return Lr},Or.getLength=function(Tr){return jr.length},Or.write=function(Tr){for(var yr=jr,mr=0;mr+2<yr.length;)Tr.put(Dr(yr.substring(mr,mr+3)),10),mr+=3;mr<yr.length&&(yr.length-mr==1?Tr.put(Dr(yr.substring(mr,mr+1)),4):yr.length-mr==2&&Tr.put(Dr(yr.substring(mr,mr+2)),7))};var Dr=function(Tr){for(var yr=0,mr=0;mr<Tr.length;mr+=1)yr=yr*10+Cr(Tr.charAt(mr));return yr},Cr=function(Tr){if("0"<=Tr&&Tr<="9")return Tr.charCodeAt(0)-48;throw"illegal char :"+Tr};return Or},gr=function(Nr){var Lr=ir.MODE_ALPHA_NUM,jr=Nr,Or={};Or.getMode=function(){return Lr},Or.getLength=function(Cr){return jr.length},Or.write=function(Cr){for(var Tr=jr,yr=0;yr+1<Tr.length;)Cr.put(Dr(Tr.charAt(yr))*45+Dr(Tr.charAt(yr+1)),11),yr+=2;yr<Tr.length&&Cr.put(Dr(Tr.charAt(yr)),6)};var Dr=function(Cr){if("0"<=Cr&&Cr<="9")return Cr.charCodeAt(0)-48;if("A"<=Cr&&Cr<="Z")return Cr.charCodeAt(0)-65+10;switch(Cr){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+Cr}};return Or},br=function(Nr){var Lr=ir.MODE_8BIT_BYTE,jr=nr.stringToBytes(Nr),Or={};return Or.getMode=function(){return Lr},Or.getLength=function(Dr){return jr.length},Or.write=function(Dr){for(var Cr=0;Cr<jr.length;Cr+=1)Dr.put(jr[Cr],8)},Or},vr=function(Nr){var Lr=ir.MODE_KANJI,jr=nr.stringToBytesFuncs.SJIS;if(!jr)throw"sjis not supported.";(function(Cr,Tr){var yr=jr(Cr);if(yr.length!=2||(yr[0]<<8|yr[1])!=Tr)throw"sjis not supported."})("友",38726);var Or=jr(Nr),Dr={};return Dr.getMode=function(){return Lr},Dr.getLength=function(Cr){return~~(Or.length/2)},Dr.write=function(Cr){for(var Tr=Or,yr=0;yr+1<Tr.length;){var mr=(255&Tr[yr])<<8|255&Tr[yr+1];if(33088<=mr&&mr<=40956)mr-=33088;else if(57408<=mr&&mr<=60351)mr-=49472;else throw"illegal char at "+(yr+1)+"/"+mr;mr=(mr>>>8&255)*192+(mr&255),Cr.put(mr,13),yr+=2}if(yr<Tr.length)throw"illegal char at "+(yr+1)},Dr},$r=function(){var Nr=[],Lr={};return Lr.writeByte=function(jr){Nr.push(jr&255)},Lr.writeShort=function(jr){Lr.writeByte(jr),Lr.writeByte(jr>>>8)},Lr.writeBytes=function(jr,Or,Dr){Or=Or||0,Dr=Dr||jr.length;for(var Cr=0;Cr<Dr;Cr+=1)Lr.writeByte(jr[Cr+Or])},Lr.writeString=function(jr){for(var Or=0;Or<jr.length;Or+=1)Lr.writeByte(jr.charCodeAt(Or))},Lr.toByteArray=function(){return Nr},Lr.toString=function(){var jr="";jr+="[";for(var Or=0;Or<Nr.length;Or+=1)Or>0&&(jr+=","),jr+=Nr[Or];return jr+="]",jr},Lr},Er=function(){var Nr=0,Lr=0,jr=0,Or="",Dr={},Cr=function(yr){Or+=String.fromCharCode(Tr(yr&63))},Tr=function(yr){if(!(yr<0)){if(yr<26)return 65+yr;if(yr<52)return 97+(yr-26);if(yr<62)return 48+(yr-52);if(yr==62)return 43;if(yr==63)return 47}throw"n:"+yr};return Dr.writeByte=function(yr){for(Nr=Nr<<8|yr&255,Lr+=8,jr+=1;Lr>=6;)Cr(Nr>>>Lr-6),Lr-=6},Dr.flush=function(){if(Lr>0&&(Cr(Nr<<6-Lr),Nr=0,Lr=0),jr%3!=0)for(var yr=3-jr%3,mr=0;mr<yr;mr+=1)Or+="="},Dr.toString=function(){return Or},Dr},_r=function(Nr){var Lr=Nr,jr=0,Or=0,Dr=0,Cr={};Cr.read=function(){for(;Dr<8;){if(jr>=Lr.length){if(Dr==0)return-1;throw"unexpected end of file./"+Dr}var yr=Lr.charAt(jr);if(jr+=1,yr=="=")return Dr=0,-1;if(yr.match(/^\s$/))continue;Or=Or<<6|Tr(yr.charCodeAt(0)),Dr+=6}var mr=Or>>>Dr-8&255;return Dr-=8,mr};var Tr=function(yr){if(65<=yr&&yr<=90)return yr-65;if(97<=yr&&yr<=122)return yr-97+26;if(48<=yr&&yr<=57)return yr-48+52;if(yr==43)return 62;if(yr==47)return 63;throw"c:"+yr};return Cr},xr=function(Nr,Lr){var jr=Nr,Or=Lr,Dr=new Array(Nr*Lr),Cr={};Cr.setPixel=function(hr,pr,wr){Dr[pr*jr+hr]=wr},Cr.write=function(hr){hr.writeString("GIF87a"),hr.writeShort(jr),hr.writeShort(Or),hr.writeByte(128),hr.writeByte(0),hr.writeByte(0),hr.writeByte(0),hr.writeByte(0),hr.writeByte(0),hr.writeByte(255),hr.writeByte(255),hr.writeByte(255),hr.writeString(","),hr.writeShort(0),hr.writeShort(0),hr.writeShort(jr),hr.writeShort(Or),hr.writeByte(0);var pr=2,wr=yr(pr);hr.writeByte(pr);for(var Ar=0;wr.length-Ar>255;)hr.writeByte(255),hr.writeBytes(wr,Ar,255),Ar+=255;hr.writeByte(wr.length-Ar),hr.writeBytes(wr,Ar,wr.length-Ar),hr.writeByte(0),hr.writeString(";")};var Tr=function(hr){var pr=hr,wr=0,Ar=0,Rr={};return Rr.write=function(Pr,Sr){if(Pr>>>Sr)throw"length over";for(;wr+Sr>=8;)pr.writeByte(255&(Pr<<wr|Ar)),Sr-=8-wr,Pr>>>=8-wr,Ar=0,wr=0;Ar=Pr<<wr|Ar,wr=wr+Sr},Rr.flush=function(){wr>0&&pr.writeByte(Ar)},Rr},yr=function(hr){for(var pr=1<<hr,wr=(1<<hr)+1,Ar=hr+1,Rr=mr(),Pr=0;Pr<pr;Pr+=1)Rr.add(String.fromCharCode(Pr));Rr.add(String.fromCharCode(pr)),Rr.add(String.fromCharCode(wr));var Sr=$r(),Mr=Tr(Sr);Mr.write(pr,Ar);var Br=0,Ur=String.fromCharCode(Dr[Br]);for(Br+=1;Br<Dr.length;){var Jr=String.fromCharCode(Dr[Br]);Br+=1,Rr.contains(Ur+Jr)?Ur=Ur+Jr:(Mr.write(Rr.indexOf(Ur),Ar),Rr.size()<4095&&(Rr.size()==1<<Ar&&(Ar+=1),Rr.add(Ur+Jr)),Ur=Jr)}return Mr.write(Rr.indexOf(Ur),Ar),Mr.write(wr,Ar),Mr.flush(),Sr.toByteArray()},mr=function(){var hr={},pr=0,wr={};return wr.add=function(Ar){if(wr.contains(Ar))throw"dup key:"+Ar;hr[Ar]=pr,pr+=1},wr.size=function(){return pr},wr.indexOf=function(Ar){return hr[Ar]},wr.contains=function(Ar){return typeof hr[Ar]<"u"},wr};return Cr},Ir=function(Nr,Lr,jr){for(var Or=xr(Nr,Lr),Dr=0;Dr<Lr;Dr+=1)for(var Cr=0;Cr<Nr;Cr+=1)Or.setPixel(Cr,Dr,jr(Cr,Dr));var Tr=$r();Or.write(Tr);for(var yr=Er(),mr=Tr.toByteArray(),hr=0;hr<mr.length;hr+=1)yr.writeByte(mr[hr]);return yr.flush(),"data:image/gif;base64,"+yr};return nr}();(function(){rr.stringToBytesFuncs["UTF-8"]=function(nr){function ir(or){for(var sr=[],ar=0;ar<or.length;ar++){var cr=or.charCodeAt(ar);cr<128?sr.push(cr):cr<2048?sr.push(192|cr>>6,128|cr&63):cr<55296||cr>=57344?sr.push(224|cr>>12,128|cr>>6&63,128|cr&63):(ar++,cr=65536+((cr&1023)<<10|or.charCodeAt(ar)&1023),sr.push(240|cr>>18,128|cr>>12&63,128|cr>>6&63,128|cr&63))}return sr}return ir(nr)}})(),function(nr){tr.exports=nr()}(function(){return rr})})(qrcode);var qrcodeExports=qrcode.exports,__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var tr=function(er,rr){return tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nr,ir){nr.__proto__=ir}||function(nr,ir){for(var or in ir)Object.prototype.hasOwnProperty.call(ir,or)&&(nr[or]=ir[or])},tr(er,rr)};return function(er,rr){if(typeof rr!="function"&&rr!==null)throw new TypeError("Class extends value "+String(rr)+" is not a constructor or null");tr(er,rr);function nr(){this.constructor=er}er.prototype=rr===null?Object.create(rr):(nr.prototype=rr.prototype,new nr)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(tr){for(var er,rr=1,nr=arguments.length;rr<nr;rr++){er=arguments[rr];for(var ir in er)Object.prototype.hasOwnProperty.call(er,ir)&&(tr[ir]=er[ir])}return tr},__assign.apply(this,arguments)};Object.defineProperty(dist$1,"__esModule",{value:!0});var QRCode_1=dist$1.QRCode=void 0,isEqual=lodash_isequalExports,qrGenerator=qrcodeExports,React=reactExports,QRCode=function(tr){__extends$1(er,tr);function er(rr){var nr=tr.call(this,rr)||this;return nr.canvasRef=React.createRef(),nr}return er.prototype.download=function(rr,nr){if(this.canvasRef.current){var ir=void 0;switch(rr){case"jpg":ir="image/jpeg";break;case"webp":ir="image/webp";break;case"png":default:ir="image/png";break}var or=this.canvasRef.current.toDataURL(ir,1),sr=document.createElement("a");sr.download=nr??"react-qrcode-logo",sr.href=or,sr.click()}},er.prototype.utf16to8=function(rr){var nr="",ir,or,sr=rr.length;for(ir=0;ir<sr;ir++)or=rr.charCodeAt(ir),or>=1&&or<=127?nr+=rr.charAt(ir):or>2047?(nr+=String.fromCharCode(224|or>>12&15),nr+=String.fromCharCode(128|or>>6&63),nr+=String.fromCharCode(128|or>>0&63)):(nr+=String.fromCharCode(192|or>>6&31),nr+=String.fromCharCode(128|or>>0&63));return nr},er.prototype.drawRoundedSquare=function(rr,nr,ir,or,sr,ar,cr,lr){lr.lineWidth=rr,lr.fillStyle=sr,lr.strokeStyle=sr,ir+=rr/2,nr+=rr/2,or-=rr,Array.isArray(ar)||(ar=[ar,ar,ar,ar]),ar=ar.map(function(br){return br=Math.min(br,or/2),br<0?0:br});var ur=ar[0]||0,fr=ar[1]||0,dr=ar[2]||0,gr=ar[3]||0;lr.beginPath(),lr.moveTo(nr+ur,ir),lr.lineTo(nr+or-fr,ir),fr&&lr.quadraticCurveTo(nr+or,ir,nr+or,ir+fr),lr.lineTo(nr+or,ir+or-dr),dr&&lr.quadraticCurveTo(nr+or,ir+or,nr+or-dr,ir+or),lr.lineTo(nr+gr,ir+or),gr&&lr.quadraticCurveTo(nr,ir+or,nr,ir+or-gr),lr.lineTo(nr,ir+ur),ur&&lr.quadraticCurveTo(nr,ir,nr+ur,ir),lr.closePath(),lr.stroke(),cr&&lr.fill()},er.prototype.drawPositioningPattern=function(rr,nr,ir,or,sr,ar,cr){cr===void 0&&(cr=[0,0,0,0]);var lr=Math.ceil(nr),ur,fr;typeof cr!="number"&&!Array.isArray(cr)?(ur=cr.outer||0,fr=cr.inner||0):(ur=cr,fr=ur);var dr,gr;typeof ar!="string"?(dr=ar.outer,gr=ar.inner):(dr=ar,gr=ar);var br=or*nr+ir,vr=sr*nr+ir,$r=nr*7;this.drawRoundedSquare(lr,vr,br,$r,dr,ur,!1,rr),$r=nr*3,br+=nr*2,vr+=nr*2,this.drawRoundedSquare(lr,vr,br,$r,gr,fr,!0,rr)},er.prototype.isInPositioninZone=function(rr,nr,ir){return ir.some(function(or){return nr>=or.row&&nr<=or.row+7&&rr>=or.col&&rr<=or.col+7})},er.prototype.transformPixelLengthIntoNumberOfCells=function(rr,nr){return rr/nr},er.prototype.isCoordinateInImage=function(rr,nr,ir,or,sr,ar,cr,lr){if(lr){var ur=2,fr=this.transformPixelLengthIntoNumberOfCells(sr,cr),dr=this.transformPixelLengthIntoNumberOfCells(ar,cr),gr=this.transformPixelLengthIntoNumberOfCells(ir,cr)-1,br=this.transformPixelLengthIntoNumberOfCells(or,cr)-1;return nr>=fr-ur&&nr<=fr+gr+ur&&rr>=dr-ur&&rr<=dr+br+ur}else return!1},er.prototype.shouldComponentUpdate=function(rr){return!isEqual(this.props,rr)},er.prototype.componentDidMount=function(){this.update()},er.prototype.componentDidUpdate=function(){this.update()},er.prototype.update=function(){var rr,nr=this.props,ir=nr.value,or=nr.ecLevel,sr=nr.enableCORS,ar=nr.bgColor,cr=nr.fgColor,lr=nr.logoImage,ur=nr.logoOpacity,fr=nr.logoOnLoad,dr=nr.removeQrCodeBehindLogo,gr=nr.qrStyle,br=nr.eyeRadius,vr=nr.eyeColor,$r=nr.logoPaddingStyle,Er=+this.props.size,_r=+this.props.quietZone,xr=this.props.logoWidth?+this.props.logoWidth:0,Ir=this.props.logoHeight?+this.props.logoHeight:0,Nr=this.props.logoPadding?+this.props.logoPadding:0,Lr=qrGenerator(0,or);Lr.addData(this.utf16to8(ir)),Lr.make();var jr=(rr=this.canvasRef)===null||rr===void 0?void 0:rr.current,Or=jr.getContext("2d"),Dr=Er+2*_r,Cr=Lr.getModuleCount(),Tr=Er/Cr,yr=window.devicePixelRatio||1;jr.height=jr.width=Dr*yr,Or.scale(yr,yr),Or.fillStyle=ar,Or.fillRect(0,0,Dr,Dr);var mr=_r,hr=[{row:0,col:0},{row:0,col:Cr-7},{row:Cr-7,col:0}];if(Or.strokeStyle=cr,gr==="dots"){Or.fillStyle=cr;for(var pr=Tr/2,wr=0;wr<Cr;wr++)for(var Ar=0;Ar<Cr;Ar++)Lr.isDark(wr,Ar)&&!this.isInPositioninZone(wr,Ar,hr)&&(Or.beginPath(),Or.arc(Math.round(Ar*Tr)+pr+mr,Math.round(wr*Tr)+pr+mr,pr/100*75,0,2*Math.PI,!1),Or.closePath(),Or.fill())}else if(gr==="fluid"){for(var pr=Math.ceil(Tr/2),wr=0;wr<Cr;wr++)for(var Ar=0;Ar<Cr;Ar++)if(Lr.isDark(wr,Ar)&&!this.isInPositioninZone(wr,Ar,hr)){var Rr=[!1,!1,!1,!1];wr>0&&!Lr.isDark(wr-1,Ar)&&Ar>0&&!Lr.isDark(wr,Ar-1)&&(Rr[0]=!0),wr>0&&!Lr.isDark(wr-1,Ar)&&Ar<Cr-1&&!Lr.isDark(wr,Ar+1)&&(Rr[1]=!0),wr<Cr-1&&!Lr.isDark(wr+1,Ar)&&Ar<Cr-1&&!Lr.isDark(wr,Ar+1)&&(Rr[2]=!0),wr<Cr-1&&!Lr.isDark(wr+1,Ar)&&Ar>0&&!Lr.isDark(wr,Ar-1)&&(Rr[3]=!0);var Pr=Math.ceil((Ar+1)*Tr)-Math.floor(Ar*Tr),Sr=Math.ceil((wr+1)*Tr)-Math.floor(wr*Tr);Or.fillStyle=cr,Or.beginPath(),Or.arc(Math.round(Ar*Tr)+pr+mr,Math.round(wr*Tr)+pr+mr,pr,0,2*Math.PI,!1),Or.closePath(),Or.fill(),Rr[0]||Or.fillRect(Math.round(Ar*Tr)+mr,Math.round(wr*Tr)+mr,Pr/2,Sr/2),Rr[1]||Or.fillRect(Math.round(Ar*Tr)+mr+Math.floor(Pr/2),Math.round(wr*Tr)+mr,Pr/2,Sr/2),Rr[2]||Or.fillRect(Math.round(Ar*Tr)+mr+Math.floor(Pr/2),Math.round(wr*Tr)+mr+Math.floor(Sr/2),Pr/2,Sr/2),Rr[3]||Or.fillRect(Math.round(Ar*Tr)+mr,Math.round(wr*Tr)+mr+Math.floor(Sr/2),Pr/2,Sr/2)}}else for(var wr=0;wr<Cr;wr++)for(var Ar=0;Ar<Cr;Ar++)if(Lr.isDark(wr,Ar)&&!this.isInPositioninZone(wr,Ar,hr)){Or.fillStyle=cr;var Pr=Math.ceil((Ar+1)*Tr)-Math.floor(Ar*Tr),Sr=Math.ceil((wr+1)*Tr)-Math.floor(wr*Tr);Or.fillRect(Math.round(Ar*Tr)+mr,Math.round(wr*Tr)+mr,Pr,Sr)}for(var Mr=0;Mr<3;Mr++){var Br=hr[Mr],wr=Br.row,Ar=Br.col,Ur=br,Jr=void 0;Array.isArray(Ur)&&(Ur=Ur[Mr]),typeof Ur=="number"&&(Ur=[Ur,Ur,Ur,Ur]),vr?Array.isArray(vr)?Jr=vr[Mr]:Jr=vr:Jr=cr,this.drawPositioningPattern(Or,Tr,mr,wr,Ar,Jr,Ur)}if(lr){var qr=new Image;sr&&(qr.crossOrigin="Anonymous"),qr.onload=function(zr){Or.save();var sn=xr||Er*.2,rn=Ir||sn,tn=(Er-sn)/2,dn=(Er-rn)/2;if(dr||Nr){Or.beginPath(),Or.strokeStyle=ar,Or.fillStyle=ar;var Yr=sn+2*Nr,Vr=rn+2*Nr,Qr=tn+mr-Nr,un=dn+mr-Nr;if($r==="circle"){var yn=Qr+Yr/2,An=un+Vr/2;Or.ellipse(yn,An,Yr/2,Vr/2,0,0,2*Math.PI),Or.stroke(),Or.fill()}else Or.fillRect(Qr,un,Yr,Vr)}Or.globalAlpha=ur,Or.drawImage(qr,tn+mr,dn+mr,sn,rn),Or.restore(),fr&&fr(zr)},qr.src=lr}},er.prototype.render=function(){var rr,nr=+this.props.size+2*+this.props.quietZone;return React.createElement("canvas",{id:(rr=this.props.id)!==null&&rr!==void 0?rr:"react-qrcode-logo",height:nr,width:nr,style:__assign({height:nr+"px",width:nr+"px"},this.props.style),ref:this.canvasRef})},er.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},er}(React.Component);QRCode_1=dist$1.QRCode=QRCode;var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(tr){(function(){var er={}.hasOwnProperty;function rr(){for(var or="",sr=0;sr<arguments.length;sr++){var ar=arguments[sr];ar&&(or=ir(or,nr(ar)))}return or}function nr(or){if(typeof or=="string"||typeof or=="number")return or;if(typeof or!="object")return"";if(Array.isArray(or))return rr.apply(null,or);if(or.toString!==Object.prototype.toString&&!or.toString.toString().includes("[native code]"))return or.toString();var sr="";for(var ar in or)er.call(or,ar)&&or[ar]&&(sr=ir(sr,ar));return sr}function ir(or,sr){return sr?or?or+" "+sr:or+sr:or}tr.exports?(rr.default=rr,tr.exports=rr):window.classNames=rr})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function capitalizeFirstLetter(tr){return tr.charAt(0).toUpperCase()+tr.slice(1)}const OPENLOGIN_PROVIDERS=Object.values(LOGIN_PROVIDER).filter(tr=>tr!==LOGIN_PROVIDER.WEBAUTHN&&tr!==LOGIN_PROVIDER.JWT),OPENLOGIN_PROVIDERS_NAMES=OPENLOGIN_PROVIDERS.reduce((tr,er)=>(er==="email_passwordless"?tr[er]="Email":er==="sms_passwordless"?tr[er]="Mobile":tr[er]=capitalizeFirstLetter(er),tr),{}),LOGIN_MODAL_EVENTS={INIT_EXTERNAL_WALLETS:"INIT_EXTERNAL_WALLETS",LOGIN:"LOGIN",DISCONNECT:"DISCONNECT",MODAL_VISIBILITY:"MODAL_VISIBILITY"},MODAL_STATUS={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"},DEFAULT_LOGO_LIGHT="https://images.web3auth.io/web3auth-logo-w.svg",DEFAULT_LOGO_DARK="https://images.web3auth.io/web3auth-logo-w-light.svg",WALLET_CONNECT_LOGO="https://images.web3auth.io/login-wallet-connect.svg";function styleInject(tr,er){er===void 0&&(er={});var rr=er.insertAt;if(!(!tr||typeof document>"u")){var nr=document.head||document.getElementsByTagName("head")[0],ir=document.createElement("style");ir.type="text/css",rr==="top"&&nr.firstChild?nr.insertBefore(ir,nr.firstChild):nr.appendChild(ir),ir.styleSheet?ir.styleSheet.cssText=tr:ir.appendChild(document.createTextNode(tr))}}var css_248z$1=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");
/*! tailwindcss v3.4.9 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]{display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container .container{width:100%}@media (min-width:380px){.w3a-parent-container .container{max-width:380px}}@media (min-width:440px){.w3a-parent-container .container{max-width:440px}}@media (min-width:570px){.w3a-parent-container .container{max-width:570px}}@media (min-width:640px){.w3a-parent-container .container{max-width:640px}}@media (min-width:768px){.w3a-parent-container .container{max-width:768px}}@media (min-width:840px){.w3a-parent-container .container{max-width:840px}}@media (min-width:1024px){.w3a-parent-container .container{max-width:1024px}}@media (min-width:1280px){.w3a-parent-container .container{max-width:1280px}}@media (min-width:1536px){.w3a-parent-container .container{max-width:1536px}}.w3a-parent-container .absolute{position:absolute}.w3a-parent-container .relative{position:relative}.w3a-parent-container .top-4{top:1rem}.w3a-parent-container .z-20{z-index:20}.w3a-parent-container .col-span-2{grid-column:span 2/span 2}.w3a-parent-container .col-span-3{grid-column:span 3/span 3}.w3a-parent-container .col-span-6{grid-column:span 6/span 6}.w3a-parent-container .-mb-2{margin-bottom:-.5rem}.w3a-parent-container .-ml-\\[100px\\]{margin-left:-100px}.w3a-parent-container .mb-1{margin-bottom:.25rem}.w3a-parent-container .mb-4{margin-bottom:1rem}.w3a-parent-container .mb-5{margin-bottom:1.25rem}.w3a-parent-container .ml-2{margin-left:.5rem}.w3a-parent-container .ml-\\[3px\\]{margin-left:3px}.w3a-parent-container .mt-4{margin-top:1rem}.w3a-parent-container .block{display:block}.w3a-parent-container .flex{display:flex}.w3a-parent-container .hidden{display:none}.w3a-parent-container .h-3{height:.75rem}.w3a-parent-container .h-4{height:1rem}.w3a-parent-container .w-3{width:.75rem}.w3a-parent-container .w-\\[270px\\]{width:270px}.w3a-parent-container .w-\\[300px\\]{width:300px}.w3a-parent-container .w-full{width:100%}.w3a-parent-container .-translate-x-16{--tw-translate-x:-4rem}.w3a-parent-container .-translate-x-16,.w3a-parent-container .rotate-45{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .rotate-45{--tw-rotate:45deg}.w3a-parent-container .cursor-pointer{cursor:pointer}.w3a-parent-container .flex-col{flex-direction:column}.w3a-parent-container .items-center{align-items:center}.w3a-parent-container .justify-center{justify-content:center}.w3a-parent-container .gap-2{gap:.5rem}.w3a-parent-container .rounded-full{border-radius:9999px}.w3a-parent-container .rounded-md{border-radius:.375rem}.w3a-parent-container .bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .p-2{padding:.5rem}.w3a-parent-container .p-4{padding:1rem}.w3a-parent-container .text-left{text-align:left}.w3a-parent-container .text-right{text-align:right}.w3a-parent-container .text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .font-medium{font-weight:500}.w3a-parent-container .leading-none{line-height:1}.w3a-parent-container .text-app-gray-300{color:var(--app-gray-300)}.w3a-parent-container .text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .text-app-white{color:var(--app-white)}.w3a-parent-container .shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container .filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.w3a-parent-container input[type=number]::-webkit-inner-spin-button,.w3a-parent-container input[type=number]::-webkit-outer-spin-button{appearance:none}.w3a-parent-container #w3a-modal{align-items:center;box-sizing:border-box;display:flex;font-family:Inter;inset:0;justify-content:center;padding:1rem;position:fixed}.w3a-parent-container #w3a-modal.w3a-modal--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-modal__inner{--tw-shadow:0px 4px 16px #00000014;--tw-shadow-colored:0px 4px 16px var(--tw-shadow-color);background-color:var(--app-white);border-color:var(--app-gray-100);border-radius:32px;border-width:1px;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);display:flex;flex-direction:column;max-height:95%;max-width:392px;min-height:630px;opacity:0;overflow-x:hidden;overflow-y:hidden;position:relative;width:100%}.w3a-parent-container #w3a-modal .w3a-modal__inner:is(.dark *){background-color:var(--app-gray-800);border-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-modal__inner{transform:scale(0);transform-origin:center center;transition:all .15s cubic-bezier(.92,0,1,.67)}.w3a-parent-container #w3a-modal .w3a-modal__inner.w3a-modal__inner--active{opacity:1;transform:scale(1);transform-origin:center center;transition:all .15s cubic-bezier(0,.73,.71,1)}.w3a-parent-container #w3a-modal .w3a-modal__header{padding:.5rem 2rem;position:relative}.w3a-parent-container #w3a-modal .w3a-modal__content{overflow-y:auto;padding:1rem 2rem}.w3a-parent-container #w3a-modal .w3a-modal__footer{align-items:center;justify-content:center;margin-top:auto;padding:1rem 2rem;text-align:center}.w3a-parent-container #w3a-modal .w3a-header{align-items:center;display:flex;padding-top:2rem}.w3a-parent-container #w3a-modal .w3a-header__logo{margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-header__logo img{height:auto;width:2.5rem}.w3a-parent-container #w3a-modal .w3a-header__title{color:var(--app-gray-900);font-size:1.25rem;font-weight:700;line-height:1.75rem}.w3a-parent-container #w3a-modal .w3a-header__title:is(.dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal div.w3a-header__subtitle{align-items:center;color:var(--app-gray-500);display:flex;font-size:.875rem;font-weight:400;line-height:1.25rem}.w3a-parent-container #w3a-modal div.w3a-header__subtitle:is(.dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal div.w3a-header__subtitle img{height:14px;margin-left:.25rem;width:14px}.w3a-parent-container #w3a-modal button.w3a-header__button{border-width:0;cursor:pointer;padding:0;position:absolute;right:1.75rem;top:1.25rem}.w3a-parent-container #w3a-modal button.w3a-header__button:active,.w3a-parent-container #w3a-modal button.w3a-header__button:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal button.w3a-header__button:focus:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-header__button:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal div.w3a-social__policy{color:var(--app-gray-500);font-size:.75rem;font-weight:500;line-height:1rem;margin-top:1rem;text-align:left}.w3a-parent-container #w3a-modal div.w3a-social__policy:is(.dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-group{margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-group:last-child{margin-bottom:0}.w3a-parent-container #w3a-modal .w3ajs-passwordless div.w3a-group__title{align-items:center;display:flex}.w3a-parent-container #w3a-modal .w3ajs-passwordless div.w3a-group__title img{height:14px;margin-left:.25rem;width:14px}.w3a-parent-container #w3a-modal .w3a-group.w3a-group--email-hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--ext-wallet-hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--social-hidden{display:none}.w3a-parent-container #w3a-modal div.w3a-group__title{color:var(--app-gray-900);font-size:.875rem;font-weight:500;line-height:1.25rem;margin-bottom:.5rem}.w3a-parent-container #w3a-modal div.w3a-group__title:is(.dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal ul.w3a-adapter-list{column-gap:.5rem;display:grid;grid-template-columns:repeat(6,minmax(0,1fr));max-height:500px;overflow-y:hidden;padding:1px;row-gap:1rem;transition:max-height .35s;transition-timing-function:cubic-bezier(.92,0,.74,1)}.w3a-parent-container #w3a-modal ul.w3a-adapter-list.w3a-adapter-list--shrink{max-height:108px;transition:max-height .3s;transition-timing-function:cubic-bezier(0,.73,.71,1)}.w3a-parent-container #w3a-modal ul.w3a-adapter-list.w3a-adapter-list--hidden{display:none}.w3a-parent-container #w3a-modal li.w3a-adapter-item{list-style-type:none}.w3a-parent-container #w3a-modal li.w3a-adapter-item--full{grid-column:span 6/span 6}.w3a-parent-container #w3a-modal .w3a-adapter-item--hide{display:none}.w3a-parent-container #w3a-modal .w3a-external-toggle{display:block}.w3a-parent-container #w3a-modal .w3a-external-toggle.w3a-external-toggle--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-external-container{display:block;margin-bottom:0}.w3a-parent-container #w3a-modal .w3a-external-container.w3a-external-container--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-external-group{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-external-group__left{flex-grow:1}.w3a-parent-container #w3a-modal button.w3a-external-back{align-items:center;background-image:none;border-width:0;color:var(--app-gray-500);cursor:pointer;display:inline-flex;margin-bottom:.5rem;padding:0}.w3a-parent-container #w3a-modal button.w3a-external-back:active,.w3a-parent-container #w3a-modal button.w3a-external-back:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal button.w3a-external-back:is(.dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.w3a-external-back:focus:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-external-back:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-external-back .w3a-group__title{color:var(--app-gray-400);margin-bottom:0;margin-left:5px}.w3a-parent-container #w3a-modal .w3a-external-loader{display:flex;justify-content:center}.w3a-parent-container #w3a-modal .w3a-wallet-connect{display:block;margin-bottom:1rem;text-align:center}.w3a-parent-container #w3a-modal .w3a-wallet-connect.w3a-wallet-connect--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container{background-color:var(--app-white);border-radius:10px;color:var(--app-gray-500);font-size:.625rem;margin-left:auto;margin-right:auto;min-width:250px;padding:1rem .75rem;width:fit-content}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container:is(.dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-android,.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-desktop{margin:auto}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-btn-group{display:flex;gap:18px}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-ios{box-sizing:border-box;column-gap:1.25rem;display:flex;flex-wrap:wrap;padding:0 0 1.75rem;row-gap:30px}.w3a-parent-container #w3a-modal .w3a-wallet-connect-qr{margin:1rem}.w3a-parent-container #w3a-modal .w3a-wallet-connect-qr>canvas,.w3a-parent-container #w3a-modal .w3a-wallet-connect-qr>svg{margin:auto}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-android a{text-decoration-line:none}.w3a-parent-container #w3a-modal .w3a-wallet-connect__logo>img{margin:0 auto 1rem;width:115px}.w3a-parent-container #w3a-modal .w3a-footer{align-items:center;color:var(--app-gray-400);display:flex;font-size:.75rem;justify-content:center;line-height:1rem}.w3a-parent-container #w3a-modal .w3a-footer__links a:active,.w3a-parent-container #w3a-modal .w3a-footer__links a:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-footer__links a:focus:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-footer__links a:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-footer__links span{margin:0 4px}.w3a-parent-container #w3a-modal.w3a-modal--light .w3a-footer__links a:focus-visible{outline:1px solid #0f1222}.w3a-parent-container #w3a-modal.w3a-modal--light .w3a-external-back:focus-visible{outline:1px solid #0f1222}.w3a-parent-container #w3a-modal .hover-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal .w3a-text-field{background-color:var(--app-gray-50);border-color:var(--app-gray-300);border-radius:9999px;border-width:1px;color:var(--app-gray-900);font-size:.875rem;line-height:1.25rem;margin-top:.5rem;padding:.75rem 1.5rem}.w3a-parent-container #w3a-modal .w3a-text-field::placeholder{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-text-field{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);outline-width:0}.w3a-parent-container #w3a-modal .w3a-text-field:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);border-color:#0000;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .w3a-text-field:disabled{cursor:not-allowed}.w3a-parent-container #w3a-modal .w3a-text-field:disabled::placeholder{color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-text-field:is(.dark *){background-color:var(--app-gray-600);border-color:var(--app-gray-500);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-text-field:is(.dark *)::placeholder{color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-text-field:focus:is(.dark *){--tw-ring-color:var(--app-primary-500);border-color:#0000}.w3a-parent-container #w3a-modal .w3a-text-field:disabled:is(.dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-text-field{line-height:1.25em}.w3a-parent-container #w3a-modal .w3a-text-field--country-code{display:flex;justify-content:space-between;padding-left:1rem;padding-right:1rem;width:100%}.w3a-parent-container #w3a-modal .w3a-text-field--number{appearance:none}.w3a-parent-container #w3a-modal .w3a-sms-field--error{color:var(--app-red-500);font-size:.875rem;line-height:1.25rem;margin-bottom:.5rem;margin-left:.375rem;margin-top:-.5rem}.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:active,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:focus,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:hover{--tw-shadow:0 0 0 30px #f9fafb inset;--tw-shadow-colored:inset 0 0 0 30px var(--tw-shadow-color);-webkit-text-fill-color:#111928!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:active,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:focus,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:hover{--tw-shadow:0 0 0 30px #374151 inset;--tw-shadow-colored:inset 0 0 0 30px var(--tw-shadow-color);-webkit-text-fill-color:#fff!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container #w3a-modal .w3a-button{background-color:var(--app-gray-100);border-radius:9999px;color:var(--app-gray-900);font-size:1rem;font-weight:500;line-height:1.5rem;padding:.75rem 1.5rem}.w3a-parent-container #w3a-modal .w3a-button:hover{background-color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .w3a-button:focus{background-color:var(--app-gray-100);color:var(--app-gray-700);outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-button:active{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-button:disabled{background-color:var(--app-gray-50);color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .w3a-button:is(.dark *){background-color:var(--app-gray-900);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-button:hover:is(.dark *){background-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-button:focus:is(.dark *){background-color:var(--app-gray-900);color:var(--app-white);outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-button:active:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-button:disabled:is(.dark *){--tw-bg-opacity:1;background-color:rgb(59 69 85/var(--tw-bg-opacity));color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-button--primary{background-color:var(--app-primary-600);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-button--primary:hover{background-color:var(--app-primary-800)}.w3a-parent-container #w3a-modal .w3a-button--primary:focus{background-color:var(--app-primary-600);color:var(--app-white);outline-color:var(--app-primary-300)}.w3a-parent-container #w3a-modal .w3a-button--primary:active{outline-color:var(--app-primary-300)}.w3a-parent-container #w3a-modal .w3a-button--primary:disabled{--tw-text-opacity:1;background-color:var(--app-primary-200);color:rgb(235 245 255/var(--tw-text-opacity))}.w3a-parent-container #w3a-modal .w3a-button--primary:is(.dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-button--primary:hover:is(.dark *){background-color:var(--app-primary-800)}.w3a-parent-container #w3a-modal .w3a-button--primary:focus:is(.dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-button--primary:disabled:is(.dark *){--tw-bg-opacity:1;background-color:rgb(45 72 116/var(--tw-bg-opacity));color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-button--login{align-items:center;display:inline-flex;height:2.75rem;justify-content:center}.w3a-parent-container #w3a-modal button.w3a-button--login:hover>.hover-icon{display:block;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.w3a-button--login:hover>.image-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.w3a-button-expand{color:var(--app-primary-600);font-size:.875rem;height:auto;line-height:1.25rem;margin-left:auto;margin-top:1rem;width:auto}.w3a-parent-container #w3a-modal button.w3a-button-expand:hover{color:var(--app-primary-800)}.w3a-parent-container #w3a-modal button.w3a-button-expand:focus-visible{outline-color:var(--app-gray-50);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-button-expand:is(.dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal button.w3a-button-expand:hover:is(.dark *){color:var(--app-primary-400)}.w3a-parent-container #w3a-modal button.w3a-button-expand:focus-visible:is(.dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-sms-field__container{display:grid;gap:.5rem;grid-template-columns:repeat(12,minmax(0,1fr))}.w3a-parent-container #w3a-modal .w3a-sms-field__code-selected{display:flex}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{height:185px;position:absolute;width:120px;z-index:10}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-bottom-width:calc(1px*var(--tw-divide-y-reverse));border-color:var(--app-gray-100);border-top-width:calc(1px*(1 - var(--tw-divide-y-reverse)))}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{--tw-shadow:0px 4px 16px #00000014;--tw-shadow-colored:0px 4px 16px var(--tw-shadow-color);background-color:var(--app-white);border-radius:.5rem;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);overflow-y:scroll}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown:is(.dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{transform:translateY(-230px)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown ul{color:var(--app-gray-700);font-size:.875rem;line-height:1.25rem;padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown ul:is(.dark *){color:var(--app-gray-200)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li{cursor:pointer;padding:0}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li:hover{background-color:var(--app-gray-100)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li:hover:is(.dark *){background-color:var(--app-gray-900);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li button{height:100%;padding:.5rem 1rem;text-align:left;width:100%}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li button div{align-items:center;display:flex}.w3a-parent-container #w3a-modal .w3a-sms-field__code{grid-column:span 5/span 5}.w3a-parent-container #w3a-modal .w3a-sms-field__number{grid-column:span 7/span 7}.w3a-parent-container #w3a-modal .w3a-modal__loader{background-color:var(--app-white);display:flex;inset:0;justify-content:center;position:absolute;z-index:10}.w3a-parent-container #w3a-modal .w3a-modal__loader:is(.dark *){background-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-modal__loader.w3a-modal__loader--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-modal__loader-content{display:flex;flex-direction:column;position:relative;text-align:center}.w3a-parent-container #w3a-modal .w3a-modal__loader-info{align-items:center;display:flex;flex-direction:column;flex-grow:1;justify-content:center;padding:0 30px}.w3a-parent-container #w3a-modal .w3a-spinner-label{color:var(--app-primary-600);font-size:1rem;font-weight:500;line-height:1.5rem;margin-top:10px}.w3a-parent-container #w3a-modal .w3a-spinner-label:is(.dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-spinner-message{color:var(--app-gray-500);font-size:1rem;line-height:1.5rem;margin-top:10px}.w3a-parent-container #w3a-modal .w3a-spinner-message:first-letter{text-transform:capitalize}.w3a-parent-container #w3a-modal .w3a-spinner-message:is(.dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-spinner-message.w3a-spinner-message--error{color:var(--app-red-500)}.w3a-parent-container #w3a-modal .w3a-spinner-power{--tw-text-opacity:1;color:rgb(183 184 189/var(--tw-text-opacity));font-size:.75rem;line-height:1rem;margin-top:auto}.w3a-parent-container #w3a-modal .w3a-spinner-power>img{display:inline;height:2rem;width:auto}.w3a-parent-container #w3a-modal .w3a-spinner{display:inline-flex;height:60px;position:relative;width:60px}.w3a-parent-container #w3a-modal .w3a-spinner__spinner{position:absolute}@keyframes spin{to{transform:rotate(1turn)}}.w3a-parent-container #w3a-modal .w3a-spinner__spinner{animation:spin 1s linear infinite;background-image:conic-gradient(from 0deg at 50% 50%,var(--app-primary-600) 0,#e5e7ebcc 90deg,#e5e7ebcc 270deg,var(--app-primary-600) 1turn);background-position:0 0;background-size:100% 100%;border-radius:100vw;display:inline-block;height:100%;-webkit-mask:radial-gradient(farthest-side,#000 98%,#0000) center/85% 85% no-repeat,linear-gradient(#000 0 0);-webkit-mask-composite:destination-out;mask:radial-gradient(farthest-side,#000 98%,#0000) center/85% 85% no-repeat,linear-gradient(#000 0 0);mask-composite:exclude;width:100%}.w3a-parent-container .dark #w3a-modal .w3a-spinner__spinner{background-image:conic-gradient(from 0deg at 50% 50%,var(--app-primary-500) 0,#e5e7eb33 90deg,#e5e7eb33 270deg,var(--app-primary-500) 1turn)}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge{align-items:center;display:flex;justify-content:center;margin-bottom:14px}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message:first-letter{text-transform:capitalize}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message:is(.dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-modal__loader-app-logo{display:flex;padding:.5rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-app-logo img{height:auto;max-height:72px;max-width:72px;width:72px}.w3a-parent-container #w3a-modal .w3a-modal__loader-social-logo{align-items:center;background-color:var(--app-gray-100);border-radius:9999px;display:flex;height:72px;justify-content:center;width:72px}.w3a-parent-container #w3a-modal .w3a-modal__loader-social-logo:is(.dark *){background-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-modal__loader-social-logo img{height:4rem;width:4rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-adapter img{height:auto;width:84px}.w3a-parent-container #w3a-modal .w3a-modal__connector{align-items:center;display:flex}.w3a-parent-container .w3a-modal__connector-beat{display:inline-block;height:80px;position:relative;width:80px}.w3a-parent-container .w3a-modal__connector-beat div{animation-timing-function:cubic-bezier(0,1,1,0);background:grey;border-radius:50%;height:13px;position:absolute;top:33px;width:13px}.w3a-parent-container .w3a-modal__connector-beat div:first-child{animation:beat1 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(2){animation:beat2 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(3){animation:beat3 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(4){animation:beat4 2.4s infinite;left:32px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(5){animation:beat5 2.4s infinite;left:56px}@keyframes beat1{0%{transform:scale(0)}25%{transform:scale(0)}50%{transform:scale(1)}75%{transform:scale(0)}to{transform:scale(0)}}@keyframes beat2{0%{transform:scale(0)}25%{transform:scale(1)}50%{transform:translate(24px)}75%{transform:translate(0)}to{transform:translate(0) scale(0)}}@keyframes beat3{0%{transform:translate(0)}25%{transform:translate(24px)}50%{transform:translate(48px)}75%{transform:translate(24px)}to{transform:translate(0)}}@keyframes beat4{0%{transform:translate(0)}25%{transform:translate(24px)}50%{transform:translate(24px) scale(0)}75%{transform:translate(24px) scale(1)}to{transform:translate(0)}}@keyframes beat5{0%{transform:scale(1)}25%{transform:scale(0)}50%{transform:scale(0)}75%{transform:scale(0)}to{transform:scale(1)}}.w3a-parent-container .group:hover .group-hover\\:flex{display:flex}.w3a-parent-container .dark\\:block:is(.dark *){display:block}.w3a-parent-container .dark\\:hidden:is(.dark *){display:none}.w3a-parent-container .dark\\:bg-app-gray-600:is(.dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:text-app-gray-500:is(.dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:text-app-white:is(.dark *){color:var(--app-white)}`;styleInject(css_248z$1);var modal={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.back":"Back","external.connect":"Connect with Wallet","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Click on the QR Code to copy to clipboard","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-service":"Terms of Service","footer.version":"Version","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-title":"Email or Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-more":"View more","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!"},en={modal};const i18nInstance=instance.createInstance();i18nInstance.use(initReactI18next).init({resources:{en:{translation:en}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});function SelfCustodyViaWeb3Auth(){const[tr]=useTranslation(void 0,{i18n:i18nInstance});return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center p-2",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-app-gray-300 dark:text-app-gray-500",children:tr("modal.footer.message-new")}),jsxRuntimeExports.jsx("img",{height:"16",src:"https://images.web3auth.io/web3auth-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"h-4 block dark:hidden"}),jsxRuntimeExports.jsx("img",{height:"16",src:"https://images.web3auth.io/web3auth-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"h-4 hidden dark:block"})]})}function Footer(){return jsxRuntimeExports.jsx("div",{className:"w3a-modal__footer",children:jsxRuntimeExports.jsx("div",{className:"w3a-footer",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(SelfCustodyViaWeb3Auth,{})})})})})}const icons={"arrow-left":{image:"https://images.web3auth.io/circle-arrow-left.svg"},close:{image:"https://images.web3auth.io/close.svg"},"expand-light":{image:"https://images.web3auth.io/expand-light.svg"},expand:{image:"https://images.web3auth.io/expand.svg"},connected:{image:"https://images.web3auth.io/connected.svg"},"information-circle-light":{image:"https://images.web3auth.io/information-circle-light.svg"},"information-circle":{image:"https://images.web3auth.io/information-circle.svg"}};function Icon(tr){const{iconName:er,iconTitle:rr="",height:nr="auto",width:ir="auto"}=tr;return icons[er]?jsxRuntimeExports.jsx("img",{className:rr?"cursor-pointer":"",height:nr,width:ir,src:icons[er].image,alt:er,title:rr}):null}function Image$1(tr){const{hoverImageId:er,imageId:rr,isButton:nr=!1,height:ir="auto",width:or="auto"}=tr;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:`https://images.web3auth.io/${rr}.svg`,height:ir,width:or,alt:rr,className:"image-icon"}),nr?jsxRuntimeExports.jsx("img",{src:`https://images.web3auth.io/${er}.svg`,height:ir,width:or,alt:er,className:"hover-icon"}):null]})}const closeIcon$1=jsxRuntimeExports.jsx(Icon,{iconName:"close"});function DetailedLoader(tr){const{adapter:er,appLogo:rr,message:nr,modalStatus:ir,adapterName:or,onClose:sr}=tr,ar=er==="twitter"?jsxRuntimeExports.jsx(Image$1,{imageId:"login-x-dark"}):jsxRuntimeExports.jsx(Image$1,{imageId:`login-${er}`}),[cr]=useTranslation(void 0,{i18n:i18nInstance});return reactExports.useEffect(()=>{loglevel$1.debug("adapter loader re-rendering"),ir===MODAL_STATUS.CONNECTED&&setTimeout(()=>{sr()},3e3)},[ir,sr]),ir!==MODAL_STATUS.INITIALIZED?jsxRuntimeExports.jsxs("div",{className:"w3ajs-modal-loader w3a-modal__loader",children:[jsxRuntimeExports.jsxs("div",{className:"w3a-modal__loader-content",children:[jsxRuntimeExports.jsxs("div",{className:"w3a-modal__loader-info",children:[ir===MODAL_STATUS.CONNECTING&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"w3a-modal__loader-bridge",children:[jsxRuntimeExports.jsxs("div",{className:"w3a-modal__loader-app-logo",children:[jsxRuntimeExports.jsx("img",{src:rr,className:"block dark:hidden",alt:""}),jsxRuntimeExports.jsx("img",{src:rr,className:"hidden dark:block",alt:""})]}),jsxRuntimeExports.jsx("div",{className:"w3a-modal__connector",children:jsxRuntimeExports.jsxs("div",{className:"w3a-modal__connector-beat",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{})]})}),jsxRuntimeExports.jsx("div",{className:"w3a-modal__loader-social-logo",children:ar})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"w3a-modal__loader-bridge-message",children:cr("modal.adapter-loader.message1",{adapter:or})}),jsxRuntimeExports.jsx("div",{className:"w3a-modal__loader-bridge-message",children:cr("modal.adapter-loader.message2",{adapter:or})})]})]}),ir===ADAPTER_STATUS.CONNECTED&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx(Icon,{iconName:"connected"}),jsxRuntimeExports.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message mt-4",children:nr})]}),ir===ADAPTER_STATUS.ERRORED&&jsxRuntimeExports.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message w3a-spinner-message--error",children:nr})]}),jsxRuntimeExports.jsx(Footer,{})]}),(ir===ADAPTER_STATUS.CONNECTED||ir===ADAPTER_STATUS.ERRORED)&&jsxRuntimeExports.jsx("button",{type:"button",className:"w3a-header__button w3ajs-loader-close-btn",onClick:sr,children:closeIcon$1})]}):null}var css_248z=".w3a-parent-container #w3a-modal button.t-btn,.w3a-parent-container a.t-btn{align-items:center;display:flex;justify-content:center;transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:linear}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):disabled{background-color:var(--app-gray-300);border-width:0;color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):hover:disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):hover:disabled{background-color:var(--app-gray-300);border-color:var(--app-gray-300);color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):active:disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):active:disabled{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-offset-width:0px;background-color:var(--app-gray-300);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);outline-width:0}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):disabled:is(.dark *),.w3a-parent-container a.t-btn:not(.t-btn-text):disabled:is(.dark *){background-color:var(--app-gray-700);color:var(--app-gray-600)}.w3a-parent-container #w3a-modal .size-xs{font-size:.75rem;height:32px;line-height:1rem;padding:.5rem .75rem}.w3a-parent-container #w3a-modal .size-sm{font-size:.875rem;height:36px;line-height:1.25rem;padding:.5rem .75rem}.w3a-parent-container #w3a-modal .size-md{font-size:.875rem;height:42px;line-height:1.25rem;padding:.625rem 1.25rem}.w3a-parent-container #w3a-modal .size-lg{font-size:1rem;height:48px;line-height:1.5rem;padding:.75rem 1.25rem}.w3a-parent-container #w3a-modal .size-xl{font-size:1rem;height:52px;line-height:1.5rem;padding:.875rem 1.5rem}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary{background-color:var(--app-primary-600);color:var(--app-on-primary);outline:2px solid #0000;outline-offset:2px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:hover{background-color:var(--app-primary-700)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:focus-visible{outline-color:var(--app-primary-600);outline-offset:1px;outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:active{background-color:var(--app-primary-600);outline-color:var(--app-primary-600);outline-offset:1px;outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:is(.dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:hover:is(.dark *){background-color:var(--app-primary-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:focus-visible:is(.dark *){outline-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:active:is(.dark *){background-color:var(--app-primary-500);outline-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary{background-color:initial;border-color:var(--app-gray-500);border-width:1px;color:var(--app-gray-600);outline:2px solid #0000;outline-offset:2px}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:hover{background-color:var(--app-gray-200)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:initial;border-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:initial;border-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:is(.dark *){border-color:var(--app-gray-300);color:var(--app-white)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:hover:is(.dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:focus-visible:is(.dark *){--tw-ring-color:var(--app-primary-500);background-color:initial;border-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:active:is(.dark *){--tw-ring-color:var(--app-primary-500);background-color:initial;border-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary{background-color:var(--app-gray-200);color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:hover{background-color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:var(--app-gray-200);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:is(.dark *){background-color:var(--app-gray-500);color:var(--app-white)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:hover:is(.dark *){background-color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:focus-visible:is(.dark *){--tw-ring-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:active:is(.dark *){--tw-ring-color:var(--app-primary-500);background-color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text{color:var(--app-primary-600)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:hover{color:var(--app-primary-800);text-decoration-line:underline}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);color:var(--app-primary-600)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:disabled{color:var(--app-gray-400);text-decoration-line:none}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:is(.dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:hover:is(.dark *){color:var(--app-primary-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:disabled:is(.dark *){color:var(--app-gray-600)}.w3a-parent-container #w3a-modal .btn-link{text-decoration-line:none}.w3a-parent-container #w3a-modal button.t-btn:hover>.hover-icon{display:block;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.t-btn:hover>.image-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}";styleInject(css_248z);function Button(tr){const{variant:er="primary",onClick:rr,children:nr,title:ir,className:or,style:sr,size:ar="md",disabled:cr,type:lr="button"}=tr,ur=`size-${ar}`;return jsxRuntimeExports.jsx("button",{disabled:cr,type:lr,className:`t-btn t-btn-${er} rounded-full ${ur} ${or}`,onClick:rr,title:ir,style:sr,children:nr})}var Button$1=reactExports.memo(Button);const closeIcon=jsxRuntimeExports.jsx(Icon,{iconName:"close"});function Loader(tr){const{message:er,modalStatus:rr,label:nr,onClose:ir,canEmit:or=!0}=tr;return reactExports.useEffect(()=>{loglevel$1.debug("loader re-rendering"),rr===MODAL_STATUS.CONNECTED&&or&&setTimeout(()=>{ir()},3e3)},[or,rr,ir]),rr!==MODAL_STATUS.INITIALIZED?jsxRuntimeExports.jsxs("div",{className:"w3ajs-modal-loader w3a-modal__loader",children:[jsxRuntimeExports.jsxs("div",{className:"w3a-modal__loader-content",children:[jsxRuntimeExports.jsxs("div",{className:"w3a-modal__loader-info",children:[rr===MODAL_STATUS.CONNECTING&&jsxRuntimeExports.jsx("div",{className:"w3ajs-modal-loader__spinner w3a-spinner",children:jsxRuntimeExports.jsx("div",{className:"w3a-spinner__spinner"})}),jsxRuntimeExports.jsx("div",{className:"w3ajs-modal-loader__label w3a-spinner-label",children:nr}),rr===ADAPTER_STATUS.CONNECTED&&jsxRuntimeExports.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message",children:er}),rr===ADAPTER_STATUS.ERRORED&&jsxRuntimeExports.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message w3a-spinner-message--error",children:er})]}),jsxRuntimeExports.jsx(Footer,{})]}),(rr===ADAPTER_STATUS.CONNECTED||rr===ADAPTER_STATUS.ERRORED)&&jsxRuntimeExports.jsx("button",{type:"button",className:"w3a-header__button w3ajs-loader-close-btn",onClick:ir,children:closeIcon})]}):null}function WalletConnect(tr){const{walletConnectUri:er}=tr,[rr]=useTranslation(void 0,{i18n:i18nInstance});return jsxRuntimeExports.jsx("div",{className:"w3ajs-wallet-connect w3a-wallet-connect",children:jsxRuntimeExports.jsx("div",{className:"w3ajs-wallet-connect__container w3a-wallet-connect__container",children:jsxRuntimeExports.jsxs("div",{className:"w3a-wallet-connect__container-desktop",children:[jsxRuntimeExports.jsx("div",{children:rr("modal.external.walletconnect-subtitle")}),jsxRuntimeExports.jsx("div",{className:"w3ajs-wallet-connect-qr w3a-wallet-connect-qr",tabIndex:0,role:"button",onClick:()=>copyToClipboard$1(er),onKeyDown:()=>copyToClipboard$1(er),children:jsxRuntimeExports.jsx(QRCode_1,{size:200,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:WALLET_CONNECT_LOGO,value:er})}),jsxRuntimeExports.jsx("div",{children:rr("modal.external.walletconnect-copy")})]})})})}var WalletConnect$1=reactExports.memo(WalletConnect);function formatIOSMobile(tr){const er=encodeURIComponent(tr.uri);return tr.universalLink?`${tr.universalLink}/wc?uri=${er}`:tr.deepLink?`${tr.deepLink}${tr.deepLink.endsWith(":")?"//":"/"}wc?uri=${er}`:""}function formatMobileRegistryEntry(tr,er,rr,nr="mobile"){const ir=tr[nr].universal||"",or=tr[nr].native||"";return{name:tr.name||"",logo:tr.logo||"",universalLink:ir,deepLink:or,href:rr===Bowser.OS_MAP.iOS?formatIOSMobile({uri:er,universalLink:ir,deepLink:or}):er}}function formatMobileRegistry(tr,er,rr,nr="mobile"){return Object.values(tr).filter(ir=>!!ir[nr].universal||!!ir[nr].native).map(ir=>formatMobileRegistryEntry(ir,er,rr,nr))}function ExternalWallet(tr){const{hideExternalWallets:er,handleExternalWalletClick:rr,config:nr={},walletConnectUri:ir,showBackButton:or,modalStatus:sr,wcAdapters:ar}=tr,[cr,lr]=reactExports.useState(!0),[ur,fr]=reactExports.useState({}),[dr,gr]=reactExports.useState([]),br=reactExports.useMemo(()=>Bowser.getParser(window.navigator.userAgent).getPlatformType(),[]),vr=reactExports.useMemo(()=>{const Er=Bowser.getParser(window.navigator.userAgent);return{platform:Er.getPlatformType(),os:Er.getOSName()}},[]),[$r]=useTranslation(void 0,{i18n:i18nInstance});return reactExports.useEffect(()=>{var Er;loglevel$1.debug("loaded external wallets",nr,ir,br);const _r=WALLET_ADAPTERS.WALLET_CONNECT_V2;(((Er=nr[_r])===null||Er===void 0?void 0:Er.showOnModal)||!1)!==!1&&!ir?(lr(!1),rr({adapter:_r})):Object.keys(nr).length>0&&lr(!0);const Ir={};Object.keys(nr).forEach(Nr=>{const Lr=nr[Nr];if(!Lr.showOnModal){Ir[Nr]=!1;return}if(br==="desktop"&&Lr.showOnDesktop){Ir[Nr]=!0;return}if((br==="mobile"||br==="tablet")&&Lr.showOnMobile){Ir[Nr]=!0;return}Ir[Nr]=!1}),fr(Ir)},[nr,rr,ir,br]),reactExports.useEffect(()=>{const Er=[];if(vr.platform===Bowser.PLATFORMS_MAP.mobile){let Ir=formatMobileRegistry(ar,ir,vr.os,vr.platform);if(vr.os===Bowser.OS_MAP.iOS){var _r;(_r=window.ethereum)!==null&&_r!==void 0&&_r.isMetaMask&&(Ir=Ir.filter(Nr=>Nr.name!=="MetaMask")),Er.push(...Ir.map(Nr=>({name:Nr.name,href:Nr.href,logo:Nr.logo,isLink:!0,block:!1})))}else Ir.length>0&&Er.push({name:"WalletConnect",href:Ir[0].href,logo:WALLET_CONNECT_LOGO,isLink:!0,block:!0})}const xr=Object.keys(nr).filter(Ir=>![WALLET_ADAPTERS.WALLET_CONNECT_V2].includes(Ir)&&ur[Ir]).map(Ir=>({name:Ir,isLink:!1,block:!1}));xr.length===1&&vr.os!==Bowser.OS_MAP.iOS&&(xr[0].block=!0),Er.push(...xr),gr(Er)},[ar,nr,vr.os,vr.platform,ir,ur]),jsxRuntimeExports.jsx("div",{className:"w3ajs-external-wallet w3a-group",children:jsxRuntimeExports.jsxs("div",{className:"w3a-external-container w3ajs-external-container",children:[or&&jsxRuntimeExports.jsxs("button",{type:"button",className:"w3a-external-back w3ajs-external-back",onClick:()=>er(),children:[jsxRuntimeExports.jsx(Icon,{iconName:"arrow-left"}),jsxRuntimeExports.jsx("div",{className:"w3a-group__title",children:$r("modal.external.back")})]}),!cr&&jsxRuntimeExports.jsx(Loader,{modalStatus:MODAL_STATUS.CONNECTING,canEmit:!1}),Object.keys(nr).map(Er=>ir&&vr.platform===Bowser.PLATFORMS_MAP.desktop&&[WALLET_ADAPTERS.WALLET_CONNECT_V2].includes(Er)?jsxRuntimeExports.jsx(WalletConnect$1,{walletConnectUri:ir},Er):null),sr===MODAL_STATUS.INITIALIZED&&jsxRuntimeExports.jsx("ul",{className:"w3a-adapter-list w3ajs-wallet-adapters",children:dr.map(Er=>{var _r,xr;const Ir=Er.isLink?jsxRuntimeExports.jsx("img",{src:Er.logo,height:"auto",width:"auto",alt:`login-${Er.name}`}):jsxRuntimeExports.jsx(Image$1,{imageId:`login-${Er.name}`,hoverImageId:`login-${Er.name}`,height:"32",width:"32",isButton:!0}),Nr=dr.length===1||Er.block,Lr=Nr?jsxRuntimeExports.jsx("p",{className:"ml-2 text-left",children:((_r=nr[Er.name])===null||_r===void 0?void 0:_r.label)||Er.name}):"";return jsxRuntimeExports.jsx("li",{className:["w3a-adapter-item",Nr?"w3a-adapter-item--full":"col-span-2"].join(" "),children:Er.isLink?jsxRuntimeExports.jsx("a",{href:Er.href,rel:"noopener noreferrer",target:"_blank",children:jsxRuntimeExports.jsxs(Button$1,{type:"button",variant:"tertiary",className:"w-full",children:[Ir,Lr]})},Er.name):jsxRuntimeExports.jsxs(Button$1,{variant:"tertiary",type:"button",onClick:()=>rr({adapter:Er.name}),className:"w-full",title:((xr=nr[Er.name])===null||xr===void 0?void 0:xr.label)||Er.name,children:[Ir,Lr]})},Er.name)})})]})})}const ThemedContext=reactExports.createContext({isDark:!0});function Header(tr){const{isDark:er}=reactExports.useContext(ThemedContext),{onClose:rr,appLogo:nr,appName:ir}=tr,[or]=useTranslation(void 0,{i18n:i18nInstance}),sr=[DEFAULT_LOGO_DARK,DEFAULT_LOGO_LIGHT].includes(nr)?"":nr,ar=or("modal.header-subtitle-name",{appName:ir});return jsxRuntimeExports.jsxs("div",{className:"w3a-modal__header",children:[jsxRuntimeExports.jsx("div",{className:"w3a-header",children:jsxRuntimeExports.jsxs("div",{children:[sr&&jsxRuntimeExports.jsx("div",{className:"w3a-header__logo",children:jsxRuntimeExports.jsx("img",{src:sr,alt:""})}),jsxRuntimeExports.jsx("div",{className:"w3a-header__title",children:or("modal.header-title")}),jsxRuntimeExports.jsxs("div",{className:"w3a-header__subtitle",children:[ar,jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col items-center group cursor-pointer",children:[jsxRuntimeExports.jsx(Icon,{iconName:`information-circle${er?"-light":""}`}),jsxRuntimeExports.jsxs("div",{className:"absolute top-4 z-20 flex-col items-center hidden mb-5 group-hover:flex",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 ml-[3px] -mb-2 rotate-45 bg-app-gray-50 dark:bg-app-gray-600"}),jsxRuntimeExports.jsxs("div",{className:`relative p-4 w-[270px] -translate-x-16 text-xs leading-none text-app-white rounded-md bg-app-gray-50 dark:bg-app-gray-600 shadow-lg ${ar.length>34?"-ml-[100px]":""}`,children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-medium mb-1 text-app-gray-900 dark:text-app-white",children:or("modal.header-tooltip-title")}),jsxRuntimeExports.jsx("div",{className:"text-xs text-app-gray-400",children:or("modal.header-tooltip-desc")})]})]})]})]})]})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:rr,className:"w3a-header__button w3ajs-close-btn",children:jsxRuntimeExports.jsx(Icon,{iconName:"close"})})]})}const memoizedHeader=reactExports.memo(Header,(tr,er)=>tr.appLogo!==er.appLogo);memoizedHeader.displayName="Header";const getAdapterSocialLogins=(tr,er={})=>{const rr={};if(tr===WALLET_ADAPTERS.OPENLOGIN)OPENLOGIN_PROVIDERS.forEach(nr=>{const ir=er[nr]||{name:OPENLOGIN_PROVIDERS_NAMES[nr],showOnMobile:!0,showOnModal:!0,showOnDesktop:!0};rr[nr]=_objectSpread2({},ir)}),loglevel$1.debug("OpenLogin login method ui config",rr);else throw WalletInitializationError.invalidParams(`${tr} is not a valid adapter`);return rr},passwordlessBackendUrl="https://api-passwordless.web3auth.io",getUserCountry=async()=>{try{const tr=await get$1(`${passwordlessBackendUrl}/api/v3/user/location`);return tr&&tr.data.country?{country:tr.data.country,dialCode:tr.data.dial_code}:null}catch(tr){return loglevel$1.error("error getting user country",tr),null}},validatePhoneNumber=async tr=>{try{const er=await post(`${passwordlessBackendUrl}/api/v3/phone_number/validate`,{phone_number:tr});return er&&er.success?er.parsed_number:!1}catch(er){return loglevel$1.error("error validating phone number",er),er.status!==400}},getUserLanguage=tr=>{let er=tr;return er||(er=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(LANGUAGE_MAP,er)?er:LANGUAGES.en};function SocialLoginPasswordless(tr){const{handleSocialLoginClick:er,adapter:rr,isPrimaryBtn:nr,isEmailVisible:ir,isSmsVisible:or}=tr,{isDark:sr}=reactExports.useContext(ThemedContext),[ar,cr]=reactExports.useState(""),[lr,ur]=reactExports.useState(""),[fr,dr]=reactExports.useState(null),[gr]=useTranslation(void 0,{i18n:i18nInstance}),br=async _r=>{_r.preventDefault();const xr=ar;if(xr.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i))return er({adapter:rr,loginParams:{loginProvider:LOGIN_PROVIDER.EMAIL_PASSWORDLESS,login_hint:xr,name:"Email"}});const Nr=xr.startsWith("+")?xr:`${lr}${xr}`,Lr=await validatePhoneNumber(Nr);if(Lr)return er({adapter:rr,loginParams:{loginProvider:LOGIN_PROVIDER.SMS_PASSWORDLESS,login_hint:typeof Lr=="string"?Lr:Nr,name:"Mobile"}});dr(!1)};reactExports.useEffect(()=>{or&&(async()=>{const xr=await getUserCountry();xr&&xr.dialCode&&ur(xr.dialCode)})()},[or]);const vr=_r=>{cr(_r.target.value),fr===!1&&dr(null)},$r=reactExports.useMemo(()=>ir&&or?"modal.social.passwordless-title":ir?"modal.social.email":"modal.social.phone",[ir,or]),Er=reactExports.useMemo(()=>ir&&or?"+(00)123456/name@example.com":ir?"name@example.com":"+(00)123456",[ir,or]);return jsxRuntimeExports.jsxs("div",{className:"w3ajs-passwordless w3a-group w3a-group--passwordless",children:[jsxRuntimeExports.jsxs("div",{className:"w3a-group__title",children:[gr($r),or&&jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col items-center cursor-pointer group",children:[jsxRuntimeExports.jsx(Icon,{iconName:`information-circle${sr?"-light":""}`}),jsxRuntimeExports.jsxs("div",{className:"absolute z-20 flex-col items-center hidden mb-5 top-4 group-hover:flex",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 ml-[3px] -mb-2 rotate-45 bg-app-gray-50 dark:bg-app-gray-600"}),jsxRuntimeExports.jsxs("div",{className:"relative p-4 w-[300px] text-xs leading-none text-app-white rounded-md bg-app-gray-50 dark:bg-app-gray-600 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"mb-1 text-xs font-medium text-app-gray-900 dark:text-app-white",children:gr("modal.popup.phone-header")}),jsxRuntimeExports.jsx("div",{className:"text-xs text-app-gray-400",children:gr("modal.popup.phone-body")})]})]})]})]}),jsxRuntimeExports.jsxs("form",{className:"w3ajs-passwordless-form",onSubmit:_r=>br(_r),children:[jsxRuntimeExports.jsx("input",{className:"w-full mb-4 w3a-text-field",name:"passwordless-input",required:!0,placeholder:`${gr("modal.social.sms-placeholder-text")} ${Er}`,onFocus:_r=>{_r.target.placeholder=""},onBlur:_r=>{_r.target.placeholder=`${gr("modal.social.sms-placeholder-text")} ${Er}`},onChange:_r=>vr(_r)}),fr===!1&&jsxRuntimeExports.jsx("div",{className:"w3a-sms-field--error",children:gr("modal.errors-invalid-number-email")}),jsxRuntimeExports.jsx(Button$1,{variant:nr?"primary":"tertiary",disabled:ar==="",className:"w-full",type:"submit",children:gr("modal.social.passwordless-cta")})]})]})}function getProviderIcon(tr,er,rr){const nr=tr===LOGIN_PROVIDER.TWITTER?`login-twitter-x${er?"-light":"-dark"}`:`login-${tr}${er?"-light":"-dark"}`,ir=tr===LOGIN_PROVIDER.APPLE||tr===LOGIN_PROVIDER.GITHUB||tr===LOGIN_PROVIDER.TWITTER?nr:`login-${tr}-active`;return rr?jsxRuntimeExports.jsx(Image$1,{width:"20",imageId:ir,hoverImageId:ir,isButton:!0}):jsxRuntimeExports.jsx(Image$1,{width:"20",imageId:nr,hoverImageId:ir,isButton:!0})}function SocialLogins(tr){const[er,rr]=reactExports.useState(!1),[nr,ir]=reactExports.useState(!1),{socialLoginsConfig:or={loginMethods:{},loginMethodsOrder:[],adapter:"",uiConfig:{}},handleSocialLoginClick:sr}=tr,{isDark:ar}=reactExports.useContext(ThemedContext),[cr]=useTranslation(void 0,{i18n:i18nInstance}),lr=()=>{ir(!nr)};reactExports.useEffect(()=>{const vr=Object.keys(or.loginMethods).filter($r=>or.loginMethods[$r].showOnModal);rr(vr.length>4)},[or.loginMethods]);const ur=classNames("w3a-adapter-list","w3ajs-socials-adapters",nr?"":" w3a-adapter-list--shrink"),fr=classNames("w3a-button-expand","w3ajs-button-expand",nr?"w3a-button--rotate":""),dr=cr(nr?"modal.social.view-less":"modal.social.view-more"),gr=Object.keys(or.loginMethods).length+1,br=[LOGIN_PROVIDER.WEBAUTHN,LOGIN_PROVIDER.JWT,LOGIN_PROVIDER.SMS_PASSWORDLESS,LOGIN_PROVIDER.EMAIL_PASSWORDLESS];return jsxRuntimeExports.jsxs("div",{className:"w3ajs-social-logins w3a-group",children:[jsxRuntimeExports.jsx("ul",{className:ur,children:Object.keys(or.loginMethods).map(vr=>{var $r,Er;const _r=capitalizeFirstLetter(or.loginMethods[vr].name||vr),Ir=or.loginMethodsOrder.indexOf(vr)+1||Object.keys(or.loginMethods).length+1,Nr=or.loginMethods[vr].mainOption,Lr=(or==null||($r=or.uiConfig)===null||$r===void 0?void 0:$r.primaryButton)==="socialLogin"&&Ir===1,jr=getProviderIcon(vr,ar,Lr);if(or.loginMethods[vr].showOnModal===!1||br.includes(vr))return null;const Or=classNames("w3a-adapter-item",(or==null||(Er=or.uiConfig)===null||Er===void 0?void 0:Er.loginGridCol)===2?"col-span-3":"col-span-2");return Nr||Ir===1?jsxRuntimeExports.jsx("li",{className:"col-span-6 w3a-adapter-item",style:{order:Ir},children:jsxRuntimeExports.jsxs(Button$1,{variant:"secondary",onClick:()=>sr({adapter:or.adapter,loginParams:{loginProvider:vr,name:_r,login_hint:""}}),className:"w-full",title:_r,children:[jr,jsxRuntimeExports.jsx("p",{className:"ml-2",children:cr("modal.social.continueCustom",{adapter:_r})})]})},vr):jsxRuntimeExports.jsx("li",{className:Or,style:{order:Ir+gr},children:jsxRuntimeExports.jsx(Button$1,{variant:"secondary",onClick:()=>sr({adapter:or.adapter,loginParams:{loginProvider:vr,name:_r,login_hint:""}}),className:"w-full",title:_r,children:jr})},vr)})}),jsxRuntimeExports.jsx("div",{className:"w3a-social__policy",children:cr("modal.social.policy")}),er&&jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsx("button",{type:"button",className:fr,onClick:lr,children:jsxRuntimeExports.jsx("span",{className:"w3ajs-button-expand-text",children:dr})})})]})}loglevel$1.enableAll();function Modal(tr){var er,rr,nr,ir,or,sr;const[ar,cr]=reactExports.useState(["w3a-modal__inner"]),[lr,ur]=reactExports.useState({externalWalletsVisibility:!1,status:MODAL_STATUS.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],adapter:"",uiConfig:{}},externalWalletsConfig:{},detailedLoaderAdapter:"",detailedLoaderAdapterName:"",showExternalWalletsOnly:!1,wcAdapters:[]}),[fr]=useTranslation(void 0,{i18n:i18nInstance}),{stateListener:dr,appLogo:gr,appName:br,handleSocialLoginClick:vr,handleExternalWalletClick:$r,handleShowExternalWallets:Er,closeModal:_r}=tr;reactExports.useEffect(()=>{dr.emit("MOUNTED"),dr.on("STATE_UPDATED",yr=>{loglevel$1.debug("state updated",yr),ur(mr=>clonedeep(merge(mr,yr)))})},[dr]),reactExports.useEffect(()=>{let yr;return lr.modalVisibility?(ur(mr=>_objectSpread2(_objectSpread2({},mr),{},{modalVisibilityDelayed:lr.modalVisibility})),yr=window.setTimeout(()=>{cr(["w3a-modal__inner",lr.modalVisibility?"w3a-modal__inner--active":""])},100)):(cr(["w3a-modal__inner",lr.modalVisibility?"w3a-modal__inner--active":""]),yr=window.setTimeout(()=>{ur(mr=>_objectSpread2(_objectSpread2({},mr),{},{modalVisibilityDelayed:lr.modalVisibility}))},250)),()=>{clearTimeout(yr)}},[lr.modalVisibility]);const xr=reactExports.useCallback(()=>{lr.status===MODAL_STATUS.CONNECTED&&_r(),lr.status===MODAL_STATUS.ERRORED&&ur(yr=>_objectSpread2(_objectSpread2({},yr),{},{modalVisibility:!0,status:MODAL_STATUS.INITIALIZED}))},[_r,lr.status]),Ir=reactExports.useCallback(yr=>{const{adapter:mr}=yr;ur(hr=>_objectSpread2(_objectSpread2({},hr),{},{detailedLoaderAdapter:mr,detailedLoaderAdapterName:ADAPTER_NAMES[mr]})),$r(yr)},[$r]),Nr=yr=>{const{loginParams:mr}=yr;ur(hr=>_objectSpread2(_objectSpread2({},hr),{},{detailedLoaderAdapter:mr.loginProvider,detailedLoaderAdapterName:mr.name})),vr(yr)},Lr=((er=lr.socialLoginsConfig)===null||er===void 0||(er=er.uiConfig)===null||er===void 0?void 0:er.primaryButton)==="emailLogin",jr=((rr=lr.socialLoginsConfig)===null||rr===void 0||(rr=rr.uiConfig)===null||rr===void 0?void 0:rr.primaryButton)==="externalLogin",Or=jsxRuntimeExports.jsx("div",{className:"w3ajs-external-wallet w3a-group",children:jsxRuntimeExports.jsxs("div",{className:"w3a-external-toggle w3ajs-external-toggle",children:[jsxRuntimeExports.jsx("div",{className:"w3a-group__title",children:fr("modal.external.title")}),jsxRuntimeExports.jsx(Button$1,{variant:jr?"primary":"tertiary",type:"button",className:"w-full w3ajs-external-toggle__button",onClick:()=>{Er(lr.externalWalletsInitialized),ur(yr=>_objectSpread2(_objectSpread2({},yr),{},{externalWalletsVisibility:!0}))},children:fr("modal.external.connect")})]})}),Dr=reactExports.useMemo(()=>{var yr,mr;return lr.showExternalWalletsOnly||Object.keys(((yr=lr.socialLoginsConfig)===null||yr===void 0?void 0:yr.loginMethods)||{}).length===0?!1:!!Object.entries(((mr=lr.socialLoginsConfig)===null||mr===void 0?void 0:mr.loginMethods)||{}).some(([pr,wr])=>pr!==LOGIN_PROVIDER.EMAIL_PASSWORDLESS&&wr.showOnModal!==!1)},[lr.showExternalWalletsOnly,(nr=lr.socialLoginsConfig)===null||nr===void 0?void 0:nr.loginMethods]);loglevel$1.info("modal state",lr,Dr);const Cr=reactExports.useMemo(()=>{var yr;return(yr=lr.socialLoginsConfig)===null||yr===void 0||(yr=yr.loginMethods[LOGIN_PROVIDER.EMAIL_PASSWORDLESS])===null||yr===void 0?void 0:yr.showOnModal},[(ir=lr.socialLoginsConfig)===null||ir===void 0?void 0:ir.loginMethods]),Tr=reactExports.useMemo(()=>{var yr;return(yr=lr.socialLoginsConfig)===null||yr===void 0||(yr=yr.loginMethods[LOGIN_PROVIDER.SMS_PASSWORDLESS])===null||yr===void 0?void 0:yr.showOnModal},[(or=lr.socialLoginsConfig)===null||or===void 0?void 0:or.loginMethods]);return lr.modalVisibilityDelayed&&jsxRuntimeExports.jsx("div",{id:"w3a-modal",className:"w3a-modal",children:jsxRuntimeExports.jsxs("div",{className:ar.join(" "),children:[jsxRuntimeExports.jsx(memoizedHeader,{onClose:_r,appLogo:gr,appName:br}),lr.status!==MODAL_STATUS.INITIALIZED?jsxRuntimeExports.jsx("div",{className:"w3a-modal__content w3ajs-content",children:jsxRuntimeExports.jsx(DetailedLoader,{onClose:xr,appLogo:gr,modalStatus:lr.status,message:fr(lr.postLoadingMessage),adapter:lr.detailedLoaderAdapter,adapterName:lr.detailedLoaderAdapterName})}):jsxRuntimeExports.jsx("div",{className:"w3a-modal__content w3ajs-content",children:(Dr||Cr||Tr)&&!lr.externalWalletsVisibility?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Dr?jsxRuntimeExports.jsx(SocialLogins,{handleSocialLoginClick:yr=>Nr(yr),socialLoginsConfig:lr.socialLoginsConfig}):null,(Cr||Tr)&&jsxRuntimeExports.jsx(SocialLoginPasswordless,{isEmailVisible:Cr,isSmsVisible:Tr,adapter:(sr=lr.socialLoginsConfig)===null||sr===void 0?void 0:sr.adapter,handleSocialLoginClick:yr=>Nr(yr),isPrimaryBtn:Lr}),lr.hasExternalWallets&&Or]}):jsxRuntimeExports.jsx(ExternalWallet,{modalStatus:lr.status,showBackButton:Dr,handleExternalWalletClick:Ir,walletConnectUri:lr.walletConnectUri,wcAdapters:lr.wcAdapters,config:lr.externalWalletsConfig,hideExternalWallets:()=>ur(yr=>_objectSpread2(_objectSpread2({},yr),{},{externalWalletsVisibility:!1}))})}),jsxRuntimeExports.jsx(Footer,{})]})})}function createWrapper(tr){const er=document.getElementById("w3a-parent-container");er&&er.remove();const rr=document.createElement("section");rr.classList.add("w3a-parent-container"),rr.setAttribute("id","w3a-parent-container"),rr.style.zIndex=tr,rr.style.position="relative";const nr=document.createElement("section");return nr.setAttribute("id","w3a-container"),rr.appendChild(nr),document.body.appendChild(rr),nr}class LoginModal extends SafeEventEmitter{constructor(er){super(),_defineProperty(this,"uiConfig",void 0),_defineProperty(this,"stateEmitter",void 0),_defineProperty(this,"initModal",async()=>{const rr={isDark:this.isDark},nr=this.uiConfig.defaultLanguage||LANGUAGES.en;return nr===LANGUAGES.de?__vitePreload(()=>import("./german-Cosm3DTT-D9-AcrqC.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}):nr===LANGUAGES.ja?__vitePreload(()=>import("./japanese-CxepACv7-D_lUE7yj.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}):nr===LANGUAGES.ko?__vitePreload(()=>import("./korean-B9gddtda-CpMkIs9y.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}):nr===LANGUAGES.zh?__vitePreload(()=>import("./mandarin-BLpDG3ey-Dgdzq_1o.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}):nr===LANGUAGES.es?__vitePreload(()=>import("./spanish-DcKAGK9t-BpIA8YBi.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}):nr===LANGUAGES.fr?__vitePreload(()=>import("./french-Dzf45OF_-CxmaVknp.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}):nr===LANGUAGES.pt?__vitePreload(()=>import("./portuguese-D2BajECg-Db9oxC2t.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}):nr===LANGUAGES.nl?__vitePreload(()=>import("./dutch-C_uXCtFc-DP9c4DaQ.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}):nr===LANGUAGES.tr&&__vitePreload(()=>import("./turkish-eayLYBl3-28AWHZcj.js"),[]).then(ir=>(i18nInstance.addResourceBundle(nr,"translation",ir.default),i18nInstance.changeLanguage(nr))).catch(ir=>{loglevel$1.error(ir)}),new Promise(ir=>{var or;this.stateEmitter.once("MOUNTED",()=>(loglevel$1.info("rendered"),this.setState({status:MODAL_STATUS.INITIALIZED}),ir()));const sr=createWrapper(this.uiConfig.modalZIndex);if(rr.isDark?sr.classList.add("dark"):sr.classList.remove("dark"),createRoot(sr).render(jsxRuntimeExports.jsx(ThemedContext.Provider,{value:rr,children:jsxRuntimeExports.jsx(Modal,{closeModal:this.closeModal,stateListener:this.stateEmitter,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,appLogo:rr.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName})})),(or=this.uiConfig)!==null&&or!==void 0&&or.theme){const cr=document.getElementById("w3a-parent-container");applyWhiteLabelTheme(cr,this.uiConfig.theme)}})}),_defineProperty(this,"addSocialLogins",(rr,nr,ir,or)=>{this.setState({socialLoginsConfig:{adapter:rr,loginMethods:nr,loginMethodsOrder:ir,uiConfig:or}}),loglevel$1.info("addSocialLogins",rr,nr,ir,or)}),_defineProperty(this,"addWalletLogins",(rr,nr)=>{this.setState({externalWalletsConfig:rr,externalWalletsInitialized:!0,showExternalWalletsOnly:!!(nr!=null&&nr.showExternalWalletsOnly),externalWalletsVisibility:!0})}),_defineProperty(this,"open",()=>{this.setState({modalVisibility:!0}),this.emit(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY,!0)}),_defineProperty(this,"closeModal",()=>{this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),this.emit(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY,!1)}),_defineProperty(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),_defineProperty(this,"handleShowExternalWallets",rr=>{this.emit(LOGIN_MODAL_EVENTS.INIT_EXTERNAL_WALLETS,{externalWalletsInitialized:rr})}),_defineProperty(this,"handleExternalWalletClick",rr=>{loglevel$1.info("external wallet clicked",rr);const{adapter:nr}=rr;this.emit(LOGIN_MODAL_EVENTS.LOGIN,{adapter:nr})}),_defineProperty(this,"handleSocialLoginClick",rr=>{loglevel$1.info("social login clicked",rr);const{adapter:nr,loginParams:ir}=rr;this.emit(LOGIN_MODAL_EVENTS.LOGIN,{adapter:nr,loginParams:{loginProvider:ir.loginProvider,login_hint:ir.login_hint,name:ir.name}})}),_defineProperty(this,"setState",rr=>{this.stateEmitter.emit("STATE_UPDATED",rr)}),_defineProperty(this,"updateWalletConnect",(rr,nr)=>{rr&&this.setState({walletConnectUri:rr,wcAdapters:nr})}),_defineProperty(this,"handleAdapterData",rr=>{if(rr.adapterName===WALLET_ADAPTERS.WALLET_CONNECT_V2){const nr=rr.data;this.updateWalletConnect(nr.uri,nr.extensionAdapters)}}),_defineProperty(this,"subscribeCoreEvents",rr=>{rr.on(ADAPTER_EVENTS.CONNECTING,nr=>{loglevel$1.info("connecting with adapter",nr),nr?.adapter!==WALLET_ADAPTERS.WALLET_CONNECT_V2&&this.setState({status:MODAL_STATUS.CONNECTING})}),rr.on(ADAPTER_EVENTS.CONNECTED,nr=>{loglevel$1.debug("connected with adapter",nr),nr.reconnected?this.setState({status:MODAL_STATUS.CONNECTED}):this.setState({status:MODAL_STATUS.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"})}),rr.on(ADAPTER_EVENTS.ERRORED,nr=>{loglevel$1.error("error",nr,nr.message),nr.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:nr.message||"modal.post-loading.something-wrong",status:MODAL_STATUS.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:MODAL_STATUS.INITIALIZED})}),rr.on(ADAPTER_EVENTS.DISCONNECTED,()=>{this.setState({status:MODAL_STATUS.INITIALIZED,externalWalletsVisibility:!1})}),rr.on(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED,nr=>{this.handleAdapterData(nr)})}),this.uiConfig=er,er.logoDark||(this.uiConfig.logoDark=DEFAULT_LOGO_DARK),er.logoLight||(this.uiConfig.logoLight=DEFAULT_LOGO_LIGHT),er.mode||(this.uiConfig.mode="light"),er.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof er.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),er.appName||(this.uiConfig.appName="Web3Auth"),er.loginGridCol||(this.uiConfig.loginGridCol=3),er.primaryButton||(this.uiConfig.primaryButton="socialLogin"),er.defaultLanguage||(this.uiConfig.defaultLanguage=getUserLanguage(er.defaultLanguage)),this.stateEmitter=new SafeEventEmitter,this.subscribeCoreEvents(this.uiConfig.adapterListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}}CHAIN_NAMESPACES.SOLANA,SOLANA_ADAPTERS.TORUS_SOLANA+"",SOLANA_ADAPTERS.OPENLOGIN+"",SOLANA_ADAPTERS.PHANTOM+"";CHAIN_NAMESPACES.EIP155,EVM_ADAPTERS.TORUS_EVM+"",EVM_ADAPTERS.METAMASK+"",EVM_ADAPTERS.OPENLOGIN+"",EVM_ADAPTERS.WALLET_CONNECT_V2+"";CHAIN_NAMESPACES.SOLANA,SOLANA_ADAPTERS.OPENLOGIN+"";CHAIN_NAMESPACES.EIP155,EVM_ADAPTERS.OPENLOGIN+"";const defaultOtherModalConfig={chainNamespace:CHAIN_NAMESPACES.OTHER,adapters:{[EVM_ADAPTERS.OPENLOGIN]:{label:"OpenLogin",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0}}};class Web3Auth extends Web3AuthNoModal{constructor(er){if(super(er),_defineProperty(this,"loginModal",void 0),_defineProperty(this,"options",void 0),_defineProperty(this,"modalConfig",defaultOtherModalConfig),this.options=_objectSpread2({},er),this.options.uiConfig||(this.options.uiConfig={}),!this.coreOptions.privateKeyProvider)throw WalletInitializationError.invalidParams("privateKeyProvider is required")}setModalConfig(er){super.checkInitRequirements(),this.modalConfig=er}async initModal(er){super.checkInitRequirements();let rr;try{rr=await fetchProjectConfig(this.options.clientId,this.options.web3AuthNetwork)}catch(br){throw loglevel$1.error("Failed to fetch project configurations",br),WalletInitializationError.notReady("failed to fetch project configurations",br)}const{whitelabel:nr}=rr;this.options.uiConfig=merge(clonedeep(nr),this.options.uiConfig),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=getUserLanguage(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light"),this.loginModal=new LoginModal(_objectSpread2(_objectSpread2({},this.options.uiConfig),{},{adapterListener:this})),this.subscribeToLoginModalEvents();const{sms_otp_enabled:ir,whitelist:or}=rr;if(ir!==void 0){var sr;const br={[WALLET_ADAPTERS.OPENLOGIN]:{label:WALLET_ADAPTERS.OPENLOGIN,loginMethods:{[LOGIN_PROVIDER.SMS_PASSWORDLESS]:{name:LOGIN_PROVIDER.SMS_PASSWORDLESS,showOnModal:ir,showOnDesktop:ir,showOnMobile:ir}}}};(sr=er)!==null&&sr!==void 0&&sr.modalConfig||(er={modalConfig:{}}),er.modalConfig=merge(clonedeep(er.modalConfig),br)}await this.loginModal.initModal();const ar=this.options.chainConfig,cr=[...new Set([...Object.keys(this.modalConfig.adapters||{}),...Object.keys(this.walletAdapters)])],lr=cr.map(async br=>{var vr,$r,Er,_r;let xr=((vr=this.modalConfig.adapters)===null||vr===void 0?void 0:vr[br])||{label:br.split("-").map(capitalizeFirstLetter).join(" "),showOnModal:!0,showOnMobile:!0,showOnDesktop:!0};($r=er)!==null&&$r!==void 0&&($r=$r.modalConfig)!==null&&$r!==void 0&&$r[br]&&(xr=_objectSpread2(_objectSpread2({},xr),er.modalConfig[br])),this.modalConfig.adapters[br]=xr;const Ir=this.walletAdapters[br];if(loglevel$1.debug("adapter config",br,(Er=this.modalConfig.adapters)===null||Er===void 0?void 0:Er[br].showOnModal,Ir),!Ir&&(_r=this.modalConfig.adapters)!==null&&_r!==void 0&&_r[br].showOnModal){if(br===WALLET_ADAPTERS.OPENLOGIN){var Nr;const mr=getOpenloginDefaultOptions(),{clientId:hr,useCoreKitKey:pr,chainConfig:wr,web3AuthNetwork:Ar,sessionTime:Rr,privateKeyProvider:Pr}=this.coreOptions,Sr=_objectSpread2(_objectSpread2({},getChainConfig(ar.chainNamespace,(Nr=this.coreOptions.chainConfig)===null||Nr===void 0?void 0:Nr.chainId)),wr);if(!Pr)throw WalletInitializationError.invalidParams("privateKeyProvider is required");const Mr=_objectSpread2(_objectSpread2({},mr.adapterSettings),{},{clientId:hr,network:Ar,whiteLabel:this.options.uiConfig});ir!==void 0&&(Mr.loginConfig={[LOGIN_PROVIDER.SMS_PASSWORDLESS]:{showOnModal:ir,showOnDesktop:ir,showOnMobile:ir,showOnSocialBackupFactor:ir}}),or&&(Mr.originData=or.signed_urls),this.options.uiConfig.uxMode&&(Mr.uxMode=this.options.uiConfig.uxMode);const Br=new OpenloginAdapter(_objectSpread2(_objectSpread2({},mr),{},{clientId:hr,useCoreKitKey:pr,chainConfig:_objectSpread2({},Sr),adapterSettings:Mr,sessionTime:Rr,web3AuthNetwork:Ar,privateKeyProvider:Pr}));return this.walletAdapters[br]=Br,br}throw WalletInitializationError.invalidParams(`Adapter ${br} is not configured`)}else if(Ir?.type===ADAPTER_CATEGORY.IN_APP||Ir?.type===ADAPTER_CATEGORY.EXTERNAL||br===this.cachedAdapter){var Lr;if(!((Lr=this.modalConfig.adapters)!==null&&Lr!==void 0&&Lr[br].showOnModal))return;if(this.walletAdapters[br].setAdapterSettings({clientId:this.options.clientId,sessionTime:this.options.sessionTime,web3AuthNetwork:this.options.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey}),!Ir.chainConfigProxy){var jr;const mr=_objectSpread2(_objectSpread2({},getChainConfig(ar.chainNamespace,(jr=this.coreOptions.chainConfig)===null||jr===void 0?void 0:jr.chainId)),this.coreOptions.chainConfig);this.walletAdapters[br].setAdapterSettings({chainConfig:mr})}if(br===WALLET_ADAPTERS.OPENLOGIN){var Or;const mr=this.walletAdapters[br];if(this.coreOptions.privateKeyProvider){if(mr.currentChainNamespace!==this.coreOptions.privateKeyProvider.currentChainConfig.chainNamespace)throw WalletInitializationError.incompatibleChainNameSpace("private key provider is not compatible with provided chainNamespace for openlogin adapter");mr.setAdapterSettings({privateKeyProvider:this.coreOptions.privateKeyProvider})}if(ir!==void 0&&mr.setAdapterSettings({loginConfig:{[LOGIN_PROVIDER.SMS_PASSWORDLESS]:{showOnModal:ir,showOnDesktop:ir,showOnMobile:ir,showOnSocialBackupFactor:ir}}}),or&&mr.setAdapterSettings({originData:or.signed_urls}),(Or=this.options.uiConfig)!==null&&Or!==void 0&&Or.uxMode&&mr.setAdapterSettings({uxMode:this.options.uiConfig.uxMode}),mr.setAdapterSettings({whiteLabel:this.options.uiConfig}),!mr.privateKeyProvider)throw WalletInitializationError.invalidParams("privateKeyProvider is required for openlogin adapter")}else if(br===WALLET_ADAPTERS.WALLET_CONNECT_V2){const mr=this.walletAdapters[br],{wallet_connect_enabled:hr,wallet_connect_project_id:pr}=rr;if(hr===!1){var Dr,Cr,Tr;this.modalConfig.adapters=_objectSpread2(_objectSpread2({},(Dr=this.modalConfig.adapters)!==null&&Dr!==void 0?Dr:{}),{},{[WALLET_ADAPTERS.WALLET_CONNECT_V2]:_objectSpread2(_objectSpread2({},(Cr=(Tr=this.modalConfig.adapters)===null||Tr===void 0?void 0:Tr[WALLET_ADAPTERS.WALLET_CONNECT_V2])!==null&&Cr!==void 0?Cr:{}),{},{showOnModal:!1})}),this.modalConfig.adapters[WALLET_ADAPTERS.WALLET_CONNECT_V2].showOnModal=!1}else{var yr;if(!(mr!=null&&(yr=mr.adapterOptions)!==null&&yr!==void 0&&(yr=yr.adapterSettings)!==null&&yr!==void 0&&(yr=yr.walletConnectInitOptions)!==null&&yr!==void 0&&yr.projectId)&&!pr)throw WalletInitializationError.invalidParams("Invalid wallet connect project id. Please configure it on the dashboard");pr&&mr.setAdapterSettings({adapterSettings:{walletConnectInitOptions:{projectId:pr}}})}}return br}}),ur=await Promise.all(lr),fr=Object.values(this.walletAdapters).some(br=>{var vr,$r,Er;if(br.type!==ADAPTER_CATEGORY.IN_APP||((vr=this.modalConfig.adapters)===null||vr===void 0||(vr=vr[br.name])===null||vr===void 0?void 0:vr.showOnModal)!==!0)return!1;if(!(($r=this.modalConfig.adapters)!==null&&$r!==void 0&&($r=$r[br.name])!==null&&$r!==void 0&&$r.loginMethods))return!0;const _r=getAdapterSocialLogins(br.name,(Er=this.modalConfig.adapters[br.name])===null||Er===void 0?void 0:Er.loginMethods);return!!Object.values(_r).some(xr=>xr.showOnModal)});loglevel$1.debug(fr,this.walletAdapters,ur,"hasInAppWallets");const dr=ur.map(async br=>{if(br)try{const vr=this.walletAdapters[br];if(this.cachedAdapter!==br&&vr.type===ADAPTER_CATEGORY.EXTERNAL)return;this.subscribeToAdapterEvents(vr),vr.status===ADAPTER_STATUS.NOT_READY&&await vr.init({autoConnect:this.cachedAdapter===br}),vr.type===ADAPTER_CATEGORY.IN_APP&&this.initializeInAppWallet(br)}catch(vr){loglevel$1.error(vr,"error while initializing adapter ",br)}});this.commonJRPCProvider=await CommonJRPCProvider.getProviderInstance({chainConfig:this.coreOptions.chainConfig}),await Promise.all(dr),this.status===ADAPTER_STATUS.NOT_READY&&(this.status=ADAPTER_STATUS.READY,this.emit(ADAPTER_EVENTS.READY));const gr=cr.some(br=>{var vr,$r;return((vr=this.walletAdapters[br])===null||vr===void 0?void 0:vr.type)===ADAPTER_CATEGORY.EXTERNAL&&(($r=this.modalConfig.adapters)===null||$r===void 0?void 0:$r[br].showOnModal)});gr&&this.loginModal.initExternalWalletContainer(),!fr&&gr&&await this.initExternalWalletAdapters(!1,{showExternalWalletsOnly:!0})}async connect(){if(!this.loginModal)throw WalletInitializationError.notReady("Login modal is not initialized");return this.connectedAdapterName&&this.status===ADAPTER_STATUS.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((er,rr)=>{this.once(ADAPTER_EVENTS.CONNECTED,()=>er(this.provider)),this.once(ADAPTER_EVENTS.ERRORED,nr=>rr(nr)),this.once(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY,nr=>{if(!nr&&this.status!==ADAPTER_STATUS.CONNECTED)return rr(new Error("User closed the modal"))})}))}async initExternalWalletAdapters(er,rr){if(er)return;const nr={};Object.keys(this.walletAdapters).forEach(async ir=>{const or=this.walletAdapters[ir];if(or?.type===ADAPTER_CATEGORY.EXTERNAL){if(loglevel$1.debug("init external wallet",this.cachedAdapter,ir),this.subscribeToAdapterEvents(or),this.cachedAdapter===ir)return;or.status===ADAPTER_STATUS.NOT_READY?await or.init({autoConnect:this.cachedAdapter===ir}).then(()=>{nr[ir]=this.modalConfig.adapters[ir],this.loginModal.addWalletLogins(nr,{showExternalWalletsOnly:!!(rr!=null&&rr.showExternalWalletsOnly)})}).catch(sr=>loglevel$1.error(sr,"error while initializing adapter",ir)):or.status===ADAPTER_STATUS.READY&&(nr[ir]=this.modalConfig.adapters[ir],this.loginModal.addWalletLogins(nr,{showExternalWalletsOnly:!!(rr!=null&&rr.showExternalWalletsOnly)}))}})}initializeInAppWallet(er){if(loglevel$1.info("adapterInitResults",er),this.walletAdapters[er].type===ADAPTER_CATEGORY.IN_APP){var rr,nr,ir,or;this.loginModal.addSocialLogins(er,getAdapterSocialLogins(er,(rr=this.modalConfig.adapters[er])===null||rr===void 0?void 0:rr.loginMethods),((nr=this.options.uiConfig)===null||nr===void 0?void 0:nr.loginMethodsOrder)||OPENLOGIN_PROVIDERS,_objectSpread2(_objectSpread2({},this.options.uiConfig),{},{loginGridCol:((ir=this.options.uiConfig)===null||ir===void 0?void 0:ir.loginGridCol)||3,primaryButton:((or=this.options.uiConfig)===null||or===void 0?void 0:or.primaryButton)||"socialLogin"}))}}subscribeToLoginModalEvents(){this.loginModal.on(LOGIN_MODAL_EVENTS.LOGIN,async er=>{try{await this.connectTo(er.adapter,er.loginParams)}catch(rr){loglevel$1.error(`Error while connecting to adapter: ${er.adapter}`,rr)}}),this.loginModal.on(LOGIN_MODAL_EVENTS.INIT_EXTERNAL_WALLETS,async er=>{await this.initExternalWalletAdapters(er.externalWalletsInitialized)}),this.loginModal.on(LOGIN_MODAL_EVENTS.DISCONNECT,async()=>{try{await this.logout()}catch(er){loglevel$1.error("Error while disconnecting",er)}}),this.loginModal.on(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY,async er=>{loglevel$1.debug("is login modal visible",er),this.emit(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY,er);const rr=this.walletAdapters[WALLET_ADAPTERS.WALLET_CONNECT_V2];if(rr){const nr=rr?.status;if(loglevel$1.debug("trying refreshing wc session",er,nr),er&&(nr===ADAPTER_STATUS.READY||nr===ADAPTER_STATUS.CONNECTING)){loglevel$1.debug("refreshing wc session");try{rr.connect()}catch(ir){loglevel$1.error("Error while disconnecting to wallet connect in core",ir)}}!er&&this.status===ADAPTER_STATUS.CONNECTED&&(nr===ADAPTER_STATUS.READY||nr===ADAPTER_STATUS.CONNECTING)&&(loglevel$1.debug("this stops wc adapter from trying to reconnect once proposal expires"),rr.status=ADAPTER_STATUS.READY)}})}}function isHexString$2(tr,er){return!(typeof tr!="string"||!tr.match(/^0x[0-9A-Fa-f]*$/))}function padToEven$1(tr){let er=tr;if(typeof er!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof er}`);return er.length%2&&(er=`0${er}`),er}BigInt(0);const hexToBytesMapFirstKey={},hexToBytesMapSecondKey={};for(let tr=0;tr<16;tr++){const er=tr,rr=tr*16,nr=tr.toString(16).toLowerCase();hexToBytesMapSecondKey[nr]=er,hexToBytesMapSecondKey[nr.toUpperCase()]=er,hexToBytesMapFirstKey[nr]=rr,hexToBytesMapFirstKey[nr.toUpperCase()]=rr}function _unprefixedHexToBytes(tr){const er=tr.length,rr=new Uint8Array(er/2);for(let nr=0;nr<er;nr+=2)rr[nr/2]=hexToBytesMapFirstKey[tr[nr]]+hexToBytesMapSecondKey[tr[nr+1]];return rr}Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));for(let tr=0;tr<=256*256-1;tr++)BigInt(tr);const hexToBytes=tr=>{if(typeof tr!="string")throw new Error(`hex argument type ${typeof tr} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(tr))throw new Error(`Input must be a 0x-prefixed hexadecimal string, got ${tr}`);const er=tr.slice(2);return _unprefixedHexToBytes(er.length%2===0?er:padToEven$1(er))},intToHex=tr=>{if(!Number.isSafeInteger(tr)||tr<0)throw new Error(`Received an invalid integer type: ${tr}`);return`0x${tr.toString(16)}`},intToBytes=tr=>{const er=intToHex(tr);return hexToBytes(er)},addHexPrefix=tr=>typeof tr!="string"||isHexString$2(tr)?tr:`0x${tr}`;BigInt("0xffffffffffffffff");BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935");secp256k1$1.CURVE.n;secp256k1$1.CURVE.n/BigInt(2);BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const KECCAK256_NULL_S="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";hexToBytes(KECCAK256_NULL_S);const KECCAK256_RLP_ARRAY_S="0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";hexToBytes(KECCAK256_RLP_ARRAY_S);const KECCAK256_RLP_S="0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";hexToBytes(KECCAK256_RLP_S);Uint8Array.from([128]);BigInt(-1);BigInt(0);BigInt(1);BigInt(2);BigInt(3);BigInt(7);BigInt(8);BigInt(27);BigInt(28);BigInt(31);BigInt(32);BigInt(64);BigInt(128);BigInt(255);BigInt(256);BigInt(96);BigInt(100);BigInt(160);BigInt(224);BigInt(7922816251426434e13);BigInt(1461501637330903e33);BigInt(2695994666715064e52);BigInt(1e9);Array.from({length:256},(tr,er)=>er.toString(16).padStart(2,"0"));var KeyEncoding;(function(tr){tr.String="string",tr.Bytes="view",tr.Number="number"})(KeyEncoding||(KeyEncoding={}));var ValueEncoding;(function(tr){tr.String="string",tr.Bytes="view",tr.JSON="json"})(ValueEncoding||(ValueEncoding={}));var TypeOutput;(function(tr){tr[tr.Number=0]="Number",tr[tr.BigInt=1]="BigInt",tr[tr.Uint8Array=2]="Uint8Array",tr[tr.PrefixedHexString=3]="PrefixedHexString"})(TypeOutput||(TypeOutput={}));var CLRequestType;(function(tr){tr[tr.Deposit=0]="Deposit",tr[tr.Withdrawal=1]="Withdrawal",tr[tr.Consolidation=2]="Consolidation"})(CLRequestType||(CLRequestType={}));var VerkleLeafType;(function(tr){tr[tr.Version=0]="Version",tr[tr.Balance=1]="Balance",tr[tr.Nonce=2]="Nonce",tr[tr.CodeHash=3]="CodeHash",tr[tr.CodeSize=4]="CodeSize"})(VerkleLeafType||(VerkleLeafType={}));intToBytes(VerkleLeafType.Version);intToBytes(VerkleLeafType.Balance);intToBytes(VerkleLeafType.Nonce);intToBytes(VerkleLeafType.CodeHash);intToBytes(VerkleLeafType.CodeSize);BigInt(256)**BigInt(31);var isMergeableObject=function tr(er){return isNonNullObject(er)&&!isSpecial(er)};function isNonNullObject(tr){return!!tr&&typeof tr=="object"}function isSpecial(tr){var er=Object.prototype.toString.call(tr);return er==="[object RegExp]"||er==="[object Date]"||isReactElement(tr)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(tr){return tr.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(tr){return Array.isArray(tr)?[]:{}}function cloneUnlessOtherwiseSpecified(tr,er){return er.clone!==!1&&er.isMergeableObject(tr)?deepmerge(emptyTarget(tr),tr,er):tr}function defaultArrayMerge(tr,er,rr){return tr.concat(er).map(function(nr){return cloneUnlessOtherwiseSpecified(nr,rr)})}function getMergeFunction(tr,er){if(!er.customMerge)return deepmerge;var rr=er.customMerge(tr);return typeof rr=="function"?rr:deepmerge}function getEnumerableOwnPropertySymbols(tr){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(tr).filter(function(er){return Object.propertyIsEnumerable.call(tr,er)}):[]}function getKeys(tr){return Object.keys(tr).concat(getEnumerableOwnPropertySymbols(tr))}function propertyIsOnObject(tr,er){try{return er in tr}catch{return!1}}function propertyIsUnsafe(tr,er){return propertyIsOnObject(tr,er)&&!(Object.hasOwnProperty.call(tr,er)&&Object.propertyIsEnumerable.call(tr,er))}function mergeObject(tr,er,rr){var nr={};return rr.isMergeableObject(tr)&&getKeys(tr).forEach(function(ir){nr[ir]=cloneUnlessOtherwiseSpecified(tr[ir],rr)}),getKeys(er).forEach(function(ir){propertyIsUnsafe(tr,ir)||(propertyIsOnObject(tr,ir)&&rr.isMergeableObject(er[ir])?nr[ir]=getMergeFunction(ir,rr)(tr[ir],er[ir],rr):nr[ir]=cloneUnlessOtherwiseSpecified(er[ir],rr))}),nr}function deepmerge(tr,er,rr){rr=rr||{},rr.arrayMerge=rr.arrayMerge||defaultArrayMerge,rr.isMergeableObject=rr.isMergeableObject||isMergeableObject,rr.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var nr=Array.isArray(er),ir=Array.isArray(tr),or=nr===ir;return or?nr?rr.arrayMerge(tr,er,rr):mergeObject(tr,er,rr):cloneUnlessOtherwiseSpecified(er,rr)}deepmerge.all=function tr(er,rr){if(!Array.isArray(er))throw new Error("first argument should be an array");return er.reduce(function(nr,ir){return deepmerge(nr,ir,rr)},{})};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var __extends=function(){var tr=function(er,rr){return tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nr,ir){nr.__proto__=ir}||function(nr,ir){for(var or in ir)ir.hasOwnProperty(or)&&(nr[or]=ir[or])},tr(er,rr)};return function(er,rr){tr(er,rr);function nr(){this.constructor=er}er.prototype=rr===null?Object.create(rr):(nr.prototype=rr.prototype,new nr)}}(),_hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwnProperty(tr,er){return _hasOwnProperty.call(tr,er)}function _objectKeys(tr){if(Array.isArray(tr)){for(var er=new Array(tr.length),rr=0;rr<er.length;rr++)er[rr]=""+rr;return er}if(Object.keys)return Object.keys(tr);var nr=[];for(var ir in tr)hasOwnProperty(tr,ir)&&nr.push(ir);return nr}function _deepClone(tr){switch(typeof tr){case"object":return JSON.parse(JSON.stringify(tr));case"undefined":return null;default:return tr}}function isInteger(tr){for(var er=0,rr=tr.length,nr;er<rr;){if(nr=tr.charCodeAt(er),nr>=48&&nr<=57){er++;continue}return!1}return!0}function escapePathComponent(tr){return tr.indexOf("/")===-1&&tr.indexOf("~")===-1?tr:tr.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapePathComponent(tr){return tr.replace(/~1/g,"/").replace(/~0/g,"~")}function hasUndefined(tr){if(tr===void 0)return!0;if(tr){if(Array.isArray(tr)){for(var er=0,rr=tr.length;er<rr;er++)if(hasUndefined(tr[er]))return!0}else if(typeof tr=="object"){for(var nr=_objectKeys(tr),ir=nr.length,or=0;or<ir;or++)if(hasUndefined(tr[nr[or]]))return!0}}return!1}function patchErrorMessageFormatter(tr,er){var rr=[tr];for(var nr in er){var ir=typeof er[nr]=="object"?JSON.stringify(er[nr],null,2):er[nr];typeof ir<"u"&&rr.push(nr+": "+ir)}return rr.join(`
`)}var PatchError=function(tr){__extends(er,tr);function er(rr,nr,ir,or,sr){var ar=this.constructor,cr=tr.call(this,patchErrorMessageFormatter(rr,{name:nr,index:ir,operation:or,tree:sr}))||this;return cr.name=nr,cr.index=ir,cr.operation=or,cr.tree=sr,Object.setPrototypeOf(cr,ar.prototype),cr.message=patchErrorMessageFormatter(rr,{name:nr,index:ir,operation:or,tree:sr}),cr}return er}(Error),JsonPatchError=PatchError,deepClone=_deepClone,objOps={add:function(tr,er,rr){return tr[er]=this.value,{newDocument:rr}},remove:function(tr,er,rr){var nr=tr[er];return delete tr[er],{newDocument:rr,removed:nr}},replace:function(tr,er,rr){var nr=tr[er];return tr[er]=this.value,{newDocument:rr,removed:nr}},move:function(tr,er,rr){var nr=getValueByPointer(rr,this.path);nr&&(nr=_deepClone(nr));var ir=applyOperation(rr,{op:"remove",path:this.from}).removed;return applyOperation(rr,{op:"add",path:this.path,value:ir}),{newDocument:rr,removed:nr}},copy:function(tr,er,rr){var nr=getValueByPointer(rr,this.from);return applyOperation(rr,{op:"add",path:this.path,value:_deepClone(nr)}),{newDocument:rr}},test:function(tr,er,rr){return{newDocument:rr,test:_areEquals(tr[er],this.value)}},_get:function(tr,er,rr){return this.value=tr[er],{newDocument:rr}}},arrOps={add:function(tr,er,rr){return isInteger(er)?tr.splice(er,0,this.value):tr[er]=this.value,{newDocument:rr,index:er}},remove:function(tr,er,rr){var nr=tr.splice(er,1);return{newDocument:rr,removed:nr[0]}},replace:function(tr,er,rr){var nr=tr[er];return tr[er]=this.value,{newDocument:rr,removed:nr}},move:objOps.move,copy:objOps.copy,test:objOps.test,_get:objOps._get};function getValueByPointer(tr,er){if(er=="")return tr;var rr={op:"_get",path:er};return applyOperation(tr,rr),rr.value}function applyOperation(tr,er,rr,nr,ir,or){if(rr===void 0&&(rr=!1),nr===void 0&&(nr=!0),ir===void 0&&(ir=!0),or===void 0&&(or=0),rr&&(typeof rr=="function"?rr(er,0,tr,er.path):validator(er,0)),er.path===""){var sr={newDocument:tr};if(er.op==="add")return sr.newDocument=er.value,sr;if(er.op==="replace")return sr.newDocument=er.value,sr.removed=tr,sr;if(er.op==="move"||er.op==="copy")return sr.newDocument=getValueByPointer(tr,er.from),er.op==="move"&&(sr.removed=tr),sr;if(er.op==="test"){if(sr.test=_areEquals(tr,er.value),sr.test===!1)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",or,er,tr);return sr.newDocument=tr,sr}else{if(er.op==="remove")return sr.removed=tr,sr.newDocument=null,sr;if(er.op==="_get")return er.value=tr,sr;if(rr)throw new JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",or,er,tr);return sr}}else{nr||(tr=_deepClone(tr));var ar=er.path||"",cr=ar.split("/"),lr=tr,ur=1,fr=cr.length,dr=void 0,gr=void 0,br=void 0;for(typeof rr=="function"?br=rr:br=validator;;){if(gr=cr[ur],gr&&gr.indexOf("~")!=-1&&(gr=unescapePathComponent(gr)),ir&&(gr=="__proto__"||gr=="prototype"&&ur>0&&cr[ur-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(rr&&dr===void 0&&(lr[gr]===void 0?dr=cr.slice(0,ur).join("/"):ur==fr-1&&(dr=er.path),dr!==void 0&&br(er,0,tr,dr)),ur++,Array.isArray(lr)){if(gr==="-")gr=lr.length;else{if(rr&&!isInteger(gr))throw new JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",or,er,tr);isInteger(gr)&&(gr=~~gr)}if(ur>=fr){if(rr&&er.op==="add"&&gr>lr.length)throw new JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",or,er,tr);var sr=arrOps[er.op].call(er,lr,gr,tr);if(sr.test===!1)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",or,er,tr);return sr}}else if(ur>=fr){var sr=objOps[er.op].call(er,lr,gr,tr);if(sr.test===!1)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",or,er,tr);return sr}if(lr=lr[gr],rr&&ur<fr&&(!lr||typeof lr!="object"))throw new JsonPatchError("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",or,er,tr)}}}function applyPatch(tr,er,rr,nr,ir){if(nr===void 0&&(nr=!0),ir===void 0&&(ir=!0),rr&&!Array.isArray(er))throw new JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");nr||(tr=_deepClone(tr));for(var or=new Array(er.length),sr=0,ar=er.length;sr<ar;sr++)or[sr]=applyOperation(tr,er[sr],rr,!0,ir,sr),tr=or[sr].newDocument;return or.newDocument=tr,or}function applyReducer(tr,er,rr){var nr=applyOperation(tr,er);if(nr.test===!1)throw new JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",rr,er,tr);return nr.newDocument}function validator(tr,er,rr,nr){if(typeof tr!="object"||tr===null||Array.isArray(tr))throw new JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",er,tr,rr);if(objOps[tr.op]){if(typeof tr.path!="string")throw new JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",er,tr,rr);if(tr.path.indexOf("/")!==0&&tr.path.length>0)throw new JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",er,tr,rr);if((tr.op==="move"||tr.op==="copy")&&typeof tr.from!="string")throw new JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",er,tr,rr);if((tr.op==="add"||tr.op==="replace"||tr.op==="test")&&tr.value===void 0)throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",er,tr,rr);if((tr.op==="add"||tr.op==="replace"||tr.op==="test")&&hasUndefined(tr.value))throw new JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",er,tr,rr);if(rr){if(tr.op=="add"){var ir=tr.path.split("/").length,or=nr.split("/").length;if(ir!==or+1&&ir!==or)throw new JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",er,tr,rr)}else if(tr.op==="replace"||tr.op==="remove"||tr.op==="_get"){if(tr.path!==nr)throw new JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",er,tr,rr)}else if(tr.op==="move"||tr.op==="copy"){var sr={op:"_get",path:tr.from,value:void 0},ar=validate([sr],rr);if(ar&&ar.name==="OPERATION_PATH_UNRESOLVABLE")throw new JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",er,tr,rr)}}}else throw new JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",er,tr,rr)}function validate(tr,er,rr){try{if(!Array.isArray(tr))throw new JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(er)applyPatch(_deepClone(er),_deepClone(tr),rr||!0);else{rr=rr||validator;for(var nr=0;nr<tr.length;nr++)rr(tr[nr],nr,er,void 0)}}catch(ir){if(ir instanceof JsonPatchError)return ir;throw ir}}function _areEquals(tr,er){if(tr===er)return!0;if(tr&&er&&typeof tr=="object"&&typeof er=="object"){var rr=Array.isArray(tr),nr=Array.isArray(er),ir,or,sr;if(rr&&nr){if(or=tr.length,or!=er.length)return!1;for(ir=or;ir--!==0;)if(!_areEquals(tr[ir],er[ir]))return!1;return!0}if(rr!=nr)return!1;var ar=Object.keys(tr);if(or=ar.length,or!==Object.keys(er).length)return!1;for(ir=or;ir--!==0;)if(!er.hasOwnProperty(ar[ir]))return!1;for(ir=or;ir--!==0;)if(sr=ar[ir],!_areEquals(tr[sr],er[sr]))return!1;return!0}return tr!==tr&&er!==er}const core=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError,_areEquals,applyOperation,applyPatch,applyReducer,deepClone,getValueByPointer,validate,validator},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var beforeDict=new WeakMap,Mirror=function(){function tr(er){this.observers=new Map,this.obj=er}return tr}(),ObserverInfo=function(){function tr(er,rr){this.callback=er,this.observer=rr}return tr}();function getMirror(tr){return beforeDict.get(tr)}function getObserverFromMirror(tr,er){return tr.observers.get(er)}function removeObserverFromMirror(tr,er){tr.observers.delete(er.callback)}function unobserve(tr,er){er.unobserve()}function observe(tr,er){var rr=[],nr,ir=getMirror(tr);if(!ir)ir=new Mirror(tr),beforeDict.set(tr,ir);else{var or=getObserverFromMirror(ir,er);nr=or&&or.observer}if(nr)return nr;if(nr={},ir.value=_deepClone(tr),er){nr.callback=er,nr.next=null;var sr=function(){generate(nr)},ar=function(){clearTimeout(nr.next),nr.next=setTimeout(sr)};typeof window<"u"&&(window.addEventListener("mouseup",ar),window.addEventListener("keyup",ar),window.addEventListener("mousedown",ar),window.addEventListener("keydown",ar),window.addEventListener("change",ar))}return nr.patches=rr,nr.object=tr,nr.unobserve=function(){generate(nr),clearTimeout(nr.next),removeObserverFromMirror(ir,nr),typeof window<"u"&&(window.removeEventListener("mouseup",ar),window.removeEventListener("keyup",ar),window.removeEventListener("mousedown",ar),window.removeEventListener("keydown",ar),window.removeEventListener("change",ar))},ir.observers.set(er,new ObserverInfo(er,nr)),nr}function generate(tr,er){er===void 0&&(er=!1);var rr=beforeDict.get(tr.object);_generate(rr.value,tr.object,tr.patches,"",er),tr.patches.length&&applyPatch(rr.value,tr.patches);var nr=tr.patches;return nr.length>0&&(tr.patches=[],tr.callback&&tr.callback(nr)),nr}function _generate(tr,er,rr,nr,ir){if(er!==tr){typeof er.toJSON=="function"&&(er=er.toJSON());for(var or=_objectKeys(er),sr=_objectKeys(tr),ar=!1,cr=sr.length-1;cr>=0;cr--){var lr=sr[cr],ur=tr[lr];if(hasOwnProperty(er,lr)&&!(er[lr]===void 0&&ur!==void 0&&Array.isArray(er)===!1)){var fr=er[lr];typeof ur=="object"&&ur!=null&&typeof fr=="object"&&fr!=null&&Array.isArray(ur)===Array.isArray(fr)?_generate(ur,fr,rr,nr+"/"+escapePathComponent(lr),ir):ur!==fr&&(ir&&rr.push({op:"test",path:nr+"/"+escapePathComponent(lr),value:_deepClone(ur)}),rr.push({op:"replace",path:nr+"/"+escapePathComponent(lr),value:_deepClone(fr)}))}else Array.isArray(tr)===Array.isArray(er)?(ir&&rr.push({op:"test",path:nr+"/"+escapePathComponent(lr),value:_deepClone(ur)}),rr.push({op:"remove",path:nr+"/"+escapePathComponent(lr)}),ar=!0):(ir&&rr.push({op:"test",path:nr,value:tr}),rr.push({op:"replace",path:nr,value:er}))}if(!(!ar&&or.length==sr.length))for(var cr=0;cr<or.length;cr++){var lr=or[cr];!hasOwnProperty(tr,lr)&&er[lr]!==void 0&&rr.push({op:"add",path:nr+"/"+escapePathComponent(lr),value:_deepClone(er[lr])})}}}function compare(tr,er,rr){rr===void 0&&(rr=!1);var nr=[];return _generate(tr,er,nr,"",rr),nr}const duplex=Object.freeze(Object.defineProperty({__proto__:null,compare,generate,observe,unobserve},Symbol.toStringTag,{value:"Module"}));Object.assign({},core,duplex,{JsonPatchError:PatchError,deepClone:_deepClone,escapePathComponent,unescapePathComponent});const erc20Abi=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"}],erc721Abi=[{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"_name",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_approved",type:"address"},{name:"_tokenId",type:"uint256"}],name:"approve",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"_index",type:"uint256"}],name:"tokenByIndex",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"_symbol",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"}],erc1155Abi=[{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"isOperator",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"_interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],METHOD_TYPES={GET_ACCOUNTS:"eth_accounts",ETH_TRANSACTION:"eth_sendTransaction",ETH_REQUEST_ACCOUNTS:"eth_requestAccounts",ETH_SEND_RAW_TRANSACTION:"eth_sendRawTransaction",ETH_SIGN:"eth_sign",ETH_SIGN_TYPED_DATA:"eth_signTypedData",ETH_SIGN_TYPED_DATA_V3:"eth_signTypedData_v3",ETH_SIGN_TYPED_DATA_V4:"eth_signTypedData_v4",PERSONAL_SIGN:"personal_sign",ETH_GET_TRANSACTION_COUNT:"eth_getTransactionCount",ETH_GET_TRANSACTION_BY_HASH:"eth_getTransactionByHash",ETH_GET_ENCRYPTION_PUBLIC_KEY:"eth_getEncryptionPublicKey",ETH_DECRYPT:"eth_decrypt",ETH_GET_TRANSACTION_RECEIPT:"eth_getTransactionReceipt",WATCH_ASSET:"wallet_watchAsset",ETH_GET_BLOCK_BY_HASH:"eth_getBlockByHash",ETH_GET_CODE:"eth_getCode",ETH_GET_GAS_PRICE:"eth_gasPrice",SWITCH_CHAIN:"wallet_switchEthereumChain",ADD_CHAIN:"wallet_addEthereumChain"};new Interface(erc20Abi);new Interface(erc721Abi);new Interface(erc1155Abi);(tr=>{let er=!1,rr=null;const nr=()=>{rr&&window.clearTimeout(rr),er=!1,rr=window.setTimeout(()=>{er=!0},tr*1e3)};typeof window<"u"&&typeof document<"u"&&(window.addEventListener("load",nr),document.addEventListener("mousemove",nr),document.addEventListener("keydown",nr));function ir(){return er}return{checkIfIdle:ir}})(60*3);addHexPrefix("5208"),addHexPrefix("186a0");new BigNumber("1000000000000000000");new BigNumber("1000000000");new BigNumber("1");var fastDeepEqual=function tr(er,rr){if(er===rr)return!0;if(er&&rr&&typeof er=="object"&&typeof rr=="object"){if(er.constructor!==rr.constructor)return!1;var nr,ir,or;if(Array.isArray(er)){if(nr=er.length,nr!=rr.length)return!1;for(ir=nr;ir--!==0;)if(!tr(er[ir],rr[ir]))return!1;return!0}if(er.constructor===RegExp)return er.source===rr.source&&er.flags===rr.flags;if(er.valueOf!==Object.prototype.valueOf)return er.valueOf()===rr.valueOf();if(er.toString!==Object.prototype.toString)return er.toString()===rr.toString();if(or=Object.keys(er),nr=or.length,nr!==Object.keys(rr).length)return!1;for(ir=nr;ir--!==0;)if(!Object.prototype.hasOwnProperty.call(rr,or[ir]))return!1;for(ir=nr;ir--!==0;){var sr=or[ir];if(!tr(er[sr],rr[sr]))return!1}return!0}return er!==er&&rr!==rr};const dequal=getDefaultExportFromCjs(fastDeepEqual);function isStream(tr){return tr!==null&&typeof tr=="object"&&typeof tr.pipe=="function"}function isWritableStream(tr){return isStream(tr)&&tr.writable!==!1&&typeof tr._write=="function"&&typeof tr._writableState=="object"}function isReadableStream(tr){return isStream(tr)&&tr.readable!==!1&&typeof tr._read=="function"&&typeof tr._readableState=="object"}function isDuplexStream(tr){return isWritableStream(tr)&&isReadableStream(tr)}var messages={errors:{disconnected:()=>"Web3Auth: Lost connection to Web3Auth.",permanentlyDisconnected:()=>"Web3Auth: Disconnected from iframe. Page reload required.",unsupportedSync:tr=>`Web3Auth: The Web3Auth Ethereum provider does not support synchronous methods like ${tr} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:tr=>`Invalid options. Received: { maxEventListeners: ${tr}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:tr=>`'args.logger' must include required method '${tr}'.`},info:{connected:tr=>`Web3Auth: Connected to chain with ID "${tr}".`},warnings:{}},log=log$3.getLogger("ws-embed");function createErrorMiddleware(){return(tr,er,rr)=>{(typeof tr.method!="string"||!tr.method)&&(er.error=rpcErrors.invalidRequest({message:"The request 'method' must be a non-empty string.",data:_objectSpread2(_objectSpread2({},tr||{}),{},{cause:"The request 'method' must be a non-empty string."})})),rr(nr=>{const{error:ir}=er;return ir&&log.error(`Ws-Embed - RPC Error: ${ir.message}`,ir),nr()})}}function logStreamDisconnectWarning(tr,er,rr){let nr=`Web3Auth: Lost connection to "${tr}".`;er!=null&&er.stack&&(nr+=`
${er.stack}`),log.warn(nr),rr&&rr.listenerCount("error")>0&&rr.emit("error",nr)}const EMITTED_NOTIFICATIONS=["eth_subscription"];class BaseProvider extends SafeEventEmitter{constructor(er,{maxEventListeners:rr=100,jsonRpcStreamName:nr="provider"}){if(super(),_defineProperty(this,"rpcEngine",void 0),_defineProperty(this,"jsonRpcConnectionEvents",void 0),_defineProperty(this,"isWeb3Auth",void 0),_defineProperty(this,"state",void 0),!isDuplexStream(er))throw new Error(messages.errors.invalidDuplexStream());this.isWeb3Auth=!0,this.setMaxListeners(rr),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleStreamDisconnect=this.handleStreamDisconnect.bind(this),this.rpcRequest=this.rpcRequest.bind(this),this.initializeState=this.initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this),this.send=this.send.bind(this);const ir=new ObjectMultiplex;pump$1(er,ir,er,this.handleStreamDisconnect.bind(this,"Web3Auth")),ir.ignoreStream("phishing");const or=createStreamMiddleware();pump$1(or.stream,ir.createStream(nr),or.stream,this.handleStreamDisconnect.bind(this,"Web3Auth RpcProvider"));const sr=new JRPCEngine;sr.push(createIdRemapMiddleware()),sr.push(createErrorMiddleware()),sr.push(createLoggerMiddleware({origin:location.origin})),sr.push(or.middleware),this.rpcEngine=sr,this.jsonRpcConnectionEvents=or.events}async request(er){if(!er||typeof er!="object"||Array.isArray(er))throw rpcErrors.invalidRequest({message:messages.errors.invalidRequestArgs(),data:_objectSpread2(_objectSpread2({},er||{}),{},{cause:messages.errors.invalidRequestArgs()})});const{method:rr,params:nr}=er;if(typeof rr!="string"||rr.length===0)throw rpcErrors.invalidRequest({message:messages.errors.invalidRequestMethod(),data:_objectSpread2(_objectSpread2({},er||{}),{},{cause:messages.errors.invalidRequestArgs()})});if(nr!==void 0&&!Array.isArray(nr)&&(typeof nr!="object"||nr===null))throw rpcErrors.invalidRequest({message:messages.errors.invalidRequestParams(),data:_objectSpread2(_objectSpread2({},er||{}),{},{cause:messages.errors.invalidRequestArgs()})});return new Promise((ir,or)=>{this.rpcRequest({method:rr,params:nr},getRpcPromiseCallback(ir,or))})}send(er,rr){this.rpcRequest(er,rr)}sendAsync(er){return new Promise((rr,nr)=>{this.rpcRequest(er,getRpcPromiseCallback(rr,nr))})}handleStreamDisconnect(er,rr){logStreamDisconnectWarning(er,rr,this),this.handleDisconnect(!1,rr?rr.message:void 0)}}const WS_EMBED_BUILD_ENV={PRODUCTION:"production",STAGING:"staging",DEVELOPMENT:"development",TESTING:"testing"},BUTTON_POSITION={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"};class PopupHandler extends SafeEventEmitter{constructor({url:er,target:rr,features:nr,timeout:ir=3e4}){super(),_defineProperty(this,"url",void 0),_defineProperty(this,"target",void 0),_defineProperty(this,"features",void 0),_defineProperty(this,"window",void 0),_defineProperty(this,"windowTimer",void 0),_defineProperty(this,"iClosedWindow",void 0),_defineProperty(this,"timeout",void 0),this.url=er,this.target=rr||"_blank",this.features=nr||getPopupFeatures$1(FEATURES_DEFAULT_POPUP_WINDOW),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=ir,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var er;this.window=window.open(this.url.href,this.target,this.features),(er=this.window)!==null&&er!==void 0&&er.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(er){er?window.location.replace(this.url.href):window.location.href=this.url.href}}class CommunicationProvider extends BaseProvider{constructor(er,{maxEventListeners:rr=100,jsonRpcStreamName:nr="provider"},ir){super(er,{maxEventListeners:rr,jsonRpcStreamName:nr}),_defineProperty(this,"tryWindowHandle",void 0),_defineProperty(this,"windowRefs",void 0),_defineProperty(this,"iframeUrl",void 0),_defineProperty(this,"iframeId",void 0),this.state=_objectSpread2(_objectSpread2({},CommunicationProvider.defaultState),ir),this.iframeUrl="",this.iframeId="",this.windowRefs=new Map,this.on("connect",()=>{this.state.isConnected=!0});const or=sr=>{const{method:ar,params:cr}=sr;if(ar===COMMUNICATION_NOTIFICATIONS.IFRAME_STATUS){const{isFullScreen:lr,rid:ur}=cr;this.displayIframe({isFull:lr,rid:ur})}else if(ar===COMMUNICATION_NOTIFICATIONS.CLOSE_WINDOW)this.handleCloseWindow(cr);else if(ar===COMMUNICATION_NOTIFICATIONS.USER_LOGGED_IN){const{currentLoginProvider:lr}=cr;this.state.isLoggedIn=!0,this.state.currentLoginProvider=lr}else ar===COMMUNICATION_NOTIFICATIONS.USER_LOGGED_OUT&&(this.state.isLoggedIn=!1,this.state.currentLoginProvider=null,this.displayIframe())};this.jsonRpcConnectionEvents.on("notification",or)}get isLoggedIn(){return this.state.isLoggedIn}get isIFrameFullScreen(){return this.state.isIFrameFullScreen}isConnected(){return this.state.isConnected}async initializeState(er){try{const{torusUrl:rr,torusIframeId:nr}=er;this.iframeUrl=rr,this.iframeId=nr;const{currentLoginProvider:ir,isLoggedIn:or}=await this.request({method:COMMUNICATION_JRPC_METHODS.GET_PROVIDER_STATE,params:[]});or&&this.handleConnect(ir,or)}catch(rr){log.error("Web3Auth: Failed to get initial state. Please report this bug.",rr)}finally{log.info("initialized communication state"),this.state.initialized=!0,this.emit("_initialized")}}hideTorusButton(){this.state.widgetVisibility=!1,this.displayIframe()}showTorusButton(){this.state.widgetVisibility=!0,this.displayIframe()}displayIframe({isFull:er=!1,rid:rr=""}={}){const nr={};if(er)nr.display="block",nr.width="100%",nr.height="100%",nr.top="0px",nr.right="0px",nr.left="0px",nr.bottom="0px";else switch(nr.display=this.state.widgetVisibility?"block":"none",nr.height="70px",nr.width="70px",this.state.buttonPosition){case BUTTON_POSITION.TOP_LEFT:nr.top="0px",nr.left="0px",nr.right="auto",nr.bottom="auto";break;case BUTTON_POSITION.TOP_RIGHT:nr.top="0px",nr.right="0px",nr.left="auto",nr.bottom="auto";break;case BUTTON_POSITION.BOTTOM_RIGHT:nr.bottom="0px",nr.right="0px",nr.top="auto",nr.left="auto";break;case BUTTON_POSITION.BOTTOM_LEFT:default:nr.bottom="0px",nr.left="0px",nr.top="auto",nr.right="auto";break}const ir=document.getElementById(this.iframeId);Object.assign(ir.style,nr),this.state.isIFrameFullScreen=er,this.request({method:COMMUNICATION_JRPC_METHODS.IFRAME_STATUS,params:{isIFrameFullScreen:er,rid:rr}})}async handleWindow(er,{url:rr,target:nr,features:ir,timeout:or}={}){const sr=new URL(rr||`${this.iframeUrl}/redirect?windowId=${er}&sessionNamespace=${window.location.hostname}`),ar=new PopupHandler({url:sr,target:nr,features:ir,timeout:or});if(ar.open(),!ar.window){this.displayIframe({isFull:!0}),this.request({method:COMMUNICATION_JRPC_METHODS.WINDOW_BLOCKED,params:{windowId:er,finalUrl:sr.href}});return}this.windowRefs.set(er,ar),ar.once("close",()=>{this.windowRefs.delete(er),this.request({method:COMMUNICATION_JRPC_METHODS.CLOSED_WINDOW,params:{windowId:er}})})}rpcRequest(er,rr){const nr=rr,ir=er;Array.isArray(ir)||ir.jsonrpc||(ir.jsonrpc="2.0"),this.rpcEngine.handle(ir,nr)}handleConnect(er,rr){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{currentLoginProvider:er,isLoggedIn:rr}),log.debug(messages.info.connected(er)))}handleDisconnect(er,rr){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!er){this.state.isConnected=!1;let nr;er?(nr=new EthereumProviderError$1(1013,rr||messages.errors.disconnected()),log.debug(nr)):(nr=new EthereumProviderError$1(1011,rr||messages.errors.permanentlyDisconnected()),log.error(nr),this.state.currentLoginProvider=null,this.state.isLoggedIn=!1,this.state.widgetVisibility=!1,this.state.isIFrameFullScreen=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",nr)}}handleCloseWindow(er){const{windowId:rr}=er;this.windowRefs.has(rr)&&(this.windowRefs.get(rr).close(),this.windowRefs.delete(rr))}}_defineProperty(CommunicationProvider,"defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,widgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1,hasEmittedConnection:!1});const htmlToElement=tr=>{const er=window.document.createElement("template"),rr=tr.trim();return er.innerHTML=rr,er.content.firstChild};class TorusInPageProvider extends BaseProvider{constructor(er,{maxEventListeners:rr=100,jsonRpcStreamName:nr="provider"}){super(er,{maxEventListeners:rr,jsonRpcStreamName:nr}),_defineProperty(this,"chainId",void 0),_defineProperty(this,"selectedAddress",void 0),_defineProperty(this,"tryWindowHandle",void 0),this.state=_objectSpread2({},TorusInPageProvider.defaultState),this.selectedAddress=null,this.chainId=null,this.handleAccountsChanged=this.handleAccountsChanged.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleUnlockStateChanged=this.handleUnlockStateChanged.bind(this),this.on("connect",()=>{this.state.isConnected=!0});const ir=or=>{const{method:sr,params:ar}=or;sr===PROVIDER_NOTIFICATIONS.ACCOUNTS_CHANGED?this.handleAccountsChanged(ar):sr===PROVIDER_NOTIFICATIONS.UNLOCK_STATE_CHANGED?this.handleUnlockStateChanged(ar):sr===PROVIDER_NOTIFICATIONS.CHAIN_CHANGED?this.handleChainChanged(ar):EMITTED_NOTIFICATIONS.includes(sr)&&(this.emit("data",or),this.emit("notification",ar.result),this.emit("message",{type:sr,data:ar}))};this.jsonRpcConnectionEvents.on("notification",ir)}isConnected(){return this.state.isConnected}async initializeState(){try{const{accounts:er,chainId:rr,isUnlocked:nr}=await this.request({method:PROVIDER_JRPC_METHODS.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:rr}),this.handleChainChanged({chainId:rr}),this.handleUnlockStateChanged({accounts:er,isUnlocked:nr}),this.handleAccountsChanged(er)}catch(er){log.error("WsEmbed: Failed to get initial state. Please report this bug.",er)}finally{log.info("initialized provider state"),this.state.initialized=!0,this.emit("_initialized")}}rpcRequest(er,rr,nr=!1){let ir=rr;const or=er;if(!Array.isArray(or)){if(or.jsonrpc||(or.jsonrpc="2.0"),or.method==="eth_accounts"||or.method==="eth_requestAccounts")ir=(sr,ar)=>{this.handleAccountsChanged(ar.result||[],or.method==="eth_accounts",nr),rr(sr,ar)};else if(or.method==="wallet_getProviderState"){this.rpcEngine.handle(er,ir);return}}this.tryWindowHandle(or,ir)}handleConnect(er){this.state.isConnected||(this.state.isConnected=!0,this.emit("connect",{chainId:er}),log.debug(messages.info.connected(er)))}handleDisconnect(er,rr){if(this.state.isConnected||!this.state.isPermanentlyDisconnected&&!er){this.state.isConnected=!1;let nr;er?(nr=new EthereumProviderError$1(1013,rr||messages.errors.disconnected()),log.debug(nr)):(nr=new EthereumProviderError$1(1011,rr||messages.errors.permanentlyDisconnected()),log.error(nr),this.chainId=null,this.state.accounts=null,this.selectedAddress=null,this.state.isUnlocked=!1,this.state.isPermanentlyDisconnected=!0),this.emit("disconnect",nr)}}handleAccountsChanged(er,rr=!1,nr=!1){let ir=er;Array.isArray(ir)||(log.error("WsEmbed: Received non-array accounts parameter. Please report this bug.",ir),ir=[]);for(const or of er)if(typeof or!="string"){log.error("WsEmbed: Received non-string account. Please report this bug.",er),ir=[];break}dequal(this.state.accounts,ir)||(rr&&Array.isArray(this.state.accounts)&&this.state.accounts.length>0&&!nr&&log.error('WsEmbed: "eth_accounts" unexpectedly updated accounts. Please report this bug.',ir),this.state.accounts=ir,this.emit("accountsChanged",ir)),this.selectedAddress!==ir[0]&&(this.selectedAddress=ir[0]||null)}handleChainChanged({chainId:er}={}){if(!er){log.error("WsEmbed: Received invalid network parameters. Please report this bug.",{chainId:er});return}er==="loading"?this.handleDisconnect(!0):(this.handleConnect(er),er!==this.chainId&&(this.chainId=er,this.state.initialized&&this.emit("chainChanged",this.chainId)))}handleUnlockStateChanged({accounts:er,isUnlocked:rr}={}){if(typeof rr!="boolean"){log.error("WsEmbed: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:rr});return}rr!==this.state.isUnlocked&&(this.state.isUnlocked=rr,this.handleAccountsChanged(er||[]))}}_defineProperty(TorusInPageProvider,"defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});function imgExists(tr){return new Promise((er,rr)=>{try{const nr=document.createElement("img");nr.onload=()=>er(!0),nr.onerror=()=>er(!1),nr.src=tr}catch(nr){rr(nr)}})}const getSiteName=tr=>{const{document:er}=tr,rr=er.querySelector('head > meta[property="og:site_name"]');if(rr)return rr.content;const nr=er.querySelector('head > meta[name="title"]');return nr?nr.content:er.title&&er.title.length>0?er.title:tr.location.hostname};async function getSiteIcon(tr){try{const{document:er}=tr;let rr=er.querySelector('head > link[rel="shortcut icon"]');return rr&&await imgExists(rr.href)||(rr=Array.from(er.querySelectorAll('head > link[rel="icon"]')).find(nr=>!!nr.href),rr&&await imgExists(rr.href))?rr.href:""}catch{return""}}const getSiteMetadata=async()=>({name:getSiteName(window),icon:await getSiteIcon(window)}),version$1="2.0.23",addedVersion=`v${version$1.split(".")[0]}`,WALLET_URLS_DEFAULT={[WS_EMBED_BUILD_ENV.TESTING]:{url:"https://develop-wallet.web3auth.io",logLevel:"debug"},[WS_EMBED_BUILD_ENV.DEVELOPMENT]:{url:"http://localhost:4050",logLevel:"debug"},[WS_EMBED_BUILD_ENV.STAGING]:{url:`https://staging-wallet.web3auth.io/${addedVersion}`,logLevel:"debug"},[WS_EMBED_BUILD_ENV.PRODUCTION]:{url:`https://wallet.web3auth.io/${addedVersion}`,logLevel:"error"}};(async function tr(){try{if(typeof document>"u")return;const er=document.createElement("link"),{url:rr}=WALLET_URLS_DEFAULT.production;er.href=`${rr}/frame`,er.crossOrigin="anonymous",er.type="text/html",er.rel="prefetch",er.relList&&er.relList.supports&&er.relList.supports("prefetch")&&document.head.appendChild(er)}catch(er){log.warn(er)}})();const PROVIDER_UNSAFE_METHODS=new Set([METHOD_TYPES.ETH_DECRYPT,METHOD_TYPES.ETH_GET_ENCRYPTION_PUBLIC_KEY,METHOD_TYPES.ETH_SIGN,METHOD_TYPES.ETH_SIGN_TYPED_DATA,METHOD_TYPES.ETH_SIGN_TYPED_DATA_V3,METHOD_TYPES.ETH_SIGN_TYPED_DATA_V4,METHOD_TYPES.PERSONAL_SIGN,METHOD_TYPES.ETH_TRANSACTION,METHOD_TYPES.ADD_CHAIN,METHOD_TYPES.SWITCH_CHAIN]);class WsEmbed{constructor({modalZIndex:er=99999,web3AuthClientId:rr,web3AuthNetwork:nr}){_defineProperty(this,"isInitialized",void 0),_defineProperty(this,"modalZIndex",void 0),_defineProperty(this,"provider",void 0),_defineProperty(this,"widgetVisibility",void 0),_defineProperty(this,"communicationProvider",void 0),_defineProperty(this,"buttonPosition",void 0),_defineProperty(this,"web3AuthClientId",void 0),_defineProperty(this,"web3AuthNetwork",void 0),_defineProperty(this,"isPluginMode",void 0),_defineProperty(this,"confirmationStrategy",void 0),_defineProperty(this,"buildEnv",void 0),_defineProperty(this,"embedNonce",randomId()),this.isInitialized=!1,this.modalZIndex=er,this.web3AuthClientId=rr,this.web3AuthNetwork=nr}get isLoggedIn(){var er;return((er=this.communicationProvider)===null||er===void 0?void 0:er.isLoggedIn)||!1}get getBuildEnv(){return this.buildEnv}async init({buildEnv:er=WS_EMBED_BUILD_ENV.PRODUCTION,enableLogging:rr=!1,chainConfig:nr,walletUrls:ir,whiteLabel:or,confirmationStrategy:sr=CONFIRMATION_STRATEGY.DEFAULT}={}){if(this.isInitialized)throw new Error("Already initialized");this.buildEnv=er,this.confirmationStrategy=sr;const{url:ar,logLevel:cr}=ir&&ir[er]?_objectSpread2(_objectSpread2({},WALLET_URLS_DEFAULT[er]),ir[er]):WALLET_URLS_DEFAULT[er];log.info(ar,"url loaded"),log.setDefaultLevel(cr),rr?log.enableAll():log.disableAll();const lr=new URL(ar);lr.pathname.endsWith("/")?lr.pathname+="frame":lr.pathname+="/frame";const ur=new URLSearchParams;ur.append("origin",window.location.origin),lr.hash=ur.toString();const fr=this.getTheme(or?.mode||THEME_MODES.light),dr=htmlToElement(`<iframe
        id="walletIframe-${this.embedNonce}"
        class="walletIframe-${this.embedNonce}"
        sandbox="allow-popups allow-scripts allow-same-origin allow-forms allow-modals allow-downloads"
        src="${lr.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()};
        color-scheme: ${fr}"
        allow="clipboard-write"
      ></iframe>`);this.buttonPosition=or?.buttonPosition||BUTTON_POSITION.BOTTOM_LEFT;const gr=await getSiteMetadata();return new Promise((br,vr)=>{try{window.document.body.appendChild(dr);const $r=async Er=>{Er.origin===lr.origin&&Er.data===SETUP_COMPLETE&&(window.removeEventListener("message",$r),dr.contentWindow.postMessage({chainConfig:nr,dappMetadata:gr,enableLogging:rr,web3AuthClientId:this.web3AuthClientId,web3AuthNetwork:this.web3AuthNetwork,whiteLabel:or,confirmationStrategy:sr},lr.origin),await this.setupWeb3({torusUrl:ar,walletIframe:dr}),this.widgetVisibility=or?.showWidgetButton||!1,this.isInitialized=!0,br())};window.addEventListener("message",$r)}catch($r){vr($r)}})}async login(er={}){if(!this.isInitialized)throw new Error("Call init() first");try{er.loginProvider||this.communicationProvider.displayIframe({isFull:!0});const rr=await new Promise((nr,ir)=>{this.provider.rpcRequest({method:"eth_requestAccounts",params:[er.loginProvider,er.login_hint]},getRpcPromiseCallback(nr,ir))});if(log.info("check: res",rr),Array.isArray(rr)&&rr.length>0)return this.widgetVisibility&&this.showTorusButton(),this.confirmationStrategy===CONFIRMATION_STRATEGY.AUTO_APPROVE&&log.warn("Confirmation strategy auto approve is not allowed on Embed Mode, using Default instead."),rr;throw new Error("Login failed")}catch(rr){throw log.error("login failed",rr),rr}finally{this.communicationProvider.displayIframe({isFull:!1})}}async loginWithSessionId(er){if(!this.isInitialized)throw new Error("Call init() first");if(!er.sessionId)throw new Error("sessionId is required");try{const rr=await this.communicationProvider.request({method:COMMUNICATION_JRPC_METHODS.LOGIN_WITH_SESSION_ID,params:[er.sessionId,er.sessionNamespace||""]});if(log.info("check: res",rr),rr.success)return this.isPluginMode=!0,this.widgetVisibility&&this.showTorusButton(),this.confirmationStrategy===CONFIRMATION_STRATEGY.POPUP&&log.warn("Confirmation strategy popup is not allowed on Plugin Mode, using Default instead."),rr.success;throw new Error("Login failed")}catch(rr){throw log.error("login with session id failed",rr),rr}}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:COMMUNICATION_JRPC_METHODS.LOGOUT,params:[]}),this.hideTorusButton()}async cleanUp(){var er;(er=this.communicationProvider)!==null&&er!==void 0&&er.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function er(nr){return nr instanceof Element||nr instanceof Document}const rr=window.document.getElementById(`walletIframe-${this.embedNonce}`);er(rr)&&rr.remove(),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async getUserInfo(){return await this.communicationProvider.request({method:COMMUNICATION_JRPC_METHODS.USER_INFO,params:[]})}async showWalletConnectScanner(){this.communicationProvider.displayIframe({isFull:!0}),await this.communicationProvider.request({method:COMMUNICATION_JRPC_METHODS.SHOW_WALLET_CONNECT,params:[]})}async showWalletUi(){this.communicationProvider.displayIframe({isFull:!0}),await this.communicationProvider.request({method:COMMUNICATION_JRPC_METHODS.SHOW_WALLET_UI,params:[]})}async showCheckout(){this.communicationProvider.displayIframe({isFull:!0});try{await this.communicationProvider.request({method:COMMUNICATION_JRPC_METHODS.SHOW_CHECKOUT,params:[]})}catch{this.communicationProvider.displayIframe({isFull:!1})}}getConfirmationStrategyFinal(er){let rr=this.confirmationStrategy;return!Array.isArray(er)&&PROVIDER_UNSAFE_METHODS.has(er.method)&&this.confirmationStrategy!==CONFIRMATION_STRATEGY.MODAL&&!this.isPluginMode&&(rr=CONFIRMATION_STRATEGY.POPUP),rr}getTheme(er){return er===THEME_MODES.light?"light":er===THEME_MODES.dark||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}async setupWeb3(er){log.info("setupWeb3 running");const rr=new BasePostMessageStream({name:"embed_torus",target:"iframe_torus",targetWindow:er.walletIframe.contentWindow,targetOrigin:new URL(er.torusUrl).origin}),nr=new BasePostMessageStream({name:"embed_communication",target:"iframe_communication",targetWindow:er.walletIframe.contentWindow,targetOrigin:new URL(er.torusUrl).origin}),ir=new TorusInPageProvider(rr,{}),or=new CommunicationProvider(nr,{},{buttonPosition:this.buttonPosition});ir.tryWindowHandle=(lr,ur)=>{const fr=lr;if(this.getConfirmationStrategyFinal(lr)===CONFIRMATION_STRATEGY.POPUP){const gr=randomId();or.handleWindow(gr,{target:"_blank",features:getPopupFeatures$1(FEATURES_CONFIRM_WINDOW),timeout:500}),fr.windowId=gr}ir.rpcEngine.handle(fr,ur)},or.tryWindowHandle=(lr,ur)=>{const fr=lr;if(this.getConfirmationStrategyFinal(lr)===CONFIRMATION_STRATEGY.POPUP){const gr=randomId();or.handleWindow(gr,{target:"_blank",features:getPopupFeatures$1(FEATURES_PROVIDER_CHANGE_WINDOW),timeout:500}),fr.params.windowId=gr}or.rpcEngine.handle(fr,ur)};const sr=lr=>{const ur=ir[lr],fr=this;ir[lr]=function(gr,br){const{method:vr,params:$r=[]}=gr;if(vr==="eth_requestAccounts"){if(!br)return fr.login({loginProvider:$r[0]});fr.login({loginProvider:$r[0]}).then(Er=>br(null,Er)).catch(Er=>br(Er))}return ur.apply(this,[gr,br])}};sr("request"),sr("sendAsync"),sr("send");const ar=new Proxy(ir,{deleteProperty:()=>!0}),cr=new Proxy(or,{deleteProperty:()=>!0});this.provider=ar,this.communicationProvider=cr,log.info("test setupWeb3 "),await Promise.all([ir.initializeState(),or.initializeState(_objectSpread2(_objectSpread2({},er),{},{torusIframeId:er.walletIframe.id}))]),log.debug("WsEmbed - injected provider")}}class WalletServicesPlugin extends SafeEventEmitter{constructor(er={}){super(),_defineProperty(this,"name",EVM_PLUGINS.WALLET_SERVICES),_defineProperty(this,"status",PLUGIN_STATUS.DISCONNECTED),_defineProperty(this,"SUPPORTED_ADAPTERS",[WALLET_ADAPTERS.OPENLOGIN,WALLET_ADAPTERS.SFA]),_defineProperty(this,"pluginNamespace",PLUGIN_NAMESPACES.EIP155),_defineProperty(this,"wsEmbedInstance",void 0),_defineProperty(this,"provider",null),_defineProperty(this,"web3auth",null),_defineProperty(this,"isInitialized",!1),_defineProperty(this,"walletInitOptions",null);const{wsEmbedOpts:rr,walletInitOptions:nr}=er;this.wsEmbedInstance=new WsEmbed(rr||{}),this.walletInitOptions=nr||{}}get proxyProvider(){return this.wsEmbedInstance.provider?this.wsEmbedInstance.provider:null}async initWithWeb3Auth(er,rr){var nr;if(this.isInitialized)return;if(!er)throw WalletServicesPluginError.web3authRequired();if(er.provider&&!this.SUPPORTED_ADAPTERS.includes(er.connectedAdapterName))throw WalletServicesPluginError.notInitialized();if(er.coreOptions.chainConfig.chainNamespace!==this.pluginNamespace)throw WalletServicesPluginError.unsupportedChainNamespace();er.provider&&(this.provider=er.provider),this.web3auth=er;const ir=_objectSpread2(_objectSpread2({},rr),this.walletInitOptions.whiteLabel||{}),{logoDark:or,logoLight:sr}=ir||{};if(!or||!sr)throw WalletServicesPluginError.invalidParams("logoDark and logoLight are required in whiteLabel config");this.wsEmbedInstance.web3AuthClientId=this.web3auth.coreOptions.clientId,this.wsEmbedInstance.web3AuthNetwork=this.web3auth.coreOptions.web3AuthNetwork,this.subscribeToWeb3AuthEvents(er);const ar=er.coreOptions.chainConfig;if(!ar.blockExplorerUrl)throw WalletServicesPluginError.invalidParams("blockExplorerUrl is required in chainConfig");if(!ar.displayName)throw WalletServicesPluginError.invalidParams("displayName is required in chainConfig");if(!ar.logo)throw WalletServicesPluginError.invalidParams("logo is required in chainConfig");if(!ar.ticker)throw WalletServicesPluginError.invalidParams("ticker is required in chainConfig");if(!ar.tickerName)throw WalletServicesPluginError.invalidParams("tickerName is required in chainConfig");const cr=_objectSpread2(_objectSpread2({},this.walletInitOptions),{},{chainConfig:ar,enableLogging:(nr=this.web3auth.coreOptions)===null||nr===void 0?void 0:nr.enableLogging,whiteLabel:ir});await this.wsEmbedInstance.init(cr),this.isInitialized=!0,this.status=PLUGIN_STATUS.READY,this.emit(PLUGIN_EVENTS.READY)}initWithProvider(){throw new Error("Method not implemented.")}async connect({sessionId:er,sessionNamespace:rr}){if(!this.isInitialized)throw WalletServicesPluginError.notInitialized();if(this.emit(PLUGIN_EVENTS.CONNECTING),this.status=PLUGIN_STATUS.CONNECTING,!this.provider){var nr;(nr=this.web3auth)!==null&&nr!==void 0&&nr.provider&&(this.provider=this.web3auth.provider)}if(this.web3auth.status!==ADAPTER_STATUS.CONNECTED)throw WalletServicesPluginError.web3AuthNotConnected();if(!this.web3auth.provider)throw WalletServicesPluginError.providerRequired();if(!er)throw WalletServicesPluginError.web3AuthNotConnected();try{var ir;await this.wsEmbedInstance.loginWithSessionId({sessionId:er,sessionNamespace:rr}),(ir=this.walletInitOptions)!==null&&ir!==void 0&&(ir=ir.whiteLabel)!==null&&ir!==void 0&&ir.showWidgetButton&&this.wsEmbedInstance.showTorusButton(),this.subscribeToProviderEvents(this.provider),this.subscribeToWalletEvents(),this.emit(PLUGIN_EVENTS.CONNECTED),this.status=PLUGIN_STATUS.CONNECTED}catch(or){log$3.error(or),this.status=PLUGIN_STATUS.ERRORED,this.emit(PLUGIN_EVENTS.ERRORED,{error:or.message||"Something went wrong"})}}async showWalletConnectScanner(){if(!this.wsEmbedInstance.isLoggedIn)throw WalletServicesPluginError.walletPluginNotConnected();await this.wsEmbedInstance.showWalletConnectScanner()}async showCheckout(){if(!this.wsEmbedInstance.isLoggedIn)throw WalletServicesPluginError.walletPluginNotConnected();await this.wsEmbedInstance.showCheckout()}async showWalletUi(){if(!this.wsEmbedInstance.isLoggedIn)throw WalletServicesPluginError.walletPluginNotConnected();await this.wsEmbedInstance.showWalletUi()}async disconnect(){if(this.wsEmbedInstance.isLoggedIn)await this.wsEmbedInstance.logout(),this.emit(PLUGIN_EVENTS.DISCONNECTED),this.status=PLUGIN_STATUS.DISCONNECTED;else throw WalletServicesPluginError.invalidSession("Wallet Services plugin is not connected")}subscribeToWalletEvents(){var er;(er=this.wsEmbedInstance)===null||er===void 0||er.provider.on("accountsChanged",(rr=[])=>{if(rr.length===0){var nr,ir;this.wsEmbedInstance.hideTorusButton(),((nr=this.web3auth)===null||nr===void 0?void 0:nr.status)===ADAPTER_STATUS.CONNECTED&&((ir=this.web3auth)===null||ir===void 0||ir.logout())}})}subscribeToProviderEvents(er){er.on("accountsChanged",(rr={accounts:[]})=>{this.setSelectedAddress(rr.accounts[0])}),er.on("chainChanged",rr=>{this.setChainID(parseInt(rr,16))}),er.on("disconnect",()=>{this.wsEmbedInstance.hideTorusButton()}),er.on("connect",()=>{var rr;(rr=this.walletInitOptions)!==null&&rr!==void 0&&(rr=rr.whiteLabel)!==null&&rr!==void 0&&rr.showWidgetButton&&this.wsEmbedInstance.showTorusButton()})}subscribeToWeb3AuthEvents(er){er.on(ADAPTER_EVENTS.CONNECTED,rr=>{if(this.provider=rr.provider||er.provider,!this.provider)throw WalletServicesPluginError.web3AuthNotConnected();this.subscribeToProviderEvents(this.provider)}),er.on(ADAPTER_EVENTS.DISCONNECTED,async()=>{this.provider=null,this.wsEmbedInstance.isLoggedIn&&await this.wsEmbedInstance.logout(),this.wsEmbedInstance.hideTorusButton()})}async sessionConfig(){if(!this.provider)throw WalletServicesPluginError.web3AuthNotConnected();const[er,rr,nr]=await Promise.all([this.provider.request({method:"eth_accounts"}),this.provider.request({method:"eth_chainId"}),this.provider.request({method:"eth_provider_config"})]);return{chainId:parseInt(rr,16),accounts:er,chainConfig:nr}}async walletServicesSessionConfig(){if(!this.wsEmbedInstance.provider)throw WalletServicesPluginError.web3AuthNotConnected();const[er,rr]=await Promise.all([this.wsEmbedInstance.provider.request({method:"eth_accounts"}),this.wsEmbedInstance.provider.request({method:"eth_chainId"})]);return{chainId:parseInt(rr,16),accounts:er}}async setSelectedAddress(er){var rr;if(this.web3auth.status!==ADAPTER_STATUS.CONNECTED)throw WalletServicesPluginError.web3AuthNotConnected();const nr=await this.walletServicesSessionConfig();if(er!==((rr=nr.accounts)===null||rr===void 0?void 0:rr[0]))throw WalletServicesPluginError.invalidSession()}async setChainID(er){const[rr,nr]=await Promise.all([this.sessionConfig(),this.walletServicesSessionConfig()]),{chainConfig:ir}=rr||{};if(!ir.blockExplorerUrl)throw WalletServicesPluginError.invalidParams("blockExplorerUrl is required in chainConfig");if(!ir.displayName)throw WalletServicesPluginError.invalidParams("displayName is required in chainConfig");if(!ir.logo)throw WalletServicesPluginError.invalidParams("logo is required in chainConfig");if(!ir.ticker)throw WalletServicesPluginError.invalidParams("ticker is required in chainConfig");if(!ir.tickerName)throw WalletServicesPluginError.invalidParams("tickerName is required in chainConfig");if(er!==nr.chainId&&ir)try{var or,sr;await((or=this.wsEmbedInstance.provider)===null||or===void 0?void 0:or.request({method:"wallet_addEthereumChain",params:[{chainId:ir.chainId,chainName:ir.displayName,rpcUrls:[ir.rpcTarget],blockExplorerUrls:[ir.blockExplorerUrl],nativeCurrency:{name:ir.tickerName,symbol:ir.ticker,decimals:ir.decimals||18},iconUrls:[ir.logo]}]}).catch(()=>{log$3.error("WalletServicesPlugin: Error adding chain")})),await((sr=this.wsEmbedInstance.provider)===null||sr===void 0?void 0:sr.request({method:"wallet_switchEthereumChain",params:[{chainId:ir.chainId}]}))}catch{log$3.error("WalletServicesPlugin: Error switching chain")}}}var dist={},CoinbaseWalletSDK$2={},walletLogo$1={};Object.defineProperty(walletLogo$1,"__esModule",{value:!0});walletLogo$1.walletLogo=void 0;const walletLogo=(tr,er)=>{let rr;switch(tr){case"standard":return rr=er,`data:image/svg+xml,%3Csvg width='${er}' height='${rr}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return rr=er,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${er}' height='${rr}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return rr=(.1*er).toFixed(2),`data:image/svg+xml,%3Csvg width='${er}' height='${rr}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return rr=(.25*er).toFixed(2),`data:image/svg+xml,%3Csvg width='${er}' height='${rr}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return rr=(.1*er).toFixed(2),`data:image/svg+xml,%3Csvg width='${er}' height='${rr}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return rr=(.25*er).toFixed(2),`data:image/svg+xml,%3Csvg width='${er}' height='${rr}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return rr=er,`data:image/svg+xml,%3Csvg width='${er}' height='${rr}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};walletLogo$1.walletLogo=walletLogo;var CoinbaseWalletProvider$1={},eventemitter3={exports:{}};(function(tr){var er=Object.prototype.hasOwnProperty,rr="~";function nr(){}Object.create&&(nr.prototype=Object.create(null),new nr().__proto__||(rr=!1));function ir(cr,lr,ur){this.fn=cr,this.context=lr,this.once=ur||!1}function or(cr,lr,ur,fr,dr){if(typeof ur!="function")throw new TypeError("The listener must be a function");var gr=new ir(ur,fr||cr,dr),br=rr?rr+lr:lr;return cr._events[br]?cr._events[br].fn?cr._events[br]=[cr._events[br],gr]:cr._events[br].push(gr):(cr._events[br]=gr,cr._eventsCount++),cr}function sr(cr,lr){--cr._eventsCount===0?cr._events=new nr:delete cr._events[lr]}function ar(){this._events=new nr,this._eventsCount=0}ar.prototype.eventNames=function(){var lr=[],ur,fr;if(this._eventsCount===0)return lr;for(fr in ur=this._events)er.call(ur,fr)&&lr.push(rr?fr.slice(1):fr);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(ur)):lr},ar.prototype.listeners=function(lr){var ur=rr?rr+lr:lr,fr=this._events[ur];if(!fr)return[];if(fr.fn)return[fr.fn];for(var dr=0,gr=fr.length,br=new Array(gr);dr<gr;dr++)br[dr]=fr[dr].fn;return br},ar.prototype.listenerCount=function(lr){var ur=rr?rr+lr:lr,fr=this._events[ur];return fr?fr.fn?1:fr.length:0},ar.prototype.emit=function(lr,ur,fr,dr,gr,br){var vr=rr?rr+lr:lr;if(!this._events[vr])return!1;var $r=this._events[vr],Er=arguments.length,_r,xr;if($r.fn){switch($r.once&&this.removeListener(lr,$r.fn,void 0,!0),Er){case 1:return $r.fn.call($r.context),!0;case 2:return $r.fn.call($r.context,ur),!0;case 3:return $r.fn.call($r.context,ur,fr),!0;case 4:return $r.fn.call($r.context,ur,fr,dr),!0;case 5:return $r.fn.call($r.context,ur,fr,dr,gr),!0;case 6:return $r.fn.call($r.context,ur,fr,dr,gr,br),!0}for(xr=1,_r=new Array(Er-1);xr<Er;xr++)_r[xr-1]=arguments[xr];$r.fn.apply($r.context,_r)}else{var Ir=$r.length,Nr;for(xr=0;xr<Ir;xr++)switch($r[xr].once&&this.removeListener(lr,$r[xr].fn,void 0,!0),Er){case 1:$r[xr].fn.call($r[xr].context);break;case 2:$r[xr].fn.call($r[xr].context,ur);break;case 3:$r[xr].fn.call($r[xr].context,ur,fr);break;case 4:$r[xr].fn.call($r[xr].context,ur,fr,dr);break;default:if(!_r)for(Nr=1,_r=new Array(Er-1);Nr<Er;Nr++)_r[Nr-1]=arguments[Nr];$r[xr].fn.apply($r[xr].context,_r)}}return!0},ar.prototype.on=function(lr,ur,fr){return or(this,lr,ur,fr,!1)},ar.prototype.once=function(lr,ur,fr){return or(this,lr,ur,fr,!0)},ar.prototype.removeListener=function(lr,ur,fr,dr){var gr=rr?rr+lr:lr;if(!this._events[gr])return this;if(!ur)return sr(this,gr),this;var br=this._events[gr];if(br.fn)br.fn===ur&&(!dr||br.once)&&(!fr||br.context===fr)&&sr(this,gr);else{for(var vr=0,$r=[],Er=br.length;vr<Er;vr++)(br[vr].fn!==ur||dr&&!br[vr].once||fr&&br[vr].context!==fr)&&$r.push(br[vr]);$r.length?this._events[gr]=$r.length===1?$r[0]:$r:sr(this,gr)}return this},ar.prototype.removeAllListeners=function(lr){var ur;return lr?(ur=rr?rr+lr:lr,this._events[ur]&&sr(this,ur)):(this._events=new nr,this._eventsCount=0),this},ar.prototype.off=ar.prototype.removeListener,ar.prototype.addListener=ar.prototype.on,ar.prefixed=rr,ar.EventEmitter=ar,tr.exports=ar})(eventemitter3);var eventemitter3Exports=eventemitter3.exports,error={},constants$2={};Object.defineProperty(constants$2,"__esModule",{value:!0});constants$2.errorValues=constants$2.standardErrorCodes=void 0;constants$2.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};constants$2.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var errors={},utils={};(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.serialize=tr.getErrorCode=tr.isValidCode=tr.getMessageFromCode=tr.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const er=constants$2,rr="Unspecified error message.";tr.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function nr(dr,gr=rr){if(dr&&Number.isInteger(dr)){const br=dr.toString();if(ur(er.errorValues,br))return er.errorValues[br].message;if(cr(dr))return tr.JSON_RPC_SERVER_ERROR_MESSAGE}return gr}tr.getMessageFromCode=nr;function ir(dr){if(!Number.isInteger(dr))return!1;const gr=dr.toString();return!!(er.errorValues[gr]||cr(dr))}tr.isValidCode=ir;function or(dr){var gr;if(typeof dr=="number")return dr;if(sr(dr))return(gr=dr.code)!==null&&gr!==void 0?gr:dr.errorCode}tr.getErrorCode=or;function sr(dr){return typeof dr=="object"&&dr!==null&&(typeof dr.code=="number"||typeof dr.errorCode=="number")}function ar(dr,{shouldIncludeStack:gr=!1}={}){const br={};if(dr&&typeof dr=="object"&&!Array.isArray(dr)&&ur(dr,"code")&&ir(dr.code)){const vr=dr;br.code=vr.code,vr.message&&typeof vr.message=="string"?(br.message=vr.message,ur(vr,"data")&&(br.data=vr.data)):(br.message=nr(br.code),br.data={originalError:lr(dr)})}else br.code=er.standardErrorCodes.rpc.internal,br.message=fr(dr,"message")?dr.message:rr,br.data={originalError:lr(dr)};return gr&&(br.stack=fr(dr,"stack")?dr.stack:void 0),br}tr.serialize=ar;function cr(dr){return dr>=-32099&&dr<=-32e3}function lr(dr){return dr&&typeof dr=="object"&&!Array.isArray(dr)?Object.assign({},dr):dr}function ur(dr,gr){return Object.prototype.hasOwnProperty.call(dr,gr)}function fr(dr,gr){return typeof dr=="object"&&dr!==null&&gr in dr&&typeof dr[gr]=="string"}})(utils);Object.defineProperty(errors,"__esModule",{value:!0});errors.standardErrors=void 0;const constants_1$6=constants$2,utils_1$1=utils;errors.standardErrors={rpc:{parse:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.parse,tr),invalidRequest:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.invalidRequest,tr),invalidParams:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.invalidParams,tr),methodNotFound:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.methodNotFound,tr),internal:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.internal,tr),server:tr=>{if(!tr||typeof tr!="object"||Array.isArray(tr))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:er}=tr;if(!Number.isInteger(er)||er>-32005||er<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(er,tr)},invalidInput:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.invalidInput,tr),resourceNotFound:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.resourceNotFound,tr),resourceUnavailable:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.resourceUnavailable,tr),transactionRejected:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.transactionRejected,tr),methodNotSupported:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.methodNotSupported,tr),limitExceeded:tr=>getEthJsonRpcError(constants_1$6.standardErrorCodes.rpc.limitExceeded,tr)},provider:{userRejectedRequest:tr=>getEthProviderError(constants_1$6.standardErrorCodes.provider.userRejectedRequest,tr),unauthorized:tr=>getEthProviderError(constants_1$6.standardErrorCodes.provider.unauthorized,tr),unsupportedMethod:tr=>getEthProviderError(constants_1$6.standardErrorCodes.provider.unsupportedMethod,tr),disconnected:tr=>getEthProviderError(constants_1$6.standardErrorCodes.provider.disconnected,tr),chainDisconnected:tr=>getEthProviderError(constants_1$6.standardErrorCodes.provider.chainDisconnected,tr),unsupportedChain:tr=>getEthProviderError(constants_1$6.standardErrorCodes.provider.unsupportedChain,tr),custom:tr=>{if(!tr||typeof tr!="object"||Array.isArray(tr))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:er,message:rr,data:nr}=tr;if(!rr||typeof rr!="string")throw new Error('"message" must be a nonempty string');return new EthereumProviderError(er,rr,nr)}}};function getEthJsonRpcError(tr,er){const[rr,nr]=parseOpts(er);return new EthereumRpcError(tr,rr||(0,utils_1$1.getMessageFromCode)(tr),nr)}function getEthProviderError(tr,er){const[rr,nr]=parseOpts(er);return new EthereumProviderError(tr,rr||(0,utils_1$1.getMessageFromCode)(tr),nr)}function parseOpts(tr){if(tr){if(typeof tr=="string")return[tr];if(typeof tr=="object"&&!Array.isArray(tr)){const{message:er,data:rr}=tr;if(er&&typeof er!="string")throw new Error("Must specify string message.");return[er||void 0,rr]}}return[]}class EthereumRpcError extends Error{constructor(er,rr,nr){if(!Number.isInteger(er))throw new Error('"code" must be an integer.');if(!rr||typeof rr!="string")throw new Error('"message" must be a nonempty string.');super(rr),this.code=er,nr!==void 0&&(this.data=nr)}}class EthereumProviderError extends EthereumRpcError{constructor(er,rr,nr){if(!isValidEthProviderCode(er))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(er,rr,nr)}}function isValidEthProviderCode(tr){return Number.isInteger(tr)&&tr>=1e3&&tr<=4999}(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.standardErrors=tr.standardErrorCodes=void 0;var er=constants$2;Object.defineProperty(tr,"standardErrorCodes",{enumerable:!0,get:function(){return er.standardErrorCodes}});var rr=errors;Object.defineProperty(tr,"standardErrors",{enumerable:!0,get:function(){return rr.standardErrors}})})(error);var serialize={},Web3Response={};Object.defineProperty(Web3Response,"__esModule",{value:!0});Web3Response.isErrorResponse=void 0;function isErrorResponse(tr){return tr.errorMessage!==void 0}Web3Response.isErrorResponse=isErrorResponse;var version={};Object.defineProperty(version,"__esModule",{value:!0});version.LIB_VERSION=void 0;version.LIB_VERSION="4.0.4";Object.defineProperty(serialize,"__esModule",{value:!0});serialize.serializeError=void 0;const Web3Response_1$2=Web3Response,version_1$3=version,constants_1$5=constants$2,utils_1=utils;function serializeError(tr,er){const rr=(0,utils_1.serialize)(getErrorObject(tr),{shouldIncludeStack:!0}),nr=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");nr.searchParams.set("version",version_1$3.LIB_VERSION),nr.searchParams.set("code",rr.code.toString());const ir=getMethod(rr.data,er);return ir&&nr.searchParams.set("method",ir),nr.searchParams.set("message",rr.message),Object.assign(Object.assign({},rr),{docUrl:nr.href})}serialize.serializeError=serializeError;function getErrorObject(tr){return typeof tr=="string"?{message:tr,code:constants_1$5.standardErrorCodes.rpc.internal}:(0,Web3Response_1$2.isErrorResponse)(tr)?Object.assign(Object.assign({},tr),{message:tr.errorMessage,code:tr.errorCode,data:{method:tr.method}}):tr}function getMethod(tr,er){const rr=tr?.method;if(rr)return rr;if(er!==void 0){if(typeof er=="string")return er;if(Array.isArray(er)){if(er.length>0)return er[0].method}else return er.method}}var type={};Object.defineProperty(type,"__esModule",{value:!0});type.RegExpString=type.IntNumber=type.BigIntString=type.AddressString=type.HexString=type.OpaqueType=void 0;function OpaqueType(){return tr=>tr}type.OpaqueType=OpaqueType;type.HexString=OpaqueType();type.AddressString=OpaqueType();type.BigIntString=OpaqueType();function IntNumber(tr){return Math.floor(tr)}type.IntNumber=IntNumber;type.RegExpString=OpaqueType();var util$6={};Object.defineProperty(util$6,"__esModule",{value:!0});util$6.areAddressArraysEqual=util$6.getFavicon=util$6.range=util$6.isBigNumber=util$6.ensureParsedJSONObject=util$6.ensureBigInt=util$6.ensureRegExpString=util$6.ensureIntNumber=util$6.ensureBuffer=util$6.ensureAddressString=util$6.ensureEvenLengthHexString=util$6.ensureHexString=util$6.isHexString=util$6.prepend0x=util$6.strip0x=util$6.has0xPrefix=util$6.hexStringFromIntNumber=util$6.intNumberFromHexString=util$6.bigIntStringFromBigInt=util$6.hexStringFromBuffer=util$6.hexStringToUint8Array=util$6.uint8ArrayToHex=util$6.randomBytesHex=void 0;const error_1$8=error,_1=type,INT_STRING_REGEX=/^[0-9]*$/,HEXADECIMAL_STRING_REGEX=/^[a-f0-9]*$/;function randomBytesHex(tr){return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(tr)))}util$6.randomBytesHex=randomBytesHex;function uint8ArrayToHex(tr){return[...tr].map(er=>er.toString(16).padStart(2,"0")).join("")}util$6.uint8ArrayToHex=uint8ArrayToHex;function hexStringToUint8Array(tr){return new Uint8Array(tr.match(/.{1,2}/g).map(er=>parseInt(er,16)))}util$6.hexStringToUint8Array=hexStringToUint8Array;function hexStringFromBuffer(tr,er=!1){const rr=tr.toString("hex");return(0,_1.HexString)(er?`0x${rr}`:rr)}util$6.hexStringFromBuffer=hexStringFromBuffer;function bigIntStringFromBigInt(tr){return(0,_1.BigIntString)(tr.toString(10))}util$6.bigIntStringFromBigInt=bigIntStringFromBigInt;function intNumberFromHexString(tr){return(0,_1.IntNumber)(Number(BigInt(ensureEvenLengthHexString(tr,!0))))}util$6.intNumberFromHexString=intNumberFromHexString;function hexStringFromIntNumber(tr){return(0,_1.HexString)(`0x${BigInt(tr).toString(16)}`)}util$6.hexStringFromIntNumber=hexStringFromIntNumber;function has0xPrefix(tr){return tr.startsWith("0x")||tr.startsWith("0X")}util$6.has0xPrefix=has0xPrefix;function strip0x(tr){return has0xPrefix(tr)?tr.slice(2):tr}util$6.strip0x=strip0x;function prepend0x(tr){return has0xPrefix(tr)?`0x${tr.slice(2)}`:`0x${tr}`}util$6.prepend0x=prepend0x;function isHexString$1(tr){if(typeof tr!="string")return!1;const er=strip0x(tr).toLowerCase();return HEXADECIMAL_STRING_REGEX.test(er)}util$6.isHexString=isHexString$1;function ensureHexString(tr,er=!1){if(typeof tr=="string"){const rr=strip0x(tr).toLowerCase();if(HEXADECIMAL_STRING_REGEX.test(rr))return(0,_1.HexString)(er?`0x${rr}`:rr)}throw error_1$8.standardErrors.rpc.invalidParams(`"${String(tr)}" is not a hexadecimal string`)}util$6.ensureHexString=ensureHexString;function ensureEvenLengthHexString(tr,er=!1){let rr=ensureHexString(tr,!1);return rr.length%2===1&&(rr=(0,_1.HexString)(`0${rr}`)),er?(0,_1.HexString)(`0x${rr}`):rr}util$6.ensureEvenLengthHexString=ensureEvenLengthHexString;function ensureAddressString(tr){if(typeof tr=="string"){const er=strip0x(tr).toLowerCase();if(isHexString$1(er)&&er.length===40)return(0,_1.AddressString)(prepend0x(er))}throw error_1$8.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(tr)}`)}util$6.ensureAddressString=ensureAddressString;function ensureBuffer(tr){if(Buffer.isBuffer(tr))return tr;if(typeof tr=="string"){if(isHexString$1(tr)){const er=ensureEvenLengthHexString(tr,!1);return Buffer.from(er,"hex")}return Buffer.from(tr,"utf8")}throw error_1$8.standardErrors.rpc.invalidParams(`Not binary data: ${String(tr)}`)}util$6.ensureBuffer=ensureBuffer;function ensureIntNumber(tr){if(typeof tr=="number"&&Number.isInteger(tr))return(0,_1.IntNumber)(tr);if(typeof tr=="string"){if(INT_STRING_REGEX.test(tr))return(0,_1.IntNumber)(Number(tr));if(isHexString$1(tr))return(0,_1.IntNumber)(Number(BigInt(ensureEvenLengthHexString(tr,!0))))}throw error_1$8.standardErrors.rpc.invalidParams(`Not an integer: ${String(tr)}`)}util$6.ensureIntNumber=ensureIntNumber;function ensureRegExpString(tr){if(tr instanceof RegExp)return(0,_1.RegExpString)(tr.toString());throw error_1$8.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(tr)}`)}util$6.ensureRegExpString=ensureRegExpString;function ensureBigInt(tr){if(tr!==null&&(typeof tr=="bigint"||isBigNumber(tr)))return BigInt(tr.toString(10));if(typeof tr=="number")return BigInt(ensureIntNumber(tr));if(typeof tr=="string"){if(INT_STRING_REGEX.test(tr))return BigInt(tr);if(isHexString$1(tr))return BigInt(ensureEvenLengthHexString(tr,!0))}throw error_1$8.standardErrors.rpc.invalidParams(`Not an integer: ${String(tr)}`)}util$6.ensureBigInt=ensureBigInt;function ensureParsedJSONObject(tr){if(typeof tr=="string")return JSON.parse(tr);if(typeof tr=="object")return tr;throw error_1$8.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(tr)}`)}util$6.ensureParsedJSONObject=ensureParsedJSONObject;function isBigNumber(tr){if(tr==null||typeof tr.constructor!="function")return!1;const{constructor:er}=tr;return typeof er.config=="function"&&typeof er.EUCLID=="number"}util$6.isBigNumber=isBigNumber;function range(tr,er){return Array.from({length:er-tr},(rr,nr)=>tr+nr)}util$6.range=range;function getFavicon(){const tr=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:er,host:rr}=document.location,nr=tr?tr.getAttribute("href"):null;return!nr||nr.startsWith("javascript:")||nr.startsWith("vbscript:")?null:nr.startsWith("http://")||nr.startsWith("https://")||nr.startsWith("data:")?nr:nr.startsWith("//")?er+nr:`${er}//${rr}${nr}`}util$6.getFavicon=getFavicon;function areAddressArraysEqual(tr,er){return tr.length===er.length&&tr.every((rr,nr)=>rr===er[nr])}util$6.areAddressArraysEqual=areAddressArraysEqual;var util$5={},SCWSigner$1={},SCWKeyManager$1={},cipher={};Object.defineProperty(cipher,"__esModule",{value:!0});cipher.decryptContent=cipher.encryptContent=cipher.importKeyFromHexString=cipher.exportKeyToHexString=cipher.decrypt=cipher.encrypt=cipher.deriveSharedSecret=cipher.generateKeyPair=void 0;const util_1$b=util$6;async function generateKeyPair(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}cipher.generateKeyPair=generateKeyPair;async function deriveSharedSecret(tr,er){return crypto.subtle.deriveKey({name:"ECDH",public:er},tr,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}cipher.deriveSharedSecret=deriveSharedSecret;async function encrypt(tr,er){const rr=crypto.getRandomValues(new Uint8Array(12)),nr=await crypto.subtle.encrypt({name:"AES-GCM",iv:rr},tr,new TextEncoder().encode(er));return{iv:rr,cipherText:nr}}cipher.encrypt=encrypt;async function decrypt(tr,{iv:er,cipherText:rr}){const nr=await crypto.subtle.decrypt({name:"AES-GCM",iv:er},tr,rr);return new TextDecoder().decode(nr)}cipher.decrypt=decrypt;function getFormat(tr){switch(tr){case"public":return"spki";case"private":return"pkcs8"}}async function exportKeyToHexString(tr,er){const rr=getFormat(tr),nr=await crypto.subtle.exportKey(rr,er);return(0,util_1$b.uint8ArrayToHex)(new Uint8Array(nr))}cipher.exportKeyToHexString=exportKeyToHexString;async function importKeyFromHexString(tr,er){const rr=getFormat(tr),nr=(0,util_1$b.hexStringToUint8Array)(er).buffer;return await crypto.subtle.importKey(rr,nr,{name:"ECDH",namedCurve:"P-256"},!0,tr==="private"?["deriveKey"]:[])}cipher.importKeyFromHexString=importKeyFromHexString;async function encryptContent(tr,er){const rr=JSON.stringify(tr,(nr,ir)=>{if(!(ir instanceof Error))return ir;const or=ir;return Object.assign(Object.assign({},or.code?{code:or.code}:{}),{message:or.message})});return encrypt(er,rr)}cipher.encryptContent=encryptContent;async function decryptContent(tr,er){return JSON.parse(await decrypt(er,tr))}cipher.decryptContent=decryptContent;var ScopedLocalStorage$1={};Object.defineProperty(ScopedLocalStorage$1,"__esModule",{value:!0});ScopedLocalStorage$1.ScopedLocalStorage=void 0;class ScopedLocalStorage{constructor(er,rr){this.scope=er,this.module=rr}setItem(er,rr){localStorage.setItem(this.scopedKey(er),rr)}getItem(er){return localStorage.getItem(this.scopedKey(er))}removeItem(er){localStorage.removeItem(this.scopedKey(er))}clear(){const er=this.scopedKey(""),rr=[];for(let nr=0;nr<localStorage.length;nr++){const ir=localStorage.key(nr);typeof ir=="string"&&ir.startsWith(er)&&rr.push(ir)}rr.forEach(nr=>localStorage.removeItem(nr))}scopedKey(er){return`-${this.scope}${this.module?`:${this.module}`:""}:${er}`}static clearAll(){new ScopedLocalStorage("CBWSDK").clear(),new ScopedLocalStorage("walletlink").clear()}}ScopedLocalStorage$1.ScopedLocalStorage=ScopedLocalStorage;Object.defineProperty(SCWKeyManager$1,"__esModule",{value:!0});SCWKeyManager$1.SCWKeyManager=void 0;const cipher_1$1=cipher,ScopedLocalStorage_1$6=ScopedLocalStorage$1,OWN_PRIVATE_KEY={storageKey:"ownPrivateKey",keyType:"private"},OWN_PUBLIC_KEY={storageKey:"ownPublicKey",keyType:"public"},PEER_PUBLIC_KEY={storageKey:"peerPublicKey",keyType:"public"};class SCWKeyManager{constructor(){this.storage=new ScopedLocalStorage_1$6.ScopedLocalStorage("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(er){this.sharedSecret=null,this.peerPublicKey=er,await this.storeKey(PEER_PUBLIC_KEY,er),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(OWN_PUBLIC_KEY.storageKey),this.storage.removeItem(OWN_PRIVATE_KEY.storageKey),this.storage.removeItem(PEER_PUBLIC_KEY.storageKey)}async generateKeyPair(){const er=await(0,cipher_1$1.generateKeyPair)();this.ownPrivateKey=er.privateKey,this.ownPublicKey=er.publicKey,await this.storeKey(OWN_PRIVATE_KEY,er.privateKey),await this.storeKey(OWN_PUBLIC_KEY,er.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(OWN_PRIVATE_KEY)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(OWN_PUBLIC_KEY)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(PEER_PUBLIC_KEY)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await(0,cipher_1$1.deriveSharedSecret)(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(er){const rr=this.storage.getItem(er.storageKey);return rr?(0,cipher_1$1.importKeyFromHexString)(er.keyType,rr):null}async storeKey(er,rr){const nr=await(0,cipher_1$1.exportKeyToHexString)(er.keyType,rr);this.storage.setItem(er.storageKey,nr)}}SCWKeyManager$1.SCWKeyManager=SCWKeyManager;var SCWStateManager$1={};Object.defineProperty(SCWStateManager$1,"__esModule",{value:!0});SCWStateManager$1.SCWStateManager=void 0;const ScopedLocalStorage_1$5=ScopedLocalStorage$1,ACCOUNTS_KEY="accounts",ACTIVE_CHAIN_STORAGE_KEY="activeChain",AVAILABLE_CHAINS_STORAGE_KEY="availableChains",WALLET_CAPABILITIES_STORAGE_KEY="walletCapabilities";class SCWStateManager{get accounts(){return this._accounts}get activeChain(){return this._activeChain}get walletCapabilities(){return this._walletCapabilities}constructor(er){var rr,nr;this.storage=new ScopedLocalStorage_1$5.ScopedLocalStorage("CBWSDK","SCWStateManager"),this.updateListener=er.updateListener,this.availableChains=this.loadItemFromStorage(AVAILABLE_CHAINS_STORAGE_KEY),this._walletCapabilities=this.loadItemFromStorage(WALLET_CAPABILITIES_STORAGE_KEY);const ir=this.loadItemFromStorage(ACCOUNTS_KEY),or=this.loadItemFromStorage(ACTIVE_CHAIN_STORAGE_KEY);ir&&this.updateListener.onAccountsUpdate({accounts:ir,source:"storage"}),or&&this.updateListener.onChainUpdate({chain:or,source:"storage"}),this._accounts=ir||[],this._activeChain=or||{id:(nr=(rr=er.appChainIds)===null||rr===void 0?void 0:rr[0])!==null&&nr!==void 0?nr:1}}updateAccounts(er){this._accounts=er,this.storeItemToStorage(ACCOUNTS_KEY,er),this.updateListener.onAccountsUpdate({accounts:er,source:"wallet"})}switchChain(er){var rr;const nr=(rr=this.availableChains)===null||rr===void 0?void 0:rr.find(ir=>ir.id===er);return nr?(nr===this._activeChain||(this._activeChain=nr,this.storeItemToStorage(ACTIVE_CHAIN_STORAGE_KEY,nr),this.updateListener.onChainUpdate({chain:nr,source:"wallet"})),!0):!1}updateAvailableChains(er){if(!er||Object.keys(er).length===0)return;const rr=Object.entries(er).map(([nr,ir])=>({id:Number(nr),rpcUrl:ir}));this.availableChains=rr,this.storeItemToStorage(AVAILABLE_CHAINS_STORAGE_KEY,rr),this.switchChain(this._activeChain.id)}updateWalletCapabilities(er){this._walletCapabilities=er,this.storeItemToStorage(WALLET_CAPABILITIES_STORAGE_KEY,er)}storeItemToStorage(er,rr){this.storage.setItem(er,JSON.stringify(rr))}loadItemFromStorage(er){const rr=this.storage.getItem(er);return rr?JSON.parse(rr):void 0}clear(){this.storage.clear()}}SCWStateManager$1.SCWStateManager=SCWStateManager;Object.defineProperty(SCWSigner$1,"__esModule",{value:!0});SCWSigner$1.SCWSigner=void 0;const SCWKeyManager_1=SCWKeyManager$1,SCWStateManager_1=SCWStateManager$1,error_1$7=error,util_1$a=util$6,cipher_1=cipher;class SCWSigner{constructor(er){this.metadata=er.metadata,this.communicator=er.communicator,this.keyManager=new SCWKeyManager_1.SCWKeyManager,this.stateManager=new SCWStateManager_1.SCWStateManager({appChainIds:this.metadata.appChainIds,updateListener:er.updateListener}),this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(){const er=await this.createRequestMessage({handshake:{method:"eth_requestAccounts",params:this.metadata}}),rr=await this.communicator.postRequestAndWaitForResponse(er);if("failure"in rr.content)throw rr.content.failure;const nr=await(0,cipher_1.importKeyFromHexString)("public",rr.sender);await this.keyManager.setPeerPublicKey(nr);const ir=await this.decryptResponseMessage(rr);this.updateInternalState({method:"eth_requestAccounts"},ir);const or=ir.result;if("error"in or)throw or.error;return this.stateManager.accounts}async request(er){const rr=this.tryLocalHandling(er);if(rr!==void 0){if(rr instanceof Error)throw rr;return rr}await this.communicator.waitForPopupLoaded();const nr=await this.sendEncryptedRequest(er),ir=await this.decryptResponseMessage(nr);this.updateInternalState(er,ir);const or=ir.result;if("error"in or)throw or.error;return or.value}async disconnect(){this.stateManager.clear(),await this.keyManager.clear()}tryLocalHandling(er){var rr;switch(er.method){case"wallet_switchEthereumChain":{const nr=er.params;if(!nr||!(!((rr=nr[0])===null||rr===void 0)&&rr.chainId))throw error_1$7.standardErrors.rpc.invalidParams();const ir=(0,util_1$a.ensureIntNumber)(nr[0].chainId);return this.stateManager.switchChain(ir)?null:void 0}case"wallet_getCapabilities":{const nr=this.stateManager.walletCapabilities;if(!nr)throw error_1$7.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");return nr}default:return}}async sendEncryptedRequest(er){const rr=await this.keyManager.getSharedSecret();if(!rr)throw error_1$7.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");const nr=await(0,cipher_1.encryptContent)({action:er,chainId:this.stateManager.activeChain.id},rr),ir=await this.createRequestMessage({encrypted:nr});return this.communicator.postRequestAndWaitForResponse(ir)}async createRequestMessage(er){const rr=await(0,cipher_1.exportKeyToHexString)("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:rr,content:er,timestamp:new Date}}async decryptResponseMessage(er){const rr=er.content;if("failure"in rr)throw rr.failure;const nr=await this.keyManager.getSharedSecret();if(!nr)throw error_1$7.standardErrors.provider.unauthorized("Invalid session");return(0,cipher_1.decryptContent)(rr.encrypted,nr)}updateInternalState(er,rr){var nr,ir;const or=(nr=rr.data)===null||nr===void 0?void 0:nr.chains;or&&this.stateManager.updateAvailableChains(or);const sr=(ir=rr.data)===null||ir===void 0?void 0:ir.capabilities;sr&&this.stateManager.updateWalletCapabilities(sr);const ar=rr.result;if(!("error"in ar))switch(er.method){case"eth_requestAccounts":{const cr=ar.value;this.stateManager.updateAccounts(cr);break}case"wallet_switchEthereumChain":{if(ar.value!==null)return;const cr=er.params,lr=(0,util_1$a.ensureIntNumber)(cr[0].chainId);this.stateManager.switchChain(lr);break}}}}SCWSigner$1.SCWSigner=SCWSigner;var WalletLinkSigner$1={},readableBrowser={exports:{}},streamBrowser=eventsExports.EventEmitter,buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function tr(br,vr){var $r=Object.keys(br);if(Object.getOwnPropertySymbols){var Er=Object.getOwnPropertySymbols(br);vr&&(Er=Er.filter(function(_r){return Object.getOwnPropertyDescriptor(br,_r).enumerable})),$r.push.apply($r,Er)}return $r}function er(br){for(var vr=1;vr<arguments.length;vr++){var $r=arguments[vr]!=null?arguments[vr]:{};vr%2?tr(Object($r),!0).forEach(function(Er){rr(br,Er,$r[Er])}):Object.getOwnPropertyDescriptors?Object.defineProperties(br,Object.getOwnPropertyDescriptors($r)):tr(Object($r)).forEach(function(Er){Object.defineProperty(br,Er,Object.getOwnPropertyDescriptor($r,Er))})}return br}function rr(br,vr,$r){return vr=sr(vr),vr in br?Object.defineProperty(br,vr,{value:$r,enumerable:!0,configurable:!0,writable:!0}):br[vr]=$r,br}function nr(br,vr){if(!(br instanceof vr))throw new TypeError("Cannot call a class as a function")}function ir(br,vr){for(var $r=0;$r<vr.length;$r++){var Er=vr[$r];Er.enumerable=Er.enumerable||!1,Er.configurable=!0,"value"in Er&&(Er.writable=!0),Object.defineProperty(br,sr(Er.key),Er)}}function or(br,vr,$r){return vr&&ir(br.prototype,vr),Object.defineProperty(br,"prototype",{writable:!1}),br}function sr(br){var vr=ar(br,"string");return typeof vr=="symbol"?vr:String(vr)}function ar(br,vr){if(typeof br!="object"||br===null)return br;var $r=br[Symbol.toPrimitive];if($r!==void 0){var Er=$r.call(br,vr||"default");if(typeof Er!="object")return Er;throw new TypeError("@@toPrimitive must return a primitive value.")}return(vr==="string"?String:Number)(br)}var cr=buffer$1,lr=cr.Buffer,ur=require$$3,fr=ur.inspect,dr=fr&&fr.custom||"inspect";function gr(br,vr,$r){lr.prototype.copy.call(br,vr,$r)}return buffer_list=function(){function br(){nr(this,br),this.head=null,this.tail=null,this.length=0}return or(br,[{key:"push",value:function($r){var Er={data:$r,next:null};this.length>0?this.tail.next=Er:this.head=Er,this.tail=Er,++this.length}},{key:"unshift",value:function($r){var Er={data:$r,next:this.head};this.length===0&&(this.tail=Er),this.head=Er,++this.length}},{key:"shift",value:function(){if(this.length!==0){var $r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function($r){if(this.length===0)return"";for(var Er=this.head,_r=""+Er.data;Er=Er.next;)_r+=$r+Er.data;return _r}},{key:"concat",value:function($r){if(this.length===0)return lr.alloc(0);for(var Er=lr.allocUnsafe($r>>>0),_r=this.head,xr=0;_r;)gr(_r.data,Er,xr),xr+=_r.data.length,_r=_r.next;return Er}},{key:"consume",value:function($r,Er){var _r;return $r<this.head.data.length?(_r=this.head.data.slice(0,$r),this.head.data=this.head.data.slice($r)):$r===this.head.data.length?_r=this.shift():_r=Er?this._getString($r):this._getBuffer($r),_r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function($r){var Er=this.head,_r=1,xr=Er.data;for($r-=xr.length;Er=Er.next;){var Ir=Er.data,Nr=$r>Ir.length?Ir.length:$r;if(Nr===Ir.length?xr+=Ir:xr+=Ir.slice(0,$r),$r-=Nr,$r===0){Nr===Ir.length?(++_r,Er.next?this.head=Er.next:this.head=this.tail=null):(this.head=Er,Er.data=Ir.slice(Nr));break}++_r}return this.length-=_r,xr}},{key:"_getBuffer",value:function($r){var Er=lr.allocUnsafe($r),_r=this.head,xr=1;for(_r.data.copy(Er),$r-=_r.data.length;_r=_r.next;){var Ir=_r.data,Nr=$r>Ir.length?Ir.length:$r;if(Ir.copy(Er,Er.length-$r,0,Nr),$r-=Nr,$r===0){Nr===Ir.length?(++xr,_r.next?this.head=_r.next:this.head=this.tail=null):(this.head=_r,_r.data=Ir.slice(Nr));break}++xr}return this.length-=xr,Er}},{key:dr,value:function($r,Er){return fr(this,er(er({},Er),{},{depth:0,customInspect:!1}))}}]),br}(),buffer_list}function destroy(tr,er){var rr=this,nr=this._readableState&&this._readableState.destroyed,ir=this._writableState&&this._writableState.destroyed;return nr||ir?(er?er(tr):tr&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,tr)):process.nextTick(emitErrorNT,this,tr)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(tr||null,function(or){!er&&or?rr._writableState?rr._writableState.errorEmitted?process.nextTick(emitCloseNT,rr):(rr._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,rr,or)):process.nextTick(emitErrorAndCloseNT,rr,or):er?(process.nextTick(emitCloseNT,rr),er(or)):process.nextTick(emitCloseNT,rr)}),this)}function emitErrorAndCloseNT(tr,er){emitErrorNT(tr,er),emitCloseNT(tr)}function emitCloseNT(tr){tr._writableState&&!tr._writableState.emitClose||tr._readableState&&!tr._readableState.emitClose||tr.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(tr,er){tr.emit("error",er)}function errorOrDestroy(tr,er){var rr=tr._readableState,nr=tr._writableState;rr&&rr.autoDestroy||nr&&nr.autoDestroy?tr.destroy(er):tr.emit("error",er)}var destroy_1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(tr,er){tr.prototype=Object.create(er.prototype),tr.prototype.constructor=tr,tr.__proto__=er}var codes={};function createErrorType(tr,er,rr){rr||(rr=Error);function nr(or,sr,ar){return typeof er=="string"?er:er(or,sr,ar)}var ir=function(or){_inheritsLoose(sr,or);function sr(ar,cr,lr){return or.call(this,nr(ar,cr,lr))||this}return sr}(rr);ir.prototype.name=rr.name,ir.prototype.code=tr,codes[tr]=ir}function oneOf(tr,er){if(Array.isArray(tr)){var rr=tr.length;return tr=tr.map(function(nr){return String(nr)}),rr>2?"one of ".concat(er," ").concat(tr.slice(0,rr-1).join(", "),", or ")+tr[rr-1]:rr===2?"one of ".concat(er," ").concat(tr[0]," or ").concat(tr[1]):"of ".concat(er," ").concat(tr[0])}else return"of ".concat(er," ").concat(String(tr))}function startsWith(tr,er,rr){return tr.substr(0,er.length)===er}function endsWith(tr,er,rr){return(rr===void 0||rr>tr.length)&&(rr=tr.length),tr.substring(rr-er.length,rr)===er}function includes(tr,er,rr){return typeof rr!="number"&&(rr=0),rr+er.length>tr.length?!1:tr.indexOf(er,rr)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(tr,er){return'The value "'+er+'" is invalid for option "'+tr+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(tr,er,rr){var nr;typeof er=="string"&&startsWith(er,"not ")?(nr="must not be",er=er.replace(/^not /,"")):nr="must be";var ir;if(endsWith(tr," argument"))ir="The ".concat(tr," ").concat(nr," ").concat(oneOf(er,"type"));else{var or=includes(tr,".")?"property":"argument";ir='The "'.concat(tr,'" ').concat(or," ").concat(nr," ").concat(oneOf(er,"type"))}return ir+=". Received type ".concat(typeof rr),ir},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(tr){return"The "+tr+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(tr){return"Cannot call "+tr+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(tr){return"Unknown encoding: "+tr},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(tr,er,rr){return tr.highWaterMark!=null?tr.highWaterMark:er?tr[rr]:null}function getHighWaterMark(tr,er,rr,nr){var ir=highWaterMarkFrom(er,nr,rr);if(ir!=null){if(!(isFinite(ir)&&Math.floor(ir)===ir)||ir<0){var or=nr?rr:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(or,ir)}return Math.floor(ir)}return tr.objectMode?16:16*1024}var state={getHighWaterMark},browser=deprecate;function deprecate(tr,er){if(config("noDeprecation"))return tr;var rr=!1;function nr(){if(!rr){if(config("throwDeprecation"))throw new Error(er);config("traceDeprecation")?console.trace(er):console.warn(er),rr=!0}return tr.apply(this,arguments)}return nr}function config(tr){try{if(!globalThis.localStorage)return!1}catch{return!1}var er=globalThis.localStorage[tr];return er==null?!1:String(er).toLowerCase()==="true"}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=Or;function tr(zr){var sn=this;this.next=null,this.entry=null,this.finish=function(){qr(sn,zr)}}var er;Or.WritableState=Lr;var rr={deprecate:browser},nr=streamBrowser,ir=buffer$1.Buffer,or=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function sr(zr){return ir.from(zr)}function ar(zr){return ir.isBuffer(zr)||zr instanceof or}var cr=destroy_1,lr=state,ur=lr.getHighWaterMark,fr=errorsBrowser.codes,dr=fr.ERR_INVALID_ARG_TYPE,gr=fr.ERR_METHOD_NOT_IMPLEMENTED,br=fr.ERR_MULTIPLE_CALLBACK,vr=fr.ERR_STREAM_CANNOT_PIPE,$r=fr.ERR_STREAM_DESTROYED,Er=fr.ERR_STREAM_NULL_VALUES,_r=fr.ERR_STREAM_WRITE_AFTER_END,xr=fr.ERR_UNKNOWN_ENCODING,Ir=cr.errorOrDestroy;inherits_browserExports(Or,nr);function Nr(){}function Lr(zr,sn,rn){er=er||require_stream_duplex(),zr=zr||{},typeof rn!="boolean"&&(rn=sn instanceof er),this.objectMode=!!zr.objectMode,rn&&(this.objectMode=this.objectMode||!!zr.writableObjectMode),this.highWaterMark=ur(this,zr,"writableHighWaterMark",rn),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var tn=zr.decodeStrings===!1;this.decodeStrings=!tn,this.defaultEncoding=zr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(dn){wr(sn,dn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=zr.emitClose!==!1,this.autoDestroy=!!zr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new tr(this)}Lr.prototype.getBuffer=function(){for(var sn=this.bufferedRequest,rn=[];sn;)rn.push(sn),sn=sn.next;return rn},function(){try{Object.defineProperty(Lr.prototype,"buffer",{get:rr.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var jr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(jr=Function.prototype[Symbol.hasInstance],Object.defineProperty(Or,Symbol.hasInstance,{value:function(sn){return jr.call(this,sn)?!0:this!==Or?!1:sn&&sn._writableState instanceof Lr}})):jr=function(sn){return sn instanceof this};function Or(zr){er=er||require_stream_duplex();var sn=this instanceof er;if(!sn&&!jr.call(Or,this))return new Or(zr);this._writableState=new Lr(zr,this,sn),this.writable=!0,zr&&(typeof zr.write=="function"&&(this._write=zr.write),typeof zr.writev=="function"&&(this._writev=zr.writev),typeof zr.destroy=="function"&&(this._destroy=zr.destroy),typeof zr.final=="function"&&(this._final=zr.final)),nr.call(this)}Or.prototype.pipe=function(){Ir(this,new vr)};function Dr(zr,sn){var rn=new _r;Ir(zr,rn),process.nextTick(sn,rn)}function Cr(zr,sn,rn,tn){var dn;return rn===null?dn=new Er:typeof rn!="string"&&!sn.objectMode&&(dn=new dr("chunk",["string","Buffer"],rn)),dn?(Ir(zr,dn),process.nextTick(tn,dn),!1):!0}Or.prototype.write=function(zr,sn,rn){var tn=this._writableState,dn=!1,Yr=!tn.objectMode&&ar(zr);return Yr&&!ir.isBuffer(zr)&&(zr=sr(zr)),typeof sn=="function"&&(rn=sn,sn=null),Yr?sn="buffer":sn||(sn=tn.defaultEncoding),typeof rn!="function"&&(rn=Nr),tn.ending?Dr(this,rn):(Yr||Cr(this,tn,zr,rn))&&(tn.pendingcb++,dn=yr(this,tn,Yr,zr,sn,rn)),dn},Or.prototype.cork=function(){this._writableState.corked++},Or.prototype.uncork=function(){var zr=this._writableState;zr.corked&&(zr.corked--,!zr.writing&&!zr.corked&&!zr.bufferProcessing&&zr.bufferedRequest&&Pr(this,zr))},Or.prototype.setDefaultEncoding=function(sn){if(typeof sn=="string"&&(sn=sn.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((sn+"").toLowerCase())>-1))throw new xr(sn);return this._writableState.defaultEncoding=sn,this},Object.defineProperty(Or.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Tr(zr,sn,rn){return!zr.objectMode&&zr.decodeStrings!==!1&&typeof sn=="string"&&(sn=ir.from(sn,rn)),sn}Object.defineProperty(Or.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function yr(zr,sn,rn,tn,dn,Yr){if(!rn){var Vr=Tr(sn,tn,dn);tn!==Vr&&(rn=!0,dn="buffer",tn=Vr)}var Qr=sn.objectMode?1:tn.length;sn.length+=Qr;var un=sn.length<sn.highWaterMark;if(un||(sn.needDrain=!0),sn.writing||sn.corked){var yn=sn.lastBufferedRequest;sn.lastBufferedRequest={chunk:tn,encoding:dn,isBuf:rn,callback:Yr,next:null},yn?yn.next=sn.lastBufferedRequest:sn.bufferedRequest=sn.lastBufferedRequest,sn.bufferedRequestCount+=1}else mr(zr,sn,!1,Qr,tn,dn,Yr);return un}function mr(zr,sn,rn,tn,dn,Yr,Vr){sn.writelen=tn,sn.writecb=Vr,sn.writing=!0,sn.sync=!0,sn.destroyed?sn.onwrite(new $r("write")):rn?zr._writev(dn,sn.onwrite):zr._write(dn,Yr,sn.onwrite),sn.sync=!1}function hr(zr,sn,rn,tn,dn){--sn.pendingcb,rn?(process.nextTick(dn,tn),process.nextTick(Ur,zr,sn),zr._writableState.errorEmitted=!0,Ir(zr,tn)):(dn(tn),zr._writableState.errorEmitted=!0,Ir(zr,tn),Ur(zr,sn))}function pr(zr){zr.writing=!1,zr.writecb=null,zr.length-=zr.writelen,zr.writelen=0}function wr(zr,sn){var rn=zr._writableState,tn=rn.sync,dn=rn.writecb;if(typeof dn!="function")throw new br;if(pr(rn),sn)hr(zr,rn,tn,sn,dn);else{var Yr=Sr(rn)||zr.destroyed;!Yr&&!rn.corked&&!rn.bufferProcessing&&rn.bufferedRequest&&Pr(zr,rn),tn?process.nextTick(Ar,zr,rn,Yr,dn):Ar(zr,rn,Yr,dn)}}function Ar(zr,sn,rn,tn){rn||Rr(zr,sn),sn.pendingcb--,tn(),Ur(zr,sn)}function Rr(zr,sn){sn.length===0&&sn.needDrain&&(sn.needDrain=!1,zr.emit("drain"))}function Pr(zr,sn){sn.bufferProcessing=!0;var rn=sn.bufferedRequest;if(zr._writev&&rn&&rn.next){var tn=sn.bufferedRequestCount,dn=new Array(tn),Yr=sn.corkedRequestsFree;Yr.entry=rn;for(var Vr=0,Qr=!0;rn;)dn[Vr]=rn,rn.isBuf||(Qr=!1),rn=rn.next,Vr+=1;dn.allBuffers=Qr,mr(zr,sn,!0,sn.length,dn,"",Yr.finish),sn.pendingcb++,sn.lastBufferedRequest=null,Yr.next?(sn.corkedRequestsFree=Yr.next,Yr.next=null):sn.corkedRequestsFree=new tr(sn),sn.bufferedRequestCount=0}else{for(;rn;){var un=rn.chunk,yn=rn.encoding,An=rn.callback,Rn=sn.objectMode?1:un.length;if(mr(zr,sn,!1,Rn,un,yn,An),rn=rn.next,sn.bufferedRequestCount--,sn.writing)break}rn===null&&(sn.lastBufferedRequest=null)}sn.bufferedRequest=rn,sn.bufferProcessing=!1}Or.prototype._write=function(zr,sn,rn){rn(new gr("_write()"))},Or.prototype._writev=null,Or.prototype.end=function(zr,sn,rn){var tn=this._writableState;return typeof zr=="function"?(rn=zr,zr=null,sn=null):typeof sn=="function"&&(rn=sn,sn=null),zr!=null&&this.write(zr,sn),tn.corked&&(tn.corked=1,this.uncork()),tn.ending||Jr(this,tn,rn),this},Object.defineProperty(Or.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Sr(zr){return zr.ending&&zr.length===0&&zr.bufferedRequest===null&&!zr.finished&&!zr.writing}function Mr(zr,sn){zr._final(function(rn){sn.pendingcb--,rn&&Ir(zr,rn),sn.prefinished=!0,zr.emit("prefinish"),Ur(zr,sn)})}function Br(zr,sn){!sn.prefinished&&!sn.finalCalled&&(typeof zr._final=="function"&&!sn.destroyed?(sn.pendingcb++,sn.finalCalled=!0,process.nextTick(Mr,zr,sn)):(sn.prefinished=!0,zr.emit("prefinish")))}function Ur(zr,sn){var rn=Sr(sn);if(rn&&(Br(zr,sn),sn.pendingcb===0&&(sn.finished=!0,zr.emit("finish"),sn.autoDestroy))){var tn=zr._readableState;(!tn||tn.autoDestroy&&tn.endEmitted)&&zr.destroy()}return rn}function Jr(zr,sn,rn){sn.ending=!0,Ur(zr,sn),rn&&(sn.finished?process.nextTick(rn):zr.once("finish",rn)),sn.ended=!0,zr.writable=!1}function qr(zr,sn,rn){var tn=zr.entry;for(zr.entry=null;tn;){var dn=tn.callback;sn.pendingcb--,dn(rn),tn=tn.next}sn.corkedRequestsFree.next=zr}return Object.defineProperty(Or.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(sn){this._writableState&&(this._writableState.destroyed=sn)}}),Or.prototype.destroy=cr.destroy,Or.prototype._undestroy=cr.undestroy,Or.prototype._destroy=function(zr,sn){sn(zr)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var tr=Object.keys||function(lr){var ur=[];for(var fr in lr)ur.push(fr);return ur};_stream_duplex=sr;var er=require_stream_readable(),rr=require_stream_writable();inherits_browserExports(sr,er);for(var nr=tr(rr.prototype),ir=0;ir<nr.length;ir++){var or=nr[ir];sr.prototype[or]||(sr.prototype[or]=rr.prototype[or])}function sr(lr){if(!(this instanceof sr))return new sr(lr);er.call(this,lr),rr.call(this,lr),this.allowHalfOpen=!0,lr&&(lr.readable===!1&&(this.readable=!1),lr.writable===!1&&(this.writable=!1),lr.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ar)))}Object.defineProperty(sr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(sr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(sr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ar(){this._writableState.ended||process.nextTick(cr,this)}function cr(lr){lr.end()}return Object.defineProperty(sr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ur){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ur,this._writableState.destroyed=ur)}}),_stream_duplex}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(tr){var er=!1;return function(){if(!er){er=!0;for(var rr=arguments.length,nr=new Array(rr),ir=0;ir<rr;ir++)nr[ir]=arguments[ir];tr.apply(this,nr)}}}function noop$1(){}function isRequest$1(tr){return tr.setHeader&&typeof tr.abort=="function"}function eos$1(tr,er,rr){if(typeof er=="function")return eos$1(tr,null,er);er||(er={}),rr=once$1(rr||noop$1);var nr=er.readable||er.readable!==!1&&tr.readable,ir=er.writable||er.writable!==!1&&tr.writable,or=function(){tr.writable||ar()},sr=tr._writableState&&tr._writableState.finished,ar=function(){ir=!1,sr=!0,nr||rr.call(tr)},cr=tr._readableState&&tr._readableState.endEmitted,lr=function(){nr=!1,cr=!0,ir||rr.call(tr)},ur=function(br){rr.call(tr,br)},fr=function(){var br;if(nr&&!cr)return(!tr._readableState||!tr._readableState.ended)&&(br=new ERR_STREAM_PREMATURE_CLOSE),rr.call(tr,br);if(ir&&!sr)return(!tr._writableState||!tr._writableState.ended)&&(br=new ERR_STREAM_PREMATURE_CLOSE),rr.call(tr,br)},dr=function(){tr.req.on("finish",ar)};return isRequest$1(tr)?(tr.on("complete",ar),tr.on("abort",fr),tr.req?dr():tr.on("request",dr)):ir&&!tr._writableState&&(tr.on("end",or),tr.on("close",or)),tr.on("end",lr),tr.on("finish",ar),er.error!==!1&&tr.on("error",ur),tr.on("close",fr),function(){tr.removeListener("complete",ar),tr.removeListener("abort",fr),tr.removeListener("request",dr),tr.req&&tr.req.removeListener("finish",ar),tr.removeListener("end",or),tr.removeListener("close",or),tr.removeListener("finish",ar),tr.removeListener("end",lr),tr.removeListener("error",ur),tr.removeListener("close",fr)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var tr;function er(xr,Ir,Nr){return Ir=rr(Ir),Ir in xr?Object.defineProperty(xr,Ir,{value:Nr,enumerable:!0,configurable:!0,writable:!0}):xr[Ir]=Nr,xr}function rr(xr){var Ir=nr(xr,"string");return typeof Ir=="symbol"?Ir:String(Ir)}function nr(xr,Ir){if(typeof xr!="object"||xr===null)return xr;var Nr=xr[Symbol.toPrimitive];if(Nr!==void 0){var Lr=Nr.call(xr,Ir||"default");if(typeof Lr!="object")return Lr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ir==="string"?String:Number)(xr)}var ir=endOfStream,or=Symbol("lastResolve"),sr=Symbol("lastReject"),ar=Symbol("error"),cr=Symbol("ended"),lr=Symbol("lastPromise"),ur=Symbol("handlePromise"),fr=Symbol("stream");function dr(xr,Ir){return{value:xr,done:Ir}}function gr(xr){var Ir=xr[or];if(Ir!==null){var Nr=xr[fr].read();Nr!==null&&(xr[lr]=null,xr[or]=null,xr[sr]=null,Ir(dr(Nr,!1)))}}function br(xr){process.nextTick(gr,xr)}function vr(xr,Ir){return function(Nr,Lr){xr.then(function(){if(Ir[cr]){Nr(dr(void 0,!0));return}Ir[ur](Nr,Lr)},Lr)}}var $r=Object.getPrototypeOf(function(){}),Er=Object.setPrototypeOf((tr={get stream(){return this[fr]},next:function(){var Ir=this,Nr=this[ar];if(Nr!==null)return Promise.reject(Nr);if(this[cr])return Promise.resolve(dr(void 0,!0));if(this[fr].destroyed)return new Promise(function(Dr,Cr){process.nextTick(function(){Ir[ar]?Cr(Ir[ar]):Dr(dr(void 0,!0))})});var Lr=this[lr],jr;if(Lr)jr=new Promise(vr(Lr,this));else{var Or=this[fr].read();if(Or!==null)return Promise.resolve(dr(Or,!1));jr=new Promise(this[ur])}return this[lr]=jr,jr}},er(tr,Symbol.asyncIterator,function(){return this}),er(tr,"return",function(){var Ir=this;return new Promise(function(Nr,Lr){Ir[fr].destroy(null,function(jr){if(jr){Lr(jr);return}Nr(dr(void 0,!0))})})}),tr),$r),_r=function(Ir){var Nr,Lr=Object.create(Er,(Nr={},er(Nr,fr,{value:Ir,writable:!0}),er(Nr,or,{value:null,writable:!0}),er(Nr,sr,{value:null,writable:!0}),er(Nr,ar,{value:null,writable:!0}),er(Nr,cr,{value:Ir._readableState.endEmitted,writable:!0}),er(Nr,ur,{value:function(Or,Dr){var Cr=Lr[fr].read();Cr?(Lr[lr]=null,Lr[or]=null,Lr[sr]=null,Or(dr(Cr,!1))):(Lr[or]=Or,Lr[sr]=Dr)},writable:!0}),Nr));return Lr[lr]=null,ir(Ir,function(jr){if(jr&&jr.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Or=Lr[sr];Or!==null&&(Lr[lr]=null,Lr[or]=null,Lr[sr]=null,Or(jr)),Lr[ar]=jr;return}var Dr=Lr[or];Dr!==null&&(Lr[lr]=null,Lr[or]=null,Lr[sr]=null,Dr(dr(void 0,!0))),Lr[cr]=!0}),Ir.on("readable",br.bind(null,Lr)),Lr};return async_iterator=_r,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=Dr;var tr;Dr.ReadableState=Or,eventsExports.EventEmitter;var er=function(Vr,Qr){return Vr.listeners(Qr).length},rr=streamBrowser,nr=buffer$1.Buffer,ir=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function or(Yr){return nr.from(Yr)}function sr(Yr){return nr.isBuffer(Yr)||Yr instanceof ir}var ar=require$$3,cr;ar&&ar.debuglog?cr=ar.debuglog("stream"):cr=function(){};var lr=requireBuffer_list(),ur=destroy_1,fr=state,dr=fr.getHighWaterMark,gr=errorsBrowser.codes,br=gr.ERR_INVALID_ARG_TYPE,vr=gr.ERR_STREAM_PUSH_AFTER_EOF,$r=gr.ERR_METHOD_NOT_IMPLEMENTED,Er=gr.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_r,xr,Ir;inherits_browserExports(Dr,rr);var Nr=ur.errorOrDestroy,Lr=["error","close","destroy","pause","resume"];function jr(Yr,Vr,Qr){if(typeof Yr.prependListener=="function")return Yr.prependListener(Vr,Qr);!Yr._events||!Yr._events[Vr]?Yr.on(Vr,Qr):Array.isArray(Yr._events[Vr])?Yr._events[Vr].unshift(Qr):Yr._events[Vr]=[Qr,Yr._events[Vr]]}function Or(Yr,Vr,Qr){tr=tr||require_stream_duplex(),Yr=Yr||{},typeof Qr!="boolean"&&(Qr=Vr instanceof tr),this.objectMode=!!Yr.objectMode,Qr&&(this.objectMode=this.objectMode||!!Yr.readableObjectMode),this.highWaterMark=dr(this,Yr,"readableHighWaterMark",Qr),this.buffer=new lr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Yr.emitClose!==!1,this.autoDestroy=!!Yr.autoDestroy,this.destroyed=!1,this.defaultEncoding=Yr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Yr.encoding&&(_r||(_r=string_decoder.StringDecoder),this.decoder=new _r(Yr.encoding),this.encoding=Yr.encoding)}function Dr(Yr){if(tr=tr||require_stream_duplex(),!(this instanceof Dr))return new Dr(Yr);var Vr=this instanceof tr;this._readableState=new Or(Yr,this,Vr),this.readable=!0,Yr&&(typeof Yr.read=="function"&&(this._read=Yr.read),typeof Yr.destroy=="function"&&(this._destroy=Yr.destroy)),rr.call(this)}Object.defineProperty(Dr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Vr){this._readableState&&(this._readableState.destroyed=Vr)}}),Dr.prototype.destroy=ur.destroy,Dr.prototype._undestroy=ur.undestroy,Dr.prototype._destroy=function(Yr,Vr){Vr(Yr)},Dr.prototype.push=function(Yr,Vr){var Qr=this._readableState,un;return Qr.objectMode?un=!0:typeof Yr=="string"&&(Vr=Vr||Qr.defaultEncoding,Vr!==Qr.encoding&&(Yr=nr.from(Yr,Vr),Vr=""),un=!0),Cr(this,Yr,Vr,!1,un)},Dr.prototype.unshift=function(Yr){return Cr(this,Yr,null,!0,!1)};function Cr(Yr,Vr,Qr,un,yn){cr("readableAddChunk",Vr);var An=Yr._readableState;if(Vr===null)An.reading=!1,wr(Yr,An);else{var Rn;if(yn||(Rn=yr(An,Vr)),Rn)Nr(Yr,Rn);else if(An.objectMode||Vr&&Vr.length>0)if(typeof Vr!="string"&&!An.objectMode&&Object.getPrototypeOf(Vr)!==nr.prototype&&(Vr=or(Vr)),un)An.endEmitted?Nr(Yr,new Er):Tr(Yr,An,Vr,!0);else if(An.ended)Nr(Yr,new vr);else{if(An.destroyed)return!1;An.reading=!1,An.decoder&&!Qr?(Vr=An.decoder.write(Vr),An.objectMode||Vr.length!==0?Tr(Yr,An,Vr,!1):Pr(Yr,An)):Tr(Yr,An,Vr,!1)}else un||(An.reading=!1,Pr(Yr,An))}return!An.ended&&(An.length<An.highWaterMark||An.length===0)}function Tr(Yr,Vr,Qr,un){Vr.flowing&&Vr.length===0&&!Vr.sync?(Vr.awaitDrain=0,Yr.emit("data",Qr)):(Vr.length+=Vr.objectMode?1:Qr.length,un?Vr.buffer.unshift(Qr):Vr.buffer.push(Qr),Vr.needReadable&&Ar(Yr)),Pr(Yr,Vr)}function yr(Yr,Vr){var Qr;return!sr(Vr)&&typeof Vr!="string"&&Vr!==void 0&&!Yr.objectMode&&(Qr=new br("chunk",["string","Buffer","Uint8Array"],Vr)),Qr}Dr.prototype.isPaused=function(){return this._readableState.flowing===!1},Dr.prototype.setEncoding=function(Yr){_r||(_r=string_decoder.StringDecoder);var Vr=new _r(Yr);this._readableState.decoder=Vr,this._readableState.encoding=this._readableState.decoder.encoding;for(var Qr=this._readableState.buffer.head,un="";Qr!==null;)un+=Vr.write(Qr.data),Qr=Qr.next;return this._readableState.buffer.clear(),un!==""&&this._readableState.buffer.push(un),this._readableState.length=un.length,this};var mr=1073741824;function hr(Yr){return Yr>=mr?Yr=mr:(Yr--,Yr|=Yr>>>1,Yr|=Yr>>>2,Yr|=Yr>>>4,Yr|=Yr>>>8,Yr|=Yr>>>16,Yr++),Yr}function pr(Yr,Vr){return Yr<=0||Vr.length===0&&Vr.ended?0:Vr.objectMode?1:Yr!==Yr?Vr.flowing&&Vr.length?Vr.buffer.head.data.length:Vr.length:(Yr>Vr.highWaterMark&&(Vr.highWaterMark=hr(Yr)),Yr<=Vr.length?Yr:Vr.ended?Vr.length:(Vr.needReadable=!0,0))}Dr.prototype.read=function(Yr){cr("read",Yr),Yr=parseInt(Yr,10);var Vr=this._readableState,Qr=Yr;if(Yr!==0&&(Vr.emittedReadable=!1),Yr===0&&Vr.needReadable&&((Vr.highWaterMark!==0?Vr.length>=Vr.highWaterMark:Vr.length>0)||Vr.ended))return cr("read: emitReadable",Vr.length,Vr.ended),Vr.length===0&&Vr.ended?rn(this):Ar(this),null;if(Yr=pr(Yr,Vr),Yr===0&&Vr.ended)return Vr.length===0&&rn(this),null;var un=Vr.needReadable;cr("need readable",un),(Vr.length===0||Vr.length-Yr<Vr.highWaterMark)&&(un=!0,cr("length less than watermark",un)),Vr.ended||Vr.reading?(un=!1,cr("reading or ended",un)):un&&(cr("do read"),Vr.reading=!0,Vr.sync=!0,Vr.length===0&&(Vr.needReadable=!0),this._read(Vr.highWaterMark),Vr.sync=!1,Vr.reading||(Yr=pr(Qr,Vr)));var yn;return Yr>0?yn=sn(Yr,Vr):yn=null,yn===null?(Vr.needReadable=Vr.length<=Vr.highWaterMark,Yr=0):(Vr.length-=Yr,Vr.awaitDrain=0),Vr.length===0&&(Vr.ended||(Vr.needReadable=!0),Qr!==Yr&&Vr.ended&&rn(this)),yn!==null&&this.emit("data",yn),yn};function wr(Yr,Vr){if(cr("onEofChunk"),!Vr.ended){if(Vr.decoder){var Qr=Vr.decoder.end();Qr&&Qr.length&&(Vr.buffer.push(Qr),Vr.length+=Vr.objectMode?1:Qr.length)}Vr.ended=!0,Vr.sync?Ar(Yr):(Vr.needReadable=!1,Vr.emittedReadable||(Vr.emittedReadable=!0,Rr(Yr)))}}function Ar(Yr){var Vr=Yr._readableState;cr("emitReadable",Vr.needReadable,Vr.emittedReadable),Vr.needReadable=!1,Vr.emittedReadable||(cr("emitReadable",Vr.flowing),Vr.emittedReadable=!0,process.nextTick(Rr,Yr))}function Rr(Yr){var Vr=Yr._readableState;cr("emitReadable_",Vr.destroyed,Vr.length,Vr.ended),!Vr.destroyed&&(Vr.length||Vr.ended)&&(Yr.emit("readable"),Vr.emittedReadable=!1),Vr.needReadable=!Vr.flowing&&!Vr.ended&&Vr.length<=Vr.highWaterMark,zr(Yr)}function Pr(Yr,Vr){Vr.readingMore||(Vr.readingMore=!0,process.nextTick(Sr,Yr,Vr))}function Sr(Yr,Vr){for(;!Vr.reading&&!Vr.ended&&(Vr.length<Vr.highWaterMark||Vr.flowing&&Vr.length===0);){var Qr=Vr.length;if(cr("maybeReadMore read 0"),Yr.read(0),Qr===Vr.length)break}Vr.readingMore=!1}Dr.prototype._read=function(Yr){Nr(this,new $r("_read()"))},Dr.prototype.pipe=function(Yr,Vr){var Qr=this,un=this._readableState;switch(un.pipesCount){case 0:un.pipes=Yr;break;case 1:un.pipes=[un.pipes,Yr];break;default:un.pipes.push(Yr);break}un.pipesCount+=1,cr("pipe count=%d opts=%j",un.pipesCount,Vr);var yn=(!Vr||Vr.end!==!1)&&Yr!==process.stdout&&Yr!==process.stderr,An=yn?On:Dn;un.endEmitted?process.nextTick(An):Qr.once("end",An),Yr.on("unpipe",Rn);function Rn(Xr,Hr){cr("onunpipe"),Xr===Qr&&Hr&&Hr.hasUnpiped===!1&&(Hr.hasUnpiped=!0,zn())}function On(){cr("onend"),Yr.end()}var xn=Mr(Qr);Yr.on("drain",xn);var Wn=!1;function zn(){cr("cleanup"),Yr.removeListener("close",wn),Yr.removeListener("finish",Sn),Yr.removeListener("drain",xn),Yr.removeListener("error",so),Yr.removeListener("unpipe",Rn),Qr.removeListener("end",On),Qr.removeListener("end",Dn),Qr.removeListener("data",Fn),Wn=!0,un.awaitDrain&&(!Yr._writableState||Yr._writableState.needDrain)&&xn()}Qr.on("data",Fn);function Fn(Xr){cr("ondata");var Hr=Yr.write(Xr);cr("dest.write",Hr),Hr===!1&&((un.pipesCount===1&&un.pipes===Yr||un.pipesCount>1&&dn(un.pipes,Yr)!==-1)&&!Wn&&(cr("false write response, pause",un.awaitDrain),un.awaitDrain++),Qr.pause())}function so(Xr){cr("onerror",Xr),Dn(),Yr.removeListener("error",so),er(Yr,"error")===0&&Nr(Yr,Xr)}jr(Yr,"error",so);function wn(){Yr.removeListener("finish",Sn),Dn()}Yr.once("close",wn);function Sn(){cr("onfinish"),Yr.removeListener("close",wn),Dn()}Yr.once("finish",Sn);function Dn(){cr("unpipe"),Qr.unpipe(Yr)}return Yr.emit("pipe",Qr),un.flowing||(cr("pipe resume"),Qr.resume()),Yr};function Mr(Yr){return function(){var Qr=Yr._readableState;cr("pipeOnDrain",Qr.awaitDrain),Qr.awaitDrain&&Qr.awaitDrain--,Qr.awaitDrain===0&&er(Yr,"data")&&(Qr.flowing=!0,zr(Yr))}}Dr.prototype.unpipe=function(Yr){var Vr=this._readableState,Qr={hasUnpiped:!1};if(Vr.pipesCount===0)return this;if(Vr.pipesCount===1)return Yr&&Yr!==Vr.pipes?this:(Yr||(Yr=Vr.pipes),Vr.pipes=null,Vr.pipesCount=0,Vr.flowing=!1,Yr&&Yr.emit("unpipe",this,Qr),this);if(!Yr){var un=Vr.pipes,yn=Vr.pipesCount;Vr.pipes=null,Vr.pipesCount=0,Vr.flowing=!1;for(var An=0;An<yn;An++)un[An].emit("unpipe",this,{hasUnpiped:!1});return this}var Rn=dn(Vr.pipes,Yr);return Rn===-1?this:(Vr.pipes.splice(Rn,1),Vr.pipesCount-=1,Vr.pipesCount===1&&(Vr.pipes=Vr.pipes[0]),Yr.emit("unpipe",this,Qr),this)},Dr.prototype.on=function(Yr,Vr){var Qr=rr.prototype.on.call(this,Yr,Vr),un=this._readableState;return Yr==="data"?(un.readableListening=this.listenerCount("readable")>0,un.flowing!==!1&&this.resume()):Yr==="readable"&&!un.endEmitted&&!un.readableListening&&(un.readableListening=un.needReadable=!0,un.flowing=!1,un.emittedReadable=!1,cr("on readable",un.length,un.reading),un.length?Ar(this):un.reading||process.nextTick(Ur,this)),Qr},Dr.prototype.addListener=Dr.prototype.on,Dr.prototype.removeListener=function(Yr,Vr){var Qr=rr.prototype.removeListener.call(this,Yr,Vr);return Yr==="readable"&&process.nextTick(Br,this),Qr},Dr.prototype.removeAllListeners=function(Yr){var Vr=rr.prototype.removeAllListeners.apply(this,arguments);return(Yr==="readable"||Yr===void 0)&&process.nextTick(Br,this),Vr};function Br(Yr){var Vr=Yr._readableState;Vr.readableListening=Yr.listenerCount("readable")>0,Vr.resumeScheduled&&!Vr.paused?Vr.flowing=!0:Yr.listenerCount("data")>0&&Yr.resume()}function Ur(Yr){cr("readable nexttick read 0"),Yr.read(0)}Dr.prototype.resume=function(){var Yr=this._readableState;return Yr.flowing||(cr("resume"),Yr.flowing=!Yr.readableListening,Jr(this,Yr)),Yr.paused=!1,this};function Jr(Yr,Vr){Vr.resumeScheduled||(Vr.resumeScheduled=!0,process.nextTick(qr,Yr,Vr))}function qr(Yr,Vr){cr("resume",Vr.reading),Vr.reading||Yr.read(0),Vr.resumeScheduled=!1,Yr.emit("resume"),zr(Yr),Vr.flowing&&!Vr.reading&&Yr.read(0)}Dr.prototype.pause=function(){return cr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(cr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function zr(Yr){var Vr=Yr._readableState;for(cr("flow",Vr.flowing);Vr.flowing&&Yr.read()!==null;);}Dr.prototype.wrap=function(Yr){var Vr=this,Qr=this._readableState,un=!1;Yr.on("end",function(){if(cr("wrapped end"),Qr.decoder&&!Qr.ended){var Rn=Qr.decoder.end();Rn&&Rn.length&&Vr.push(Rn)}Vr.push(null)}),Yr.on("data",function(Rn){if(cr("wrapped data"),Qr.decoder&&(Rn=Qr.decoder.write(Rn)),!(Qr.objectMode&&Rn==null)&&!(!Qr.objectMode&&(!Rn||!Rn.length))){var On=Vr.push(Rn);On||(un=!0,Yr.pause())}});for(var yn in Yr)this[yn]===void 0&&typeof Yr[yn]=="function"&&(this[yn]=function(On){return function(){return Yr[On].apply(Yr,arguments)}}(yn));for(var An=0;An<Lr.length;An++)Yr.on(Lr[An],this.emit.bind(this,Lr[An]));return this._read=function(Rn){cr("wrapped _read",Rn),un&&(un=!1,Yr.resume())},this},typeof Symbol=="function"&&(Dr.prototype[Symbol.asyncIterator]=function(){return xr===void 0&&(xr=requireAsync_iterator()),xr(this)}),Object.defineProperty(Dr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Dr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Dr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Vr){this._readableState&&(this._readableState.flowing=Vr)}}),Dr._fromList=sn,Object.defineProperty(Dr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function sn(Yr,Vr){if(Vr.length===0)return null;var Qr;return Vr.objectMode?Qr=Vr.buffer.shift():!Yr||Yr>=Vr.length?(Vr.decoder?Qr=Vr.buffer.join(""):Vr.buffer.length===1?Qr=Vr.buffer.first():Qr=Vr.buffer.concat(Vr.length),Vr.buffer.clear()):Qr=Vr.buffer.consume(Yr,Vr.decoder),Qr}function rn(Yr){var Vr=Yr._readableState;cr("endReadable",Vr.endEmitted),Vr.endEmitted||(Vr.ended=!0,process.nextTick(tn,Vr,Yr))}function tn(Yr,Vr){if(cr("endReadableNT",Yr.endEmitted,Yr.length),!Yr.endEmitted&&Yr.length===0&&(Yr.endEmitted=!0,Vr.readable=!1,Vr.emit("end"),Yr.autoDestroy)){var Qr=Vr._writableState;(!Qr||Qr.autoDestroy&&Qr.finished)&&Vr.destroy()}}typeof Symbol=="function"&&(Dr.from=function(Yr,Vr){return Ir===void 0&&(Ir=requireFromBrowser()),Ir(Dr,Yr,Vr)});function dn(Yr,Vr){for(var Qr=0,un=Yr.length;Qr<un;Qr++)if(Yr[Qr]===Vr)return Qr;return-1}return _stream_readable}var _stream_transform=Transform$3,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex();inherits_browserExports(Transform$3,Duplex);function afterTransform(tr,er){var rr=this._transformState;rr.transforming=!1;var nr=rr.writecb;if(nr===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);rr.writechunk=null,rr.writecb=null,er!=null&&this.push(er),nr(tr);var ir=this._readableState;ir.reading=!1,(ir.needReadable||ir.length<ir.highWaterMark)&&this._read(ir.highWaterMark)}function Transform$3(tr){if(!(this instanceof Transform$3))return new Transform$3(tr);Duplex.call(this,tr),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,tr&&(typeof tr.transform=="function"&&(this._transform=tr.transform),typeof tr.flush=="function"&&(this._flush=tr.flush)),this.on("prefinish",prefinish)}function prefinish(){var tr=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(er,rr){done(tr,er,rr)}):done(this,null,null)}Transform$3.prototype.push=function(tr,er){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,tr,er)};Transform$3.prototype._transform=function(tr,er,rr){rr(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$3.prototype._write=function(tr,er,rr){var nr=this._transformState;if(nr.writecb=rr,nr.writechunk=tr,nr.writeencoding=er,!nr.transforming){var ir=this._readableState;(nr.needTransform||ir.needReadable||ir.length<ir.highWaterMark)&&this._read(ir.highWaterMark)}};Transform$3.prototype._read=function(tr){var er=this._transformState;er.writechunk!==null&&!er.transforming?(er.transforming=!0,this._transform(er.writechunk,er.writeencoding,er.afterTransform)):er.needTransform=!0};Transform$3.prototype._destroy=function(tr,er){Duplex.prototype._destroy.call(this,tr,function(rr){er(rr)})};function done(tr,er,rr){if(er)return tr.emit("error",er);if(rr!=null&&tr.push(rr),tr._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(tr._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return tr.push(null)}var _stream_passthrough=PassThrough,Transform$2=_stream_transform;inherits_browserExports(PassThrough,Transform$2);function PassThrough(tr){if(!(this instanceof PassThrough))return new PassThrough(tr);Transform$2.call(this,tr)}PassThrough.prototype._transform=function(tr,er,rr){rr(null,tr)};var eos;function once(tr){var er=!1;return function(){er||(er=!0,tr.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(tr){if(tr)throw tr}function isRequest(tr){return tr.setHeader&&typeof tr.abort=="function"}function destroyer(tr,er,rr,nr){nr=once(nr);var ir=!1;tr.on("close",function(){ir=!0}),eos===void 0&&(eos=endOfStream),eos(tr,{readable:er,writable:rr},function(sr){if(sr)return nr(sr);ir=!0,nr()});var or=!1;return function(sr){if(!ir&&!or){if(or=!0,isRequest(tr))return tr.abort();if(typeof tr.destroy=="function")return tr.destroy();nr(sr||new ERR_STREAM_DESTROYED("pipe"))}}}function call(tr){tr()}function pipe(tr,er){return tr.pipe(er)}function popCallback(tr){return!tr.length||typeof tr[tr.length-1]!="function"?noop:tr.pop()}function pipeline(){for(var tr=arguments.length,er=new Array(tr),rr=0;rr<tr;rr++)er[rr]=arguments[rr];var nr=popCallback(er);if(Array.isArray(er[0])&&(er=er[0]),er.length<2)throw new ERR_MISSING_ARGS("streams");var ir,or=er.map(function(sr,ar){var cr=ar<er.length-1,lr=ar>0;return destroyer(sr,cr,lr,function(ur){ir||(ir=ur),ur&&or.forEach(call),!cr&&(or.forEach(call),nr(ir))})});return er.reduce(pipe)}var pipeline_1=pipeline;(function(tr,er){er=tr.exports=require_stream_readable(),er.Stream=er,er.Readable=er,er.Writable=require_stream_writable(),er.Duplex=require_stream_duplex(),er.Transform=_stream_transform,er.PassThrough=_stream_passthrough,er.finished=endOfStream,er.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports;const{Transform:Transform$1}=readableBrowserExports;var keccak$2=tr=>class Vl extends Transform$1{constructor(rr,nr,ir,or,sr){super(sr),this._rate=rr,this._capacity=nr,this._delimitedSuffix=ir,this._hashBitLength=or,this._options=sr,this._state=new tr,this._state.initialize(rr,nr),this._finalized=!1}_transform(rr,nr,ir){let or=null;try{this.update(rr,nr)}catch(sr){or=sr}ir(or)}_flush(rr){let nr=null;try{this.push(this.digest())}catch(ir){nr=ir}rr(nr)}update(rr,nr){if(!Buffer.isBuffer(rr)&&typeof rr!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(rr)||(rr=Buffer.from(rr,nr)),this._state.absorb(rr),this}digest(rr){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let nr=this._state.squeeze(this._hashBitLength/8);return rr!==void 0&&(nr=nr.toString(rr)),this._resetState(),nr}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const rr=new Vl(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(rr._state),rr._finalized=this._finalized,rr}};const{Transform}=readableBrowserExports;var shake=tr=>class Wl extends Transform{constructor(rr,nr,ir,or){super(or),this._rate=rr,this._capacity=nr,this._delimitedSuffix=ir,this._options=or,this._state=new tr,this._state.initialize(rr,nr),this._finalized=!1}_transform(rr,nr,ir){let or=null;try{this.update(rr,nr)}catch(sr){or=sr}ir(or)}_flush(){}_read(rr){this.push(this.squeeze(rr))}update(rr,nr){if(!Buffer.isBuffer(rr)&&typeof rr!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(rr)||(rr=Buffer.from(rr,nr)),this._state.absorb(rr),this}squeeze(rr,nr){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let ir=this._state.squeeze(rr);return nr!==void 0&&(ir=ir.toString(nr)),ir}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const rr=new Wl(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(rr._state),rr._finalized=this._finalized,rr}};const createKeccak=keccak$2,createShake=shake;var api=function(tr){const er=createKeccak(tr),rr=createShake(tr);return function(nr,ir){switch(typeof nr=="string"?nr.toLowerCase():nr){case"keccak224":return new er(1152,448,null,224,ir);case"keccak256":return new er(1088,512,null,256,ir);case"keccak384":return new er(832,768,null,384,ir);case"keccak512":return new er(576,1024,null,512,ir);case"sha3-224":return new er(1152,448,6,224,ir);case"sha3-256":return new er(1088,512,6,256,ir);case"sha3-384":return new er(832,768,6,384,ir);case"sha3-512":return new er(576,1024,6,512,ir);case"shake128":return new rr(1344,256,31,ir);case"shake256":return new rr(1088,512,31,ir);default:throw new Error("Invald algorithm: "+nr)}}},keccakStateUnroll={};const P1600_ROUND_CONSTANTS=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];keccakStateUnroll.p1600=function(tr){for(let er=0;er<24;++er){const rr=tr[0]^tr[10]^tr[20]^tr[30]^tr[40],nr=tr[1]^tr[11]^tr[21]^tr[31]^tr[41],ir=tr[2]^tr[12]^tr[22]^tr[32]^tr[42],or=tr[3]^tr[13]^tr[23]^tr[33]^tr[43],sr=tr[4]^tr[14]^tr[24]^tr[34]^tr[44],ar=tr[5]^tr[15]^tr[25]^tr[35]^tr[45],cr=tr[6]^tr[16]^tr[26]^tr[36]^tr[46],lr=tr[7]^tr[17]^tr[27]^tr[37]^tr[47],ur=tr[8]^tr[18]^tr[28]^tr[38]^tr[48],fr=tr[9]^tr[19]^tr[29]^tr[39]^tr[49];let dr=ur^(ir<<1|or>>>31),gr=fr^(or<<1|ir>>>31);const br=tr[0]^dr,vr=tr[1]^gr,$r=tr[10]^dr,Er=tr[11]^gr,_r=tr[20]^dr,xr=tr[21]^gr,Ir=tr[30]^dr,Nr=tr[31]^gr,Lr=tr[40]^dr,jr=tr[41]^gr;dr=rr^(sr<<1|ar>>>31),gr=nr^(ar<<1|sr>>>31);const Or=tr[2]^dr,Dr=tr[3]^gr,Cr=tr[12]^dr,Tr=tr[13]^gr,yr=tr[22]^dr,mr=tr[23]^gr,hr=tr[32]^dr,pr=tr[33]^gr,wr=tr[42]^dr,Ar=tr[43]^gr;dr=ir^(cr<<1|lr>>>31),gr=or^(lr<<1|cr>>>31);const Rr=tr[4]^dr,Pr=tr[5]^gr,Sr=tr[14]^dr,Mr=tr[15]^gr,Br=tr[24]^dr,Ur=tr[25]^gr,Jr=tr[34]^dr,qr=tr[35]^gr,zr=tr[44]^dr,sn=tr[45]^gr;dr=sr^(ur<<1|fr>>>31),gr=ar^(fr<<1|ur>>>31);const rn=tr[6]^dr,tn=tr[7]^gr,dn=tr[16]^dr,Yr=tr[17]^gr,Vr=tr[26]^dr,Qr=tr[27]^gr,un=tr[36]^dr,yn=tr[37]^gr,An=tr[46]^dr,Rn=tr[47]^gr;dr=cr^(rr<<1|nr>>>31),gr=lr^(nr<<1|rr>>>31);const On=tr[8]^dr,xn=tr[9]^gr,Wn=tr[18]^dr,zn=tr[19]^gr,Fn=tr[28]^dr,so=tr[29]^gr,wn=tr[38]^dr,Sn=tr[39]^gr,Dn=tr[48]^dr,Xr=tr[49]^gr,Hr=br,Kr=vr,fn=Er<<4|$r>>>28,vn=$r<<4|Er>>>28,$n=_r<<3|xr>>>29,Tn=xr<<3|_r>>>29,Jn=Nr<<9|Ir>>>23,io=Ir<<9|Nr>>>23,Yn=Lr<<18|jr>>>14,lo=jr<<18|Lr>>>14,ro=Or<<1|Dr>>>31,ao=Dr<<1|Or>>>31,Mo=Tr<<12|Cr>>>20,Co=Cr<<12|Tr>>>20,mo=yr<<10|mr>>>22,No=mr<<10|yr>>>22,Po=pr<<13|hr>>>19,fo=hr<<13|pr>>>19,ko=wr<<2|Ar>>>30,pn=Ar<<2|wr>>>30,gn=Pr<<30|Rr>>>2,Bn=Rr<<30|Pr>>>2,Ln=Sr<<6|Mr>>>26,Mn=Mr<<6|Sr>>>26,So=Ur<<11|Br>>>21,Zr=Br<<11|Ur>>>21,an=Jr<<15|qr>>>17,cn=qr<<15|Jr>>>17,Fr=sn<<29|zr>>>3,hn=zr<<29|sn>>>3,En=rn<<28|tn>>>4,Pn=tn<<28|rn>>>4,In=Yr<<23|dn>>>9,kn=dn<<23|Yr>>>9,Hn=Vr<<25|Qr>>>7,Kn=Qr<<25|Vr>>>7,_o=un<<21|yn>>>11,Zn=yn<<21|un>>>11,ho=Rn<<24|An>>>8,go=An<<24|Rn>>>8,co=On<<27|xn>>>5,bo=xn<<27|On>>>5,uo=Wn<<20|zn>>>12,po=zn<<20|Wn>>>12,yo=so<<7|Fn>>>25,to=Fn<<7|so>>>25,oo=wn<<8|Sn>>>24,_i=Sn<<8|wn>>>24,no=Dn<<14|Xr>>>18,eo=Xr<<14|Dn>>>18;tr[0]=Hr^~Mo&So,tr[1]=Kr^~Co&Zr,tr[10]=En^~uo&$n,tr[11]=Pn^~po&Tn,tr[20]=ro^~Ln&Hn,tr[21]=ao^~Mn&Kn,tr[30]=co^~fn&mo,tr[31]=bo^~vn&No,tr[40]=gn^~In&yo,tr[41]=Bn^~kn&to,tr[2]=Mo^~So&_o,tr[3]=Co^~Zr&Zn,tr[12]=uo^~$n&Po,tr[13]=po^~Tn&fo,tr[22]=Ln^~Hn&oo,tr[23]=Mn^~Kn&_i,tr[32]=fn^~mo&an,tr[33]=vn^~No&cn,tr[42]=In^~yo&Jn,tr[43]=kn^~to&io,tr[4]=So^~_o&no,tr[5]=Zr^~Zn&eo,tr[14]=$n^~Po&Fr,tr[15]=Tn^~fo&hn,tr[24]=Hn^~oo&Yn,tr[25]=Kn^~_i&lo,tr[34]=mo^~an&ho,tr[35]=No^~cn&go,tr[44]=yo^~Jn&ko,tr[45]=to^~io&pn,tr[6]=_o^~no&Hr,tr[7]=Zn^~eo&Kr,tr[16]=Po^~Fr&En,tr[17]=fo^~hn&Pn,tr[26]=oo^~Yn&ro,tr[27]=_i^~lo&ao,tr[36]=an^~ho&co,tr[37]=cn^~go&bo,tr[46]=Jn^~ko&gn,tr[47]=io^~pn&Bn,tr[8]=no^~Hr&Mo,tr[9]=eo^~Kr&Co,tr[18]=Fr^~En&uo,tr[19]=hn^~Pn&po,tr[28]=Yn^~ro&Ln,tr[29]=lo^~ao&Mn,tr[38]=ho^~co&fn,tr[39]=go^~bo&vn,tr[48]=ko^~gn&In,tr[49]=pn^~Bn&kn,tr[0]^=P1600_ROUND_CONSTANTS[er*2],tr[1]^=P1600_ROUND_CONSTANTS[er*2+1]}};const keccakState=keccakStateUnroll;function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Keccak.prototype.initialize=function(tr,er){for(let rr=0;rr<50;++rr)this.state[rr]=0;this.blockSize=tr/8,this.count=0,this.squeezing=!1};Keccak.prototype.absorb=function(tr){for(let er=0;er<tr.length;++er)this.state[~~(this.count/4)]^=tr[er]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0)};Keccak.prototype.absorbLastFewBits=function(tr){this.state[~~(this.count/4)]^=tr<<8*(this.count%4),tr&128&&this.count===this.blockSize-1&&keccakState.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),keccakState.p1600(this.state),this.count=0,this.squeezing=!0};Keccak.prototype.squeeze=function(tr){this.squeezing||this.absorbLastFewBits(1);const er=Buffer.alloc(tr);for(let rr=0;rr<tr;++rr)er[rr]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(keccakState.p1600(this.state),this.count=0);return er};Keccak.prototype.copy=function(tr){for(let er=0;er<50;++er)tr.state[er]=this.state[er];tr.blockSize=this.blockSize,tr.count=this.count,tr.squeezing=this.squeezing};var keccak$1=Keccak,js=api(keccak$1);const createKeccakHash=js;function zeros(tr){return Buffer.allocUnsafe(tr).fill(0)}function bitLengthFromBigInt(tr){return tr.toString(2).length}function bufferBEFromBigInt(tr,er){let rr=tr.toString(16);rr.length%2!==0&&(rr="0"+rr);const nr=rr.match(/.{1,2}/g).map(ir=>parseInt(ir,16));for(;nr.length<er;)nr.unshift(0);return Buffer.from(nr)}function twosFromBigInt(tr,er){const rr=tr<0n;let nr;if(rr){const ir=(1n<<BigInt(er))-1n;nr=(~tr&ir)+1n}else nr=tr;return nr&=(1n<<BigInt(er))-1n,nr}function setLength(tr,er,rr){const nr=zeros(er);return tr=toBuffer(tr),rr?tr.length<er?(tr.copy(nr),nr):tr.slice(0,er):tr.length<er?(tr.copy(nr,er-tr.length),nr):tr.slice(-er)}function setLengthRight(tr,er){return setLength(tr,er,!0)}function toBuffer(tr){if(!Buffer.isBuffer(tr))if(Array.isArray(tr))tr=Buffer.from(tr);else if(typeof tr=="string")isHexString(tr)?tr=Buffer.from(padToEven(stripHexPrefix(tr)),"hex"):tr=Buffer.from(tr);else if(typeof tr=="number")tr=intToBuffer(tr);else if(tr==null)tr=Buffer.allocUnsafe(0);else if(typeof tr=="bigint")tr=bufferBEFromBigInt(tr);else if(tr.toArray)tr=Buffer.from(tr.toArray());else throw new Error("invalid type");return tr}function bufferToHex(tr){return tr=toBuffer(tr),"0x"+tr.toString("hex")}function keccak(tr,er){return tr=toBuffer(tr),er||(er=256),createKeccakHash("keccak"+er).update(tr).digest()}function padToEven(tr){return tr.length%2?"0"+tr:tr}function isHexString(tr){return typeof tr=="string"&&tr.match(/^0x[0-9A-Fa-f]*$/)}function stripHexPrefix(tr){return typeof tr=="string"&&tr.startsWith("0x")?tr.slice(2):tr}var util$4={zeros,setLength,setLengthRight,isHexString,stripHexPrefix,toBuffer,bufferToHex,keccak,bitLengthFromBigInt,bufferBEFromBigInt,twosFromBigInt};const util$3=util$4;function elementaryName(tr){return tr.startsWith("int[")?"int256"+tr.slice(3):tr==="int"?"int256":tr.startsWith("uint[")?"uint256"+tr.slice(4):tr==="uint"?"uint256":tr.startsWith("fixed[")?"fixed128x128"+tr.slice(5):tr==="fixed"?"fixed128x128":tr.startsWith("ufixed[")?"ufixed128x128"+tr.slice(6):tr==="ufixed"?"ufixed128x128":tr}function parseTypeN(tr){return parseInt(/^\D+(\d+)$/.exec(tr)[1],10)}function parseTypeNxM(tr){var er=/^\D+(\d+)x(\d+)$/.exec(tr);return[parseInt(er[1],10),parseInt(er[2],10)]}function parseTypeArray(tr){var er=tr.match(/(.*)\[(.*?)\]$/);return er?er[2]===""?"dynamic":parseInt(er[2],10):null}function parseNumber(tr){var er=typeof tr;if(er==="string"||er==="number")return BigInt(tr);if(er==="bigint")return tr;throw new Error("Argument is not a number")}function encodeSingle(tr,er){var rr,nr,ir,or;if(tr==="address")return encodeSingle("uint160",parseNumber(er));if(tr==="bool")return encodeSingle("uint8",er?1:0);if(tr==="string")return encodeSingle("bytes",new Buffer(er,"utf8"));if(isArray(tr)){if(typeof er.length>"u")throw new Error("Not an array?");if(rr=parseTypeArray(tr),rr!=="dynamic"&&rr!==0&&er.length>rr)throw new Error("Elements exceed array size: "+rr);ir=[],tr=tr.slice(0,tr.lastIndexOf("[")),typeof er=="string"&&(er=JSON.parse(er));for(or in er)ir.push(encodeSingle(tr,er[or]));if(rr==="dynamic"){var sr=encodeSingle("uint256",er.length);ir.unshift(sr)}return Buffer.concat(ir)}else{if(tr==="bytes")return er=new Buffer(er),ir=Buffer.concat([encodeSingle("uint256",er.length),er]),er.length%32!==0&&(ir=Buffer.concat([ir,util$3.zeros(32-er.length%32)])),ir;if(tr.startsWith("bytes")){if(rr=parseTypeN(tr),rr<1||rr>32)throw new Error("Invalid bytes<N> width: "+rr);return util$3.setLengthRight(er,32)}else if(tr.startsWith("uint")){if(rr=parseTypeN(tr),rr%8||rr<8||rr>256)throw new Error("Invalid uint<N> width: "+rr);nr=parseNumber(er);const ar=util$3.bitLengthFromBigInt(nr);if(ar>rr)throw new Error("Supplied uint exceeds width: "+rr+" vs "+ar);if(nr<0)throw new Error("Supplied uint is negative");return util$3.bufferBEFromBigInt(nr,32)}else if(tr.startsWith("int")){if(rr=parseTypeN(tr),rr%8||rr<8||rr>256)throw new Error("Invalid int<N> width: "+rr);nr=parseNumber(er);const ar=util$3.bitLengthFromBigInt(nr);if(ar>rr)throw new Error("Supplied int exceeds width: "+rr+" vs "+ar);const cr=util$3.twosFromBigInt(nr,256);return util$3.bufferBEFromBigInt(cr,32)}else if(tr.startsWith("ufixed")){if(rr=parseTypeNxM(tr),nr=parseNumber(er),nr<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",nr*BigInt(2)**BigInt(rr[1]))}else if(tr.startsWith("fixed"))return rr=parseTypeNxM(tr),encodeSingle("int256",parseNumber(er)*BigInt(2)**BigInt(rr[1]))}throw new Error("Unsupported or invalid type: "+tr)}function isDynamic(tr){return tr==="string"||tr==="bytes"||parseTypeArray(tr)==="dynamic"}function isArray(tr){return tr.lastIndexOf("]")===tr.length-1}function rawEncode(tr,er){var rr=[],nr=[],ir=32*tr.length;for(var or in tr){var sr=elementaryName(tr[or]),ar=er[or],cr=encodeSingle(sr,ar);isDynamic(sr)?(rr.push(encodeSingle("uint256",ir)),nr.push(cr),ir+=cr.length):rr.push(cr)}return Buffer.concat(rr.concat(nr))}function solidityPack(tr,er){if(tr.length!==er.length)throw new Error("Number of types are not matching the values");for(var rr,nr,ir=[],or=0;or<tr.length;or++){var sr=elementaryName(tr[or]),ar=er[or];if(sr==="bytes")ir.push(ar);else if(sr==="string")ir.push(new Buffer(ar,"utf8"));else if(sr==="bool")ir.push(new Buffer(ar?"01":"00","hex"));else if(sr==="address")ir.push(util$3.setLength(ar,20));else if(sr.startsWith("bytes")){if(rr=parseTypeN(sr),rr<1||rr>32)throw new Error("Invalid bytes<N> width: "+rr);ir.push(util$3.setLengthRight(ar,rr))}else if(sr.startsWith("uint")){if(rr=parseTypeN(sr),rr%8||rr<8||rr>256)throw new Error("Invalid uint<N> width: "+rr);nr=parseNumber(ar);const cr=util$3.bitLengthFromBigInt(nr);if(cr>rr)throw new Error("Supplied uint exceeds width: "+rr+" vs "+cr);ir.push(util$3.bufferBEFromBigInt(nr,rr/8))}else if(sr.startsWith("int")){if(rr=parseTypeN(sr),rr%8||rr<8||rr>256)throw new Error("Invalid int<N> width: "+rr);nr=parseNumber(ar);const cr=util$3.bitLengthFromBigInt(nr);if(cr>rr)throw new Error("Supplied int exceeds width: "+rr+" vs "+cr);const lr=util$3.twosFromBigInt(nr,rr);ir.push(util$3.bufferBEFromBigInt(lr,rr/8))}else throw new Error("Unsupported or invalid type: "+sr)}return Buffer.concat(ir)}function soliditySHA3(tr,er){return util$3.keccak(solidityPack(tr,er))}var abi$1={rawEncode,solidityPack,soliditySHA3};const util$2=util$4,abi=abi$1,TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},TypedDataUtils={encodeData(tr,er,rr,nr=!0){const ir=["bytes32"],or=[this.hashType(tr,rr)];if(nr){const sr=(ar,cr,lr)=>{if(rr[cr]!==void 0)return["bytes32",lr==null?"0x0000000000000000000000000000000000000000000000000000000000000000":util$2.keccak(this.encodeData(cr,lr,rr,nr))];if(lr===void 0)throw new Error(`missing value for field ${ar} of type ${cr}`);if(cr==="bytes")return["bytes32",util$2.keccak(lr)];if(cr==="string")return typeof lr=="string"&&(lr=Buffer.from(lr,"utf8")),["bytes32",util$2.keccak(lr)];if(cr.lastIndexOf("]")===cr.length-1){const ur=cr.slice(0,cr.lastIndexOf("[")),fr=lr.map(dr=>sr(ar,ur,dr));return["bytes32",util$2.keccak(abi.rawEncode(fr.map(([dr])=>dr),fr.map(([,dr])=>dr)))]}return[cr,lr]};for(const ar of rr[tr]){const[cr,lr]=sr(ar.name,ar.type,er[ar.name]);ir.push(cr),or.push(lr)}}else for(const sr of rr[tr]){let ar=er[sr.name];if(ar!==void 0)if(sr.type==="bytes")ir.push("bytes32"),ar=util$2.keccak(ar),or.push(ar);else if(sr.type==="string")ir.push("bytes32"),typeof ar=="string"&&(ar=Buffer.from(ar,"utf8")),ar=util$2.keccak(ar),or.push(ar);else if(rr[sr.type]!==void 0)ir.push("bytes32"),ar=util$2.keccak(this.encodeData(sr.type,ar,rr,nr)),or.push(ar);else{if(sr.type.lastIndexOf("]")===sr.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");ir.push(sr.type),or.push(ar)}}return abi.rawEncode(ir,or)},encodeType(tr,er){let rr="",nr=this.findTypeDependencies(tr,er).filter(ir=>ir!==tr);nr=[tr].concat(nr.sort());for(const ir of nr){if(!er[ir])throw new Error("No type definition specified: "+ir);rr+=ir+"("+er[ir].map(({name:sr,type:ar})=>ar+" "+sr).join(",")+")"}return rr},findTypeDependencies(tr,er,rr=[]){if(tr=tr.match(/^\w*/)[0],rr.includes(tr)||er[tr]===void 0)return rr;rr.push(tr);for(const nr of er[tr])for(const ir of this.findTypeDependencies(nr.type,er,rr))!rr.includes(ir)&&rr.push(ir);return rr},hashStruct(tr,er,rr,nr=!0){return util$2.keccak(this.encodeData(tr,er,rr,nr))},hashType(tr,er){return util$2.keccak(this.encodeType(tr,er))},sanitizeData(tr){const er={};for(const rr in TYPED_MESSAGE_SCHEMA.properties)tr[rr]&&(er[rr]=tr[rr]);return er.types&&(er.types=Object.assign({EIP712Domain:[]},er.types)),er},hash(tr,er=!0){const rr=this.sanitizeData(tr),nr=[Buffer.from("1901","hex")];return nr.push(this.hashStruct("EIP712Domain",rr.domain,rr.types,er)),rr.primaryType!=="EIP712Domain"&&nr.push(this.hashStruct(rr.primaryType,rr.message,rr.types,er)),util$2.keccak(Buffer.concat(nr))}};var ethEip712Util={TYPED_MESSAGE_SCHEMA,TypedDataUtils,hashForSignTypedDataLegacy:function(tr){return typedSignatureHashLegacy(tr.data)},hashForSignTypedData_v3:function(tr){return TypedDataUtils.hash(tr.data,!1)},hashForSignTypedData_v4:function(tr){return TypedDataUtils.hash(tr.data)}};function typedSignatureHashLegacy(tr){const er=new Error("Expect argument to be non-empty array");if(typeof tr!="object"||!tr.length)throw er;const rr=tr.map(function(or){return or.type==="bytes"?util$2.toBuffer(or.value):or.value}),nr=tr.map(function(or){return or.type}),ir=tr.map(function(or){if(!or.name)throw er;return or.type+" "+or.name});return abi.soliditySHA3(["bytes32","bytes32"],[abi.soliditySHA3(new Array(tr.length).fill("string"),ir),abi.soliditySHA3(nr,rr)])}var constants$1={};Object.defineProperty(constants$1,"__esModule",{value:!0});constants$1.APP_VERSION_KEY=constants$1.LOCAL_STORAGE_ADDRESSES_KEY=constants$1.WALLET_USER_NAME_KEY=void 0;constants$1.WALLET_USER_NAME_KEY="walletUsername";constants$1.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";constants$1.APP_VERSION_KEY="AppVersion";var RelayEventManager$1={};Object.defineProperty(RelayEventManager$1,"__esModule",{value:!0});RelayEventManager$1.RelayEventManager=void 0;const util_1$9=util$6;class RelayEventManager{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const er=this._nextRequestId,rr=(0,util_1$9.prepend0x)(er.toString(16));return this.callbacks.get(rr)&&this.callbacks.delete(rr),er}}RelayEventManager$1.RelayEventManager=RelayEventManager;var WalletLinkRelay$1={},WalletLinkConnection$1={},WalletLinkCipher$1={};Object.defineProperty(WalletLinkCipher$1,"__esModule",{value:!0});WalletLinkCipher$1.WalletLinkCipher=void 0;const util_1$8=util$6;class WalletLinkCipher{constructor(er){this.secret=er}async encrypt(er){const rr=this.secret;if(rr.length!==64)throw Error("secret must be 256 bits");const nr=crypto.getRandomValues(new Uint8Array(12)),ir=await crypto.subtle.importKey("raw",(0,util_1$8.hexStringToUint8Array)(rr),{name:"aes-gcm"},!1,["encrypt","decrypt"]),or=new TextEncoder,sr=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:nr},ir,or.encode(er)),ar=16,cr=sr.slice(sr.byteLength-ar),lr=sr.slice(0,sr.byteLength-ar),ur=new Uint8Array(cr),fr=new Uint8Array(lr),dr=new Uint8Array([...nr,...ur,...fr]);return(0,util_1$8.uint8ArrayToHex)(dr)}async decrypt(er){const rr=this.secret;if(rr.length!==64)throw Error("secret must be 256 bits");return new Promise((nr,ir)=>{(async function(){const or=await crypto.subtle.importKey("raw",(0,util_1$8.hexStringToUint8Array)(rr),{name:"aes-gcm"},!1,["encrypt","decrypt"]),sr=(0,util_1$8.hexStringToUint8Array)(er),ar=sr.slice(0,12),cr=sr.slice(12,28),lr=sr.slice(28),ur=new Uint8Array([...lr,...cr]),fr={name:"AES-GCM",iv:new Uint8Array(ar)};try{const dr=await window.crypto.subtle.decrypt(fr,or,ur),gr=new TextDecoder;nr(gr.decode(dr))}catch(dr){ir(dr)}})()})}}WalletLinkCipher$1.WalletLinkCipher=WalletLinkCipher;var WalletLinkHTTP$1={};Object.defineProperty(WalletLinkHTTP$1,"__esModule",{value:!0});WalletLinkHTTP$1.WalletLinkHTTP=void 0;class WalletLinkHTTP{constructor(er,rr,nr){this.linkAPIUrl=er,this.sessionId=rr;const ir=`${rr}:${nr}`;this.auth=`Basic ${btoa(ir)}`}async markUnseenEventsAsSeen(er){return Promise.all(er.map(rr=>fetch(`${this.linkAPIUrl}/events/${rr.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(rr=>console.error("Unabled to mark event as failed:",rr))}async fetchUnseenEvents(){var er;const rr=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(rr.ok){const{events:nr,error:ir}=await rr.json();if(ir)throw new Error(`Check unseen events failed: ${ir}`);const or=(er=nr?.filter(sr=>sr.event==="Web3Response").map(sr=>({type:"Event",sessionId:this.sessionId,eventId:sr.id,event:sr.event,data:sr.data})))!==null&&er!==void 0?er:[];return this.markUnseenEventsAsSeen(or),or}throw new Error(`Check unseen events failed: ${rr.status}`)}}WalletLinkHTTP$1.WalletLinkHTTP=WalletLinkHTTP;var WalletLinkWebSocket$1={};Object.defineProperty(WalletLinkWebSocket$1,"__esModule",{value:!0});WalletLinkWebSocket$1.WalletLinkWebSocket=WalletLinkWebSocket$1.ConnectionState=void 0;var ConnectionState;(function(tr){tr[tr.DISCONNECTED=0]="DISCONNECTED",tr[tr.CONNECTING=1]="CONNECTING",tr[tr.CONNECTED=2]="CONNECTED"})(ConnectionState||(WalletLinkWebSocket$1.ConnectionState=ConnectionState={}));class WalletLinkWebSocket{setConnectionStateListener(er){this.connectionStateListener=er}setIncomingDataListener(er){this.incomingDataListener=er}constructor(er,rr=WebSocket){this.WebSocketClass=rr,this.webSocket=null,this.pendingData=[],this.url=er.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((er,rr)=>{var nr;let ir;try{this.webSocket=ir=new this.WebSocketClass(this.url)}catch(or){rr(or);return}(nr=this.connectionStateListener)===null||nr===void 0||nr.call(this,ConnectionState.CONNECTING),ir.onclose=or=>{var sr;this.clearWebSocket(),rr(new Error(`websocket error ${or.code}: ${or.reason}`)),(sr=this.connectionStateListener)===null||sr===void 0||sr.call(this,ConnectionState.DISCONNECTED)},ir.onopen=or=>{var sr;er(),(sr=this.connectionStateListener)===null||sr===void 0||sr.call(this,ConnectionState.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(cr=>this.sendData(cr)),this.pendingData=[])},ir.onmessage=or=>{var sr,ar;if(or.data==="h")(sr=this.incomingDataListener)===null||sr===void 0||sr.call(this,{type:"Heartbeat"});else try{const cr=JSON.parse(or.data);(ar=this.incomingDataListener)===null||ar===void 0||ar.call(this,cr)}catch{}}})}disconnect(){var er;const{webSocket:rr}=this;if(rr){this.clearWebSocket(),(er=this.connectionStateListener)===null||er===void 0||er.call(this,ConnectionState.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{rr.close()}catch{}}}sendData(er){const{webSocket:rr}=this;if(!rr){this.pendingData.push(er),this.connect();return}rr.send(er)}clearWebSocket(){const{webSocket:er}=this;er&&(this.webSocket=null,er.onclose=null,er.onerror=null,er.onmessage=null,er.onopen=null)}}WalletLinkWebSocket$1.WalletLinkWebSocket=WalletLinkWebSocket;Object.defineProperty(WalletLinkConnection$1,"__esModule",{value:!0});WalletLinkConnection$1.WalletLinkConnection=void 0;const constants_1$4=constants$1,WalletLinkCipher_1=WalletLinkCipher$1,WalletLinkHTTP_1=WalletLinkHTTP$1,WalletLinkWebSocket_1=WalletLinkWebSocket$1,type_1$1=type,HEARTBEAT_INTERVAL=1e4,REQUEST_TIMEOUT=6e4;class WalletLinkConnection{constructor({session:er,linkAPIUrl:rr,listener:nr,WebSocketClass:ir=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,type_1$1.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=sr=>{if(!sr)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",cr=>sr.JsonRpcUrl&&this.handleChainUpdated(cr,sr.JsonRpcUrl)]]).forEach((cr,lr)=>{const ur=sr[lr];ur!==void 0&&cr(ur)})},this.handleDestroyed=sr=>{var ar;sr==="1"&&((ar=this.listener)===null||ar===void 0||ar.resetAndReload())},this.handleAccountUpdated=async sr=>{var ar;{const cr=await this.cipher.decrypt(sr);(ar=this.listener)===null||ar===void 0||ar.accountUpdated(cr)}},this.handleMetadataUpdated=async(sr,ar)=>{var cr;{const lr=await this.cipher.decrypt(ar);(cr=this.listener)===null||cr===void 0||cr.metadataUpdated(sr,lr)}},this.handleWalletUsernameUpdated=async sr=>{this.handleMetadataUpdated(constants_1$4.WALLET_USER_NAME_KEY,sr)},this.handleAppVersionUpdated=async sr=>{this.handleMetadataUpdated(constants_1$4.APP_VERSION_KEY,sr)},this.handleChainUpdated=async(sr,ar)=>{var cr;{const lr=await this.cipher.decrypt(sr),ur=await this.cipher.decrypt(ar);(cr=this.listener)===null||cr===void 0||cr.chainUpdated(lr,ur)}},this.session=er,this.cipher=new WalletLinkCipher_1.WalletLinkCipher(er.secret),this.listener=nr;const or=new WalletLinkWebSocket_1.WalletLinkWebSocket(`${rr}/rpc`,ir);or.setConnectionStateListener(async sr=>{let ar=!1;switch(sr){case WalletLinkWebSocket_1.ConnectionState.DISCONNECTED:if(!this.destroyed){const cr=async()=>{await new Promise(lr=>setTimeout(lr,5e3)),this.destroyed||or.connect().catch(()=>{cr()})};cr()}break;case WalletLinkWebSocket_1.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),ar=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},HEARTBEAT_INTERVAL),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case WalletLinkWebSocket_1.ConnectionState.CONNECTING:break}this.connected!==ar&&(this.connected=ar)}),or.setIncomingDataListener(sr=>{var ar;switch(sr.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const cr=sr.type==="IsLinkedOK"?sr.linked:void 0;this.linked=cr||sr.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(sr.metadata);break}case"Event":{this.handleIncomingEvent(sr);break}}sr.id!==void 0&&((ar=this.requestResolutions.get(sr.id))===null||ar===void 0||ar(sr))}),this.ws=or,this.http=new WalletLinkHTTP_1.WalletLinkHTTP(rr,er.id,er.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}destroy(){this.destroyed=!0,this.ws.disconnect(),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(er){var rr;this._connected=er,er&&((rr=this.onceConnected)===null||rr===void 0||rr.call(this))}setOnceConnected(er){return new Promise(rr=>{this.connected?er().then(rr):this.onceConnected=()=>{er().then(rr),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(er){var rr,nr;this._linked=er,er&&((rr=this.onceLinked)===null||rr===void 0||rr.call(this)),(nr=this.listener)===null||nr===void 0||nr.linkedUpdated(er)}setOnceLinked(er){return new Promise(rr=>{this.linked?er().then(rr):this.onceLinked=()=>{er().then(rr),this.onceLinked=void 0}})}async handleIncomingEvent(er){var rr;if(!(er.type!=="Event"||er.event!=="Web3Response")){const nr=await this.cipher.decrypt(er.data),ir=JSON.parse(nr);if(ir.type!=="WEB3_RESPONSE")return;(rr=this.listener)===null||rr===void 0||rr.handleWeb3ResponseMessage(ir)}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(er=>setTimeout(er,250));try{await this.fetchUnseenEventsAPI()}catch(er){console.error("Unable to check for unseen events",er)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(rr=>this.handleIncomingEvent(rr))}async setSessionMetadata(er,rr){const nr={type:"SetSessionConfig",id:(0,type_1$1.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[er]:rr}};return this.setOnceConnected(async()=>{const ir=await this.makeRequest(nr);if(ir.type==="Fail")throw new Error(ir.error||"failed to set session metadata")})}async publishEvent(er,rr,nr=!1){const ir=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},rr),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),or={type:"PublishEvent",id:(0,type_1$1.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:er,data:ir,callWebhook:nr};return this.setOnceLinked(async()=>{const sr=await this.makeRequest(or);if(sr.type==="Fail")throw new Error(sr.error||"failed to publish event");return sr.eventId})}sendData(er){this.ws.sendData(JSON.stringify(er))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>HEARTBEAT_INTERVAL*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(er,rr=REQUEST_TIMEOUT){const nr=er.id;this.sendData(er);let ir;return Promise.race([new Promise((or,sr)=>{ir=window.setTimeout(()=>{sr(new Error(`request ${nr} timed out`))},rr)}),new Promise(or=>{this.requestResolutions.set(nr,sr=>{clearTimeout(ir),or(sr),this.requestResolutions.delete(nr)})})])}async authenticate(){const er={type:"HostSession",id:(0,type_1$1.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},rr=await this.makeRequest(er);if(rr.type==="Fail")throw new Error(rr.error||"failed to authenticate")}sendIsLinked(){const er={type:"IsLinked",id:(0,type_1$1.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(er)}sendGetSessionConfig(){const er={type:"GetSessionConfig",id:(0,type_1$1.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(er)}}WalletLinkConnection$1.WalletLinkConnection=WalletLinkConnection;var WalletLinkSession$1={},sha_js={exports:{}},Buffer$7=safeBufferExports.Buffer;function Hash$6(tr,er){this._block=Buffer$7.alloc(tr),this._finalSize=er,this._blockSize=tr,this._len=0}Hash$6.prototype.update=function(tr,er){typeof tr=="string"&&(er=er||"utf8",tr=Buffer$7.from(tr,er));for(var rr=this._block,nr=this._blockSize,ir=tr.length,or=this._len,sr=0;sr<ir;){for(var ar=or%nr,cr=Math.min(ir-sr,nr-ar),lr=0;lr<cr;lr++)rr[ar+lr]=tr[sr+lr];or+=cr,sr+=cr,or%nr===0&&this._update(rr)}return this._len+=ir,this};Hash$6.prototype.digest=function(tr){var er=this._len%this._blockSize;this._block[er]=128,this._block.fill(0,er+1),er>=this._finalSize&&(this._update(this._block),this._block.fill(0));var rr=this._len*8;if(rr<=4294967295)this._block.writeUInt32BE(rr,this._blockSize-4);else{var nr=(rr&4294967295)>>>0,ir=(rr-nr)/4294967296;this._block.writeUInt32BE(ir,this._blockSize-8),this._block.writeUInt32BE(nr,this._blockSize-4)}this._update(this._block);var or=this._hash();return tr?or.toString(tr):or};Hash$6.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash=Hash$6,inherits$5=inherits_browserExports,Hash$5=hash,Buffer$6=safeBufferExports.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$5.call(this,64,56)}inherits$5(Sha,Hash$5);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(tr){return tr<<5|tr>>>27}function rotl30$1(tr){return tr<<30|tr>>>2}function ft$1(tr,er,rr,nr){return tr===0?er&rr|~er&nr:tr===2?er&rr|er&nr|rr&nr:er^rr^nr}Sha.prototype._update=function(tr){for(var er=this._w,rr=this._a|0,nr=this._b|0,ir=this._c|0,or=this._d|0,sr=this._e|0,ar=0;ar<16;++ar)er[ar]=tr.readInt32BE(ar*4);for(;ar<80;++ar)er[ar]=er[ar-3]^er[ar-8]^er[ar-14]^er[ar-16];for(var cr=0;cr<80;++cr){var lr=~~(cr/20),ur=rotl5$1(rr)+ft$1(lr,nr,ir,or)+sr+er[cr]+K$3[lr]|0;sr=or,or=ir,ir=rotl30$1(nr),nr=rr,rr=ur}this._a=rr+this._a|0,this._b=nr+this._b|0,this._c=ir+this._c|0,this._d=or+this._d|0,this._e=sr+this._e|0};Sha.prototype._hash=function(){var tr=Buffer$6.allocUnsafe(20);return tr.writeInt32BE(this._a|0,0),tr.writeInt32BE(this._b|0,4),tr.writeInt32BE(this._c|0,8),tr.writeInt32BE(this._d|0,12),tr.writeInt32BE(this._e|0,16),tr};var sha=Sha,inherits$4=inherits_browserExports,Hash$4=hash,Buffer$5=safeBufferExports.Buffer,K$2=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$4.call(this,64,56)}inherits$4(Sha1,Hash$4);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(tr){return tr<<1|tr>>>31}function rotl5(tr){return tr<<5|tr>>>27}function rotl30(tr){return tr<<30|tr>>>2}function ft(tr,er,rr,nr){return tr===0?er&rr|~er&nr:tr===2?er&rr|er&nr|rr&nr:er^rr^nr}Sha1.prototype._update=function(tr){for(var er=this._w,rr=this._a|0,nr=this._b|0,ir=this._c|0,or=this._d|0,sr=this._e|0,ar=0;ar<16;++ar)er[ar]=tr.readInt32BE(ar*4);for(;ar<80;++ar)er[ar]=rotl1(er[ar-3]^er[ar-8]^er[ar-14]^er[ar-16]);for(var cr=0;cr<80;++cr){var lr=~~(cr/20),ur=rotl5(rr)+ft(lr,nr,ir,or)+sr+er[cr]+K$2[lr]|0;sr=or,or=ir,ir=rotl30(nr),nr=rr,rr=ur}this._a=rr+this._a|0,this._b=nr+this._b|0,this._c=ir+this._c|0,this._d=or+this._d|0,this._e=sr+this._e|0};Sha1.prototype._hash=function(){var tr=Buffer$5.allocUnsafe(20);return tr.writeInt32BE(this._a|0,0),tr.writeInt32BE(this._b|0,4),tr.writeInt32BE(this._c|0,8),tr.writeInt32BE(this._d|0,12),tr.writeInt32BE(this._e|0,16),tr};var sha1=Sha1,inherits$3=inherits_browserExports,Hash$3=hash,Buffer$4=safeBufferExports.Buffer,K$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$3.call(this,64,56)}inherits$3(Sha256$1,Hash$3);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(tr,er,rr){return rr^tr&(er^rr)}function maj$1(tr,er,rr){return tr&er|rr&(tr|er)}function sigma0$1(tr){return(tr>>>2|tr<<30)^(tr>>>13|tr<<19)^(tr>>>22|tr<<10)}function sigma1$1(tr){return(tr>>>6|tr<<26)^(tr>>>11|tr<<21)^(tr>>>25|tr<<7)}function gamma0(tr){return(tr>>>7|tr<<25)^(tr>>>18|tr<<14)^tr>>>3}function gamma1(tr){return(tr>>>17|tr<<15)^(tr>>>19|tr<<13)^tr>>>10}Sha256$1.prototype._update=function(tr){for(var er=this._w,rr=this._a|0,nr=this._b|0,ir=this._c|0,or=this._d|0,sr=this._e|0,ar=this._f|0,cr=this._g|0,lr=this._h|0,ur=0;ur<16;++ur)er[ur]=tr.readInt32BE(ur*4);for(;ur<64;++ur)er[ur]=gamma1(er[ur-2])+er[ur-7]+gamma0(er[ur-15])+er[ur-16]|0;for(var fr=0;fr<64;++fr){var dr=lr+sigma1$1(sr)+ch(sr,ar,cr)+K$1[fr]+er[fr]|0,gr=sigma0$1(rr)+maj$1(rr,nr,ir)|0;lr=cr,cr=ar,ar=sr,sr=or+dr|0,or=ir,ir=nr,nr=rr,rr=dr+gr|0}this._a=rr+this._a|0,this._b=nr+this._b|0,this._c=ir+this._c|0,this._d=or+this._d|0,this._e=sr+this._e|0,this._f=ar+this._f|0,this._g=cr+this._g|0,this._h=lr+this._h|0};Sha256$1.prototype._hash=function(){var tr=Buffer$4.allocUnsafe(32);return tr.writeInt32BE(this._a,0),tr.writeInt32BE(this._b,4),tr.writeInt32BE(this._c,8),tr.writeInt32BE(this._d,12),tr.writeInt32BE(this._e,16),tr.writeInt32BE(this._f,20),tr.writeInt32BE(this._g,24),tr.writeInt32BE(this._h,28),tr};var sha256=Sha256$1,inherits$2=inherits_browserExports,Sha256=sha256,Hash$2=hash,Buffer$3=safeBufferExports.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$2.call(this,64,56)}inherits$2(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var tr=Buffer$3.allocUnsafe(28);return tr.writeInt32BE(this._a,0),tr.writeInt32BE(this._b,4),tr.writeInt32BE(this._c,8),tr.writeInt32BE(this._d,12),tr.writeInt32BE(this._e,16),tr.writeInt32BE(this._f,20),tr.writeInt32BE(this._g,24),tr};var sha224=Sha224,inherits$1=inherits_browserExports,Hash$1=hash,Buffer$2=safeBufferExports.Buffer,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$1.call(this,128,112)}inherits$1(Sha512,Hash$1);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(tr,er,rr){return rr^tr&(er^rr)}function maj(tr,er,rr){return tr&er|rr&(tr|er)}function sigma0(tr,er){return(tr>>>28|er<<4)^(er>>>2|tr<<30)^(er>>>7|tr<<25)}function sigma1(tr,er){return(tr>>>14|er<<18)^(tr>>>18|er<<14)^(er>>>9|tr<<23)}function Gamma0(tr,er){return(tr>>>1|er<<31)^(tr>>>8|er<<24)^tr>>>7}function Gamma0l(tr,er){return(tr>>>1|er<<31)^(tr>>>8|er<<24)^(tr>>>7|er<<25)}function Gamma1(tr,er){return(tr>>>19|er<<13)^(er>>>29|tr<<3)^tr>>>6}function Gamma1l(tr,er){return(tr>>>19|er<<13)^(er>>>29|tr<<3)^(tr>>>6|er<<26)}function getCarry(tr,er){return tr>>>0<er>>>0?1:0}Sha512.prototype._update=function(tr){for(var er=this._w,rr=this._ah|0,nr=this._bh|0,ir=this._ch|0,or=this._dh|0,sr=this._eh|0,ar=this._fh|0,cr=this._gh|0,lr=this._hh|0,ur=this._al|0,fr=this._bl|0,dr=this._cl|0,gr=this._dl|0,br=this._el|0,vr=this._fl|0,$r=this._gl|0,Er=this._hl|0,_r=0;_r<32;_r+=2)er[_r]=tr.readInt32BE(_r*4),er[_r+1]=tr.readInt32BE(_r*4+4);for(;_r<160;_r+=2){var xr=er[_r-30],Ir=er[_r-15*2+1],Nr=Gamma0(xr,Ir),Lr=Gamma0l(Ir,xr);xr=er[_r-2*2],Ir=er[_r-2*2+1];var jr=Gamma1(xr,Ir),Or=Gamma1l(Ir,xr),Dr=er[_r-7*2],Cr=er[_r-7*2+1],Tr=er[_r-16*2],yr=er[_r-16*2+1],mr=Lr+Cr|0,hr=Nr+Dr+getCarry(mr,Lr)|0;mr=mr+Or|0,hr=hr+jr+getCarry(mr,Or)|0,mr=mr+yr|0,hr=hr+Tr+getCarry(mr,yr)|0,er[_r]=hr,er[_r+1]=mr}for(var pr=0;pr<160;pr+=2){hr=er[pr],mr=er[pr+1];var wr=maj(rr,nr,ir),Ar=maj(ur,fr,dr),Rr=sigma0(rr,ur),Pr=sigma0(ur,rr),Sr=sigma1(sr,br),Mr=sigma1(br,sr),Br=K[pr],Ur=K[pr+1],Jr=Ch(sr,ar,cr),qr=Ch(br,vr,$r),zr=Er+Mr|0,sn=lr+Sr+getCarry(zr,Er)|0;zr=zr+qr|0,sn=sn+Jr+getCarry(zr,qr)|0,zr=zr+Ur|0,sn=sn+Br+getCarry(zr,Ur)|0,zr=zr+mr|0,sn=sn+hr+getCarry(zr,mr)|0;var rn=Pr+Ar|0,tn=Rr+wr+getCarry(rn,Pr)|0;lr=cr,Er=$r,cr=ar,$r=vr,ar=sr,vr=br,br=gr+zr|0,sr=or+sn+getCarry(br,gr)|0,or=ir,gr=dr,ir=nr,dr=fr,nr=rr,fr=ur,ur=zr+rn|0,rr=sn+tn+getCarry(ur,zr)|0}this._al=this._al+ur|0,this._bl=this._bl+fr|0,this._cl=this._cl+dr|0,this._dl=this._dl+gr|0,this._el=this._el+br|0,this._fl=this._fl+vr|0,this._gl=this._gl+$r|0,this._hl=this._hl+Er|0,this._ah=this._ah+rr+getCarry(this._al,ur)|0,this._bh=this._bh+nr+getCarry(this._bl,fr)|0,this._ch=this._ch+ir+getCarry(this._cl,dr)|0,this._dh=this._dh+or+getCarry(this._dl,gr)|0,this._eh=this._eh+sr+getCarry(this._el,br)|0,this._fh=this._fh+ar+getCarry(this._fl,vr)|0,this._gh=this._gh+cr+getCarry(this._gl,$r)|0,this._hh=this._hh+lr+getCarry(this._hl,Er)|0};Sha512.prototype._hash=function(){var tr=Buffer$2.allocUnsafe(64);function er(rr,nr,ir){tr.writeInt32BE(rr,ir),tr.writeInt32BE(nr,ir+4)}return er(this._ah,this._al,0),er(this._bh,this._bl,8),er(this._ch,this._cl,16),er(this._dh,this._dl,24),er(this._eh,this._el,32),er(this._fh,this._fl,40),er(this._gh,this._gl,48),er(this._hh,this._hl,56),tr};var sha512=Sha512,inherits=inherits_browserExports,SHA512=sha512,Hash=hash,Buffer$1=safeBufferExports.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}inherits(Sha384,SHA512);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var tr=Buffer$1.allocUnsafe(48);function er(rr,nr,ir){tr.writeInt32BE(rr,ir),tr.writeInt32BE(nr,ir+4)}return er(this._ah,this._al,0),er(this._bh,this._bl,8),er(this._ch,this._cl,16),er(this._dh,this._dl,24),er(this._eh,this._el,32),er(this._fh,this._fl,40),tr};var sha384=Sha384,exports=sha_js.exports=function tr(er){er=er.toLowerCase();var rr=exports[er];if(!rr)throw new Error(er+" is not supported (we accept pull requests)");return new rr};exports.sha=sha;exports.sha1=sha1;exports.sha224=sha224;exports.sha256=sha256;exports.sha384=sha384;exports.sha512=sha512;var sha_jsExports=sha_js.exports;Object.defineProperty(WalletLinkSession$1,"__esModule",{value:!0});WalletLinkSession$1.WalletLinkSession=void 0;const sha_js_1=sha_jsExports,util_1$7=util$6,STORAGE_KEY_SESSION_ID="session:id",STORAGE_KEY_SESSION_SECRET="session:secret",STORAGE_KEY_SESSION_LINKED="session:linked";class WalletLinkSession{constructor(er,rr,nr,ir){this._storage=er,this._id=rr||(0,util_1$7.randomBytesHex)(16),this._secret=nr||(0,util_1$7.randomBytesHex)(32),this._key=new sha_js_1.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!ir}static load(er){const rr=er.getItem(STORAGE_KEY_SESSION_ID),nr=er.getItem(STORAGE_KEY_SESSION_LINKED),ir=er.getItem(STORAGE_KEY_SESSION_SECRET);return rr&&ir?new WalletLinkSession(er,rr,ir,nr==="1"):null}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(er){this._linked=er,this.persistLinked()}save(){return this._storage.setItem(STORAGE_KEY_SESSION_ID,this._id),this._storage.setItem(STORAGE_KEY_SESSION_SECRET,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(STORAGE_KEY_SESSION_LINKED,this._linked?"1":"0")}}WalletLinkSession$1.WalletLinkSession=WalletLinkSession;var util$1={};Object.defineProperty(util$1,"__esModule",{value:!0});util$1.isDarkMode=util$1.isMobileWeb=util$1.getLocation=util$1.createQrUrl=void 0;function createQrUrl(tr,er,rr,nr,ir,or){const sr=nr?"parent-id":"id",ar=new URLSearchParams({[sr]:tr,secret:er,server:rr,v:ir,chainId:or.toString()}).toString();return`${rr}/#/link?${ar}`}util$1.createQrUrl=createQrUrl;function isInIFrame(){try{return window.frameElement!==null}catch{return!1}}function getLocation(){try{return isInIFrame()&&window.top?window.top.location:window.location}catch{return window.location}}util$1.getLocation=getLocation;function isMobileWeb(){var tr;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((tr=window?.navigator)===null||tr===void 0?void 0:tr.userAgent)}util$1.isMobileWeb=isMobileWeb;function isDarkMode(){var tr,er;return(er=(tr=window?.matchMedia)===null||tr===void 0?void 0:tr.call(window,"(prefers-color-scheme: dark)").matches)!==null&&er!==void 0?er:!1}util$1.isDarkMode=isDarkMode;var WalletLinkRelayUI$1={},cssReset={},cssResetCss={};Object.defineProperty(cssResetCss,"__esModule",{value:!0});cssResetCss.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(cssReset,"__esModule",{value:!0});cssReset.injectCssReset=void 0;const cssReset_css_1=__importDefault$3(cssResetCss);function injectCssReset(){const tr=document.createElement("style");tr.type="text/css",tr.appendChild(document.createTextNode(cssReset_css_1.default)),document.documentElement.appendChild(tr)}cssReset.injectCssReset=injectCssReset;var Snackbar={};function r$2(tr){var er,rr,nr="";if(typeof tr=="string"||typeof tr=="number")nr+=tr;else if(typeof tr=="object")if(Array.isArray(tr))for(er=0;er<tr.length;er++)tr[er]&&(rr=r$2(tr[er]))&&(nr&&(nr+=" "),nr+=rr);else for(er in tr)tr[er]&&(nr&&(nr+=" "),nr+=er);return nr}function clsx(){for(var tr,er,rr=0,nr="";rr<arguments.length;)(tr=arguments[rr++])&&(er=r$2(tr))&&(nr&&(nr+=" "),nr+=er);return nr}const clsx_m=Object.freeze(Object.defineProperty({__proto__:null,clsx,default:clsx},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(clsx_m);var n,l$1,u$1,t$1,i$1,o$1,r$1,f$1,e$1,c$1,s$1,a$1,h$1={},p$1=[],v$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y$1=Array.isArray;function d$1(tr,er){for(var rr in er)tr[rr]=er[rr];return tr}function w$1(tr){var er=tr.parentNode;er&&er.removeChild(tr)}function _$1(tr,er,rr){var nr,ir,or,sr={};for(or in er)or=="key"?nr=er[or]:or=="ref"?ir=er[or]:sr[or]=er[or];if(arguments.length>2&&(sr.children=arguments.length>3?n.call(arguments,2):rr),typeof tr=="function"&&tr.defaultProps!=null)for(or in tr.defaultProps)sr[or]===void 0&&(sr[or]=tr.defaultProps[or]);return g$1(tr,sr,nr,ir,null)}function g$1(tr,er,rr,nr,ir){var or={type:tr,props:er,key:rr,ref:nr,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:ir??++u$1,__i:-1,__u:0};return ir==null&&l$1.vnode!=null&&l$1.vnode(or),or}function m$1(){return{current:null}}function k$1(tr){return tr.children}function b$1(tr,er){this.props=tr,this.context=er}function x$1(tr,er){if(er==null)return tr.__?x$1(tr.__,tr.__i+1):null;for(var rr;er<tr.__k.length;er++)if((rr=tr.__k[er])!=null&&rr.__e!=null)return rr.__e;return typeof tr.type=="function"?x$1(tr):null}function C$1(tr){var er,rr;if((tr=tr.__)!=null&&tr.__c!=null){for(tr.__e=tr.__c.base=null,er=0;er<tr.__k.length;er++)if((rr=tr.__k[er])!=null&&rr.__e!=null){tr.__e=tr.__c.base=rr.__e;break}return C$1(tr)}}function M(tr){(!tr.__d&&(tr.__d=!0)&&i$1.push(tr)&&!P$1.__r++||o$1!==l$1.debounceRendering)&&((o$1=l$1.debounceRendering)||r$1)(P$1)}function P$1(){var tr,er,rr,nr,ir,or,sr,ar;for(i$1.sort(f$1);tr=i$1.shift();)tr.__d&&(er=i$1.length,nr=void 0,or=(ir=(rr=tr).__v).__e,sr=[],ar=[],rr.__P&&((nr=d$1({},ir)).__v=ir.__v+1,l$1.vnode&&l$1.vnode(nr),O(rr.__P,nr,ir,rr.__n,rr.__P.namespaceURI,32&ir.__u?[or]:null,sr,or??x$1(ir),!!(32&ir.__u),ar),nr.__v=ir.__v,nr.__.__k[nr.__i]=nr,j$1(sr,nr,ar),nr.__e!=or&&C$1(nr)),i$1.length>er&&i$1.sort(f$1));P$1.__r=0}function S(tr,er,rr,nr,ir,or,sr,ar,cr,lr,ur){var fr,dr,gr,br,vr,$r=nr&&nr.__k||p$1,Er=er.length;for(rr.__d=cr,$(rr,er,$r),cr=rr.__d,fr=0;fr<Er;fr++)(gr=rr.__k[fr])!=null&&typeof gr!="boolean"&&typeof gr!="function"&&(dr=gr.__i===-1?h$1:$r[gr.__i]||h$1,gr.__i=fr,O(tr,gr,dr,ir,or,sr,ar,cr,lr,ur),br=gr.__e,gr.ref&&dr.ref!=gr.ref&&(dr.ref&&N(dr.ref,null,gr),ur.push(gr.ref,gr.__c||br,gr)),vr==null&&br!=null&&(vr=br),65536&gr.__u||dr.__k===gr.__k?cr=I(gr,cr,tr):typeof gr.type=="function"&&gr.__d!==void 0?cr=gr.__d:br&&(cr=br.nextSibling),gr.__d=void 0,gr.__u&=-196609);rr.__d=cr,rr.__e=vr}function $(tr,er,rr){var nr,ir,or,sr,ar,cr=er.length,lr=rr.length,ur=lr,fr=0;for(tr.__k=[],nr=0;nr<cr;nr++)sr=nr+fr,(ir=tr.__k[nr]=(ir=er[nr])==null||typeof ir=="boolean"||typeof ir=="function"?null:typeof ir=="string"||typeof ir=="number"||typeof ir=="bigint"||ir.constructor==String?g$1(null,ir,null,null,null):y$1(ir)?g$1(k$1,{children:ir},null,null,null):ir.constructor===void 0&&ir.__b>0?g$1(ir.type,ir.props,ir.key,ir.ref?ir.ref:null,ir.__v):ir)!=null?(ir.__=tr,ir.__b=tr.__b+1,ar=L(ir,rr,sr,ur),ir.__i=ar,or=null,ar!==-1&&(ur--,(or=rr[ar])&&(or.__u|=131072)),or==null||or.__v===null?(ar==-1&&fr--,typeof ir.type!="function"&&(ir.__u|=65536)):ar!==sr&&(ar==sr-1?fr--:ar==sr+1?fr++:ar>sr?ur>cr-sr?fr+=ar-sr:fr--:ar<sr&&(ar==sr-fr?fr-=ar-sr:fr++),ar!==nr+fr&&(ir.__u|=65536))):(or=rr[sr])&&or.key==null&&or.__e&&!(131072&or.__u)&&(or.__e==tr.__d&&(tr.__d=x$1(or)),V(or,or,!1),rr[sr]=null,ur--);if(ur)for(nr=0;nr<lr;nr++)(or=rr[nr])!=null&&!(131072&or.__u)&&(or.__e==tr.__d&&(tr.__d=x$1(or)),V(or,or))}function I(tr,er,rr){var nr,ir;if(typeof tr.type=="function"){for(nr=tr.__k,ir=0;nr&&ir<nr.length;ir++)nr[ir]&&(nr[ir].__=tr,er=I(nr[ir],er,rr));return er}tr.__e!=er&&(er&&tr.type&&!rr.contains(er)&&(er=x$1(tr)),rr.insertBefore(tr.__e,er||null),er=tr.__e);do er=er&&er.nextSibling;while(er!=null&&er.nodeType===8);return er}function H(tr,er){return er=er||[],tr==null||typeof tr=="boolean"||(y$1(tr)?tr.some(function(rr){H(rr,er)}):er.push(tr)),er}function L(tr,er,rr,nr){var ir=tr.key,or=tr.type,sr=rr-1,ar=rr+1,cr=er[rr];if(cr===null||cr&&ir==cr.key&&or===cr.type&&!(131072&cr.__u))return rr;if(nr>(cr!=null&&!(131072&cr.__u)?1:0))for(;sr>=0||ar<er.length;){if(sr>=0){if((cr=er[sr])&&!(131072&cr.__u)&&ir==cr.key&&or===cr.type)return sr;sr--}if(ar<er.length){if((cr=er[ar])&&!(131072&cr.__u)&&ir==cr.key&&or===cr.type)return ar;ar++}}return-1}function T$1(tr,er,rr){er[0]==="-"?tr.setProperty(er,rr??""):tr[er]=rr==null?"":typeof rr!="number"||v$1.test(er)?rr:rr+"px"}function A$1(tr,er,rr,nr,ir){var or;e:if(er==="style")if(typeof rr=="string")tr.style.cssText=rr;else{if(typeof nr=="string"&&(tr.style.cssText=nr=""),nr)for(er in nr)rr&&er in rr||T$1(tr.style,er,"");if(rr)for(er in rr)nr&&rr[er]===nr[er]||T$1(tr.style,er,rr[er])}else if(er[0]==="o"&&er[1]==="n")or=er!==(er=er.replace(/(PointerCapture)$|Capture$/i,"$1")),er=er.toLowerCase()in tr||er==="onFocusOut"||er==="onFocusIn"?er.toLowerCase().slice(2):er.slice(2),tr.l||(tr.l={}),tr.l[er+or]=rr,rr?nr?rr.u=nr.u:(rr.u=e$1,tr.addEventListener(er,or?s$1:c$1,or)):tr.removeEventListener(er,or?s$1:c$1,or);else{if(ir=="http://www.w3.org/2000/svg")er=er.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(er!="width"&&er!="height"&&er!="href"&&er!="list"&&er!="form"&&er!="tabIndex"&&er!="download"&&er!="rowSpan"&&er!="colSpan"&&er!="role"&&er!="popover"&&er in tr)try{tr[er]=rr??"";break e}catch{}typeof rr=="function"||(rr==null||rr===!1&&er[4]!=="-"?tr.removeAttribute(er):tr.setAttribute(er,er=="popover"&&rr==1?"":rr))}}function F$1(tr){return function(er){if(this.l){var rr=this.l[er.type+tr];if(er.t==null)er.t=e$1++;else if(er.t<rr.u)return;return rr(l$1.event?l$1.event(er):er)}}}function O(tr,er,rr,nr,ir,or,sr,ar,cr,lr){var ur,fr,dr,gr,br,vr,$r,Er,_r,xr,Ir,Nr,Lr,jr,Or,Dr,Cr=er.type;if(er.constructor!==void 0)return null;128&rr.__u&&(cr=!!(32&rr.__u),or=[ar=er.__e=rr.__e]),(ur=l$1.__b)&&ur(er);e:if(typeof Cr=="function")try{if(Er=er.props,_r="prototype"in Cr&&Cr.prototype.render,xr=(ur=Cr.contextType)&&nr[ur.__c],Ir=ur?xr?xr.props.value:ur.__:nr,rr.__c?$r=(fr=er.__c=rr.__c).__=fr.__E:(_r?er.__c=fr=new Cr(Er,Ir):(er.__c=fr=new b$1(Er,Ir),fr.constructor=Cr,fr.render=q$1),xr&&xr.sub(fr),fr.props=Er,fr.state||(fr.state={}),fr.context=Ir,fr.__n=nr,dr=fr.__d=!0,fr.__h=[],fr._sb=[]),_r&&fr.__s==null&&(fr.__s=fr.state),_r&&Cr.getDerivedStateFromProps!=null&&(fr.__s==fr.state&&(fr.__s=d$1({},fr.__s)),d$1(fr.__s,Cr.getDerivedStateFromProps(Er,fr.__s))),gr=fr.props,br=fr.state,fr.__v=er,dr)_r&&Cr.getDerivedStateFromProps==null&&fr.componentWillMount!=null&&fr.componentWillMount(),_r&&fr.componentDidMount!=null&&fr.__h.push(fr.componentDidMount);else{if(_r&&Cr.getDerivedStateFromProps==null&&Er!==gr&&fr.componentWillReceiveProps!=null&&fr.componentWillReceiveProps(Er,Ir),!fr.__e&&(fr.shouldComponentUpdate!=null&&fr.shouldComponentUpdate(Er,fr.__s,Ir)===!1||er.__v===rr.__v)){for(er.__v!==rr.__v&&(fr.props=Er,fr.state=fr.__s,fr.__d=!1),er.__e=rr.__e,er.__k=rr.__k,er.__k.forEach(function(Tr){Tr&&(Tr.__=er)}),Nr=0;Nr<fr._sb.length;Nr++)fr.__h.push(fr._sb[Nr]);fr._sb=[],fr.__h.length&&sr.push(fr);break e}fr.componentWillUpdate!=null&&fr.componentWillUpdate(Er,fr.__s,Ir),_r&&fr.componentDidUpdate!=null&&fr.__h.push(function(){fr.componentDidUpdate(gr,br,vr)})}if(fr.context=Ir,fr.props=Er,fr.__P=tr,fr.__e=!1,Lr=l$1.__r,jr=0,_r){for(fr.state=fr.__s,fr.__d=!1,Lr&&Lr(er),ur=fr.render(fr.props,fr.state,fr.context),Or=0;Or<fr._sb.length;Or++)fr.__h.push(fr._sb[Or]);fr._sb=[]}else do fr.__d=!1,Lr&&Lr(er),ur=fr.render(fr.props,fr.state,fr.context),fr.state=fr.__s;while(fr.__d&&++jr<25);fr.state=fr.__s,fr.getChildContext!=null&&(nr=d$1(d$1({},nr),fr.getChildContext())),_r&&!dr&&fr.getSnapshotBeforeUpdate!=null&&(vr=fr.getSnapshotBeforeUpdate(gr,br)),S(tr,y$1(Dr=ur!=null&&ur.type===k$1&&ur.key==null?ur.props.children:ur)?Dr:[Dr],er,rr,nr,ir,or,sr,ar,cr,lr),fr.base=er.__e,er.__u&=-161,fr.__h.length&&sr.push(fr),$r&&(fr.__E=fr.__=null)}catch(Tr){if(er.__v=null,cr||or!=null){for(er.__u|=cr?160:32;ar&&ar.nodeType===8&&ar.nextSibling;)ar=ar.nextSibling;or[or.indexOf(ar)]=null,er.__e=ar}else er.__e=rr.__e,er.__k=rr.__k;l$1.__e(Tr,er,rr)}else or==null&&er.__v===rr.__v?(er.__k=rr.__k,er.__e=rr.__e):er.__e=z$1(rr.__e,er,rr,nr,ir,or,sr,cr,lr);(ur=l$1.diffed)&&ur(er)}function j$1(tr,er,rr){er.__d=void 0;for(var nr=0;nr<rr.length;nr++)N(rr[nr],rr[++nr],rr[++nr]);l$1.__c&&l$1.__c(er,tr),tr.some(function(ir){try{tr=ir.__h,ir.__h=[],tr.some(function(or){or.call(ir)})}catch(or){l$1.__e(or,ir.__v)}})}function z$1(tr,er,rr,nr,ir,or,sr,ar,cr){var lr,ur,fr,dr,gr,br,vr,$r=rr.props,Er=er.props,_r=er.type;if(_r==="svg"?ir="http://www.w3.org/2000/svg":_r==="math"?ir="http://www.w3.org/1998/Math/MathML":ir||(ir="http://www.w3.org/1999/xhtml"),or!=null){for(lr=0;lr<or.length;lr++)if((gr=or[lr])&&"setAttribute"in gr==!!_r&&(_r?gr.localName===_r:gr.nodeType===3)){tr=gr,or[lr]=null;break}}if(tr==null){if(_r===null)return document.createTextNode(Er);tr=document.createElementNS(ir,_r,Er.is&&Er),or=null,ar=!1}if(_r===null)$r===Er||ar&&tr.data===Er||(tr.data=Er);else{if(or=or&&n.call(tr.childNodes),$r=rr.props||h$1,!ar&&or!=null)for($r={},lr=0;lr<tr.attributes.length;lr++)$r[(gr=tr.attributes[lr]).name]=gr.value;for(lr in $r)if(gr=$r[lr],lr!="children"){if(lr=="dangerouslySetInnerHTML")fr=gr;else if(lr!=="key"&&!(lr in Er)){if(lr=="value"&&"defaultValue"in Er||lr=="checked"&&"defaultChecked"in Er)continue;A$1(tr,lr,null,gr,ir)}}for(lr in Er)gr=Er[lr],lr=="children"?dr=gr:lr=="dangerouslySetInnerHTML"?ur=gr:lr=="value"?br=gr:lr=="checked"?vr=gr:lr==="key"||ar&&typeof gr!="function"||$r[lr]===gr||A$1(tr,lr,gr,$r[lr],ir);if(ur)ar||fr&&(ur.__html===fr.__html||ur.__html===tr.innerHTML)||(tr.innerHTML=ur.__html),er.__k=[];else if(fr&&(tr.innerHTML=""),S(tr,y$1(dr)?dr:[dr],er,rr,nr,_r==="foreignObject"?"http://www.w3.org/1999/xhtml":ir,or,sr,or?or[0]:rr.__k&&x$1(rr,0),ar,cr),or!=null)for(lr=or.length;lr--;)or[lr]!=null&&w$1(or[lr]);ar||(lr="value",br!==void 0&&(br!==tr[lr]||_r==="progress"&&!br||_r==="option"&&br!==$r[lr])&&A$1(tr,lr,br,$r[lr],ir),lr="checked",vr!==void 0&&vr!==tr[lr]&&A$1(tr,lr,vr,$r[lr],ir))}return tr}function N(tr,er,rr){try{if(typeof tr=="function"){var nr=typeof tr.__u=="function";nr&&tr.__u(),nr&&er==null||(tr.__u=tr(er))}else tr.current=er}catch(ir){l$1.__e(ir,rr)}}function V(tr,er,rr){var nr,ir;if(l$1.unmount&&l$1.unmount(tr),(nr=tr.ref)&&(nr.current&&nr.current!==tr.__e||N(nr,null,er)),(nr=tr.__c)!=null){if(nr.componentWillUnmount)try{nr.componentWillUnmount()}catch(or){l$1.__e(or,er)}nr.base=nr.__P=null}if(nr=tr.__k)for(ir=0;ir<nr.length;ir++)nr[ir]&&V(nr[ir],er,rr||typeof tr.type!="function");rr||tr.__e==null||w$1(tr.__e),tr.__c=tr.__=tr.__e=tr.__d=void 0}function q$1(tr,er,rr){return this.constructor(tr,rr)}function B$1(tr,er,rr){var nr,ir,or,sr;l$1.__&&l$1.__(tr,er),ir=(nr=typeof rr=="function")?null:rr&&rr.__k||er.__k,or=[],sr=[],O(er,tr=(!nr&&rr||er).__k=_$1(k$1,null,[tr]),ir||h$1,h$1,er.namespaceURI,!nr&&rr?[rr]:ir?null:er.firstChild?n.call(er.childNodes):null,or,!nr&&rr?rr:ir?ir.__e:er.firstChild,nr,sr),j$1(or,tr,sr)}function D$1(tr,er){B$1(tr,er,D$1)}function E(tr,er,rr){var nr,ir,or,sr,ar=d$1({},tr.props);for(or in tr.type&&tr.type.defaultProps&&(sr=tr.type.defaultProps),er)or=="key"?nr=er[or]:or=="ref"?ir=er[or]:ar[or]=er[or]===void 0&&sr!==void 0?sr[or]:er[or];return arguments.length>2&&(ar.children=arguments.length>3?n.call(arguments,2):rr),g$1(tr.type,ar,nr||tr.key,ir||tr.ref,null)}function G(tr,er){var rr={__c:er="__cC"+a$1++,__:tr,Consumer:function(nr,ir){return nr.children(ir)},Provider:function(nr){var ir,or;return this.getChildContext||(ir=[],(or={})[er]=this,this.getChildContext=function(){return or},this.componentWillUnmount=function(){ir=null},this.shouldComponentUpdate=function(sr){this.props.value!==sr.value&&ir.some(function(ar){ar.__e=!0,M(ar)})},this.sub=function(sr){ir.push(sr);var ar=sr.componentWillUnmount;sr.componentWillUnmount=function(){ir&&ir.splice(ir.indexOf(sr),1),ar&&ar.call(sr)}}),nr.children}};return rr.Provider.__=rr.Consumer.contextType=rr}n=p$1.slice,l$1={__e:function(tr,er,rr,nr){for(var ir,or,sr;er=er.__;)if((ir=er.__c)&&!ir.__)try{if((or=ir.constructor)&&or.getDerivedStateFromError!=null&&(ir.setState(or.getDerivedStateFromError(tr)),sr=ir.__d),ir.componentDidCatch!=null&&(ir.componentDidCatch(tr,nr||{}),sr=ir.__d),sr)return ir.__E=ir}catch(ar){tr=ar}throw tr}},u$1=0,t$1=function(tr){return tr!=null&&tr.constructor==null},b$1.prototype.setState=function(tr,er){var rr;rr=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=d$1({},this.state),typeof tr=="function"&&(tr=tr(d$1({},rr),this.props)),tr&&d$1(rr,tr),tr!=null&&this.__v&&(er&&this._sb.push(er),M(this))},b$1.prototype.forceUpdate=function(tr){this.__v&&(this.__e=!0,tr&&this.__h.push(tr),M(this))},b$1.prototype.render=k$1,i$1=[],r$1=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$1=function(tr,er){return tr.__v.__b-er.__v.__b},P$1.__r=0,e$1=0,c$1=F$1(!1),s$1=F$1(!0),a$1=0;const preact_module=Object.freeze(Object.defineProperty({__proto__:null,Component:b$1,Fragment:k$1,cloneElement:E,createContext:G,createElement:_$1,createRef:m$1,h:_$1,hydrate:D$1,get isValidElement(){return t$1},get options(){return l$1},render:B$1,toChildArray:H},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(preact_module);var t,r,u,i,o=0,f=[],c=l$1,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function d(tr,er){c.__h&&c.__h(r,tr,o||er),o=0;var rr=r.__H||(r.__H={__:[],__h:[]});return tr>=rr.__.length&&rr.__.push({}),rr.__[tr]}function h(tr){return o=1,p(D,tr)}function p(tr,er,rr){var nr=d(t++,2);if(nr.t=tr,!nr.__c&&(nr.__=[rr?rr(er):D(void 0,er),function(ar){var cr=nr.__N?nr.__N[0]:nr.__[0],lr=nr.t(cr,ar);cr!==lr&&(nr.__N=[lr,nr.__[1]],nr.__c.setState({}))}],nr.__c=r,!r.u)){var ir=function(ar,cr,lr){if(!nr.__c.__H)return!0;var ur=nr.__c.__H.__.filter(function(dr){return!!dr.__c});if(ur.every(function(dr){return!dr.__N}))return!or||or.call(this,ar,cr,lr);var fr=!1;return ur.forEach(function(dr){if(dr.__N){var gr=dr.__[0];dr.__=dr.__N,dr.__N=void 0,gr!==dr.__[0]&&(fr=!0)}}),!(!fr&&nr.__c.props===ar)&&(!or||or.call(this,ar,cr,lr))};r.u=!0;var or=r.shouldComponentUpdate,sr=r.componentWillUpdate;r.componentWillUpdate=function(ar,cr,lr){if(this.__e){var ur=or;or=void 0,ir(ar,cr,lr),or=ur}sr&&sr.call(this,ar,cr,lr)},r.shouldComponentUpdate=ir}return nr.__N||nr.__}function y(tr,er){var rr=d(t++,3);!c.__s&&C(rr.__H,er)&&(rr.__=tr,rr.i=er,r.__H.__h.push(rr))}function _(tr,er){var rr=d(t++,4);!c.__s&&C(rr.__H,er)&&(rr.__=tr,rr.i=er,r.__h.push(rr))}function A(tr){return o=5,T(function(){return{current:tr}},[])}function F(tr,er,rr){o=6,_(function(){return typeof tr=="function"?(tr(er()),function(){return tr(null)}):tr?(tr.current=er(),function(){return tr.current=null}):void 0},rr==null?rr:rr.concat(tr))}function T(tr,er){var rr=d(t++,7);return C(rr.__H,er)&&(rr.__=tr(),rr.__H=er,rr.__h=tr),rr.__}function q(tr,er){return o=8,T(function(){return tr},er)}function x(tr){var er=r.context[tr.__c],rr=d(t++,9);return rr.c=tr,er?(rr.__==null&&(rr.__=!0,er.sub(r)),er.props.value):tr.__}function P(tr,er){c.useDebugValue&&c.useDebugValue(er?er(tr):tr)}function b(tr){var er=d(t++,10),rr=h();return er.__=tr,r.componentDidCatch||(r.componentDidCatch=function(nr,ir){er.__&&er.__(nr,ir),rr[1](nr)}),[rr[0],function(){rr[1](void 0)}]}function g(){var tr=d(t++,11);if(!tr.__){for(var er=r.__v;er!==null&&!er.__m&&er.__!==null;)er=er.__;var rr=er.__m||(er.__m=[0,0]);tr.__="P"+rr[0]+"-"+rr[1]++}return tr.__}function j(){for(var tr;tr=f.shift();)if(tr.__P&&tr.__H)try{tr.__H.__h.forEach(z),tr.__H.__h.forEach(B),tr.__H.__h=[]}catch(er){tr.__H.__h=[],c.__e(er,tr.__v)}}c.__b=function(tr){r=null,e&&e(tr)},c.__=function(tr,er){tr&&er.__k&&er.__k.__m&&(tr.__m=er.__k.__m),s&&s(tr,er)},c.__r=function(tr){a&&a(tr),t=0;var er=(r=tr.__c).__H;er&&(u===r?(er.__h=[],r.__h=[],er.__.forEach(function(rr){rr.__N&&(rr.__=rr.__N),rr.i=rr.__N=void 0})):(er.__h.forEach(z),er.__h.forEach(B),er.__h=[],t=0)),u=r},c.diffed=function(tr){v&&v(tr);var er=tr.__c;er&&er.__H&&(er.__H.__h.length&&(f.push(er)!==1&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),er.__H.__.forEach(function(rr){rr.i&&(rr.__H=rr.i),rr.i=void 0})),u=r=null},c.__c=function(tr,er){er.some(function(rr){try{rr.__h.forEach(z),rr.__h=rr.__h.filter(function(nr){return!nr.__||B(nr)})}catch(nr){er.some(function(ir){ir.__h&&(ir.__h=[])}),er=[],c.__e(nr,rr.__v)}}),l&&l(tr,er)},c.unmount=function(tr){m&&m(tr);var er,rr=tr.__c;rr&&rr.__H&&(rr.__H.__.forEach(function(nr){try{z(nr)}catch(ir){er=ir}}),rr.__H=void 0,er&&c.__e(er,rr.__v))};var k=typeof requestAnimationFrame=="function";function w(tr){var er,rr=function(){clearTimeout(nr),k&&cancelAnimationFrame(er),setTimeout(tr)},nr=setTimeout(rr,100);k&&(er=requestAnimationFrame(rr))}function z(tr){var er=r,rr=tr.__c;typeof rr=="function"&&(tr.__c=void 0,rr()),r=er}function B(tr){var er=r;tr.__c=tr.__(),r=er}function C(tr,er){return!tr||tr.length!==er.length||er.some(function(rr,nr){return rr!==tr[nr]})}function D(tr,er){return typeof er=="function"?er(tr):er}const hooks_module=Object.freeze(Object.defineProperty({__proto__:null,useCallback:q,useContext:x,useDebugValue:P,useEffect:y,useErrorBoundary:b,useId:g,useImperativeHandle:F,useLayoutEffect:_,useMemo:T,useReducer:p,useRef:A,useState:h},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(hooks_module);var SnackbarCss={};Object.defineProperty(SnackbarCss,"__esModule",{value:!0});SnackbarCss.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(tr){var er=commonjsGlobal&&commonjsGlobal.__importDefault||function(dr){return dr&&dr.__esModule?dr:{default:dr}};Object.defineProperty(tr,"__esModule",{value:!0}),tr.SnackbarInstance=tr.SnackbarContainer=tr.Snackbar=void 0;const rr=er(require$$0),nr=require$$1,ir=require$$2,or=util$1,sr=er(SnackbarCss),ar="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",cr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class lr{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=(0,or.isDarkMode)()}attach(gr){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",gr.appendChild(this.root),this.render()}presentItem(gr){const br=this.nextItemKey++;return this.items.set(br,gr),this.render(),()=>{this.items.delete(br),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,nr.render)((0,nr.h)("div",null,(0,nr.h)(tr.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([gr,br])=>(0,nr.h)(tr.SnackbarInstance,Object.assign({},br,{key:gr}))))),this.root)}}tr.Snackbar=lr;const ur=dr=>(0,nr.h)("div",{class:(0,rr.default)("-cbwsdk-snackbar-container")},(0,nr.h)("style",null,sr.default),(0,nr.h)("div",{class:"-cbwsdk-snackbar"},dr.children));tr.SnackbarContainer=ur;const fr=({autoExpand:dr,message:gr,menuItems:br})=>{const[vr,$r]=(0,ir.useState)(!0),[Er,_r]=(0,ir.useState)(dr??!1);(0,ir.useEffect)(()=>{const Ir=[window.setTimeout(()=>{$r(!1)},1),window.setTimeout(()=>{_r(!0)},1e4)];return()=>{Ir.forEach(window.clearTimeout)}});const xr=()=>{_r(!Er)};return(0,nr.h)("div",{class:(0,rr.default)("-cbwsdk-snackbar-instance",vr&&"-cbwsdk-snackbar-instance-hidden",Er&&"-cbwsdk-snackbar-instance-expanded")},(0,nr.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:xr},(0,nr.h)("img",{src:ar,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,nr.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},gr),(0,nr.h)("div",{class:"-gear-container"},!Er&&(0,nr.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,nr.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,nr.h)("img",{src:cr,class:"-gear-icon",title:"Expand"}))),br&&br.length>0&&(0,nr.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},br.map((Ir,Nr)=>(0,nr.h)("div",{class:(0,rr.default)("-cbwsdk-snackbar-instance-menu-item",Ir.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:Ir.onClick,key:Nr},(0,nr.h)("svg",{width:Ir.svgWidth,height:Ir.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,nr.h)("path",{"fill-rule":Ir.defaultFillRule,"clip-rule":Ir.defaultClipRule,d:Ir.path,fill:"#AAAAAA"})),(0,nr.h)("span",{class:(0,rr.default)("-cbwsdk-snackbar-instance-menu-item-info",Ir.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},Ir.info)))))};tr.SnackbarInstance=fr})(Snackbar);Object.defineProperty(WalletLinkRelayUI$1,"__esModule",{value:!0});WalletLinkRelayUI$1.WalletLinkRelayUI=void 0;const cssReset_1$1=cssReset,Snackbar_1$1=Snackbar;class WalletLinkRelayUI{constructor(){this.attached=!1,this.snackbar=new Snackbar_1$1.Snackbar}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const er=document.documentElement,rr=document.createElement("div");rr.className="-cbwsdk-css-reset",er.appendChild(rr),this.snackbar.attach(rr),this.attached=!0,(0,cssReset_1$1.injectCssReset)()}showConnecting(er){let rr;return er.isUnlinkedErrorState?rr={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:er.onResetConnection}]}:rr={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:er.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:er.onResetConnection}]},this.snackbar.presentItem(rr)}}WalletLinkRelayUI$1.WalletLinkRelayUI=WalletLinkRelayUI;var WLMobileRelayUI$1={},RedirectDialog$1={},RedirectDialogCss={};Object.defineProperty(RedirectDialogCss,"__esModule",{value:!0});RedirectDialogCss.default=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(RedirectDialog$1,"__esModule",{value:!0});RedirectDialog$1.RedirectDialog=void 0;const clsx_1=__importDefault$2(require$$0),preact_1=require$$1,cssReset_1=cssReset,Snackbar_1=Snackbar,util_1$6=util$1,RedirectDialog_css_1=__importDefault$2(RedirectDialogCss);class RedirectDialog{constructor(){this.root=null,this.darkMode=(0,util_1$6.isDarkMode)()}attach(){const er=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",er.appendChild(this.root),(0,cssReset_1.injectCssReset)()}present(er){this.render(er)}clear(){this.render(null)}render(er){this.root&&((0,preact_1.render)(null,this.root),er&&(0,preact_1.render)((0,preact_1.h)(RedirectDialogContent,Object.assign({},er,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}RedirectDialog$1.RedirectDialog=RedirectDialog;const RedirectDialogContent=({title:tr,buttonText:er,darkMode:rr,onButtonClick:nr,onDismiss:ir})=>{const or=rr?"dark":"light";return(0,preact_1.h)(Snackbar_1.SnackbarContainer,{darkMode:rr},(0,preact_1.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,preact_1.h)("style",null,RedirectDialog_css_1.default),(0,preact_1.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:ir}),(0,preact_1.h)("div",{class:(0,clsx_1.default)("-cbwsdk-redirect-dialog-box",or)},(0,preact_1.h)("p",null,tr),(0,preact_1.h)("button",{onClick:nr},er))))};var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.CBW_MOBILE_DEEPLINK_URL=constants.WALLETLINK_URL=constants.CB_KEYS_URL=void 0;constants.CB_KEYS_URL="https://keys.coinbase.com/connect";constants.WALLETLINK_URL="https://www.walletlink.org";constants.CBW_MOBILE_DEEPLINK_URL="https://go.cb-w.com/walletlink";Object.defineProperty(WLMobileRelayUI$1,"__esModule",{value:!0});WLMobileRelayUI$1.WLMobileRelayUI=void 0;const RedirectDialog_1=RedirectDialog$1,util_1$5=util$1,constants_1$3=constants;class WLMobileRelayUI{constructor(){this.attached=!1,this.redirectDialog=new RedirectDialog_1.RedirectDialog}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(er){const rr=new URL(constants_1$3.CBW_MOBILE_DEEPLINK_URL);rr.searchParams.append("redirect_url",(0,util_1$5.getLocation)().href),er&&rr.searchParams.append("wl_url",er);const nr=document.createElement("a");nr.target="cbw-opener",nr.href=rr.href,nr.rel="noreferrer noopener",nr.click()}openCoinbaseWalletDeeplink(er){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(er)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(er)},99)}showConnecting(er){return()=>{this.redirectDialog.clear()}}}WLMobileRelayUI$1.WLMobileRelayUI=WLMobileRelayUI;Object.defineProperty(WalletLinkRelay$1,"__esModule",{value:!0});WalletLinkRelay$1.WalletLinkRelay=void 0;const WalletLinkConnection_1=WalletLinkConnection$1,constants_1$2=constants$1,RelayEventManager_1$1=RelayEventManager$1,WalletLinkSession_1=WalletLinkSession$1,Web3Response_1$1=Web3Response,util_1$4=util$1,WalletLinkRelayUI_1=WalletLinkRelayUI$1,WLMobileRelayUI_1=WLMobileRelayUI$1,error_1$6=error,util_2$1=util$6,ScopedLocalStorage_1$4=ScopedLocalStorage$1;class WalletLinkRelay{constructor(er){this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.isMobileWeb=(0,util_1$4.isMobileWeb)(),this.appName="",this.appLogoUrl=null,this.linkedUpdated=or=>{this.isLinked=or;const sr=this.storage.getItem(constants_1$2.LOCAL_STORAGE_ADDRESSES_KEY);if(or&&(this._session.linked=or),this.isUnlinkedErrorState=!1,sr){const ar=sr.split(" "),cr=this.storage.getItem("IsStandaloneSigning")==="true";ar[0]!==""&&!or&&this._session.linked&&!cr&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(or,sr)=>{this.storage.setItem(or,sr)},this.chainUpdated=(or,sr)=>{this.chainCallbackParams.chainId===or&&this.chainCallbackParams.jsonRpcUrl===sr||(this.chainCallbackParams={chainId:or,jsonRpcUrl:sr},this.chainCallback&&this.chainCallback(or,sr))},this.accountUpdated=or=>{this.accountsCallback&&this.accountsCallback([or]),WalletLinkRelay.accountRequestCallbackIds.size>0&&(Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(sr=>{const ar={type:"WEB3_RESPONSE",id:sr,response:{method:"requestEthereumAccounts",result:[or]}};this.invokeCallback(Object.assign(Object.assign({},ar),{id:sr}))}),WalletLinkRelay.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=er.linkAPIUrl,this.storage=er.storage;const{session:rr,ui:nr,connection:ir}=this.subscribe();this._session=rr,this.connection=ir,this.relayEventManager=new RelayEventManager_1$1.RelayEventManager,this.ui=nr}subscribe(){const er=WalletLinkSession_1.WalletLinkSession.load(this.storage)||new WalletLinkSession_1.WalletLinkSession(this.storage).save(),{linkAPIUrl:rr}=this,nr=new WalletLinkConnection_1.WalletLinkConnection({session:er,linkAPIUrl:rr,listener:this}),ir=this.isMobileWeb?new WLMobileRelayUI_1.WLMobileRelayUI:new WalletLinkRelayUI_1.WalletLinkRelayUI;return nr.connect(),{session:er,ui:ir,connection:nr}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(er=>setTimeout(()=>er(null),1e3))]).then(()=>{this.connection.destroy();const er=WalletLinkSession_1.WalletLinkSession.load(this.storage);er?.id===this._session.id&&ScopedLocalStorage_1$4.ScopedLocalStorage.clearAll(),document.location.reload()}).catch(er=>{})}setAppInfo(er,rr){this.appName=er,this.appLogoUrl=rr}getStorageItem(er){return this.storage.getItem(er)}setStorageItem(er,rr){this.storage.setItem(er,rr)}signEthereumMessage(er,rr,nr,ir){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,util_2$1.hexStringFromBuffer)(er,!0),address:rr,addPrefix:nr,typedDataJson:ir||null}})}ethereumAddressFromSignedMessage(er,rr,nr){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,util_2$1.hexStringFromBuffer)(er,!0),signature:(0,util_2$1.hexStringFromBuffer)(rr,!0),addPrefix:nr}})}signEthereumTransaction(er){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:er.fromAddress,toAddress:er.toAddress,weiValue:(0,util_2$1.bigIntStringFromBigInt)(er.weiValue),data:(0,util_2$1.hexStringFromBuffer)(er.data,!0),nonce:er.nonce,gasPriceInWei:er.gasPriceInWei?(0,util_2$1.bigIntStringFromBigInt)(er.gasPriceInWei):null,maxFeePerGas:er.gasPriceInWei?(0,util_2$1.bigIntStringFromBigInt)(er.gasPriceInWei):null,maxPriorityFeePerGas:er.gasPriceInWei?(0,util_2$1.bigIntStringFromBigInt)(er.gasPriceInWei):null,gasLimit:er.gasLimit?(0,util_2$1.bigIntStringFromBigInt)(er.gasLimit):null,chainId:er.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(er){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:er.fromAddress,toAddress:er.toAddress,weiValue:(0,util_2$1.bigIntStringFromBigInt)(er.weiValue),data:(0,util_2$1.hexStringFromBuffer)(er.data,!0),nonce:er.nonce,gasPriceInWei:er.gasPriceInWei?(0,util_2$1.bigIntStringFromBigInt)(er.gasPriceInWei):null,maxFeePerGas:er.maxFeePerGas?(0,util_2$1.bigIntStringFromBigInt)(er.maxFeePerGas):null,maxPriorityFeePerGas:er.maxPriorityFeePerGas?(0,util_2$1.bigIntStringFromBigInt)(er.maxPriorityFeePerGas):null,gasLimit:er.gasLimit?(0,util_2$1.bigIntStringFromBigInt)(er.gasLimit):null,chainId:er.chainId,shouldSubmit:!0}})}submitEthereumTransaction(er,rr){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,util_2$1.hexStringFromBuffer)(er,!0),chainId:rr}})}scanQRCode(er){return this.sendRequest({method:"scanQRCode",params:{regExp:er}})}getWalletLinkSession(){return this._session}genericRequest(er,rr){return this.sendRequest({method:"generic",params:{action:rr,data:er}})}sendGenericMessage(er){return this.sendRequest(er)}sendRequest(er){let rr=null;const nr=(0,util_2$1.randomBytesHex)(8),ir=or=>{this.publishWeb3RequestCanceledEvent(nr),this.handleErrorResponse(nr,er.method,or),rr?.()};return new Promise((or,sr)=>{rr=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ir,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(nr,ar=>{if(rr?.(),(0,Web3Response_1$1.isErrorResponse)(ar))return sr(new Error(ar.errorMessage));or(ar)}),this.publishWeb3RequestEvent(nr,er)})}setAccountsCallback(er){this.accountsCallback=er}setChainCallback(er){this.chainCallback=er}setDappDefaultChainCallback(er){this.dappDefaultChain=er}publishWeb3RequestEvent(er,rr){const nr={type:"WEB3_REQUEST",id:er,request:rr};this.publishEvent("Web3Request",nr,!0).then(ir=>{}).catch(ir=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:nr.id,response:{method:rr.method,errorMessage:ir.message}})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(rr.method)}openCoinbaseWalletDeeplink(er){if(this.ui instanceof WLMobileRelayUI_1.WLMobileRelayUI)switch(er){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(er){const rr={type:"WEB3_REQUEST_CANCELED",id:er};this.publishEvent("Web3RequestCanceled",rr,!1).then()}publishEvent(er,rr,nr){return this.connection.publishEvent(er,rr,nr)}handleWeb3ResponseMessage(er){const{response:rr}=er;if(rr.method==="requestEthereumAccounts"){WalletLinkRelay.accountRequestCallbackIds.forEach(nr=>this.invokeCallback(Object.assign(Object.assign({},er),{id:nr}))),WalletLinkRelay.accountRequestCallbackIds.clear();return}this.invokeCallback(er)}handleErrorResponse(er,rr,nr){var ir;const or=(ir=nr?.message)!==null&&ir!==void 0?ir:"Unspecified error message.";this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:er,response:{method:rr,errorMessage:or}})}invokeCallback(er){const rr=this.relayEventManager.callbacks.get(er.id);rr&&(rr(er.response),this.relayEventManager.callbacks.delete(er.id))}requestEthereumAccounts(){const er={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},rr=(0,util_2$1.randomBytesHex)(8);return new Promise((nr,ir)=>{this.relayEventManager.callbacks.set(rr,or=>{if((0,Web3Response_1$1.isErrorResponse)(or))return ir(new Error(or.errorMessage));nr(or)}),WalletLinkRelay.accountRequestCallbackIds.add(rr),this.publishWeb3RequestEvent(rr,er)})}watchAsset(er,rr,nr,ir,or,sr){const ar={method:"watchAsset",params:{type:er,options:{address:rr,symbol:nr,decimals:ir,image:or},chainId:sr}};let cr=null;const lr=(0,util_2$1.randomBytesHex)(8),ur=fr=>{this.publishWeb3RequestCanceledEvent(lr),this.handleErrorResponse(lr,ar.method,fr),cr?.()};return cr=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ur,onResetConnection:this.resetAndReload}),new Promise((fr,dr)=>{this.relayEventManager.callbacks.set(lr,gr=>{if(cr?.(),(0,Web3Response_1$1.isErrorResponse)(gr))return dr(new Error(gr.errorMessage));fr(gr)}),this.publishWeb3RequestEvent(lr,ar)})}addEthereumChain(er,rr,nr,ir,or,sr){const ar={method:"addEthereumChain",params:{chainId:er,rpcUrls:rr,blockExplorerUrls:ir,chainName:or,iconUrls:nr,nativeCurrency:sr}};let cr=null;const lr=(0,util_2$1.randomBytesHex)(8),ur=fr=>{this.publishWeb3RequestCanceledEvent(lr),this.handleErrorResponse(lr,ar.method,fr),cr?.()};return cr=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:ur,onResetConnection:this.resetAndReload}),new Promise((fr,dr)=>{this.relayEventManager.callbacks.set(lr,gr=>{if(cr?.(),(0,Web3Response_1$1.isErrorResponse)(gr))return dr(new Error(gr.errorMessage));fr(gr)}),this.publishWeb3RequestEvent(lr,ar)})}switchEthereumChain(er,rr){const nr={method:"switchEthereumChain",params:Object.assign({chainId:er},{address:rr})},ir=(0,util_2$1.randomBytesHex)(8);return new Promise((or,sr)=>{this.relayEventManager.callbacks.set(ir,ar=>{if((0,Web3Response_1$1.isErrorResponse)(ar)&&ar.errorCode)return sr(error_1$6.standardErrors.provider.custom({code:ar.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,Web3Response_1$1.isErrorResponse)(ar))return sr(new Error(ar.errorMessage));or(ar)}),this.publishWeb3RequestEvent(ir,nr)})}}WalletLinkRelay$1.WalletLinkRelay=WalletLinkRelay;WalletLinkRelay.accountRequestCallbackIds=new Set;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(WalletLinkSigner$1,"__esModule",{value:!0});WalletLinkSigner$1.WalletLinkSigner=void 0;const eth_eip712_util_1=__importDefault$1(ethEip712Util),constants_1$1=constants$1,RelayEventManager_1=RelayEventManager$1,Web3Response_1=Web3Response,WalletLinkRelay_1=WalletLinkRelay$1,constants_2=constants,error_1$5=error,util_1$3=util$6,ScopedLocalStorage_1$3=ScopedLocalStorage$1,DEFAULT_CHAIN_ID_KEY="DefaultChainId",DEFAULT_JSON_RPC_URL="DefaultJsonRpcUrl";class WalletLinkSigner{constructor(er){var rr,nr;this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1;const{appName:ir,appLogoUrl:or}=er.metadata;this._appName=ir,this._appLogoUrl=or,this._storage=new ScopedLocalStorage_1$3.ScopedLocalStorage("walletlink",constants_2.WALLETLINK_URL),this.updateListener=er.updateListener,this._relayEventManager=new RelayEventManager_1.RelayEventManager,this._jsonRpcUrlFromOpts="";const sr=this._storage.getItem(constants_1$1.LOCAL_STORAGE_ADDRESSES_KEY);if(sr){const cr=sr.split(" ");cr[0]!==""&&(this._addresses=cr.map(lr=>(0,util_1$3.ensureAddressString)(lr)),(rr=this.updateListener)===null||rr===void 0||rr.onAccountsUpdate({accounts:this._addresses,source:"storage"}))}this._storage.getItem(DEFAULT_CHAIN_ID_KEY)&&((nr=this.updateListener)===null||nr===void 0||nr.onChainUpdate({chain:{id:this.getChainId(),rpcUrl:this.jsonRpcUrl},source:"storage"}),this.hasMadeFirstChainChangedEmission=!0),this.initializeRelay()}getSession(){const er=this.initializeRelay(),{id:rr,secret:nr}=er.getWalletLinkSession();return{id:rr,secret:nr}}async handshake(){return await this.request({method:"eth_requestAccounts"})}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var er;return(er=this._storage.getItem(DEFAULT_JSON_RPC_URL))!==null&&er!==void 0?er:this._jsonRpcUrlFromOpts}set jsonRpcUrl(er){this._storage.setItem(DEFAULT_JSON_RPC_URL,er)}updateProviderInfo(er,rr){var nr;this.jsonRpcUrl=er;const ir=this.getChainId();this._storage.setItem(DEFAULT_CHAIN_ID_KEY,rr.toString(10)),((0,util_1$3.ensureIntNumber)(rr)!==ir||!this.hasMadeFirstChainChangedEmission)&&((nr=this.updateListener)===null||nr===void 0||nr.onChainUpdate({chain:{id:rr,rpcUrl:er},source:"wallet"}),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(er,rr,nr,ir,or,sr){const cr=await this.initializeRelay().watchAsset(er,rr,nr,ir,or,sr?.toString());return(0,Web3Response_1.isErrorResponse)(cr)?!1:!!cr.result}async addEthereumChain(er,rr,nr,ir,or,sr){var ar,cr;if((0,util_1$3.ensureIntNumber)(er)===this.getChainId())return!1;const lr=this.initializeRelay();this._isAuthorized()||await lr.requestEthereumAccounts();const ur=await lr.addEthereumChain(er.toString(),rr,or,nr,ir,sr);return(0,Web3Response_1.isErrorResponse)(ur)?!1:(((ar=ur.result)===null||ar===void 0?void 0:ar.isApproved)===!0&&this.updateProviderInfo(rr[0],er),((cr=ur.result)===null||cr===void 0?void 0:cr.isApproved)===!0)}async switchEthereumChain(er){const nr=await this.initializeRelay().switchEthereumChain(er.toString(10),this.selectedAddress||void 0);if((0,Web3Response_1.isErrorResponse)(nr)){if(!nr.errorCode)return;throw nr.errorCode===error_1$5.standardErrorCodes.provider.unsupportedChain?error_1$5.standardErrors.provider.unsupportedChain():error_1$5.standardErrors.provider.custom({message:nr.errorMessage,code:nr.errorCode})}const ir=nr.result;ir.isApproved&&ir.rpcUrl.length>0&&this.updateProviderInfo(ir.rpcUrl,er)}async disconnect(){this._relay&&this._relay.resetAndReload(),this._storage.clear()}async request(er){try{return this._request(er).catch(rr=>{throw rr})}catch(rr){return Promise.reject(rr)}}async _request(er){if(!er||typeof er!="object"||Array.isArray(er))throw error_1$5.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:er});const{method:rr,params:nr}=er;if(typeof rr!="string"||rr.length===0)throw error_1$5.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:er});if(nr!==void 0&&!Array.isArray(nr)&&(typeof nr!="object"||nr===null))throw error_1$5.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:er});const ir=nr===void 0?[]:nr,or=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:rr,params:ir,jsonrpc:"2.0",id:or})).result}_setAddresses(er,rr){var nr;if(!Array.isArray(er))throw new Error("addresses is not an array");const ir=er.map(or=>(0,util_1$3.ensureAddressString)(or));JSON.stringify(ir)!==JSON.stringify(this._addresses)&&(this._addresses=ir,(nr=this.updateListener)===null||nr===void 0||nr.onAccountsUpdate({accounts:ir,source:"wallet"}),this._storage.setItem(constants_1$1.LOCAL_STORAGE_ADDRESSES_KEY,ir.join(" ")))}_sendRequestAsync(er){return new Promise((rr,nr)=>{try{const ir=this._handleSynchronousMethods(er);if(ir!==void 0)return rr({jsonrpc:"2.0",id:er.id,result:ir})}catch(ir){return nr(ir)}this._handleAsynchronousMethods(er).then(ir=>ir&&rr(Object.assign(Object.assign({},ir),{id:er.id}))).catch(ir=>nr(ir))})}_handleSynchronousMethods(er){const{method:rr}=er;switch(rr){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(er){const{method:rr}=er,nr=er.params||[];switch(rr){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(nr);case"eth_ecRecover":return this._eth_ecRecover(nr);case"personal_sign":return this._personal_sign(nr);case"personal_ecRecover":return this._personal_ecRecover(nr);case"eth_signTransaction":return this._eth_signTransaction(nr);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(nr);case"eth_sendTransaction":return this._eth_sendTransaction(nr);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(nr);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(nr);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(nr);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(nr);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(nr);case"wallet_watchAsset":return this._wallet_watchAsset(nr);default:return this._throwUnsupportedMethodError()}}_isKnownAddress(er){try{const rr=(0,util_1$3.ensureAddressString)(er);return this._addresses.map(ir=>(0,util_1$3.ensureAddressString)(ir)).includes(rr)}catch{}return!1}_ensureKnownAddress(er){if(!this._isKnownAddress(er))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(er){const rr=er.from?(0,util_1$3.ensureAddressString)(er.from):this.selectedAddress;if(!rr)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(rr);const nr=er.to?(0,util_1$3.ensureAddressString)(er.to):null,ir=er.value!=null?(0,util_1$3.ensureBigInt)(er.value):BigInt(0),or=er.data?(0,util_1$3.ensureBuffer)(er.data):Buffer.alloc(0),sr=er.nonce!=null?(0,util_1$3.ensureIntNumber)(er.nonce):null,ar=er.gasPrice!=null?(0,util_1$3.ensureBigInt)(er.gasPrice):null,cr=er.maxFeePerGas!=null?(0,util_1$3.ensureBigInt)(er.maxFeePerGas):null,lr=er.maxPriorityFeePerGas!=null?(0,util_1$3.ensureBigInt)(er.maxPriorityFeePerGas):null,ur=er.gas!=null?(0,util_1$3.ensureBigInt)(er.gas):null,fr=er.chainId?(0,util_1$3.ensureIntNumber)(er.chainId):this.getChainId();return{fromAddress:rr,toAddress:nr,weiValue:ir,data:or,nonce:sr,gasPriceInWei:ar,maxFeePerGas:cr,maxPriorityFeePerGas:lr,gasLimit:ur,chainId:fr}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw error_1$5.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw error_1$5.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(er,rr,nr,ir){this._ensureKnownAddress(rr);try{const sr=await this.initializeRelay().signEthereumMessage(er,rr,nr,ir);if((0,Web3Response_1.isErrorResponse)(sr))throw new Error(sr.errorMessage);return{jsonrpc:"2.0",id:0,result:sr.result}}catch(or){throw typeof or.message=="string"&&or.message.match(/(denied|rejected)/i)?error_1$5.standardErrors.provider.userRejectedRequest("User denied message signature"):or}}async _ethereumAddressFromSignedMessage(er,rr,nr){const or=await this.initializeRelay().ethereumAddressFromSignedMessage(er,rr,nr);if((0,Web3Response_1.isErrorResponse)(or))throw new Error(or.errorMessage);return{jsonrpc:"2.0",id:0,result:or.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,util_1$3.hexStringFromIntNumber)(this.getChainId())}getChainId(){const er=this._storage.getItem(DEFAULT_CHAIN_ID_KEY);if(!er)return(0,util_1$3.ensureIntNumber)(1);const rr=parseInt(er,10);return(0,util_1$3.ensureIntNumber)(rr)}async _eth_requestAccounts(){if(this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let er;try{if(er=await this.initializeRelay().requestEthereumAccounts(),(0,Web3Response_1.isErrorResponse)(er))throw new Error(er.errorMessage)}catch(rr){throw typeof rr.message=="string"&&rr.message.match(/(denied|rejected)/i)?error_1$5.standardErrors.provider.userRejectedRequest("User denied account authorization"):rr}if(!er.result)throw new Error("accounts received is empty");return this._setAddresses(er.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(er){this._requireAuthorization();const rr=(0,util_1$3.ensureAddressString)(er[0]),nr=(0,util_1$3.ensureBuffer)(er[1]);return this._signEthereumMessage(nr,rr,!1)}_eth_ecRecover(er){const rr=(0,util_1$3.ensureBuffer)(er[0]),nr=(0,util_1$3.ensureBuffer)(er[1]);return this._ethereumAddressFromSignedMessage(rr,nr,!1)}_personal_sign(er){this._requireAuthorization();const rr=(0,util_1$3.ensureBuffer)(er[0]),nr=(0,util_1$3.ensureAddressString)(er[1]);return this._signEthereumMessage(rr,nr,!0)}_personal_ecRecover(er){const rr=(0,util_1$3.ensureBuffer)(er[0]),nr=(0,util_1$3.ensureBuffer)(er[1]);return this._ethereumAddressFromSignedMessage(rr,nr,!0)}async _eth_signTransaction(er){this._requireAuthorization();const rr=this._prepareTransactionParams(er[0]||{});try{const ir=await this.initializeRelay().signEthereumTransaction(rr);if((0,Web3Response_1.isErrorResponse)(ir))throw new Error(ir.errorMessage);return{jsonrpc:"2.0",id:0,result:ir.result}}catch(nr){throw typeof nr.message=="string"&&nr.message.match(/(denied|rejected)/i)?error_1$5.standardErrors.provider.userRejectedRequest("User denied transaction signature"):nr}}async _eth_sendRawTransaction(er){const rr=(0,util_1$3.ensureBuffer)(er[0]),ir=await this.initializeRelay().submitEthereumTransaction(rr,this.getChainId());if((0,Web3Response_1.isErrorResponse)(ir))throw new Error(ir.errorMessage);return{jsonrpc:"2.0",id:0,result:ir.result}}async _eth_sendTransaction(er){this._requireAuthorization();const rr=this._prepareTransactionParams(er[0]||{});try{const ir=await this.initializeRelay().signAndSubmitEthereumTransaction(rr);if((0,Web3Response_1.isErrorResponse)(ir))throw new Error(ir.errorMessage);return{jsonrpc:"2.0",id:0,result:ir.result}}catch(nr){throw typeof nr.message=="string"&&nr.message.match(/(denied|rejected)/i)?error_1$5.standardErrors.provider.userRejectedRequest("User denied transaction signature"):nr}}async _eth_signTypedData_v1(er){this._requireAuthorization();const rr=(0,util_1$3.ensureParsedJSONObject)(er[0]),nr=(0,util_1$3.ensureAddressString)(er[1]);this._ensureKnownAddress(nr);const ir=eth_eip712_util_1.default.hashForSignTypedDataLegacy({data:rr}),or=JSON.stringify(rr,null,2);return this._signEthereumMessage(ir,nr,!1,or)}async _eth_signTypedData_v3(er){this._requireAuthorization();const rr=(0,util_1$3.ensureAddressString)(er[0]),nr=(0,util_1$3.ensureParsedJSONObject)(er[1]);this._ensureKnownAddress(rr);const ir=eth_eip712_util_1.default.hashForSignTypedData_v3({data:nr}),or=JSON.stringify(nr,null,2);return this._signEthereumMessage(ir,rr,!1,or)}async _eth_signTypedData_v4(er){this._requireAuthorization();const rr=(0,util_1$3.ensureAddressString)(er[0]),nr=(0,util_1$3.ensureParsedJSONObject)(er[1]);this._ensureKnownAddress(rr);const ir=eth_eip712_util_1.default.hashForSignTypedData_v4({data:nr}),or=JSON.stringify(nr,null,2);return this._signEthereumMessage(ir,rr,!1,or)}async _wallet_addEthereumChain(er){var rr,nr,ir,or;const sr=er[0];if(((rr=sr.rpcUrls)===null||rr===void 0?void 0:rr.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!sr.chainName||sr.chainName.trim()==="")throw error_1$5.standardErrors.rpc.invalidParams("chainName is a required field");if(!sr.nativeCurrency)throw error_1$5.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const ar=parseInt(sr.chainId,16);return await this.addEthereumChain(ar,(nr=sr.rpcUrls)!==null&&nr!==void 0?nr:[],(ir=sr.blockExplorerUrls)!==null&&ir!==void 0?ir:[],sr.chainName,(or=sr.iconUrls)!==null&&or!==void 0?or:[],sr.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(er){const rr=er[0];return await this.switchEthereumChain(parseInt(rr.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(er){const rr=Array.isArray(er)?er[0]:er;if(!rr.type)throw error_1$5.standardErrors.rpc.invalidParams("Type is required");if(rr?.type!=="ERC20")throw error_1$5.standardErrors.rpc.invalidParams(`Asset of type '${rr.type}' is not supported`);if(!rr?.options)throw error_1$5.standardErrors.rpc.invalidParams("Options are required");if(!rr?.options.address)throw error_1$5.standardErrors.rpc.invalidParams("Address is required");const nr=this.getChainId(),{address:ir,symbol:or,image:sr,decimals:ar}=rr.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(rr.type,ir,or,ar,sr,nr)}}initializeRelay(){if(!this._relay){const er=new WalletLinkRelay_1.WalletLinkRelay({linkAPIUrl:constants_2.WALLETLINK_URL,storage:this._storage});er.setAppInfo(this._appName,this._appLogoUrl),er.attachUI(),er.setAccountsCallback((rr,nr)=>this._setAddresses(rr,nr)),er.setChainCallback((rr,nr)=>{this.updateProviderInfo(nr,parseInt(rr,10))}),this._relay=er}return this._relay}}WalletLinkSigner$1.WalletLinkSigner=WalletLinkSigner;var provider={};Object.defineProperty(provider,"__esModule",{value:!0});provider.checkErrorForInvalidRequestArgs=provider.getCoinbaseInjectedProvider=provider.getCoinbaseInjectedSigner=provider.fetchRPCRequest=void 0;const version_1$2=version,error_1$4=error;async function fetchRPCRequest(tr,er){if(!er.rpcUrl)throw error_1$4.standardErrors.rpc.internal("No RPC URL set for chain");const rr=Object.assign(Object.assign({},tr),{jsonrpc:"2.0",id:crypto.randomUUID()});return(await(await window.fetch(er.rpcUrl,{method:"POST",body:JSON.stringify(rr),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":version_1$2.LIB_VERSION}})).json()).result}provider.fetchRPCRequest=fetchRPCRequest;function getCoinbaseInjectedSigner(){return globalThis.coinbaseWalletSigner}provider.getCoinbaseInjectedSigner=getCoinbaseInjectedSigner;function getCoinbaseInjectedLegacyProvider(){return globalThis.coinbaseWalletExtension}function getInjectedEthereum(){var tr,er;try{const rr=globalThis;return(tr=rr.ethereum)!==null&&tr!==void 0?tr:(er=rr.top)===null||er===void 0?void 0:er.ethereum}catch{return}}function getCoinbaseInjectedProvider({metadata:tr,preference:er}){var rr;if(er.options!=="smartWalletOnly"){if(getCoinbaseInjectedSigner())return;const or=getCoinbaseInjectedLegacyProvider();if(or){const{appName:sr,appLogoUrl:ar,appChainIds:cr}=tr;return(rr=or.setAppInfo)===null||rr===void 0||rr.call(or,sr,ar,cr),or}}const nr=getInjectedEthereum();if(nr?.isCoinbaseBrowser)return nr}provider.getCoinbaseInjectedProvider=getCoinbaseInjectedProvider;function checkErrorForInvalidRequestArgs(tr){if(!tr||typeof tr!="object"||Array.isArray(tr))return error_1$4.standardErrors.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:tr});const{method:er,params:rr}=tr;if(typeof er!="string"||er.length===0)return error_1$4.standardErrors.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:tr});if(rr!==void 0&&!Array.isArray(rr)&&(typeof rr!="object"||rr===null))return error_1$4.standardErrors.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:tr})}provider.checkErrorForInvalidRequestArgs=checkErrorForInvalidRequestArgs;Object.defineProperty(util$5,"__esModule",{value:!0});util$5.createSigner=util$5.fetchSignerType=util$5.storeSignerType=util$5.loadSignerType=void 0;const SCWSigner_1=SCWSigner$1,WalletLinkSigner_1=WalletLinkSigner$1,error_1$3=error,provider_1$2=provider,ScopedLocalStorage_1$2=ScopedLocalStorage$1,SIGNER_TYPE_KEY="SignerType",storage=new ScopedLocalStorage_1$2.ScopedLocalStorage("CBWSDK","SignerConfigurator");function loadSignerType(){return storage.getItem(SIGNER_TYPE_KEY)}util$5.loadSignerType=loadSignerType;function storeSignerType(tr){storage.setItem(SIGNER_TYPE_KEY,tr)}util$5.storeSignerType=storeSignerType;async function fetchSignerType(tr){const{communicator:er,metadata:rr}=tr;listenForWalletLinkSessionRequest(er,rr).catch(()=>{});const nr={id:crypto.randomUUID(),event:"selectSignerType",data:tr.preference},{data:ir}=await er.postRequestAndWaitForResponse(nr);return ir}util$5.fetchSignerType=fetchSignerType;function createSigner(tr){const{signerType:er,metadata:rr,communicator:nr,updateListener:ir}=tr;switch(er){case"scw":return new SCWSigner_1.SCWSigner({metadata:rr,updateListener:ir,communicator:nr});case"walletlink":return new WalletLinkSigner_1.WalletLinkSigner({metadata:rr,updateListener:ir});case"extension":{const or=(0,provider_1$2.getCoinbaseInjectedSigner)();if(!or)throw error_1$3.standardErrors.rpc.internal("injected signer not found");return or}}}util$5.createSigner=createSigner;async function listenForWalletLinkSessionRequest(tr,er){await tr.onMessage(({event:nr})=>nr==="WalletLinkSessionRequest");const rr=new WalletLinkSigner_1.WalletLinkSigner({metadata:er});tr.postMessage({event:"WalletLinkUpdate",data:{session:rr.getSession()}}),await rr.handshake(),tr.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var Communicator$1={},util={};Object.defineProperty(util,"__esModule",{value:!0});util.closePopup=util.openPopup=void 0;const error_1$2=error,POPUP_WIDTH=420,POPUP_HEIGHT=540;function openPopup(tr){const er=(window.innerWidth-POPUP_WIDTH)/2+window.screenX,rr=(window.innerHeight-POPUP_HEIGHT)/2+window.screenY,nr=window.open(tr,"Smart Wallet",`width=${POPUP_WIDTH}, height=${POPUP_HEIGHT}, left=${er}, top=${rr}`);if(nr?.focus(),!nr)throw error_1$2.standardErrors.rpc.internal("Pop up window failed to open");return nr}util.openPopup=openPopup;function closePopup(tr){tr&&!tr.closed&&tr.close()}util.closePopup=closePopup;Object.defineProperty(Communicator$1,"__esModule",{value:!0});Communicator$1.Communicator=void 0;const version_1$1=version,util_1$2=util,constants_1=constants,error_1$1=error;class Communicator{constructor(er=constants_1.CB_KEYS_URL){this.popup=null,this.listeners=new Map,this.postMessage=async rr=>{(await this.waitForPopupLoaded()).postMessage(rr,this.url.origin)},this.postRequestAndWaitForResponse=async rr=>{const nr=this.onMessage(({requestId:ir})=>ir===rr.id);return this.postMessage(rr),await nr},this.onMessage=async rr=>new Promise((nr,ir)=>{const or=sr=>{if(sr.origin!==this.url.origin)return;const ar=sr.data;rr(ar)&&(nr(ar),window.removeEventListener("message",or),this.listeners.delete(or))};window.addEventListener("message",or),this.listeners.set(or,{reject:ir})}),this.disconnect=()=>{(0,util_1$2.closePopup)(this.popup),this.popup=null,this.listeners.forEach(({reject:rr},nr)=>{rr(error_1$1.standardErrors.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",nr)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=(0,util_1$2.openPopup)(this.url),this.onMessage(({event:rr})=>rr==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:rr})=>rr==="PopupLoaded").then(rr=>{this.postMessage({requestId:rr.id,data:{version:version_1$1.LIB_VERSION}})}).then(()=>{if(!this.popup)throw error_1$1.standardErrors.rpc.internal();return this.popup})),this.url=new URL(er)}}Communicator$1.Communicator=Communicator;var method={};Object.defineProperty(method,"__esModule",{value:!0});method.determineMethodCategory=void 0;const mapping={handshake:["eth_requestAccounts"],sign:["eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus"],state:["eth_chainId","eth_accounts","eth_coinbase","net_version"],deprecated:["eth_sign","eth_signTypedData_v2"],unsupported:["eth_subscribe","eth_unsubscribe"],fetch:[]};function determineMethodCategory(tr){for(const er in mapping){const rr=er;if(mapping[rr].includes(tr))return rr}}method.determineMethodCategory=determineMethodCategory;var __rest=commonjsGlobal&&commonjsGlobal.__rest||function(tr,er){var rr={};for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&er.indexOf(nr)<0&&(rr[nr]=tr[nr]);if(tr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ir=0,nr=Object.getOwnPropertySymbols(tr);ir<nr.length;ir++)er.indexOf(nr[ir])<0&&Object.prototype.propertyIsEnumerable.call(tr,nr[ir])&&(rr[nr[ir]]=tr[nr[ir]]);return rr},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(tr){return tr&&tr.__esModule?tr:{default:tr}};Object.defineProperty(CoinbaseWalletProvider$1,"__esModule",{value:!0});CoinbaseWalletProvider$1.CoinbaseWalletProvider=void 0;const eventemitter3_1=__importDefault(eventemitter3Exports),error_1=error,serialize_1=serialize,type_1=type,util_1$1=util$6,util_2=util$5,provider_1$1=provider,Communicator_1=Communicator$1,method_1=method,ScopedLocalStorage_1$1=ScopedLocalStorage$1;class CoinbaseWalletProvider extends eventemitter3_1.default{constructor(er){var rr,nr,{metadata:ir}=er,or=er.preference,{keysUrl:sr}=or,ar=__rest(or,["keysUrl"]);super(),this.accounts=[],this.handlers={handshake:async lr=>{try{if(this.connected)return this.emit("connect",{chainId:(0,util_1$1.hexStringFromIntNumber)((0,type_1.IntNumber)(this.chain.id))}),this.accounts;const ur=await this.requestSignerSelection(),fr=this.initSigner(ur),dr=await fr.handshake();return this.signer=fr,(0,util_2.storeSignerType)(ur),this.emit("connect",{chainId:(0,util_1$1.hexStringFromIntNumber)((0,type_1.IntNumber)(this.chain.id))}),dr}catch(ur){throw this.handleUnauthorizedError(ur),ur}},sign:async lr=>{if(!this.connected||!this.signer)throw error_1.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");try{return await this.signer.request(lr)}catch(ur){throw this.handleUnauthorizedError(ur),ur}},fetch:lr=>(0,provider_1$1.fetchRPCRequest)(lr,this.chain),state:lr=>{const ur=()=>{if(this.connected)return this.accounts;throw error_1.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")};switch(lr.method){case"eth_chainId":return(0,util_1$1.hexStringFromIntNumber)((0,type_1.IntNumber)(this.chain.id));case"net_version":return this.chain.id;case"eth_accounts":return ur();case"eth_coinbase":return ur()[0];default:return this.handlers.unsupported(lr)}},deprecated:({method:lr})=>{throw error_1.standardErrors.rpc.methodNotSupported(`Method ${lr} is deprecated.`)},unsupported:({method:lr})=>{throw error_1.standardErrors.rpc.methodNotSupported(`Method ${lr} is not supported.`)}},this.isCoinbaseWallet=!0,this.updateListener={onAccountsUpdate:({accounts:lr,source:ur})=>{(0,util_1$1.areAddressArraysEqual)(this.accounts,lr)||(this.accounts=lr,ur!=="storage"&&this.emit("accountsChanged",this.accounts))},onChainUpdate:({chain:lr,source:ur})=>{lr.id===this.chain.id&&lr.rpcUrl===this.chain.rpcUrl||(this.chain=lr,ur!=="storage"&&this.emit("chainChanged",(0,util_1$1.hexStringFromIntNumber)((0,type_1.IntNumber)(lr.id))))}},this.metadata=ir,this.preference=ar,this.communicator=new Communicator_1.Communicator(sr),this.chain={id:(nr=(rr=ir.appChainIds)===null||rr===void 0?void 0:rr[0])!==null&&nr!==void 0?nr:1};const cr=(0,util_2.loadSignerType)();this.signer=cr?this.initSigner(cr):null}get connected(){return this.accounts.length>0}async request(er){var rr;try{const nr=(0,provider_1$1.checkErrorForInvalidRequestArgs)(er);if(nr)throw nr;const ir=(rr=(0,method_1.determineMethodCategory)(er.method))!==null&&rr!==void 0?rr:"fetch";return this.handlers[ir](er)}catch(nr){return Promise.reject((0,serialize_1.serializeError)(nr,er.method))}}handleUnauthorizedError(er){er.code===error_1.standardErrorCodes.provider.unauthorized&&this.disconnect()}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){this.accounts=[],this.chain={id:1},ScopedLocalStorage_1$1.ScopedLocalStorage.clearAll(),this.emit("disconnect",error_1.standardErrors.provider.disconnected("User initiated disconnection"))}requestSignerSelection(){return(0,util_2.fetchSignerType)({communicator:this.communicator,preference:this.preference,metadata:this.metadata})}initSigner(er){return(0,util_2.createSigner)({signerType:er,metadata:this.metadata,communicator:this.communicator,updateListener:this.updateListener})}}CoinbaseWalletProvider$1.CoinbaseWalletProvider=CoinbaseWalletProvider;Object.defineProperty(CoinbaseWalletSDK$2,"__esModule",{value:!0});CoinbaseWalletSDK$2.CoinbaseWalletSDK=void 0;const wallet_logo_1=walletLogo$1,CoinbaseWalletProvider_1=CoinbaseWalletProvider$1,ScopedLocalStorage_1=ScopedLocalStorage$1,version_1=version,util_1=util$6,provider_1=provider;let CoinbaseWalletSDK$1=class{constructor(er){this.metadata={appName:er.appName||"Dapp",appLogoUrl:er.appLogoUrl||(0,util_1.getFavicon)(),appChainIds:er.appChainIds||[]},this.storeLatestVersion()}makeWeb3Provider(er={options:"all"}){var rr;const nr={metadata:this.metadata,preference:er};return(rr=(0,provider_1.getCoinbaseInjectedProvider)(nr))!==null&&rr!==void 0?rr:new CoinbaseWalletProvider_1.CoinbaseWalletProvider(nr)}getCoinbaseWalletLogo(er,rr=240){return(0,wallet_logo_1.walletLogo)(er,rr)}storeLatestVersion(){new ScopedLocalStorage_1.ScopedLocalStorage("CBWSDK").setItem("VERSION",version_1.LIB_VERSION)}};CoinbaseWalletSDK$2.CoinbaseWalletSDK=CoinbaseWalletSDK$1;(function(tr){Object.defineProperty(tr,"__esModule",{value:!0}),tr.CoinbaseWalletSDK=void 0;const er=CoinbaseWalletSDK$2;tr.default=er.CoinbaseWalletSDK;var rr=CoinbaseWalletSDK$2;Object.defineProperty(tr,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return rr.CoinbaseWalletSDK}})})(dist);const CoinbaseWalletSDK=getDefaultExportFromCjs(dist);class BaseEvmAdapter extends BaseAdapter{async init(er){this.chainConfig||(this.chainConfig=getChainConfig(CHAIN_NAMESPACES.EIP155,1))}async authenticateUser(){if(!this.provider||this.status!==ADAPTER_STATUS.CONNECTED)throw WalletLoginError.notConnectedError();const{chainNamespace:er,chainId:rr}=this.chainConfig,nr=await this.provider.request({method:"eth_accounts"});if(nr&&nr.length>0){const ir=getSavedToken(nr[0],this.name);if(ir&&!checkIfTokenIsExpired(ir))return{idToken:ir};const or={domain:window.location.origin,uri:window.location.href,address:nr[0],chainId:parseInt(rr,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},sr=await signChallenge(or,er),ar=`0x${Buffer.from(sr,"utf8").toString("hex")}`,cr=await this.provider.request({method:"personal_sign",params:[ar,nr[0]]}),lr=await verifySignedChallenge(er,cr,sr,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return saveToken(nr[0],this.name,lr),{idToken:lr}}throw WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const er=await this.provider.request({method:"eth_accounts"});er&&er.length>0&&clearToken(er[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(ADAPTER_EVENTS.DISCONNECTED)}}class CoinbaseAdapter extends BaseEvmAdapter{constructor(er={}){super(er),_defineProperty(this,"adapterNamespace",ADAPTER_NAMESPACES.EIP155),_defineProperty(this,"currentChainNamespace",CHAIN_NAMESPACES.EIP155),_defineProperty(this,"type",ADAPTER_CATEGORY.EXTERNAL),_defineProperty(this,"name",WALLET_ADAPTERS.COINBASE),_defineProperty(this,"status",ADAPTER_STATUS.NOT_READY),_defineProperty(this,"coinbaseInstance",null),_defineProperty(this,"coinbaseProvider",null),_defineProperty(this,"coinbaseOptions",{appName:"Web3Auth"}),this.setAdapterSettings(er)}get provider(){return this.status!==ADAPTER_STATUS.NOT_READY&&this.coinbaseProvider?this.coinbaseProvider:null}set provider(er){throw new Error("Not implemented")}setAdapterSettings(er){super.setAdapterSettings(er),this.coinbaseOptions=_objectSpread2(_objectSpread2({},this.coinbaseOptions),er.adapterSettings)}async init(er={}){await super.init(er),super.checkInitializationRequirements(),this.coinbaseInstance=new CoinbaseWalletSDK(_objectSpread2(_objectSpread2({},this.coinbaseOptions),{},{appChainIds:[Number.parseInt(this.chainConfig.chainId,16)]})),this.coinbaseProvider=this.coinbaseInstance.makeWeb3Provider({options:this.coinbaseOptions.options||"all"}),this.status=ADAPTER_STATUS.READY,this.emit(ADAPTER_EVENTS.READY,WALLET_ADAPTERS.COINBASE);try{er.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(rr){this.emit(ADAPTER_EVENTS.ERRORED,rr)}}async connect(){if(super.checkConnectionRequirements(),!this.coinbaseProvider)throw WalletLoginError.notConnectedError("Adapter is not initialized");this.status=ADAPTER_STATUS.CONNECTING,this.emit(ADAPTER_EVENTS.CONNECTING,{adapter:WALLET_ADAPTERS.COINBASE});try{if(await this.coinbaseProvider.request({method:"eth_requestAccounts"}),await this.coinbaseProvider.request({method:"eth_chainId"})!==this.chainConfig.chainId&&(await this.addChain(this.chainConfig),await this.switchChain(this.chainConfig,!0)),this.status=ADAPTER_STATUS.CONNECTED,!this.provider)throw WalletLoginError.notConnectedError("Failed to connect with provider");return this.provider.once("disconnect",()=>{this.disconnect()}),this.emit(ADAPTER_EVENTS.CONNECTED,{adapter:WALLET_ADAPTERS.COINBASE,reconnected:this.rehydrated,provider:this.provider}),this.provider}catch(er){throw this.status=ADAPTER_STATUS.READY,this.rehydrated=!1,this.emit(ADAPTER_EVENTS.ERRORED,er),er instanceof Web3AuthError?er:WalletLoginError.connectionError("Failed to login with coinbase wallet",er)}}async disconnect(er={cleanup:!1}){var rr;await super.disconnectSession(),(rr=this.provider)===null||rr===void 0||rr.removeAllListeners(),er.cleanup?(this.status=ADAPTER_STATUS.NOT_READY,this.coinbaseProvider=null):this.status=ADAPTER_STATUS.READY,await super.disconnect()}async getUserInfo(){if(this.status!==ADAPTER_STATUS.CONNECTED)throw WalletLoginError.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(er,rr=!1){super.checkAddChainRequirements(er,rr),await this.coinbaseProvider.request({method:"wallet_addEthereumChain",params:[{chainId:er.chainId,chainName:er.displayName,rpcUrls:[er.rpcTarget],blockExplorerUrls:[er.blockExplorerUrl],nativeCurrency:{name:er.tickerName,symbol:er.ticker,decimals:er.decimals||18},iconUrls:[er.logo]}]}),super.addChainConfig(er)}async switchChain(er,rr=!1){super.checkSwitchChainRequirements(er,rr),await this.coinbaseProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:er.chainId}]}),this.setAdapterSettings({chainConfig:this.getChainConfig(er.chainId)})}async enableMFA(){throw new Error("Method Not implemented")}}const clientId="BBP-UuLBs-tTUxp4PwAtS2nQPW25oSLXUfAEg7H-FqTD9LOyMVgTlFDFEJLoMj2nij51yvRRCvYYeQnptrOYR_E",chainConfig={chainNamespace:CHAIN_NAMESPACES.EIP155,chainId:"0x15B32",rpcTarget:"https://spicy-rpc.chiliz.com/",displayName:"Chiliz Spicy Testnet",blockExplorerUrl:"https://testnet.chiliscan.com/",ticker:"CHZ",tickerName:"Ethereum",logo:"https://cryptologos.cc/logos/chiliz-chz-logo.svg?v=002"};function App(){const[tr,er]=reactExports.useState(null),[rr,nr]=reactExports.useState(!1),[ir,or]=reactExports.useState(!1),[sr,ar]=reactExports.useState(null),[cr,lr]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{console.log("Initializing Web3Auth...");const gr=new EthereumPrivateKeyProvider({config:{chainConfig}}),br=new Web3Auth({clientId,web3AuthNetwork:WEB3AUTH_NETWORK.SAPPHIRE_DEVNET,privateKeyProvider:gr}),vr=new CoinbaseAdapter({clientId,sessionTime:3600,chainConfig:{chainNamespace:CHAIN_NAMESPACES.EIP155,chainId:"0xaa36a7",rpcTarget:"https://rpc.ankr.com/eth_sepolia"},web3AuthNetwork:"sapphire_devnet"});br.configureAdapter(vr),await br.initModal(),console.log("Web3Auth modal initialized.");const $r=new WalletServicesPlugin({walletInitOptions:{confirmationStrategy:"modal",whiteLabel:{logoDark:"https://yourdomain.com/path-to-dark-logo.png",logoLight:"https://yourdomain.com/path-to-light-logo.png"}}});if(br.addPlugin($r),lr($r),ar(br),or(!0),br.connected){console.log("Web3Auth already connected.");const Er=br.provider;er(Er),nr(!0)}$r&&$r.on("connected",()=>{console.log("Wallet Services Plugin connected."),nr(!0)})}catch(gr){console.error("Error during initialization:",gr instanceof Error?gr.message:gr)}})()},[]);const ur=async()=>{if(!ir||!sr){console.log("Web3Auth is not initialized yet.");return}console.log("Attempting to login...");try{const dr=await sr.connect();er(dr),cr&&cr.on("connected",()=>{console.log("Wallet Services Plugin connected."),nr(!0)}),nr(!0),console.log("Login successful.")}catch(dr){console.error("Error during login:",dr instanceof Error?dr.message:dr)}},fr=async()=>{sr&&(console.log("Attempting to logout..."),await sr.logout(),er(null),nr(!1),lr(null),console.log("Logged out successfully."))};return jsxRuntimeExports.jsx("div",{children:rr?jsxRuntimeExports.jsx(Main,{provider:tr,logout:fr,walletServicesPlugin:cr}):jsxRuntimeExports.jsx(Login,{onLogin:ur})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));export{bigIntToUnpaddedBytes as A,BIGINT_0$1 as B,validateNoLeadingZeroes as C,BIGINT_8 as D,toType as E,isHexPrefixed$4 as F,intToHex$2 as G,stripHexPrefix$5 as H,eventsExports as I,intToBytes$2 as J,MAX_INTEGER as M,RLP as R,SECP256K1_ORDER_DIV_2 as S,TypeOutput$2 as T,privateToAddress as a,bigIntToBytes$1 as b,generateAddress2 as c,bytesToBigInt$1 as d,equalsBytes as e,bytesToHex$3 as f,generateAddress as g,BIGINT_2 as h,isValidAddress as i,concatBytes$2 as j,setLengthLeft as k,BIGINT_1 as l,BIGINT_27 as m,sha256$1 as n,hexToBytes$4 as o,pubToAddress as p,unpadBytes as q,publicToAddress as r,secp256k1$1 as s,toBytes$3 as t,utf8ToBytes$3 as u,bigIntToHex$3 as v,wrapHash as w,MAX_UINT64 as x,keccak256$2 as y,zeros$1 as z};
